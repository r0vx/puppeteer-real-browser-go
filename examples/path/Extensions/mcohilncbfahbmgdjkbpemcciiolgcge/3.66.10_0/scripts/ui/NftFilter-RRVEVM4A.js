import{a as mt}from"./chunk-UFD2MUZI.js";import"./chunk-CEM2RCMY.js";import"./chunk-SKXNZFRN.js";import{a as ut}from"./chunk-FQQAU2NV.js";import{a as _t}from"./chunk-C5O75IHM.js";import{a as ht}from"./chunk-PIQKWFMY.js";import{a as dt}from"./chunk-WPAZ67JY.js";import{a as ct}from"./chunk-F4VYRO5J.js";import"./chunk-T4RFDN7D.js";import{b as p,i as at}from"./chunk-MWPAA6TC.js";import{b as z}from"./chunk-73HPZW2B.js";import"./chunk-LQBCLW7R.js";import"./chunk-CBHKW7LL.js";import"./chunk-QYDRYMWS.js";import"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3L7K7.js";import{a as ft}from"./chunk-Y5K5NJ6U.js";import{a as st}from"./chunk-Q7FGM7BT.js";import"./chunk-TKE74ERX.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import{a as rt}from"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import{r as I}from"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import{o as nt}from"./chunk-XP3TNE3R.js";import{jc as Vt}from"./chunk-QRHYK2TW.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import{a as Yt}from"./chunk-532YJKK4.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import{c as j}from"./chunk-62ZAND24.js";import{a as K}from"./chunk-SIITVWZR.js";import{Eb as lt,Jb as qt,Ma as it,Na as Wt}from"./chunk-QHXUL3YM.js";import{H as M,y as c,z as $}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{E as et,F as ot,o as R,q as tt,r as T,y as O}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import{I as J,oa as G,ra as Ut}from"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{aa as X,fa as Q,ka as N}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as F}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as m,o as t,q as e}from"./chunk-SHG7TIBL.js";t();e();var l=m(F()),jt=m(Vt()),It=m(Yt()),wt=m(nt()),U=m(K());Ut();M();t();e();var d=m(F());M();t();e();var a={"ok-nft-filter-main":"_ok-nft-filter-main_ihlaj_1",okNftFilterMain:"_ok-nft-filter-main_ihlaj_1","ok-nft-filter-block":"_ok-nft-filter-block_ihlaj_7",okNftFilterBlock:"_ok-nft-filter-block_ihlaj_7","ok-nft-filter-block-title":"_ok-nft-filter-block-title_ihlaj_14",okNftFilterBlockTitle:"_ok-nft-filter-block-title_ihlaj_14","add-weight":"_add-weight_ihlaj_22",addWeight:"_add-weight_ihlaj_22","ok-nft-filter-collections":"_ok-nft-filter-collections_ihlaj_22",okNftFilterCollections:"_ok-nft-filter-collections_ihlaj_22","ok-nft-filter-block-title-collections":"_ok-nft-filter-block-title-collections_ihlaj_25",okNftFilterBlockTitleCollections:"_ok-nft-filter-block-title-collections_ihlaj_25","ok-nft-filter-search-input":"_ok-nft-filter-search-input_ihlaj_28",okNftFilterSearchInput:"_ok-nft-filter-search-input_ihlaj_28","ok-nft-filter-no-collection":"_ok-nft-filter-no-collection_ihlaj_31",okNftFilterNoCollection:"_ok-nft-filter-no-collection_ihlaj_31","ok-nft-filter-search-item":"_ok-nft-filter-search-item_ihlaj_52",okNftFilterSearchItem:"_ok-nft-filter-search-item_ihlaj_52","ok-nft-filter-search-item-popup":"_ok-nft-filter-search-item-popup_ihlaj_62",okNftFilterSearchItemPopup:"_ok-nft-filter-search-item-popup_ihlaj_62","ok-nft-filter-search-icon":"_ok-nft-filter-search-icon_ihlaj_76",okNftFilterSearchIcon:"_ok-nft-filter-search-icon_ihlaj_76","ok-nft-filter-search-name":"_ok-nft-filter-search-name_ihlaj_82",okNftFilterSearchName:"_ok-nft-filter-search-name_ihlaj_82","ok-nft-filter-search-selected":"_ok-nft-filter-search-selected_ihlaj_89",okNftFilterSearchSelected:"_ok-nft-filter-search-selected_ihlaj_89","ok-nft-filter-load-more":"_ok-nft-filter-load-more_ihlaj_95",okNftFilterLoadMore:"_ok-nft-filter-load-more_ihlaj_95"};var Zt=({loading:o,loaded:r,collectionsList:i,searchResult:n,onSearchItemClick:_,loadingMore:g=!1})=>o||!r?d.default.createElement(ct,{overwriteClassName:!0,className:"ok-home--loading-parent"}):i.length===0?d.default.createElement("div",{className:a.okNftFilterNoCollection},d.default.createElement(O.State,{type:O.State.TYPE.noRecord,title:c("wallet_extension_nft_text_no_collection")})):d.default.createElement(d.default.Fragment,null,i.map((f,s)=>d.default.createElement("div",{onClick:()=>{_(f)},key:s,className:a.okNftFilterSearchItem},d.default.createElement("div",{className:a.okNftFilterSearchItemPopup}),d.default.createElement(et,{errorImg:"/static/images/tx-history/default-nft.svg",width:24,height:24,src:f.icon||"/static/images/tx-history/default-nft.svg",className:a.okNftFilterSearchIcon,alt:""}),d.default.createElement(mt,{className:a.okNftFilterSearchName,maxWidth:"270px",text:f.name}),d.default.createElement(T,{checked:n.includes(f.projectId),className:a.okNftFilterSearchSelected}))),d.default.createElement("div",{className:a.okNftFilterLoadMore},g&&d.default.createElement(Q,null))),pt=Zt;t();e();var C=m(F());M();var gt=m(K());t();e();function Jt(o){let{setting:r,onChanged:i}=o,n=f=>s=>{i?.(f,s.target.checked)},_=(f,s,y)=>()=>{let S=R.show({title:f,confirmText:y,children:s,onConfirm:()=>{S.destroy()}});return S};return{settings:[{key:p.hideUnverifiedCollection,checked:r.hideUnverifiedCollection,onChange:n(p.hideUnverifiedCollection)},{key:p.hideManualHidden,checked:r.hideManualHidden,onChange:n(p.hideManualHidden)},{key:p.hideNoValue,checked:r.hideNoValue,onChange:n(p.hideNoValue),onShowDetail:_}]}}var kt=Jt;t();e();var D={[p.hideNoValue]:{title:"extension_wallet_filter_text_donthide_valueless",dialog:{title:"extension_wallet_detail_title_valueless_item",content:"extension_wallet_detail_text_valueless_includes",confirm:"wallet_extension_btn_general_ok"}},[p.hideManualHidden]:{title:"extension_wallet_filter_text_dontshow_autohide"},[p.hideUnverifiedCollection]:{title:"extension_wallet_filter_text_dontshow_unverif"}};t();e();var x={root:"_root_1fans_1",item:"_item_1fans_9",name:"_name_1fans_14",icon:"_icon_1fans_19",checkbox:"_checkbox_1fans_24",dialogContent:"_dialogContent_1fans_28"};function $t(o){let{settings:r}=kt(o);return C.default.createElement(j.Box,{className:x.root},C.default.createElement(I.Text,{size:I.SIZE.md,strong:!0,className:x.title},c("extension_wallet_filter_title_itemfilter")),r.map(i=>{let n=D[i.key].dialog;return C.default.createElement(j.Box,{key:i.key,className:x.item},C.default.createElement(j.Box,{className:x.name},C.default.createElement(I.Text,{size:I.SIZE.sm},c(D[i.key].title)),n&&C.default.createElement(X,{onClick:i.onShowDetail?.(c(n.title),C.default.createElement(j.Box,{className:x.dialogContent},$(n.content)),c(n.confirm)),className:(0,gt.default)("okds-information-circle",x.icon)})),C.default.createElement(T,{checked:i.checked,onChange:i.onChange,className:x.checkbox}))}))}var Nt=$t;t();e();var L=m(F());t();e();var E=m(F()),Ct=m(K());t();e();var w={"ok-button-checkbox-content":"_ok-button-checkbox-content_zlx3l_1",okButtonCheckboxContent:"_ok-button-checkbox-content_zlx3l_1","ok-button-checkbox-item":"_ok-button-checkbox-item_zlx3l_7",okButtonCheckboxItem:"_ok-button-checkbox-item_zlx3l_7","ok-button-checkbox-item-outline":"_ok-button-checkbox-item-outline_zlx3l_32",okButtonCheckboxItemOutline:"_ok-button-checkbox-item-outline_zlx3l_32"};var Xt=({item:o,clickHandle:r,value:i})=>E.default.createElement("div",{className:(0,Ct.default)(w.okButtonCheckboxItem,i.includes(o.value)?w.okButtonCheckboxItemOutline:""),onClick:()=>{r&&r(o.value)}},o.image&&E.default.createElement("img",{src:o.image}),E.default.createElement("span",null,o.label)),xt=Xt;var Qt=({options:o,valueOption:r=[],onChange:i})=>{let n=_=>{i&&i(_)};return L.default.createElement("div",{className:w.okButtonCheckboxContent},o[0]?o.map((_,g)=>L.default.createElement(xt,{key:g,item:_,value:r,clickHandle:n})):L.default.createElement(ot,null))},St=Qt;t();e();var P=m(nt());var bt=m(F());t();e();Wt();qt();var Ft={NotCertified:0,Certified:1},yt=o=>lt(it.getNftCollections,o);var Rt=({searchKeyword:o,projectCertificated:r,hiddenStatus:i,ref:n})=>{let _=(0,P.useDebounce)(o,{wait:500}),{currentNetworkUniqueId:g}=dt(),f=_t(),[s,y]=(0,bt.useState)(!1),{data:S,loading:H,loadingMore:A}=(0,P.useInfiniteScroll)(h=>{let b=h?.nextPageNo??1;return yt({nameSearch:_,pageNo:b,address:f(g).join(","),pageSize:z,projectCertificated:r,hiddenStatus:i,chain:g}).then(B=>({list:B?.data?.list??[],nextPageNo:b*z<B?.data?.total?b+1:void 0}))},{reloadDeps:[_,g,r,i,f],isNoMore:h=>h?.nextPageNo===void 0,target:n,onError(){},onFinally(){y(!0)}});return{list:S?.list?.map(h=>({icon:h.image,name:h.name,chain:h.chain,isIdentification:h.certificateFlag===Ft.Certified,projectId:h.project}))??[],loading:H,loaded:s,ref:n,loadingMore:A}},vt=Rt;var te=()=>{let o=(0,It.useHistory)(),r=(0,l.useRef)(null),{hasCurrentWalletChanged:i,currentWalletSetting:n,setWalletSetting:_,resetWalletSetting:g,formattedCurrentSetting:f}=ut(),{filterInfo:s,changeFilterInfo:y,changeCollectionFilter:S,changeSaleStatusFilter:H,resetFilterInfo:A,resetData:W}=ht(),h=(0,l.useRef)();(0,wt.useMount)(()=>{h.current={currentWalletSetting:n,filterInfo:s}});let b=(0,jt.useSelector)(at).total,B=Object.keys(s).some(u=>s[u].length!==0),Bt=[{label:c("wallet_extension_nft_filter_tag_offer_received"),value:"OFFERS_RECEIVE"},{label:c("wallet_extension_nft_filter_tag_on_sale"),value:"ON_SALE"}],[q,V]=(0,l.useState)(""),Tt=f.projectCertificated,Et=f.hiddenStatus,{list:Lt,loading:Pt,loaded:Ht,loadingMore:At}=vt({projectCertificated:Tt,hiddenStatus:Et,searchKeyword:q,ref:r}),Gt=(0,l.useCallback)(u=>{V(u.target.value)},[]),Mt=u=>{let v=G(s.collectionFilter,[u.projectId]);S(v)},Ot=u=>{let v=G(s.saleStatusFilter,[u]);H(v)},zt=()=>{J({currentWalletSetting:n,filterInfo:s},h.current)||W()},Kt=()=>{A(!0),V(""),g(),setTimeout(()=>{o.goBack()},100)},Y=()=>{zt(),o.push(rt)},Dt=(u,v)=>{y(),_(u,v)},Z=!B&&!i;return l.default.createElement("div",{className:a.okNftFilterMain,ref:r},l.default.createElement(ft,{title:c("wallet_extension_nft_popup_title_filter"),closeable:!1,onBack:Y}),l.default.createElement("div",{className:a.okNftFilterBlock},l.default.createElement("div",{className:a.okNftFilterBlockTitle},c("wallet_extension_nft_filter_status")),l.default.createElement(St,{options:Bt,onChange:u=>{Ot(u)},valueOption:s.saleStatusFilter})),l.default.createElement(Nt,{onChanged:Dt,setting:n}),l.default.createElement("div",{className:(0,U.default)(a.okNftFilterBlock,a.addWeight,a.okNftFilterCollections)},l.default.createElement("div",{className:(0,U.default)(a.okNftFilterBlockTitle,a.okNftFilterBlockTitleCollections)},c("wallet_extension_nft_text_collections")),l.default.createElement(tt.Search,{className:a.okNftFilterSearchInput,placeholder:c("wallet_extension_nft_placeholder_search_collections",{},{useBr:!1}),value:q,size:"sm",onChange:Gt}),l.default.createElement(pt,{loading:Pt,loaded:Ht,loadingMore:At,collectionsList:Lt,searchResult:s.collectionFilter,onSearchItemClick:Mt})),l.default.createElement(st.FooterActions,null,l.default.createElement(N,{category:N.CATEGORY.outline,type:N.TYPE.primary,size:N.SIZE.lg,disabled:Z,onClick:()=>{Kt()}},c("wallet_extension_nft_btn_clear")),l.default.createElement(N,{category:N.CATEGORY.fill,type:N.TYPE.highlight,size:N.SIZE.lg,disabled:Z,onClick:()=>{Y()}},c("wallet_extension_nft_btn_apply",{number:b}))))},Bo=te;export{Bo as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=NftFilter-RRVEVM4A.js.map
