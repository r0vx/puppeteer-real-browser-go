import{d as O}from"./chunk-UHNETIV4.js";import{a as oe,b as xt}from"./chunk-FGIHS4ZF.js";import{c as te}from"./chunk-PPTAKQQT.js";import{k as et}from"./chunk-IFQDHP3Z.js";import{A as st,D as it,G as at,h as tt,n as ot,o as rt,x as nt}from"./chunk-DA5RJYYW.js";import{a as $e,j as Je}from"./chunk-MYNDXPHU.js";import{b as ze}from"./chunk-2E2OBQTS.js";import{a as H,e as je,g as Qe,n as q,u as Ve}from"./chunk-3S4BGA37.js";import{$c as Xe,Lb as We,Mb as qe,Y as Ue,_c as Ye,ab as Ge,bb as He,cb as Ke,md as k}from"./chunk-POP3LIKS.js";import{a as Ze,c as A}from"./chunk-PMRTKWFS.js";import{G as ee,P as Fe,b as De,g as Pe,j as ve,l as Be}from"./chunk-G44PPNNQ.js";import{a as Ee}from"./chunk-SIITVWZR.js";import{A as ke,H as J,b as we,o as Me,y as Te}from"./chunk-XR4SQWL7.js";import{E as de,H as N,a as G,aa as W,j as u,ra as V}from"./chunk-CYTB2B6Q.js";import{D as Oe,aa as fe,fa as he,ka as R}from"./chunk-6M3PZK2X.js";import{b as y}from"./chunk-OL67KS7C.js";import{f as I,h as l,o as i,q as a}from"./chunk-SHG7TIBL.js";i();a();var re=I(y());i();a();var mt=I(y());i();a();var ct=I(y());function lt(){let r=(0,ct.useRef)(!0);return r.current?(r.current=!1,!0):r.current}var pt=(r,e)=>{let o=lt();(0,mt.useEffect)(()=>o?()=>{}:r(),e)};function yt(){let{accountStore:r,fromToStore:e}=A(),{computedAccountId:o,address:t,setFromChainId:s,computedMultiAddresses:n}=r,{from:c,to:m,setBalanceState:p,getSwapTokenBalance:_,computedIsToAddressEqualsCurrentToAddress:f}=e,{amount:T,chainId:h}=c;(0,re.useEffect)(()=>{Ve(h)&&s(h)},[h,s]),(0,re.useEffect)(()=>{_()},[o,_]),(0,re.useEffect)(()=>{p({amount:T,address:t,from:c,to:m})},[T,t,c,m,p,f]),pt(()=>{_()},[n?.targetWalletAddress])}var Qt=yt;i();a();var U=I(y()),Rt=I(Ee());i();a();var _t=I(y());i();a();i();a();var Ie=1,Ae=2,ne=3,se=4,ge=5,ie=7,ae=8,ce=9,le=10,me=11,pe=12;var Jt={[ge]:1,[Ie]:2,[Ae]:3,[ie]:4,[ce]:4,[me]:4,[ne]:4,[ae]:5,[le]:5,[pe]:5,[se]:5};var eo={[ie]:1,[ce]:2,[me]:3,[ne]:4,[ae]:1,[le]:2,[pe]:3,[se]:4};var ut="referrer_page_url_storage_key";var so={[Ie]:"priceMoveAbove",[Ae]:"priceMoveBelow",[ne]:"priceGain24h",[se]:"priceLoss24h",[ge]:"priceReaches",[ie]:"priceGain5m",[ae]:"priceLoss5m",[ce]:"priceGain1H",[le]:"priceLoss1H",[me]:"priceGain4H",[pe]:"priceLoss4H"},io={CEX_CRYPTOPRICE_TOKENDETAILS:"cex_cryptoprice_tokendetails",CEX_HOWTOBUY_TOKENDETAILS:"cex_howtobuy_tokendetails",SWAP_HOME:"swap_home",BRIDGE_HOME:"bridge_home",LIMIT_ORDER_HOME:"limit_order_home",MARKET_HOME:"market_home",MARKET_SEARCH:"market_search",RANKING_SEARCH:"ranking_search",MARKET_HOT_SEARCH:"market_hot_search",MARKET_TRENDING:"market_trending",MARKET_NEWEST:"market_newest",MARKET_TRACKER:"market_tracker",TOKEN_TRADE:"token_trade",TOKEN_DETAILS_SEARCH:"token_details_search",TOKEN_DETAIL_TRENDING:"token_detail_trending",TOKEN_DETAIL_WATCH:"token_detail_watch",TOKEN_DETAIL_HOLDING:"token_detail_holding",MEMEFACTORY:"memefactory",WATCH_LIST:"watch_list",OKXPLUGIN_X:"okxplugin_x",OKXPLUGIN_SOLSCAN:"okxplugin_solscan",VIRTUALS:"virtuals",OTHERS:"others"};var Lt=()=>{let{tokenInfoStore:r}=A(),{computedFormatLatestInfo:e}=r||{},{tokenSymbol:o,tokenContractAddress:t,chainId:s,chainName:n}=e||{},c=(p="")=>{ze.set(ut,p)};return{marketTokenPageClick:(0,_t.useCallback)((p={})=>st({channel_id:s,token_address:t,token_symbol:o,chain_name:n,chain_id:s,...p}),[o,t,s,n]),setReferrer:c}},dt=Lt;i();a();var Y=I(y()),Re=I(Ee());var St=({showIconBg:r=!1,iconName:e="",onClick:o,iconStyle:t,category:s=R.CATEGORY.fill,size:n=R.SIZE.lg,type:c=R.TYPE.gray,iconClassName:m=""})=>r?Y.default.createElement(R,{strictCircle:!0,category:s,type:c,size:n,style:{padding:"0px"},iconType:R.ICON_POSITION.tailing,onClick:o,icon:Y.default.createElement(fe,{className:(0,Re.default)(e,m),style:t})}):Y.default.createElement(we,{onClick:o},Y.default.createElement(fe,{className:(0,Re.default)(e,m),style:t})),ft=St;i();a();var X=I(y());var bt=()=>{let{fromToStore:r={},commonStore:e,accountStore:o}=A(),{computedIsMarket:t,computedIsWalletEnv:s}=e,{address:n}=o,{from:c={},to:m={}}=r,{tokenContractAddress:p,tokenName:_,chainName:f}=c,{tokenContractAddress:T,tokenName:h}=m,E=(0,X.useMemo)(()=>({user_id:n,terminal_type:s?"Extension":"Web",from_token_address:p,from_token_name:_,to_token_address:t?"":T,to_token_name:t?"":h,chain_name:f}),[n,f,t,s,p,_,T,h]),x=(0,X.useCallback)(()=>{(t?nt:tt)(E)},[E,t]),S=(0,X.useCallback)(g=>{let D=t?it:ot,b={...E,content:g};D(b)},[E,t]);return{monitorShareClickEvent:x,monitorCopyClickEvent:S}},ue=bt;i();a();var C=I(y()),It=I(xt()),Ce=I(Ee());i();a();var kt=I(y());i();a();var w=I(y());var Nt=r=>{let{fromToStore:e={},commonStore:o}=A(),{computedIsMarket:t}=o,[s,n]=(0,w.useState)(""),[c,m]=(0,w.useState)(!1),[p,_]=(0,w.useState)(null),{from:f={},to:T={}}=e,{chainId:h,tokenContractAddress:E}=f,{chainId:x,tokenContractAddress:S}=T,g=(0,w.useCallback)(async()=>{m(!0),_(null);let[D,b]=await ee(te.get(Ye,{params:{source:t?1:0,fromTokenAddress:E,toTokenAddress:S,chainId:h}}));if(m(!1),D){_(D);return}n(b?.data?.url)},[t,E,S,h]);return(0,w.useEffect)(()=>{E&&S&&h&&x&&r&&g()},[E,S,h,x,r,g]),(0,w.useMemo)(()=>({shareLink:s,loading:c,error:p,refresh:g}),[s,c,p,g])},ht=Nt;i();a();var M=I(y());var Ot=r=>{let[e,o]=(0,M.useState)(""),[t,s]=(0,M.useState)(!1),[n,c]=(0,M.useState)(null),m=(0,M.useCallback)(async()=>{s(!0),c(null);let{url:p}=new Fe,_=`${p?.pathname}${p?.hash}${p?.search}`,[f,T]=await ee(te.get(Xe,{params:{originalUrl:_}}));if(s(!1),f){c(f);return}o(T?.data?.universalLink||"")},[]);return(0,M.useEffect)(()=>{r&&m()},[r]),(0,M.useMemo)(()=>({shareShortLink:e,shortLoading:t,shortError:n,shortRefresh:m}),[e,t,n,m])},Tt=Ot;var wt=({isShareShortLink:r,visible:e})=>{let{shareLink:o,loading:t,error:s,refresh:n}=ht(!!e&&!r),{shareShortLink:c,shortLoading:m,shortError:p,shortRefresh:_}=Tt(!!e&&r),{tokenInfoStore:f}=A();return(0,kt.useMemo)(()=>{let h=t||s,E={href:Je(o),target:"__blank",icon:"okx-defi-dex-twitter",iconType:R.ICON_POSITION.leading},x=s,S=t,g=k("swaptrade_mid_dialog_header_share_as_blink"),D=k("swaptrade_mid_dialog_btn_share_on_x"),b=n,K=()=>{},be=o;if(r){let{latestInfo:Ne}=f;h=m||p,E={},x=p,S=m,b=_,g=k("swaptrade_market_token_dialog_header_share_link"),D=k("commonall_enterfield_btn_copy_link"),K=()=>{J.success(k("swaptrade_order_info_label_from_copy_success")),$e(c),at({chain_id:Ne?.chainId,token_name:Ne?.tokenName,button_name:"url_share"})},be=c}return{status:h,hrefConfig:E,infoError:x,infoLoading:S,infoRefresh:b,title:g,confirmText:D,displayLink:be,onConfirm:K}},[t,m,s,p,o,c,n,_,r,f])},Et=wt;i();a();var B={"share-button":"_share-button_hlj9x_1",shareButton:"_share-button_hlj9x_1",description:"_description_hlj9x_4",input:"_input_hlj9x_10","copy-button":"_copy-button_hlj9x_15",copyButton:"_copy-button_hlj9x_15",loading:"_loading_hlj9x_18",empty:"_empty_hlj9x_21","copy-container":"_copy-container_hlj9x_24",copyContainer:"_copy-container_hlj9x_24","copy-address":"_copy-address_hlj9x_32",copyAddress:"_copy-address_hlj9x_32"};var Mt=({shareLink:r="",shareBlinkEnable:e=!1,supportShortLink:o=!1})=>{let{monitorCopyClickEvent:t}=ue(),n=o&&!e?"":k("swaptrade_dialog_dialog_title_share_x");return C.default.createElement(C.default.Fragment,null,C.default.createElement("div",{className:B.copyContainer},C.default.createElement("div",{className:B.copyAddress},C.default.createElement("span",{className:"ellipsis"},r)),!o||e?C.default.createElement(It.CopyToClipboard,{text:r,onCopy:()=>{t(r),J.success(k("swaptrade_order_info_label_from_copy_success"))}},C.default.createElement(R,{className:B.copyButton,category:R.CATEGORY.outline,type:R.TYPE.primary,size:R.SIZE.xxs},k("swaptrade_dialog_btn_desc_copy"))):null),n&&C.default.createElement("p",{className:(0,Ce.default)(B.description)},n))},Dt=({visible:r,shareBlinkEnable:e,supportShortLink:o,...t})=>{let n=Et({isShareShortLink:o&&!e,visible:r}),c=()=>n.infoError?C.default.createElement(Te.State,{className:B.empty,type:Te.State.TYPE.noNetwork,title:k("swaptrade_general_emptystate_title_loading_fail"),description:k("swaptrade_general_emptystate_subtitle_network_error"),buttonText:k("swaptrade_recent_transaction_dialog_btn_reload"),onButtonClick:n.infoRefresh}):n.infoLoading?C.default.createElement(he.Circle,{className:(0,Ce.default)(B.loading,"flex justify-center"),size:he.SIZE.xl}):C.default.createElement(Mt,{shareLink:n.displayLink,shareBlinkEnable:e,supportShortLink:o});return C.default.createElement(Me.Confirmation,{title:n.title,hideCloseBtn:!1,onConfirm:n.onConfirm,confirmText:n.status?void 0:n.confirmText,visible:r,width:420,confirmBtnProps:n.status?void 0:{...n.hrefConfig,className:B.shareButton,size:Oe.lg},...t},c())},At=Dt;i();a();var gt={icon:"_icon_m9cj5_1"};var Pt=({iconStyle:r={fontSize:"24px"},iconType:e="okx-defi-nft-share2",iconClassName:o,tooltipProps:t,showIconBg:s=!1,shareBlinkEnable:n,supportShortLink:c})=>{let[m,p]=U.default.useState(!1),{monitorShareClickEvent:_}=ue(),{marketTokenPageClick:f}=dt();return U.default.createElement(U.default.Fragment,null,U.default.createElement(ke,{placement:ke.DIRECTION.bottom,title:c&&!n?k("swaptrade_market_token_tooltips_share_link"):k("swaptrade_mid_dialog_header_share_as_blink"),...t},U.default.createElement(ft,{showIconBg:s,iconName:(0,Rt.default)(e,gt.icon,o),iconStyle:r,onClick:()=>{p(!0),_(),f({share_click:et.point})}})),U.default.createElement(At,{visible:m,onClose:()=>p(!1),shareBlinkEnable:n,supportShortLink:c}))},yr=Pt;i();a();var Ct=I(y());var vt=()=>{let{fromToStore:r={},commonStore:e}=A(),{from:o={},to:t={},computedIsSolanaChain:s}=r,{currentTab:n,computedIsMarket:c}=e,m=n===qe.SWAP,p=c,{chainId:_,tokenContractAddress:f,isHoneypot:T}=o,{chainId:h,tokenContractAddress:E,isHoneypot:x}=t;return(0,Ct.useMemo)(()=>!(!_||!f||!h||!E||T||x||_!==h||!s||!(m||p)),[_,f,h,E,T,x,s,m,p])},wr=vt;i();a();i();a();var P={default:()=>({type:"",title:"",desc:""}),quote:r=>r.error_code===Ge?O["BLACKLIST_ADDRESS"]():r?.error_code===Ke?O["BUY_HONEYPOT"]():O["NETWORK_ERROR"](),sellHoneyport:()=>O["SELL_HONEYPOT"](),leverageToken:(r,e)=>O["LEVERAGE_TOKEN"](r?.tokenSymbol,e?.tokenSymbol),wrongNetwork:r=>O["UNSUPPORTED_CHAIN"]({chainName:r}),feeConfig:()=>O["FEE_CONFIG_ERROR"](),accountErrorTips:()=>O["ACCOUNT_ERROR_TIPS"](),limitRegionTips:()=>O["LIMIT_REGION"]()},Wr={handleQuoteErrorState:({quote:r,honeypotToken:e,hasLeverageToken:o,leverageTokenPair:t=[],shouldShowLimitRegionTip:s})=>{let{quoteError:n}=r;return s?P.limitRegionTips():n?P.quote(n):r?.bestRoute?.code===He?P.sellHoneyport(e.tokenSymbol):o?P.leverageToken(t[0],t[1]):null},handleNetworkErrorState:r=>(rt({type:Ue.SWITCH_WALLET}),P.wrongNetwork(r)),handleDefaultState:()=>P.default(),handleFeeConfigErrorState:()=>P.feeConfig(),handleFacetTokenAccountErrorState:()=>P.accountErrorTips(),handleLimitRegionErrorState:()=>P.limitRegionTips()};i();a();V();i();a();var j=(r,e)=>({networkFeeAmount:r,networkFeeTokenSymbol:e,formattedNetworkFeeAmount:r?`${Qe(r)} ${e}`:"--"}),Q=r=>{let{commonStore:e}=Ze(),{computedNowCurrencySymbol:o,currencyConversion:t}=e;return{networkFeeUsd:r,formattedNetworkFeeUsd:r?je(t(r).toString(),o):"--"}},xe=r=>{let{estimateGasFeeAmount:e,fromNativeTokenSymbol:o,estimateGasFeeAmountUsd:t,bridge:s,fromToken:n,toToken:c,crossChainFee:m,bridgeFeeUsd:p,toSwapFee:_,toNativeTokenSymbol:f,toSwapFeeUsd:T}=r||{},{estimateBridgeFeeAmountUsd:h,estimateBridgeFeeAmount:E,bridgeName:x,bridgeLogoUrl:S,estimateClaimFeeAmount:g,estimateClaimFeeAmountUsd:D}=s||{},b=j(m,s?.crossToToken?.tokenSymbol),K=Q(p);return{from:{chainName:n?.chainName,chainLogo:n?.chainLogoUrl,...j(e,o),...Q(t)},bridge:{bridgeName:x,bridgeLogo:S,...j(E,o),...Q(h),bridgeFeeAmount:b.networkFeeAmount,bridgeFeeTokenSymbol:b.networkFeeTokenSymbol,formattedBridgeFeeAmount:b.formattedNetworkFeeAmount,bridgeFeeUsd:K.networkFeeUsd,formattedBridgeFeeUsd:K.formattedNetworkFeeUsd},to:{chainName:c?.chainName,chainLogo:c?.chainLogoUrl,...j(_,f),...Q(T)},claim:H.gt(g,0)?{chainName:k("swaptrade_bridge_reminder_token_claim_fee"),chainLogo:c?.chainLogoUrl,...j(g,f),...Q(D)}:null}},Bt=()=>{let{quoteStore:r}=A(),{quote:e}=r;return xe(e?.bestRoute)},$r=Bt;i();a();V();i();a();V();i();a();V();i();a();var z=class{constructor(e,o){l(this,"percent","");l(this,"exactPercent","");l(this,"dexRouterPercent","");Object.assign(this,o),this.dexRouterPercent=e}get computedPercent(){return this.percent?q(this.percent,{needZero:!1}):""}get computedExactPercent(){let e=H.BigNumber(this.percent).multipliedBy(this.dexRouterPercent).dividedBy(100);return e.isNaN()?"":q(e.toNumber(),{needZero:!1})}};var Z=class{constructor(e,o,t){l(this,"fromToken",{});l(this,"toToken",{});l(this,"dexQuoteInfoList",[]);let{fromToken:s={},toToken:n={},dexQuoteInfoList:c}=o||{};this.fromToken=s,this.toToken=n,this.dialogHeaderText=t?oe(this.toToken?.tokenSymbol):`${oe(this.fromToken?.tokenSymbol)}/${oe(this.toToken?.tokenSymbol)}`,G(c)&&(this.dexQuoteInfoList=c.map(m=>new z(e,m)))}};var $=class{constructor(e,o){l(this,"percent","");l(this,"router","");l(this,"subRouterList",[]);l(this,"flag","");let{percent:t="",router:s="",flag:n="",subRouterList:c}=e||{};this.percent=t,this.router=s,this.flag=n,G(c)&&(this.subRouterList=c.map(m=>new Z(t,m,o)))}get computedPercent(){return this.percent?q(this.percent,{needZero:!1}):""}};var F=class{constructor(e,o=!1){l(this,"data",[]);G(e)&&(this.data=e.map(t=>new $(t,o)))}};var L={DEFAULT:0,LOADING:1,DISCONNECTION:2,NO_DATA:3,SHOW_DATA:4},v={DISMISS:"0",FROM:"1",BRIDGE:"2",TO:"3"},Le={IN_CHAIN:"0",CROSS_CHAIN:"1"},_e={NORMAL_PERCENT:0,EXACT_PERCENT:1},Se=class{constructor({swapStore:e,fromToStore:o,swapDappStore:t}){l(this,"showEntryForPc",!1);l(this,"isShowShowAll",!0);l(this,"updateIsShowShowAll",(e=!1)=>{this.isShowShowAll=e});l(this,"status",L.LOADING);l(this,"percentType",_e.NORMAL_PERCENT);l(this,"swapType",Le.IN_CHAIN);l(this,"tokenInfo",{dexRouter:{token0:{},token1:{}},fromDexRouter:{token0:{},token1:{}},bridge:{token0:{},token1:{}},toDexRouter:{token0:{},token1:{}}});l(this,"dexRouterList",[]);l(this,"fromDexRouterList",[]);l(this,"toDexRouterToList",[]);l(this,"bridgeRouterList",[]);l(this,"getInfoByMenuType",e=>{if(this.swapType===Le.IN_CHAIN)return{routerList:this.dexRouterList,tokenInfo:this.tokenInfo.dexRouter};switch(e){case v.FROM:return{routerList:this.fromDexRouterList,tokenInfo:this.tokenInfo.fromDexRouter};case v.BRIDGE:return{routerList:this.bridgeRouterList,tokenInfo:this.tokenInfo.bridge};case v.TO:return{routerList:this.toDexRouterToList,tokenInfo:this.tokenInfo.toDexRouter};default:return{routerList:[],tokenInfo:this.tokenInfo.dexRouter}}});l(this,"currentMenu",v.DISMISS);l(this,"menuList",[]);l(this,"showMenuList",!0);l(this,"isCrossBridgeOnly",!1);l(this,"showXRouteModal",We.SWAP);l(this,"subRouterData",null);l(this,"subRouterModal",!1);l(this,"setSubRouterModal",e=>{this.subRouterModal=e});l(this,"dexQuoteInfoListData",[]);l(this,"setDexQuoteInfoListData",e=>{this.dexQuoteInfoListData=e});l(this,"oldRouterModal",!1);l(this,"allGasFee",{});this.fromToStore=o||{},this.quoteStore=e.quoteStore||{},this.swapDappStore=t||{},Be(this,{},{autoBind:!0}),Pe(()=>({isFetchQuoting:this.quoteStore.quote?.isFetchQuoting,bestRoute:this.quoteStore.computedRouterForSmartRouterStore,quoteError:this.quoteStore.quote?.quoteError,quoteNull:this.quoteStore.quote?.quoteNull,fromToken:this.fromToStore.from,toToken:this.fromToStore.to,shouldPauseQuote:this.swapDappStore.computedSupportDappTradeByChain}),({isFetchQuoting:s,bestRoute:n,quoteError:c,quoteNull:m,shouldPauseQuote:p})=>{let _=n?ve(n):{},f=_.commonDexInfo||{},T=p?{}:{...f,..._};this.setStatusByQuote({isFetchQuoting:s,quoteError:c,bestRoute:T,quoteNull:m,shouldPauseQuote:p}),this.updateData(T||{}),this.updateAllGasFee(T||{})},{equals:De.shallow})}setShowEntryForPc(e){this.showEntryForPc=e}setStatus(e){let t=de(L).some(s=>s===e);this.status=t?e:L.DEFAULT}setStatusByQuote({isFetchQuoting:e,quoteError:o,bestRoute:t,quoteNull:s,shouldPauseQuote:n}){if(n){this.setStatus(L.NO_DATA);return}if(!o&&!t&&!s&&H.BigNumber(this.fromToStore?.computedTypedValue).gt(0)){this.setStatus(L.LOADING);return}if(e&&this.status!==L.SHOW_DATA&&this.status!==L.NO_DATA){this.setStatus(L.LOADING);return}if(o){this.setStatus(L.DISCONNECTION);return}if(s&&N(t?.dexRouterList)&&N(t?.fromDexRouterList)&&N(t?.bridge)&&N(t?.toDexRouterToList)){this.setStatus(L.NO_DATA);return}if(!N(t?.dexRouterList)||!N(t?.fromDexRouterList)||!N(t?.bridge)||!N(t?.toDexRouterToList)){this.setStatus(L.SHOW_DATA);return}this.setStatus(L.DEFAULT)}switchPercentType(){this.percentType=this.percentType===_e.NORMAL_PERCENT?_e.EXACT_PERCENT:_e.NORMAL_PERCENT}setSwapType(e){this.swapType=e}updateTokenInfo(e){W(this.tokenInfo,"dexRouter",{token0:this.fromToStore.from||{},token1:this.fromToStore.to||{}}),W(this.tokenInfo,"fromDexRouter",{token0:{...u(e,"fromToken",{}),amountIn:u(e,"fromTokenAmount","")},token1:{...u(e,"fromSwapToTokenInfo",{}),amountOut:u(e,"bridge.bridgeAmountIn","")}}),W(this.tokenInfo,"bridge",{token0:this.isCrossBridgeOnly?{...u(e,"fromToken",{}),amountIn:u(e,"bridge.bridgeAmountIn","")}:{...u(e,"bridge.crossFromToken",{}),amountIn:u(e,"bridge.bridgeAmountIn","")},token1:this.isCrossBridgeOnly?{...u(e,"toToken",{}),amountOut:u(e,"bridge.bridgeAmountOut","")}:{...u(e,"bridge.crossToToken",{}),amountOut:u(e,"bridge.bridgeAmountOut","")}}),W(this.tokenInfo,"toDexRouter",{token0:{...u(e,"toSwapFromTokenInfo",{}),amountIn:u(e,"bridge.bridgeAmountOut","")},token1:{...u(e,"toToken",{}),amountOut:u(e,"receiveAmount","")}})}setDexRouterList(e){this.dexRouterList=new F(e).data}setFromDexRouterList(e){this.fromDexRouterList=new F(e).data}setToDexRouterToList(e){this.toDexRouterToList=new F(e).data}setBridgeRouterList(e,o){let t=(s={},n)=>({...s,tokenSymbol:n,fromBridge:!0});this.bridgeRouterList=new F([{percent:u(o,"percent")||"100",subRouterList:[{dexQuoteInfoList:[{dexName:u(o,"bridgeName"),percent:"100",okLinkUrl:u(o,"fromPoolAddress")}],fromToken:{},toToken:t(u(o,"crossFromToken"),u(o,"fromPoolName"))},{dexQuoteInfoList:[{dexName:u(o,"bridgeName"),percent:"100",okLinkUrl:u(o,"toPoolAddress")}],fromToken:{},toToken:t(u(o,"crossToToken"),u(o,"toPoolName"))}]}],!0).data}checkIsManyQuote(e){if(e.length>1)return!1;let o=e.length>0?u(e,[0,"subRouterList"],[]):[];return o.length>1?!1:u(o,[0,"dexQuoteInfoList","length"])>5}checkIsFewRouter(e){return e.length===1&&u(e,[0,"subRouterList","length"])<3}get computedIsFewRouter(){let{routerList:e}=this.computedCurrentRouter;return this.checkIsFewRouter(e)}get computedIsManyQuoteInfo(){let{routerList:e}=this.computedCurrentRouter;return this.checkIsManyQuote(e)}get computedCurrentRouter(){return this.getInfoByMenuType(this.currentMenu)}setCurrentMenu(e){let t=de(v).some(s=>s===e);this.currentMenu=t?e:v.DISMISS}setMenuListAndCurrentMenu(e,o,t){if(!Array.isArray(e)||N(e))this.showMenuList=!1,this.isCrossBridgeOnly=!1,this.setCurrentMenu(v.DISMISS);else{this.menuList=e.map(n=>({...n,bridge:{...t}}));let s=u(e,[0,"smartRoutingMenuType"]);(!this.showMenuList||this.currentMenu===v.DISMISS||!e.some(n=>u(n,"smartRoutingMenuType")===this.currentMenu))&&this.setCurrentMenu(s),this.isCrossBridgeOnly=e.length===1&&s===v.BRIDGE&&o===Le.CROSS_CHAIN,this.showMenuList=!this.isCrossBridgeOnly}}updateData(e){let{swapType:o,smartRoutingMenuVoList:t,dexRouterList:s,fromDexRouterList:n,bridge:c,toDexRouterToList:m}=e;this.setSwapType(o),this.setMenuListAndCurrentMenu(t,o,c),this.setDexRouterList(s),this.setFromDexRouterList(n),this.setBridgeRouterList(e,c),this.setToDexRouterToList(m),this.updateTokenInfo(e)}setXRouteModal(e){this.showXRouteModal=e}setSubRouterData(e){this.subRouterData=e}setOldRouterModal(e){this.oldRouterModal=e}updateAllGasFee(e){this.allGasFee=xe(e)}};export{Qt as a,io as b,dt as c,ft as d,yr as e,wr as f,P as g,Wr as h,Q as i,xe as j,$r as k,L as l,v as m,Le as n,_e as o,Se as p};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-5GVISFKI.js.map
