import{h as el,i as uf}from"./chunk-RCDPU4LG.js";import{a as Ra}from"./chunk-LW5IYK2L.js";import{a as Yw,b as of,g as af}from"./chunk-2KUTI2VO.js";import{N as Qs}from"./chunk-6527YXTT.js";import{e as Js}from"./chunk-MEH5CVYN.js";import{j as zs}from"./chunk-SMBJ5RJW.js";import{a as Xu,v as Ju}from"./chunk-5XZBGOV7.js";import{a as sf}from"./chunk-RQRUTXST.js";import{a as Qr}from"./chunk-Q6N57RBJ.js";import"./chunk-QHL5OBL4.js";import{a as rf,y as nf}from"./chunk-XUTIJBNA.js";import{a as Bf}from"./chunk-LOILO52X.js";import"./chunk-Q6REWZWR.js";import{a as hi}from"./chunk-XIHJL4UW.js";import{a as If,b as Nf,c as kf}from"./chunk-5NOUDFJN.js";import{a as Ef}from"./chunk-F4VYRO5J.js";import{a as Uf}from"./chunk-BJVEIBU5.js";import{a as Pf}from"./chunk-3FBTFEMV.js";import{a as Zu,d as Qu}from"./chunk-FKISPHB5.js";import{d as il}from"./chunk-4BUNKLOV.js";import{a as Xs}from"./chunk-RIGKKYH2.js";import{a as Sf}from"./chunk-BSCT2WLI.js";import{b as Ys,d as Lf}from"./chunk-AAKTZU4R.js";import{a as Kf}from"./chunk-EFGAB3O3.js";import"./chunk-UNPFRSIN.js";import{g as lf}from"./chunk-623SCK25.js";import"./chunk-STU536TK.js";import{a as Of,b as Mf,c as Rf,d as Df}from"./chunk-LU2QCUPE.js";import{a as ye}from"./chunk-BULMUVKY.js";import{a as Bu}from"./chunk-MRHV2NKN.js";import{i as Zs}from"./chunk-ONWPWBS4.js";import"./chunk-UM2UK5YS.js";import"./chunk-U7FUSLT6.js";import{c as Ta}from"./chunk-WKF2ZHWH.js";import"./chunk-5QHVWW7O.js";import"./chunk-5PDHABUQ.js";import{e as bf}from"./chunk-NPQMAAOH.js";import"./chunk-B3SXRDEQ.js";import{a as xf}from"./chunk-A5XY2FFW.js";import{b as gf,c as wf}from"./chunk-7HRNNJBX.js";import{g as mf}from"./chunk-F6UVHIJV.js";import{S as Ff,a as pi}from"./chunk-ZLJJZYPU.js";import"./chunk-5TNLDTW5.js";import{b as Wf}from"./chunk-LSHLVVX4.js";import"./chunk-36PYO4PJ.js";import"./chunk-636UWIUZ.js";import{a as zu}from"./chunk-H5EE6AS6.js";import{a as jf}from"./chunk-64GFKAIL.js";import{c as tl}from"./chunk-IP56UC5N.js";import{a as qu,b as ju,c as Fu}from"./chunk-34JXWTF5.js";import{a as _f}from"./chunk-JSOLAK4X.js";import{f as nl}from"./chunk-R7LZSAVU.js";import"./chunk-LTLRDXME.js";import"./chunk-RMI6BAM3.js";import"./chunk-AADHEW4J.js";import"./chunk-OK4242CI.js";import"./chunk-6MVL4I6V.js";import{c as ns,d as gs,e as ws,g as Et,h as bs}from"./chunk-E7MGN3V4.js";import"./chunk-YGIVEMKT.js";import"./chunk-T4RFDN7D.js";import{a as Es,qa as xs}from"./chunk-NQAVUB4Q.js";import{b as Af}from"./chunk-IEGAVAV7.js";import"./chunk-V4P2E4SN.js";import"./chunk-DYL77QBO.js";import{e as Jt}from"./chunk-5A3RJQCM.js";import{b as Hf,c as Gf}from"./chunk-QEBIHVR2.js";import{n as Yu}from"./chunk-MWPAA6TC.js";import"./chunk-73HPZW2B.js";import"./chunk-LQBCLW7R.js";import{b as rl}from"./chunk-MN3UHDTX.js";import"./chunk-IJW6HFV5.js";import"./chunk-N2MMFEEK.js";import{a as vf}from"./chunk-JMCNWKNZ.js";import"./chunk-MKDQBVRZ.js";import"./chunk-DA2FCNEZ.js";import{a as de}from"./chunk-TLZRRG7J.js";import"./chunk-ZFFAX2YS.js";import"./chunk-7UDMBSMI.js";import{a as tn,b as se}from"./chunk-7C7MBE2C.js";import{a as St,c as ys,d as _s}from"./chunk-KJWX5V23.js";import{f as ef,j as tf}from"./chunk-KDVER5QK.js";import"./chunk-5CHE7P4E.js";import"./chunk-PD44C7EF.js";import{a as $s,b as Vs}from"./chunk-6K6UF6OE.js";import"./chunk-OKXHAJNT.js";import"./chunk-CBHKW7LL.js";import"./chunk-67F2WFQO.js";import{a as $u,d as Vu}from"./chunk-QYDRYMWS.js";import"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3C5KK.js";import{b as yf}from"./chunk-XZE3L7K7.js";import{b as Tf,d as qf}from"./chunk-NS7RQN2C.js";import{b as Cf}from"./chunk-7IRBVBKW.js";import"./chunk-OS3ZP336.js";import"./chunk-WJ3PVDDF.js";import"./chunk-SRDHWFY4.js";import"./chunk-OVC6PVQJ.js";import"./chunk-7IJVOYMR.js";import{a as vs,b as Ss}from"./chunk-BO5YOOQA.js";import{q as Ks}from"./chunk-QTKQMZ5K.js";import"./chunk-Y5K5NJ6U.js";import"./chunk-UR7XESQE.js";import"./chunk-JABAEAEN.js";import"./chunk-VY2VK2OT.js";import"./chunk-Q7FGM7BT.js";import{b as ae}from"./chunk-TKE74ERX.js";import"./chunk-MONRGJFN.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import"./chunk-IK72BO4I.js";import{$ as Kl,$a as vu,A as xt,Aa as pu,B as _l,Ba as hu,C as bl,Ca as mu,D as vl,Da as gu,E as Sl,Ea as wu,F as El,G as xl,H as Tl,I as Cl,J as Pl,K as Al,L as Il,M as Ol,N as Ml,O as Rl,P as Dl,Q as Nl,Qa as yu,R as kl,S as Ll,T as Wl,U as Ul,V as Bl,Va as _u,W as ql,X as jl,Y as Fl,Z as Hl,_ as Gl,_a as bu,a as fe,aa as $l,ab as Su,b as Je,ba as Vl,c as Yr,ca as Yl,d as ol,da as zl,db as Xr,e as zr,ea as Xl,f as al,fa as Jl,fb as Eu,g as sl,ga as Zl,gb as xu,h as ll,ha as Ql,hb as Tu,i as ul,ia as eu,ib as Cu,j as fl,ja as tu,jb as Pu,ka as ru,kb as Au,l as dl,la as nu,lb as Iu,m as cl,ma as iu,mb as Ou,n as pl,na as ou,nb as Mu,oa as au,ob as Ru,pa as ci,qa as su,ra as lu,sa as uu,tb as Du,ub as Nu,v as hl,vb as ku,w as ml,wa as fu,wb as Lu,x as gl,xb as Wu,y as wl,ya as du,yb as Uu,z as yl,za as cu}from"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import{b as Hu,c as Gu,d as Ku,e as Jr}from"./chunk-V34MB2FG.js";import{o as Xt}from"./chunk-XP3TNE3R.js";import{Ab as ds,Cb as xe,Kb as cs,N as bt,Pb as ps,R as ss,Tb as hs,Ub as ms,jc as ee,qb as us,rb as fs,yb as vt,zb as $r}from"./chunk-QRHYK2TW.js";import"./chunk-PODZSVO7.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import{a as we}from"./chunk-532YJKK4.js";import{a as Bs,b as sy,c as Vr,d as qs,e as ly,h as js,i as di,k as Fs,m as Hs,p as Gs}from"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import{G as ks,H as Ls,R as Ws,S as Us,U as ay,b as Ts,e as Cs,f as Ps,g as As,h as Is,i as Os,j as Ms,k as Rs,n as Ds,o as Ns}from"./chunk-M6J3OOFH.js";import{a as Vw,g as is,i as os,j as iy,k as Xe,l as Kr}from"./chunk-ZDOH3CEJ.js";import{a as ls,c as Re,e as zt}from"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-NU4UJZBB.js";import"./chunk-2FDQIA7D.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import{a as df,c as cf,d as pf,f as hf}from"./chunk-AVC4ODUV.js";import{b as en}from"./chunk-RJ3YTAFM.js";import{a as Zr}from"./chunk-OCAFSBNZ.js";import{c as mi}from"./chunk-62ZAND24.js";import{a as ff}from"./chunk-SIITVWZR.js";import{Ab as Yt,Bb as za,Cb as Xa,Db as Ja,Dd as as,Eb as Za,Fb as Qa,G as oi,Gb as es,Hb as ts,I as _t,Ia as Ua,Ib as rs,Ja as Jw,Jb as fi,Ka as ey,Ma as Gr,Na as Ha,Pd as oy,Qa as Ga,Ra as Ka,Sa as $a,a as Ve,b as Lr,c as Ye,d as pe,e as ze,f as ei,g as Me,j as ti,ja as Fr,ka as Xw,la as me,m as va,n as Sa,p as Ea,pa as La,pb as Va,q as xa,qa as Wa,qb as ry,r as Ht,ra as Kt,rb as ui,s as ri,t as Br,u as qr,v as Da,w as ii,wb as ny,x as jr,y as Na,yb as Ya,z as ka}from"./chunk-QHXUL3YM.js";import{A as Ma,B as G,H as he,c as Pa,n as Aa,q as Ia,w as Oa,y as I}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{D as ja,G as oe,H as Fa,I as Vt,a as Zw,b as ai,c as Ba,d as qa,h as si,k as Hr,o as ge,r as li,y as Ee}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-NNUMMJQC.js";import"./chunk-Z3JMRMVO.js";import{f as Wr,j as Gt,n as Ca,ra as Ur}from"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{C as $t,ka as Q}from"./chunk-6M3PZK2X.js";import{a as Qw}from"./chunk-TPIKSUHH.js";import{b as C}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import{b as ni}from"./chunk-SQUZDCA6.js";import{a as ty}from"./chunk-2EEW2VNF.js";import{a as zw}from"./chunk-M7TGNNR7.js";import"./chunk-TLR6EQX6.js";import"./chunk-FQLRWF7X.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-VYKQ62AB.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-KTFU3F6C.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import{a as X,b as wt,c as $e,d as J,q as yt,r as Qn}from"./chunk-3C4MEE67.js";import{d as Zn}from"./chunk-R4BHRBC7.js";import{c as x,f as m,h as Ke,n as process,o as a,p as f,q as s}from"./chunk-SHG7TIBL.js";var Vf=x((GE,$f)=>{a();s();var uy={}.toString;$f.exports=Array.isArray||function(e){return uy.call(e)=="[object Array]"}});var gi=x((VE,Yf)=>{a();s();Yf.exports=wt().EventEmitter});var Zt=x((wi,Xf)=>{a();s();var rn=Zn(),De=rn.Buffer;function zf(e,t){for(var r in e)t[r]=e[r]}De.from&&De.alloc&&De.allocUnsafe&&De.allocUnsafeSlow?Xf.exports=rn:(zf(rn,wi),wi.Buffer=Tt);function Tt(e,t,r){return De(e,t,r)}zf(De,Tt);Tt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return De(e,t,r)};Tt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=De(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};Tt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return De(e)};Tt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return rn.SlowBuffer(e)}});var Zf=x((ZE,yi)=>{"use strict";a();s();function fy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Jf=Zt().Buffer,Qt=yt();function dy(e,t,r){e.copy(t,r)}yi.exports=function(){function e(){fy(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return Jf.alloc(0);if(this.length===1)return this.head.data;for(var n=Jf.allocUnsafe(r>>>0),i=this.head,o=0;i;)dy(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();Qt&&Qt.inspect&&Qt.inspect.custom&&(yi.exports.prototype[Qt.inspect.custom]=function(){var e=Qt.inspect({length:this.length});return this.constructor.name+" "+e})});var _i=x((tx,td)=>{"use strict";a();s();var Qf=$e();function cy(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&Qf.nextTick(ed,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(Qf.nextTick(ed,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function py(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function ed(e,t){e.emit("error",t)}td.exports={destroy:cy,undestroy:py}});var vi=x((ix,ud)=>{"use strict";a();s();var ft=$e();ud.exports=B;function nd(e){var t=this;this.next=null,this.entry=null,this.finish=function(){My(t,e)}}var hy=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:ft.nextTick,Ct;B.WritableState=tr;var id=Object.create(J());id.inherits=X();var my={deprecate:Qn()},od=gi(),on=Zt().Buffer,gy=globalThis.Uint8Array||function(){};function wy(e){return on.from(e)}function yy(e){return on.isBuffer(e)||e instanceof gy}var ad=_i();id.inherits(B,od);function _y(){}function tr(e,t){Ct=Ct||dt(),e=e||{};var r=t instanceof Ct;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=e.decodeStrings===!1;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){Cy(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new nd(this)}tr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(tr.prototype,"buffer",{get:my.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var nn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(nn=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(e){return nn.call(this,e)?!0:this!==B?!1:e&&e._writableState instanceof tr}})):nn=function(e){return e instanceof this};function B(e){if(Ct=Ct||dt(),!nn.call(B,this)&&!(this instanceof Ct))return new B(e);this._writableState=new tr(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),od.call(this)}B.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function by(e,t){var r=new Error("write after end");e.emit("error",r),ft.nextTick(t,r)}function vy(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),ft.nextTick(n,o),i=!1),i}B.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&yy(e);return o&&!on.isBuffer(e)&&(e=wy(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=_y),n.ended?by(this,r):(o||vy(this,n,e,r))&&(n.pendingcb++,i=Ey(this,n,o,e,t,r)),i};B.prototype.cork=function(){var e=this._writableState;e.corked++};B.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&sd(this,e))};B.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function Sy(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=on.from(t,r)),t}Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Ey(e,t,r,n,i,o){if(!r){var l=Sy(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var p=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},p?p.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else bi(e,t,!1,u,n,i,o);return d}function bi(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function xy(e,t,r,n,i){--t.pendingcb,r?(ft.nextTick(i,n),ft.nextTick(er,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),er(e,t))}function Ty(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function Cy(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(Ty(r),t)xy(e,r,n,t,i);else{var o=ld(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&sd(e,r),n?hy(rd,e,r,o,i):rd(e,r,o,i)}}function rd(e,t,r,n){r||Py(e,t),t.pendingcb--,n(),er(e,t)}function Py(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function sd(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,bi(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new nd(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,p=r.encoding,v=r.callback,b=t.objectMode?1:d.length;if(bi(e,t,!1,b,d,p,v),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}B.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};B.prototype._writev=null;B.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Oy(this,n,r)};function ld(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function Ay(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),er(e,t)})}function Iy(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,ft.nextTick(Ay,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function er(e,t){var r=ld(t);return r&&(Iy(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function Oy(e,t,r){t.ending=!0,er(e,t),r&&(t.finished?ft.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function My(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(B.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});B.prototype.destroy=ad.destroy;B.prototype._undestroy=ad.undestroy;B.prototype._destroy=function(e,t){this.end(),t(e)}});var dt=x((sx,pd)=>{"use strict";a();s();var fd=$e(),Ry=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};pd.exports=Ne;var dd=Object.create(J());dd.inherits=X();var cd=xi(),Ei=vi();dd.inherits(Ne,cd);for(Si=Ry(Ei.prototype),an=0;an<Si.length;an++)sn=Si[an],Ne.prototype[sn]||(Ne.prototype[sn]=Ei.prototype[sn]);var Si,sn,an;function Ne(e){if(!(this instanceof Ne))return new Ne(e);cd.call(this,e),Ei.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",Dy)}Object.defineProperty(Ne.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Dy(){this.allowHalfOpen||this._writableState.ended||fd.nextTick(Ny,this)}function Ny(e){e.end()}Object.defineProperty(Ne.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Ne.prototype._destroy=function(e,t){this.push(null),this.end(),fd.nextTick(t,e)}});var Pi=x(md=>{"use strict";a();s();var Ci=Zt().Buffer,hd=Ci.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ky(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Ly(e){var t=ky(e);if(typeof t!="string"&&(Ci.isEncoding===hd||!hd(e)))throw new Error("Unknown encoding: "+e);return t||e}md.StringDecoder=rr;function rr(e){this.encoding=Ly(e);var t;switch(this.encoding){case"utf16le":this.text=Fy,this.end=Hy,t=4;break;case"utf8":this.fillLast=By,t=4;break;case"base64":this.text=Gy,this.end=Ky,t=3;break;default:this.write=$y,this.end=Vy;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Ci.allocUnsafe(t)}rr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};rr.prototype.end=jy;rr.prototype.text=qy;rr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function Ti(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function Wy(e,t,r){var n=t.length-1;if(n<r)return 0;var i=Ti(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=Ti(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=Ti(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Uy(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function By(e){var t=this.lastTotal-this.lastNeed,r=Uy(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function qy(e,t){var r=Wy(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function jy(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function Fy(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Hy(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Gy(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Ky(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function $y(e){return e.toString(this.encoding)}function Vy(e){return e&&e.length?this.write(e):""}});var xi=x((hx,Pd)=>{"use strict";a();s();var At=$e();Pd.exports=N;var Yy=Vf(),nr;N.ReadableState=Sd;var px=wt().EventEmitter,_d=function(e,t){return e.listeners(t).length},Ri=gi(),ir=Zt().Buffer,zy=globalThis.Uint8Array||function(){};function Xy(e){return ir.from(e)}function Jy(e){return ir.isBuffer(e)||e instanceof zy}var bd=Object.create(J());bd.inherits=X();var Ai=yt(),O=void 0;Ai&&Ai.debuglog?O=Ai.debuglog("stream"):O=function(){};var Zy=Zf(),vd=_i(),Pt;bd.inherits(N,Ri);var Ii=["error","close","destroy","pause","resume"];function Qy(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Yy(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Sd(e,t){nr=nr||dt(),e=e||{};var r=t instanceof nr;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Zy,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Pt||(Pt=Pi().StringDecoder),this.decoder=new Pt(e.encoding),this.encoding=e.encoding)}function N(e){if(nr=nr||dt(),!(this instanceof N))return new N(e);this._readableState=new Sd(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Ri.call(this)}Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});N.prototype.destroy=vd.destroy;N.prototype._undestroy=vd.undestroy;N.prototype._destroy=function(e,t){this.push(null),t(e)};N.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=ir.from(e,t),t=""),n=!0),Ed(this,e,t,!1,n)};N.prototype.unshift=function(e){return Ed(this,e,null,!0,!1)};function Ed(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,n_(e,o);else{var l;i||(l=e_(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==ir.prototype&&(t=Xy(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Oi(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?Oi(e,o,t,!1):xd(e,o)):Oi(e,o,t,!1))):n||(o.reading=!1)}return t_(o)}function Oi(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&ln(e)),xd(e,t)}function e_(e,t){var r;return!Jy(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function t_(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}N.prototype.isPaused=function(){return this._readableState.flowing===!1};N.prototype.setEncoding=function(e){return Pt||(Pt=Pi().StringDecoder),this._readableState.decoder=new Pt(e),this._readableState.encoding=e,this};var gd=8388608;function r_(e){return e>=gd?e=gd:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function wd(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=r_(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}N.prototype.read=function(e){O("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return O("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Mi(this):ln(this),null;if(e=wd(e,t),e===0&&t.ended)return t.length===0&&Mi(this),null;var n=t.needReadable;O("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,O("length less than watermark",n)),t.ended||t.reading?(n=!1,O("reading or ended",n)):n&&(O("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=wd(r,t)));var i;return e>0?i=Td(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Mi(this)),i!==null&&this.emit("data",i),i};function n_(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,ln(e)}}function ln(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(O("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?At.nextTick(yd,e):yd(e))}function yd(e){O("emit readable"),e.emit("readable"),Di(e)}function xd(e,t){t.readingMore||(t.readingMore=!0,At.nextTick(i_,e,t))}function i_(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(O("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}N.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};N.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,O("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:y;n.endEmitted?At.nextTick(o):r.once("end",o),e.on("unpipe",l);function l(_,T){O("onunpipe"),_===r&&T&&T.hasUnpiped===!1&&(T.hasUnpiped=!0,v())}function u(){O("onend"),e.end()}var d=o_(r);e.on("drain",d);var p=!1;function v(){O("cleanup"),e.removeListener("close",A),e.removeListener("finish",g),e.removeListener("drain",d),e.removeListener("error",E),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",S),p=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var b=!1;r.on("data",S);function S(_){O("ondata"),b=!1;var T=e.write(_);T===!1&&!b&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Cd(n.pipes,e)!==-1)&&!p&&(O("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,b=!0),r.pause())}function E(_){O("onerror",_),y(),e.removeListener("error",E),_d(e,"error")===0&&e.emit("error",_)}Qy(e,"error",E);function A(){e.removeListener("finish",g),y()}e.once("close",A);function g(){O("onfinish"),e.removeListener("close",A),y()}e.once("finish",g);function y(){O("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(O("pipe resume"),r.resume()),e};function o_(e){return function(){var t=e._readableState;O("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&_d(e,"data")&&(t.flowing=!0,Di(e))}}N.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Cd(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};N.prototype.on=function(e,t){var r=Ri.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&ln(this):At.nextTick(a_,this))}return r};N.prototype.addListener=N.prototype.on;function a_(e){O("readable nexttick read 0"),e.read(0)}N.prototype.resume=function(){var e=this._readableState;return e.flowing||(O("resume"),e.flowing=!0,s_(this,e)),this};function s_(e,t){t.resumeScheduled||(t.resumeScheduled=!0,At.nextTick(l_,e,t))}function l_(e,t){t.reading||(O("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Di(e),t.flowing&&!t.reading&&e.read(0)}N.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Di(e){var t=e._readableState;for(O("flow",t.flowing);t.flowing&&e.read()!==null;);}N.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(O("wrapped end"),r.decoder&&!r.ended){var l=r.decoder.end();l&&l.length&&t.push(l)}t.push(null)}),e.on("data",function(l){if(O("wrapped data"),r.decoder&&(l=r.decoder.write(l)),!(r.objectMode&&l==null)&&!(!r.objectMode&&(!l||!l.length))){var u=t.push(l);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<Ii.length;o++)e.on(Ii[o],this.emit.bind(this,Ii[o]));return this._read=function(l){O("wrapped _read",l),n&&(n=!1,e.resume())},this};Object.defineProperty(N.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});N._fromList=Td;function Td(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=u_(e,t.buffer,t.decoder),r}function u_(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?f_(e,t):d_(e,t),n}function f_(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function d_(e,t){var r=ir.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function Mi(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,At.nextTick(c_,t,e))}function c_(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Cd(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Ni=x((wx,Od)=>{"use strict";a();s();Od.exports=ke;var un=dt(),Id=Object.create(J());Id.inherits=X();Id.inherits(ke,un);function p_(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ke(e){if(!(this instanceof ke))return new ke(e);un.call(this,e),this._transformState={afterTransform:p_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",h_)}function h_(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){Ad(e,t,r)}):Ad(this,null,null)}ke.prototype.push=function(e,t){return this._transformState.needTransform=!1,un.prototype.push.call(this,e,t)};ke.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};ke.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ke.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};ke.prototype._destroy=function(e,t){var r=this;un.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Ad(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var Nd=x((bx,Dd)=>{"use strict";a();s();Dd.exports=or;var Md=Ni(),Rd=Object.create(J());Rd.inherits=X();Rd.inherits(or,Md);function or(e){if(!(this instanceof or))return new or(e);Md.call(this,e)}or.prototype._transform=function(e,t,r){r(null,e)}});var Ld=x((Te,kd)=>{a();s();Te=kd.exports=xi();Te.Stream=Te;Te.Readable=Te;Te.Writable=vi();Te.Duplex=dt();Te.Transform=Ni();Te.PassThrough=Nd()});var Ud=x((Tx,Wi)=>{a();s();var Wd=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);Wd?(ki=new Uint8Array(16),Wi.exports=function(){return Wd(ki),ki}):(Li=new Array(16),Wi.exports=function(){for(var t=0,r;t<16;t++)(t&3)===0&&(r=Math.random()*4294967296),Li[t]=r>>>((t&3)<<3)&255;return Li});var ki,Li});var jd=x((Ax,qd)=>{a();s();var Bd=[];for(ar=0;ar<256;++ar)Bd[ar]=(ar+256).toString(16).substr(1);var ar;function m_(e,t){var r=t||0,n=Bd;return[n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],"-",n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]],n[e[r++]]].join("")}qd.exports=m_});var Hd=x((Mx,Fd)=>{a();s();var g_=Ud(),w_=jd();function y_(e,t,r){var n=t&&r||0;typeof e=="string"&&(t=e==="binary"?new Array(16):null,e=null),e=e||{};var i=e.random||(e.rng||g_)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t)for(var o=0;o<16;++o)t[n+o]=i[o];return t||w_(i)}Fd.exports=y_});var $d=x((Nx,Kd)=>{a();s();var Gd=Ld().Duplex,__=yt().inherits,b_=Hd();Kd.exports=Ze;__(Ze,Gd);function Ze(){Gd.call(this,{objectMode:!0}),this._payloads={}}Ze.prototype.send=function(e){throw new Error('StreamProvider - does not support synchronous RPC calls. called: "'+e.method+'"')};Ze.prototype.sendAsync=function(e,t){let r=e.id,n=b_();if(e.id=n,Array.isArray(e)&&e.length===0)return t(null,[]);this._payloads[n]=[t,r],this.push(e)};Ze.prototype.isConnected=function(){return!0};Ze.prototype._onResponse=function(e){let t=e.id,r=this._payloads[t];if(!r)throw new Error(`StreamProvider - Unknown response id for response: ${e}`);delete this._payloads[t];let n=r[0];e.id=r[1],setTimeout(function(){n(null,e)})};Ze.prototype._read=v_;Ze.prototype._write=function(e,t,r){this._onResponse(e),r()};function v_(){}});var sr=x((Wx,Ui)=>{"use strict";a();s();!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?Ui.exports=S_:Ui.exports=process.nextTick;function S_(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,l;switch(i){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,r)});case 4:return process.nextTick(function(){e.call(null,t,r,n)});default:for(o=new Array(i-1),l=0;l<o.length;)o[l++]=arguments[l];return process.nextTick(function(){e.apply(null,o)})}}});var Yd=x((qx,Vd)=>{a();s();var E_={}.toString;Vd.exports=Array.isArray||function(e){return E_.call(e)=="[object Array]"}});var Bi=x((Hx,zd)=>{a();s();zd.exports=wt().EventEmitter});var lr=x((qi,Jd)=>{a();s();var fn=Zn(),Le=fn.Buffer;function Xd(e,t){for(var r in e)t[r]=e[r]}Le.from&&Le.alloc&&Le.allocUnsafe&&Le.allocUnsafeSlow?Jd.exports=fn:(Xd(fn,qi),qi.Buffer=It);function It(e,t,r){return Le(e,t,r)}Xd(Le,It);It.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Le(e,t,r)};It.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Le(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};It.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Le(e)};It.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return fn.SlowBuffer(e)}});var ec=x((Yx,Qd)=>{"use strict";a();s();function x_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Zd=lr().Buffer;function T_(e,t,r){e.copy(t,r)}Qd.exports=function(){function e(){x_(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return Zd.alloc(0);if(this.length===1)return this.head.data;for(var n=Zd.allocUnsafe(r>>>0),i=this.head,o=0;i;)T_(i.data,n,o),o+=i.data.length,i=i.next;return n},e}()});var ji=x((Jx,nc)=>{"use strict";a();s();var tc=sr();function C_(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;if(n||i){t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&tc(rc,this,e);return}this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(tc(rc,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)})}function P_(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function rc(e,t){e.emit("error",t)}nc.exports={destroy:C_,undestroy:P_}});var Hi=x((eT,dc)=>{"use strict";a();s();var ct=sr();dc.exports=F;function oc(e){var t=this;this.next=null,this.entry=null,this.finish=function(){K_(t,e)}}var A_=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:ct,Ot;F.WritableState=fr;var ac=J();ac.inherits=X();var I_={deprecate:Qn()},sc=Bi(),cn=lr().Buffer,O_=globalThis.Uint8Array||function(){};function M_(e){return cn.from(e)}function R_(e){return cn.isBuffer(e)||e instanceof O_}var lc=ji();ac.inherits(F,sc);function D_(){}function fr(e,t){Ot=Ot||pt(),e=e||{},this.objectMode=!!e.objectMode,t instanceof Ot&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=e.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(o){q_(t,o)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new oc(this)}fr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(fr.prototype,"buffer",{get:I_.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var dn;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(dn=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(e){return dn.call(this,e)?!0:e&&e._writableState instanceof fr}})):dn=function(e){return e instanceof this};function F(e){if(Ot=Ot||pt(),!dn.call(F,this)&&!(this instanceof Ot))return new F(e);this._writableState=new fr(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),sc.call(this)}F.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function N_(e,t){var r=new Error("write after end");e.emit("error",r),ct(t,r)}function k_(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),ct(n,o),i=!1),i}F.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=R_(e)&&!n.objectMode;return o&&!cn.isBuffer(e)&&(e=M_(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=D_),n.ended?N_(this,r):(o||k_(this,n,e,r))&&(n.pendingcb++,i=W_(this,n,o,e,t,r)),i};F.prototype.cork=function(){var e=this._writableState;e.corked++};F.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&uc(this,e))};F.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function L_(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=cn.from(t,r)),t}function W_(e,t,r,n,i,o){if(!r){var l=L_(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var p=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},p?p.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else Fi(e,t,!1,u,n,i,o);return d}function Fi(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function U_(e,t,r,n,i){--t.pendingcb,r?(ct(i,n),ct(ur,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),ur(e,t))}function B_(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function q_(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(B_(r),t)U_(e,r,n,t,i);else{var o=fc(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&uc(e,r),n?A_(ic,e,r,o,i):ic(e,r,o,i)}}function ic(e,t,r,n){r||j_(e,t),t.pendingcb--,n(),ur(e,t)}function j_(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function uc(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,Fi(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new oc(t)}else{for(;r;){var d=r.chunk,p=r.encoding,v=r.callback,b=t.objectMode?1:d.length;if(Fi(e,t,!1,b,d,p,v),r=r.next,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=r,t.bufferProcessing=!1}F.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};F.prototype._writev=null;F.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&G_(this,n,r)};function fc(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function F_(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),ur(e,t)})}function H_(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,ct(F_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function ur(e,t){var r=fc(t);return r&&(H_(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function G_(e,t,r){t.ending=!0,ur(e,t),r&&(t.finished?ct(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function K_(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});F.prototype.destroy=lc.destroy;F.prototype._undestroy=lc.undestroy;F.prototype._destroy=function(e,t){this.end(),t(e)}});var pt=x((nT,gc)=>{"use strict";a();s();var pc=sr(),$_=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};gc.exports=Qe;var hc=J();hc.inherits=X();var mc=Ki(),Gi=Hi();hc.inherits(Qe,mc);var cc=$_(Gi.prototype);for(pn=0;pn<cc.length;pn++)hn=cc[pn],Qe.prototype[hn]||(Qe.prototype[hn]=Gi.prototype[hn]);var hn,pn;function Qe(e){if(!(this instanceof Qe))return new Qe(e);mc.call(this,e),Gi.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",V_)}function V_(){this.allowHalfOpen||this._writableState.ended||pc(Y_,this)}function Y_(e){e.end()}Object.defineProperty(Qe.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});Qe.prototype._destroy=function(e,t){this.push(null),this.end(),pc(t,e)}});var Yi=x(yc=>{"use strict";a();s();var Vi=lr().Buffer,wc=Vi.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function z_(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function X_(e){var t=z_(e);if(typeof t!="string"&&(Vi.isEncoding===wc||!wc(e)))throw new Error("Unknown encoding: "+e);return t||e}yc.StringDecoder=dr;function dr(e){this.encoding=X_(e);var t;switch(this.encoding){case"utf16le":this.text=rb,this.end=nb,t=4;break;case"utf8":this.fillLast=Q_,t=4;break;case"base64":this.text=ib,this.end=ob,t=3;break;default:this.write=ab,this.end=sb;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Vi.allocUnsafe(t)}dr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};dr.prototype.end=tb;dr.prototype.text=eb;dr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function $i(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:-1}function J_(e,t,r){var n=t.length-1;if(n<r)return 0;var i=$i(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r?0:(i=$i(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r?0:(i=$i(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Z_(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD".repeat(r);if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD".repeat(r+1);if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD".repeat(r+2)}}function Q_(e){var t=this.lastTotal-this.lastNeed,r=Z_(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function eb(e,t){var r=J_(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function tb(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD".repeat(this.lastTotal-this.lastNeed):t}function rb(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function nb(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function ib(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function ob(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function ab(e){return e.toString(this.encoding)}function sb(e){return e&&e.length?this.write(e):""}});var Ki=x((fT,Oc)=>{"use strict";a();s();var Rt=sr();Oc.exports=L;var lb=Yd(),cr;L.ReadableState=Tc;var uT=wt().EventEmitter,Sc=function(e,t){return e.listeners(t).length},Qi=Bi(),pr=lr().Buffer,ub=globalThis.Uint8Array||function(){};function fb(e){return pr.from(e)}function db(e){return pr.isBuffer(e)||e instanceof ub}var Ec=J();Ec.inherits=X();var zi=yt(),M=void 0;zi&&zi.debuglog?M=zi.debuglog("stream"):M=function(){};var cb=ec(),xc=ji(),Mt;Ec.inherits(L,Qi);var Xi=["error","close","destroy","pause","resume"];function pb(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):lb(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function Tc(e,t){cr=cr||pt(),e=e||{},this.objectMode=!!e.objectMode,t instanceof cr&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var r=e.highWaterMark,n=this.objectMode?16:16*1024;this.highWaterMark=r||r===0?r:n,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new cb,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Mt||(Mt=Yi().StringDecoder),this.decoder=new Mt(e.encoding),this.encoding=e.encoding)}function L(e){if(cr=cr||pt(),!(this instanceof L))return new L(e);this._readableState=new Tc(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Qi.call(this)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});L.prototype.destroy=xc.destroy;L.prototype._undestroy=xc.undestroy;L.prototype._destroy=function(e,t){this.push(null),t(e)};L.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=pr.from(e,t),t=""),n=!0),Cc(this,e,t,!1,n)};L.prototype.unshift=function(e){return Cc(this,e,null,!0,!1)};function Cc(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,wb(e,o);else{var l;i||(l=hb(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==pr.prototype&&(t=fb(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):Ji(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?Ji(e,o,t,!1):Pc(e,o)):Ji(e,o,t,!1))):n||(o.reading=!1)}return mb(o)}function Ji(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&mn(e)),Pc(e,t)}function hb(e,t){var r;return!db(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function mb(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}L.prototype.isPaused=function(){return this._readableState.flowing===!1};L.prototype.setEncoding=function(e){return Mt||(Mt=Yi().StringDecoder),this._readableState.decoder=new Mt(e),this._readableState.encoding=e,this};var _c=8388608;function gb(e){return e>=_c?e=_c:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function bc(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=gb(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}L.prototype.read=function(e){M("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return M("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Zi(this):mn(this),null;if(e=bc(e,t),e===0&&t.ended)return t.length===0&&Zi(this),null;var n=t.needReadable;M("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,M("length less than watermark",n)),t.ended||t.reading?(n=!1,M("reading or ended",n)):n&&(M("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=bc(r,t)));var i;return e>0?i=Ac(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Zi(this)),i!==null&&this.emit("data",i),i};function wb(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,mn(e)}}function mn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(M("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Rt(vc,e):vc(e))}function vc(e){M("emit readable"),e.emit("readable"),eo(e)}function Pc(e,t){t.readingMore||(t.readingMore=!0,Rt(yb,e,t))}function yb(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(M("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}L.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};L.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,M("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:y;n.endEmitted?Rt(o):r.once("end",o),e.on("unpipe",l);function l(_,T){M("onunpipe"),_===r&&T&&T.hasUnpiped===!1&&(T.hasUnpiped=!0,v())}function u(){M("onend"),e.end()}var d=_b(r);e.on("drain",d);var p=!1;function v(){M("cleanup"),e.removeListener("close",A),e.removeListener("finish",g),e.removeListener("drain",d),e.removeListener("error",E),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",S),p=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var b=!1;r.on("data",S);function S(_){M("ondata"),b=!1;var T=e.write(_);T===!1&&!b&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Ic(n.pipes,e)!==-1)&&!p&&(M("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,b=!0),r.pause())}function E(_){M("onerror",_),y(),e.removeListener("error",E),Sc(e,"error")===0&&e.emit("error",_)}pb(e,"error",E);function A(){e.removeListener("finish",g),y()}e.once("close",A);function g(){M("onfinish"),e.removeListener("close",A),y()}e.once("finish",g);function y(){M("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(M("pipe resume"),r.resume()),e};function _b(e){return function(){var t=e._readableState;M("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Sc(e,"data")&&(t.flowing=!0,eo(e))}}L.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Ic(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};L.prototype.on=function(e,t){var r=Qi.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&mn(this):Rt(bb,this))}return r};L.prototype.addListener=L.prototype.on;function bb(e){M("readable nexttick read 0"),e.read(0)}L.prototype.resume=function(){var e=this._readableState;return e.flowing||(M("resume"),e.flowing=!0,vb(this,e)),this};function vb(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Rt(Sb,e,t))}function Sb(e,t){t.reading||(M("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),eo(e),t.flowing&&!t.reading&&e.read(0)}L.prototype.pause=function(){return M("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(M("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function eo(e){var t=e._readableState;for(M("flow",t.flowing);t.flowing&&e.read()!==null;);}L.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(M("wrapped end"),t.decoder&&!t.ended){var l=t.decoder.end();l&&l.length&&n.push(l)}n.push(null)}),e.on("data",function(l){if(M("wrapped data"),t.decoder&&(l=t.decoder.write(l)),!(t.objectMode&&l==null)&&!(!t.objectMode&&(!l||!l.length))){var u=n.push(l);u||(r=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<Xi.length;o++)e.on(Xi[o],n.emit.bind(n,Xi[o]));return n._read=function(l){M("wrapped _read",l),r&&(r=!1,e.resume())},n};L._fromList=Ac;function Ac(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=Eb(e,t.buffer,t.decoder),r}function Eb(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?xb(e,t):Tb(e,t),n}function xb(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function Tb(e,t){var r=pr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function Zi(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Rt(Cb,t,e))}function Cb(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Ic(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var to=x((pT,Dc)=>{"use strict";a();s();Dc.exports=We;var gn=pt(),Rc=J();Rc.inherits=X();Rc.inherits(We,gn);function Pb(e){this.afterTransform=function(t,r){return Ab(e,t,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Ab(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,r!=null&&e.push(r),i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function We(e){if(!(this instanceof We))return new We(e);gn.call(this,e),this._transformState=new Pb(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.once("prefinish",function(){typeof this._flush=="function"?this._flush(function(r,n){Mc(t,r,n)}):Mc(t)})}We.prototype.push=function(e,t){return this._transformState.needTransform=!1,gn.prototype.push.call(this,e,t)};We.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};We.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};We.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};We.prototype._destroy=function(e,t){var r=this;gn.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function Mc(e,t,r){if(t)return e.emit("error",t);r!=null&&e.push(r);var n=e._writableState,i=e._transformState;if(n.length)throw new Error("Calling transform done when ws.length != 0");if(i.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var Wc=x((gT,Lc)=>{"use strict";a();s();Lc.exports=hr;var Nc=to(),kc=J();kc.inherits=X();kc.inherits(hr,Nc);function hr(e){if(!(this instanceof hr))return new hr(e);Nc.call(this,e)}hr.prototype._transform=function(e,t,r){r(null,e)}});var Bc=x((Ce,Uc)=>{a();s();Ce=Uc.exports=Ki();Ce.Stream=Ce;Ce.Readable=Ce;Ce.Writable=Hi();Ce.Duplex=pt();Ce.Transform=to();Ce.PassThrough=Wc()});var Kc=x((TT,Gc)=>{a();s();Gc.exports=gr;gr.default=gr;gr.stable=Fc;gr.stableStringify=Fc;var Ue=[],et=[];function gr(e,t,r){ro(e,"",[],void 0);var n;for(et.length===0?n=JSON.stringify(e,t,r):n=JSON.stringify(e,Hc(t),r);Ue.length!==0;){var i=Ue.pop();i.length===4?Object.defineProperty(i[0],i[1],i[3]):i[0][i[1]]=i[2]}return n}function ro(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);o.get!==void 0?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ue.push([n,t,e,o])):et.push([e,t]):(n[t]="[Circular]",Ue.push([n,t,e]));return}if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)ro(e[i],i,r,e);else{var l=Object.keys(e);for(i=0;i<l.length;i++){var u=l[i];ro(e[u],u,r,e)}}r.pop()}}function Ib(e,t){return e<t?-1:e>t?1:0}function Fc(e,t,r){var n=no(e,"",[],void 0)||e,i;for(et.length===0?i=JSON.stringify(n,t,r):i=JSON.stringify(n,Hc(t),r);Ue.length!==0;){var o=Ue.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}return i}function no(e,t,r,n){var i;if(typeof e=="object"&&e!==null){for(i=0;i<r.length;i++)if(r[i]===e){var o=Object.getOwnPropertyDescriptor(n,t);o.get!==void 0?o.configurable?(Object.defineProperty(n,t,{value:"[Circular]"}),Ue.push([n,t,e,o])):et.push([e,t]):(n[t]="[Circular]",Ue.push([n,t,e]));return}if(typeof e.toJSON=="function")return;if(r.push(e),Array.isArray(e))for(i=0;i<e.length;i++)no(e[i],i,r,e);else{var l={},u=Object.keys(e).sort(Ib);for(i=0;i<u.length;i++){var d=u[i];no(e[d],d,r,e),l[d]=e[d]}if(n!==void 0)Ue.push([n,t,e]),n[t]=l;else return l}r.pop()}}function Hc(e){return e=e!==void 0?e:function(t,r){return r},function(t,r){if(et.length>0)for(var n=0;n<et.length;n++){var i=et[n];if(i[1]===t&&i[0]===r){r="[Circular]",et.splice(n,1);break}}return e.call(this,t,r)}}});var yn=x(Dt=>{"use strict";a();s();Object.defineProperty(Dt,"__esModule",{value:!0});Dt.EthereumProviderError=Dt.EthereumRpcError=void 0;var Ob=Kc(),wn=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return Ob.default(this.serialize(),Rb,2)}};Dt.EthereumRpcError=wn;var io=class extends wn{constructor(t,r,n){if(!Mb(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};Dt.EthereumProviderError=io;function Mb(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Rb(e,t){if(t!=="[Circular]")return t}});var _n=x(Nt=>{"use strict";a();s();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.errorValues=Nt.errorCodes=void 0;Nt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Nt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}}});var so=x(_e=>{"use strict";a();s();Object.defineProperty(_e,"__esModule",{value:!0});_e.serializeError=_e.isValidCode=_e.getMessageFromCode=_e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;var bn=_n(),Db=yn(),$c=bn.errorCodes.rpc.internal,Nb="Unspecified error message. This is a bug, please report it.",kb={code:$c,message:ao($c)};_e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function ao(e,t=Nb){if(Number.isInteger(e)){let r=e.toString();if(oo(bn.errorValues,r))return bn.errorValues[r].message;if(zc(e))return _e.JSON_RPC_SERVER_ERROR_MESSAGE}return t}_e.getMessageFromCode=ao;function Yc(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(bn.errorValues[t]||zc(e))}_e.isValidCode=Yc;function Lb(e,{fallbackError:t=kb,shouldIncludeStack:r=!1}={}){var n,i;if(!t||!Number.isInteger(t.code)||typeof t.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(e instanceof Db.EthereumRpcError)return e.serialize();let o={};if(e&&typeof e=="object"&&!Array.isArray(e)&&oo(e,"code")&&Yc(e.code)){let u=e;o.code=u.code,u.message&&typeof u.message=="string"?(o.message=u.message,oo(u,"data")&&(o.data=u.data)):(o.message=ao(o.code),o.data={originalError:Vc(e)})}else{o.code=t.code;let u=(n=e)===null||n===void 0?void 0:n.message;o.message=u&&typeof u=="string"?u:t.message,o.data={originalError:Vc(e)}}let l=(i=e)===null||i===void 0?void 0:i.stack;return r&&e&&l&&typeof l=="string"&&(o.stack=l),o}_e.serializeError=Lb;function zc(e){return e>=-32099&&e<=-32e3}function Vc(e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e}function oo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}});var Zc=x(vn=>{"use strict";a();s();Object.defineProperty(vn,"__esModule",{value:!0});vn.ethErrors=void 0;var lo=yn(),Xc=so(),$=_n();vn.ethErrors={rpc:{parse:e=>ce($.errorCodes.rpc.parse,e),invalidRequest:e=>ce($.errorCodes.rpc.invalidRequest,e),invalidParams:e=>ce($.errorCodes.rpc.invalidParams,e),methodNotFound:e=>ce($.errorCodes.rpc.methodNotFound,e),internal:e=>ce($.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ce(t,e)},invalidInput:e=>ce($.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>ce($.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>ce($.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>ce($.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>ce($.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>ce($.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>wr($.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>wr($.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>wr($.errorCodes.provider.unsupportedMethod,e),disconnected:e=>wr($.errorCodes.provider.disconnected,e),chainDisconnected:e=>wr($.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new lo.EthereumProviderError(t,r,n)}}};function ce(e,t){let[r,n]=Jc(t);return new lo.EthereumRpcError(e,r||Xc.getMessageFromCode(e),n)}function wr(e,t){let[r,n]=Jc(t);return new lo.EthereumProviderError(e,r||Xc.getMessageFromCode(e),n)}function Jc(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}});var tp=x(te=>{"use strict";a();s();Object.defineProperty(te,"__esModule",{value:!0});te.getMessageFromCode=te.serializeError=te.EthereumProviderError=te.EthereumRpcError=te.ethErrors=te.errorCodes=void 0;var Qc=yn();Object.defineProperty(te,"EthereumRpcError",{enumerable:!0,get:function(){return Qc.EthereumRpcError}});Object.defineProperty(te,"EthereumProviderError",{enumerable:!0,get:function(){return Qc.EthereumProviderError}});var ep=so();Object.defineProperty(te,"serializeError",{enumerable:!0,get:function(){return ep.serializeError}});Object.defineProperty(te,"getMessageFromCode",{enumerable:!0,get:function(){return ep.getMessageFromCode}});var Wb=Zc();Object.defineProperty(te,"ethErrors",{enumerable:!0,get:function(){return Wb.ethErrors}});var Ub=_n();Object.defineProperty(te,"errorCodes",{enumerable:!0,get:function(){return Ub.errorCodes}})});var ap=x((VT,op)=>{a();s();var qb={}.toString;op.exports=Array.isArray||function(e){return qb.call(e)=="[object Array]"}});var fo=x((XT,sp)=>{a();s();sp.exports=wt().EventEmitter});var yr=x((co,up)=>{a();s();var Sn=Zn(),Be=Sn.Buffer;function lp(e,t){for(var r in e)t[r]=e[r]}Be.from&&Be.alloc&&Be.allocUnsafe&&Be.allocUnsafeSlow?up.exports=Sn:(lp(Sn,co),co.Buffer=kt);function kt(e,t,r){return Be(e,t,r)}lp(Be,kt);kt.from=function(e,t,r){if(typeof e=="number")throw new TypeError("Argument must not be a number");return Be(e,t,r)};kt.alloc=function(e,t,r){if(typeof e!="number")throw new TypeError("Argument must be a number");var n=Be(e);return t!==void 0?typeof r=="string"?n.fill(t,r):n.fill(t):n.fill(0),n};kt.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Be(e)};kt.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Sn.SlowBuffer(e)}});var dp=x((tC,po)=>{"use strict";a();s();function jb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var fp=yr().Buffer,_r=yt();function Fb(e,t,r){e.copy(t,r)}po.exports=function(){function e(){jb(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},e.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},e.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},e.prototype.concat=function(r){if(this.length===0)return fp.alloc(0);if(this.length===1)return this.head.data;for(var n=fp.allocUnsafe(r>>>0),i=this.head,o=0;i;)Fb(i.data,n,o),o+=i.data.length,i=i.next;return n},e}();_r&&_r.inspect&&_r.inspect.custom&&(po.exports.prototype[_r.inspect.custom]=function(){var e=_r.inspect({length:this.length});return this.constructor.name+" "+e})});var ho=x((iC,hp)=>{"use strict";a();s();var cp=$e();function Hb(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(!this._writableState||!this._writableState.errorEmitted)&&cp.nextTick(pp,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?(cp.nextTick(pp,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(o)}),this)}function Gb(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function pp(e,t){e.emit("error",t)}hp.exports={destroy:Hb,undestroy:Gb}});var go=x((sC,Sp)=>{"use strict";a();s();var ht=$e();Sp.exports=q;function gp(e){var t=this;this.next=null,this.entry=null,this.finish=function(){lv(t,e)}}var Kb=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:ht.nextTick,Lt;q.WritableState=vr;var wp=Object.create(J());wp.inherits=X();var $b={deprecate:Qn()},yp=fo(),xn=yr().Buffer,Vb=globalThis.Uint8Array||function(){};function Yb(e){return xn.from(e)}function zb(e){return xn.isBuffer(e)||e instanceof Vb}var _p=ho();wp.inherits(q,yp);function Xb(){}function vr(e,t){Lt=Lt||mt(),e=e||{};var r=t instanceof Lt;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var n=e.highWaterMark,i=e.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var l=e.decodeStrings===!1;this.decodeStrings=!l,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(u){nv(t,u)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new gp(this)}vr.prototype.getBuffer=function(){for(var t=this.bufferedRequest,r=[];t;)r.push(t),t=t.next;return r};(function(){try{Object.defineProperty(vr.prototype,"buffer",{get:$b.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var En;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(En=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(e){return En.call(this,e)?!0:this!==q?!1:e&&e._writableState instanceof vr}})):En=function(e){return e instanceof this};function q(e){if(Lt=Lt||mt(),!En.call(q,this)&&!(this instanceof Lt))return new q(e);this._writableState=new vr(e,this),this.writable=!0,e&&(typeof e.write=="function"&&(this._write=e.write),typeof e.writev=="function"&&(this._writev=e.writev),typeof e.destroy=="function"&&(this._destroy=e.destroy),typeof e.final=="function"&&(this._final=e.final)),yp.call(this)}q.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Jb(e,t){var r=new Error("write after end");e.emit("error",r),ht.nextTick(t,r)}function Zb(e,t,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!t.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),ht.nextTick(n,o),i=!1),i}q.prototype.write=function(e,t,r){var n=this._writableState,i=!1,o=!n.objectMode&&zb(e);return o&&!xn.isBuffer(e)&&(e=Yb(e)),typeof t=="function"&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),typeof r!="function"&&(r=Xb),n.ended?Jb(this,r):(o||Zb(this,n,e,r))&&(n.pendingcb++,i=ev(this,n,o,e,t,r)),i};q.prototype.cork=function(){var e=this._writableState;e.corked++};q.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest&&bp(this,e))};q.prototype.setDefaultEncoding=function(t){if(typeof t=="string"&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this};function Qb(e,t,r){return!e.objectMode&&e.decodeStrings!==!1&&typeof t=="string"&&(t=xn.from(t,r)),t}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ev(e,t,r,n,i,o){if(!r){var l=Qb(t,n,i);n!==l&&(r=!0,i="buffer",n=l)}var u=t.objectMode?1:n.length;t.length+=u;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var p=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},p?p.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else mo(e,t,!1,u,n,i,o);return d}function mo(e,t,r,n,i,o,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function tv(e,t,r,n,i){--t.pendingcb,r?(ht.nextTick(i,n),ht.nextTick(br,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(i(n),e._writableState.errorEmitted=!0,e.emit("error",n),br(e,t))}function rv(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function nv(e,t){var r=e._writableState,n=r.sync,i=r.writecb;if(rv(r),t)tv(e,r,n,t,i);else{var o=vp(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&bp(e,r),n?Kb(mp,e,r,o,i):mp(e,r,o,i)}}function mp(e,t,r,n){r||iv(e,t),t.pendingcb--,n(),br(e,t)}function iv(e,t){t.length===0&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function bp(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var l=0,u=!0;r;)i[l]=r,r.isBuf||(u=!1),r=r.next,l+=1;i.allBuffers=u,mo(e,t,!0,t.length,i,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new gp(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,p=r.encoding,v=r.callback,b=t.objectMode?1:d.length;if(mo(e,t,!1,b,d,p,v),r=r.next,t.bufferedRequestCount--,t.writing)break}r===null&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}q.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};q.prototype._writev=null;q.prototype.end=function(e,t,r){var n=this._writableState;typeof e=="function"?(r=e,e=null,t=null):typeof t=="function"&&(r=t,t=null),e!=null&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&sv(this,n,r)};function vp(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function ov(e,t){e._final(function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),br(e,t)})}function av(e,t){!t.prefinished&&!t.finalCalled&&(typeof e._final=="function"?(t.pendingcb++,t.finalCalled=!0,ht.nextTick(ov,e,t)):(t.prefinished=!0,e.emit("prefinish")))}function br(e,t){var r=vp(t);return r&&(av(e,t),t.pendingcb===0&&(t.finished=!0,e.emit("finish"))),r}function sv(e,t,r){t.ending=!0,br(e,t),r&&(t.finished?ht.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}function lv(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}Object.defineProperty(q.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});q.prototype.destroy=_p.destroy;q.prototype._undestroy=_p.undestroy;q.prototype._destroy=function(e,t){this.end(),t(e)}});var mt=x((fC,Cp)=>{"use strict";a();s();var Ep=$e(),uv=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};Cp.exports=qe;var xp=Object.create(J());xp.inherits=X();var Tp=_o(),yo=go();xp.inherits(qe,Tp);for(wo=uv(yo.prototype),Tn=0;Tn<wo.length;Tn++)Cn=wo[Tn],qe.prototype[Cn]||(qe.prototype[Cn]=yo.prototype[Cn]);var wo,Cn,Tn;function qe(e){if(!(this instanceof qe))return new qe(e);Tp.call(this,e),yo.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",fv)}Object.defineProperty(qe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function fv(){this.allowHalfOpen||this._writableState.ended||Ep.nextTick(dv,this)}function dv(e){e.end()}Object.defineProperty(qe.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}});qe.prototype._destroy=function(e,t){this.push(null),this.end(),Ep.nextTick(t,e)}});var So=x(Ap=>{"use strict";a();s();var vo=yr().Buffer,Pp=vo.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function cv(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function pv(e){var t=cv(e);if(typeof t!="string"&&(vo.isEncoding===Pp||!Pp(e)))throw new Error("Unknown encoding: "+e);return t||e}Ap.StringDecoder=Sr;function Sr(e){this.encoding=pv(e);var t;switch(this.encoding){case"utf16le":this.text=_v,this.end=bv,t=4;break;case"utf8":this.fillLast=gv,t=4;break;case"base64":this.text=vv,this.end=Sv,t=3;break;default:this.write=Ev,this.end=xv;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=vo.allocUnsafe(t)}Sr.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Sr.prototype.end=yv;Sr.prototype.text=wv;Sr.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function bo(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function hv(e,t,r){var n=t.length-1;if(n<r)return 0;var i=bo(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=bo(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=bo(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function mv(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"\uFFFD";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"\uFFFD";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,"\uFFFD"}}function gv(e){var t=this.lastTotal-this.lastNeed,r=mv(this,e,t);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function wv(e,t){var r=hv(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function yv(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\uFFFD":t}function _v(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function bv(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function vv(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Sv(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Ev(e){return e.toString(this.encoding)}function xv(e){return e&&e.length?this.write(e):""}});var _o=x((wC,qp)=>{"use strict";a();s();var Ut=$e();qp.exports=k;var Tv=ap(),Er;k.ReadableState=kp;var gC=wt().EventEmitter,Rp=function(e,t){return e.listeners(t).length},Po=fo(),xr=yr().Buffer,Cv=globalThis.Uint8Array||function(){};function Pv(e){return xr.from(e)}function Av(e){return xr.isBuffer(e)||e instanceof Cv}var Dp=Object.create(J());Dp.inherits=X();var Eo=yt(),R=void 0;Eo&&Eo.debuglog?R=Eo.debuglog("stream"):R=function(){};var Iv=dp(),Np=ho(),Wt;Dp.inherits(k,Po);var xo=["error","close","destroy","pause","resume"];function Ov(e,t,r){if(typeof e.prependListener=="function")return e.prependListener(t,r);!e._events||!e._events[t]?e.on(t,r):Tv(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]}function kp(e,t){Er=Er||mt(),e=e||{};var r=t instanceof Er;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var n=e.highWaterMark,i=e.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Iv,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(Wt||(Wt=So().StringDecoder),this.decoder=new Wt(e.encoding),this.encoding=e.encoding)}function k(e){if(Er=Er||mt(),!(this instanceof k))return new k(e);this._readableState=new kp(e,this),this.readable=!0,e&&(typeof e.read=="function"&&(this._read=e.read),typeof e.destroy=="function"&&(this._destroy=e.destroy)),Po.call(this)}Object.defineProperty(k.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});k.prototype.destroy=Np.destroy;k.prototype._undestroy=Np.undestroy;k.prototype._destroy=function(e,t){this.push(null),t(e)};k.prototype.push=function(e,t){var r=this._readableState,n;return r.objectMode?n=!0:typeof e=="string"&&(t=t||r.defaultEncoding,t!==r.encoding&&(e=xr.from(e,t),t=""),n=!0),Lp(this,e,t,!1,n)};k.prototype.unshift=function(e){return Lp(this,e,null,!0,!1)};function Lp(e,t,r,n,i){var o=e._readableState;if(t===null)o.reading=!1,Nv(e,o);else{var l;i||(l=Mv(o,t)),l?e.emit("error",l):o.objectMode||t&&t.length>0?(typeof t!="string"&&!o.objectMode&&Object.getPrototypeOf(t)!==xr.prototype&&(t=Pv(t)),n?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):To(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||t.length!==0?To(e,o,t,!1):Wp(e,o)):To(e,o,t,!1))):n||(o.reading=!1)}return Rv(o)}function To(e,t,r,n){t.flowing&&t.length===0&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&Pn(e)),Wp(e,t)}function Mv(e,t){var r;return!Av(t)&&typeof t!="string"&&t!==void 0&&!e.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Rv(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}k.prototype.isPaused=function(){return this._readableState.flowing===!1};k.prototype.setEncoding=function(e){return Wt||(Wt=So().StringDecoder),this._readableState.decoder=new Wt(e),this._readableState.encoding=e,this};var Ip=8388608;function Dv(e){return e>=Ip?e=Ip:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function Op(e,t){return e<=0||t.length===0&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=Dv(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}k.prototype.read=function(e){R("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(e!==0&&(t.emittedReadable=!1),e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return R("read: emitReadable",t.length,t.ended),t.length===0&&t.ended?Co(this):Pn(this),null;if(e=Op(e,t),e===0&&t.ended)return t.length===0&&Co(this),null;var n=t.needReadable;R("need readable",n),(t.length===0||t.length-e<t.highWaterMark)&&(n=!0,R("length less than watermark",n)),t.ended||t.reading?(n=!1,R("reading or ended",n)):n&&(R("do read"),t.reading=!0,t.sync=!0,t.length===0&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=Op(r,t)));var i;return e>0?i=Up(e,t):i=null,i===null?(t.needReadable=!0,e=0):t.length-=e,t.length===0&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Co(this)),i!==null&&this.emit("data",i),i};function Nv(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,Pn(e)}}function Pn(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(R("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?Ut.nextTick(Mp,e):Mp(e))}function Mp(e){R("emit readable"),e.emit("readable"),Ao(e)}function Wp(e,t){t.readingMore||(t.readingMore=!0,Ut.nextTick(kv,e,t))}function kv(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(R("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}k.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};k.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e);break}n.pipesCount+=1,R("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||t.end!==!1)&&e!==process.stdout&&e!==process.stderr,o=i?u:y;n.endEmitted?Ut.nextTick(o):r.once("end",o),e.on("unpipe",l);function l(_,T){R("onunpipe"),_===r&&T&&T.hasUnpiped===!1&&(T.hasUnpiped=!0,v())}function u(){R("onend"),e.end()}var d=Lv(r);e.on("drain",d);var p=!1;function v(){R("cleanup"),e.removeListener("close",A),e.removeListener("finish",g),e.removeListener("drain",d),e.removeListener("error",E),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",S),p=!0,n.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&d()}var b=!1;r.on("data",S);function S(_){R("ondata"),b=!1;var T=e.write(_);T===!1&&!b&&((n.pipesCount===1&&n.pipes===e||n.pipesCount>1&&Bp(n.pipes,e)!==-1)&&!p&&(R("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,b=!0),r.pause())}function E(_){R("onerror",_),y(),e.removeListener("error",E),Rp(e,"error")===0&&e.emit("error",_)}Ov(e,"error",E);function A(){e.removeListener("finish",g),y()}e.once("close",A);function g(){R("onfinish"),e.removeListener("close",A),y()}e.once("finish",g);function y(){R("unpipe"),r.unpipe(e)}return e.emit("pipe",r),n.flowing||(R("pipe resume"),r.resume()),e};function Lv(e){return function(){var t=e._readableState;R("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&Rp(e,"data")&&(t.flowing=!0,Ao(e))}}k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(t.pipesCount===0)return this;if(t.pipesCount===1)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var l=Bp(t.pipes,e);return l===-1?this:(t.pipes.splice(l,1),t.pipesCount-=1,t.pipesCount===1&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)};k.prototype.on=function(e,t){var r=Po.prototype.on.call(this,e,t);if(e==="data")this._readableState.flowing!==!1&&this.resume();else if(e==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&Pn(this):Ut.nextTick(Wv,this))}return r};k.prototype.addListener=k.prototype.on;function Wv(e){R("readable nexttick read 0"),e.read(0)}k.prototype.resume=function(){var e=this._readableState;return e.flowing||(R("resume"),e.flowing=!0,Uv(this,e)),this};function Uv(e,t){t.resumeScheduled||(t.resumeScheduled=!0,Ut.nextTick(Bv,e,t))}function Bv(e,t){t.reading||(R("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),Ao(e),t.flowing&&!t.reading&&e.read(0)}k.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function Ao(e){var t=e._readableState;for(R("flow",t.flowing);t.flowing&&e.read()!==null;);}k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;e.on("end",function(){if(R("wrapped end"),r.decoder&&!r.ended){var l=r.decoder.end();l&&l.length&&t.push(l)}t.push(null)}),e.on("data",function(l){if(R("wrapped data"),r.decoder&&(l=r.decoder.write(l)),!(r.objectMode&&l==null)&&!(!r.objectMode&&(!l||!l.length))){var u=t.push(l);u||(n=!0,e.pause())}});for(var i in e)this[i]===void 0&&typeof e[i]=="function"&&(this[i]=function(l){return function(){return e[l].apply(e,arguments)}}(i));for(var o=0;o<xo.length;o++)e.on(xo[o],this.emit.bind(this,xo[o]));return this._read=function(l){R("wrapped _read",l),n&&(n=!1,e.resume())},this};Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});k._fromList=Up;function Up(e,t){if(t.length===0)return null;var r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(t.decoder?r=t.buffer.join(""):t.buffer.length===1?r=t.buffer.head.data:r=t.buffer.concat(t.length),t.buffer.clear()):r=qv(e,t.buffer,t.decoder),r}function qv(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):e===t.head.data.length?n=t.shift():n=r?jv(e,t):Fv(e,t),n}function jv(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var o=r.data,l=e>o.length?o.length:e;if(l===o.length?i+=o:i+=o.slice(0,e),e-=l,e===0){l===o.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(l));break}++n}return t.length-=n,i}function Fv(e,t){var r=xr.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var o=n.data,l=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,l),e-=l,e===0){l===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(l));break}++i}return t.length-=i,r}function Co(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,Ut.nextTick(Hv,t,e))}function Hv(e,t){!e.endEmitted&&e.length===0&&(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function Bp(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}});var Io=x((bC,Hp)=>{"use strict";a();s();Hp.exports=je;var An=mt(),Fp=Object.create(J());Fp.inherits=X();Fp.inherits(je,An);function Gv(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function je(e){if(!(this instanceof je))return new je(e);An.call(this,e),this._transformState={afterTransform:Gv.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Kv)}function Kv(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){jp(e,t,r)}):jp(this,null,null)}je.prototype.push=function(e,t){return this._transformState.needTransform=!1,An.prototype.push.call(this,e,t)};je.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};je.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};je.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};je.prototype._destroy=function(e,t){var r=this;An.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function jp(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}});var Vp=x((EC,$p)=>{"use strict";a();s();$p.exports=Tr;var Gp=Io(),Kp=Object.create(J());Kp.inherits=X();Kp.inherits(Tr,Gp);function Tr(e){if(!(this instanceof Tr))return new Tr(e);Gp.call(this,e)}Tr.prototype._transform=function(e,t,r){r(null,e)}});var zp=x((Pe,Yp)=>{a();s();Pe=Yp.exports=_o();Pe.Stream=Pe;Pe.Readable=Pe;Pe.Writable=go();Pe.Duplex=mt();Pe.Transform=Io();Pe.PassThrough=Vp()});var Oo=x((AC,Jp)=>{a();s();var $v=ni(),Vv=function(){},Yv=function(e){return e.setHeader&&typeof e.abort=="function"},zv=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3},Xp=function(e,t,r){if(typeof t=="function")return Xp(e,null,t);t||(t={}),r=$v(r||Vv);var n=e._writableState,i=e._readableState,o=t.readable||t.readable!==!1&&e.readable,l=t.writable||t.writable!==!1&&e.writable,u=!1,d=function(){e.writable||p()},p=function(){l=!1,o||r.call(e)},v=function(){o=!1,l||r.call(e)},b=function(y){r.call(e,y?new Error("exited with error code: "+y):null)},S=function(y){r.call(e,y)},E=function(){process.nextTick(A)},A=function(){if(!u){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(e,new Error("premature close"));if(l&&!(n&&n.ended&&!n.destroyed))return r.call(e,new Error("premature close"))}},g=function(){e.req.on("finish",p)};return Yv(e)?(e.on("complete",p),e.on("abort",E),e.req?g():e.on("request",g)):l&&!n&&(e.on("end",d),e.on("close",d)),zv(e)&&e.on("exit",b),e.on("end",v),e.on("finish",p),t.error!==!1&&e.on("error",S),e.on("close",E),function(){u=!0,e.removeListener("complete",p),e.removeListener("abort",E),e.removeListener("request",g),e.req&&e.req.removeListener("finish",p),e.removeListener("end",d),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("exit",b),e.removeListener("end",v),e.removeListener("error",S),e.removeListener("close",E)}};Jp.exports=Xp});var rh=x((MC,th)=>{a();s();var{Duplex:eh}=zp(),Zp=Oo(),Xv=ni(),Qp={},Mo=class extends eh{constructor(t={}){let r=Object.assign({},t,{objectMode:!0});super(r),this._substreams={}}createStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');let r=new Ro({parent:this,name:t});return this._substreams[t]=r,Jv(this,n=>{r.destroy(n)}),r}ignoreStream(t){if(!t)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[t])throw new Error('ObjectMultiplex - Substream for name "${name}" already exists');this._substreams[t]=Qp}_read(){}_write(t,r,n){let i=t.name,o=t.data;if(!i)return console.warn(`ObjectMultiplex - malformed chunk without name "${t}"`),n();let l=this._substreams[i];if(!l)return console.warn(`ObjectMultiplex - orphaned data for stream "${i}"`),n();l!==Qp&&l.push(o),n()}},Ro=class extends eh{constructor({parent:t,name:r}){super({objectMode:!0}),this._parent=t,this._name=r}_read(){}_write(t,r,n){this._parent.push({name:this._name,data:t}),n()}};th.exports=Mo;function Jv(e,t){let r=Xv(t);Zp(e,{readable:!1},r),Zp(e,{writable:!1},r)}});var oh=x((NC,ih)=>{a();s();var Zv=ni(),Qv=Oo(),Do=zw(),Cr=function(){},eS=/^v?\.0/.test(process.version),In=function(e){return typeof e=="function"},tS=function(e){return!eS||!Do?!1:(e instanceof(Do.ReadStream||Cr)||e instanceof(Do.WriteStream||Cr))&&In(e.close)},rS=function(e){return e.setHeader&&In(e.abort)},nS=function(e,t,r,n){n=Zv(n);var i=!1;e.on("close",function(){i=!0}),Qv(e,{readable:t,writable:r},function(l){if(l)return n(l);i=!0,n()});var o=!1;return function(l){if(!i&&!o){if(o=!0,tS(e))return e.close(Cr);if(rS(e))return e.abort();if(In(e.destroy))return e.destroy();n(l||new Error("stream was destroyed"))}}},nh=function(e){e()},iS=function(e,t){return e.pipe(t)},oS=function(){var e=Array.prototype.slice.call(arguments),t=In(e[e.length-1]||Cr)&&e.pop()||Cr;if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Error("pump requires two streams per minimum");var r,n=e.map(function(i,o){var l=o<e.length-1,u=o>0;return nS(i,l,u,function(d){r||(r=d),d&&n.forEach(nh),!l&&(n.forEach(nh),t(r))})});return e.reduce(iS)};ih.exports=oS});var $h=x((yO,Kh)=>{"use strict";a();s();Kh.exports={walletDefaultName:"\u94B1\u5305",accountDefaultName:"\u8D26\u6237",privateKeyDefaultName:"\u79C1\u94A5",mpcDefaultName:"\u65E0\u79C1\u94A5\u94B1\u5305",hardWalletDefaultName:"\u786C\u4EF6\u94B1\u5305",pre_environment:"\u9884\u53D1\u73AF\u5883",prod_environment:"\u751F\u4EA7\u73AF\u5883",development_environment:"\u5F00\u53D1\u73AF\u5883",normalMode:"\u6B63\u5E38\u6A21\u5F0F",keyMode:"key\u6A21\u5F0F",multilingualMode:"\u591A\u500D\u6587\u672C\u6A21\u5F0F",select_language_mode:"\u9009\u62E9\u591A\u8BED\u8A00\u6A21\u5F0F",current_api_environment:"\u5F53\u524D\u9009\u4E2D\u63A5\u53E3\u73AF\u5883",fullscreenMode:"\u5168\u5C4F\u5C55\u793A\u6A21\u5F0F",switchRtl:"rtl\u6A21\u5F0F\u5207\u6362",accelerateSetInterval:"setInterval \u52A0\u901F 100 \u500D\uFF0C\u5F00/\u5173\u540E\u4F1A\u91CD\u542F\u63D2\u4EF6",theme:"\u660E\u6697\u4E3B\u9898\u5207\u6362",language:"\u7B80\u4F53\u4E2D\u6587"}});a();s();a();s();Lr();globalThis.setupSentry=async()=>await Ta();globalThis.setupSentry();globalThis.sentry=Ve;a();s();(function(e){typeof define=="function"&&define.amd?define(e):e()})(function(){"use strict";function e(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function t(g,y){for(var _=0;_<y.length;_++){var T=y[_];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}function r(g,y,_){return y&&t(g.prototype,y),_&&t(g,_),g}function n(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),y&&o(g,y)}function i(g){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(_){return _.__proto__||Object.getPrototypeOf(_)},i(g)}function o(g,y){return o=Object.setPrototypeOf||function(T,H){return T.__proto__=H,T},o(g,y)}function l(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function u(g,y){return y&&(typeof y=="object"||typeof y=="function")?y:l(g)}function d(g,y){for(;!Object.prototype.hasOwnProperty.call(g,y)&&(g=i(g),g!==null););return g}function p(g,y,_){return typeof Reflect<"u"&&Reflect.get?p=Reflect.get:p=function(H,Z,Y){var Ae=d(H,Z);if(!!Ae){var K=Object.getOwnPropertyDescriptor(Ae,Z);return K.get?K.get.call(Y):K.value}},p(g,y,_||g)}var v=function(){function g(){e(this,g),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return r(g,[{key:"addEventListener",value:function(_,T){_ in this.listeners||(this.listeners[_]=[]),this.listeners[_].push(T)}},{key:"removeEventListener",value:function(_,T){if(_ in this.listeners){for(var H=this.listeners[_],Z=0,Y=H.length;Z<Y;Z++)if(H[Z]===T){H.splice(Z,1);return}}}},{key:"dispatchEvent",value:function(_){var T=this;if(_.type in this.listeners){for(var H=function(st){setTimeout(function(){return st.call(T,_)})},Z=this.listeners[_.type],Y=0,Ae=Z.length;Y<Ae;Y++)H(Z[Y]);return!_.defaultPrevented}}}]),g}(),b=function(g){n(y,g);function y(){var _;return e(this,y),_=u(this,i(y).call(this)),_.listeners||v.call(l(_)),Object.defineProperty(l(_),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(l(_),"onabort",{value:null,writable:!0,configurable:!0}),_}return r(y,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(T){T.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,T)),p(i(y.prototype),"dispatchEvent",this).call(this,T)}}]),y}(v),S=function(){function g(){e(this,g),Object.defineProperty(this,"signal",{value:new b,writable:!0,configurable:!0})}return r(g,[{key:"abort",value:function(){var _;try{_=new Event("abort")}catch{typeof document<"u"?document.createEvent?(_=document.createEvent("Event"),_.initEvent("abort",!1,!1)):(_=document.createEventObject(),_.type="abort"):_={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(_)}},{key:"toString",value:function(){return"[object AbortController]"}}]),g}();typeof Symbol<"u"&&Symbol.toStringTag&&(S.prototype[Symbol.toStringTag]="AbortController",b.prototype[Symbol.toStringTag]="AbortSignal");function E(g){return g.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof g.Request=="function"&&!g.Request.prototype.hasOwnProperty("signal")||!g.AbortController}function A(g){typeof g=="function"&&(g={fetch:g});var y=g,_=y.fetch,T=y.Request,H=T===void 0?_.Request:T,Z=y.AbortController,Y=y.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,Ae=Y===void 0?!1:Y;if(!E({fetch:_,Request:H,AbortController:Z,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:Ae}))return{fetch:_,Request:K};var K=H;(K&&!K.prototype.hasOwnProperty("signal")||Ae)&&(K=function(Ie,z){var ve;z&&z.signal&&(ve=z.signal,delete z.signal);var Se=new H(Ie,z);return ve&&Object.defineProperty(Se,"signal",{writable:!1,enumerable:!1,configurable:!0,value:ve}),Se},K.prototype=H.prototype);var st=_,Ft=function(Ie,z){var ve=K&&K.prototype.isPrototypeOf(Ie)?Ie.signal:z?z.signal:void 0;if(ve){var Se;try{Se=new DOMException("Aborted","AbortError")}catch{Se=new Error("Aborted"),Se.name="AbortError"}if(ve.aborted)return Promise.reject(Se);var Jn=new Promise(function(j,ie){ve.addEventListener("abort",function(){return ie(Se)},{once:!0})});return z&&z.signal&&delete z.signal,Promise.race([Jn,st(Ie,z)])}return st(Ie,z)};return{fetch:Ft,Request:K}}(function(g){if(!!E(g)){if(!g.fetch){console.warn("fetch() is not available, cannot install abortcontroller-polyfill");return}var y=A(g),_=y.fetch,T=y.Request;g.fetch=_,g.Request=T,Object.defineProperty(g,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:S}),Object.defineProperty(g,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:b})}})(typeof self<"u"?self:globalThis)});Ur();var Fw=m(Vw()),Hw=m($d()),_a=m(Ye());a();s();var qc=m(Ye()),jc=m(Bc());var mr=class extends jc.Duplex{constructor(r){super({objectMode:!0});Ke(this,"onMessage",r=>{if(f.Buffer.isBuffer(r)){let n=f.Buffer.from(r);this.push(n)}else this.push(r)});Ke(this,"onDisconnect",()=>{let{lastError:r}=qc.default.runtime;r&&typeof this.opts.port=="function"?this.init():this.destroy()});this.opts={port:r},this.init()}init(){this.removePortListener(),this.port=typeof this.opts.port=="function"?this.opts.port():this.opts.port,this.port.onMessage.addListener(this.onMessage),this.port.onDisconnect.addListener(this.onDisconnect)}removePortListener(){this.port&&(this.port.onMessage.removeListener(this.onMessage),this.port.onDisconnect.removeListener(this.onDisconnect))}_read(){}_write(r,n,i){try{if(f.Buffer.isBuffer(r)){let o=r.toJSON();o._isBuffer=!0,this.port.postMessage(o)}else this.port.postMessage(r)}catch{return i(new Error("PortDuplexStream - disconnected"))}return i()}};a();s();var rp=m(tp()),np=m(Yw());var uo=class{constructor(t){this.connectionStream=t,this.notificationChannel=new np.default,this.requests=new Map,this.connectionStream.on("data",this.handleResponse.bind(this)),this.connectionStream.on("end",this.close.bind(this))}onNotification(t){this.notificationChannel.addListener("notification",r=>{t(r)})}close(){this.notificationChannel.removeAllListeners()}handleResponse(t){let{id:r,result:n,error:i,method:o,params:l}=t,u=this.requests.get(r);if(!(o&&l&&r)){if(o&&l&&!r){this.notificationChannel.emit("notification",t);return}if(!!u){if(i){let d=new rp.EthereumRpcError(i.code,i.message,i.data);d.stack=i.stack,this.requests.delete(r),u(d);return}this.requests.delete(r),typeof u=="function"&&u(null,n)}}}},Bb=e=>{let t=new uo(e);return new Proxy(t,{get:(r,n)=>r[n]?r[n]:(...i)=>{let o=i[i.length-1],l=i.slice(0,-1),u=Ra();r.requests.set(u,o),r.connectionStream.write({jsonrpc:"2.0",method:n,params:l,id:u})}})},ip=Bb;a();s();var ah=m(rh()),sh=m(oh()),aS=()=>{};function lh(e){let t=new ah.default;return(0,sh.default)(e,t,e,r=>{r&&aS(r)}),t}Kt();a();s();a();s();a();s();var uh=360;Kt();_t();var W=m(Ye());a();s();var ko=m(Ye());async function fh(e){return"getContexts"in ko.default.runtime?(await ko.default.runtime.getContexts({contextTypes:["OFFSCREEN_DOCUMENT"],documentUrls:[e]})).length>0:(await clients.matchAll()).some(r=>r.url.includes(chrome.runtime.id))}var Pr=class{reload(){W.default.runtime.reload()}openTab(t){return new Promise((r,n)=>{W.default.tabs.create(t).then(i=>{let o=pe();return o?n(o):r(i)}).catch(i=>{n(i)})})}openWindow(t){return new Promise((r,n)=>{W.default.windows.create(t).then(i=>{let o=pe();return o?n(o):(this.lastOkPopupId=i.id,r(i))}).catch(i=>{n(i)})})}closeWindow(t){return new Promise((r,n)=>{W.default.windows.remove(t).then(()=>{let i=pe();return i?n(i):r()}).catch(i=>{n(i)})})}focusLastOkPopup(){this.lastOkPopupId&&this.getAllWindows().then(t=>{t.some(r=>r.id===this.lastOkPopupId)?this.focusWindow(this.lastOkPopupId):this.lastOkPopupId=""}).catch(()=>{})}async focusCurrentWindow(){let r=(await this.currentTab())?.windowId;await this.focusWindow(r)}focusWindow(t){return new Promise((r,n)=>{W.default.windows.update(t,{focused:!0}).then(()=>{let i=pe();return i?n(i):r()}).catch(i=>{n(i)})})}updateWindowPosition(t,r,n){return new Promise((i,o)=>{W.default.windows.update(t,{left:r,top:n}).then(()=>{let l=pe();return l?o(l):i()}).catch(l=>{o(l)})})}getLastFocusedWindow(t){return new Promise((r,n)=>{W.default.windows.getLastFocused(t).then(i=>{let o=pe();return o?n(o):r(i)}).catch(i=>{n(i)})})}closeCurrentWindow(){return W.default?.windows?.getCurrent?W.default.windows.getCurrent().then(t=>W.default.windows.remove(t.id)):Promise.resolve()}getVersion(){return W.default.runtime.getManifest().version}openExtensionInBrowser(t=null,r=null){let n=W.default.runtime.getURL("/home.html");r&&(n+=`?${r}`),t&&(n+=`#${t}`),this.openTab({url:n}),me()!==ii&&window.close()}async openExtensionInPopup(t=null,r=null,n=!0){let i=W.default.runtime.getURL("/notification.html");r&&(i+=`?${r}`),t&&(i+=`#${t}`);let o=0,l=0,d=(await Wa())?.width||uh,p=120;try{let v=await this.getLastFocusedWindow();l=v.top,o=Math.max(v.left+(v.width-d)-p,0)}catch{let{screenX:b,screenY:S,outerWidth:E}=window;l=Math.max(S,0),o=Math.max(b+(E-d)-p,0)}this.openWindow({url:i,type:"popup",width:d,height:700,top:l,left:o}),me()!==ii&&n&&window.close()}getPlatformInfo(){return new Promise((t,r)=>{try{W.default.runtime.getPlatformInfo().then(n=>{t(n)}).catch(n=>{r(n)})}catch(n){r(n)}})}getAllWindows(){return new Promise((t,r)=>{W.default.windows.getAll().then(n=>{let i=pe();return i?r(i):t(n)}).catch(n=>{r(n)})})}getActiveTabs(){return new Promise((t,r)=>{W.default.tabs.query({active:!0}).then(n=>{let i=pe();return i?r(i):t(n)}).catch(n=>{r(n)})})}currentTab(){return new Promise((t,r)=>{W.default.tabs.getCurrent().then(n=>{let i=pe();i?r(i):t(n)}).catch(n=>{r(n)})})}closeTab(t){return new Promise((r,n)=>{W.default.tabs.remove(t).then(()=>{let i=pe();i?n(i):r()}).catch(i=>{n(i)})})}getCpuInfoName(){return new Promise((t,r)=>{try{W.default.system.cpu.getInfo(n=>{t(n.modelName)})}catch(n){r(n)}})}setPanelBehavior(t){return new Promise((r,n)=>{try{chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:t}),r()}catch(i){n(i)}})}setSidepanelPath(t){return new Promise((r,n)=>{t?chrome.sidePanel.setOptions({path:t},()=>{r()}):n()})}openSidepanelWithWindowId(t){return new Promise((r,n)=>{t?chrome.sidePanel.open({windowId:t},()=>{r()}):n()})}async openSidepanel(t){let n=(await this.getLastFocusedWindow())?.id;t&&await this.setSidepanelPath(`sidepanel.html#${t}`),await this.openSidepanelWithWindowId(n),t&&await this.setSidepanelPath("sidepanel.html")}async createOffscreen(){let t="offscreen.html",r=chrome.runtime.getURL(t);await fh(r)||(this.creatingOffscreen?await this.creatingOffscreen:(this.creatingOffscreen=W.default.offscreen.createDocument({url:t,reasons:["LOCAL_STORAGE"],justification:""}),await this.creatingOffscreen,this.creatingOffscreen=null))}};var No=Pr;_t();Jw();a();s();a();s();var qw=m(C());Ur();var jw=m(Zw()),Yn=m(Ye());he();a();s();var dh="SET_ACTIVE_TAB";function Lo(e={},t){let r={...e};switch(t.type){case dh:return t.value;default:return r}}function ch(e){return{type:dh,value:e}}a();s();Ur();ei();var ph=async()=>{try{let{authMap:e}=await ze.get("authMap"),{data:t}=await ze.get("data"),r=Gt(t,"TransactionController.transactions");return{authMap:e,evmTransactions:r}}catch{return{}}};Gs();a();s();var On=m(is());iy();a();s();Kr();Lr();zt();$a();a();s();function hh(e){return typeof e=="string"?e:typeof e>"u"?"Undefined error":e instanceof DOMException?`Error Name: ${e.name}, Message: ${e.message}, Code: ${e.code}`:`Error Object: ${JSON.stringify(e,["message","arguments","type","name"])}`}var sS=Xe({name:"coins",initialState:{coinsMap:{},ready:!1},reducers:{updateCoinsMap(e,t){e.coinsMap=t.payload,e.ready=!0}}}),{actions:lS,reducer:uS}=sS,{updateCoinsMap:fS}=lS;var mh=()=>async e=>{(await Ka.common_coins).liveQuery().subscribe(async(r,n)=>{if(n)Ve.captureEvent({message:"STORE_WARN_indexeddb_error",exception:{values:[{type:"STORE_WARN_indexeddb_error",value:`subscribe coins error, ${hh(n)}`}]},level:"error"}),Re().fallbackToAllCoinsMap();else{r.sort((o,l)=>o.rank-l.rank);let i=r.reduce((o,l)=>(o[String(l.coinId)]=l,o),{});e(fS(i))}})},gh=uS;a();s();var Ah=m(is());a();s();ay();function Wo(e={},t){let r={shouldClose:!1,modal:{open:!1,modalState:{name:null,props:{}},previousModalState:{name:null}},sidebar:{transitionName:"",type:"",props:{}},accountDetail:{subview:"transactions"},isLoading:!1,warning:null,requestAccountTabs:{},currentWindowTab:{},...e};switch(t.type){case Ts:return{...r,forgottenPassword:t.value};case As:return{...r,warning:null};case Ms:return{...r,isLoading:!1,warning:null,scrollToBottom:!1,forgottenPassword:!1};case Rs:return{...r,txId:t.id,warning:null,isLoading:!1};case Ds:return t.value.unconfirmedActionsCount>0?{...r,txId:null,warning:null}:{...r,shouldClose:!0,warning:null,txId:null,accountDetail:{subview:"transactions"}};case Ns:return{...r};case Cs:return{...r,warning:t.value||"Incorrect password. Try again."};case Ps:return{...r,warning:""};case ks:return{...r,isLoading:!0,loadingMessage:t.value};case Ls:return{...r,isLoading:!1};case Is:return{...r,warning:t.value,isLoading:!1};case Os:return{...r,warning:void 0};case Ws:return{...r,requestAccountTabs:t.value};case Us:return{...r,currentWindowTab:t.value};default:return r}}a();s();a();s();Kr();var wh={solana:{replacedTxs:[],signInfo:null},evm:{gasInfo:null,forceUpdateGasLimit:null}},dS=Xe({name:"sendGiftBusiness",initialState:wh,reducers:{setSolanaReplacedTxs:(e,t)=>{e.solana.replacedTxs=t.payload},setSolanaSignInfo:(e,t)=>{e.solana.signInfo=t.payload},setEvmSendGiftGasInfo:(e,t)=>{e.evm.gasInfo=t.payload},setEvmForceUpdateGasLimit:e=>{e.evm.forceUpdateGasLimit=+new Date},resetSendGiftBusiness:e=>{Object.assign(e,wh)}}}),{actions:cS,reducer:pS}=dS,yh=pS;var{setSolanaReplacedTxs:D0,setSolanaSignInfo:N0,setEvmSendGiftGasInfo:k0,setEvmForceUpdateGasLimit:L0,resetSendGiftBusiness:W0}=cS;a();s();Kr();var _h={key:"",args:{},type:""},tt={selectedCoinId:null,selectedAddressType:null,assetTokensList:[],packageMetaInfo:{},sendGiftAmount:null,quantityAmount:null,bestWishesInput:"",fee:null,feeLoading:!1,feeError:!1,claimConditions:{},calldataInfo:null,refreshCalldataInfo:0,isMax:!1,amountPageError:_h,confirmPageError:_h,savedTxInfo:null,hideAmountPageConfirmButton:!1},hS=Xe({name:"sendGift",initialState:tt,reducers:{setSelectedCoinId:(e,t)=>{e.selectedCoinId=t.payload},setSelectedAddressType:(e,t)=>{e.selectedAddressType=t.payload},setAssetTokensList:(e,t)=>{e.assetTokensList=t.payload},setSendGiftAmount:(e,t)=>{e.sendGiftAmount=t.payload},setQuantityAmount:(e,t)=>{e.quantityAmount=t.payload},setBestWishesInput:(e,t)=>{e.bestWishesInput=t.payload},setSendGiftFee:(e,t)=>{e.fee=t.payload},setSendGiftFeeLoading:(e,t)=>{e.feeLoading=t.payload},setSendGiftFeeError:(e,t)=>{e.feeError=t.payload},setPackageMetaInfo:(e,t)=>{e.packageMetaInfo=t.payload},setClaimConditions:(e,t)=>{e.claimConditions=t.payload},setIsSendGiftMax:(e,t)=>{e.isMax=t.payload},setCalldataInfo:(e,t)=>{e.calldataInfo=t.payload},setRefreshCalldataInfo:e=>{e.refreshCalldataInfo=+new Date},setSendGiftAmountPageError:(e,t)=>{e.amountPageError=t.payload},setSendGiftConfirmPageError:(e,t)=>{e.confirmPageError=t.payload},setSavedTxInfo:(e,t)=>{e.savedTxInfo=t.payload},setHideAmountPageConfirmButton:(e,t)=>{e.hideAmountPageConfirmButton=t.payload},resetByCoinChanged:e=>{e.sendGiftAmount=tt.sendGiftAmount,e.fee=tt.fee,e.feeError=tt.feeError,e.isMax=tt.isMax,e.amountPageError=tt.amountPageError,e.confirmPageError=tt.confirmPageError},resetSendGift:e=>{Object.assign(e,tt)}}}),{actions:mS,reducer:gS}=hS,bh=gS;var{setSelectedCoinId:F0,setSelectedAddressType:H0,setAssetTokensList:G0,setSendGiftAmount:K0,setQuantityAmount:$0,setBestWishesInput:V0,setSendGiftFee:Y0,setSendGiftFeeLoading:z0,setSendGiftFeeError:X0,setPackageMetaInfo:J0,setClaimConditions:Z0,setIsSendGiftMax:Q0,setCalldataInfo:eP,setRefreshCalldataInfo:tP,setSendGiftAmountPageError:rP,setSendGiftConfirmPageError:nP,setSavedTxInfo:iP,setHideAmountPageConfirmButton:oP,resetByCoinChanged:aP,resetSendGift:sP}=mS;var wS={sendGift:bh,sendGiftBusiness:yh},vh=wS;a();s();Kr();var yS={mostRecentOverviewPage:fe},_S="history",bS=Xe({name:_S,initialState:yS,reducers:{pageChanged:(e,t)=>{let r=t.payload;(r===fe||r.startsWith(zr))&&(e.mostRecentOverviewPage=r)}}}),{actions:vS,reducer:SS}=bS,Sh=SS;var{pageChanged:Eh}=vS;sy();a();s();a();s();var xh={[Xu]:Ju};a();s();var Th={[Zu]:Qu,[ef]:tf,[rf]:nf,[of]:af};var Ch={...xh,...Th};a();s();var ES="metamask/send/OPEN_TO_DROPDOWN",xS="metamask/send/CLOSE_TO_DROPDOWN",TS="metamask/send/UPDATE_SEND_ERRORS",CS="metamask/send/RESET_SEND_STATE",PS="metamask/send/SHOW_GAS_BUTTON_GROUP",AS="metamask/send/HIDE_GAS_BUTTON_GROUP",Ph={toDropdownOpen:!1,gasButtonGroupShown:!0,errors:{}};function Uo(e=Ph,t){switch(t.type){case ES:return{...e,toDropdownOpen:!0};case xS:return{...e,toDropdownOpen:!1};case TS:return{...e,errors:{...e.errors,...t.value}};case PS:return{...e,gasButtonGroupShown:!0};case AS:return{...e,gasButtonGroupShown:!1};case CS:return{...Ph};default:return e}}a();s();var Ih=(0,Ah.combineReducers)({activeTab:Lo,metamask:Ku,appState:Wo,history:Sh,send:Uo,nftSend:zu,newDapp:nl,localeMessages:qu,importAccount:Bu,coinDetail:tl,txHistory:lf,approve:Xs,txConfirm:sf,balanceSlice:ws,currencySlice:rl,providerSlice:fs,coins:gh,assetsSlice:Vs,Nft:Yu,addressBookState:zs,batchTransfer:Qs,batchAddAccount:Js,batchImportPrivateKey:Zs,bulkRename:el,commonSend:pi,walletConfig:$u,businessSend:hi,...Ch,activityBanners:Ys,keyring:Bs,...vh,dialog:il});function Bo(e){return(0,On.createStore)(Ih,e,(0,On.applyMiddleware)(os))}var Oh=()=>e=>{e(us()),e(mh()),e(gs()),e($s())};a();s();if((process.env.ASSETS_BUILD_TYPE==="dev"||process.env.ASSETS_BUILD_TYPE==="daily"||process.env.ASSETS_BUILD_TYPE==="prepub")&&localStorage.getItem("speedUp")){let t=window.setInterval;window.setInterval=function(r,n,...i){let o=n>=1e3?n/100:n;return t(r,o,...i)}}a();s();Kt();_t();ny();a();s();var Bt=window.history,IS=Bt.pushState,OS=Bt.replaceState,qo=new Event("locationChange");Bt.pushState=(...e)=>{let t=IS.apply(Bt,e);return window.dispatchEvent(qo),t};Bt.replaceState=(...e)=>{let t=OS.apply(Bt,e);return window.dispatchEvent(qo),t};window.addEventListener("popstate",()=>{window.dispatchEvent(qo)});function jo(e=""){return e.replace(/^#/,"")}function Mh(e){window.addEventListener("locationChange",()=>{e(jo(window.location.hash))})}a();s();var MS=[/^(\/wallet-add\/import-with-seed-phrase-and-private-key)/,/^(\/batch-import-private-key\/edit)/,/^(\/wallet\/mnemonic\/backup)/,/^(\/wallet\/mnemonic-privateKey)/,/^(\/wallet\/account\/privateKey)/,/^(\/reset-password)/];function Mn(e,t=MS){for(let n=0;n<t.length;n++){let i=t[n];if(typeof i=="string"&&e.endsWith(i)||typeof i!="string"&&i.test(e))return!0}return!1}function RS(){let e=me();return e===qr?1:e===Da?2:e===jr?3:0}var Dh=RS(),Fo="lastPageDetentionTimeParams",Nh=uf(),rt,Fe,Ho="";async function DS(){let e=window.localStorage.getItem(Fo);if(window.localStorage.removeItem(Fo),e)try{await ui(JSON.parse(e))}catch{console.log("Failed to report last page detention time")}let t=window.location.hash;t&&t!==fe&&(rt=new Date,Fe=jo(t))}function Rh(){if(!rt||!Fe||!Mn(Fe))return;let e=new Date,t={s:Nh,u:Fe,r:Ho,d:e.getTime()-rt.getTime(),p:Dh,e:rt.toLocaleString(),l:e.toLocaleString()};window.localStorage.setItem(Fo,JSON.stringify(t))}function NS(e){if(e===fe)return;let t=new Date;Fe&&rt&&Mn(Fe)&&ui({s:Nh,u:Fe,r:Ho,d:t.getTime()-rt.getTime(),p:Dh,e:rt.toLocaleString(),l:t.toLocaleString()}),rt=t,Ho=Fe||"",Fe=e}Mh(NS),DS(),window.addEventListener("beforeunload",Rh),window.onblur=Rh;a();s();var ne=m(C()),ca=m(ee()),Lw=m(we());he();Lr();a();s();var Ar=m(C());he();a();s();var Go={"error-page":"_error-page_1qj8r_1",errorPage:"_error-page_1qj8r_1","error-page-details":"_error-page-details_1qj8r_13",errorPageDetails:"_error-page-details_1qj8r_13"};var LS=()=>{let e=Hr(),t=Ee.State.getImgMap(e),r=`${Zr()}${t[Ee.State.TYPE.noNetwork]}`;return Ar.default.createElement("div",{className:Go.errorPage},Ar.default.createElement("div",{className:Go.errorPageDetails},Ar.default.createElement(Ee.State,{type:Ee.State.TYPE.noNetwork,title:I("wallet_extension_tg_empty_title_load_failed"),description:I("wallet_extension_tg_empty_desc_load_failed"),imgSrc:r,renderButton:()=>Ar.default.createElement(Q,{category:Q.CATEGORY.fill,type:Q.TYPE.primary,size:Q.SIZE.s,onClick:()=>{window.location.href=window.location.pathname}},I("wallet_extension_tg_empty_btn_load_failed"))})))},kh=LS;$a();a();s();var be=m(C()),Rn=m(ee());he();ti();var Ko={fetchConfig:{project:"okx_extension_wallet",site:"okx"}};var $o=0,US=1,Vo=null;function Wh(){return e=>(Ko.fetchConfig.locale=e.locale,be.default.createElement(Ma,{localeData:e.localeData,isDev:!0,noRemoteData:!0,fetchConfig:Ko.fetchConfig},e.children))}var BS=Wh(),qS=Wh(),jS=process.env.ASSETS_BUILD_TYPE===Me.DEV||process.env.ASSETS_BUILD_TYPE===Me.DAILY,Lh=(0,be.createContext)(e=>`[${e}]`),Yo=e=>{let t=window.localStorage.getItem("languageKeyMode"),r=jS&&t==="multilingualMode",n=(0,Rn.useSelector)(Jr),i=Hu(n),o=(0,Rn.useSelector)(ju),l=(0,Rn.useSelector)(Fu),u=(0,be.useMemo)(()=>(Gu(n,window),Vo=Vo===$o?US:$o,Object.keys(o).reduce((d,p)=>{let v=o[p].message;return d[p]=r?`${v}${v}${v}`:v,d},{})),[i,o,r]);return(0,be.useMemo)(()=>{$t.setConfig({frozenScroll:!1,localeProviderProps:{fetchConfig:{noFetch:!0},isDev:!0,localeData:l}})},[n]),Vo===$o?be.default.createElement(BS,{localeData:u,locale:i},be.default.createElement(Lh.Provider,{value:G},e.children)):be.default.createElement(qS,{localeData:u,locale:i},be.default.createElement(Lh.Provider,{value:G},e.children))};a();s();a();s();var Uh=m(C());ri();var Bh=()=>{let e=de("staticDomain");(0,Uh.useLayoutEffect)(()=>{window.okGlobal||(window.okGlobal={}),e?(window.okGlobal.cdnBaseUrl=`https://${Ht()}`,window.okGlobal.cdnDomainMap=e.data):(window.okGlobal.cdnBaseUrl=`https://${Ht()}`,window.okGlobal.cdnDomainMap={default:"https://static.okx.com",CN:"https://static.coinall.ltd",RU:"https://static.okx.cab",ID:"https://static.okx.cab"})},[e])};function FS(){Bh()}var qh=FS;a();s();a();s();var U=m(C());var jh=m(ff()),Fh=m(Ye());he();Kt();Xw();_t();Ha();fi();zt();var zo=class extends U.PureComponent{constructor(){super(...arguments);Ke(this,"state",{downloadUrl:!1})}renderErrorDetail(r){return U.default.createElement("li",null,U.default.createElement("p",null,r))}renderErrorStack(r,n){return U.default.createElement("li",null,U.default.createElement("span",null,r),U.default.createElement("pre",{className:"error-page__stack"},n))}componentDidMount(){Yt(Gr.getExtensionVersion).then(({data:r})=>{let n=Fr(),i=Fh.default.runtime.getManifest().version;if(n===Na&&r.edge!==i){this.setState({downloadUrl:"https://microsoftedge.microsoft.com/addons/detail/pbpjkcldjiffchgbbndmhojiacbgflha"});return}r.chrome!==i&&this.setState({downloadUrl:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge?hl=zh-CN"})}).catch(()=>{})}render(){let{error:r}=this.props,{downloadUrl:n}=this.state,o=me()===Br?I("wallet_home_subtitle_errortip_error_popup_message"):I("wallet_home_subtitle_errortip_errorpage_message"),l=Hr(),u=Ee.State.getImgMap(l),d=`${Zr()}${u[Ee.State.TYPE.systemError]}`;return U.default.createElement("div",{className:"error-page"},U.default.createElement("div",{className:"error-page__header"},I("wallet_home_maintitle_errortip_error_page_title"),window.location.hash&&U.default.createElement(ae,{className:"okx-wallet-plugin-close error-page__right",onClick:async()=>{await Re().clearDappData(),window.location.href=window.location.pathname}})),U.default.createElement("div",{className:"error-page__details"},U.default.createElement(Ee.State,{type:Ee.State.TYPE.systemError,title:n?I("extension_wallet_mid_text_update_latest_version"):o,imgSrc:d,renderButton:()=>U.default.createElement(U.default.Fragment,null,U.default.createElement("div",null,U.default.createElement(Q,{category:Q.CATEGORY.fill,type:Q.TYPE.primary,size:Q.SIZE.s,onClick:()=>{globalThis.platform.openTab({url:n})}},I("extension_wallet_mid_btn_goto_store")," "),U.default.createElement(Q,{className:"error-page_button_left",category:Q.CATEGORY.fill,type:Q.TYPE.primary,size:Q.SIZE.s,onClick:()=>{chrome.runtime.reload()}},I("wallet_extension_settings_item_clear_cache")," ")))}),U.default.createElement(Ba,{className:"error-page__accordion",titleClass:"error-page__accordion-title",customHeaderIcon:p=>U.default.createElement(ae,{icon:"okds-arrow-chevron-down-md",size:ae.SIZE.xs,className:(0,jh.default)("error-page__icon",{"okui-accordion-header-icon-expanded":p})}),title:I("wallet_home_subtitle_errortip_errordetail"),onToggle:p=>{this.setState({expand:p})}}),this.state.expand?U.default.createElement("ul",{className:"error-page__list"},r.message?this.renderErrorDetail(I("wallet_home_subtitle_errortip_errormessage",{errorMessage:r.message})):null,r.code?this.renderErrorDetail(I("wallet_home_subtitle_errortip_errorcode",{errorCode:r.code})):null,r.name?this.renderErrorDetail(I("wallet_home_subtitle_errortip_errorname",{errorName:r.name})):null,r.stack?this.renderErrorStack(I("wallet_home_subtitle_errortip_error_stack"),r.stack):null):null))}},Xo=zo;a();s();var jt=m(C()),at=m(ee()),Rw=m(we()),Dw=m(Xt()),Nw=m(ff());a();s();var HS=document.documentElement,GS={en:"en",zh_CN:"zh-hans",zh_TW:"zh-hant",fr:"fr",ru:"ru",vi:"vi",id:"id",tr:"tr",de:"de",it:"it",pl:"pl",en_IN:"en-in",pt_BR:"pt",pt_PT:"pt-pt",es:"es-es",es_419:"es",cs:"cs",ro:"ro",uk:"uk",ar_EH:"ar"},KS=e=>{HS.setAttribute("lang",GS[e])},Hh=KS;a();s();a();s();function Dn(){}ti();a();s();var D=m(C()),kn=m(Xt());a();s();var Jo=m(C());a();s();var Gh=e=>de("allowShowComponent",{...ye,componentName:e,location:window.location.href})?.data;var Nn=({children:e,componentName:t})=>Gh(t)?Jo.default.createElement(Jo.default.Fragment,null,e):null;ei();var le=m($h());a();s();var Zo={"wallet-helper":"_wallet-helper_4h5lm_1",walletHelper:"_wallet-helper_4h5lm_1","wallet-helper-enter":"_wallet-helper-enter_4h5lm_11",walletHelperEnter:"_wallet-helper-enter_4h5lm_11"};var $S=[{label:le.default.development_environment,value:"http://forked-test2-cat20.defi.swim.env"},{label:le.default.pre_environment,value:"https://beta.okex.org"},{label:le.default.prod_environment,value:"https://wallet.okex.org"}],VS=[{label:le.default.normalMode,value:"normalMode"},{label:le.default.keyMode,value:"keyMode"},{label:le.default.multilingualMode,value:"multilingualMode"}],YS=()=>{let{width:e}=(0,kn.useSize)(document.querySelector("body")),[t,r]=(0,D.useState)("https://beta.okex.org");(0,D.useEffect)(()=>{(async()=>{let{envApiDomain:E}=await ze.get("envApiDomain");E&&r(E)})()},[]);let n=()=>{window.location.reload()},i=window.localStorage,o=i.getItem("languageKeyMode")||"normalMode",l=(0,D.useCallback)(E=>{E==="normalMode"?(i.removeItem("languageKeyMode"),bt(!1)):E==="keyMode"?(i.setItem("languageKeyMode",E),bt(!0)):(i.setItem("languageKeyMode",E),bt(!1)),n()},[o]),u=(0,kn.useUpdate)(),d=()=>{let E=df()===en.LIGHT?en.DARK:en.LIGHT;cf(E),u()},p=i.getItem("speedUp")||!1,[v,b]=(0,D.useState)(p);(0,D.useEffect)(()=>{b(p)},[p]);let S=(0,D.useCallback)(()=>{p?(i.removeItem("speedUp"),b(!1)):(i.setItem("speedUp",!0),b(!0)),chrome.runtime.reload()},[p]);return D.default.createElement(Nn,{componentName:"walletHelper"},D.default.createElement(mi.Box,{className:Zo["wallet-helper"]},D.default.createElement(Vt,{description:D.default.createElement(mi.Space,{space:"8px"},D.default.createElement(ae.IconButton,{icon:"okx-wallet-plugin-slow",tooltip:le.default.select_language_mode,onClick:()=>{ge.show({alignBottom:!1,noContentPadding:!0,hideCloseBtn:!0,maskClosable:!0,children:D.default.createElement(Jt,{dataSource:VS,renderItem:({label:E,value:A})=>D.default.createElement(Jt.Cell,{title:E,onClick:()=>{l(A)}},o===A&&D.default.createElement(li.Circle,{checked:!0}))})})}}),D.default.createElement(ae.IconButton,{icon:"okx-wallet-plugin-fast",tooltip:`${le.default.current_api_environment}${t}`,onClick:()=>{ge.show({alignBottom:!1,noContentPadding:!0,hideCloseBtn:!0,maskClosable:!0,children:D.default.createElement(Jt,{dataSource:$S,renderItem:({label:E,value:A})=>D.default.createElement(Jt.Cell,{title:E,onClick:async()=>{await ze.set({envApiDomain:A}),n()}},t===A&&D.default.createElement(li.Circle,{checked:!0}))})})}}),D.default.createElement(ae.IconButton,{icon:"okx-wallet-plugin-swap",tooltip:le.default.switchRtl,onClick:()=>{let A=document.documentElement.getAttribute("dir");Qr(A==="rtl"?void 0:"rtl")}}),e>360&&D.default.createElement(ae.IconButton,{icon:"okx-wallet-plugin-switch",tooltip:le.default.fullscreenMode,onClick:()=>{let E=document.querySelector("#app");["notification","popup"].includes(E.className)?E.className="fullscreen":E.className="popup"}}),D.default.createElement(ae.IconButton,{style:{color:v?"orange":"unset"},icon:"okx-wallet-plugin-coin-quick-withdraw",tooltip:le.default.accelerateSetInterval,onClick:S}),D.default.createElement(ae.IconButton,{icon:"okx-wallet-plugin-swap-1",tooltip:le.default.theme,onClick:()=>{d()}})),trigger:Vt.TRIGGER.click,placement:document.documentElement.getAttribute("dir")==="rtl"?Vt.DIRECTION.topLeft:Vt.DIRECTION.topRight,autoHeight:{marginBottom:50},smartMode:!1},D.default.createElement(ae,{bordered:!0,size:ae.SIZE.lg,className:Zo["wallet-helper-enter"],icon:"okx-wallet-plugin-wrenches"}))))},Vh=YS;a();s();a();s();var ot=m(C());a();s();var Ir=m(C());a();s();var Qo={url:"https://beta.okex.org/pisces",name:"pisces>>"};ri();a();s();var ea={noRadius:"_noRadius_e5d59_1",scale:"_scale_e5d59_15"};var Yh=()=>Ir.default.createElement(Nn,{componentName:"EnvAlert"},Ir.default.createElement(qa,{className:ea.noRadius,type:"warn",showIcon:!1,title:Ir.default.createElement("div",{className:ea.scale},`${process.env.ASSETS_BUILD_TYPE}-${process.env.COMMIT_HASH}, API: ${Sa()} WSS: ${xa()} STATIC: ${Ht()}`,Ir.default.createElement("a",{href:Qo.url},Qo.name)),closable:!1}));a();s();var Ln=m(C()),Or=m(ee()),Wn=m(we()),zh=m(Xt());function zS(e){return e}var Xh=()=>{let e=(0,Or.useSelector)(zS),t=(0,zh.useLatest)(e),r=(0,Wn.useHistory)(),n=(0,Or.useSelector)(vt),i=(0,Or.useSelector)(xe),o=(0,Or.useSelector)(wf),l=(0,Ln.useRef)(o),d=(0,Wn.useLocation)()?.pathname;return(0,Ln.useEffect)(()=>{if(o!==l.current){if(n&&i&&![fe,Je].includes(d)){let p=t.current,v={isRpcMode:Vu(p)?.isRpcMode,permissionsRequestId:mf(p),isNotBackup:vf(ms(p)).isNotBackupWallet,lastOptType:gf(p)},b=Sf(v);b&&r.replace(b)}l.current=o}},[d,o,n,i]),null};Gs();var $n=m(ee());a();s();a();s();var c=m(C());a();s();var Qh=m(C()),V=m(Qw()),XS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JS=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ZS=function(){function e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),QS=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},eE=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?e:t},ta=(typeof window>"u"||typeof window>"u"?"undefined":XS(window))==="object",tE=ta?document:{},rE=["mousemove","keydown","wheel","DOMMouseScroll","mouseWheel","mousedown","touchstart","touchmove","MSPointerDown","MSPointerMove"],ra=function(e){function t(r){JS(this,t);var n=eE(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,r));if(n.state={idle:!1,oldDate:+new Date,lastActive:+new Date,remaining:null,pageX:null,pageY:null},n.tId=null,n._handleEvent=function(i){var o=n.state,l=o.remaining,u=o.pageX,d=o.pageY,p=o.idle,v=n.props,b=v.timeout,S=v.onAction,E=v.debounce,A=v.throttle,g=v.stopOnIdle;if(E>0?n.debouncedAction(i):A>0?n.throttledAction(i):S(i),!l){if(i.type==="mousemove"&&(i.pageX===u&&i.pageY===d||i.pageX===void 0&&i.pageY===void 0||n.getElapsedTime()<200))return;clearTimeout(n.tId),n.tId=null,p&&!g&&n.toggleIdleState(i),n.setState({lastActive:+new Date,pageX:i.pageX,pageY:i.pageY}),p&&g||(n.tId=setTimeout(n.toggleIdleState,b))}},r.debounce>0&&r.throttle>0)throw new Error("onAction can either be throttled or debounced (not both)");return r.debounce>0&&(n.debouncedAction=Jh(r.onAction,r.debounce)),r.throttle>0&&(n.throttledAction=Zh(r.onAction,r.throttle)),r.startOnMount||(n.state.idle=!0),n.toggleIdleState=n._toggleIdleState.bind(n),n.reset=n._reset.bind(n),n.pause=n._pause.bind(n),n.resume=n._resume.bind(n),n.getRemainingTime=n._getRemainingTime.bind(n),n.getElapsedTime=n._getElapsedTime.bind(n),n.getLastActiveTime=n._getLastActiveTime.bind(n),n.isIdle=n._isIdle.bind(n),n}return QS(t,Qh.Component),ZS(t,[{key:"componentWillMount",value:function(){this._bindEvents()}},{key:"componentDidMount",value:function(){this.props.startOnMount&&this.reset()}},{key:"componentDidUpdate",value:function(r){r.debounce!==this.props.debounce&&(this.debouncedAction=Jh(this.props.onAction,this.props.debounce)),r.throttle!==this.props.throttle&&(this.throttledAction=Zh(this.props.onAction,this.props.throttle))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tId),this._unbindEvents()}},{key:"render",value:function(){return this.props.children||null}},{key:"_bindEvents",value:function(){var r=this;if(ta){var n=this.state.eventsBound,i=this.props,o=i.element,l=i.events,u=i.passive,d=i.capture;n||(l.forEach(function(p){o.addEventListener(p,r._handleEvent,{capture:d,passive:u})}),this.setState({eventsBound:!0}))}}},{key:"_unbindEvents",value:function(){var r=this;if(ta){var n=this.props,i=n.element,o=n.events,l=n.passive,u=n.capture;this.state.eventsBound&&(o.forEach(function(d){i.removeEventListener(d,r._handleEvent,{capture:u,passive:l})}),this.setState({eventsBound:!1}))}}},{key:"_toggleIdleState",value:function(r){var n=this,i=this.state.idle,o=this.props,l=o.onActive,u=o.onIdle,d=o.stopOnIdle;this.setState({idle:!i},function(){i?d||(n._bindEvents(),l(r)):(d&&(clearTimeout(n.tId),n.tId=null,n._unbindEvents()),u(r))})}},{key:"_reset",value:function(){clearTimeout(this.tId),this.tId=null,this._bindEvents(),this.setState({idle:!1,oldDate:+new Date,lastActive:this.state.oldDate,remaining:null});var r=this.props.timeout;this.tId=setTimeout(this.toggleIdleState,r)}},{key:"_pause",value:function(){this.state.remaining===null&&(this._unbindEvents(),clearTimeout(this.tId),this.tId=null,this.setState({remaining:this.getRemainingTime()}))}},{key:"_resume",value:function(){var r=this.state,n=r.remaining,i=r.idle;n!==null&&(this._bindEvents(),i||(this.setState({remaining:null}),this.tId=setTimeout(this.toggleIdleState,n)))}},{key:"_getRemainingTime",value:function(){var r=this.state,n=r.remaining,i=r.idle,o=r.lastActive;if(i)return 0;if(n!==null)return n;var l=this.props.timeout-(+new Date-o);return l<0&&(l=0),l}},{key:"_getElapsedTime",value:function(){var r=this.state.oldDate;return+new Date-r}},{key:"_getLastActiveTime",value:function(){return this.state.lastActive}},{key:"_isIdle",value:function(){return this.state.idle}}]),t}();function Jh(e,t){var r=void 0;return function(){for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];r&&clearTimeout(r),r=setTimeout(function(){e.apply(void 0,i),r=null},t)}}function Zh(e,t){var r=0;return function(){var n=new Date().getTime();if(!(n-r<t))return r=n,e.apply(void 0,arguments)}}ra.propTypes={timeout:V.default.number,events:V.default.arrayOf(V.default.string),onIdle:V.default.func,onActive:V.default.func,onAction:V.default.func,debounce:V.default.number,throttle:V.default.number,element:V.default.oneOfType([V.default.object,V.default.element]),startOnMount:V.default.bool,stopOnIdle:V.default.bool,passive:V.default.bool,capture:V.default.bool},ra.defaultProps={timeout:12e5,element:tE,events:rE,onIdle:function(){},onActive:function(){},onAction:function(){},debounce:0,throttle:0,startOnMount:!0,stopOnIdle:!1,capture:!0,passive:!0};var em=ra;var ue=m(we());a();s();var re=m(C()),ia=m(ee()),nm=m(we());he();a();s();var Un=m(C()),tm=()=>{let[e,t]=(0,Un.useState)(0);return(0,Un.useEffect)(()=>{function r(){let n=window.visualViewport?.height<window?.innerHeight?window?.innerHeight-window.visualViewport?.height:0;t(n)}return window?.visualViewport?.addEventListener("resize",r),()=>{window?.visualViewport?.removeEventListener("resize",r)}},[]),{keyboardHeight:e}};zt();a();s();var Bn=m(C()),rm=m(we()),nt=({preload:e=[],...t})=>((0,Bn.useEffect)(()=>{e.forEach(r=>{typeof r=="function"&&r()})},[e]),Bn.default.createElement(rm.Route,{...t}));_t();a();s();var na={dialog:"_dialog_18vnm_1",mask:"_mask_18vnm_6"};function nE(e){return e.metamask.passwordModal}var oa=e=>{let[t,r]=(0,re.useState)(!1),n=(0,ia.useSelector)(nE),i=(0,ia.useSelector)(xe),o=ja.useForm(),l=(0,nm.useLocation)(),{onSubmit:u}=Nf({form:o}),d=(0,re.useCallback)(async()=>{await Re().rejectPassword(),r(!1)},[]),{currentPasswordType:p,onVerifyPasskeyFailed:v,onResetPasswordType:b}=Tf(d);(0,re.useEffect)(()=>{r(!!n&&i),n&&b()},[b,n,i]),(0,re.useEffect)(()=>()=>{t&&d()},[l]);let{keyboardHeight:S}=tm(),E=p===2&&n?.modalType===oi.default,A=!!n&&t&&!E;return re.default.createElement(re.default.Fragment,null,re.default.createElement(nt,{...e}),!!n&&t&&E&&re.default.createElement(Cf,{onPass:async g=>{o.setFieldsValue({password:g}),await u()},onCancel:v,noContent:!0}),re.default.createElement(ge,{onClose:d,visible:A,title:n?.modalType===oi.default?I("wallet_extension_tg_enter_password"):"",noMargin:!0,alignBottom:!0,maskClosable:!0,noTopRadius:!1,windowStyle:{padding:"0",overflow:"hidden",bottom:`${S}px`,height:`${600-S}px`,touchAction:"none"},zIndex:40001,className:na.dialog,scrollBoxClassName:na.mask,transitionProps:{type:"slide",placement:"bottom",timeout:300}},A&&re.default.createElement(kf,{passwordModal:n,passwordType:p,onVerifyPasskeyFailed:v})))};a();s();var P=m(C()),Dr=m(ee()),it=m(we()),sa=m(Ye());he();Lr();a();s();var im=()=>{let e=de("lockPage",{...ye,location:window.location.href});return e?e.data:null};a();s();var om=m(C());ei();var am=()=>{let e=de("changeLocalStorage",{...ye,location:window.location.href});(0,om.useEffect)(()=>{e&&(e?.data?.windowLocalStorage&&Object.keys(e?.data.windowLocalStorage).forEach(t=>{window.localStorage.setItem(t,e?.data?.windowLocalStorage[t])}),e?.data?.localStorage&&Object.keys(e?.data.localStorage).forEach(t=>{t==="data"||t==="apiDomain"||t==="envApiDomain"||t==="staticDomain"||ze.set({[t]:e?.data?.localStorage[t]})}))},[e])};a();s();var sm=m(C());var lm=()=>{let e=de("resetExtension",{...ye,location:window.location.href});return(0,sm.useMemo)(()=>{if(e){if(!e.data?.needReload)return!1;let r=window.localStorage.getItem("extensionReload");return!r||r!=e?.data.time?e.data.time:!1}return!1},[e])};a();s();var um=m(C());var fm=()=>{let e=de("versionExtensionUpdate",{...ye,location:window.location.href});return(0,um.useMemo)(()=>{if(e){if(!e.data?.needUpdate)return!1;let r=window.localStorage.getItem("versionExtensionUpdate");if(r&&r===e?.data.version&&!e.data?.repeat)return!1;if(ye.version!==e.data.version)return{version:e?.data.version,repeat:e.data?.repeat}}return!1},[e])};a();s();var dm=m(C()),qn=m(we()),gt=m(Ye());var iE=()=>{let e=(0,qn.useHistory)(),{search:t}=(0,qn.useLocation)(),r=Lf();(0,dm.useEffect)(()=>{let n=(i,o,l)=>{if(!(i.type===Of&&i.method===Mf.notifyRedirect))return;let{redirectSearchParams:d}=i.params,{redirectPathname:p,redirectSearchParams:v}=Df(d);p&&r(p,{overrideCurrentPath:Je,removeExistingSearchKeys:["redirect_pathname","redirect_search_params"],preserveState:!0,newSearchParams:Rf(v)}),l({success:!0,redirected:!0})};return typeof gt.default<"u"&&gt.default.runtime?.onMessage?gt.default.runtime.onMessage.addListener(n):typeof chrome<"u"&&chrome.runtime?.onMessage&&chrome.runtime.onMessage.addListener(n),()=>{typeof gt.default<"u"&&gt.default.runtime?.onMessage?gt.default.runtime.onMessage.removeListener(n):typeof chrome<"u"&&chrome.runtime?.onMessage&&chrome.runtime.onMessage.removeListener(n)}},[e,r,t])},cm=iE;a();s();var pm=[];a();s();var hm=(e,t)=>{if(t&&t.includes("{")&&!t.includes("first")){let n=/\{(.+?)\}/gi,i={},o=t.match(n);return o&&o.forEach((l,u)=>{let d=l.replace("{","").replace("}","");i[`${d}`]=e[u]}),i}let r=["first","second","third","fourth"];return e.filter((n,i)=>i in r).reduce((n,i,o)=>(n[r[o]]=i,n),{})};a();s();var Mr=m(ty());zt();var oE=e=>{if(!Array.isArray(e))return 1;for(let t=0;t<e.length;t++){let r=e[t];if(r.status===3)return 3;if(r.status===2)return 2}return 1},aE=({supportChainList:e=[],account:t})=>{let r=!1,n={...t?.status7702?.chains||{}},i={},o=Object.keys(n).length,l=e?.length||0;return o!==l&&(r=!0),e?.forEach(({chainIndex:p,status:v})=>{i[p]=v,!r&&n?.[p]!==v&&(r=!0)}),{chainStatusChanged:r,chains:r?i:n}},sE=(e,t)=>{if((0,Mr.isEmpty)(t)||!Array.isArray(e))return{needUpdate:!1};let{chainStatusChanged:r,chains:n}=aE({supportChainList:e,account:t}),i=t?.status7702?.status||1;return r&&(i=oE(e)),{needUpdate:r,status7702:{status:i,chains:n}}},mm=async e=>{let{address:t,data:r}=e,{chainIndex:n,status:i}=r||{};if(!t||(0,Mr.isNil)(n)||(0,Mr.isNil)(i))return;let o=await Re().getAccountsByAddressAndChainIndex(t,n);if(Array.isArray(o)&&!o.length)return;let l=o.map(async u=>{let d={...u?.status7702?.chains||{}};d[n]=i;let p=[];Object.keys(d).forEach(S=>{p.push({chainIndex:Number(S),status:d[S],address:t})});let{needUpdate:v,status7702:b}=sE(p,u);if(v){let S=u.walletId;S&&await Re().updateAccountIdentityData(S,{status7702:b})}});await Promise.allSettled(l)};a();s();var Rr=m(C());function aa(e){let[t,r]=(0,Rr.useState)(!1);return t?Rr.default.createElement(nt,{...e}):Rr.default.createElement(qf,{path:e.path,guard:!0,callback:()=>{r(!0)}})}a();s();var gm=m(C()),wm=m(ee());function ym(){return!(0,wm.useSelector)(vt)}var _m=e=>gm.default.createElement(nt,{...e});a();s();var bm=m(C()),vm=m(ee());Ur();function jn(e,t){let r=se(t),n=(0,vm.useDispatch)();(0,bm.useEffect)(()=>{!r||e.includes(r.data.address||Gt(r.data,"data.address")||Gt(r.data,"data.content.address"))&&n(Et({data:r.data,channel:t}))},[r,n,e,t])}a();s();var He=m(C()),Em=m(we());he();a();s();var lE=20,Fn=[];var uE=(e,t)=>{let r=`${e}_${t}`;Fn.unshift(r),Fn=Fn.slice(0,lE)},fE=(e,t)=>{let r=`${e}_${t}`;return Fn.includes(r)};function dE(e){let{status:t,orderId:r,fromAmount:n,fromTokenSymbol:i,toTokenSymbol:o,toAmount:l,isMemeTimeOut:u,chainId:d,fromTokenAddress:p,toTokenAddress:v,exploreUrl:b}=e,S=`/dex-swap/meme/${i==="SOL"?"buy":"sell"}?inputChain=${d}&inputCurrency=${p}&outputChain=${d}&outputCurrency=${v}`;if(u)return{result:{type:"warn",titleKey:"wallet_extension_toast_likely_fail",titleParams:{num:n,token1:i,token2:o},id:`toast-${r}-${t}`,url:S,urlText:"wallet_extension_cta_trade_again"},needHistory:!0};let A={["0"]:{type:"success",titleKey:"wallet_extension_toast_swap_submitted",id:`toast-${r}-${t}`,orderId:r},["1"]:{type:"success",titleKey:"wallet_extension_toast_swap_success",titleParams:{fromCount:n,fromToken:i,toCount:o,toToken:l},id:`toast-${r}-${t}`,url:b,urlText:"wallet_extension_cta_check_details",orderId:r},["-1"]:{type:"error",titleKey:"wallet_extension_toast_swap_failed",titleParams:{num:n,token1:i,token2:o},id:`toast-${r}-${t}`,url:S,urlText:"wallet_extension_cta_trade_again",orderId:r}}[t];return A?{result:A,needHistory:t!=="1"}:null}function cE(e){let{status:t,orderId:r,fromAmount:n,fromTokenSymbol:i,toAmount:o,toTokenSymbol:l}=e,u={["0"]:{type:"success",titleKey:"swaptrade_extension_feedback_toast_transaction_submitted",id:`toast-${r}-${t}`},["-1"]:{type:"error",titleKey:"swaptrade_extension_feedback_toast_fillup_gas_failed",titleParams:{nativeToken:l},id:`toast-${r}-${t}`},["1"]:{type:"success",titleKey:"swaptrade_extension_feedback_toast_swapped_successfully",titleParams:{payValue:n,paySymbol:i,receiveValue:Ff(o,{fixed:6,wipeTailZero:!0}),receiveSymbol:l},id:`toast-${r}-${t}`}},d=t in u?u[t]:null;return d?{result:d,needHistory:!1}:null}function pE(e){let{status:t,orderId:r,fromTokenSymbol:n,exploreUrl:i,solanaToast:o}=e,l={["1"]:{type:"success",titleKey:"swaptrade_extension_notif_desc_token_approved",titleParams:{tokenSymbol:n},url:i,urlText:"wallet_transfer_notif_view_on_explorer",id:`toast-${t}-${r}`},["-1"]:{type:"error",titleKey:"swaptrade_extension_notif_desc_token_not_approved",titleParams:{tokenSymbol:n},url:i,urlText:"wallet_transfer_notif_view_on_explorer",id:`toast-${t}-${r}`}},u=t in l?l[t]:null;return u?{result:u,needHistory:!1}:o==="1"?{result:{type:"success",titleKey:"swaptrade_extension_notif_desc_transaction_submit",id:`toast-${o}`},needHistory:!1}:null}function hE(e){let{status:t,orderId:r,fromAmount:n,fromTokenSymbol:i,toAmount:o,toTokenSymbol:l,exploreUrl:u,fromChildOrder:d={},toChainName:p,willNeedManualClaim:v}=e;if(fE(r,t))return null;let b=d?.receiveTokenStatus!=="3",S=null;return t==="0"&&d?.status=="0"?S={type:"success",titleKey:"swaptrade_extension_notif_desc_transaction_submit",id:`toast-${t}-${r}`,orderId:r}:t==="200"?S={type:"success",titleKey:"wallet_extension_bridge_alert_title_ready_to_claim",id:`toast-${t}-${r}`,orderId:r,hasClaimButton:!0,chainName:p,tokenSymbol:l,buttonText:"commonall_modal_btn_claim",buttonAction:"claim"}:t==="202"?S={type:"error",titleKey:"wallet_extension_bridge_alert_failed_to_claim_please",id:`toast-${t}-${r}`,orderId:r}:t==="1"&&b?v==="1"?S={type:"success",titleKey:"wallet_extension_bridge_alert_youve_successfully_claimed_amt",titleParams:{amt:o,token:l},id:`toast-${t}-${r}`,orderId:r}:S={type:"success",titleKey:"swaptrade_extension_notif_desc_swap_info",titleParams:{fromTokenAmount:n,fromTokenSymbol:i,toTokenAmount:o,toTokenSymbol:l},url:u,urlText:"wallet_transfer_notif_view_on_explorer",id:`toast-${t}-${r}`,orderId:r}:t==="-1"&&b?S={type:"error",titleKey:"swaptrade_extension_notif_desc_swap_fail",url:u,urlText:"wallet_transfer_notif_view_on_explorer",id:`toast-${t}-${r}`,orderId:r}:t==="-2"&&b&&(S={type:"success",titleKey:"swaptrade_extension_notif_desc_swap_canceled",url:u,urlText:"wallet_transfer_notif_view_on_explorer",id:`toast-${t}-${r}`,orderId:r}),S?(uE(r,t),{result:S,needHistory:!1}):null}var Sm=e=>{let{dexData:t,type:r}=e;if(!t)return null;let n=null,{type:i,swapTradeType:o,solanaToast:l}=t;return o==="7"?n=dE(t):i==="gasStation"&&l==="1"?n=cE(t):i==="approve"&&r==="1"?n=pE(t):!["approve","register","gasStation"].includes(i)&&(r==="1"||r==="3")&&(n=hE(t)),n};var mE=(e,t)=>{let r={...e?.result};return r.desc=null,r.hasClaimButton&&r.chainName&&r.tokenSymbol&&(r.desc=He.default.createElement(He.default.Fragment,null,He.default.createElement("p",{style:{color:"var(--okd-color-content-secondary)"}},I("swaptrade_bridge_alert_desc_successfully_bridged_to_chainname",{chainName:r.chainName,tokenSymbol:r.tokenSymbol})),He.default.createElement(ai,{style:{marginTop:"8px",fontSize:"12px",lineHeight:"16px",color:"var(--okd-color-content-primary)"},onClick:()=>{t.push(`${Eu}?orderId=${r.orderId}`)}},I("commonall_modal_btn_claim")))),r.url&&r.urlText&&(r.desc=He.default.createElement(ai,{style:{cursor:"pointer",color:"var(--okd-color-content-primary)",textDecoration:"none",border:"none",background:"none",padding:0},onClick:()=>{if(e?.needHistory){t.push(r.url);return}r.url&&globalThis.platform.openTab({url:r.url})}},He.default.createElement("span",null,I(r.urlText)))),r},gE=e=>{let t=e.type;oe[t]({title:I(e.titleKey,e.titleParams),key:e.id,desc:e.desc})};function xm(){let e=se("dex-across-order-info"),t=(0,Em.useHistory)();(0,He.useEffect)(()=>{if(!e?.data)return;let r=e.data,n=Sm(r);if(n){let i=mE(n,t);gE(i)}},[e,t])}a();s();var Tm=m(C());he();function Cm(){let e=se("wallet-nft");(0,Tm.useEffect)(()=>{!e||oe.success({title:I("wallet_transfer_notif_nft_transaction_success"),key:"toast8"})},[e])}a();s();var Pm=m(C()),Am=m(ee());function Im(){let e=se("wallet-coin"),t=(0,Am.useDispatch)();(0,Pm.useEffect)(()=>{!e||t(Et())},[e,t])}a();s();var qt={link:"_link_ywwad_1",updateCotainer:"_updateCotainer_ywwad_11",centerImage:"_centerImage_ywwad_14",titleUpdate:"_titleUpdate_ywwad_23",textUpdate:"_textUpdate_ywwad_27",updateMb32:"_updateMb32_ywwad_32"};function wE({walletId:e,keyringIdentities:t}){let r;if(t.find(l=>(r=l.walletIdentities.find(u=>u.walletId===e),r)),!r)return[];let n=Object.values(r.account),i=r.accountsMap,o=[];return i&&Object.keys(i).forEach(l=>{let u=i[l];Object.keys(u).forEach(d=>{let p=u[d];p.address&&o.push(p.address)})}),[...new Set([...n,...o])]}var yE=1;function w(e){let{guard:t,openMoonCat:r=!1}=e,n=(0,Dr.useSelector)(vt),i=(0,Dr.useSelector)(xe),o=(0,Dr.useSelector)($r),l=(0,Dr.useSelector)(ds),u=se("login"),d=se("wallet-tx-status-toast"),p=se("nft-operate"),v=se("wallet-inform"),b=(0,it.useHistory)(),S=(0,it.useLocation)(),[E,A]=(0,P.useState)(null),g=Af(),y=ym(),{isCloudChecked:_,onCloudUpdatedCallBack:T,onCloudResetLocalCallBack:H,isRestingFromCloud:Z}=Uf();cm();let Y=(0,P.useMemo)(()=>wE({walletId:o,keyringIdentities:l}),[o,l]),{isMoonCat:Ae,loadingMoonCatData:K}=Wf();(0,P.useEffect)(()=>{if(g){let{initialType:j}=g,{path:ie}=e;if(_f()&&yf(j)&&!pm.includes(ie)){let{location:Ge}=e||{},{pathname:Oe,search:ut=""}=Ge||{};setTimeout(()=>{globalThis.platform.openExtensionInPopup(Oe+ut||"")},200)}}},[g?.initialType]);let st=im(),Ft=lm(),lt=fm();am(),(0,P.useEffect)(()=>{Ft&&ge.warn({alignBottom:!1,title:G("wallet_extension_home_popup_title_update_now"),text:G("wallet_extension_home_popup_text_update_now"),confirmText:G("wallet_extension_home_popup_btn_update"),maskClosable:!1,onConfirm:()=>{window.localStorage.setItem("extensionReload",Ft),sa.default.runtime.reload()}})},[Ft]);let[Ie,z]=(0,P.useState)(!1),[ve]=(0,P.useState)(sa.default.runtime.getManifest().version),Se=Pf(),Jn=pf({dark:"/cdn/assets/imgs/246/F624BDAD9E2C018D.png",light:"/cdn/assets/imgs/246/234578340DAE2A80.png"});return(0,P.useEffect)(()=>{ve!==lt.version&&!Ie&&lt&&ge.action({mobileWidth:"77.777%",noTopRadius:!1,alignBottom:!1,hideCloseBtn:!0,children:P.default.createElement("div",{className:qt.updateMb32},P.default.createElement("div",{className:qt.centerImage},P.default.createElement("img",{src:Jn,alt:""})),P.default.createElement("div",{className:qt.titleUpdate},G("wallet_extension_home_popup_title_update_available")),P.default.createElement("div",{className:qt.textUpdate},G("wallet_extension_home_popup_text_update_available")),P.default.createElement(si,{size:si.SIZE.sm,className:qt.link,onClick:()=>{globalThis.platform.openTab({url:`https://${Se}/help/how-do-i-update-my-okx-wallet-extension-on-google-chrome`})}},G("wallet_extension_home_popup_link_update_available"))),confirmText:G("wallet_extension_home_popup_text_ok"),maskClosable:!1,onConfirm:j=>{lt.repeat?z(!0):window.localStorage.setItem("versionExtensionUpdate",lt.version),j.destroy()}})},[Ie,lt,ve]),(0,P.useEffect)(()=>{st&&ge.warn({alignBottom:!1,maskClosable:!1,title:G("wallet_extension_clearcache_modaltitle_step_locked"),text:G("wallet_extension_clearcache_modaldesc_step_locked"),confirmText:G("wallet_extension_btn_general_gotit"),onConfirm:j=>{j.destroy(),b.go(-1)}})},[st]),(0,P.useEffect)(()=>{if(n&&i){E&&Array.isArray(E)&&tn.sendChannel({op:"logout",args:E});let j=Y.map(ie=>({token:ie}));tn.sendChannel({op:"login",args:j}),A(j)}},[n,i,o]),(0,P.useEffect)(()=>{if(p){let{scene:j,status:ie}=p.data;j===21&&ie===2&&oe.success({title:G("extension_home_toast_receivecompleted")})}},[p]),(0,P.useEffect)(()=>{(async()=>{v&&v?.data&&v?.data?.type===yE&&await mm(v.data)})()},[v]),(0,P.useEffect)(()=>{if(u){let j=Object.keys(St).map(ie=>({channel:St[ie]}));tn.sendChannel({op:"subscribe",args:j})}},[u]),(0,P.useEffect)(()=>{let ie=b.location.pathname.match(Xr);if(d&&!ie){let{data:Ge}=d,{pushToastCode:Oe,pushToastParams:ut=[],txStatus:$w,url:ba}=Ge,kr;Oe===20||Oe===21?kr={amount:ut[0],crypto:ut[1]}:Oe===23?kr={num:ut[0],symbol:ut[1]}:kr=hm(ut),oe[ys[$w]]({title:G(_s[Oe],kr),desc:ba?P.default.createElement(Bf,{url:ba,urlText:G("wallet_transfer_notif_view_on_explorer")}):null})}},[d]),(0,P.useEffect)(()=>{let j=new PerformanceObserver(ie=>{let Ge={};ie.getEntries().forEach(Oe=>{Ge[Oe.name]=Oe.startTime}),performance.memory&&(Ge.memory={totalJSHeapSize:performance.memory?.totalJSHeapSize,usedJSHeapSize:performance.memory?.usedJSHeapSize,jsHeapSizeLimit:performance.memory?.jsHeapSizeLimit}),Ge["first-contentful-paint"]>1e3&&Ve.captureEvent({message:`PERFORMANCE_WARN_1s ${b.location.pathname}`,contexts:{report:{info:JSON.stringify(Ge)}},exception:{values:[{type:`PERFORMANCE_WARN_1s ${b.location.pathname}`,value:"Performance Data"}]},level:"info"})});return j.observe({type:"paint",buffered:!0}),()=>{j.disconnect()}},[b.location.pathname]),(0,P.useEffect)(()=>{H?.()},[H]),xm(),jn(Y,"wallet-asset"),jn(Y,"invest-DeFi"),jn(Y,"wallet-nft"),Cm(),Im(),jf(),r&&K?P.default.createElement(P.default.Fragment,null):r&&!K&&Ae?P.default.createElement(it.Redirect,{to:{pathname:Je}}):!_||Z?P.default.createElement(P.default.Fragment,null):y?P.default.createElement(it.Redirect,{to:{pathname:Yr,search:Pa(S.search)}}):T?T():i?t?P.default.createElement(aa,{...e}):P.default.createElement(_m,{...e}):P.default.createElement(it.Redirect,{to:{pathname:xt}})}a();s();var la=m(C()),Rm=m(we());a();s();var Om=m(ee());function Mm(){return!(0,Om.useSelector)(xe)}function Hn(e){return Mm()?la.default.createElement(Rm.Redirect,{to:{pathname:xt}}):la.default.createElement(nt,{...e})}a();s();var ua=m(C()),Dm=m(ee()),Gn=m(we());function Nr(e){return(0,Dm.useSelector)(xe)?ua.default.createElement(Gn.Redirect,{to:{pathname:fe}}):ua.default.createElement(Gn.Route,{...e})}a();s();var Kn=m(C());a();s();var h=m(C()),Nm=(0,h.lazy)(()=>import("./dex-PTWYR6TZ.js")),_E=()=>import("./new-home-page-IU7GR4MI.js"),BN=(0,h.lazy)(()=>import("./common-7RMD2UMO.js")),km=(0,h.lazy)(_E),Lm=(0,h.lazy)(()=>import("./wallet-aggregate-R6SAGNEQ.js")),Wm=(0,h.lazy)(()=>import("./ConnectHardware-S66XRLAY.js")),fa=(0,h.lazy)(()=>import("./ImportSeedPhraseAndPrivateKey-BYCYMUZN.js")),Um=(0,h.lazy)(()=>import("./WalletMnemonicBackup-S7TEQRVR.js")),Bm=(0,h.lazy)(()=>import("./WalletMnemonicBackupLandingPage-SLJNBX63.js")),qm=(0,h.lazy)(()=>import("./WalletList-C26RTTKE.js")),jm=(0,h.lazy)(()=>import("./WalletEdit-7VJON4CN.js")),Fm=(0,h.lazy)(()=>import("./WalletBackUp-HYJ2ENCP.js")),Hm=(0,h.lazy)(()=>import("./WalletAccountAddress-ECWUIGMC.js")),Gm=(0,h.lazy)(()=>import("./WalletAccountPrivateKey-FUEA2R5R.js")),Km=(0,h.lazy)(()=>import("./WalletMnemonicAndPrivateKey-JMR6PBRH.js")),$m=(0,h.lazy)(()=>import("./LedgerNetworkManage-BOG6FVGS.js")),Vm=(0,h.lazy)(()=>import("./WalletDetail-44H4GMQG.js")),Ym=(0,h.lazy)(()=>import("./WalletAccountDetail-OIGK3AVQ.js")),zm=(0,h.lazy)(()=>import("./CreatePassword-GWFOFIRP.js")),Xm=(0,h.lazy)(()=>import("./VerifyPassword-YTQPHPGB.js")),Jm=(0,h.lazy)(()=>import("./Onboard-YST5BOUG.js")),Zm=(0,h.lazy)(()=>import("./InitialCreate-AYJA775Q.js")),Qm=(0,h.lazy)(()=>import("./InitialImport-TSBPNCTV.js")),eg=(0,h.lazy)(()=>import("./wallet-add-page-LEGAZUBP.js")),tg=(0,h.lazy)(()=>import("./walletAddImport-ZR3TDHOL.js")),rg=(0,h.lazy)(()=>import("./Login-KEHQE3QK.js")),ng=(0,h.lazy)(()=>import("./Import-LU2YFZLD.js")),ig=(0,h.lazy)(()=>import("./show-supported-chains-7NBXUDK4.js")),og=(0,h.lazy)(()=>import("./Unlock-WDOTB6FN.js")),ag=(0,h.lazy)(()=>import("./Receive-D3EJQQSE.js")),sg=(0,h.lazy)(()=>import("./Lock-ZIKS6J3V.js")),lg=(0,h.lazy)(()=>import("./ForgetPassword-JH5DGDLI.js")),ug=(0,h.lazy)(()=>import("./ResetPassword-S3VAL7F7.js")),fg=(0,h.lazy)(()=>import("./select-network-J4HCGOSO.js")),dg=(0,h.lazy)(()=>import("./select-coin-RLGPG2OA.js")),cg=(0,h.lazy)(()=>import("./SelectNetwork-RY4GCHVL.js")),pg=(0,h.lazy)(()=>import("./SelectProtocol-747KYXFM.js")),hg=(0,h.lazy)(()=>import("./SendNft-GVFYFINQ.js")),mg=(0,h.lazy)(()=>import("./SendPageContainer-QEYUM2VN.js")),gg=(0,h.lazy)(()=>import("./CoinManage-Y6QH4IZY.js")),wg=(0,h.lazy)(()=>import("./CustomCrypto-E2I4X3G2.js")),yg=(0,h.lazy)(()=>import("./Setting-PV66KCO3.js")),_g=(0,h.lazy)(()=>import("./Preference-M3XUZ27B.js")),bg=(0,h.lazy)(()=>import("./WalletSafely-WMID2WQJ.js")),vg=(0,h.lazy)(()=>import("./DefaultWallet-WDFW54YC.js")),Sg=(0,h.lazy)(()=>import("./SwitchRandomPassword-2TC4MSAE.js")),Eg=(0,h.lazy)(()=>import("./AboutWallet-DVEASILK.js")),xg=(0,h.lazy)(()=>import("./WalletHistory-GBTWDWLT.js")),qN=(0,h.lazy)(()=>import("./coinSearch-PESFYV44.js")),Tg=(0,h.lazy)(()=>import("./TxConfirmEntry-AEBEXL5R.js")),Cg=(0,h.lazy)(()=>import("./Selector-7TZ2KCNW.js")),Pg=(0,h.lazy)(()=>import("./WalletLock-YBT7AXEV.js")),Ag=(0,h.lazy)(()=>import("./RpcMode-6K5232P2.js")),Ig=(0,h.lazy)(()=>import("./DappEntry-NKHOEOYU.js")),Og=(0,h.lazy)(()=>import("./DappReady-IV43MJGP.js")),Mg=(0,h.lazy)(()=>import("./NetworkManagement-SUQ3Q6ZB.js")),Rg=(0,h.lazy)(()=>import("./Form-OTEYJ4FK.js")),Dg=(0,h.lazy)(()=>import("./PermissionsConnect-Y5EZ3KLU.js")),Ng=(0,h.lazy)(()=>import("./Detail-T7TVZRZ4.js")),kg=(0,h.lazy)(()=>import("./NftFilter-RRVEVM4A.js")),Lg=(0,h.lazy)(()=>import("./DAppNetworkManage-UFZ6LZML.js")),Wg=(0,h.lazy)(()=>import("./CoinDetail-5U3K63OP.js")),Ug=(0,h.lazy)(()=>import("./address-P3U43ZDS.js")),Bg=(0,h.lazy)(()=>import("./ZKSpace-VMZFUERR.js")),qg=(0,h.lazy)(()=>import("./Pi-PQWM743R.js")),jg=(0,h.lazy)(()=>import("./ZKSyncLite-OVUZ3CLC.js")),Fg=(0,h.lazy)(()=>import("./Starknet-NVUFCS3R.js")),Hg=(0,h.lazy)(()=>import("./CreateAccount-2N2W2MWT.js")),Gg=(0,h.lazy)(()=>import("./ConfirmPay-PHUYEPBC.js")),Kg=(0,h.lazy)(()=>import("./rpc-mode-5UT32PM4.js")),$g=(0,h.lazy)(()=>import("./RiskApprovePage-X5NZPIQB.js")),Vg=(0,h.lazy)(()=>import("./ApproveDetailPage-5LBGH6XM.js")),Yg=(0,h.lazy)(()=>import("./BatchTransfer-RYQSJ547.js")),zg=(0,h.lazy)(()=>import("./Bitcoin-MRKZPF34.js")),Xg=(0,h.lazy)(()=>import("./BatchAddAccount-HEFHBV4N.js")),Jg=(0,h.lazy)(()=>import("./BulkRename-6ZJVYKAT.js")),Zg=(0,h.lazy)(()=>import("./Edit-7JTDOZE7.js")),Qg=(0,h.lazy)(()=>import("./Confirm-X4KEAQ72.js")),jN=(0,h.lazy)(()=>import("./FractalBTCInscribe-MUZG46ON.js")),ew=(0,h.lazy)(()=>import("./ManageUtxo-PMA2YPFR.js")),tw=(0,h.lazy)(()=>import("./CoinInfo-REJUOHFB.js")),rw=(0,h.lazy)(()=>import("./DownloadAddresses-EZ6AWCH6.js")),nw=(0,h.lazy)(()=>import("./GasTracker-4544DYWQ.js")),iw=(0,h.lazy)(()=>import("./Advanced-CDOXZHLT.js")),ow=(0,h.lazy)(()=>import("./PasswordType-5S3PEYIA.js")),aw=(0,h.lazy)(()=>import("./WebWidget-ORIZ4T2T.js")),sw=(0,h.lazy)(()=>import("./FeaturePanel-LR2S5NRD.js")),lw=(0,h.lazy)(()=>import("./RiskExtension-VKTGF4GN.js")),uw=(0,h.lazy)(()=>import("./Upgrade7702Entry-FVIFC3L7.js")),fw=(0,h.lazy)(()=>import("./Upgrade7702SelectWallet-C6EBS7M4.js")),dw=(0,h.lazy)(()=>import("./7702Revoke-X3MQRTUA.js")),cw=(0,h.lazy)(()=>import("./ReportPage-K46HQBC3.js")),pw=(0,h.lazy)(()=>import("./GeneralDapp-NPSFKMW4.js"));var hw=(0,Kn.lazy)(()=>import("./MoonCat-NXSIKSW4.js")),mw=(0,Kn.lazy)(()=>import("./MoonCatDay-FC6FBWXE.js")),gw=(0,Kn.lazy)(()=>import("./MoonCatNight-T4AOYAQ2.js"));var ww=({autoLockTimeLimit:e,setLastActiveTime:t})=>{let n=(0,ue.useHistory)().location?.state?.noGuard||{},i=c.default.createElement(c.Suspense,null,c.default.createElement(ue.Switch,null,c.default.createElement(ue.Route,{path:pl,component:Wm}),c.default.createElement(w,{path:Jl,component:fa,exact:!0}),c.default.createElement(oa,{path:bu,component:Zg,exact:!0}),c.default.createElement(oa,{path:vu,component:Qg,exact:!0}),c.default.createElement(w,{path:ci,guard:!n[ci],component:Um,openMoonCat:!0,exact:!0}),c.default.createElement(w,{path:su,component:Bm,exact:!0}),c.default.createElement(w,{path:eu,component:qm,exact:!0}),c.default.createElement(w,{path:tu,component:jm,exact:!0}),c.default.createElement(w,{path:Il,component:Fm,exact:!0,openMoonCat:!0}),c.default.createElement(w,{path:Lu,component:Tg,exact:!0}),c.default.createElement(w,{path:au,guard:!0,component:Km,exact:!0,openMoonCat:!0}),c.default.createElement(ue.Route,{path:Ru,component:ow,exact:!0}),c.default.createElement(ue.Route,{path:Sl,component:zm,exact:!0}),c.default.createElement(w,{path:El,component:Xm}),c.default.createElement(Nr,{path:xl,component:fa,exact:!0}),c.default.createElement(ue.Route,{path:`${Tl}/:type`,component:ig}),c.default.createElement(w,{path:ru,component:Vm}),c.default.createElement(w,{path:lu,component:$m}),c.default.createElement(w,{path:nu,component:Ym}),c.default.createElement(w,{path:iu,component:Hm}),c.default.createElement(w,{path:ou,guard:!0,component:Gm,openMoonCat:!0}),c.default.createElement(ue.Route,{path:xu,component:Lm}),c.default.createElement(w,{path:gl,component:ag,exact:!0}),c.default.createElement(ue.Route,{path:ol,component:sg,exact:!0}),c.default.createElement(Nr,{path:xt,component:Jm}),c.default.createElement(Nr,{path:bl,component:Zm,exact:!0}),c.default.createElement(Nr,{path:_l,component:Qm,exact:!0}),c.default.createElement(w,{path:Zl,component:eg,exact:!0}),c.default.createElement(w,{path:Ql,component:tg,exact:!0}),c.default.createElement(ue.Route,{path:Cu,component:rg,exact:!0}),c.default.createElement(ue.Route,{path:Pu,component:ng,exact:!0}),c.default.createElement(Hn,{path:Yr,exact:!0,component:og}),c.default.createElement(Hn,{path:wl,component:lg}),c.default.createElement(w,{path:yl,component:ug}),c.default.createElement(w,{path:wu,component:Kg}),c.default.createElement(w,{path:yu,component:Yg}),c.default.createElement(w,{path:vl,component:fw}),c.default.createElement(w,{path:_u,component:Xg}),c.default.createElement(w,{path:Su,component:Jg}),c.default.createElement(w,{path:cl,component:pg}),c.default.createElement(w,{path:dl,component:cg}),c.default.createElement(w,{path:Xl,component:fg}),c.default.createElement(w,{path:zl,component:dg}),c.default.createElement(w,{path:`${ll}/:nftPath`,component:hg,exact:!0}),c.default.createElement(w,{path:`${sl}/:coinId?`,component:mg}),c.default.createElement(w,{path:Cl,component:gg}),c.default.createElement(w,{path:Pl,component:wg}),c.default.createElement(w,{path:Al,component:yg}),c.default.createElement(w,{path:Ol,component:_g}),c.default.createElement(w,{path:Ml,component:bg}),c.default.createElement(w,{path:Rl,component:vg}),c.default.createElement(w,{path:Bl,component:Sg}),c.default.createElement(w,{path:Ll,component:Eg}),c.default.createElement(w,{path:Dl,component:hw}),c.default.createElement(w,{path:kl,component:gw}),c.default.createElement(w,{path:Nl,component:mw}),c.default.createElement(w,{path:ql,component:aw}),c.default.createElement(w,{path:jl,component:sw}),c.default.createElement(w,{path:uu,component:xg,exact:!0}),c.default.createElement(w,{path:Wl,component:Cg}),c.default.createElement(w,{path:Ul,component:Pg}),c.default.createElement(w,{path:Fl,component:Ag}),c.default.createElement(w,{path:Vl,component:Og}),c.default.createElement(w,{path:Kl,component:Ig}),c.default.createElement(w,{path:$l,component:pw}),c.default.createElement(w,{path:Hl,component:Mg}),c.default.createElement(w,{path:Gl,component:Rg}),c.default.createElement(w,{path:`${ul}/:id`,component:Dg}),c.default.createElement(w,{path:`${hl}`,component:Ng,exact:!0}),c.default.createElement(w,{path:ml,component:kg,exact:!0}),c.default.createElement(w,{path:`${fl}`,component:Lg}),c.default.createElement(w,{path:zr,component:Wg,exact:!0}),c.default.createElement(w,{path:Au,component:tw}),c.default.createElement(w,{path:Iu,component:rw}),c.default.createElement(w,{path:fu,component:Ug}),c.default.createElement(w,{path:du,component:Bg}),c.default.createElement(w,{path:cu,component:qg}),c.default.createElement(w,{path:pu,component:jg}),c.default.createElement(w,{path:hu,component:Fg}),c.default.createElement(w,{path:mu,component:Hg}),c.default.createElement(w,{path:gu,component:Gg}),c.default.createElement(w,{path:Yl,component:zg}),c.default.createElement(w,{path:Xr},c.default.createElement(c.Suspense,{fallback:c.default.createElement(xf,null)},c.default.createElement(Nm,null))),c.default.createElement(w,{path:Tu,component:ew}),c.default.createElement(w,{path:Ou,component:nw}),c.default.createElement(w,{path:Mu,component:iw}),c.default.createElement(w,{path:Du,component:uw}),c.default.createElement(w,{path:Nu,component:$g}),c.default.createElement(w,{path:ku,component:Vg}),c.default.createElement(w,{path:Wu,component:lw}),c.default.createElement(w,{path:Uu,component:dw}),c.default.createElement(w,{path:al,component:cw}),c.default.createElement(w,{path:[fe,Je],component:km})));return e>0?c.default.createElement(em,{onAction:t,throttle:1e3},i):i};var yw=ww;var _w=({isLoading:e})=>{let{autoLockTimeLimit:t=0}=(0,$n.useSelector)(ps),r=(0,$n.useDispatch)();return ot.default.createElement(ot.default.Fragment,null,ot.default.createElement(Yh,null),ot.default.createElement(Xh,null),ot.default.createElement("div",{className:"main-container-wrapper"},e&&ot.default.createElement(Ef,null),ot.default.createElement(yw,{autoLockTimeLimit:t,setLastActiveTime:()=>{r(Hs())}})))};var bw=({isLoading:e})=>React.createElement(_w,{isLoading:e});a();s();var Ew=m(C());he();a();s();var vw=m(Xt());he();fi();var bE=async(e,t)=>{let{uniq:r=!1,cache:n=!1,params:i={},config:o={},method:l="GET",origin:u=!1,catchMode:d="toastAll"}=t??{},p=()=>{switch(l){case"GET":return r?es(e,i,o):n?rs(e,i,o):u?za(e,i,o):Yt(e,i);case"POST":return r?ts(e,i,o):u?Xa(e,i,o):Za(e,i,o);case"DELETE":return Ja(e,i);default:return Yt(e,i)}},v=b=>{if(d==="noToast")throw b;let S=ns(b),E;switch(S){case"ERR_NETWORK":Kf();return;case"ERR_SERVER_LIMIT":E=I("wallet_extension_home_notif_network_high_traffic");break;case"ERR_SERVER_TINE_LIMIT":E=I("wallet_extension_error_check_device_time");break;default:if(d==="toastAllExceptBizErr")throw b;E=S||I("wallet_extension_alert_wallet_network_error");break}oe.error({key:S,title:E,duration:2,placement:oe.DIRECTION.top})};return p().catch(v)};function Sw(e,t,r){return(0,vw.useRequest)((...[n,i])=>bE(e,{...t,params:n??{},...i}),r)}Ha();var xw=()=>{Sw(Gr.getCheckCountryLimit,{},{onSuccess(e){if(!e?.data)return;let{limit:t,displayCountryName:r}=e.data.web3??{};t&&ge.warn({maskClosable:!1,renderFooter:()=>Ew.default.createElement("div",null),alignBottom:!1,title:I("wallet_extension_login_title_access_restricted"),text:I("wallet_extension_login_toast_unavailable_inyourregion",{area:r})})}})};a();s();var Vn=m(C()),Tw=m(ee()),Cw=m(Xt());var vE=()=>{let e=(0,Vn.useRef)(!1),{walletId:t,platformAssetUSD:r,nftBalanceUSD:n,defiBalanceUSD:i,tokenBalanceUSD:o}=(0,Tw.useSelector)(Gf),l=(0,Cw.usePrevious)(t,()=>!0);(0,Vn.useEffect)(()=>{l!==t&&(e.current=!1),r!==Hf&&e.current===!1&&(xs({wallet_id:t,coin_balance:o,nft_balance:n,defi_balance:i,platform_coin_balance:r}),e.current=!0)},[t,l,r,n,o,i])},Pw=vE;a();s();var Aw=m(C()),da=m(ee());Kt();_t();var SE=()=>{let e=(0,da.useSelector)($r),t=(0,da.useSelector)(If),n=me()===qr;(0,Aw.useEffect)(()=>{e&&Ss({islogin:"yes",isbydapp:n?"yes":"no",dapp_url:La?"web3.okx.com/pc":t,wallet_id:e})},[e])},Iw=SE;a();s();a();s();var EE=()=>{},Ow=EE;var Mw=Ow;oe.config({duration:3,top:10,left:16,right:16,maxCount:3,placement:oe.DIRECTION.top,isInline:!0});var kw=()=>{let e=Mw(),t=(0,Rw.useHistory)(),r=(0,at.useDispatch)();xw(),Dn(),Iw(),Pw();let n=(0,at.useSelector)(S=>S.appState.isLoading),{os:i,browser:o}=(0,at.useSelector)(S=>S.metamask.browserEnvironment)||{},l=(0,at.useSelector)(hs),u=(0,at.useSelector)(cs)?.isoCode||"usd",d=(0,at.useSelector)(Jr),p=process.env.ASSETS_BUILD_TYPE===Me.DEV||process.env.ASSETS_BUILD_TYPE===Me.DAILY,v=()=>{t.listen((S,E)=>{E==="PUSH"&&Eh(S.pathname)})},b=()=>{u||r(bf("usd"))};return(0,Dw.useMount)(()=>{v(),hf(),Qr(l),b(),Hh(d)}),jt.default.createElement(jt.default.Fragment,null,jt.default.createElement("div",{className:(0,Nw.default)("app-content",{[`os-${i}`]:i,[`browser-${o}`]:o}),style:{height:e}},jt.default.createElement(bw,{isLoading:n})),!!p&&jt.default.createElement(Vh,null))};a();s();var pa=class extends ne.PureComponent{constructor(){super(...arguments);Ke(this,"state",{});Ke(this,"isNetworkError",()=>{let{error:r}=this.state;return r instanceof TypeError&&r.message?.toLocaleLowerCase().match(/failed to fetch/)})}static getDerivedStateFromError(r){return{error:r}}componentDidCatch(r){Ve.captureException(r)}render(){let{error:r}=this.state,{store:n}=this.props;if(r){let i=r&&this.isNetworkError();return ne.default.createElement(ca.Provider,{store:n},ne.default.createElement(Yo,null,i?ne.default.createElement(kh,null):ne.default.createElement(Xo,{error:r})))}return ne.default.createElement(ca.Provider,{store:n},ne.default.createElement(qh,null),ne.default.createElement(Lw.HashRouter,null,ne.default.createElement(Yo,null,ne.default.createElement(Ia,{options:Ga},ne.default.createElement(Oa,null,ne.default.createElement(kw,null))))))}},Ww=pa;var ga=m(ey());oy();ti();ry();fi();ly();ri();zt();a();s();function Uw(e){let t={accountIdentities:e.accountIdentities,keyringIdentities:e.keyringIdentities,selectedWallet:e.selectedWallet,multiAddressBaseChainsMap:e.multiAddressBaseChainsMap};return delete e.accountIdentities,delete e.keyringIdentities,delete e.selectedWallet,delete e.multiAddressBaseChainsMap,t}var ha=null,zn=null,Bw=!1,ma={current:{},okdCurrent:{},dexCurrent:{}};function xE(){if(!Bw){if(Fa.config({top:16}),Aa.config({returnString:!0,isConvertToZero:!0,exponentialAt:[-40,40]}),$t.setConfig({Dialog:{maskClosable:!0,getContainer:()=>document.querySelector(".main-container-wrapper")},Drawer:{getContainer:()=>document.querySelector(".main-container-wrapper")},[$t.componentNames.Select]:{bottomSafeSpace:0}}),process.env.ASSETS_BUILD_TYPE===Me.DEV||process.env.ASSETS_BUILD_TYPE===Me.DAILY){let e=window.localStorage.getItem("languageKeyMode");bt(e==="keyMode")}Bw=!0}}function TE(e){window.getCleanAppState=function(){let t=Ca(e.getState());return t.version=globalThis.platform.getVersion(),t.browser=window.navigator.userAgent,t}}async function CE(){return await Ea.setUrlFromLocalAsync(),await va.setUrlFromLocalAsync(),Promise.allSettled([vs(),Es()])}function PE(e){async function t(r){let n=await Yn.default.tabs.get(r),{active:i,id:o,title:l,url:u}=n;if(i===!1)return;let{origin:d,protocol:p}=u?new URL(u):{};!d||d==="null"||e.dispatch(ch({id:o,title:l,origin:d,protocol:p,url:u}))}Yn.default.tabs.onActivated.addListener(async({tabId:r})=>{await t(r)}),Yn.default.tabs.onUpdated.addListener(async r=>{await t(r)})}async function AE(e){return new Promise((t,r)=>{e.getStateByDomain((n,i)=>{if(n){r(n);return}t(i)})})}async function IE({metamaskState:e,backgroundConnection:t,opts:r,isFirstRun:n}){let i;if(n){Qa(e.currentLocale);let b=await Promise.allSettled([Vr(e.currentLocale),Vr(e.currentLocale,ga.LOCALE_TYPE.okd),Vr(e.currentLocale,ga.LOCALE_TYPE.dex)]);ma={current:b[0].value,okdCurrent:b[1].value,dexCurrent:b[2].value},qs(e.currentLocale),i=ma}else i=ma;let o=Uw(e),u={...{activeTab:r.activeTab,metamask:e,appState:{},localeMessages:i}},d;n?(d=Bo(u),zn=d,PE(d),d.dispatch(Oh())):(d=zn,d.dispatch(di(e)));let p=ss(e.unapprovedTxs,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.network,e.provider.chainId);return p.length>0&&d.dispatch(Ks({id:p[0].id})),t.onNotification(b=>{switch(b.method){case"sendUpdate":{let S=b.params[0];d.dispatch(di(S))}break;case"sendPartialUpdate":{let S=b.params[0];d.dispatch(Fs(S))}break;case"sendUpdateBalance":{let S=b.params[0];d.dispatch(S?bs(S):Et())}break;default:throw new Error(`Internal JSON-RPC Notification Not Handled:

 ${JSON.stringify(b)}`)}}),js(o,d.dispatch.bind(d),!1),ha=ha||(0,jw.createRoot)(r.container),ha.render(qw.default.createElement(Ww,{store:d})),d}async function wa(e,t){xE();let{backgroundConnection:r}=e;ls(r),Ya(r.refreshHttpDNS);try{let n=await AE(r);as(n.chainList);let i=!zn;i&&await CE();let o=await IE({metamaskState:n,backgroundConnection:r,opts:e,isFirstRun:i});i&&TE(o),t(null,o)}catch(n){zn=null,t(n)}}window.logStateString=async function(e){let t=window.getCleanAppState();try{let r=await globalThis.platform.getPlatformInfo();t.platform=r;try{t.log=await Va()}catch{t.log=[]}let n=await ph();Object.keys(n).forEach(o=>{t[o]=n[o]});let i=JSON.stringify(t,null,2);e(null,i)}catch(r){e(r)}};a();s();var OE=["popup.html","notification.html","home.html"];navigator.userAgent.includes("Android")&&OE.forEach(e=>{location.href.includes(e)&&(location.href=location.href.replace(e,"fullscreen.html"))});var ya=!1,Xn=null;function ME(e){let t=new Hw.default;t.pipe(e).pipe(t),e.on("error",Wr),t.on("error",Wr)}function RE(e,t){let r=ip(e);t(null,r)}function DE(e,t){let r=lh(e);RE(r.createStream("controller"),t),ME(r.createStream("provider"))}function NE(e,t,r,n){DE(r,(i,o)=>{if(i){n(i);return}wa({activeTab:e,container:t,backgroundConnection:o},n)})}async function kE(e){return new Promise(t=>{if(e!==Br&&e!==jr){t({});return}_a.default.tabs.query({active:!0,currentWindow:!0}).then(r=>{let[n]=r,{id:i,title:o,url:l}=n,{origin:u,protocol:d}=l?new URL(l):{};if(!u||u==="null"){t({});return}t({id:i,title:o,origin:u,protocol:d,url:l})}).catch(Wr)})}async function Gw(e,t){let r=await kE(e);Fr()===ka&&(r.origin="https://web3.okx.com");let n=document.getElementById("app");NE(r,n,t,i=>{if(i)throw i})}function LE(){if(!ya)try{globalThis.platform=new No,Xn=me(),Ua(),ya=!0}catch{ya=!1}}function Kw(){let e=_a.default.runtime.connect({name:Xn}),t=new mr(e);return t.once("end",()=>{let r=Kw();Gw(Xn,r)}),t}async function WE(){LE();let e=Kw();Gw(Xn,e)}WE().catch(Fw.default.error);

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ui.js.map
