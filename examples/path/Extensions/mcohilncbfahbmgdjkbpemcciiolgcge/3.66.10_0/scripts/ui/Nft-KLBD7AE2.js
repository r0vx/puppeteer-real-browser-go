import{a as It,c as yt,d as bt}from"./chunk-UZBESP4B.js";import{a as de}from"./chunk-FQQAU2NV.js";import{a as Tt}from"./chunk-TLCBIZ4W.js";import{a as kt,b as wt}from"./chunk-BRQ6KAFA.js";import"./chunk-YRSPTNVO.js";import{d as gt}from"./chunk-TZ7T5CIH.js";import{a as ut}from"./chunk-C5O75IHM.js";import"./chunk-U6NBHUF6.js";import"./chunk-FBGIZDXX.js";import"./chunk-O3U6IW2R.js";import"./chunk-2SBM2GLU.js";import"./chunk-MZGXPN5Z.js";import{a as _t}from"./chunk-PIQKWFMY.js";import"./chunk-32XJE5HT.js";import"./chunk-CDNJY7Z3.js";import"./chunk-DBWXHHZT.js";import"./chunk-VVKAQ7K5.js";import"./chunk-7JSJY3SQ.js";import"./chunk-NWY3GPDX.js";import"./chunk-6JEFG7DQ.js";import{a as ht}from"./chunk-ACLCW4PT.js";import{b as Nt}from"./chunk-6SNKRANG.js";import"./chunk-YEFTFSOJ.js";import"./chunk-L6DDH2OK.js";import{a as pt}from"./chunk-WPAZ67JY.js";import"./chunk-B6YXJZUF.js";import"./chunk-4I2JSOYJ.js";import"./chunk-GTN3RCGH.js";import"./chunk-3VKPY2QL.js";import"./chunk-AOSRFQ4E.js";import"./chunk-ULL77AIR.js";import"./chunk-PJYSMRRW.js";import"./chunk-GKQQDLVP.js";import"./chunk-7YKP5374.js";import"./chunk-KGG7DXMS.js";import"./chunk-FGIHS4ZF.js";import"./chunk-U65R4NF3.js";import"./chunk-OTUJWRS5.js";import"./chunk-WIW5JVRP.js";import"./chunk-7CXUJS4C.js";import"./chunk-ULXZERAJ.js";import"./chunk-PJ5X5CUU.js";import"./chunk-TSVRDRPO.js";import"./chunk-PPTAKQQT.js";import"./chunk-IFQDHP3Z.js";import"./chunk-DA5RJYYW.js";import"./chunk-HUC3JPS2.js";import"./chunk-MYNDXPHU.js";import"./chunk-ZTIVM5ML.js";import"./chunk-2E2OBQTS.js";import"./chunk-VICEBZ4G.js";import"./chunk-WO6OHGU2.js";import"./chunk-3S4BGA37.js";import"./chunk-POP3LIKS.js";import"./chunk-PMRTKWFS.js";import"./chunk-G44PPNNQ.js";import"./chunk-K2BSCLBF.js";import"./chunk-PZY7HRHV.js";import"./chunk-Z2L2F5M5.js";import"./chunk-IPLOJJIA.js";import"./chunk-RLPRDJ34.js";import"./chunk-2ASICJQL.js";import"./chunk-TQWSBAXG.js";import"./chunk-6JVCYB7O.js";import"./chunk-GR42TVIZ.js";import"./chunk-QMSSDBOR.js";import"./chunk-H5EE6AS6.js";import"./chunk-64GFKAIL.js";import"./chunk-IP56UC5N.js";import"./chunk-34JXWTF5.js";import"./chunk-JSOLAK4X.js";import"./chunk-R7LZSAVU.js";import"./chunk-LTLRDXME.js";import"./chunk-RMI6BAM3.js";import"./chunk-AADHEW4J.js";import"./chunk-OK4242CI.js";import"./chunk-6MVL4I6V.js";import"./chunk-E7MGN3V4.js";import"./chunk-YGIVEMKT.js";import"./chunk-T4RFDN7D.js";import"./chunk-NQAVUB4Q.js";import{a as ft}from"./chunk-IEGAVAV7.js";import"./chunk-V4P2E4SN.js";import"./chunk-DYL77QBO.js";import"./chunk-5A3RJQCM.js";import"./chunk-QEBIHVR2.js";import{b as Ye,d as E,e as Ke,g as ze,h as Ze,i as Je,j as Qe,k as Xe,l as et,m as tt,p as ot,q as nt,r as st}from"./chunk-MWPAA6TC.js";import"./chunk-73HPZW2B.js";import{b as H}from"./chunk-LQBCLW7R.js";import"./chunk-MN3UHDTX.js";import"./chunk-IJW6HFV5.js";import"./chunk-N2MMFEEK.js";import"./chunk-JMCNWKNZ.js";import"./chunk-MKDQBVRZ.js";import{a as lt}from"./chunk-DA2FCNEZ.js";import"./chunk-TLZRRG7J.js";import"./chunk-ZFFAX2YS.js";import"./chunk-7UDMBSMI.js";import"./chunk-7C7MBE2C.js";import"./chunk-KJWX5V23.js";import"./chunk-KDVER5QK.js";import"./chunk-5CHE7P4E.js";import"./chunk-PD44C7EF.js";import"./chunk-6K6UF6OE.js";import"./chunk-OKXHAJNT.js";import{a as dt}from"./chunk-CBHKW7LL.js";import"./chunk-67F2WFQO.js";import"./chunk-QYDRYMWS.js";import{g as U,h as ct,k as mt}from"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3C5KK.js";import{e as rt}from"./chunk-XZE3L7K7.js";import"./chunk-UR7XESQE.js";import"./chunk-JABAEAEN.js";import"./chunk-VY2VK2OT.js";import{a as at}from"./chunk-Q7FGM7BT.js";import"./chunk-TKE74ERX.js";import"./chunk-MONRGJFN.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import"./chunk-IK72BO4I.js";import{v as ee,w as je}from"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import{r as Fe}from"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import{o as we}from"./chunk-XP3TNE3R.js";import{H as Ge,jc as xe}from"./chunk-QRHYK2TW.js";import"./chunk-PODZSVO7.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import{a as Ce}from"./chunk-532YJKK4.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import{c as be,e as go}from"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-2FDQIA7D.js";import{a as me}from"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import{d as it}from"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import{c as B}from"./chunk-62ZAND24.js";import{a as te}from"./chunk-SIITVWZR.js";import{Ab as We,Bd as X,Eb as $,Jb as le,Ma as O,Na as ae,Pd as qe,ic as ce,od as Ue,pd as z,qd as Z,rc as $e,rd as J,zd as Q}from"./chunk-QHXUL3YM.js";import{H as D,n as Ve,y as d}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{A as K,E as W,H as ye,d as Ie,o as ie,p as re,y as L}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import{la as De,ra as uo}from"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{aa as Y,fa as S,ka as V}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as x}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-D2YP6KBJ.js";import{a as _o}from"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-S5ACFHVS.js";import"./chunk-FQLRWF7X.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-VYKQ62AB.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-KTFU3F6C.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as g,o as t,q as o}from"./chunk-SHG7TIBL.js";t();o();var p=g(x()),ne=g(xe()),ao=g(Ce()),Te=g(te());D();t();o();var Ft=g(we());t();o();ae();le();var xt=(e,n="")=>$(O.checkHasHiddenNFT,{address:e,chain:n});t();o();var No=dt(Ze,ot),Ct=No;function ho(e){let{currentNetworkUniqueId:n}=pt(),s=ut(),[i,a]=Ct(),{loading:l,runAsync:r,run:N}=(0,Ft.useRequest)(()=>{let u=s(n).join(",");return u?xt(u,`${n}`).then(f=>{let h=!!f?.data?.ownedHiddenNft;return a(h),h}).catch(()=>(a(!1),!1)):(a(!1),Promise.resolve(!1))},{manual:e?.manual??!0,refreshDeps:[n],onSuccess:u=>{e?.onChecked?.(u)},onError:()=>{}});return{hasHiddenNFT:i,loading:l,checkAsync:r,check:N,setHasHiddenNft:a}}var fe=ho;t();o();var y=g(x()),Kt=g(Ce());D();t();o();var T=g(x()),q=g(te());D();t();o();var C=g(x());var qt=g(te());t();o();var $t=g(x()),_e=g(we());D();t();o();var At=g(xe());function To(){let e=U(),n=(0,At.useDispatch)();return(s,i)=>{let{hideManualHidden:a}=Ke(e),l={id:s,walletId:e,newData:{hiddenStatus:i?E.SHOW:E.MANUAL}};n(a&&!i?st(l):nt(l))}}var Et=To;Ue();t();o();function ko(e,n){return e.includes(n)}var Ht=ko;t();o();var pe={SHOW:0,HIDE:1};t();o();var ue={hide:{button:"extension_wallet_filter_btn_hide",error:"extension_wallet_notif_text_hide_unsuccess",success:"extension_wallet_notif_text_hide_success"},show:{button:"extension_wallet_filter_btn_unhide",error:"extension_wallet_notif_text_unhide_unsuccess",success:"extension_wallet_notif_text_unhide_success"},transfer:"extension_wallet_filter_btn_transfer"};t();o();t();o();ae();le();t();o();var Pt={expired:4001,illegal:4002,parsingFailed:4003};var St=e=>$(O.changeNFTVisibility,e),Ot=e=>{let n=e?.data?.addressTokenErrorMap??{};return Object.values(n).some(s=>Object.values(Pt).includes(s))};t();o();var Ae="nftToken",vt=(e,n)=>{try{let s=localStorage.getItem(Ae)??"{}",i=JSON.parse(s);return localStorage.setItem(Ae,JSON.stringify({...i,[e]:n})),!0}catch{return!1}},Lt=e=>{try{let n=localStorage.getItem(Ae);return n?(JSON.parse(n)??{})?.[e]:void 0}catch{return}};t();o();go();Ue();t();o();ae();le();var Bt=e=>We(O.getNFTSignData,{address:e});t();o();ae();le();qe();var Rt={[z]:1,[J]:2,[Q]:2,[X]:4,[Z]:5},Mt=e=>$(O.loginNFT,e);t();o();qe();var Dt={[z]:z,[Z]:Z,[X]:X,[J]:J,[Q]:Q};var Io=e=>Object.values(Dt).includes(e),Vt=async(e,n,s)=>{let i=me(n);if(!Io(i))return;let a=await Bt(e),l=a?.data?.signData,r=a?.data?.nonce;if(!l||!r)return;let N=await be().signMessageSilent({from:e,data:l,nonce:r},i,s);if(!N)return;let u={address:e,signature:N,algorithmCode:Rt[i]};if([ce,$e].includes(i)){let h=await be().getPublicKey(e,i,s);u.publicKey=h}return(await Mt(u))?.data?.token};var Wt={LOGIN_ERROR:"LOGIN_ERROR",TOKEN_ERROR:"TOKEN_ERROR"},yo=async({address:e,baseCoinId:n,useNewToken:s,walletId:i})=>{let a=Lt(e);if(!s&&a)return a;try{let l=await Vt(e,n,i);if(!l)throw new Error(Wt.LOGIN_ERROR);return vt(e,l),l}catch{throw new Error(Wt.LOGIN_ERROR)}},Ee=0,bo=3,He=async(e,n,s=!1)=>{let{addresses:i,nftId:a,type:l,walletId:r}=n,N=[];for(let f of i){let h=await yo({address:f,baseCoinId:e,useNewToken:s,walletId:r});N.push(h)}let u=i.reduce((f,h,_)=>(f[h]=N[_],f),{});try{await St({nftId:a,type:l,addressTokenMap:u}),Ee=0}catch(f){if(Ot(f)){if(Ee++,Ee>bo)throw f;await He(e,n,!0)}else throw f}};function wo(e){let{id:n,baseCoinId:s,onSuccess:i,hiddenStatus:a}=e,l=!Ht([E.AUTO,E.MANUAL],a),r=U(),N=mt(),u=Et(),{check:f}=fe(),h=l?ue.hide:ue.show,_=(0,_e.useRequest)(He,{onError:()=>{ye.error(d(h.error))},onSuccess:(I,[,{nftId:v,type:A}])=>{ye.success(d(h.success)),u(v,A===pe.SHOW),f(),i?.()},manual:!0}),k=()=>{if(_.loading)return;let I=N(r),v=me(s),A=I?.account?.[v],w=Object.values(I?.addressType?.bitcoin??{}).map(se=>se?.address).filter(Boolean);_.run(s,{addresses:v===ce?w:[A],type:l?pe.HIDE:pe.SHOW,nftId:n,walletId:r})},F=d(h.button);return{key:"visibility",loading:_.loading,text:F,onClick:k,icon:l?"okx-wallet-plugin-hide":"okx-wallet-plugin-show"}}function xo(e){let{ownerAddress:n,chainId:s,tokenId:i,contractAddress:a}=e,{loading:l,getNFTInfo:r}=It({looker:n,chainId:`${s}`,tokenId:`${i}`,contractAddress:a}),N=yt(),u=async()=>{let h=await r();if(!!h){if(h?.chainName==="Solana"&&h?.sale){let _=ie.tip({alignBottom:!1,title:d("extension_wallet_detail_title_transfer_faild"),children:d("extension_wallet_detail_text_transfer_faild"),confirmText:d("wallet_extension_btn_general_ok"),onConfirm:()=>{_.destroy()}});return}N(h)}},f=d(ue.transfer);return{key:"transfer",loading:l,text:f,onClick:u,icon:"okx-wallet-plugin-transfer"}}function Co(){let e=(0,$t.useRef)(null),n=()=>{e.current?.setVisible(!1)};return(0,_e.useEventListener)("scroll",n,{target:document.getElementById(kt)}),{popupRef:e,closePopup:n}}function Fo(e){let{popupRef:n,closePopup:s}=Co(),{baseCoinId:i,id:a,hiddenStatus:l,ownerAddress:r,chainId:N,contractAddress:u,tokenId:f,transfer:h=!0,visible:_=!0}=e,k=wo({onSuccess:s,baseCoinId:i,id:a,hiddenStatus:l}),F=xo({ownerAddress:r,chainId:N,tokenId:f,contractAddress:u}),I=[];return h&&I.push(F),_&&I.push(k),{popupRef:n,actions:I}}var Ut=Fo;t();o();var R={root:"_root_1orqe_1",popup:"_popup_1orqe_6",item:"_item_1orqe_13",iconBox:"_iconBox_1orqe_24",loader:"_loader_1orqe_32",icon:"_icon_1orqe_24"};function Ao(e){let{popupRef:n,actions:s}=Ut(e);return C.default.createElement(B.Box,{className:R.root},C.default.createElement(re,{content:C.default.createElement(B.Box,{className:R.popup},s.map(i=>C.default.createElement(B.Box,{className:R.item,onClick:i.onClick,key:i.key},C.default.createElement(B.Box,{className:R.iconBox},i.loading?C.default.createElement(S,{size:S.SIZE.sm,className:R.loader}):C.default.createElement(Y,{className:(0,qt.default)(i.icon,R.icon)})),C.default.createElement(Fe.Text,{size:Fe.SIZE.sm},i.text)))),trigger:re.TRIGGER.click,placement:re.DIRECTION.topRight,ref:n},C.default.createElement(Y,{className:"okds-more"})))}var Gt=Ao;t();o();var oe=g(x()),jt=g(te());t();o();var m={clickable:"_clickable_1le74_1",priceTitle:"_priceTitle_1le74_4",priceContent:"_priceContent_1le74_12",priceValue:"_priceValue_1le74_22","add-weight":"_add-weight_1le74_27",addWeight:"_add-weight_1le74_27",chainImage:"_chainImage_1le74_27",priceAmount:"_priceAmount_1le74_32",price:"_price_1le74_4",noResultImageBox:"_noResultImageBox_1le74_39",collectionName:"_collectionName_1le74_43","ok-nft-main-list":"_ok-nft-main-list_1le74_47",okNftMainList:"_ok-nft-main-list_1le74_47","ok-nft-loading-status":"_ok-nft-loading-status_1le74_54",okNftLoadingStatus:"_ok-nft-loading-status_1le74_54","ok-nft-main-no-nft":"_ok-nft-main-no-nft_1le74_59",okNftMainNoNft:"_ok-nft-main-no-nft_1le74_59","ok-nft-image":"_ok-nft-image_1le74_62",okNftImage:"_ok-nft-image_1le74_62","ok-nft-image-box":"_ok-nft-image-box_1le74_70",okNftImageBox:"_ok-nft-image-box_1le74_70","ok-nft-image-box-hide":"_ok-nft-image-box-hide_1le74_74",okNftImageBoxHide:"_ok-nft-image-box-hide_1le74_74","ok-nft-is-new":"_ok-nft-is-new_1le74_77",okNftIsNew:"_ok-nft-is-new_1le74_77","ok-nft-collections":"_ok-nft-collections_1le74_94",okNftCollections:"_ok-nft-collections_1le74_94","ok-nft-flag-image":"_ok-nft-flag-image_1le74_106",okNftFlagImage:"_ok-nft-flag-image_1le74_106","ok-nft-chain-image":"_ok-nft-chain-image_1le74_111",okNftChainImage:"_ok-nft-chain-image_1le74_111","ok-nft-name":"_ok-nft-name_1le74_120",okNftName:"_ok-nft-name_1le74_120","ok-nft-main-item":"_ok-nft-main-item_1le74_132",okNftMainItem:"_ok-nft-main-item_1le74_132","ok-nft-is-hide":"_ok-nft-is-hide_1le74_138",okNftIsHide:"_ok-nft-is-hide_1le74_138","ok-nft-is-hide-icon":"_ok-nft-is-hide-icon_1le74_150",okNftIsHideIcon:"_ok-nft-is-hide-icon_1le74_150","ok-nft-collection-identification-name":"_ok-nft-collection-identification-name_1le74_154",okNftCollectionIdentificationName:"_ok-nft-collection-identification-name_1le74_154","ok-nft-collection-name":"_ok-nft-collection-name_1le74_157",okNftCollectionName:"_ok-nft-collection-name_1le74_157"};var Eo=({item:e,index:n})=>{let[s,i]=(0,oe.useState)(!1),a=n%2>1?K.DIRECTION.top:K.DIRECTION.topRight;return oe.default.createElement(K,{show:s,title:e.collectionName,trigger:K.TRIGGER_TYPES.hover,placement:a},oe.default.createElement("span",{onMouseOver:()=>{let l=e.isIdentification?127:144;document.querySelector(`.ok-nft--collection-name-hidden-${e.id}`).clientWidth>l&&i(!0)},onMouseLeave:()=>{i(!1)},className:(0,jt.default)(m.okNftCollectionName,m.addWeight,e.isIdentification?m.okNftCollectionIdentificationName:"")},e.collectionName||e.projectName))},Yt=Eo;var Ho=()=>{let e=ct();return rt(e?.initialType)},ge=e=>{let n=Ho(),{inImage:s}=e.slot||{},i=H(e.salePrice)||H(e.lastPrice)||H(e.bestOfferPrice),a=d("wallet_extension_nft_detail_text_price"),l="New";e.salePrice?a=d("wallet_extension_nft_detail_text_price"):e.lastPrice?a=d("wallet_extension_nft_detail_text_last"):e.bestOfferPrice&&(a=d("wallet_extension_nft_detail_text_best_offer"));let r=!n&&!e?.needClaim,N=[E.AUTO,E.MANUAL].includes(e?.hiddenStatus),u=N&&T.default.createElement("div",{className:m.okNftIsHide},T.default.createElement(Y,{className:(0,q.default)("okx-wallet-plugin-hide",m.okNftIsHideIcon)})),f=it({dark:"/cdn/assets/imgs/246/690CB9B3F2F4142F.png",light:"/cdn/assets/imgs/246/15101867D98B5C34.png"});return T.default.createElement("div",{className:m.okNftMainItem},T.default.createElement("div",{className:m.clickable,onClick:e.onClick},T.default.createElement("div",{className:m.okNftImageBox},T.default.createElement(Tt,{startStatus:e.activeId===wt.NFT,src:e.image||e.resourceUrl,alt:"",classnames:(0,q.default)(m.addWeight,m.okNftImage,N&&m.okNftImageBoxHide),backupImage:f}),e.isNew&&T.default.createElement("div",{className:m.okNftIsNew},l),s?s(u):u),T.default.createElement("div",null,T.default.createElement("div",{className:m.okNftCollections},T.default.createElement(Yt,{item:e}),T.default.createElement("div",{className:(0,q.default)(`ok-nft--collection-name-hidden-${e.id}`,m.collectionName)},e.collectionName),e.isIdentification&&T.default.createElement(W,{alt:"",src:"/static/images/nft/nft-isidentification.svg",className:m.okNftFlagImage}),T.default.createElement(W,{alt:"",src:e.chainIcon,className:(0,q.default)(m.addWeight,m.okNftChainImage)})),T.default.createElement("div",{className:m.okNftName},e.name))),T.default.createElement("div",{className:m.price},T.default.createElement("div",{className:m.priceTitle},a),T.default.createElement("div",{className:m.priceContent},T.default.createElement("div",{className:m.priceValue},i?.currencyUrl&&T.default.createElement(W,{alt:"",src:`${i?.currencyUrl}`,className:(0,q.default)(m.addWeight,m.chainImage)}),T.default.createElement("div",{className:m.priceAmount},i?.priceDisplay||"--")),r&&T.default.createElement(Gt,{id:e.id,hiddenStatus:e.hiddenStatus,baseCoinId:e.baseCoinId,ownerAddress:e.ownerAddress,chainId:e.chain,contractAddress:e.contractAddress,tokenId:e.tokenId,...e.actionsProps||{}}))))};t();o();var P={"new-home-page-aptos-box":"_new-home-page-aptos-box_btcug_1",newHomePageAptosBox:"_new-home-page-aptos-box_btcug_1","new-home-page-aptos-image":"_new-home-page-aptos-image_btcug_10",newHomePageAptosImage:"_new-home-page-aptos-image_btcug_10","new-home-page-aptos-text":"_new-home-page-aptos-text_btcug_17",newHomePageAptosText:"_new-home-page-aptos-text_btcug_17","new-home-page-aptos-notify":"_new-home-page-aptos-notify_btcug_27",newHomePageAptosNotify:"_new-home-page-aptos-notify_btcug_27","new-home-page-aptos-get":"_new-home-page-aptos-get_btcug_30",newHomePageAptosGet:"_new-home-page-aptos-get_btcug_30","new-home-page-aptos-claim":"_new-home-page-aptos-claim_btcug_44",newHomePageAptosClaim:"_new-home-page-aptos-claim_btcug_44","new-home-page-aptos-title":"_new-home-page-aptos-title_btcug_49",newHomePageAptosTitle:"_new-home-page-aptos-title_btcug_49","ok-nft-main-list":"_ok-nft-main-list_btcug_53",okNftMainList:"_ok-nft-main-list_btcug_53"};var zt=({data:e=[],accountAddress:n})=>{let[s,i]=(0,y.useState)(!1),a=(0,Kt.useHistory)(),l=d("extension_home_aptos_nft_card_receivenum",{num:y.default.createElement("span",{key:"language",className:P.newHomePageAptosNotify},e.length)});return y.default.createElement(y.default.Fragment,null,y.default.createElement(ie.Action,{windowStyle:{borderTopLeftRadius:"8px",borderTopRightRadius:"8px"},onClose:()=>{i(!1)},visible:s,title:y.default.createElement("span",{className:P.newHomePageAptosTitle},d("extension_aptos_nft_title_receiveallowed")),windowClass:P.newHomePageAptosClaim},y.default.createElement("div",{className:P.okNftMainList},e.map(r=>(r.coverUrl?r.image=r.coverUrl:r.resourceType===1&&(r.image=r.resourceUrl),r.lastPrice=H(r.lastPrice),r.bestOffer=H(r.bestOffer),r.sale=H(r.sale),r.floorPriceDetail=H(r.floorPriceDetail),y.default.createElement(ge,{...r,key:r.tokenId,activeId:2,needClaim:!0,onClick:()=>{a.push({search:`chainId=${r.chain}&contractAddress=${r.contractAddress}&tokenId=${encodeURIComponent(r.tokenId)}&claim=true&offerAddress=${r.offerAddress}&looker=${n}&accountAddress=${n}`,pathname:`${ee}`})}}))))),y.default.createElement("div",{className:P.newHomePageAptosBox},y.default.createElement(W,{alt:"",width:32,height:32,className:P.newHomePageAptosImage,src:e[0].coverUrl||e[0].resourceUrl}),y.default.createElement("div",{className:P.newHomePageAptosText},l),y.default.createElement("span",{className:P.newHomePageAptosGet,onClick:()=>{e.length>1?i(!0):a.push({search:`chainId=${e[0].chain}&contractAddress=${e[0].contractAddress}&tokenId=${encodeURIComponent(e[0].tokenId)}&claim=true&offerAddress=${e[0].offerAddress}&looker=${n}&accountAddress=${n}`,pathname:`${ee}`})}},d("extension_home_aptos_nft_card_receivenow"))))};t();o();var G=g(x()),Jt=g(xe()),Qt=g(Ce()),Xt=g(te());t();o();var Ne=g(x());D();t();o();var b={INIT:"init",FILTER:"filter"};var Po=({type:e=b.INIT,hideButton:n=!1,emptyImgClassName:s})=>{let i=lt(),{resetHideUnverifiedCollection:a}=de(),{resetFilterInfo:l}=_t(),r=(0,Ne.useCallback)(()=>{a(),l()},[l,a]),N={[b.INIT]:d("wallet_extension_nft_tab_nfts_desc"),[b.FILTER]:d("wallet_extension_nft_text_no_items_found")},u={[b.INIT]:d("wallet_extension_nft_tab_nfts_btn_explorenfts"),[b.FILTER]:d("wallet_extension_nft_btn_back_to_items")},f={[b.INIT]:L.State.TYPE.noResult,[b.FILTER]:L.State.TYPE.noRecord};return Ne.default.createElement(L.State,{imgClassName:s,title:N[e],type:f[e],buttonText:n?null:u[e],onButtonClick:n?void 0:()=>{if(e===b.INIT){globalThis.platform.openTab({url:i?.nftMarketPlace});return}r()}})},Zt=Po;var So=({list:e=[],filterStatus:n=!1,hasNFTFilter:s=!1,emptyClassname:i,emptyImgClassName:a})=>{let l=(0,Jt.useSelector)(tt),r=(0,Qt.useHistory)(),{currentWalletSetting:N}=de(),{hideNoValue:u,hideManualHidden:f}=N,h=u||f;if(e.length>0)return G.default.createElement("div",{className:m.okNftMainList},e.map(k=>{let{nftStatusInfo:F}=k,I=F?.data?.nftStatus==="1",A=Ge({coinId:k?.baseCoinId})&&!!k.inscriptionIdProtocol?k.inscriptionIdProtocol:k?.tokenId;return G.default.createElement(ge,{key:k.id,...k,tokenId:A,activeId:l,onClick:()=>{r.push({search:`looker=${k.ownerAddress}&chainId=${k.chain}&contractAddress=${k.contractAddress}&tokenId=${encodeURIComponent(A)}`,pathname:`${ee}`})},actionsProps:{transfer:!I},slot:{inImage:w=>I?G.default.createElement(bt,{className:m.okNftLoadingStatus,tooltip:!0,count:F.data?.txCount}):w}})}));let _=n&&!h?b.FILTER:b.INIT;return G.default.createElement("div",{className:(0,Xt.default)(m.okNftMainNoNft,i)},G.default.createElement(Zt,{hideButton:_===b.INIT&&s,type:_,emptyImgClassName:a}))},eo=So;t();o();var Se=g(x());D();t();o();var to=g(we());uo();var Oo="read_hidden_nft_tips_walletIds";function vo(e){let{hasHiddenNFT:n=!1}=e,s=U(),[i,a]=(0,to.useLocalStorageState)(Oo,{defaultValue:[]});return{showTips:!(s&&i?.includes(s))&&n,onRead:()=>{!s||a(De(i?.concat(s)))}}}var oo=vo;t();o();var Pe={root:"_root_1f2hq_1",alert:"_alert_1f2hq_4"};function Lo(e){let{showTips:n,onRead:s}=oo(e);return n?Se.default.createElement(B.Box,{className:Pe.root},Se.default.createElement(Ie,{desc:d("extension_wallet_filter_notif_filterhide"),type:Ie.TYPE.warn,onClose:s,className:Pe.alert})):null}var no=Lo;t();o();var M={showButton:"_showButton_5kvqf_1",loadingButton:"_loadingButton_5kvqf_12",loader:"_loader_5kvqf_17",empty:"_empty_5kvqf_23",emptyImg:"_emptyImg_5kvqf_26"};t();o();var j=g(x()),io=g(_o()),so=16,Bo=158,he=12,Ro=90+he,ro=({width:e=360})=>{let[n,s]=(0,j.useState)(2),i=(0,j.useCallback)(()=>{let a=e-so*2;return Math.floor((a+he)/(Bo+he))},[e]);return(0,j.useEffect)(()=>{let a=(0,io.debounce)(()=>{s(i())},500);return s(i()),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[i]),{columns:n,itemHeight:(e-so*2-(n-1)*he)/n+Ro}};var Mo=256,Do=({aptosNftOffers:e,aptosAddress:n,scrollTop:s,backupHeight:i})=>{let a=ft(),l=(0,ne.useSelector)(Xe),r=(0,ne.useSelector)(Qe),N=(0,ne.useSelector)(et),u=(0,p.useRef)(null),f=gt(),h=(0,ao.useHistory)(),{list:_,total:k,pageNo:F}=(0,ne.useSelector)(Je),{hasHiddenNFT:I}=fe({manual:!1}),v=!!a&&ze(a,Ye.hideUnverifiedCollection),A=Object.keys(N).some(po=>N[po].length!==0)||v,w=A||I&&_.length<=2,{columns:se,itemHeight:Oe}=ro({width:u.current?.clientWidth});(0,p.useEffect)(()=>{!r&&s>Oe*Math.ceil(_.length/se)-360&&k>_.length&&f({pageNo:F+1})},[s,r,_.length,k,F,f,se,Oe]);let lo=(0,p.useMemo)(()=>r&&_.length>0&&s>480,[r,_.length,s]),co=d("wallet_extension_nft_popup_title_filter"),mo=d("extension_wallet_filter_textbtn_filter",{number:Ve.thousandFormat(k)}),fo=w?mo:co,ve=(0,p.useMemo)(()=>w||s>Mo,[w,s]),{paddingBottom:Le,buttonPaddingBottom:ke,absoluteBottom:Be}=Nt({isButtonAbsolute:ve,backupHeight:i}),Re=(0,p.useMemo)(()=>_.length===0&&!w?ke:Le,[ke,w,_.length,Le]),Me=(0,p.useMemo)(()=>I?!0:e.length>0||_.length>0,[e.length,I,_.length]);return l?p.default.createElement("div",{className:(0,Te.default)("ok-home--error-parent"),style:{paddingBottom:Re}},p.default.createElement(L.State,{imgClassName:M.emptyImg,type:L.State.TYPE.noNetwork,title:d("wallet_extension_nft_text_loading_failed"),buttonText:d("wallet_extension_nft_btn_refresh"),onButtonClick:()=>{r||f({pageNo:1})}})):r&&_.length===0?p.default.createElement("div",{className:(0,Te.default)("ok-home--loading-parent")},p.default.createElement(S,{size:S.SIZE.xl})):p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{ref:u,style:{paddingBottom:Re}},Me&&p.default.createElement(ht,{assetType:"nft"}),e.length>0&&p.default.createElement(zt,{data:e,accountAddress:n}),p.default.createElement(no,{hasHiddenNFT:I}),p.default.createElement(eo,{filterStatus:A,list:_,hasNFTFilter:w,emptyClassname:Me?void 0:M.empty,emptyImgClassName:M.emptyImg})),lo?p.default.createElement(at,{className:M.loadingButton,offsetBottom:Be},p.default.createElement("div",{className:"ok-home-page--nft-loading"},p.default.createElement(S,{size:S.SIZE.lg,className:M.loader}))):p.default.createElement("div",{className:(0,Te.default)(`${ve?M.showButton:""}`,"ok-home-bottom-panel--nft","ok-home-bottom-panel__disabled"),style:{bottom:Be,paddingBottom:ke}},p.default.createElement(V,{icon:"okx-wallet-plugin-filter",type:V.TYPE.secondary,category:w?V.CATEGORY.fill:V.CATEGORY.outline,iconType:V.ICON_POSITION.leading,className:"home-button-nft sticky",onClick:()=>{h.push(je)}},fo)))},jr=Do;export{jr as default,Mo as nftItemHeight};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Nft-KLBD7AE2.js.map
