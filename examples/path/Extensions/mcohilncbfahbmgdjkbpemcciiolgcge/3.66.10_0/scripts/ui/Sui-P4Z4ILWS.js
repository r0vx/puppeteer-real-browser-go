import{a as v}from"./chunk-LVF4ZFDG.js";import{a as j}from"./chunk-ECC5IHEE.js";import{a as q}from"./chunk-V4ELRF6L.js";import{b as X}from"./chunk-ESFVNQVW.js";import{a as U,b as V}from"./chunk-DP2SXYTT.js";import"./chunk-A4QA4J4S.js";import"./chunk-W6JKZXLB.js";import"./chunk-CXT4EHFX.js";import"./chunk-W3MRBSTV.js";import"./chunk-HPJHY2AY.js";import"./chunk-CK7Z2DAQ.js";import"./chunk-5E2Y3UHC.js";import{a as Y}from"./chunk-OQZ6UOCK.js";import{a as K}from"./chunk-V2QGBG3D.js";import"./chunk-IFQLVQH6.js";import"./chunk-5TLDWKXV.js";import"./chunk-7GRDW7ZD.js";import"./chunk-NLKYL456.js";import"./chunk-7X4DXTSI.js";import"./chunk-LURPYTXM.js";import"./chunk-OADPFYBO.js";import"./chunk-CIEH2J25.js";import"./chunk-64LKONIY.js";import"./chunk-VVJ6BK3Q.js";import"./chunk-FUVVPSUI.js";import{n as D,r as b,t as W}from"./chunk-NKIUEXOA.js";import"./chunk-EP23RRSK.js";import"./chunk-4YDY4B6P.js";import"./chunk-CGFS6AE4.js";import"./chunk-DDT324RS.js";import"./chunk-2TQXMDYZ.js";import"./chunk-RNMISV22.js";import"./chunk-A267SEFJ.js";import"./chunk-VR7OPIR6.js";import{a as M}from"./chunk-HBWTVKRO.js";import"./chunk-4ZGOJDNI.js";import"./chunk-ZPQXBUKT.js";import"./chunk-35Y7QMWN.js";import"./chunk-VIT5MDY4.js";import"./chunk-RH6WPBEZ.js";import{b as L,k as O}from"./chunk-CDNJY7Z3.js";import"./chunk-DBWXHHZT.js";import"./chunk-VVKAQ7K5.js";import{d as w}from"./chunk-7JSJY3SQ.js";import"./chunk-NWY3GPDX.js";import"./chunk-6JEFG7DQ.js";import"./chunk-B6YXJZUF.js";import"./chunk-4I2JSOYJ.js";import"./chunk-GTN3RCGH.js";import"./chunk-3VKPY2QL.js";import"./chunk-AOSRFQ4E.js";import"./chunk-ULL77AIR.js";import"./chunk-PJYSMRRW.js";import"./chunk-GKQQDLVP.js";import"./chunk-7YKP5374.js";import"./chunk-KGG7DXMS.js";import"./chunk-FGIHS4ZF.js";import"./chunk-U65R4NF3.js";import"./chunk-OTUJWRS5.js";import"./chunk-WIW5JVRP.js";import"./chunk-7CXUJS4C.js";import"./chunk-ULXZERAJ.js";import"./chunk-PJ5X5CUU.js";import"./chunk-TSVRDRPO.js";import"./chunk-PPTAKQQT.js";import"./chunk-IFQDHP3Z.js";import"./chunk-DA5RJYYW.js";import"./chunk-HUC3JPS2.js";import"./chunk-MYNDXPHU.js";import"./chunk-ZTIVM5ML.js";import"./chunk-2E2OBQTS.js";import"./chunk-VICEBZ4G.js";import"./chunk-WO6OHGU2.js";import"./chunk-3S4BGA37.js";import"./chunk-POP3LIKS.js";import"./chunk-PMRTKWFS.js";import"./chunk-G44PPNNQ.js";import"./chunk-K2BSCLBF.js";import"./chunk-PZY7HRHV.js";import"./chunk-Z2L2F5M5.js";import"./chunk-IPLOJJIA.js";import"./chunk-RLPRDJ34.js";import"./chunk-2ASICJQL.js";import"./chunk-TQWSBAXG.js";import"./chunk-6JVCYB7O.js";import"./chunk-GR42TVIZ.js";import"./chunk-QMSSDBOR.js";import"./chunk-A5XY2FFW.js";import"./chunk-F6UVHIJV.js";import"./chunk-ZLJJZYPU.js";import"./chunk-5TNLDTW5.js";import"./chunk-34JXWTF5.js";import"./chunk-JSOLAK4X.js";import"./chunk-R7LZSAVU.js";import"./chunk-LTLRDXME.js";import"./chunk-RMI6BAM3.js";import"./chunk-AADHEW4J.js";import"./chunk-OK4242CI.js";import"./chunk-6MVL4I6V.js";import"./chunk-E7MGN3V4.js";import"./chunk-YGIVEMKT.js";import"./chunk-T4RFDN7D.js";import"./chunk-NQAVUB4Q.js";import"./chunk-IEGAVAV7.js";import"./chunk-V4P2E4SN.js";import"./chunk-DYL77QBO.js";import"./chunk-5A3RJQCM.js";import"./chunk-MN3UHDTX.js";import"./chunk-IJW6HFV5.js";import"./chunk-N2MMFEEK.js";import"./chunk-MKDQBVRZ.js";import"./chunk-DA2FCNEZ.js";import"./chunk-TLZRRG7J.js";import"./chunk-ZFFAX2YS.js";import"./chunk-7UDMBSMI.js";import"./chunk-KJWX5V23.js";import"./chunk-KDVER5QK.js";import"./chunk-5CHE7P4E.js";import"./chunk-PD44C7EF.js";import"./chunk-6K6UF6OE.js";import"./chunk-OKXHAJNT.js";import"./chunk-CBHKW7LL.js";import"./chunk-67F2WFQO.js";import"./chunk-QYDRYMWS.js";import"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3C5KK.js";import"./chunk-XZE3L7K7.js";import"./chunk-Y5K5NJ6U.js";import"./chunk-UR7XESQE.js";import"./chunk-JABAEAEN.js";import"./chunk-VY2VK2OT.js";import"./chunk-Q7FGM7BT.js";import"./chunk-TKE74ERX.js";import"./chunk-MONRGJFN.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import"./chunk-IK72BO4I.js";import"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import"./chunk-XP3TNE3R.js";import"./chunk-QRHYK2TW.js";import"./chunk-PODZSVO7.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import"./chunk-532YJKK4.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-2FDQIA7D.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import{M as x,da as N,ea as P}from"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import"./chunk-62ZAND24.js";import"./chunk-SIITVWZR.js";import{R as B,Vc as h,ia as re,od as oe}from"./chunk-QHXUL3YM.js";import"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import{L as F,ra as te}from"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as C}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-D2YP6KBJ.js";import"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-S5ACFHVS.js";import"./chunk-FQLRWF7X.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-VYKQ62AB.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-KTFU3F6C.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as I,o as i,q as a}from"./chunk-SHG7TIBL.js";i();a();var k=I(C());i();a();var z=I(C());function se(e=""){try{return new TextDecoder().decode(e)}catch{return e.toString()}}var H=({unapproved:e})=>{let t=se(v(e.params?.message));return z.default.createElement(j,{message:t,unapproved:e})};i();a();var A=I(C());oe();i();a();te();i();a();var T=I(C());var J=(e,t)=>{let{from:l,transaction:o,provider:m}=e,[E,c]=(0,T.useState)(!1),[n,r]=(0,T.useState)(null),[S,u]=(0,T.useState)(!1),[f,d]=(0,T.useState)("");return(0,T.useEffect)(()=>{(async()=>{if(!!o){c(!0);try{let s=O.from(o);s.setSenderIfNotSet(l);let p="";m&&(p=L(await s.build({client:m}))),t&&await t(p),r({fee:s?.blockData?.gasConfig?.budget||"0",tx:s,txBytes:p}),u(!1),d("")}catch(s){u(!0),d(s?.message||"")}finally{c(!1)}}})()},[o]),{loading:E,error:S,errorMsg:f,result:n}};re();var ne=({coinId:e,unapproved:t,preExecuteRet:l})=>{let o=M(t),{address:m,walletId:E}=o,{verifyGasLimitRet:c}=l,n=K(e,E)||{},{coinAmountInt:r}=n,{loading:S,result:u={},error:f,errorMsg:d}=J({from:m,transaction:t?.params?.transaction,provider:q}),g=u?.fee,s=(F(r)||B(r,g))&&!b(c),p=F(r)||B(r,0),_={coinId:e,loading:S,estimateFailed:f,networkFee:g},G;return f&&d&&(G=d),{loading:S,networkFee:u,networkFeeProps:_,isSufficientGas:s,estimateFailed:f,estimateFailedMsg:G,isSufficientBalance:p,coinWithBalance:n}},Q=ne;i();a();var y=I(C());var ie=({coinId:e,unapproved:t})=>{let l=W(),[o,m]=(0,y.useState)(!0),{host:E}=Y(t),{address:c}=M(t),[n,r]=(0,y.useState)({}),S=(0,y.useMemo)(()=>({checkTypes:[N.VERIFY_GAS_LIMIT,N.KYS],coinId:e,from:c,to:"",amount:0,txType:P.CALL_CONTRACT,domain:E}),[c,e]),u=async(g,s)=>{let p=await l({...S,chainId:s,inputData:g});r(p),m(!1)},f=(0,y.useMemo)(()=>n[N.VERIFY_GAS_LIMIT]||{},[n]);return{kysRet:(0,y.useMemo)(()=>({loading:o,...n[N.KYS]||{}}),[o,n]),loading:o,preExecuteRet:n,firePreExecute:u,verifyGasLimitRet:f}},Z=ie;var ae=(0,A.memo)(({unapproved:e})=>{let t=w(h)||{},l=t?.coinId||h,o=t?.chainIndex||t?.chainId||"",m=Z({unapproved:e,coinId:l}),{firePreExecute:E,kysRet:c,verifyGasLimitRet:n}=m,{networkFee:r,networkFeeProps:S,isSufficientGas:u,estimateFailed:f,estimateFailedMsg:d,loading:g,isSufficientBalance:s,coinWithBalance:p}=Q({coinId:l,unapproved:e,preExecuteRet:m});(0,A.useEffect)(()=>{r?.txBytes&&o&&E(r?.txBytes,o)},[r?.txBytes,o]);let _=U({kysRet:c,baseCoin:t,estimateFailed:f,estimateFailedMsg:d,isSufficientGas:u,verifyGasLimitRet:n,isSufficientBalance:s,coinWithBalance:p}),{buttonGroup:G,handleCancel:ee}=X({coinId:l,unapproved:e,feeLoading:g,preExecuteRet:m,estimateFailed:f,isSufficientGas:u,isSufficientBalance:s,extParams:{txBytes:r?.txBytes,fee:r?.fee},coinWithBalance:p});return D({kysRet:c,handleCancel:ee}),A.default.createElement(V,{kysRet:c,unapproved:e,tipMessage:_,buttonGroup:G,networkFee:S})}),$=ae;var He=({unapproved:e})=>{switch(e.method){case x.SIGN_AND_EXECUTE_TRANSACTION_BLOCK:case x.SIGN_TRANSACTION_BLOCK:case x.SIGN_AND_EXECUTE_TRANSACTION:case x.SIGN_TRANSACTION:return k.default.createElement($,{unapproved:e});case x.SIGN_MESSAGE:case x.SIGN_PERSONAL_MESSAGE:return k.default.createElement(H,{unapproved:e});default:return""}};export{He as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Sui-P4Z4ILWS.js.map
