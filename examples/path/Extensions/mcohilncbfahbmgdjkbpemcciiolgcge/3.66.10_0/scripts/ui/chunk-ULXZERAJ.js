import{c as b}from"./chunk-2E2OBQTS.js";import{c as $,u as h,v as p}from"./chunk-3S4BGA37.js";import{ha as S,ia as g,m as x,wa as w}from"./chunk-POP3LIKS.js";import{O as I,r as m}from"./chunk-G44PPNNQ.js";import{T as P,g as A,ga as y,ra as T,z as k}from"./chunk-CYTB2B6Q.js";import{o as f,q as C}from"./chunk-SHG7TIBL.js";f();C();T();var N=e=>!!(Number(e?.isNativeToken)===x.TRUE||e?.isNativeToken===!0||e?.isBaseCoin),B=e=>e?h(e.chainId)&&e.tokenContractAddress:!1;function d(e,t=!1){let r=e?.tokenContractAddress||e?.tokenAddress||"";return t?r:y(r)}function L(e,t){return Number(e?.chainId)===Number(t?.chainId)}function K(e,t,r=!1){if(!L(e,t))return!1;let i=d(e,r),n=d(t,r);return i&&n?i===n:N(e)&&N(t)}f();C();T();var l=e=>g()?e:k(m.chainInfo,r=>r===e)||e,_=e=>{if(!p(e))return"";let t=e.chainId;return g()?t:m.chainInfo?.[t]||t},O=(e,t)=>p(e)&&p(t)?{chain:`${_(e)},${_(t)}`,token:`${d(e,!0)},${d(t,!0)}`}:{};function U({from:e,to:t,inputAmount:r,feeConfig:o,addressType:i}={}){let n=new URLSearchParams,s=(u,a)=>{h(a?.chainId)&&n.set(`${u}Chain`,a.chainId),a?.tokenContractAddress&&n.set(`${u}Currency`,a.tokenContractAddress)},c=u=>{u?.referrerAddress&&u?.feePercent&&(n.set("referrerAddress",u.referrerAddress),n.set("feePercent",u.feePercent))};return s("input",e),s("output",t),c(o),r&&n.set("inputAmount",r),i&&n.set("addressType",i),n}var M=e=>{if(!e)return"";let t=e.get("inputChain"),r=e.get("inputCurrency"),o=e.get("outputChain"),i=e.get("outputCurrency"),n={};t&&r&&o&&i&&(e.delete("inputChain"),e.delete("inputCurrency"),e.delete("outputChain"),e.delete("outputCurrency"),n=O({chainId:t,tokenContractAddress:r},{chainId:o,tokenContractAddress:i}));let s=Object.fromEntries(e.entries());return new I().stringify({...n,...s})};function ee(e={}){let t=U(e);t.delete("referrerAddress"),t.delete("feePercent");let r=P(e,["from","to","token","chain","inputAmount","feeConfig","addressType","tokenPair","bridgeTokenPair"]);return A(r).forEach(o=>{t.set(o,r[o])}),t}var q=e=>{if(!e)return e;let t=e.get("chain");if(!t)return e;if(t?.includes(",")){let[o,i]=t.split(",");e.set("inputChain",l(o)),e.set("outputChain",l(i))}else{let o=l(t);e.set("outputChain",o)}let r=e.get("token");if(!r)return e;if(r?.includes(",")){let[o,i]=r.split(",");e.set("inputCurrency",o),e.set("outputCurrency",i)}else e.set("outputCurrency",r);return e};function te(e,t){let r=q(e),o=n=>{let s=c=>{let u=r.get(`${n}${c}`);return!u&&t&&(u=r.get(`${n}Limit${c}`)),u};return{chainId:s("Chain"),tokenContractAddress:s("Currency")}},i=()=>{let n=r.get("referrerAddress"),s=r.get("feePercent");return b()&&n&&s&&!$(s)?{referrerAddress:n,feePercent:s}:{}};return{from:o("input"),to:o("output"),inputAmount:r.get("inputAmount"),feeConfig:i(),addressType:r.get("addressType"),autoSwitch:r.get("autoSwitch")}}function re(e,t){return!e||!t?"":e===S.OKX_WALLET_EXTENSION?t:w(t)}export{B as a,d as b,L as c,K as d,O as e,U as f,M as g,ee as h,q as i,te as j,re as k};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-ULXZERAJ.js.map
