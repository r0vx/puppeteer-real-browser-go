import{a as I,b as S}from"./chunk-CAW5K4G3.js";import{a as H}from"./chunk-5SWKQHQU.js";import"./chunk-ISXIP6MC.js";import{a as _}from"./chunk-JBM6RUDZ.js";import{a as P}from"./chunk-NDFYN4CL.js";import"./chunk-NALXMZEC.js";import"./chunk-UX47DP5M.js";import"./chunk-XZE3L7K7.js";import{c as l,e as E}from"./chunk-AS4Z3FNS.js";import{a as w,b as x}from"./chunk-NU4UJZBB.js";import"./chunk-2FDQIA7D.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import"./chunk-4EIUGT5A.js";import{a as y}from"./chunk-VL2YBSHB.js";import{Wa as O,gc as c,od as D}from"./chunk-QHXUL3YM.js";import{H as M,y as T}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{H as g}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-Z3JMRMVO.js";import"./chunk-CYTB2B6Q.js";import"./chunk-T2ETCKOI.js";import"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-2EEW2VNF.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-VYKQ62AB.js";import"./chunk-SUANL2KV.js";import"./chunk-KTFU3F6C.js";import"./chunk-32ZJ4F2J.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f,o as u,q as d}from"./chunk-SHG7TIBL.js";u();d();var v=f(H()),m=f(I()),o=f(O());M();E();D();var h=class extends S{async signTransaction(a,t,e){let p=a.hdPathMap[c];t=P(t);let r=await w(t),{payload:s,success:n}=await m.default.ethereumSignTransaction({path:p,transaction:{...r.toJSON(),to:(0,o.bufferToHex)(r.to).toString(),chainId:t.chainId}});if(n){globalThis.platform.focusCurrentWindow();let i=await x(r,{...s});return _(i,t.from)?e?i:{rawTxResult:i}:this.throwInvalidPassPhraseTip()}return this.throwTxCancelTip()}async signPersonalMessage(a,t={}){let e=a.hdPathMap[c],{data:p=""}=t||{},{success:r,payload:s}=await m.default.ethereumSignMessage({path:e,message:(0,o.stripHexPrefix)(p),hex:!0});if(r){globalThis.platform.focusCurrentWindow();let{signature:n=""}=s||{};return(0,o.addHexPrefix)(n)}return this.throwTxCancelTip()}async signTypedData(a,t={}){let e=a.hdPathMap[c];if(!(t.version==="V4"))throw new Error("Trezor: Only version 4 of typed data signing is supported");let r=JSON.parse(t.data),{domain_separator_hash:s,message_hash:n}=(0,v.default)(r,!0),{success:i,payload:C}=await m.default.ethereumSignTypedData({path:e,data:r,metamask_v4_compat:!0,domain_separator_hash:s,message_hash:n});return i?(l().focusLastOkPopupWithCache(),C?.signature):this.throwTxCancelTip()}throwInvalidPassPhraseTip(){throw g.error(T("wallet_extension_transaction_toast_trezor")),new Error(y)}},j=new h;export{j as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ethAdapter-GGRH3MAA.js.map
