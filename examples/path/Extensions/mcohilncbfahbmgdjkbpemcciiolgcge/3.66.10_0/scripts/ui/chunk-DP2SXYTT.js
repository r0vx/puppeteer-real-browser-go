import{a as Lt}from"./chunk-A4QA4J4S.js";import{a as Ft}from"./chunk-CXT4EHFX.js";import{a as vt}from"./chunk-W3MRBSTV.js";import{a as wt}from"./chunk-CK7Z2DAQ.js";import{b as dt,c as Tt,d as xt,e as yt,f as gt,h as At,i as Et}from"./chunk-5E2Y3UHC.js";import{a as St}from"./chunk-OQZ6UOCK.js";import{c as ft}from"./chunk-5TLDWKXV.js";import{a as Ct}from"./chunk-NLKYL456.js";import{a as c,c as A,d as ct}from"./chunk-7X4DXTSI.js";import{a as ut}from"./chunk-LURPYTXM.js";import{b as G}from"./chunk-64LKONIY.js";import{c as nt,e as it,f as at,g as pt,i as st,l as mt,m as lt}from"./chunk-NKIUEXOA.js";import{a as _t}from"./chunk-HBWTVKRO.js";import{b as et}from"./chunk-A5XY2FFW.js";import{a as rt}from"./chunk-Y5K5NJ6U.js";import{a as ot}from"./chunk-Q7FGM7BT.js";import{a as q,r as s}from"./chunk-WGVA2GGS.js";import{Ua as V,lb as X}from"./chunk-QRHYK2TW.js";import{a as tt}from"./chunk-2FDQIA7D.js";import{e as J,f as Q,g as R,h as P}from"./chunk-YCFHPQAJ.js";import{c as C}from"./chunk-4EIUGT5A.js";import{c as v}from"./chunk-62ZAND24.js";import{a as Kt}from"./chunk-SIITVWZR.js";import{K as Z,T as K,ia as Zt}from"./chunk-QHXUL3YM.js";import{H as S,y as n}from"./chunk-MOTAOJVG.js";import{d as $}from"./chunk-XR4SQWL7.js";import{f as H,ra as Ht}from"./chunk-CYTB2B6Q.js";import{b as y}from"./chunk-OL67KS7C.js";import{f as T,o as e,q as r}from"./chunk-SHG7TIBL.js";e();r();e();r();var Nt=T(y());S();var $t=({loading:t,kysRet:o})=>{let a=o?.intention?.contract?.[0],m=!a||a?.supportIntentionFlag==="UNKNOWN";return(0,Nt.useCallback)(()=>!t&&m&&!o?.assetChange?.length?{type:$.TYPE.warn,message:n("wallet_extension_transaction_title_unknown_asset")}:null,[o?.assetChange?.length,m,t])},ht=$t;var Vt=({baseCoin:t={},kysRet:o={},verifyGasLimitRet:a={},estimateFailed:m=!1,estimateFailedMsg:u=null,isSufficientGas:p=!0,isSufficientBalance:_=!0,coinWithBalance:d={}}={},g={})=>{let{isBalanceLoadError:x,coinAmount:O}=d,I=Tt({isBalanceLoadError:x}),k=dt({estimateFailed:m,estimateFailedMsg:u}),U=xt({verifyGasLimitRet:a}),L=yt({kysRet:o}),W=gt({kysRet:o}),B=At({baseCoin:t,isSufficientGas:p,coinAmount:O}),b=Et({isSufficientBalance:_}),D=ht({kysRet:o,loading:o?.loading}),{pre:Gt=[],post:jt=[],custom:Yt}=g,Y=Yt||[...Gt,k,U,I,B,b,L,W,D,...jt];for(let M=0;M<Y.length;M++){let zt=Y[M],z=zt();if(z)return z}return null},fo=Vt;e();r();var Mt=T(y());e();r();var i=T(y());Ht();S();e();r();S();var Xt=(t,o="")=>V.DEPLOY_CONTRACT===o?n("wallet_transfer_dapp_conncetion_subtitle_contracrt_deployment"):t?.contract?.[0]?.intentionTypeLanguageText||n("wallet_extension_transaction_page_title_unknown_transaction"),It=Xt;e();r();var E=T(y());e();r();var N=T(y());S();e();r();var Pt=T(y());e();r();var kt={root:"_root_1wfix_1"};var qt=({text:t,type:o=s.TYPE.secondary})=>{let a=ft();return Pt.default.createElement(s.Text,{forceWrap:!0,size:s.SIZE.xs,type:o,className:kt.root,onClick:()=>{a(t)}},t)},w=qt;e();r();var j=T(y());S();var Jt=({approveInfo:t})=>{let o=t?.addressType===lt.eoa&&pt(t?.approvalType)?s.TYPE.danger:s.TYPE.secondary;return j.default.createElement(A,{title:n("wallet_extension_popup_text_project"),summaryList:[{icon:{src:t.imageUrl||Q},title:t.name||P,desc:j.default.createElement(w,{text:t.address,type:o})}]})},F=Jt;var Qt=({approveInfo:t})=>N.default.createElement(c,null,N.default.createElement(A,{title:n(at(t.approvalType)?"extension_approve_maintitle_approve":"extension_revoke_approval_maintitle_revoke_approval"),summaryList:[{icon:{src:t.asset?.imageUrl||R},title:t.asset?.name||P,desc:N.default.createElement(w,{text:t.asset?.address})}]}),N.default.createElement(F,{approveInfo:t})),Ot=Qt;e();r();var f=T(y()),Ut=T(Kt());S();Zt();e();r();var h={approve:"_approve_ojrap_1",title:"_title_ojrap_1",titleContent:"_titleContent_ojrap_6",warning:"_warning_ojrap_10"};var Rt=t=>{typeof t!="string"&&(t=t.toString());let o=t?.length;return o<=15?30:o<=16?28:o<=17?26:o<=18?24:o<=20?22:o<=21?20:o<=23?18:o<=25?16:o<=29?14:12},to=({approveInfo:t,editBtnSlot:o=null,authAmount:a})=>{let{symbol:m,decimals:u,imageUrl:p=J}=t?.asset||{},{approvalRaw:_}=t||{},d=a||Z(tt(_),K.pow(10,u));if([C.AUTHORIZATION,C.INCREASE_ALLOWANCE,C.COMMON_APPROVE].includes(t.approvalType)){let g=X(d),x=`${g?n("wallet_dapp_connection_subtitle_approval_amount_unlimitied"):q(d,{precision:u}).value} ${m}`;return f.default.createElement(c,{className:h.approve},f.default.createElement(A,{title:n(t.approvalType===C.INCREASE_ALLOWANCE?"wallet_extension_approve_text_increase_approval_amount":"extension_approve_maintitle_approve"),summaryList:[{title:f.default.createElement(v.Box,{className:h.title},f.default.createElement(s.AdaptiveText,{text:x,className:(0,Ut.default)(h.titleContent,{[h.warning]:g}),autoSize:Rt,ellipsis:{tooltip:!0}},x),o),desc:!!g&&f.default.createElement(s.Text,{size:s.SIZE.xs,type:s.TYPE.warnig},n("wallet_extension_transfer_text_unlimited_approval_risk")),icon:{src:p},descSize:s.SIZE.xs}]}),f.default.createElement(F,{approveInfo:t}))}return f.default.createElement(c,null,f.default.createElement(A,{title:n(t.approvalType===C.CANCEL_AUTHORIZATION?"extension_revoke_approval_maintitle_revoke_approval":"wallet_extension_approve_text_reduce_approval_amount"),summaryList:[{desc:f.default.createElement(w,{text:t.asset?.address}),title:t.asset?.symbol,icon:{src:t.asset?.imageUrl}}]}),f.default.createElement(F,{approveInfo:t}))},Wt=to;var oo=({kysRet:t,dappInfo:o,showDappInfo:a=!0})=>{let{approveList:m,assetChange:u,txType:p}=t,{loading:_}=t;if(_)return E.default.createElement(vt,null);let d=m?.[0]||{};return it(p)?E.default.createElement(Ot,{approveInfo:d}):nt(p)?E.default.createElement(Wt,{approveInfo:d}):st(p)?E.default.createElement(Lt,{assetChange:u,dappInfo:o,showDappInfo:a}):a?E.default.createElement(c,null,E.default.createElement(wt,{...o})):null},Bt=oo;e();r();var bt={root:"_root_1ou6i_1"};var eo=({kysRet:t={},loading:o=!1,dappInfo:a,showDappInfo:m=!0,walletId:u,fromAddress:p,networkFee:_,tipMessage:d,buttonGroup:g,contractAddress:x,showNetworkFee:O=!0,chainTxDetailSlot:I=null,onAddressCopy:k=H,slot:U,backable:L=!1,onBack:W,asPage:B})=>{let{top:b}=U||{},D=It(t?.intention);return(0,i.useEffect)(()=>{L||Ct.hide()},[L]),o?i.default.createElement(v.Box,{className:bt.root},i.default.createElement(et,null)):i.default.createElement(v.Container,null,i.default.createElement(rt,{backable:L,closeable:!1,title:D,loading:t?.loading,useTgEffect:!1,onBack:W,asPage:B}),b,i.default.createElement(Bt,{kysRet:t,dappInfo:a,showDappInfo:m}),O&&i.default.createElement(c,null,i.default.createElement(ut,{useTransition:!1,..._})),i.default.createElement(c,{bordered:!!I},i.default.createElement(G,{address:p,walletId:u,title:n("wallet_extension_network_address_title_walletused"),onCopyCallback:()=>{k({type:"from",address:p})}}),x&&i.default.createElement(G,{address:x,title:n("wallet_extension_popup_text_interact_with"),onCopyCallback:()=>{k({type:"to",address:x})}})),I,i.default.createElement(ot,{placeholder:!0,offsetBottom:0,borderTop:!0},i.default.createElement(ct,{...d}),i.default.createElement(mt,{buttonGroup:g})))},Dt=eo;var ro=t=>{let{unapproved:o,backable:a=!1,...m}=t,u=St(o),p=_t(o),_=Ft({walletId:p.walletId});return Mt.default.createElement(Dt,{backable:a,onAddressCopy:_,dappInfo:u,walletId:p.walletId,fromAddress:p.address,...m})},nr=ro;export{fo as a,nr as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-DP2SXYTT.js.map
