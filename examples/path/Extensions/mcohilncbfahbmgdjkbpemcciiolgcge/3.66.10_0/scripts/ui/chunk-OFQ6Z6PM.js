import{a as b}from"./chunk-QO4JMOUQ.js";import{c as d}from"./chunk-L524QXHA.js";import{Gd as l,Pd as P,db as u,eb as T,ib as w}from"./chunk-QHXUL3YM.js";import{a as k}from"./chunk-LMBQGBLO.js";import{f,o as c,q as m}from"./chunk-SHG7TIBL.js";c();m();k();P();c();m();var v=f(b());w();var A=[{inputs:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"spender",type:"address"}],internalType:"struct IAllowanceTransfer.TokenSpenderPair[]",name:"approvals",type:"tuple[]"}],name:"lockdown",outputs:[],stateMutability:"nonpayable",type:"function"}],y=async({tokenAddress:o,approvalAddress:r,permit2Address:t,localType:e})=>{let{ethers:a}=await u();return t?new a.Contract(d(t,e),A).interface.encodeFunctionData("lockdown",[[{token:o,spender:r}]]):new a.Contract(d(o,e),v.default).interface.encodeFunctionData("approve",[d(r,e),0])},x=async({tokenAddress:o,approvalAddress:r,userAddress:t})=>{let e="approve(address,uint256)",a=[{type:"address",value:r},{type:"uint256",value:0}],p=await T(),n=new p({fullHost:"https://api.trongrid.io",headers:{}});return await n.transactionBuilder.triggerSmartContract(n.address.toHex(o),e,{},a,n.address.toHex(t))};var B=async({address:o,chainId:r,tokenAddress:t,approvalAddress:e,permit2Address:a,coinId:p,approvalNum:n})=>{let s;try{if(Number(r)===Number(195))s=(await x({tokenAddress:t,approvalAddress:e,userAddress:o})).transaction;else{let i=l({chainId:r}),g=await y({tokenAddress:t,approvalAddress:e,permit2Address:a,localType:i?.localType});s={from:o,to:a||t,value:"0x0",data:g}}return{chainId:r,approvalAddress:e,tokenAddress:t,coinId:p,txParams:s,approvalNum:n}}catch{return{}}};export{B as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-OFQ6Z6PM.js.map
