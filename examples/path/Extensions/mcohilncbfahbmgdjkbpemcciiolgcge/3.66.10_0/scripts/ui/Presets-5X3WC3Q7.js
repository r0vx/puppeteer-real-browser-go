import{a as Q}from"./chunk-UCNXAZCN.js";import{a as he}from"./chunk-OAPH7UTK.js";import{a as F,b as R,c as ve,e as Ee}from"./chunk-GNHSHFPF.js";import{a as ge}from"./chunk-LJ45SM6Y.js";import{d as J}from"./chunk-ISKH54SW.js";import"./chunk-SANB6W4R.js";import{b as K}from"./chunk-2Q6HA5LZ.js";import{a as ue}from"./chunk-UZCYU4C6.js";import"./chunk-HHY4FPQP.js";import{j as N}from"./chunk-4JPAA6SR.js";import{f as fe}from"./chunk-3VKPY2QL.js";import{b as ne}from"./chunk-ULL77AIR.js";import"./chunk-ULXZERAJ.js";import"./chunk-MYNDXPHU.js";import"./chunk-ZTIVM5ML.js";import{a as ie}from"./chunk-2E2OBQTS.js";import{n as pe}from"./chunk-3S4BGA37.js";import{Za as oe,md as a,va as V,xa as q}from"./chunk-POP3LIKS.js";import{m as B}from"./chunk-G44PPNNQ.js";import{a as ce}from"./chunk-532YJKK4.js";import{a as se}from"./chunk-SIITVWZR.js";import{H as Z,b as le,u as _e}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-CYTB2B6Q.js";import{aa as D,ka as _}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as Y}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-32ZJ4F2J.js";import{f as P,o as s,q as o}from"./chunk-SHG7TIBL.js";s();o();var ee=P(Y());s();o();s();o();var W=P(Y()),Pe=P(ce()),be=P(se());s();o();var e=P(Y()),M=P(se());s();o();var d={"preset-item":"_preset-item_hhs7f_1",presetItem:"_preset-item_hhs7f_1","preset-padding":"_preset-padding_hhs7f_7",presetPadding:"_preset-padding_hhs7f_7","preset-name":"_preset-name_hhs7f_15",presetName:"_preset-name_hhs7f_15",divide:"_divide_hhs7f_26",icon:"_icon_hhs7f_33",text:"_text_hhs7f_36",green:"_green_hhs7f_43",normal:"_normal_hhs7f_46","remove-icon":"_remove-icon_hhs7f_49",removeIcon:"_remove-icon_hhs7f_49","disabled-icon":"_disabled-icon_hhs7f_54",disabledIcon:"_disabled-icon_hhs7f_54","edit-icon":"_edit-icon_hhs7f_58",editIcon:"_edit-icon_hhs7f_58","selected-icon":"_selected-icon_hhs7f_62",selectedIcon:"_selected-icon_hhs7f_62","preset-info":"_preset-info_hhs7f_65",presetInfo:"_preset-info_hhs7f_65","icon-wrapper":"_icon-wrapper_hhs7f_74",iconWrapper:"_icon-wrapper_hhs7f_74"};var Te=({isEdit:n,preset:l,isSelected:u,handleClickPreset:m,disableDelete:h,handleDeletePreset:v,handleEditPreset:c,hasShadow:p=!0,currentPresetId:b,tradeScene:T,jitoIsSuccess:C=!0,mevUnstableShowLevel:k})=>{let{name:L,slippage:f,priorityFee:O,id:x,priorityMode:A="auto",manualType:z=0}=l,{type:U}=O,E=ge({priorityMode:A,manualType:z,jitoIsSuccess:C,mevUnstableShowLevel:k}),S=he(E),G=(0,e.useMemo)(()=>({market:a("swaptrade_modal_dialog_option_market"),fast:a("swaptrade_modal_dialog_option_fast5x"),turbo:a("swaptrade_modal_dialog_option_turbo10x"),custom:a("swaptrade_extension_cinteraction_custom")})[U],[U]),$=(0,e.useMemo)(()=>{let j=X=>X?`${pe(fe(X),{needZero:!1})}`:"--";return f?.mode===ne.FIXED?j(f?.value):f?.mode===ne.DYNAMIC?f?.customMax?j(f?.customMax):a("swaptrade_slippage_cell_label_dynamic"):"--"},[f?.customMax,f?.mode,f?.value]),te=(0,e.useMemo)(()=>S?"green":S?"green":"default",[S]);return e.default.createElement(le,{className:(0,M.default)("flex items-center justify-between",d.presetItem,{[d.presetPadding]:!n}),onClick:()=>{m&&m()}},e.default.createElement("div",{className:(0,M.default)("flex items-center")},n&&e.default.createElement(D,{className:(0,M.default)("okds-intermediate",d.removeIcon,{[d.disabledIcon]:h}),onClick:()=>{v&&v()},style:{fontSize:24},a11yText:"remove-item"}),e.default.createElement("div",{className:d.presetInfo},e.default.createElement("div",null,l.id===`${N}2`?e.default.createElement("div",{className:"flex items-center"},e.default.createElement(D,{className:(0,M.default)(x===b?"okx-defi-dex-meme-mode-filled":"okx-defi-dex-meme-mode"),style:{fontSize:20,marginRight:"4px",marginBottom:"8px"},a11yText:"meme-mode-icon"}),e.default.createElement("span",{className:d.presetName},L)):e.default.createElement("span",{className:d.presetName},L)),e.default.createElement("div",{className:(0,M.default)("flex items-center",d.presetTag)},e.default.createElement(Q,{icon:"okx-defi-dex-slippage",text:$}),e.default.createElement("div",{className:d.divide}),e.default.createElement(Q,{icon:"okx-defi-dex-fee",text:G}),T===0&&e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{className:d.divide}),e.default.createElement(Q,{icon:"okx-defi_dex_security",text:a("swaptrade_meme_regularcell_tag_mev"),status:te,textClassName:d.mevText}))))),n?e.default.createElement(e.default.Fragment,null,p&&e.default.createElement("div",{className:d.shadow}),e.default.createElement("div",{className:(0,M.default)("flex items-center justify-center",d.iconWrapper)},e.default.createElement(D,{className:(0,M.default)("okx-defi-marketplace-edit",d.editIcon),style:{fontSize:24},a11yText:"edit-item",onClick:c}))):u&&e.default.createElement(D,{className:(0,M.default)("okx-defi-marketplace-selected",d.selectedIcon),style:{fontSize:24},a11yText:"edit-item"}))},H=Te;s();o();var me={root:"_root_1hlcl_1",btns:"_btns_1hlcl_4","no-bg":"_no-bg_1hlcl_13",noBg:"_no-bg_1hlcl_13"};var Ce=B(({addClick:n,onSelect:l})=>{let{configStore:u,quoteStore:m}=K(),{currentMode:h,tradeScene:v}=u,{jitoIsSuccess:c,mevUnstableShowLevel:p}=m,{currentPresetList:b,currentPresetId:T,setCurrentPresetId:C}=J(),k=(0,Pe.useHistory)(),{presetPageEditState:L,setPresetPageEditState:f}=F(),O=()=>{f(!0)},{setEditPreset:x}=R(),{newPreset:A}=ve(),z=()=>{if(b.length>7){Z.info({title:a("swaptrade_meme_toast_preset_max",{num:8})});return}if(x({value:A,isEdit:!1}),n)n();else{let S=`${q(V)}?tab=${h}`;k.push(S)}},U=E=>{C(b?.[E]?.id),l?l():k.goBack()};return W.default.createElement("div",{className:me.root},b.map((E,S)=>W.default.createElement(H,{key:E.id,jitoIsSuccess:c,mevUnstableShowLevel:p,preset:E,isEdit:L,isSelected:E?.id===T,handleClickPreset:()=>{U(S)},currentPresetId:T,tradeScene:v})),W.default.createElement("div",{className:(0,be.default)("flex justify-between",me.btns)},W.default.createElement(_,{className:"flex-1",category:_.CATEGORY.outline,type:_.TYPE.primary,size:_.SIZE.lg,block:!0,onClick:O},a("commonall_filter_btn_edit")),W.default.createElement(_,{className:"flex-1",category:_.CATEGORY.fill,type:_.TYPE.primary,size:_.SIZE.lg,block:!0,onClick:z},a(h==="buy"?"swaptrade_meme_btn_add_buy_preset":"swaptrade_meme_btn_add_sell_preset"))))}),xe=Ce;s();o();var r=P(Y()),ye=P(ce()),y=P(se());s();o();var Se=P(Y());function we({currentPresetList:n,currentPresetId:l}){let[u,m]=(0,Se.useMemo)(()=>{let h=n.map(p=>({...p,isSelected:p.id===l})),v=[],c=[];return h.forEach(p=>{p.id.includes(N)?v.push(p):c.push(p)}),[v,c]},[n,l]);return{defaultList:u,formatList:m}}function Me({defaultList:n,list:l,setCurrentPresetList:u,setCurrentPresetId:m,setPresetPageEditState:h}){return{handleDone:()=>{let c=[...n,...l];u(c),c.findIndex(b=>b.isSelected===!0)===-1&&m(c[0].id),h(!1)}}}s();o();var i={root:"_root_swnpm_1",btns:"_btns_swnpm_4","no-bg":"_no-bg_swnpm_13",noBg:"_no-bg_swnpm_13",wrapper:"_wrapper_swnpm_16","drag-item":"_drag-item_swnpm_19",dragItem:"_drag-item_swnpm_19","custom-drag-item":"_custom-drag-item_swnpm_19",customDragItem:"_custom-drag-item_swnpm_19",item:"_item_swnpm_19","drag-item-active":"_drag-item-active_swnpm_28",dragItemActive:"_drag-item-active_swnpm_28",dragging:"_dragging_swnpm_28","drag-icon":"_drag-icon_swnpm_32",dragIcon:"_drag-icon_swnpm_32","not-drag":"_not-drag_swnpm_36",notDrag:"_not-drag_swnpm_36","icon-padding":"_icon-padding_swnpm_40",iconPadding:"_icon-padding_swnpm_40","preset-padding":"_preset-padding_swnpm_43",presetPadding:"_preset-padding_swnpm_43","icon-wrapper":"_icon-wrapper_swnpm_46",iconWrapper:"_icon-wrapper_swnpm_46","icon-wrapper-hover":"_icon-wrapper-hover_swnpm_51",iconWrapperHover:"_icon-wrapper-hover_swnpm_51"};var Ae=B(({editClick:n})=>{let{isSm:l}=ue(),{currentPresetList:u,currentPresetId:m,setCurrentPresetId:h,setCurrentPresetList:v}=J(),{setPresetPageEditState:c}=F(),{configStore:p,quoteStore:b}=K(),{currentMode:T,tradeScene:C}=p,{jitoIsSuccess:k,mevUnstableShowLevel:L}=b,{defaultList:f,formatList:O}=we({currentPresetList:u,currentPresetId:m}),[x,A]=(0,r.useState)(O),{setEditPreset:z}=R(),U=(0,ye.useHistory)(),{handleDone:E}=Me({defaultList:f,list:x,setCurrentPresetList:v,setCurrentPresetId:h,setPresetPageEditState:c}),[S,G]=(0,r.useState)(!1),[$,te]=(0,r.useState)(!1),j=t=>{let g=x.filter((I,re)=>re!==t);A(g)},X=(t,g)=>{let I=ie.get(oe),{isSelected:re}=t;if(re&&!I){G(!0);return}j(g)},ke=()=>{$&&ie.set(oe,"1");let t=x.findIndex(g=>g.isSelected===!0);j(t),G(!1)},de=t=>{let g=u.find(I=>I.id===t)||{};if(z({value:g,isEdit:!0}),n)n();else{let I=`${q(V)}?tab=${T}`;U.push(I)}},Le=t=>{A(t)};(0,r.useEffect)(()=>()=>{c(!1)},[]);let Ne=(0,r.useCallback)(()=>{l&&Z.info({title:a("swaptrade_market_placeorder_error_preset_unable_delete")})},[l]);return r.default.createElement("div",{className:i.root},f.map(t=>r.default.createElement("div",{className:(0,y.default)("flex items-center justify-between",i.presetPadding),key:t.id},r.default.createElement(H,{jitoIsSuccess:k,mevUnstableShowLevel:L,hasShadow:!0,key:t.id,preset:t,isEdit:!0,isSelected:t.id===m,handleDeletePreset:Ne,disableDelete:t.id.includes(N),handleEditPreset:()=>de(t.id),currentPresetId:m,tradeScene:C}),r.default.createElement("div",{className:(0,y.default)("flex items-center justify-center",i.iconWrapper,i.iconPadding)},r.default.createElement(D,{className:(0,y.default)("okds-hamburger flex items-center",i.notDrag),style:{fontSize:24},a11yText:"drag-item"})))),r.default.createElement("div",null,r.default.createElement(_e.Sortable,{restrictToParentElement:!0,onDragEnd:Le,dataSource:x,mobileLongPress:!0,withOverlay:!1,wrapperStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:0,itemClassName:(0,y.default)(i.dragItem,i.customDragItem,i.item),itemDraggingClassName:(0,y.default)(i.dragItemActive,i.dragging),itemWrapperClassName:i.wrapper,renderHandler:({getHandlerRef:t,listeners:g,disabled:I})=>I?r.default.createElement("div",{ref:t}):r.default.createElement("div",{className:(0,y.default)("flex items-center justify-center",i.iconWrapper,i.iconWrapperHover,i.iconPadding)},r.default.createElement(D,{ref:t,...g,className:(0,y.default)("okds-hamburger flex items-center",i.dragIcon),style:{fontSize:24},a11yText:"drag-item"}))},x.map((t,g)=>r.default.createElement(H,{jitoIsSuccess:k,mevUnstableShowLevel:L,key:t.name+g,preset:t,isEdit:!0,isSelected:t.id===m,handleDeletePreset:()=>X(t,g),disableDelete:t.id.includes(N),handleEditPreset:()=>de(t.id),currentPresetId:m,tradeScene:C})))),r.default.createElement("div",{className:(0,y.default)("flex justify-between",i.btns)},r.default.createElement(_,{className:"flex-1",category:_.CATEGORY.fill,type:_.TYPE.primary,size:_.SIZE.lg,block:!0,onClick:E},a("commonall_button_text_done"))),r.default.createElement(Ee,{isChecked:$,setIsChecked:te,onConfirm:ke,visible:S,text:a("swaptrade_meme_dialog_desc_preset_delete"),showChecked:!0,confirmText:a("commonall_text_btn_ok_passive")}))}),Ie=Ae;var ae={DefaultList:xe,EditList:Ie};s();o();var De={root:"_root_45u39_1","no-bg":"_no-bg_45u39_4",noBg:"_no-bg_45u39_4"};var Ue=B(({editClick:n,addClick:l,onSelect:u})=>{let{presetPageEditState:m}=F();return ee.default.createElement("div",{className:De.root},m?ee.default.createElement(ae.EditList,{editClick:n}):ee.default.createElement(ae.DefaultList,{addClick:l,onSelect:u}))}),ur=Ue;export{ur as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Presets-5X3WC3Q7.js.map
