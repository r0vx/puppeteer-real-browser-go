import{j as N}from"./chunk-4YDY4B6P.js";import{h as P}from"./chunk-IEGAVAV7.js";import{a as F}from"./chunk-67F2WFQO.js";import{a as M}from"./chunk-WGVA2GGS.js";import{o as z}from"./chunk-XP3TNE3R.js";import{H as O,jc as G,zb as y}from"./chunk-QRHYK2TW.js";import{r as k}from"./chunk-4EIUGT5A.js";import{Eb as A,Jb as R,Ma as h,Na as v,ic as I,od as j}from"./chunk-QHXUL3YM.js";import{H as q,n as g}from"./chunk-MOTAOJVG.js";import{b}from"./chunk-OL67KS7C.js";import{f as T,o as B,q as L}from"./chunk-SHG7TIBL.js";B();L();var c=T(b()),w=T(G()),x=T(z());q();j();v();R();function H(e={},o,a=!1){let r=(0,w.useSelector)(y),s=P(I)[o],i=F(I),u=o?s:i;return async()=>{let n={coinId:e?.coinId,utxoRequests:[{address:u,utxoType:12}]};try{let{data:t=[]}=await A(h.getBTCUTXO,n,{walletSignParams:{needWalletSign:!0,walletId:r}});return a?t?.map(f=>({...f,utxoList:f?.utxoList?.filter(p=>p.utxoStatusType===2)})):t}catch{return[]}}}function st(e={},o,a=!1){let r=H(e,o,a),{coinAmountInt:l=0}=N(e?.coinId,o),[s,{setTrue:i,setFalse:u}]=(0,x.useBoolean)(!1),[n,{setTrue:t}]=(0,x.useBoolean)(!1),[f,p]=(0,c.useState)(""),{coinId:D,decimals:d}=e||{};return(0,c.useEffect)(()=>{O(e)?r().then((C=[])=>{C.some((m={})=>m.utxoList?.length>0)?i():u();let S=C?.reduce((m,E)=>{let W=E?.utxoList?.reduce((U,X)=>X?.utxoStatusType===2?g.add(U,X?.coinAmount):U,0);return g.add(m,W)},0);if(S){let m=M(S,{useContractPrecision:!0,contractPrecision:{decimals:d},precision:d}).value;p(m)}t()}).catch(()=>{t(),u()}):(t(),u())},[D,d,l,t,i]),{showManageUTXO:s,NFTAmountDisplay:f,isCheckFinished:n}}function ut(e,o){let[a,r]=(0,c.useState)(0),[l,s]=(0,c.useState)([]),i=(0,w.useSelector)(y),u=async()=>{let n={coinId:o.coinId,utxoRequests:[{address:e,utxoType:k.Occupy}]};try{let{data:t}=await A(h.getBTCUTXO,n,{walletSignParams:{needWalletSign:!0,walletId:i}});return t[0]||null}catch{return null}};return(0,c.useEffect)(()=>{O(o)?u().then(n=>{r(n?.lockAmount||0),s(n?.utxoList||[])}).catch(()=>{r(0),s([])}):(r(0),s([]))},[e,o]),{lockedAmount:a,UTXOList:l}}export{st as a,ut as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-MXXOWCRN.js.map
