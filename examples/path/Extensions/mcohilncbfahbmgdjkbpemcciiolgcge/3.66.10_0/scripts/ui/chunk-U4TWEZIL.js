import{a as Yn,b as te,c as M,d as et}from"./chunk-4LSN4BHV.js";import{b as Qe}from"./chunk-3C4MEE67.js";import{b,c as B,d as Ut,e as I,f as D,n as process,o as p,p as v,q as y}from"./chunk-SHG7TIBL.js";var ve,Wt=b(()=>{p();y();ve=class{}});var Ft=b(()=>{p();y();Wt()});var kt,_e,tt,$t,Zn,we,Qn=b(()=>{p();y();kt=D(Qe()),_e=D(Yn());Ft();tt=class extends ve{constructor(t){super()}},$t=_e.FIVE_SECONDS,Zn={pulse:"heartbeat_pulse"},we=class extends tt{constructor(t){super(t),this.events=new kt.EventEmitter,this.interval=$t,this.interval=t?.interval||$t}static async init(t){let r=new we(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,_e.toMiliseconds)(this.interval))}pulse(){this.events.emit(Zn.pulse)}}});function ni(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){ii(e);return}return t}function ii(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function re(e,t={}){if(typeof e!="string")return e;let r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){let n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!ri.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(ei.test(e)||ti.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,ni)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}var ei,ti,ri,Gt=b(()=>{p();y();ei=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ti=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ri=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/});function si(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function O(e,...t){try{return si(e(...t))}catch(r){return Promise.reject(r)}}function oi(e){let t=typeof e;return e===null||t!=="object"&&t!=="function"}function ai(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function ne(e){if(oi(e))return String(e);if(ai(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return ne(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function Ht(){if(typeof v.Buffer>"u")throw new TypeError("[unstorage] Buffer is not supported!")}function qt(e){if(typeof e=="string")return e;Ht();let t=v.Buffer.from(e).toString("base64");return rt+t}function Xt(e){return typeof e!="string"||!e.startsWith(rt)?e:(Ht(),v.Buffer.from(e.slice(rt.length),"base64"))}function R(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function Yt(...e){return R(e.join(":"))}function ie(e){return e=R(e),e?e+":":""}var rt,Zt=b(()=>{p();y();rt="base64:"});function tr(e={}){let t={mounts:{"":e.driver||ui()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=i=>{for(let c of t.mountpoints)if(i.startsWith(c))return{base:c,relativeKey:i.slice(c.length),driver:t.mounts[c]};return{base:"",relativeKey:i,driver:t.mounts[""]}},n=(i,c)=>t.mountpoints.filter(a=>a.startsWith(i)||c&&i.startsWith(a)).map(a=>({relativeBase:i.length>a.length?i.slice(a.length):void 0,mountpoint:a,driver:t.mounts[a]})),s=(i,c)=>{if(!!t.watching){c=R(c);for(let a of t.watchListeners)a(i,c)}},o=async()=>{if(!t.watching){t.watching=!0;for(let i in t.mounts)t.unwatch[i]=await Qt(t.mounts[i],s,i)}},f=async()=>{if(!!t.watching){for(let i in t.unwatch)await t.unwatch[i]();t.unwatch={},t.watching=!1}},l=(i,c,a)=>{let h=new Map,g=d=>{let m=h.get(d.base);return m||(m={driver:d.driver,base:d.base,items:[]},h.set(d.base,m)),m};for(let d of i){let m=typeof d=="string",_=R(m?d:d.key),S=m?void 0:d.value,P=m||!d.options?c:{...c,...d.options},T=r(_);g(T).items.push({key:_,value:S,relativeKey:T.relativeKey,options:P})}return Promise.all([...h.values()].map(d=>a(d))).then(d=>d.flat())},u={hasItem(i,c={}){i=R(i);let{relativeKey:a,driver:h}=r(i);return O(h.hasItem,a,c)},getItem(i,c={}){i=R(i);let{relativeKey:a,driver:h}=r(i);return O(h.getItem,a,c).then(g=>re(g))},getItems(i,c){return l(i,c,a=>a.driver.getItems?O(a.driver.getItems,a.items.map(h=>({key:h.relativeKey,options:h.options})),c).then(h=>h.map(g=>({key:Yt(a.base,g.key),value:re(g.value)}))):Promise.all(a.items.map(h=>O(a.driver.getItem,h.relativeKey,h.options).then(g=>({key:h.key,value:re(g)})))))},getItemRaw(i,c={}){i=R(i);let{relativeKey:a,driver:h}=r(i);return h.getItemRaw?O(h.getItemRaw,a,c):O(h.getItem,a,c).then(g=>Xt(g))},async setItem(i,c,a={}){if(c===void 0)return u.removeItem(i);i=R(i);let{relativeKey:h,driver:g}=r(i);!g.setItem||(await O(g.setItem,h,ne(c),a),g.watch||s("update",i))},async setItems(i,c){await l(i,c,async a=>{if(a.driver.setItems)return O(a.driver.setItems,a.items.map(h=>({key:h.relativeKey,value:ne(h.value),options:h.options})),c);!a.driver.setItem||await Promise.all(a.items.map(h=>O(a.driver.setItem,h.relativeKey,ne(h.value),h.options)))})},async setItemRaw(i,c,a={}){if(c===void 0)return u.removeItem(i,a);i=R(i);let{relativeKey:h,driver:g}=r(i);if(g.setItemRaw)await O(g.setItemRaw,h,c,a);else if(g.setItem)await O(g.setItem,h,qt(c),a);else return;g.watch||s("update",i)},async removeItem(i,c={}){typeof c=="boolean"&&(c={removeMeta:c}),i=R(i);let{relativeKey:a,driver:h}=r(i);!h.removeItem||(await O(h.removeItem,a,c),(c.removeMeta||c.removeMata)&&await O(h.removeItem,a+"$",c),h.watch||s("remove",i))},async getMeta(i,c={}){typeof c=="boolean"&&(c={nativeOnly:c}),i=R(i);let{relativeKey:a,driver:h}=r(i),g=Object.create(null);if(h.getMeta&&Object.assign(g,await O(h.getMeta,a,c)),!c.nativeOnly){let d=await O(h.getItem,a+"$",c).then(m=>re(m));d&&typeof d=="object"&&(typeof d.atime=="string"&&(d.atime=new Date(d.atime)),typeof d.mtime=="string"&&(d.mtime=new Date(d.mtime)),Object.assign(g,d))}return g},setMeta(i,c,a={}){return this.setItem(i+"$",c,a)},removeMeta(i,c={}){return this.removeItem(i+"$",c)},async getKeys(i,c={}){i=ie(i);let a=n(i,!0),h=[],g=[];for(let d of a){let m=await O(d.driver.getKeys,d.relativeBase,c);for(let _ of m){let S=d.mountpoint+R(_);h.some(P=>S.startsWith(P))||g.push(S)}h=[d.mountpoint,...h.filter(_=>!_.startsWith(d.mountpoint))]}return i?g.filter(d=>d.startsWith(i)&&d[d.length-1]!=="$"):g.filter(d=>d[d.length-1]!=="$")},async clear(i,c={}){i=ie(i),await Promise.all(n(i,!1).map(async a=>{if(a.driver.clear)return O(a.driver.clear,a.relativeBase,c);if(a.driver.removeItem){let h=await a.driver.getKeys(a.relativeBase||"",c);return Promise.all(h.map(g=>a.driver.removeItem(g,c)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(i=>er(i)))},async watch(i){return await o(),t.watchListeners.push(i),async()=>{t.watchListeners=t.watchListeners.filter(c=>c!==i),t.watchListeners.length===0&&await f()}},async unwatch(){t.watchListeners=[],await f()},mount(i,c){if(i=ie(i),i&&t.mounts[i])throw new Error(`already mounted at ${i}`);return i&&(t.mountpoints.push(i),t.mountpoints.sort((a,h)=>h.length-a.length)),t.mounts[i]=c,t.watching&&Promise.resolve(Qt(c,s,i)).then(a=>{t.unwatch[i]=a}).catch(console.error),u},async unmount(i,c=!0){i=ie(i),!(!i||!t.mounts[i])&&(t.watching&&i in t.unwatch&&(t.unwatch[i](),delete t.unwatch[i]),c&&await er(t.mounts[i]),t.mountpoints=t.mountpoints.filter(a=>a!==i),delete t.mounts[i])},getMount(i=""){i=R(i)+":";let c=r(i);return{driver:c.driver,base:c.base}},getMounts(i="",c={}){return i=R(i),n(i,c.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(i,c={})=>u.getKeys(i,c),get:(i,c={})=>u.getItem(i,c),set:(i,c,a={})=>u.setItem(i,c,a),has:(i,c={})=>u.hasItem(i,c),del:(i,c={})=>u.removeItem(i,c),remove:(i,c={})=>u.removeItem(i,c)};return u}function Qt(e,t,r){return e.watch?e.watch((n,s)=>t(n,r+s)):()=>{}}async function er(e){typeof e.dispose=="function"&&await O(e.dispose)}var ci,ui,rr=b(()=>{p();y();Gt();Zt();ci="memory",ui=()=>{let e=new Map;return{name:ci,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}}});function F(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function it(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=F(r);return(s,o)=>n.then(f=>o(f.transaction(t,s).objectStore(t)))}function se(){return nt||(nt=it("keyval-store","keyval")),nt}function st(e,t=se()){return t("readonly",r=>F(r.get(e)))}function nr(e,t,r=se()){return r("readwrite",n=>(n.put(t,e),F(n.transaction)))}function ir(e,t=se()){return t("readwrite",r=>(r.delete(e),F(r.transaction)))}function sr(e=se()){return e("readwrite",t=>(t.clear(),F(t.transaction)))}function li(e,t){return e.openCursor().onsuccess=function(){!this.result||(t(this.result),this.result.continue())},F(e.transaction)}function or(e=se()){return e("readonly",t=>{if(t.getAllKeys)return F(t.getAllKeys());let r=[];return li(t,n=>r.push(n.key)).then(()=>r)})}var nt,ar=b(()=>{p();y()});function pi(e){var t;return[e[0],te((t=e[1])!=null?t:"")]}var fi,hi,di,gi,at,ot,be,ct,yi,cr,mi,vi,ur,wi=b(()=>{p();y();rr();ar();et();fi="idb-keyval",hi=(e={})=>{let t=e.base&&e.base.length>0?`${e.base}:`:"",r=s=>t+s,n;return e.dbName&&e.storeName&&(n=it(e.dbName,e.storeName)),{name:fi,options:e,async hasItem(s){return!(typeof await st(r(s),n)>"u")},async getItem(s){return await st(r(s),n)??null},setItem(s,o){return nr(r(s),o,n)},removeItem(s){return ir(r(s),n)},getKeys(){return or(n)},clear(){return sr(n)}}},di="WALLET_CONNECT_V2_INDEXED_DB",gi="keyvaluestorage",at=class{constructor(){this.indexedDb=tr({driver:hi({dbName:di,storeName:gi})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){let r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,M(r))}async removeItem(t){await this.indexedDb.removeItem(t)}},ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},be={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof ot<"u"&&ot.localStorage?be.exports=ot.localStorage:typeof window<"u"&&window.localStorage?be.exports=window.localStorage:be.exports=new t})();ct=class{constructor(){this.localStorage=be.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(pi)}async getItem(t){let r=this.localStorage.getItem(t);if(r!==null)return te(r)}async setItem(t,r){this.localStorage.setItem(t,M(r))}async removeItem(t){this.localStorage.removeItem(t)}},yi="wc_storage_version",cr=1,mi=async(e,t,r)=>{let n=yi,s=await t.getItem(n);if(s&&s>=cr){r(t);return}let o=await e.getKeys();if(!o.length){r(t);return}let f=[];for(;o.length;){let l=o.shift();if(!l)continue;let u=l.toLowerCase();if(u.includes("wc@")||u.includes("walletconnect")||u.includes("wc_")||u.includes("wallet_connect")){let i=await e.getItem(l);await t.setItem(l,i),f.push(l)}}await t.setItem(n,cr),r(t),vi(e,f)},vi=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})},ur=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let t=new ct;this.storage=t;try{let r=new at;mi(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}}});var fr=B((_a,lr)=>{"use strict";p();y();function _i(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}lr.exports=bi;function bi(e,t,r){var n=r&&r.stringify||_i,s=1;if(typeof e=="object"&&e!==null){var o=t.length+s;if(o===1)return e;var f=new Array(o);f[0]=n(e);for(var l=1;l<o;l++)f[l]=n(t[l]);return f.join(" ")}if(typeof e!="string")return e;var u=t.length;if(u===0)return e;for(var i="",c=1-s,a=-1,h=e&&e.length||0,g=0;g<h;){if(e.charCodeAt(g)===37&&g+1<h){switch(a=a>-1?a:0,e.charCodeAt(g+1)){case 100:case 102:if(c>=u||t[c]==null)break;a<g&&(i+=e.slice(a,g)),i+=Number(t[c]),a=g+2,g++;break;case 105:if(c>=u||t[c]==null)break;a<g&&(i+=e.slice(a,g)),i+=Math.floor(Number(t[c])),a=g+2,g++;break;case 79:case 111:case 106:if(c>=u||t[c]===void 0)break;a<g&&(i+=e.slice(a,g));var d=typeof t[c];if(d==="string"){i+="'"+t[c]+"'",a=g+2,g++;break}if(d==="function"){i+=t[c].name||"<anonymous>",a=g+2,g++;break}i+=n(t[c]),a=g+2,g++;break;case 115:if(c>=u)break;a<g&&(i+=e.slice(a,g)),i+=String(t[c]),a=g+2,g++;break;case 37:a<g&&(i+=e.slice(a,g)),i+="%",a=g+2,g++,c--;break}++c}++g}return a===-1?e:(a<h&&(i+=e.slice(a)),i)}});var ft=B((Sa,pr)=>{"use strict";p();y();var hr=fr();pr.exports=A;var oe=Ci().console||{},Ei={mapHttpRequest:Ee,mapHttpResponse:Ee,wrapRequestSerializer:ut,wrapResponseSerializer:ut,wrapErrorSerializer:ut,req:Ee,res:Ee,err:xi};function Si(e,t){return Array.isArray(e)?e.filter(function(n){return n!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function A(e){e=e||{},e.browser=e.browser||{};let t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");let r=e.browser.write||oe;e.browser.write&&(e.browser.asObject=!0);let n=e.serializers||{},s=Si(e.browser.serialize,n),o=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);let f=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");let l=e.level||"info",u=Object.create(r);u.log||(u.log=ae),Object.defineProperty(u,"levelVal",{get:c}),Object.defineProperty(u,"level",{get:a,set:h});let i={transmit:t,serialize:s,asObject:e.browser.asObject,levels:f,timestamp:Li(e)};u.levels=A.levels,u.level=l,u.setMaxListeners=u.getMaxListeners=u.emit=u.addListener=u.on=u.prependListener=u.once=u.prependOnceListener=u.removeListener=u.removeAllListeners=u.listeners=u.listenerCount=u.eventNames=u.write=u.flush=ae,u.serializers=n,u._serialize=s,u._stdErrSerialize=o,u.child=g,t&&(u._logEvent=lt());function c(){return this.level==="silent"?1/0:this.levels.values[this.level]}function a(){return this._level}function h(d){if(d!=="silent"&&!this.levels.values[d])throw Error("unknown level "+d);this._level=d,q(i,u,"error","log"),q(i,u,"fatal","error"),q(i,u,"warn","error"),q(i,u,"info","log"),q(i,u,"debug","log"),q(i,u,"trace","log")}function g(d,m){if(!d)throw new Error("missing bindings for child Pino");m=m||{},s&&d.serializers&&(m.serializers=d.serializers);let _=m.serializers;if(s&&_){var S=Object.assign({},n,_),P=e.browser.serialize===!0?Object.keys(S):s;delete d.serializers,Se([d],P,S,this._stdErrSerialize)}function T(L){this._childLevel=(L._childLevel|0)+1,this.error=X(L,d,"error"),this.fatal=X(L,d,"fatal"),this.warn=X(L,d,"warn"),this.info=X(L,d,"info"),this.debug=X(L,d,"debug"),this.trace=X(L,d,"trace"),S&&(this.serializers=S,this._serialize=P),t&&(this._logEvent=lt([].concat(L._logEvent.bindings,d)))}return T.prototype=this,new T(this)}return u}A.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};A.stdSerializers=Ei;A.stdTimeFunctions=Object.assign({},{nullTime:dr,epochTime:gr,unixTime:Ti,isoTime:Ai});function q(e,t,r,n){let s=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?ae:s[r]?s[r]:oe[r]||oe[n]||ae,Ii(e,t,r)}function Ii(e,t,r){!e.transmit&&t[r]===ae||(t[r]=function(n){return function(){let o=e.timestamp(),f=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===oe?oe:this;for(var u=0;u<f.length;u++)f[u]=arguments[u];if(e.serialize&&!e.asObject&&Se(f,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?n.call(l,Oi(this,r,f,o)):n.apply(l,f),e.transmit){let i=e.transmit.level||t.level,c=A.levels.values[i],a=A.levels.values[r];if(a<c)return;Ri(this,{ts:o,methodLevel:r,methodValue:a,transmitLevel:i,transmitValue:A.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},f)}}}(t[r]))}function Oi(e,t,r,n){e._serialize&&Se(r,e._serialize,e.serializers,e._stdErrSerialize);let s=r.slice(),o=s[0],f={};n&&(f.time=n),f.level=A.levels.values[t];let l=(e._childLevel|0)+1;if(l<1&&(l=1),o!==null&&typeof o=="object"){for(;l--&&typeof s[0]=="object";)Object.assign(f,s.shift());o=s.length?hr(s.shift(),s):void 0}else typeof o=="string"&&(o=hr(s.shift(),s));return o!==void 0&&(f.msg=o),f}function Se(e,t,r,n){for(let s in e)if(n&&e[s]instanceof Error)e[s]=A.stdSerializers.err(e[s]);else if(typeof e[s]=="object"&&!Array.isArray(e[s]))for(let o in e[s])t&&t.indexOf(o)>-1&&o in r&&(e[s][o]=r[o](e[s][o]))}function X(e,t,r){return function(){let n=new Array(1+arguments.length);n[0]=t;for(var s=1;s<n.length;s++)n[s]=arguments[s-1];return e[r].apply(this,n)}}function Ri(e,t,r){let n=t.send,s=t.ts,o=t.methodLevel,f=t.methodValue,l=t.val,u=e._logEvent.bindings;Se(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=s,e._logEvent.messages=r.filter(function(i){return u.indexOf(i)===-1}),e._logEvent.level.label=o,e._logEvent.level.value=f,n(o,e._logEvent,l),e._logEvent=lt(u)}function lt(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function xi(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)t[r]===void 0&&(t[r]=e[r]);return t}function Li(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?dr:gr}function Ee(){return{}}function ut(e){return e}function ae(){}function dr(){return!1}function gr(){return Date.now()}function Ti(){return Math.round(Date.now()/1e3)}function Ai(){return new Date(Date.now()).toISOString()}function Ci(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}});function xa(e){return xe(Re({},e),{level:e?.level||ji.level})}function Ki(e,t=ce){return e[t]||""}function Vi(e,t,r=ce){return e[r]=t,e}function Ji(e,t=ce){let r="";return typeof e.bindings>"u"?r=Ki(e,t):r=e.bindings().context||"",r}function Ui(e,t,r=ce){let n=Ji(e,r);return n.trim()?`${n}/${t}`:t}function La(e,t,r=ce){let n=Ui(e,t,r),s=e.child({context:n});return Vi(s,n,r)}function Wi(e){var t,r;let n=new dt((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:(0,j.default)(xe(Re({},e.opts),{level:"trace",browser:xe(Re({},(r=e.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function Fi(e){var t;let r=new gt((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:(0,j.default)(xe(Re({},e.opts),{level:"trace"}),r),chunkLoggerController:r}}function Ta(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Wi(e):Fi(e)}var j,Pi,ji,ce,pt,ht,Ie,Oe,dt,gt,zi,Ni,Bi,yr,Di,Mi,mr,Re,xe,$i=b(()=>{p();y();j=D(ft()),Pi=D(ft());et();ji={level:"info"},ce="custom_context",pt=1e3*1024,ht=class{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},Ie=class{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){let r=new ht(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;let t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){let t=[],r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};let r=t.value;return t=t.next,{done:!1,value:r}}}}},Oe=class{constructor(t,r=pt){this.level=t??"error",this.levelValue=j.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new Ie(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===j.levels.values.error?console.error(t):r===j.levels.values.warn?console.warn(t):r===j.levels.values.debug?console.debug(t):r===j.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(M({timestamp:new Date().toISOString(),log:t}));let r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new Ie(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){let r=this.getLogArray();return r.push(M({extraMetadata:t})),new Blob(r,{type:"application/json"})}},dt=class{constructor(t,r=pt){this.baseChunkLogger=new Oe(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){let r=URL.createObjectURL(this.logsToBlob(t)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},gt=class{constructor(t,r=pt){this.baseChunkLogger=new Oe(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}},zi=Object.defineProperty,Ni=Object.defineProperties,Bi=Object.getOwnPropertyDescriptors,yr=Object.getOwnPropertySymbols,Di=Object.prototype.hasOwnProperty,Mi=Object.prototype.propertyIsEnumerable,mr=(e,t,r)=>t in e?zi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Re=(e,t)=>{for(var r in t||(t={}))Di.call(t,r)&&mr(e,r,t[r]);if(yr)for(var r of yr(t))Mi.call(t,r)&&mr(e,r,t[r]);return e},xe=(e,t)=>Ni(e,Bi(t))});var vr,wr,_r,br,Le,ue,yt,Te,K,le,Ae=b(()=>{p();y();vr="PARSE_ERROR",wr="INVALID_REQUEST",_r="METHOD_NOT_FOUND",br="INVALID_PARAMS",Le="INTERNAL_ERROR",ue="SERVER_ERROR",yt=[-32700,-32600,-32601,-32602,-32603],Te=[-32e3,-32099],K={[vr]:{code:-32700,message:"Parse error"},[wr]:{code:-32600,message:"Invalid Request"},[_r]:{code:-32601,message:"Method not found"},[br]:{code:-32602,message:"Invalid params"},[Le]:{code:-32603,message:"Internal error"},[ue]:{code:-32e3,message:"Server error"}},le=ue});function ki(e){return e<=Te[0]&&e>=Te[1]}function Ce(e){return yt.includes(e)}function Er(e){return typeof e=="number"}function Pe(e){return Object.keys(K).includes(e)?K[e]:K[le]}function je(e){let t=Object.values(K).find(r=>r.code===e);return t||K[le]}function Gi(e){if(typeof e.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof e.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!Er(e.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${e.error.code}`};if(Ce(e.error.code)){let t=je(e.error.code);if(t.message!==K[le].message&&e.error.message===t.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${e.error.code}`}}return{valid:!0}}function mt(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var vt=b(()=>{p();y();Ae()});function wt(e=3){let t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function _t(e=6){return BigInt(wt(e))}function bt(e,t,r){return{id:r||wt(),jsonrpc:"2.0",method:e,params:t}}function Hi(e,t){return{id:e,jsonrpc:"2.0",result:t}}function Et(e,t,r){return{id:e,jsonrpc:"2.0",error:Sr(t,r)}}function Sr(e,t){return typeof e>"u"?Pe(Le):(typeof e=="string"&&(e=Object.assign(Object.assign({},Pe(ue)),{message:e})),typeof t<"u"&&(e.data=t),Ce(e.code)&&(e=je(e.code)),e)}var Ir=b(()=>{p();y();vt();Ae()});function St(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function qi(e){return St(e)&&"method"in e}function It(e){return St(e)&&(Or(e)||ze(e))}function Or(e){return"result"in e}function ze(e){return"error"in e}function Xi(e){return"error"in e&&e.valid===!1}var Rr=b(()=>{p();y()});var Gr=B((Ha,Be)=>{p();y();var xr,Lr,Tr,Ar,Cr,Pr,jr,zr,Nr,Ne,Ot,Br,Dr,Y,Mr,Kr,Vr,Jr,Ur,Wr,Fr,$r,kr;(function(e){var t=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof Be=="object"&&typeof Be.exports=="object"?e(r(t,r(Be.exports))):e(r(t));function r(n,s){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,f){return n[o]=s?s(o,f):f}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])};xr=function(r,n){t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)},Lr=Object.assign||function(r){for(var n,s=1,o=arguments.length;s<o;s++){n=arguments[s];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(r[f]=n[f])}return r},Tr=function(r,n){var s={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.indexOf(o)<0&&(s[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(r);f<o.length;f++)n.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(r,o[f])&&(s[o[f]]=r[o[f]]);return s},Ar=function(r,n,s,o){var f=arguments.length,l=f<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,s):o,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(r,n,s,o);else for(var i=r.length-1;i>=0;i--)(u=r[i])&&(l=(f<3?u(l):f>3?u(n,s,l):u(n,s))||l);return f>3&&l&&Object.defineProperty(n,s,l),l},Cr=function(r,n){return function(s,o){n(s,o,r)}},Pr=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},jr=function(r,n,s,o){function f(l){return l instanceof s?l:new s(function(u){u(l)})}return new(s||(s=Promise))(function(l,u){function i(h){try{a(o.next(h))}catch(g){u(g)}}function c(h){try{a(o.throw(h))}catch(g){u(g)}}function a(h){h.done?l(h.value):f(h.value).then(i,c)}a((o=o.apply(r,n||[])).next())})},zr=function(r,n){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},o,f,l,u;return u={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function i(a){return function(h){return c([a,h])}}function c(a){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,f&&(l=a[0]&2?f.return:a[0]?f.throw||((l=f.return)&&l.call(f),0):f.next)&&!(l=l.call(f,a[1])).done)return l;switch(f=0,l&&(a=[a[0]&2,l.value]),a[0]){case 0:case 1:l=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,f=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(a[0]===6||a[0]===2)){s=0;continue}if(a[0]===3&&(!l||a[1]>l[0]&&a[1]<l[3])){s.label=a[1];break}if(a[0]===6&&s.label<l[1]){s.label=l[1],l=a;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(a);break}l[2]&&s.ops.pop(),s.trys.pop();continue}a=n.call(r,s)}catch(h){a=[6,h],f=0}finally{o=l=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}},kr=function(r,n,s,o){o===void 0&&(o=s),r[o]=n[s]},Nr=function(r,n){for(var s in r)s!=="default"&&!n.hasOwnProperty(s)&&(n[s]=r[s])},Ne=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,s=n&&r[n],o=0;if(s)return s.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Ot=function(r,n){var s=typeof Symbol=="function"&&r[Symbol.iterator];if(!s)return r;var o=s.call(r),f,l=[],u;try{for(;(n===void 0||n-- >0)&&!(f=o.next()).done;)l.push(f.value)}catch(i){u={error:i}}finally{try{f&&!f.done&&(s=o.return)&&s.call(o)}finally{if(u)throw u.error}}return l},Br=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Ot(arguments[n]));return r},Dr=function(){for(var r=0,n=0,s=arguments.length;n<s;n++)r+=arguments[n].length;for(var o=Array(r),f=0,n=0;n<s;n++)for(var l=arguments[n],u=0,i=l.length;u<i;u++,f++)o[f]=l[u];return o},Y=function(r){return this instanceof Y?(this.v=r,this):new Y(r)},Mr=function(r,n,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=s.apply(r,n||[]),f,l=[];return f={},u("next"),u("throw"),u("return"),f[Symbol.asyncIterator]=function(){return this},f;function u(d){o[d]&&(f[d]=function(m){return new Promise(function(_,S){l.push([d,m,_,S])>1||i(d,m)})})}function i(d,m){try{c(o[d](m))}catch(_){g(l[0][3],_)}}function c(d){d.value instanceof Y?Promise.resolve(d.value.v).then(a,h):g(l[0][2],d)}function a(d){i("next",d)}function h(d){i("throw",d)}function g(d,m){d(m),l.shift(),l.length&&i(l[0][0],l[0][1])}},Kr=function(r){var n,s;return n={},o("next"),o("throw",function(f){throw f}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(f,l){n[f]=r[f]?function(u){return(s=!s)?{value:Y(r[f](u)),done:f==="return"}:l?l(u):u}:l}},Vr=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],s;return n?n.call(r):(r=typeof Ne=="function"?Ne(r):r[Symbol.iterator](),s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s);function o(l){s[l]=r[l]&&function(u){return new Promise(function(i,c){u=r[l](u),f(i,c,u.done,u.value)})}}function f(l,u,i,c){Promise.resolve(c).then(function(a){l({value:a,done:i})},u)}},Jr=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r},Ur=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var s in r)Object.hasOwnProperty.call(r,s)&&(n[s]=r[s]);return n.default=r,n},Wr=function(r){return r&&r.__esModule?r:{default:r}},Fr=function(r,n){if(!n.has(r))throw new TypeError("attempted to get private field on non-instance");return n.get(r)},$r=function(r,n,s){if(!n.has(r))throw new TypeError("attempted to set private field on non-instance");return n.set(r,s),s},e("__extends",xr),e("__assign",Lr),e("__rest",Tr),e("__decorate",Ar),e("__param",Cr),e("__metadata",Pr),e("__awaiter",jr),e("__generator",zr),e("__exportStar",Nr),e("__createBinding",kr),e("__values",Ne),e("__read",Ot),e("__spread",Br),e("__spreadArrays",Dr),e("__await",Y),e("__asyncGenerator",Mr),e("__asyncDelegator",Kr),e("__asyncValues",Vr),e("__makeTemplateObject",Jr),e("__importStar",Ur),e("__importDefault",Wr),e("__classPrivateFieldGet",Fr),e("__classPrivateFieldSet",$r)})});var qr=B(V=>{"use strict";p();y();Object.defineProperty(V,"__esModule",{value:!0});V.isBrowserCryptoAvailable=V.getSubtleCrypto=V.getBrowerCrypto=void 0;function Rt(){return globalThis?.crypto||globalThis?.msCrypto||{}}V.getBrowerCrypto=Rt;function Hr(){let e=Rt();return e.subtle||e.webkitSubtle}V.getSubtleCrypto=Hr;function Yi(){return!!Rt()&&!!Hr()}V.isBrowserCryptoAvailable=Yi});var Zr=B(J=>{"use strict";p();y();Object.defineProperty(J,"__esModule",{value:!0});J.isBrowser=J.isNode=J.isReactNative=void 0;function Xr(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}J.isReactNative=Xr;function Yr(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}J.isNode=Yr;function Zi(){return!Xr()&&!Yr()}J.isBrowser=Zi});var xt=B(De=>{"use strict";p();y();Object.defineProperty(De,"__esModule",{value:!0});var Qr=Gr();Qr.__exportStar(qr(),De);Qr.__exportStar(Zr(),De)});var E={};Ut(E,{isNodeJs:()=>tn});var en,tn,rn=b(()=>{p();y();en=D(xt());I(E,D(xt()));tn=en.isNode});function Qi(e){return e.includes("*")?Ke(e):!/\W/g.test(e)}function Me(e){return e==="*"}function Ke(e){return Me(e)?!0:!(!e.includes("*")||e.split("*").length!==2||e.split("*").filter(t=>t.trim()==="").length!==1)}function es(e){return!Me(e)&&Ke(e)&&!e.split("*")[0].trim()}function ts(e){return!Me(e)&&Ke(e)&&!e.split("*")[1].trim()}var nn=b(()=>{p();y()});var fe,Lt,Ve,he,sn=b(()=>{p();y();fe=class{},Lt=class extends fe{constructor(t){super()}},Ve=class extends fe{constructor(){super()}},he=class extends Ve{constructor(t){super()}}});var on=b(()=>{p();y();sn()});function is(e){let t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function an(e,t){let r=is(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function ss(e){return an(e,rs)}function Je(e){return an(e,ns)}function Tt(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}var rs,ns,cn=b(()=>{p();y();rs="^https?:",ns="^wss?:"});var x={};Ut(x,{DEFAULT_ERROR:()=>le,IBaseJsonRpcProvider:()=>Ve,IEvents:()=>fe,IJsonRpcConnection:()=>Lt,IJsonRpcProvider:()=>he,INTERNAL_ERROR:()=>Le,INVALID_PARAMS:()=>br,INVALID_REQUEST:()=>wr,METHOD_NOT_FOUND:()=>_r,PARSE_ERROR:()=>vr,RESERVED_ERROR_CODES:()=>yt,SERVER_ERROR:()=>ue,SERVER_ERROR_CODE_RANGE:()=>Te,STANDARD_ERROR_MAP:()=>K,formatErrorMessage:()=>Sr,formatJsonRpcError:()=>Et,formatJsonRpcRequest:()=>bt,formatJsonRpcResult:()=>Hi,getBigIntRpcId:()=>_t,getError:()=>Pe,getErrorByCode:()=>je,isHttpUrl:()=>ss,isJsonRpcError:()=>ze,isJsonRpcPayload:()=>St,isJsonRpcRequest:()=>qi,isJsonRpcResponse:()=>It,isJsonRpcResult:()=>Or,isJsonRpcValidationInvalid:()=>Xi,isLocalhostUrl:()=>Tt,isNodeJs:()=>tn,isReservedErrorCode:()=>Ce,isServerErrorCode:()=>ki,isValidDefaultRoute:()=>Me,isValidErrorCode:()=>Er,isValidLeadingWildcardRoute:()=>es,isValidRoute:()=>Qi,isValidTrailingWildcardRoute:()=>ts,isValidWildcardRoute:()=>Ke,isWsUrl:()=>Je,parseConnectionError:()=>mt,payloadId:()=>wt,validateJsonRpcError:()=>Gi});var At=b(()=>{p();y();Ae();vt();rn();I(x,E);Ir();nn();on();cn();Rr()});var ln,un,os=b(()=>{p();y();ln=D(Qe());At();un=class extends he{constructor(t){super(t),this.events=new ln.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(bt(t.method,t.params||[],t.id||_t().toString()),r)}async requestStrict(t,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(o){s(o)}this.events.on(`${t.id}`,o=>{ze(o)?s(o.error):n(o.result)});try{await this.connection.send(t,r)}catch(o){s(o)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),It(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}});var hn=B((Bc,fn)=>{"use strict";p();y();fn.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var yn,as,cs,dn,gn,us,pn,ls=b(()=>{p();y();yn=D(Qe());et();At();as=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:hn(),cs=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",dn=e=>e.split("?")[0],gn=10,us=as(),pn=class{constructor(t){if(this.url=t,this.events=new yn.EventEmitter,this.registering=!1,!Je(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(M(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!Je(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),s(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{let s=new URLSearchParams(t).get("origin"),o=(0,x.isReactNative)()?{headers:{origin:s}}:{rejectUnauthorized:!Tt(t)},f=new us(t,[],o);cs()?f.onerror=l=>{let u=l;n(this.emitError(u.error))}:f.on("error",l=>{n(this.emitError(l))}),f.onopen=()=>{this.onOpen(f),r(f)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;let r=typeof t.data=="string"?te(t.data):t.data;this.events.emit("payload",r)}onError(t,r){let n=this.parseError(r),s=n.message||n.toString(),o=Et(t,s);this.events.emit("payload",o)}parseError(t,r=this.url){return mt(t,dn(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>gn&&this.events.setMaxListeners(gn)}emitError(t){let r=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${dn(this.url)}`));return this.events.emit("register_error",r),r}}});var Uo=B((de,Q)=>{p();y();var fs=200,Jt="__lodash_hash_undefined__",qe=1,Ln=2,Tn=9007199254740991,Ue="[object Arguments]",zt="[object Array]",hs="[object AsyncFunction]",An="[object Boolean]",Cn="[object Date]",Pn="[object Error]",jn="[object Function]",ds="[object GeneratorFunction]",We="[object Map]",zn="[object Number]",gs="[object Null]",Z="[object Object]",mn="[object Promise]",ps="[object Proxy]",Nn="[object RegExp]",Fe="[object Set]",Bn="[object String]",ys="[object Symbol]",ms="[object Undefined]",Nt="[object WeakMap]",Dn="[object ArrayBuffer]",$e="[object DataView]",vs="[object Float32Array]",ws="[object Float64Array]",_s="[object Int8Array]",bs="[object Int16Array]",Es="[object Int32Array]",Ss="[object Uint8Array]",Is="[object Uint8ClampedArray]",Os="[object Uint16Array]",Rs="[object Uint32Array]",xs=/[\\^$.*+?()[\]{}|]/g,Ls=/^\[object .+?Constructor\]$/,Ts=/^(?:0|[1-9]\d*)$/,w={};w[vs]=w[ws]=w[_s]=w[bs]=w[Es]=w[Ss]=w[Is]=w[Os]=w[Rs]=!0;w[Ue]=w[zt]=w[Dn]=w[An]=w[$e]=w[Cn]=w[Pn]=w[jn]=w[We]=w[zn]=w[Z]=w[Nn]=w[Fe]=w[Bn]=w[Nt]=!1;var Mn=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,As=typeof self=="object"&&self&&self.Object===Object&&self,z=Mn||As||Function("return this")(),Kn=typeof de=="object"&&de&&!de.nodeType&&de,vn=Kn&&typeof Q=="object"&&Q&&!Q.nodeType&&Q,Vn=vn&&vn.exports===Kn,Ct=Vn&&Mn.process,wn=function(){try{return Ct&&Ct.binding&&Ct.binding("util")}catch{}}(),_n=wn&&wn.isTypedArray;function Cs(e,t){for(var r=-1,n=e==null?0:e.length,s=0,o=[];++r<n;){var f=e[r];t(f,r,e)&&(o[s++]=f)}return o}function Ps(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}function js(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function zs(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Ns(e){return function(t){return e(t)}}function Bs(e,t){return e.has(t)}function Ds(e,t){return e?.[t]}function Ms(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}function Ks(e,t){return function(r){return e(t(r))}}function Vs(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Js=Array.prototype,Us=Function.prototype,Xe=Object.prototype,Pt=z["__core-js_shared__"],Jn=Us.toString,C=Xe.hasOwnProperty,bn=function(){var e=/[^.]+$/.exec(Pt&&Pt.keys&&Pt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Un=Xe.toString,Ws=RegExp("^"+Jn.call(C).replace(xs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),En=Vn?z.Buffer:void 0,ke=z.Symbol,Sn=z.Uint8Array,Wn=Xe.propertyIsEnumerable,Fs=Js.splice,$=ke?ke.toStringTag:void 0,In=Object.getOwnPropertySymbols,$s=En?En.isBuffer:void 0,ks=Ks(Object.keys,Object),Bt=ee(z,"DataView"),ge=ee(z,"Map"),Dt=ee(z,"Promise"),Mt=ee(z,"Set"),Kt=ee(z,"WeakMap"),pe=ee(Object,"create"),Gs=H(Bt),Hs=H(ge),qs=H(Dt),Xs=H(Mt),Ys=H(Kt),On=ke?ke.prototype:void 0,jt=On?On.valueOf:void 0;function k(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Zs(){this.__data__=pe?pe(null):{},this.size=0}function Qs(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function eo(e){var t=this.__data__;if(pe){var r=t[e];return r===Jt?void 0:r}return C.call(t,e)?t[e]:void 0}function to(e){var t=this.__data__;return pe?t[e]!==void 0:C.call(t,e)}function ro(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=pe&&t===void 0?Jt:t,this}k.prototype.clear=Zs;k.prototype.delete=Qs;k.prototype.get=eo;k.prototype.has=to;k.prototype.set=ro;function N(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function no(){this.__data__=[],this.size=0}function io(e){var t=this.__data__,r=Ye(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Fs.call(t,r,1),--this.size,!0}function so(e){var t=this.__data__,r=Ye(t,e);return r<0?void 0:t[r][1]}function oo(e){return Ye(this.__data__,e)>-1}function ao(e,t){var r=this.__data__,n=Ye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}N.prototype.clear=no;N.prototype.delete=io;N.prototype.get=so;N.prototype.has=oo;N.prototype.set=ao;function G(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function co(){this.size=0,this.__data__={hash:new k,map:new(ge||N),string:new k}}function uo(e){var t=Ze(this,e).delete(e);return this.size-=t?1:0,t}function lo(e){return Ze(this,e).get(e)}function fo(e){return Ze(this,e).has(e)}function ho(e,t){var r=Ze(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}G.prototype.clear=co;G.prototype.delete=uo;G.prototype.get=lo;G.prototype.has=fo;G.prototype.set=ho;function Ge(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new G;++t<r;)this.add(e[t])}function go(e){return this.__data__.set(e,Jt),this}function po(e){return this.__data__.has(e)}Ge.prototype.add=Ge.prototype.push=go;Ge.prototype.has=po;function W(e){var t=this.__data__=new N(e);this.size=t.size}function yo(){this.__data__=new N,this.size=0}function mo(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function vo(e){return this.__data__.get(e)}function wo(e){return this.__data__.has(e)}function _o(e,t){var r=this.__data__;if(r instanceof N){var n=r.__data__;if(!ge||n.length<fs-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new G(n)}return r.set(e,t),this.size=r.size,this}W.prototype.clear=yo;W.prototype.delete=mo;W.prototype.get=vo;W.prototype.has=wo;W.prototype.set=_o;function bo(e,t){var r=He(e),n=!r&&Bo(e),s=!r&&!n&&Vt(e),o=!r&&!n&&!s&&Xn(e),f=r||n||s||o,l=f?zs(e.length,String):[],u=l.length;for(var i in e)(t||C.call(e,i))&&!(f&&(i=="length"||s&&(i=="offset"||i=="parent")||o&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||Co(i,u)))&&l.push(i);return l}function Ye(e,t){for(var r=e.length;r--;)if(kn(e[r][0],t))return r;return-1}function Eo(e,t,r){var n=t(e);return He(e)?n:Ps(n,r(e))}function me(e){return e==null?e===void 0?ms:gs:$&&$ in Object(e)?To(e):No(e)}function Rn(e){return ye(e)&&me(e)==Ue}function Fn(e,t,r,n,s){return e===t?!0:e==null||t==null||!ye(e)&&!ye(t)?e!==e&&t!==t:So(e,t,r,n,Fn,s)}function So(e,t,r,n,s,o){var f=He(e),l=He(t),u=f?zt:U(e),i=l?zt:U(t);u=u==Ue?Z:u,i=i==Ue?Z:i;var c=u==Z,a=i==Z,h=u==i;if(h&&Vt(e)){if(!Vt(t))return!1;f=!0,c=!1}if(h&&!c)return o||(o=new W),f||Xn(e)?$n(e,t,r,n,s,o):xo(e,t,u,r,n,s,o);if(!(r&qe)){var g=c&&C.call(e,"__wrapped__"),d=a&&C.call(t,"__wrapped__");if(g||d){var m=g?e.value():e,_=d?t.value():t;return o||(o=new W),s(m,_,r,n,o)}}return h?(o||(o=new W),Lo(e,t,r,n,s,o)):!1}function Io(e){if(!qn(e)||jo(e))return!1;var t=Gn(e)?Ws:Ls;return t.test(H(e))}function Oo(e){return ye(e)&&Hn(e.length)&&!!w[me(e)]}function Ro(e){if(!zo(e))return ks(e);var t=[];for(var r in Object(e))C.call(e,r)&&r!="constructor"&&t.push(r);return t}function $n(e,t,r,n,s,o){var f=r&qe,l=e.length,u=t.length;if(l!=u&&!(f&&u>l))return!1;var i=o.get(e);if(i&&o.get(t))return i==t;var c=-1,a=!0,h=r&Ln?new Ge:void 0;for(o.set(e,t),o.set(t,e);++c<l;){var g=e[c],d=t[c];if(n)var m=f?n(d,g,c,t,e,o):n(g,d,c,e,t,o);if(m!==void 0){if(m)continue;a=!1;break}if(h){if(!js(t,function(_,S){if(!Bs(h,S)&&(g===_||s(g,_,r,n,o)))return h.push(S)})){a=!1;break}}else if(!(g===d||s(g,d,r,n,o))){a=!1;break}}return o.delete(e),o.delete(t),a}function xo(e,t,r,n,s,o,f){switch(r){case $e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Dn:return!(e.byteLength!=t.byteLength||!o(new Sn(e),new Sn(t)));case An:case Cn:case zn:return kn(+e,+t);case Pn:return e.name==t.name&&e.message==t.message;case Nn:case Bn:return e==t+"";case We:var l=Ms;case Fe:var u=n&qe;if(l||(l=Vs),e.size!=t.size&&!u)return!1;var i=f.get(e);if(i)return i==t;n|=Ln,f.set(e,t);var c=$n(l(e),l(t),n,s,o,f);return f.delete(e),c;case ys:if(jt)return jt.call(e)==jt.call(t)}return!1}function Lo(e,t,r,n,s,o){var f=r&qe,l=xn(e),u=l.length,i=xn(t),c=i.length;if(u!=c&&!f)return!1;for(var a=u;a--;){var h=l[a];if(!(f?h in t:C.call(t,h)))return!1}var g=o.get(e);if(g&&o.get(t))return g==t;var d=!0;o.set(e,t),o.set(t,e);for(var m=f;++a<u;){h=l[a];var _=e[h],S=t[h];if(n)var P=f?n(S,_,h,t,e,o):n(_,S,h,e,t,o);if(!(P===void 0?_===S||s(_,S,r,n,o):P)){d=!1;break}m||(m=h=="constructor")}if(d&&!m){var T=e.constructor,L=t.constructor;T!=L&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof L=="function"&&L instanceof L)&&(d=!1)}return o.delete(e),o.delete(t),d}function xn(e){return Eo(e,Ko,Ao)}function Ze(e,t){var r=e.__data__;return Po(t)?r[typeof t=="string"?"string":"hash"]:r.map}function ee(e,t){var r=Ds(e,t);return Io(r)?r:void 0}function To(e){var t=C.call(e,$),r=e[$];try{e[$]=void 0;var n=!0}catch{}var s=Un.call(e);return n&&(t?e[$]=r:delete e[$]),s}var Ao=In?function(e){return e==null?[]:(e=Object(e),Cs(In(e),function(t){return Wn.call(e,t)}))}:Vo,U=me;(Bt&&U(new Bt(new ArrayBuffer(1)))!=$e||ge&&U(new ge)!=We||Dt&&U(Dt.resolve())!=mn||Mt&&U(new Mt)!=Fe||Kt&&U(new Kt)!=Nt)&&(U=function(e){var t=me(e),r=t==Z?e.constructor:void 0,n=r?H(r):"";if(n)switch(n){case Gs:return $e;case Hs:return We;case qs:return mn;case Xs:return Fe;case Ys:return Nt}return t});function Co(e,t){return t=t??Tn,!!t&&(typeof e=="number"||Ts.test(e))&&e>-1&&e%1==0&&e<t}function Po(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function jo(e){return!!bn&&bn in e}function zo(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Xe;return e===r}function No(e){return Un.call(e)}function H(e){if(e!=null){try{return Jn.call(e)}catch{}try{return e+""}catch{}}return""}function kn(e,t){return e===t||e!==e&&t!==t}var Bo=Rn(function(){return arguments}())?Rn:function(e){return ye(e)&&C.call(e,"callee")&&!Wn.call(e,"callee")},He=Array.isArray;function Do(e){return e!=null&&Hn(e.length)&&!Gn(e)}var Vt=$s||Jo;function Mo(e,t){return Fn(e,t)}function Gn(e){if(!qn(e))return!1;var t=me(e);return t==jn||t==ds||t==hs||t==ps}function Hn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Tn}function qn(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ye(e){return e!=null&&typeof e=="object"}var Xn=_n?Ns(_n):Oo;function Ko(e){return Do(e)?bo(e):Ro(e)}function Vo(){return[]}function Jo(){return!1}Q.exports=Mo});export{ve as a,Ft as b,Zn as c,we as d,Qn as e,ur as f,wi as g,Pi as h,xa as i,Ji as j,La as k,Ta as l,$i as m,wt as n,_t as o,bt as p,Hi as q,Et as r,qi as s,It as t,Or as u,ze as v,At as w,un as x,os as y,pn as z,ls as A,Uo as B};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-U4TWEZIL.js.map
