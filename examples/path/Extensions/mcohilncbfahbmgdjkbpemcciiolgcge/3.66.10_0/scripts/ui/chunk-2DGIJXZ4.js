import{b as Re,f as ut,g as $r,h as Y,i as lo,j as so}from"./chunk-XOLRBQKR.js";import{a as Zr}from"./chunk-54L4J5QB.js";import{a as Wr,b as Kr,c as Yr,d as L}from"./chunk-62FCUUV6.js";import{b as ro}from"./chunk-A52G67PA.js";import{a as io}from"./chunk-YGTXYAOX.js";import{a as Hr}from"./chunk-WBTR3RX4.js";import{a as kr,e as Pr,m as Or,s as Mr}from"./chunk-CQWP5UAS.js";import{a as Fr}from"./chunk-UWCOP3B7.js";import{a as Gr}from"./chunk-7KQVTMRC.js";import{a as nt}from"./chunk-UFD2MUZI.js";import{a as Rr,b as oo}from"./chunk-SKXNZFRN.js";import{e as Lr}from"./chunk-CGFS6AE4.js";import{a as to}from"./chunk-RNMISV22.js";import{b as no,e as Ur}from"./chunk-RT3YHZTS.js";import{a as Br}from"./chunk-4ZGOJDNI.js";import{a as Vr}from"./chunk-32XJE5HT.js";import{H as eo}from"./chunk-CDNJY7Z3.js";import{a as ze}from"./chunk-DBWXHHZT.js";import{b as br,c as Sr,d as Fe,g as qt}from"./chunk-7JSJY3SQ.js";import{c as Qt}from"./chunk-NWY3GPDX.js";import{a as vr}from"./chunk-6JEFG7DQ.js";import{a as Nr}from"./chunk-3FBTFEMV.js";import{b as jt,h as dr,i as fr,m as Xt,n as ur,o as xr}from"./chunk-623SCK25.js";import{c as Er}from"./chunk-NPQMAAOH.js";import{a as Ir}from"./chunk-LTLRDXME.js";import{a as Cr}from"./chunk-RMI6BAM3.js";import{a as Dr}from"./chunk-T4RFDN7D.js";import{Z as ir,ca as bt,ga as rr,ka as qo,s as nr,xa as lr}from"./chunk-NQAVUB4Q.js";import{a as wr,f as hr,h as Ar}from"./chunk-IEGAVAV7.js";import{e as tn}from"./chunk-5A3RJQCM.js";import{b as St}from"./chunk-7C7MBE2C.js";import{g as gr,h as yr}from"./chunk-AZNX5TUC.js";import{b as Tr}from"./chunk-TKE74ERX.js";import{rb as cr,sb as pr}from"./chunk-QMENNGDH.js";import{a as de,e as sr,r as Ie}from"./chunk-WGVA2GGS.js";import{e as $t,f as zt}from"./chunk-V34MB2FG.js";import{o as Qo}from"./chunk-XP3TNE3R.js";import{C as O,Ha as or,Kb as Yt,Q as ot,jc as Le,ua as tr}from"./chunk-QRHYK2TW.js";import{a as Ea}from"./chunk-532YJKK4.js";import{c as er,e as Ia}from"./chunk-AS4Z3FNS.js";import{c as _r,d as Zt,f as mr}from"./chunk-ZFTHPYIG.js";import{e as ae,g as en,n as ar}from"./chunk-YCFHPQAJ.js";import{a as D,b as Jo,c as n,e as H,f as se,h as Te}from"./chunk-4EIUGT5A.js";import{a as Jt}from"./chunk-OCAFSBNZ.js";import{c as M}from"./chunk-62ZAND24.js";import{a as Ce}from"./chunk-SIITVWZR.js";import{Ab as Xi,Eb as ft,J as Vt,Jb as jo,L as Ht,M as Zi,Ma as tt,Na as zo,Rd as Wt,Tc as vt,Uc as Ji,Ud as Kt,Xd as Qi,Z as Zo,a as Hi,b as Ca,ba as $i,bd as qi,ia as $o,od as Xo}from"./chunk-QHXUL3YM.js";import{B as K,C as Yi,H as y,l as Ze,y as _}from"./chunk-MOTAOJVG.js";import{A as le,G as zi,H as xe,M as Ge,P as Se,Q as te,o as pe,y as Ue}from"./chunk-XR4SQWL7.js";import{H as Wi,L as ye,fa as Ki,ra as pt}from"./chunk-CYTB2B6Q.js";import{aa as ue,fa as dt,ka as $e}from"./chunk-6M3PZK2X.js";import{b as T}from"./chunk-OL67KS7C.js";import{a as ji}from"./chunk-2EEW2VNF.js";import{f as u,o as i,q as r}from"./chunk-SHG7TIBL.js";i();r();pt();y();var ao="okx-wallet-plugin-report-centre",xt="okx-wallet-plugin-nft",on="okx-wallet-plugin-report-centre",zr="okx-wallet-plugin-lock-1",nn="okx-wallet-plugin-swap-1",Na="okx-wallet-plugin-documentation",jr=(e=[],t="en-US",o=!1)=>{if(!Array.isArray(e))return[[],[]];let l=new Map,a=[],s=[],m=0,p=c=>{let x=Ze(c.txTime,{format:"yyyyMMdd",locale:t});ye(l.get(x))&&(l.set(x,m),s[m]={},s[m].date=x,s[m].list=[],m++);let I=l.get(x);s[I].list.push(c)};return e.forEach(c=>{c.txStatus===D.PENDING?!c.isShowPending&&o?p(c):a.push(c):p(c)}),a.sort((c,x)=>x.txTime-c.txTime),[a,s]},ga=new Map([[n.SEND_NFT,xt],[n.RECEIVE_NFT,xt],[n.MINT_NFT,xt],[n.CANCEL_NFT,xt],[n.NFT_AUTHORIZATION,xt],[n.DAPP_NFT,on],[n.CONTRACTCALL,on],[n.KYS,on],[n.AUTHORIZATION,zr],[n.CANCEL_AUTHORIZATION,zr],[n.SWAP,nn],[n.BUY_NFT,nn],[n.SELL_NFT,nn],[n.NFT_CANCEL_AUTHORIZATION,Na]]),Be=(e={})=>{if(ye(e)||typeof e!="object")return ao;let{txType:t}=e;return ye(t)?ao:ga.get(t)||ao},Xr=(e={})=>{let{txType:t}=e;return t===n.SEND_NFT||t===n.RECEIVE_NFT||t===n.BUY_NFT||t===n.SELL_NFT||t===n.MINT_NFT||t===n.DAPP_NFT||t===n.CANCEL_NFT},Jr=(e={},t={})=>{let{nftId:o}=e,{txType:l}=t;return o||l===n.ORDINAL_NFT?xt:l===n.ORDINAL_TEXT?`${Jt()}/cdn/assets/imgs/237/8FEBB75DDC505B6F.png`:ao},qr=(e={})=>{let{hideTxType:t}=e;return Number.isInteger(t)&&t!==jt.NORMAL},Tt=e=>e.txType===n.JITO_TIP&&e.okexAccount;i();r();var h=u(T()),Bs=u(Qo());pt();i();r();zo();jo();var Qr=e=>Xi(tt.getGiftReceiveList,e);i();r();var X=u(T()),al=u(Ea());i();r();var je=u(T());i();r();var it=u(T());y();zo();jo();var ya=({tx:e,closeVisible:t,repeatVisible:o,onClose:l,onConfirm:a})=>{let s=a,m=t||o,{txHash:p,coinId:f,txId:c,include:x,coinSymbol:I}=e,E=x?.[0]?.protocolName,N=I,w=wr(),g=Fe(f)?.chainId||0,F=async()=>{try{let b={txHash:p,accountId:w,chainId:g};return await ft(tt.postCloseTranscation,b,{walletSignParams:{needWalletSign:!0,walletId:w}})}catch(b){let k=pe.tip({title:_("extension_biz_title_cancel_transaction_failed"),confirmText:_("commonall_text_btn_ok_active"),children:it.default.createElement("div",null,b.msg),onConfirm:()=>{s(c),k.destroy()}});throw b}},S=async()=>{try{let b={txHash:p,accountId:w,chainId:g};await ft(tt.postRepeatTranscation,b,{walletSignParams:{needWalletSign:!0,walletId:w}})}catch(b){let k=pe.tip({title:_("extension_biz_title_cancel_broadcast_failed"),confirmText:_("commonall_text_btn_ok_active"),children:it.default.createElement("div",null,b.msg),onConfirm:()=>{s(c),k.destroy()}});throw b}},V=async()=>{try{t?(rr({token_name:N,protocol:E}),await F()):o&&(lr({token_name:N,protocol:E}),await S())}catch{return}a(c),xe.success({title:_("extension_defi_toast_header_tips_request_submit")})};return it.default.createElement(pe.Prompt,{visible:m,className:"ethereum-tx-speed-dialog",alignBottom:!1,titleCenter:!1,infoType:null,onConfirm:V,onClose:()=>{l&&l()},confirmText:_("wallet_extension_btn_general_confirm"),confirmBtnProps:{type:$e.TYPE.highlight,size:$e.SIZE.lg},renderContent:b=>it.default.createElement(b,null,it.default.createElement("div",{className:"ethereum-tx-speed-dialog__title"},t&&_("extension_defi_toast_title_release_utxo"),o&&_("extension_defi_toast_title_rebroadcast")),it.default.createElement("div",{className:"ethereum-tx-speed-dialog__subtitle"},t&&_("extension_defi_toast_desc_release_utxo"),o&&_("extension_defi_toast_desc_rebroadcast")))})},el=ya;function wa({data:e,onRefresh:t}){let{showCloseTransaction:o,showTxRepeatBroadcast:l,include:a,coinSymbol:s}=e,[m,p]=(0,je.useState)(!1),[f,c]=(0,je.useState)(!1),x=a?.[0]?.protocolName,I=s;return je.default.createElement(je.default.Fragment,null,je.default.createElement(ut,{showCloseTransaction:o,showTxRepeatBroadcast:l,onClose:()=>{p(!0),qo({token_name:I,protocol:x,button_name:"releaseutxo"})},onRepeat:()=>{c(!0),qo({token_name:I,protocol:x,button_name:"rebroadcast"})}}),(m||f)&&je.default.createElement(el,{tx:e,closeVisible:m,repeatVisible:f,onConfirm:E=>{t(E),p(!1),c(!1)},onClose:()=>{p(!1),c(!1)}}))}var tl=wa;i();r();var Lt=u(T());i();r();var R=u(T()),Ct=u(Ce());y();$o();i();r();var U={"transaction-detail-box":"_transaction-detail-box_1ugec_1",transactionDetailBox:"_transaction-detail-box_1ugec_1","dialog-header":"_dialog-header_1ugec_4",dialogHeader:"_dialog-header_1ugec_4","dialog-title":"_dialog-title_1ugec_7",dialogTitle:"_dialog-title_1ugec_7","close-icon":"_close-icon_1ugec_14",closeIcon:"_close-icon_1ugec_14","transaction-acceleration-container":"_transaction-acceleration-container_1ugec_17",transactionAccelerationContainer:"_transaction-acceleration-container_1ugec_17","transaction-acceleration-header":"_transaction-acceleration-header_1ugec_20",transactionAccelerationHeader:"_transaction-acceleration-header_1ugec_20","transaction-acceleration-title":"_transaction-acceleration-title_1ugec_23",transactionAccelerationTitle:"_transaction-acceleration-title_1ugec_23","transaction-acceleration-subtitle":"_transaction-acceleration-subtitle_1ugec_28",transactionAccelerationSubtitle:"_transaction-acceleration-subtitle_1ugec_28","text-underline":"_text-underline_1ugec_33",textUnderline:"_text-underline_1ugec_33","transaction-acceleration-details":"_transaction-acceleration-details_1ugec_38",transactionAccelerationDetails:"_transaction-acceleration-details_1ugec_38","transaction-detail-row":"_transaction-detail-row_1ugec_43",transactionDetailRow:"_transaction-detail-row_1ugec_43","transaction-detail-label":"_transaction-detail-label_1ugec_50",transactionDetailLabel:"_transaction-detail-label_1ugec_50","transaction-detail-value":"_transaction-detail-value_1ugec_56",transactionDetailValue:"_transaction-detail-value_1ugec_56","transaction-detail-fiat-value":"_transaction-detail-fiat-value_1ugec_64",transactionDetailFiatValue:"_transaction-detail-fiat-value_1ugec_64","transaction-acceleration-footer":"_transaction-acceleration-footer_1ugec_70",transactionAccelerationFooter:"_transaction-acceleration-footer_1ugec_70","empty-state":"_empty-state_1ugec_77",emptyState:"_empty-state_1ugec_77"};var ha=({currentAvgFeeRate:e,expectedFeeRate:t,currentTxSize:o,ancestorsTxSize:l,totalFee:a,totalFeeUSD:s})=>R.default.createElement("div",{className:U.transactionDetailBox},R.default.createElement("div",{className:U.transactionAccelerationDetails},R.default.createElement("p",{className:U.transactionDetailRow},l?R.default.createElement(le,{title:_("extension_defi_popup_tooltips_feerate_before_speedup"),placement:le.DIRECTION.topLeft,arrowAlignBoundary:!0},R.default.createElement("span",{className:(0,Ct.default)(U.transactionDetailLabel,U.textUnderline)},_("extension_defi_toast_item_current_fee_rate"))):R.default.createElement("span",{className:U.transactionDetailLabel},_("extension_defi_toast_item_current_fee_rate")),R.default.createElement("span",{className:U.transactionDetailValue},`${e} sats/vb`)),R.default.createElement("p",{className:U.transactionDetailRow},R.default.createElement("span",{className:U.transactionDetailLabel},_("extension_defi_toast_item_speedup_rate")),R.default.createElement("span",{className:U.transactionDetailValue},`${t} sats/vb`)),R.default.createElement("p",{className:U.transactionDetailRow},R.default.createElement("span",{className:U.transactionDetailLabel},_("extension_defi_toast_item_txn_size")),R.default.createElement("span",{className:U.transactionDetailValue},`${o}vb`)),l?R.default.createElement("p",{className:U.transactionDetailRow},R.default.createElement("span",{className:U.transactionDetailLabel},_("extension_defi_toast_item_ancestor_txn")),R.default.createElement("span",{className:U.transactionDetailValue},`${l}vb`)):null,R.default.createElement("div",{className:U.transactionDetailRow},l?R.default.createElement(le,{title:_("extension_defi_popup_tooltips_desc_total_fee_meaning")},R.default.createElement("span",{className:(0,Ct.default)(U.transactionDetailLabel,U.textUnderline)},_("extension_defi_toast_item_total_fee"))):R.default.createElement("span",{className:(0,Ct.default)(U.transactionDetailLabel)},_("extension_defi_toast_item_total_fee")),R.default.createElement("p",{className:(0,Ct.default)(U.transactionDetailValue,U.transactionDetailFiatValue)},Zo(a)," ~ ",s))),R.default.createElement("p",{className:U.transactionAccelerationFooter},_("extension_defi_toast_desc_0service_fee"))),Aa=({tx:e,feeInfo:t,visible:o,networkError:l,onClose:a,onConfirm:s,onRetry:m})=>{let{currencyPrice:p,currencySymbol:f}=Lr(e.mainCoinId),c=`${f}${$i(Vt(Zo(t.totalFee),p),2)}`;return R.default.createElement(Wr,{visible:o,error:l,onClose:a,onConfirm:s,title:_("extension_defi_toast_title_speedup_txn"),headerTitle:Yi("extension_defi_toast_subtitle_raise_fee_variable",{cpfp:R.default.createElement(le,{title:_("extension_defi_popup_tooltips_cpfp_meaning")},R.default.createElement("span",{className:(0,Ct.default)(U.transactionAccelerationSubtitle,U.textUnderline)},`${_("extension_defi_toast_subtitle_using_cpfp")}`))}),content:R.default.createElement(ha,{...t,totalFeeUSD:c}),errContent:R.default.createElement(Ue.State,{title:_("extension_defi_toast_title_internet_error"),type:Ue.State.TYPE.noNetwork,description:_("extension_defi_toast_subtitle_cant_get_fee"),buttonText:_("extension_defi_toast_btn_retry"),onButtonClick:()=>{m&&m()},className:U.emptyState}),confirmText:_("wallet_extension_btn_general_confirm")})},ol=Aa;i();r();var j=u(T()),nl=u(Le());y();$o();var Da=(e,t)=>{let{address:o,mainCoinId:l,txHash:a,txId:s,btcSpeedUpInfo:m}=e,p=m?.cpfpSpeedUpUtxo?.[0].address||o,f=400002,[c,x]=(0,j.useState)(!1),[I,E]=(0,j.useState)(!1),[N,w]=(0,j.useState)(!1),[A,g]=(0,j.useState)(!1),[F,S]=(0,j.useState)(!1),[V,b]=(0,j.useState)({}),[k,J]=(0,j.useState)({}),[G,P,Me,ee,re]=kr({...e,address:p}),ct=(0,nl.useSelector)(Yt),{currencyId:ma}=ct,ca=Or({address:o,coinId:l,currencyId:ma,doubleConfirmSource:Pr.ACCELERATE});(0,j.useEffect)(()=>{(async()=>{if(G&&P?.expectedFeeRate){let[ge,be,,Dt]=await ee(G,P);(ge||be)&&b({...P,totalFee:Ht(Number(P.increaseFee)+Dt)})}})()},[P,G,ee]);let Wo=(0,j.useCallback)((ce,ge)=>{if(ge==="init")if(ce.msg){let be=pe.tip({title:_("extension_biz_title_speed_up_failed"),confirmText:_("commonall_text_btn_ok_active"),children:j.default.createElement("div",null,ce.msg),onConfirm:()=>{t(s),be.destroy()}})}else E(!0),x(!0);else{if(ce?.code===f){xe.error({title:_("extension_defi_top_toast_speedup_fail")}),t(s);return}if(ce?.code===Hr.BALANCE_NOT_ENOUGH){bt({accelerate_status:"utxo_fail"}),xe.error({title:_("extension_defi_top_text_insufficient_utxo_pay")});return}bt({accelerate_status:"other_fail"}),w(!0)}},[]),Ko=(0,j.useCallback)(async()=>{if(!A){try{if(re)throw re;g(!0);let[ce,ge,,be]=await ee(G,P);if(ce||ge)b({...P,totalFee:Ht(Number(P.increaseFee)+be)});else{xe.error({title:_("extension_defi_top_text_insufficient_utxo_pay")});return}x(!0),E(!1),w(!1)}catch(ce){Wo(ce,"init")}g(!1)}},[re,G,P,Wo,A,ee]),pa=Dr()?.find(ce=>ce.coinId===l)?.localType,da=Mr({coinId:l,fromAddr:p,toAddr:p,outputs:[{address:p,amount:k.sendAmountInt}],networkFee:k.networkFeeInt,localType:pa,dustSize:k.totalInput,satBytes:P.expectedFeeRate,coinAmount:k.sendAmountInt,extraPublishParams:{coinAmount:k.sendAmountInt,txType:n.TRANS_OUT}});(0,j.useEffect)(()=>{(async()=>{try{let{confirm:ge,utxoList:be}=k;ge&&(await da({utxoList:be}),xe.success(_("extension_defi_top_toast_speedup_success")),bt({accelerate_status:"success"}),t(s))}catch{xe.error({title:_("extension_defi_top_toast_speedup_fail")})}})()},[k]);let Yo=(0,j.useCallback)(async()=>{if(F)return;if(S(!0),await Br())try{let[ge,be,Dt,ua]=await ee(G,P);if(!ge&&!be){xe.error({title:_("extension_defi_top_text_insufficient_utxo_pay")}),bt({accelerate_status:"utxo_fail"}),S(!1);return}try{await ca(Dt)}catch{S(!1);return}let Ui=Dt.reduce((xa,Ta)=>xa+Ta.coinAmount,0),Gi=Ht(ua,Number(P.increaseFee)),Vi=Number(Zi(Ui,Gi));be&&(Vi=Me),J({totalInput:Ui,sendAmountInt:Vi,networkFeeInt:Gi,utxoList:Dt,confirm:!0}),E(!1),w(!1),S(!1),x(!1)}catch(ge){Wo(ge,"confirm"),S(!1)}},[G,P,a]),fa=(0,j.useCallback)(async()=>{I&&Ko(),N&&Yo()},[Ko,N,I,Yo]);return{isFetchingTxFee:A,btcSpeedUpHandle:Ko,isBTCSpeedUpDialogVisible:c,displayFee:V,isFetchBTCFeeInfoNetworkError:I,isConfirmAccelerateError:N,onConfirmAccelerateBTCTX:Yo,setIsBTCSpeedUpDialogVisible:x,onRetryBtcSpeedUp:fa}},il=Da;function va({data:e,onRefresh:t}){let{isFetchingTxFee:o,btcSpeedUpHandle:l,isBTCSpeedUpDialogVisible:a,displayFee:s,isFetchBTCFeeInfoNetworkError:m,isConfirmAccelerateError:p,onConfirmAccelerateBTCTX:f,setIsBTCSpeedUpDialogVisible:c,onRetryBtcSpeedUp:x}=il(e,t);return Lt.default.createElement(Lt.default.Fragment,null,Lt.default.createElement(ut,{isLoading:o,canAccelerateBtcTx:!0,onBtcSpeedUp:l}),a&&Lt.default.createElement(ol,{tx:e,feeInfo:s,networkError:m||p,visible:a,onConfirm:async()=>{await f()},onClose:()=>{c(!1)},onRetry:x}))}var rl=va;i();r();i();r();var ba=()=>null,ll=ba;var sl=ll;function Sa({data:e,onRefresh:t}){let o=(0,al.useHistory)(),{from:l,coinId:a,txStatus:s,isShowSpeedUp:m,isShowCancel:p,isShowSpeedupCancel:f,mainCoinId:c,showCloseTransaction:x,showTxRepeatBroadcast:I,txType:E,bizData:N}=e,w=Fe(a),[A,g]=(0,X.useState)(!1),[F,S]=(0,X.useState)(!1),V=_r(c),b=mr(c),k=V&&s===D.PENDING,J=b&&s===D.PENDING,G=x||I,[P]=(0,X.useState)(b&&m),Me=E===n.RED_PACKET&&s===D.SUCCESS||E===n.RECEIVE_PACKET;(0,X.useEffect)(()=>{ir({button_appear:P?"yes":"no"})},[P]);let[ee,re]=Fr({coinId:a,address:l,chainId:w?.chainId},{ready:k});return X.default.createElement("div",{className:"tx-detail-action"},k&&!Me&&X.default.createElement(X.default.Fragment,null,X.default.createElement(ut,{isShowCancel:p,isShowSpeedUp:m&&V,isShowSpeedupCancel:f,onCancel:()=>{g(!0)},onSpeedUp:()=>{S(!0)}}),A&&X.default.createElement(Kr,{tx:e,signInfo:re,visible:A,onConfirm:ct=>{t(ct),g(!1)},onClose:()=>{g(!1)}}),F&&X.default.createElement(Yr,{tx:e,loading:ee,signInfo:re,visible:F,onConfirm:ct=>{t(ct),S(!1)},onClose:()=>{S(!1)}})),J&&X.default.createElement(X.default.Fragment,null,G&&X.default.createElement(tl,{data:e,onRefresh:t}),P&&X.default.createElement(rl,{data:e,onRefresh:t})),Me&&X.default.createElement(sl,{onClick:()=>{E===n.RED_PACKET?o.push(`${pr}?giftId=${N?.redPacketId}`):o.push(`${cr}?giftId=${N?.redPacketId}&backMode=1`)}}))}var _l=Sa;i();r();var z=u(T()),Ao=u(Ce());i();r();var W=u(T()),ul=u(Ce());y();i();r();var _o=u(T());y();i();r();var ml=u(T()),cl=u(Qo());y();Ia();zo();jo();var La=e=>{let{coinId:t}=e||{},o=(0,ml.useRef)(!1),l=gr();return(0,cl.useMemoizedFn)(async()=>{try{if(o.current===!0||!t)return;o.current=!0;let a=await er().getUserUniqueId(),s={coinId:t,accountId:l,userUniqueId:a},[m]=await Promise.all([or({coinId:t}),ft(tt.postAddCoin,s,{walletSignParams:{needWalletSign:!0,walletId:l}})]);await Er(m),xe.success(_("wallet_extension_customtoken_notification_title_token_added"))}catch{xe.error(_("wallet_home_toast_network_error"))}finally{o.current=!1}})},pl=La;i();r();var dl={root:"_root_4qsur_1"};function Fa({coinId:e,hideTxType:t}){let o=Gr(),l=(0,_o.useMemo)(()=>!o||!e||!!o.some(s=>(s?.childrenCoin||[]).some(m=>m.coinId===e)||s.coinId===e),[e,o]),a=pl({coinId:e});return l||t===jt.RISKY?null:_o.default.createElement(Tr.IconButton,{className:dl.root,icon:"okx-wallet-plugin-add",tooltip:{title:_("wallet_extension_customtoken_tooltips_add_token"),placement:le.DIRECTION.topLeft},onClick:a})}var fl=Fa;i();r();var C={"retina-border-basic":"_retina-border-basic_1lyft_1",retinaBorderBasic:"_retina-border-basic_1lyft_1","coin-flow":"_coin-flow_1lyft_29",coinFlow:"_coin-flow_1lyft_29","coin-flow__include":"_coin-flow__include_1lyft_35",coinFlowInclude:"_coin-flow__include_1lyft_35","coin-flow__include-title":"_coin-flow__include-title_1lyft_42",coinFlowIncludeTitle:"_coin-flow__include-title_1lyft_42","coin-flow__include-item":"_coin-flow__include-item_1lyft_49",coinFlowIncludeItem:"_coin-flow__include-item_1lyft_49","coin-flow__include-item-icon":"_coin-flow__include-item-icon_1lyft_55",coinFlowIncludeItemIcon:"_coin-flow__include-item-icon_1lyft_55","coin-flow__include-item-token":"_coin-flow__include-item-token_1lyft_61",coinFlowIncludeItemToken:"_coin-flow__include-item-token_1lyft_61","coin-flow__include-item-protocol":"_coin-flow__include-item-protocol_1lyft_70",coinFlowIncludeItemProtocol:"_coin-flow__include-item-protocol_1lyft_70","coin-flow__protocol":"_coin-flow__protocol_1lyft_74",coinFlowProtocol:"_coin-flow__protocol_1lyft_74","coin-flow__protocol-title":"_coin-flow__protocol-title_1lyft_81",coinFlowProtocolTitle:"_coin-flow__protocol-title_1lyft_81","coin-flow__protocol-item":"_coin-flow__protocol-item_1lyft_88",coinFlowProtocolItem:"_coin-flow__protocol-item_1lyft_88","coin-flow__protocol-item-icon":"_coin-flow__protocol-item-icon_1lyft_94",coinFlowProtocolItemIcon:"_coin-flow__protocol-item-icon_1lyft_94","coin-flow__protocol-item-token":"_coin-flow__protocol-item-token_1lyft_100",coinFlowProtocolItemToken:"_coin-flow__protocol-item-token_1lyft_100","coin-flow__protocol-item-protocol":"_coin-flow__protocol-item-protocol_1lyft_109",coinFlowProtocolItemProtocol:"_coin-flow__protocol-item-protocol_1lyft_109","coin-flow__hidden-label":"_coin-flow__hidden-label_1lyft_113",coinFlowHiddenLabel:"_coin-flow__hidden-label_1lyft_113","coin-flow__label-text":"_coin-flow__label-text_1lyft_113",coinFlowLabelText:"_coin-flow__label-text_1lyft_113","coin-flow__label":"_coin-flow__label_1lyft_113",coinFlowLabel:"_coin-flow__label_1lyft_113","coin-flow__label__overflow":"_coin-flow__label__overflow_1lyft_125",coinFlowLabelOverflow:"_coin-flow__label__overflow_1lyft_125","coin-flow__label__expand":"_coin-flow__label__expand_1lyft_128",coinFlowLabelExpand:"_coin-flow__label__expand_1lyft_128","coin-flow__receive":"_coin-flow__receive_1lyft_141",coinFlowReceive:"_coin-flow__receive_1lyft_141","coin-flow__record-title":"_coin-flow__record-title_1lyft_141",coinFlowRecordTitle:"_coin-flow__record-title_1lyft_141","coin-flow__record":"_coin-flow__record_1lyft_141",coinFlowRecord:"_coin-flow__record_1lyft_141","coin-flow__record-left-box":"_coin-flow__record-left-box_1lyft_152",coinFlowRecordLeftBox:"_coin-flow__record-left-box_1lyft_152","coin-flow__record-title-box":"_coin-flow__record-title-box_1lyft_158",coinFlowRecordTitleBox:"_coin-flow__record-title-box_1lyft_158","coin-flow__tool-tip":"_coin-flow__tool-tip_1lyft_164",coinFlowToolTip:"_coin-flow__tool-tip_1lyft_164","coin-flow__record-left-box--middle":"_coin-flow__record-left-box--middle_1lyft_168",coinFlowRecordLeftBoxMiddle:"_coin-flow__record-left-box--middle_1lyft_168","coin-flow__record-left-box--has-right":"_coin-flow__record-left-box--has-right_1lyft_172",coinFlowRecordLeftBoxHasRight:"_coin-flow__record-left-box--has-right_1lyft_172","protocol-margin":"_protocol-margin_1lyft_188",protocolMargin:"_protocol-margin_1lyft_188","coin-flow__record-icon":"_coin-flow__record-icon_1lyft_194",coinFlowRecordIcon:"_coin-flow__record-icon_1lyft_194","coin-flow__record-icon-nft":"_coin-flow__record-icon-nft_1lyft_202",coinFlowRecordIconNft:"_coin-flow__record-icon-nft_1lyft_202","coin-flow__record-right-box":"_coin-flow__record-right-box_1lyft_216",coinFlowRecordRightBox:"_coin-flow__record-right-box_1lyft_216","coin-flow__record-halfwidth":"_coin-flow__record-halfwidth_1lyft_221",coinFlowRecordHalfwidth:"_coin-flow__record-halfwidth_1lyft_221","coin-flow__record-jumpInfo-box":"_coin-flow__record-jumpInfo-box_1lyft_225",coinFlowRecordJumpInfoBox:"_coin-flow__record-jumpInfo-box_1lyft_225","coin-flow__record__plus":"_coin-flow__record__plus_1lyft_232",coinFlowRecordPlus:"_coin-flow__record__plus_1lyft_232","coin-flow__pointer":"_coin-flow__pointer_1lyft_237",coinFlowPointer:"_coin-flow__pointer_1lyft_237","coin-flow__invest-apply-right":"_coin-flow__invest-apply-right_1lyft_240",coinFlowInvestApplyRight:"_coin-flow__invest-apply-right_1lyft_240","coin-flow__invest-apply-num":"_coin-flow__invest-apply-num_1lyft_246",coinFlowInvestApplyNum:"_coin-flow__invest-apply-num_1lyft_246","coin-flow__invest-apply-num__tooltip":"_coin-flow__invest-apply-num__tooltip_1lyft_256",coinFlowInvestApplyNumTooltip:"_coin-flow__invest-apply-num__tooltip_1lyft_256","coin-flow__invest-apply-num__tooltip__content":"_coin-flow__invest-apply-num__tooltip__content_1lyft_262",coinFlowInvestApplyNumTooltipContent:"_coin-flow__invest-apply-num__tooltip__content_1lyft_262","coin-flow__invest-apply-token":"_coin-flow__invest-apply-token_1lyft_268",coinFlowInvestApplyToken:"_coin-flow__invest-apply-token_1lyft_268","coin-flow__invest-platform-name":"_coin-flow__invest-platform-name_1lyft_279",coinFlowInvestPlatformName:"_coin-flow__invest-platform-name_1lyft_279","coin-flow__claim":"_coin-flow__claim_1lyft_284",coinFlowClaim:"_coin-flow__claim_1lyft_284","coin-flow__claim__icon":"_coin-flow__claim__icon_1lyft_288",coinFlowClaimIcon:"_coin-flow__claim__icon_1lyft_288","coin-flow__claim-info":"_coin-flow__claim-info_1lyft_291",coinFlowClaimInfo:"_coin-flow__claim-info_1lyft_291",flowRightToken:"_flowRightToken_1lyft_333",flowRightApply:"_flowRightApply_1lyft_338"};var Ra=(e,t)=>{!e||globalThis.platform.openTab({url:`https://${t}/${e}`})},Ba=e=>{e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=15?"18px":t<=17?"16px":t<=19?"14px":(t<=22,"12px")};function ka(e){e||(e=""),typeof e!="string"&&(e=e.toString());let t=e?.length;return t<=13?"32px":t===14?"30px":t===15?"28px":t===16?"26px":t===17?"24px":t<=19?"22px":t<=21?"20px":t<=23?"18px":t<=26?"16px":t<=30?"14px":"12px"}function Pa({recordData:e,isNFT:t,icon:o,title:l,subTitle:a,right:s,autoWidth:m,jumpInfo:p,hasPlus:f,isNewInclude:c,addCustomCoin:x}){let I=Nr(),E=Jt(),N=typeof o=="string"?W.default.createElement(Rr,{isNFT:t,className:(0,ul.default)({}),src:o,alt:""}):o;return c?W.default.createElement("div",{className:`${c?C["coin-flow__protocol"]:C["coin-flow__include"]}`},W.default.createElement("div",{className:`${C["coin-flow__include-title"]}`},_("extension_defi_card_text_include_assets")),(e?.items||[]).map(w=>W.default.createElement("div",{className:`${C["coin-flow__include-item"]}`},W.default.createElement("img",{className:`${C["coin-flow__include-item-icon"]}`,alt:"",src:w.icon}),W.default.createElement(Ie.AdaptiveText,{className:`${C["coin-flow__include-item-token"]}`,text:w.title,ellipsis:{tooltip:!0},autoSize:Ba},w.title),w.right))):W.default.createElement(W.default.Fragment,null,W.default.createElement("div",{className:`${C["coin-flow__record"]} ${p?C["coin-flow__pointer"]:""}`,onClick:()=>{Ra(p,I)}},W.default.createElement("div",{className:C["coin-flow__record-icon"]},N),W.default.createElement("div",{className:C["coin-flow__record-left-box--middle"]},W.default.createElement("div",{className:s?C["coin-flow__record-left-box--has-right"]:C["coin-flow__record-left-box"]},W.default.createElement("div",{className:`${m?C["protocol-margin"]:C["coin-flow__record-title-box"]}`},!s||m?W.default.createElement(Ie.AdaptiveText,{className:"coin-flow__record-title",text:l,ellipsis:{tooltip:!0},autoSize:ka},l):W.default.createElement(Ie.Text,{ellipsis:{tooltip:!0},className:`coin-flow__record-title ${C["coin-flow__record-title"]}`},l),a&&W.default.createElement("div",{className:C["coin-flow__record-sub-title"]},a)),s&&W.default.createElement("div",{className:`${C["coin-flow__record-right-box"]} ${m?"":C["coin-flow__record-halfwidth"]}`},s))),x&&W.default.createElement(fl,{...x}),p&&W.default.createElement("img",{className:C["coin-flow__record-jumpInfo-box"],src:`${E}/cdn/assets/imgs/236/1708B3075C6617C7.svg`,alt:""})),f&&W.default.createElement(ue,{className:`${C["coin-flow__record__plus"]} okds-plus`}))}var Ft=Pa;i();r();var Pl=u(T());i();r();var{NFT_AUTHORIZATION:rn,NFT_CANCEL_AUTHORIZATION:ln,CANCEL_NFT:sn,AUTHORIZATION:an,CANCEL_AUTHORIZATION:_n,REGISTRATION:xl,DAPP_APPLY:mn,DAPP_REDEEM:cn,DAPP_CLAIM:pn,BRC20_TRADE:dn,BRC20_SEND:fn,BRC20_RECEIVE:un,BRC20_MINT:xn,BRC20_INSCRIBE:Tn,BRC20_DEPLOY:Cn,BRC30_TRADE:Tl,EARN_BRC30_APPLY:In,EARN_BRC30_REDEEM:En,EARN_BRC30_CLAIM:Nn,EARN_BRC30_DEPLOY:Cl,BRC30_SEND:gn,BRC30_RECEIVE:yn,BRC30_INSCRIBE:wn,ORDINAL_NFT:hn,ORDINAL_TEXT:An,MINT_NFT:Il,BTC_NFT_BULK_RECEIVE:El,BTC_NFT_BULK_SEND:Nl,BTC_NFT_BULK_TRADE:gl,DEFI_MINT:yl,DEFI_REPAY:wl,RUNES_ETCH:Dn,RUNES_SWEEP:vn}=n,hl="/static/images/tx-history/default-nft-detail.svg",Al="/static/images/tx-history/default-protocol.svg",ke="/static/images/tx-history/default-brcnft.svg",q={[an]:"wallet_extension_header_approval_title_for",[_n]:"wallet_extension_header_approval_title_for",[sn]:"wallet_extension_text_cancel_listing_on",[rn]:"wallet_extension_approve_text_for",[ln]:"wallet_extension_approve_text_for",[mn]:"wallet_extension_subtitle_into",[cn]:"wallet_extension_subtitle_receive",[pn]:"wallet_extension_subtitle_from",[En]:"wallet_extension_subtitle_receive",[In]:"wallet_extension_subtitle_into",[Nn]:"wallet_extension_subtitle_receive",[wn]:"wallet_extension_header_redeem_title_reveive",[Tn]:"wallet_extension_header_redeem_title_reveive",[yn]:"extension_wallet_details_text_include",[un]:"extension_wallet_details_text_include",[hn]:"extension_wallet_details_text_receive",[An]:"extension_wallet_details_text_receive",[Cn]:"extension_wallet_details_text_receive",[xn]:"extension_wallet_details_text_receive",[gn]:"extension_wallet_details_text_include",[fn]:"extension_wallet_details_text_include",[dn]:"extension_wallet_details_text_receive",[Dn]:"extension_wallet_details_text_receive",[vn]:"extension_wallet_details_text_receive",[n.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_include",[n.BTC_NFT_BULK_RECEIVE]:"extension_wallet_details_text_include",[n.BTC_NFT_BULK_TRADE]:"extension_defi_header_textarea_receive",[n.DEFI_MINT]:"extension_defi_history_header_text_receive",[n.DEFI_REPAY]:"extension_defi_history_header_text_into"};i();r();i();r();i();r();var bn=u(T());y();i();r();i();r();var Dl=(e,t,{precision:o,isStableCoin:l,showSign:a=!0}={})=>{if(!e)return"--";let s=de(e,{symbol:t,precision:o,isStableCoin:l}).value;return a?`+ ${s}`:s},vl=(e,t,{precision:o,isStableCoin:l,showSign:a=!0}={})=>{if(!e)return"--";let s=de(e,{symbol:t,precision:o,isStableCoin:l}).value;return a?`- ${s}`:s};var Oa=({num:e,chainId:t,tokenAddress:o,tokenName:l,isMinus:a=!0,showSign:s=!0,coinId:m})=>{let p=Fe(m,void 0,{address:o,chainId:t});return(a?vl:Dl)(e,l,{precision:p?.displayPrecision,isStableCoin:p?.stableCoin,showSign:s})},v=Oa;i();r();function bl(e){return e?hl:ae}function Rt(e){let{input:t,hideTxType:o}=e;return t?.length?{label:_("wallet_extension_header_redeem_title_reveive"),items:t.map(({name:l,amount:a,icon:s,nftId:m,protocolName:p,coinId:f})=>(s=s||bl(m),{isNFT:!!m,icon:s,title:bn.default.createElement(v,{num:a,tokenName:l,coinId:f,isMinus:!1}),right:p?bn.default.createElement(te,{className:C.protocol,size:Se.SIZE.sm},p):null,autoWidth:!!p,addCustomCoin:{coinId:f,hideTxType:o}})),className:"coin-flow__receive"}:null}i();r();var Sn=u(T());y();function fe(e){let{input:t}=e;return t&&t.length>0?{label:_(q[e.txType]||"wallet_extension_header_redeem_title_reveive"),items:t.map(({name:o,amount:l,icon:a,nftId:s,brc20Coin:m,brc20sCoin:p,protocolName:f,coinId:c})=>(a=a||ke,{isNFT:!!s||m||p,icon:a,title:Sn.default.createElement(v,{num:l,tokenName:o,coinId:c,isMinus:!1}),right:f?Sn.default.createElement(te,{className:C.protocol,size:Se.SIZE.sm},f):null,autoWidth:!!f})),className:"coin-flow__receive"}:null}i();r();var Ln=u(T());function mo(e){let{include:t}=e;return t?.length?{isNewInclude:!0,items:(t||[]).map(({name:o,amount:l,icon:a,nftId:s,brc20Coin:m,brc20sCoin:p,protocolName:f,coinId:c})=>({isNFT:!!s||m||p,icon:a||ke,title:Ln.default.createElement(v,{num:l,tokenName:o,coinId:c,isMinus:!0}),right:f?Ln.default.createElement(te,{className:C.protocol,size:Se.SIZE.sm},f):null,autoWidth:!!f}))}:null}i();r();var Sl=u(T());function Fn(e){let{output:t}=e;return{items:(t||[]).map(({name:o,amount:l,icon:a,nftId:s,brc20Coin:m,brc20sCoin:p,coinId:f})=>({isNFT:!!s||m||p,icon:a||ke,title:Sl.default.createElement(v,{num:l,tokenName:o,coinId:f,isMinus:!0})}))}}i();r();var Ll=u(T());function Rn(e){let{input:t}=e;return t?.length?{items:t.map(({name:o,amount:l,icon:a,nftId:s,brc20Coin:m,brc20sCoin:p,coinId:f})=>({isNFT:!!s||m||p,icon:a||ke,title:Ll.default.createElement(v,{num:l,tokenName:o,coinId:f,isMinus:!1})}))}:null}i();r();var Bn=u(T());function co(e){let{include:t}=e;return t?.length?{isNewInclude:!0,items:t.map(({name:o,amount:l,icon:a,nftId:s,brc20Coin:m,brc20sCoin:p,protocolName:f,coinId:c})=>({isNFT:!!s||m||p,icon:a||ke,title:Bn.default.createElement(v,{coinId:c,tokenName:o,num:l,isMinus:!1}),right:f?Bn.default.createElement(te,{className:C.protocol,size:Se.SIZE.sm},f):null,autoWidth:!!f,includeAssets:t}))}:null}i();r();function kn(){return null}i();r();var Fl=u(T());y();function rt(e){let{contractInfo:t,txType:o}=e,l=_("wallet_extension_history_text_unknown_protocol");return{label:_(q[e.txType]),items:[{icon:t?.icon||Al,title:t?.name||l,subTitle:o!=="CANCEL_NFT"&&t?.address&&Fl.default.createElement(Re,{className:C["coin-flow__record-address"],label:O(t.address),value:t.address,message:_("wallet_extension_popup_title_receiving_address_copied"),addressStyle:{color:"var(--okd-color-content-contrast)"}})}]}}i();r();var Rl=u(T());y();function Pn(e){let{investTxData:t}=e;return t?{label:_("wallet_extension_header_redeem_title_reveive"),items:[{isNFT:!0,icon:t?.investInfo?.investLogo?.middleLogo[0]||ae,title:t?.investInfo?.investName,subTitle:Rl.default.createElement("div",{className:C["coin-flow__invest-platform-name"]},t?.investInfo?.poolId?`ID: ${t?.investInfo?.poolId}`:"")}]}:null}i();r();var On=u(T());y();i();r();var lt=u(T());i();r();var po={wrap:"_wrap_swpmf_1",topRight:"_topRight_swpmf_7",bottomRight:"_bottomRight_swpmf_11"};function Ma({logo:e}){let{middleLogo:t,bottomRightLogo:o,topRightLogo:l}=e||{},a,s;Array.isArray(t)?(a=t,s="normal"):t&&typeof t=="object"&&(a=t.logos,s=t.size);let m,p;Array.isArray(o)?(m=o,p="small"):o&&typeof o=="object"&&(m=o.logos,p=o.size);let f,c;Array.isArray(l)?(f=l,c="small"):l&&typeof l=="object"&&(f=l.logos,c=l.size);let x=m&&m.length>0,I=f&&f.length>0;return lt.default.createElement(lt.default.Fragment,null,lt.default.createElement(oo,{srcset:a&&a.length>0?a:[ae],size:s}),(I||x)&&lt.default.createElement("div",{className:po.wrap},I&&lt.default.createElement(oo,{className:po.topRight,size:c,srcset:f}),x&&lt.default.createElement(oo,{className:po.bottomRight,size:p,srcset:m})))}var Pe=Ma;function Mn(e){let{investTxData:t}=e,{investInfo:o}=t??{},{investName:l,investLogo:a,poolId:s}=o||{},m=_("wallet_extension_history_text_unknown_token"),p;return{isNFT:!0,label:_(q[e.txType]),items:[{icon:On.default.createElement(Pe,{logo:a}),title:l??m,subTitle:On.default.createElement("div",{className:C["coin-flow__invest-platform-name"]},s?`ID: ${s}`:""),right:p}]}}i();r();var Xe=u(T()),Un=u(Ce());y();function fo(e){let{investTxData:t}=e,{investInfo:o,investOutCoins:l,chainId:a}=t??{},{investName:s,platformName:m,investLogo:p}=o||{},f=_("wallet_extension_history_text_unknown_token"),c=_("wallet_extension_history_text_unknown_protocol"),x,I="",E="";if(!e.investTxData)return null;if(e.investTxData.investmentDetailType===Te.FARM_OTHER_TOKEN&&(I=C.flowRightToken,E=C.flowRightApply),(e.investTxData.investmentDetailType===Te.SAVE_OTHER_COIN||e.investTxData.investmentDetailType===Te.VAULTS_OTHER_COIN||e.investTxData.investmentDetailType===Te.FARM_OTHER_TOKEN)&&l&&l.length>0){let[{tokenName:N,num:w,tokenAddress:A}]=l;x=Xe.default.createElement("div",{className:(0,Un.default)(C["coin-flow__invest-apply-right"],E)},Xe.default.createElement("div",{className:C["coin-flow__invest-apply-num"]},Xe.default.createElement(nt,{text:Xe.default.createElement(v,{chainId:a,tokenAddress:A,tokenName:N,num:w,isMinus:!1,showSign:!1}),maxWidth:"85px"})),Xe.default.createElement("div",{className:(0,Un.default)(C["coin-flow__invest-apply-token"],I)},N))}return{label:_(q[e.txType]),items:[{icon:Xe.default.createElement(Pe,{logo:p}),title:s??f,subTitle:Xe.default.createElement("div",{className:C["coin-flow__invest-platform-name"]},m??c),right:x}]}}i();r();var Bl=u(T());y();function Gn(e){let{investTxData:t}=e;return{label:_(q[e.txType]),items:(t?.investInCoins||[]).map(({tokenName:l,num:a,tokenLogo:s,coinId:m})=>{let p=Bl.default.createElement(v,{coinId:m,tokenName:l,num:a,isMinus:!1});return{icon:s??_("wallet_extension_history_text_unknown_token"),title:p}}),className:"coin-flow__receive"}}i();r();var It=u(T());y();function uo(e){let{investTxData:t}=e,{investOutCoins:o}=t??{};return!o||o?.length===0?null:{label:_(q[e.txType]),items:(o||[]).map(({tokenName:l,num:a,tokenLogo:s,tokenId:m,coinId:p})=>{let f=It.default.createElement(v,{coinId:p,tokenName:l,num:a,isMinus:!1}),c=e.txStatus===D.SUCCESS&&m,x=`#${c}`;return{icon:s,title:c?It.default.createElement(It.default.Fragment,null,It.default.createElement("span",null,f),It.default.createElement("span",{style:{marginLeft:4}},x)):f}}),className:"coin-flow__receive"}}i();r();var kl=u(T());y();function Vn(e){let{investTxData:t}=e,o=_(q[e.txType]);if(!t)return null;let{chainId:l}=t;return{isNFT:!0,label:o,items:(t.investInCoins||[]).map(({tokenName:a,num:s,tokenLogo:m,tokenAddress:p})=>{let f=kl.default.createElement(v,{chainId:l,tokenAddress:p,tokenName:a,num:s,isMinus:!1});return{icon:m??_("wallet_extension_history_text_unknown_token"),title:f}}),className:"coin-flow__receive"}}i();r();var Hn=u(T());y();function Wn(e){let{investTxData:t}=e,{investInfo:o}=t??{},{platformName:l,investLogo:a,investName:s}=o||{},m=_("wallet_extension_history_text_unknown_token"),p=_("wallet_extension_history_text_unknown_protocol");return{label:_(q[e.txType]),items:[{icon:Hn.default.createElement(Pe,{logo:a}),title:s??m,subTitle:Hn.default.createElement("div",{className:C["coin-flow__invest-platform-name"]},l??p)}]}}var Kn={[Cl]:Pn,[wn]:fe,[Tn]:fe,[hn]:fe,[An]:fe,[Cn]:fe,[xn]:fe,[Dn]:fe,[vn]:fe,[yn]:co,[un]:co,[Tl]:fe,[dn]:fe,[gn]:mo,[fn]:mo,[rn]:rt,[ln]:rt,[_n]:rt,[an]:rt,[sn]:rt,[In]:Mn,[mn]:fo,[En]:Gn,[cn]:uo,[Nn]:Vn,[pn]:Wn,[xl]:kn,[Il]:Rt,[Nl]:Fn,[El]:Rn,[gl]:fe,[yl]:uo,[wl]:fo};var Ua=Object.values(n);function Ga(e){return(0,Pl.useMemo)(()=>{let{txType:t}=e;return Kn[t]?Kn[t](e):Ua.includes(t)?Rt(e):null},[e])}var Ol=Ga;i();r();var Xl=u(T());i();r();var{NFT_AUTHORIZATION:Yn,NFT_CANCEL_AUTHORIZATION:Zn,CANCEL_NFT:$n,AUTHORIZATION:zn,CANCEL_AUTHORIZATION:jn,REGISTRATION:Xn,DAPP_APPLY:Jn,DAPP_REDEEM:qn,DAPP_CLAIM:Qn,BRC20_TRADE:ei,BRC20_SEND:ti,BRC20_RECEIVE:oi,BRC20_MINT:ni,BRC20_INSCRIBE:ii,BRC20_DEPLOY:ri,BRC30_TRADE:Ml,EARN_BRC30_APPLY:li,EARN_BRC30_REDEEM:si,EARN_BRC30_CLAIM:ai,EARN_BRC30_DEPLOY:gu,BRC30_SEND:_i,BRC30_RECEIVE:mi,BRC30_INSCRIBE:ci,ORDINAL_NFT:pi,ORDINAL_TEXT:di,MINT_NFT:fi,BTC_NFT_BULK_RECEIVE:Ul,BTC_NFT_BULK_SEND:Gl,BTC_NFT_BULK_TRADE:yu,DEFI_MINT:Vl,DEFI_REPAY:Hl,RUNES_ETCH:Va,RUNES_SWEEP:ui,EARN_BORROW:Ha,EARN_REPAY:Wa}=n,xo="/static/images/tx-history/default-nft-detail.svg";var To="/static/images/tx-history/default-brcnft.svg",Z={[zn]:"wallet_extension_header_approval_title_approve",[jn]:"wallet_extension_header_approval_title_cancel_approval",[$n]:"wallet_extension_text_cancel_listing",[Yn]:"wallet_extension_approve_text_approve",[Zn]:"wallet_extension_title_revoke_approve",[Xn]:"extension_wallet_details_text_send",[Jn]:"wallet_extension_subtitle_investwith",[qn]:"wallet_extension_subtitle_redeem_from",[Qn]:"wallet_extension_subtitle_claimwith",[si]:"wallet_extension_subtitle_redeem_from",[li]:"wallet_extension_subtitle_investwith",[ai]:"wallet_extension_subtitle_claim",[ci]:"extension_wallet_details_text_inscribe",[ii]:"extension_wallet_details_text_inscribe",[mi]:"extension_wallet_details_text_receive",[oi]:"extension_wallet_details_text_receive",[pi]:"extension_wallet_details_text_send",[di]:"extension_wallet_details_text_send",[ri]:"extension_wallet_details_text_send",[ni]:"extension_wallet_details_text_send",[fi]:"extension_wallet_details_text_send",[_i]:"extension_wallet_details_text_send",[ti]:"extension_wallet_details_text_send",[ei]:"extension_wallet_details_text_send",[Va]:"extension_wallet_details_text_send",[ui]:"extension_wallet_details_text_send",[n.BTC_NFT_BULK_SEND]:"extension_wallet_details_text_send",[n.BTC_NFT_BULK_RECEIVE]:"extension_defi_header_textarea_pay",[n.BTC_NFT_BULK_TRADE]:"extension_wallet_details_text_send",[n.DEFI_MINT]:"extension_defi_history_header_text_mint_from",[n.DEFI_REPAY]:"extension_defi_history_header_text_repay_with",[Ha]:"wallet_extension_history_bttm_desc_borrow",[Wa]:"wallet_extension_transaction_bttm_desc_repay"};i();r();i();r();i();r();var xi=u(T()),Wl=u(Ce());y();i();r();function Co(e){return e?xo:ae}function Bt(e){let{output:t}=e;return t&&t.length>0?{label:_("wallet_extension_header_redeem_title_sent"),items:t.map(({name:o,amount:l,icon:a,nftId:s,protocolName:m,coinId:p})=>({isNFT:!!s,icon:a||Co(s),title:xi.default.createElement(v,{num:l,tokenName:o,coinId:p,isMinus:!0}),right:m?xi.default.createElement("div",{className:(0,Wl.default)(C.protocol)},m):null,autoWidth:!!m}))}:null}i();r();var Ti=u(T());y();function we(e){let{output:t,txType:o}=e;return t&&t.length>0?{label:_(Z[o]),items:t.map(({name:l,amount:a,icon:s,nftId:m,brc20Coin:p,brc20sCoin:f,protocolName:c,coinId:x})=>({isNFT:!!m||p||f,icon:s||To,title:Ti.default.createElement(v,{num:a,tokenName:l,coinId:x}),right:c?Ti.default.createElement(te,{className:C.protocol,size:Se.SIZE.sm},c):null,autoWidth:!!c}))}:null}i();r();var Ci=u(T()),Kl=u(Ce());function Io(e){let{input:t}=e;return t?.length?{label:"extension_wallet_details_text_receive",className:"coin-flow__receive",items:(t||[]).map(({name:o,amount:l,icon:a,nftId:s,brc20Coin:m,brc20sCoin:p,protocolName:f,coinId:c})=>({isNFT:!!s||m||p,icon:a||To,title:Ci.default.createElement(v,{num:l,tokenName:o,coinId:c,isMinus:!1}),right:f?Ci.default.createElement("div",{className:(0,Kl.default)(C.protocol)},f):null,autoWidth:!!f}))}:null}i();r();y();function Eo(e){let{approveInfo:t,txType:o}=e,l=_("wallet_extension_history_text_unknown_token");return{label:_(Z[o]),items:[{icon:t?.icon||ae,title:t?.name||l}]}}i();r();y();function No(e){let{approveInfo:t,txType:o}=e;return{label:_(Z[o]),items:[{icon:t?.nftCollectionIcon||en,title:t?.nftCollectionName||_("wallet_extension_title_approve_nft_collection")}]}}i();r();y();function Ii(e){let{output:t,txType:o}=e;return{label:_(Z[o]),items:(t||[]).map(({nftId:l,icon:a,name:s})=>({isNFT:!!l,icon:a||xo,title:s}))}}i();r();var Yl=u(T());y();function Ei(e){let{output:t}=e;return t&&t.length>0?{label:_("wallet_extension_header_redeem_title_sent"),items:t.map(({name:o,icon:l,nftId:a})=>({isNFT:!!a,icon:l||_("wallet_extension_history_text_unknown_token"),title:Yl.default.createElement(Ie,{className:C["coin-flow__registration-title"]},o)}))}:null}i();r();var Ni=u(T());y();function gi(e){let{investTxData:t,txType:o}=e,{investInfo:l}=t??{},{investName:a,investLogo:s,poolId:m}=l||{},p=_("wallet_extension_history_text_unknown_token");return{label:_(Z[o]),items:[{icon:Ni.default.createElement(Pe,{logo:s}),title:a??p,subTitle:Ni.default.createElement("div",{className:C["coin-flow__invest-platform-name"]},m?`ID: ${m}`:"")}]}}i();r();var st=u(T()),Zl=u(Ce());y();function go(e){let{investTxData:t,txType:o}=e,{investInfo:l,investOutCoins:a,chainId:s}=t??{},{investName:m,platformName:p,investLogo:f}=l||{},c=_("wallet_extension_history_text_unknown_token"),x=_("wallet_extension_history_text_unknown_protocol"),I,E="",N="";return e.investTxData?(e.investTxData.investmentDetailType===Te.FARM_OTHER_TOKEN&&(E=C.flowRightToken,N=C.flowRightApply),a&&a.length>0&&(I=st.default.createElement("div",{className:(0,Zl.default)(C["coin-flow__invest-apply-right"],N)},st.default.createElement("div",{className:C["coin-flow__invest-apply-num"]},st.default.createElement(nt,{className:E,content:st.default.createElement(v,{chainId:s,tokenName:a[0].tokenName,num:a[0].num,isMinus:!1})})))),{label:_(Z[o]),items:[{icon:st.default.createElement(Pe,{logo:f}),title:m??c,subTitle:st.default.createElement("div",{className:C["coin-flow__invest-platform-name"]},p??x),right:I}]}):null}i();r();var Et=u(T());y();function yo(e){let{investTxData:t,txType:o}=e,{investOutCoins:l}=t??{};return!l||l?.length===0?null:{label:_(Z[o]),items:(l||[]).map(({tokenName:a,num:s,tokenLogo:m,tokenId:p,coinId:f})=>{let c=Et.default.createElement(v,{coinId:f,tokenName:a,num:s,isMinus:!1}),x=e.txStatus===D.SUCCESS&&p,I=`#${x}`;return{icon:m,title:x?Et.default.createElement(Et.default.Fragment,null,Et.default.createElement("span",null,c),Et.default.createElement("span",{style:{marginLeft:4}},I)):c}}),className:"coin-flow__receive"}}i();r();var $l=u(T());y();function yi(e){let{investTxData:t,txType:o}=e;return{label:_(Z[o]),items:(t?.investInCoins||[]).map(({tokenName:a,num:s,tokenLogo:m,coinId:p})=>{let f=$l.default.createElement(v,{coinId:p,tokenName:a,num:s,isMinus:!1});return{icon:m??_("wallet_extension_history_text_unknown_token"),title:f}}),className:"coin-flow__receive"}}i();r();var zl=u(T());y();function wi(e){let{investTxData:t,txType:o,poolId:l}=e;return t?{label:_(Z[o]),items:[{isNFT:!1,icon:t.investInfo?.investLogo?.middleLogo?.[0]||ae,title:t.investInfo?.investName,subTitle:zl.default.createElement("div",{className:C["coin-flow__invest-platform-name"]},l?`ID: ${l}`:"")}]}:null}i();r();var kt=u(T());y();function hi(e){let{investTxData:t,txType:o,txStatus:l}=e,{investInCoins:a,chainId:s}=t||{},m=_("wallet_extension_history_text_unknown_token"),p;return l===D.PENDING?p=kt.default.createElement("div",{className:C["coin-flow__claim"]},_("wallet_extension_subtitle_claimwith"),kt.default.createElement(le,{title:_("wallet_extension_card_ntfy_claim_text"),placement:le.DIRECTION.bottomLeft},kt.default.createElement("span",{className:`okds-information-circle ${C["coin-flow__claim__icon"]}`}))):p=_(Z[o]),{label:p,items:(a||[]).map(({tokenName:f,num:c,tokenLogo:x,tokenAddress:I,coinId:E})=>({icon:x??m,title:kt.default.createElement(v,{chainId:s,tokenAddress:I,tokenName:f,num:c,isMinus:!1,coinId:E}),className:"coin-flow__receive"}))}}i();r();var Ai=u(T()),jl=u(Ce());y();function wo(e){let{output:t}=e;return t&&t.length>0?{label:_("wallet_extension_header_redeem_title_sent"),items:t.map(({name:o,amount:l,icon:a,nftId:s,protocolName:m,include:p,coinId:f})=>({isNFT:!!s,icon:a||Co(s),title:Ai.default.createElement(v,{num:l,tokenName:o,coinId:f,isMinus:!0}),right:m?Ai.default.createElement("div",{className:(0,jl.default)(C.protocol)},m):null,autoWidth:!!m,includeAssets:p}))}:null}i();r();function ho(){return null}var Di={[ci]:we,[ii]:we,[ri]:we,[pi]:we,[di]:we,[ni]:we,[ei]:we,[Ml]:we,[oi]:Io,[mi]:Io,[ui]:we,[jn]:Eo,[zn]:Eo,[Zn]:No,[Yn]:No,[$n]:Ii,[Xn]:Ei,[li]:gi,[Jn]:go,[si]:yi,[qn]:yo,[ai]:wi,[Qn]:hi,[fi]:Bt,[Gl]:ho,[Ul]:ho,[ti]:wo,[_i]:wo,[Vl]:yo,[Hl]:go};var Ka=Object.values(n);function Ya(e){return(0,Xl.useMemo)(()=>{let{txType:t}=e;return Di[t]?Di[t](e):Ka.includes(t)?Bt(e):null},[e])}var Jl=Ya;function vi({className:e,label:t,children:o}){return z.default.createElement("div",{className:(0,Ao.default)(t?C["coin-flow__label"]:"",e)},z.default.createElement("div",{className:C["coin-flow__label-text"]},t),z.default.createElement("div",null,o))}function Za({className:e,label:t,children:o,isExpand:l,setExpand:a}){return z.default.createElement("div",{className:(0,Ao.default)(t?C["coin-flow__label__overflow"]:"",e)},z.default.createElement("div",{className:C["coin-flow__label-text"]},t),z.default.createElement("div",null,l?o:o.slice(0,2)),z.default.createElement(ro,{className:C["coin-flow__label__expand"],side:l?ro.SIDE.TOP:ro.SIDE.BOTTOM,onClick:()=>{a(!l)}}))}function $a({data:e={}}){let{txType:t}=e,o=Jl(e),l=Ol(e),[a,s]=(0,z.useState)(!1);if(!o&&!l||t===n.CANCEL_NFT&&o.items.length===0)return null;let m=!o||!l,p=f=>{if(!f)return null;let{items:c,label:x,...I}=f,E=e?.investmentPath;return f?.isNewInclude?z.default.createElement(vi,{...I,label:x},z.default.createElement(Ft,{recordData:f,isNewInclude:f?.isNewInclude})):t===n.DAPP_APPLY||t===n.DAPP_REDEEM?z.default.createElement(vi,{...I,label:x},c.map((N,w)=>z.default.createElement(Ft,{jumpInfo:N.subTitle?E:void 0,...N,key:w,hasPlus:c.length>=2&&w!==c.length-1,label:x}))):c?.length>2?z.default.createElement(Za,{...I,label:x,isExpand:a,setExpand:s},c.map((N,w)=>z.default.createElement(Ft,{...N,key:w}))):z.default.createElement(vi,{...I,label:x},c?.map((N,w)=>z.default.createElement(Ft,{jumpInfo:N.subTitle?E:void 0,...N,key:w})))};return z.default.createElement("div",{className:(0,Ao.default)(C["coin-flow"],{[C["coin-flow__hidden-label"]]:m})},p(o),p(l))}var ql=$a;i();r();var oe=u(T()),Ql=u(Qo());pt();y();Qi();i();r();var he=u(T());y();i();r();var Do={"tx-detail-info__add-address":"_tx-detail-info__add-address_psmhd_1",txDetailInfoAddAddress:"_tx-detail-info__add-address_psmhd_1","tx-detail-info__add-address__tooltip":"_tx-detail-info__add-address__tooltip_psmhd_1",txDetailInfoAddAddressTooltip:"_tx-detail-info__add-address__tooltip_psmhd_1","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_psmhd_1",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_psmhd_1"};function za({address:e,network:t}){let[o,l]=(0,he.useState)(!1),[a,s]=(0,he.useState)({}),[m,p]=(0,he.useState)(""),f=Ur(()=>{p(io.TYPE.ADD),s({address:e,network:t}),l(!0)}),c=I=>{l(!1),setTimeout(()=>{p(io.TYPE.EDIT),s({...I,network:t}),l(!0)})},x=()=>{l(!1),s({}),p("")};return he.default.createElement(he.default.Fragment,null,he.default.createElement("div",{className:Do["tx-detail-info__add-address"]},he.default.createElement(le,{className:Do["tx-detail-info__add-address__tooltip"],title:o?null:_("wallet_extension_history_pop_tap_to_add"),type:le.TYPES.neutral,placement:le.DIRECTION.bottomRight},he.default.createElement(ue,{className:`${Do["tx-detail-info__add-address__img"]} okds-plus-circle`,onClick:f}))),he.default.createElement(io,{visible:o,type:m,data:a,onClose:x,onChangeToEdit:c}))}var vo=za;i();r();var Ae={address:"_address_1fl2c_1","address-type":"_address-type_1fl2c_5",addressType:"_address-type_1fl2c_5","address-content":"_address-content_1fl2c_12",addressContent:"_address-content_1fl2c_12","address-string":"_address-string_1fl2c_21",addressString:"_address-string_1fl2c_21","address-right":"_address-right_1fl2c_28",addressRight:"_address-right_1fl2c_28","address-container":"_address-container_1fl2c_31",addressContainer:"_address-container_1fl2c_31","address-tag":"_address-tag_1fl2c_36",addressTag:"_address-tag_1fl2c_36"};function ja(e,t){let o=e||[{address:t}];return[...new Set(o.map(({address:l})=>l))]}function Xa({data:e}){let{inAdrList:t,txType:o,mainCoinId:l,coinId:a,okexAccount:s,txStatus:m}=e,[,p]=qt(a),c=Qt({coinId:+l})?.localType,[x,I]=oe.default.useState(!0),E=no(c),N=hr(),w=ja(t,s),A=(0,Ql.useCreation)(()=>w.map(g=>{let F=!1,S;(o===n.TRANS_IN||o===n.TRANS_OUT||o===n.SEND_NFT||o===n.RECEIVE_NFT||o===n.BRC20_RECEIVE||o===n.BRC20_SEND||o===n.BRC20_INSCRIBE||o===n.BRC20_MINT||o===n.BRC20_DEPLOY||o===n.ORDINAL_NFT||o===n.ORDINAL_TEXT||o===n.BRC20_TRADE||o===n.BRC30_TRADE||o===n.RUNES_SWEEP||o===n.EARN_BORROW||o===n.EARN_REPAY||o===n.DEX_REFERRAL)&&(S=E(g),F=!S),o===n.REDEEM&&m===D.SUCCESS&&(S={address:g,name:s});let b=Object.values(N).find(G=>!ye(G[g]))?.[g],k=b?to(_,b,p):_("wallet_extension_popup_title_receiving_address_copied"),J=b?_(Wt[Kt?.[c]?.[b]]):"";return{address:g,canAdd:F,msg:k,tag:J,tag2:S}}),[t,o,E,N,p,_]);return!A||A.length===0?null:oe.default.createElement("div",{className:Ae.address},oe.default.createElement("div",{className:Ae["address-type"]},_("wallet_extension_mid_text_from")),A.map(g=>oe.default.createElement(oe.default.Fragment,null,oe.default.createElement("div",{className:Ae["address-content"]},oe.default.createElement("div",{className:Ae["address-string"]},g.address),oe.default.createElement("div",{className:Ae["address-right"]},oe.default.createElement(Re,{label:g.label,value:g.address,message:g.msg}),g.canAdd&&oe.default.createElement(vo,{address:g.address,network:c}))),oe.default.createElement("div",{className:Ae["address-container"]},g.tag&&oe.default.createElement(te,{className:Ae["address-tag"]},g?.tag),g?.tag2?.name&&oe.default.createElement(te,{className:Ae["address-tag"]},g?.tag2?.name)))),oe.default.createElement("div",{className:x?Ae.fold:Ae.unfold,onClick:()=>{I(!x)}}))}var es=Xa;i();r();var Ve=u(T());y();i();r();var Je={container:"_container_a2v75_1",label:"_label_a2v75_4",content:"_content_a2v75_11","user-name":"_user-name_a2v75_17",userName:"_user-name_a2v75_17",address:"_address_a2v75_24"};var Ja=({data:e})=>{let{bizData:t,txType:o,from:l}=e;return Ve.default.createElement("div",{className:Je.container},Ve.default.createElement("div",{className:Je.label},K("commonall_colheader_text_from")),Ve.default.createElement("div",{className:Je.content},Ve.default.createElement("div",{className:Je.contentLeft},Ve.default.createElement("div",{className:Je.userName},o===n.RED_PACKET?ot(t.fromTgName):ot(t.senderTgName)),o===n.RED_PACKET&&Ve.default.createElement("div",{className:Je.address},O(l))),o===n.RED_PACKET&&Ve.default.createElement("div",{className:Je["content-right"]},Ve.default.createElement(Re,{value:o===n.RED_PACKET?l:t.senderTgName}))))},ts=Ja;i();r();i();r();var So=u(T());y();i();r();var at=u(T());y();i();r();var We=u(T()),os=u(Ce());y();i();r();var He={"retina-border-basic":"_retina-border-basic_1n7t6_1",retinaBorderBasic:"_retina-border-basic_1n7t6_1","tx-hash__inner":"_tx-hash__inner_1n7t6_29",txHashInner:"_tx-hash__inner_1n7t6_29","tx-hash__inner-wrap":"_tx-hash__inner-wrap_1n7t6_33",txHashInnerWrap:"_tx-hash__inner-wrap_1n7t6_33","tx-hash__vertical":"_tx-hash__vertical_1n7t6_74",txHashVertical:"_tx-hash__vertical_1n7t6_74","tx-hash__icon":"_tx-hash__icon_1n7t6_80",txHashIcon:"_tx-hash__icon_1n7t6_80","okx-wallet-plugin-copy-1":"_okx-wallet-plugin-copy-1_1n7t6_85",okxWalletPluginCopy1:"_okx-wallet-plugin-copy-1_1n7t6_85","tx-hash__message":"_tx-hash__message_1n7t6_98",txHashMessage:"_tx-hash__message_1n7t6_98","tx-hash__tag":"_tx-hash__tag_1n7t6_102",txHashTag:"_tx-hash__tag_1n7t6_102"};function qa({className:e="",label:t="",value:o="",message:l="",tag:a,url:s,showExplorerUrl:m}){let[p,f]=Zr(),c=()=>{p||(f(o),zi.success({title:l||_("wallet_receive_toast_address_copied"),desc:We.default.createElement("div",{className:He["tx-hash__message"]},o)}))},x=()=>{!m||globalThis.platform.openTab({url:s})};return We.default.createElement("div",{className:(0,os.default)(He["tx-hash"],e)},We.default.createElement("div",{className:He["tx-hash__inner"]},We.default.createElement("div",{className:He[m?"tx-hash__inner-wrap":""],onClick:x},t,a&&We.default.createElement("div",{className:He["tx-hash__tag"]},a)),We.default.createElement("div",{className:He["tx-hash__vertical"]}),We.default.createElement("div",{className:He["tx-hash__icon"],onClick:c},We.default.createElement(ue,{className:`okx-wallet-plugin-copy-1 ${He["okx-wallet-plugin-copy-1"]}`}))))}var Nt=qa;i();r();var ne={records:"_records_c1ld0_1",label:"_label_c1ld0_7",expand:"_expand_c1ld0_8","expanded-icon":"_expanded-icon_c1ld0_19",expandedIcon:"_expanded-icon_c1ld0_19",record:"_record_c1ld0_1","record-left":"_record-left_c1ld0_26",recordLeft:"_record-left_c1ld0_26","record-right":"_record-right_c1ld0_27",recordRight:"_record-right_c1ld0_27","copy-icon":"_copy-icon_c1ld0_34",copyIcon:"_copy-icon_c1ld0_34",name:"_name_c1ld0_38",adress:"_adress_c1ld0_45",hash:"_hash_c1ld0_52",divder:"_divder_c1ld0_60",empty:"_empty_c1ld0_65"};var Qa=({record:e})=>{let{claimerTgName:t,claimAddress:o,txHash:l,showExplorerUrl:a,explorerUrl:s}=e;return at.default.createElement(M.FlexBox,{align:M.ALIGN.center,className:ne.record},at.default.createElement(M.FlexBox,{direction:M.DIRECTION.vertical,className:ne.recordLeft},at.default.createElement("span",{className:ne.name},ot(t)),at.default.createElement("span",{className:ne.adress},O(o))),l&&at.default.createElement(M.FlexBox,{align:M.ALIGN.center,justify:"flex-end",className:ne.recordRight},at.default.createElement(Nt,{showExplorerUrl:a,label:O(l),value:l,url:s,message:K("wallet_extension_popup_title_transaction_hash_copied")})))},bo=Qa;var e_=({data:e})=>{let{bizData:t,from:o,txHash:l,showExplorerUrl:a,explorerUrl:s}=e,m={claimerTgName:t.fromTgName,claimAddress:o,txHash:l,showExplorerUrl:a,explorerUrl:s};return So.default.createElement("div",{className:ne.records},So.default.createElement("span",{className:ne.label},K("wallet_extension_gift_subtitle_wallet_hash")),So.default.createElement(bo,{record:m}))},ns=e_;i();r();var _e=u(T()),ls=u(Ce());y();i();r();var bi=u(T()),rs=u(Ce());i();r();var is={root:"_root_17ca3_1"};function t_({className:e}){return bi.default.createElement("div",{className:(0,rs.default)(is.root,e)},bi.default.createElement(dt.Circle,{size:dt.SIZE.md}))}var _t=t_;var o_=({data:e,isExpanded:t,onToggle:o,loading:l,noMore:a,hasExpandedBtn:s,loadingMore:m})=>{let p=(0,_e.useMemo)(()=>t?l?_e.default.createElement(_t,null):e?.list.length===0?_e.default.createElement(Ue.State,{className:ne.empty,type:Ue.State.TYPE.noRecord,title:K("wallet_extension_gift_empty_not_claim")}):_e.default.createElement(_e.default.Fragment,null,e?.list?.map(f=>_e.default.createElement(bo,{key:f.rowId,record:f}))):null,[e,l,t]);return _e.default.createElement("div",{className:ne.records},_e.default.createElement(M.FlexBox,{justify:"space-between"},_e.default.createElement("span",{className:ne.label},K("wallet_extension_gift_subtitle_gift_hash")),s&&_e.default.createElement("span",{className:ne.expand,onClick:o},K("wallet_extension_btn_general_show"),_e.default.createElement(ue,{className:(0,ls.default)("okx-wallet-plugin-add-arrow-chevrons",t&&ne.expandedIcon)}))),p,!a&&m&&_e.default.createElement(_t,null))},ss=o_;var Si={Receive:ss,Create:ns};i();r();var Ee=u(T());y();i();r();var Ke={container:"_container_1ezsj_1",label:"_label_1ezsj_4",content:"_content_1ezsj_11","content-left":"_content-left_1ezsj_17",contentLeft:"_content-left_1ezsj_17","user-name":"_user-name_1ezsj_21",userName:"_user-name_1ezsj_21",address:"_address_1ezsj_28"};var n_=({data:e})=>{let{bizData:t,txType:o,to:l}=e,a=t?.addressToTgNames?t.addressToTgNames[l]:"";return Ee.default.createElement("div",{className:Ke.container},Ee.default.createElement("div",{className:Ke.label},K("commonall_colheader_text_to")),Ee.default.createElement("div",{className:Ke.content},Ee.default.createElement("div",{className:Ke.contentLeft},o===n.RED_PACKET?Ee.default.createElement("div",{className:Ke.userName},K("wallet_extension_gift_your_telegram_contact")):Ee.default.createElement(Ee.default.Fragment,null,Ee.default.createElement("div",{className:Ke.userName},ot(a)),Ee.default.createElement("div",{className:Ke.address},O(l)))),o===n.RECEIVE_PACKET&&Ee.default.createElement("div",{className:Ke["content-right"]},Ee.default.createElement(Re,{value:l}))))},as=n_;i();r();var Q=u(T());i();r();var _s={loaderContainer:"_loaderContainer_1dvk5_1"};var i_=()=>Q.default.createElement(M.Space,{space:54,direction:M.DIRECTION.vertical,className:_s.loaderContainer},Q.default.createElement(M.Space,{space:30,direction:M.DIRECTION.vertical},Q.default.createElement(M.Space,{space:12,direction:M.DIRECTION.vertical},Q.default.createElement(Ge.Input,{active:!0,style:{width:"45px",height:"12px"}}),Q.default.createElement(Ge.Input,{active:!0,style:{width:"178px",height:"32px"}})),Q.default.createElement(M.Space,{space:12,direction:M.DIRECTION.vertical},Q.default.createElement(Ge.Input,{active:!0,style:{width:"45px",height:"12px"}}),Q.default.createElement(Ge.Input,{active:!0,style:{width:"178px",height:"32px"}}))),Q.default.createElement(M.Space,{space:30,direction:M.DIRECTION.vertical},Q.default.createElement(M.Space,{space:12,direction:M.DIRECTION.vertical},Q.default.createElement(Ge.Input,{active:!0,style:{width:"45px",height:"12px"}}),Q.default.createElement(Ge.Input,{active:!0,style:{width:"250px",height:"32px"}})),Q.default.createElement(M.Space,{space:12,direction:M.DIRECTION.vertical},Q.default.createElement(Ge.Input,{active:!0,style:{width:"45px",height:"12px"}}),Q.default.createElement(Ge.Input,{active:!0,style:{width:"250px",height:"32px"}})))),ms=i_;i();r();var me=u(T());y();Qi();i();r();var qe={"address-to":"_address-to_1029p_1",addressTo:"_address-to_1029p_1","address-type":"_address-type_1029p_4",addressType:"_address-type_1029p_4","address-content":"_address-content_1029p_12",addressContent:"_address-content_1029p_12","address-string":"_address-string_1029p_21",addressString:"_address-string_1029p_21","address-right":"_address-right_1029p_28",addressRight:"_address-right_1029p_28","address-container":"_address-container_1029p_31",addressContainer:"_address-container_1029p_31","tx-clipboard__tag":"_tx-clipboard__tag_1029p_36",txClipboardTag:"_tx-clipboard__tag_1029p_36"};var r_=({addressType:e,baseCoin:t})=>e?to(_,e,t):_("wallet_extension_popup_title_receiving_address_copied");function l_({data:e}){let{to:t,txType:o,contractInfo:l,mainCoinId:a,coinId:s}=e,[,m]=qt(s),f=Qt({coinId:+a})?.localType,c=no(f),x=Ar(f),{label:I,toAddress:E,msg:N,tags:w,canAdd:A}=(0,me.useMemo)(()=>{let g,F,S=!1,V=[];if(o===n.TRANS_IN||o===n.TRANS_OUT||o===n.SEND_NFT||o===n.RECEIVE_NFT||o===n.REDEEM||o===n.JITO_TIP||o===n.EARN_BORROW||o===n.EARN_REPAY||[n.BRC20_INSCRIBE,n.BRC20_MINT,n.ORDINAL_NFT,n.ORDINAL_TEXT,n.BRC20_DEPLOY,n.BRC20_RECEIVE,n.BRC20_SEND,n.BRC20_TRADE,n.EARN_BRC30_APPLY,n.EARN_BRC30_REDEEM,n.EARN_BRC30_CLAIM,n.EARN_BRC30_DEPLOY,n.BRC30_SEND,n.BRC30_RECEIVE,n.EARN_BRC30_CLAIM,n.BRC30_INSCRIBE,n.BRC30_TRADE,n.RUNES_SWEEP,n.DEX_REFERRAL].includes(o)){let G=c(t);S=!G,g=_("wallet_extension_mid_text_to"),G?.name&&V.push(G.name);let P=Tt(e);P&&V.push(P),F=t}else{let{address:G,name:P}=l||{};g=o===n.REGISTRATION?_("wallet_extension_item_register_address"):_("wallet_extension_mid_text_interaction_address"),V.push(P),o===n.AUTHORIZATION||o===n.CANCEL_AUTHORIZATION||o===n.NFT_AUTHORIZATION||o===n.NFT_CANCEL_AUTHORIZATION?F=t:F=G}let b=x[F],k=b?_(Wt[Kt?.[f]?.[b]]):"",J=r_({addressType:b,baseCoin:m});return V.unshift(k),{label:g,toAddress:F,tags:V,canAdd:S,msg:J}},[o,x,c,t,_,l]);return[n.ZK_REGISTER,n.REVOKE_7702].includes(o)||!E?null:me.default.createElement(me.default.Fragment,null,me.default.createElement("div",{className:qe["address-to"]},me.default.createElement("div",{className:qe["address-type"]},I),me.default.createElement("div",{className:qe["address-content"]},me.default.createElement("div",{className:qe["address-string"]},E),me.default.createElement("div",{className:qe["address-right"]},me.default.createElement(Re,{value:E,message:N}),A&&me.default.createElement(vo,{address:E,network:f}))),me.default.createElement("div",{className:qe["address-container"]},w.map(g=>g&&me.default.createElement(te,{className:qe["tx-clipboard__tag"]},g)))))}var cs=l_;i();r();var B=u(T()),Ss=u(Le());pt();y();Xo();i();r();var Lo=u(T());y();function s_(e){let{txType:t,approveInfo:o,coinId:l}=e,a=Fe(l),{amount:s,decimalNum:m}=o||{},p=(0,Lo.useMemo)(()=>s===ar?_("wallet_extension_mid_text_unlimited"):de(s,{useContractPrecision:m!=null,contractPrecision:{decimals:m},precision:a?.displayPrecision,isStableCoin:a?.stableCoin}).value,[s,m,a]);return t!==n.AUTHORIZATION?null:Lo.default.createElement(Y,{label:_("wallet_extension_mid_text_approved_amount"),value:p})}var ps=s_;i();r();var ds=u(T());y();Xo();function a_({txType:e,mainCoinId:t,confirmedCount:o}){return e===n.ZK_REGISTER&&t===vt?null:ds.default.createElement(Y,{label:_("wallet_extension_mid_text_block_confirmation"),value:o})}var fs=a_;i();r();var Fo=u(T());y();i();r();var us=u(T());Ca();function Li(){let e=br(),t=vr();return(0,us.useCallback)(o=>{try{let l=o??`type: ${String(o)}`;Hi.captureEvent({message:"coin not found in tx detail",contexts:{report:{info:JSON.stringify({coinId:l,coinIdType:typeof o,coinsReady:e,coinsMapSize:Object.keys(t??{}).length,coinExisted:o!=null?t?.[o]:!1})}},exception:{values:[{type:"BIZ_ERROR_txHistoryCoinNofFound",value:String(l)}]},level:"info"})}catch(l){console.log(l)}},[e,t])}function __({mainCoinId:e}){let{coin:t}=ze(e,!1),o=Li();return(0,Fo.useEffect)(()=>{setTimeout(()=>{t?.coinId||o(e)},1500)},[t,e,o]),Fo.default.createElement(Y,{label:_("wallet_extension_mid_text_network"),value:t.chainName})}var xs=__;i();r();var Ot=u(T()),Cs=u(Le());y();Xo();$o();i();r();var Pt=u(T());y();var m_=()=>Pt.default.createElement(M.FlexBox,{align:M.ALIGN.center,style:{gap:4}},K("wallet_extension_gift_title_network_fee_pre"),Pt.default.createElement(ue,{style:{cursor:"pointer"},className:"okx-wallet-plugin-information-circle",a11yText:K("wallet_extension_gift_dialog_title_network_fee_pre"),onClick:()=>{let e=pe.tip({infoType:pe.Tip.INFO_TYPE.default,title:K("wallet_extension_gift_dialog_title_network_fee_pre"),children:Pt.default.createElement(Ie.Text,{type:Ie.TYPE.secondary,size:Ie.SIZE.sm,style:{lineHeight:"22px"}},K("wallet_extension_gift_dialog_desc_explain_fee",{history:Pt.default.createElement(Ie.Text,{size:Ie.SIZE.sm},K("wallet_extension_gift_dialog_icu_explain_fee"))})),confirmText:K("commonall_text_btn_ok_active"),onConfirm:()=>{e.destroy()}})}})),Ts=m_;var c_=[vt,Ji];function p_(e,t){let o;return e===n.RED_PACKET?o=Ot.default.createElement(Ts,null):t?o=_("wallet_extension_sui_desc_network_fee_refund"):o=_("wallet_extension_mid_text_network_fee"),o}function d_({mainCoinId:e,txStatus:t,feeRebate:o,feeRebateUsd:l,serviceCharge:a,chainSymbol:s,serviceChargeUsd:m,feeName:p,feeDecimalNum:f,txType:c,bizData:x}){let I=c_.includes(e),{coin:E}=ze(e,!1),N=(0,Cs.useSelector)(Yt),w,A;if(c===n.DAPP_UNISAT||c===n.ZK_REGISTER&&e===vt||c===n.RECEIVE_PACKET)return null;I?(w=f,A=p):(w=E.decimals,A=s);let g=0,F="";c===n.RED_PACKET?(g=x.prepaidGasFee||0,F=x.prepaidGasFeeFiatValue||""):g=o||a||0;let S=de(g,{symbol:A,useContractPrecision:!0,contractPrecision:{decimals:w||0},isStableCoin:E.stableCoin,precision:E.displayPrecision}).value;if(c===n.RED_PACKET)S+=` (${F})`;else if(t!==D.PENDING){let b=l||m,{usdToThisRate:k}=N,J=Vt(b,k);S+=` (${sr(J,{currencySign:N.symbol}).value})`}let V=p_(c,o);return Ot.default.createElement(Ot.default.Fragment,null,Ot.default.createElement(Y,{label:V,value:S}))}var Is=d_;i();r();var Es=u(T());y();function f_({txType:e,investTxData:t}){let o=!t||!t.lpTokenInfo,l=[Te.FARM_LP_TOKEN,Te.FARM_OTHER_TOKEN].includes(t?.investmentDetailType),a=![n.DAPP_APPLY,n.DAPP_REDEEM].includes(e),s=o||l||a,m=Fe(void 0,void 0,s?void 0:{chainId:t?.chainId,address:t?.lpTokenInfo?.tokenAddress});if(s)return null;let p=e===n.DAPP_APPLY?"wallet_extension_info_receive":"wallet_extension_info_pay",{num:f,tokenName:c}=t.lpTokenInfo;return Es.default.createElement(Y,{label:_(p),value:de(f,{symbol:c,precision:m?.displayPrecision,isStableCoin:m?.stableCoin}).value})}var Ns=f_;i();r();var Ds=u(T());y();i();r();var gt=u(T());pt();y();i();r();var Fi=u(ji());var u_="okx-wallet-plugin-lock-1",x_="okx-wallet-plugin-enrollment",gs=new Map([[n.AUTHORIZATION,{getTxIcon:e=>e.contractIcon||Be(e)}],[n.CANCEL_AUTHORIZATION,{getTxIcon:e=>e.contractIcon||Be(e)}],[n.DAPP_NFT,{getTxIcon:e=>e.contractIcon||Be(e)}],[n.CONTRACTCALL,{getTxIcon:e=>e.contractIcon||Be(e)}],[n.KYS,{getTxIcon:e=>e.contractIcon||Be(e)}],[n.CANCEL_NFT,{getTxIcon:e=>e.contractIcon||Be(e)}],[n.NFT_CANCEL_AUTHORIZATION,{getTxIcon:e=>e.contractIcon||Be(e)}],[n.NFT_AUTHORIZATION,{getTxIcon:e=>e.contractIcon||u_}],[n.ZK_REGISTER,{getTxIcon:()=>x_}],[n.EARN_BRC30_DEPLOY,{getTxIcon:e=>e.poolLogo}]]),ys=(e={})=>{if((0,Fi.isNil)(e)||typeof e!="object")return null;let{txType:t}=e;if((0,Fi.isNil)(t)||!gs.has(t))return null;let o=gs.get(t);if(!o)return null;let l=o.getTxIcon(e);return l?[l]:null};var ws=(e={})=>{let t=ys(e);if(t)return t;let{assetChange:o=[]}=e,l=o.map(a=>{let{coinImgUrl:s}=a||{};return s||Jr(a,e)});return l.reverse(),l.length===0?[Be(e)]:l},Ro=(e={})=>{let{txType:t,approveSymbol:o,nftCollectionName:l}=e;return so(t,{symbol:o,collection:l},e)};function T_(e){let t=Tt(e)||O(e.to);return`${_("wallet_extension_history_list_send_to")}   ${t}`}function C_(e){let t=O(e.from);return`${_("wallet_extension_history_list_receive_from")}   ${t}`}function I_(e){return e.contractName||O(e.to)}function E_(e){return O(e.from)}function N_(e){return e.poolId?`Pool ID: ${e.poolId}`:""}function g_(e){return O(e.from)}function y_(e){return`${_("wallet_extension_history_list_receive_from")}   ${e.okexAccount}`}function w_(e){let{contractName:t,contractAddress:o}=e;return t||O(o)||""}function h_(e,t){return[n.TRANS_OUT,n.JITO_TIP,n.SEND_NFT,n.BRC20_SEND,n.BRC20_RECEIVE,n.BRC30_TRADE,n.BRC30_SEND,n.EARN_REPAY].includes(e)?T_(t):[n.TRANS_IN,n.RECEIVE_NFT,n.BRC30_RECEIVE,n.DEX_REFERRAL].includes(e)?C_(t):e===n.CANCEL_NFT?I_(t):e===n.ZK_REGISTER?E_(t):[n.EARN_BRC30_APPLY,n.EARN_BRC30_REDEEM,n.EARN_BRC30_CLAIM,n.EARN_BRC30_DEPLOY].includes(e)?N_(t):e===n.BRC30_INSCRIBE?g_(t):e===n.REDEEM?y_(t):w_(t)}var hs=(e={},t="en-US")=>{let o=[],{txType:l,txStatus:a}=e,s=h_(l,e);if(s&&o.push(s),a===D.PENDING){let m=Ze(e.txTime,{format:"yyyyMMddHHmmss",locale:t});o.push(m)}return o},As=(e={})=>{let{assetChange:t=[],txType:o,repeatTxType:l,coinId:a}=e,{baseCoin:s}=ze(a,!0),m=Zt(s.coinId),p=Sr(),[f,c]=(0,gt.useState)([]);(0,gt.useEffect)(()=>{let E=t.map(N=>p(N.coinId));Promise.all(E).then(N=>{c(N)}).catch(()=>{})},[t]);let x=(0,gt.useMemo)(()=>f.reduce((E,N)=>(N?.coinId&&(E[N.coinId]=N),E),{}),[f]);return t.map(E=>{let{direction:N,coinAmount:w,coinSymbol:A,coinId:g}=E||{},F=x[g];if(ye(w))return null;let S=null;return(w!=="0"||m&&(o===n.TRANS_IN||o===n.TRANS_OUT)&&l!==H.CANCELING&&l!==H.SPEEDING_CANCEL)&&(S=de(w,{precision:F?.displayPrecision,isStableCoin:F?.stableCoin}).value),o===n.CANCEL_NFT?{coinAmount:"",symbol:A}:{direction:N,coinAmount:S,symbol:A}}).filter(Boolean)};function A_(e){let{txType:t}=e,o=Ro(e);return t===n.ZK_REGISTER&&(o=_("wallet_extension_history_text_change_pubkey")),Ds.default.createElement(Y,{label:_("wallet_extension_info_text_type"),value:o})}var vs=A_;i();r();var bs={"tx-detail-info":"_tx-detail-info_7des1_1",txDetailInfo:"_tx-detail-info_7des1_1","tx-detail-info__tooltip":"_tx-detail-info__tooltip_7des1_5",txDetailInfoTooltip:"_tx-detail-info__tooltip_7des1_5","tx-detail-info__status":"_tx-detail-info__status_7des1_8",txDetailInfoStatus:"_tx-detail-info__status_7des1_8","tx-detail-info__status--loading":"_tx-detail-info__status--loading_7des1_20",txDetailInfoStatusLoading:"_tx-detail-info__status--loading_7des1_20",spin:"_spin_7des1_1","tx-detail-info__network":"_tx-detail-info__network_7des1_23",txDetailInfoNetwork:"_tx-detail-info__network_7des1_23","tx-detail-info__to-name":"_tx-detail-info__to-name_7des1_33",txDetailInfoToName:"_tx-detail-info__to-name_7des1_33","tx-detail-info__gas-fee":"_tx-detail-info__gas-fee_7des1_43",txDetailInfoGasFee:"_tx-detail-info__gas-fee_7des1_43","tx-detail-info__add-address":"_tx-detail-info__add-address_7des1_50",txDetailInfoAddAddress:"_tx-detail-info__add-address_7des1_50","tx-detail-info__add-address__img":"_tx-detail-info__add-address__img_7des1_54",txDetailInfoAddAddressImg:"_tx-detail-info__add-address__img_7des1_54"};function D_({memo:e,mainCoinId:t}){return ye(e)?null:B.default.createElement(Y,{label:t===qi?_("wallet_extension_import_desc_comment"):_("wallet_extension_text_memocontent"),value:B.default.createElement(nt,{text:e||"--",maxWidth:"260px"})})}function v_({mev:e}){return ye(e)?null:B.default.createElement(Y,{label:_("wallet_extension_ton_order_header_mev"),value:B.default.createElement(nt,{text:e||"--",maxWidth:"260px"})})}function b_({data:e}){let t=(0,Ss.useSelector)(zt),{txTime:o,txHash:l,investTxData:a,txHash1:s,txHash2:m,explorerUrl:p,explorerUrl1:f,explorerUrl2:c,showExplorerUrl:x,txType:I}=e,E=I===n.RED_PACKET||I===n.RECEIVE_PACKET;return B.default.createElement("div",{className:bs["tx-detail-info"]},B.default.createElement(Y,{label:_("wallet_extension_mid_text_time"),value:Ze(o,{format:"yyyyMMddHHmmss",locale:t})}),B.default.createElement(vs,{...e}),B.default.createElement(Ns,{...e}),B.default.createElement(Is,{...e}),B.default.createElement(xs,{...e}),!E&&B.default.createElement(B.default.Fragment,null,!s&&l&&B.default.createElement(Y,{label:_("wallet_extension_mid_text_transaction_hash"),value:B.default.createElement(Nt,{showExplorerUrl:x,label:O(l),value:l,url:p,message:_("wallet_extension_popup_title_transaction_hash_copied")})}),s&&B.default.createElement(Y,{label:_("extension_wallet_details_item_transaction_hash1"),value:B.default.createElement(B.default.Fragment,null,B.default.createElement(Nt,{showExplorerUrl:x,label:O(s),value:s,url:f,message:_("wallet_extension_popup_title_transaction_hash_copied")}))}),m&&B.default.createElement(Y,{label:_("extension_wallet_details_item_transaction_hash2"),value:B.default.createElement(B.default.Fragment,null,B.default.createElement(Nt,{showExplorerUrl:x,label:O(m),value:m,url:c,message:_("wallet_extension_popup_title_transaction_hash_copied")}))}),B.default.createElement(fs,{...e}),a?.validateName&&B.default.createElement(Y,{label:_("extension_wallet_history_text_validator"),value:O(a?.validateName)}),B.default.createElement(ps,{...e}),B.default.createElement(v_,{...e}),B.default.createElement(D_,{...e})))}var Ls=b_;i();r();var Ye={"retina-border-basic":"_retina-border-basic_khfbo_1",retinaBorderBasic:"_retina-border-basic_khfbo_1","tx-detail":"_tx-detail_khfbo_29",txDetail:"_tx-detail_khfbo_29","metax-ok-navigator":"_metax-ok-navigator_khfbo_35",metaxOkNavigator:"_metax-ok-navigator_khfbo_35","tx-detail__inner":"_tx-detail__inner_khfbo_41",txDetailInner:"_tx-detail__inner_khfbo_41","tx-detail__underline":"_tx-detail__underline_khfbo_45",txDetailUnderline:"_tx-detail__underline_khfbo_45","tx-detail__loading":"_tx-detail__loading_khfbo_80",txDetailLoading:"_tx-detail__loading_khfbo_80"};i();r();var mt=u(T()),Fs=u(Ce());y();i();r();var yt={"tx-detail-status":"_tx-detail-status_xprxj_1",txDetailStatus:"_tx-detail-status_xprxj_1","tx-detail-icon":"_tx-detail-icon_xprxj_5",txDetailIcon:"_tx-detail-icon_xprxj_5","tx-detail-loading":"_tx-detail-loading_xprxj_12",txDetailLoading:"_tx-detail-loading_xprxj_12","tx-detail-loader":"_tx-detail-loader_xprxj_17",txDetailLoader:"_tx-detail-loader_xprxj_17","tx-detail-text":"_tx-detail-text_xprxj_21",txDetailText:"_tx-detail-text_xprxj_21","tx-detail-failed":"_tx-detail-failed_xprxj_31",txDetailFailed:"_tx-detail-failed_xprxj_31"};var S_={"tx-detail-completed":"wallet_extension_history_tab_completed1","tx-detail-waiting":"wallet_extension_history_status_waiting","tx-detail-pending":"wallet_extension_history_status_pending","tx-detail-speeding":"wallet_extension_send_status_speedingup1","tx-detail-canceling":"wallet_extension_send_status_canceling1","tx-detail-speedingcancel":"wallet_extension_send_status_canceling1","tx-detail-failed":"wallet_extension_history_status_failed1","tx-detail-canceled":"wallet_extension_send_status_canceled","tx-detail-withdraw":"wallet_extension_status_tag_withdraw"},L_={"tx-detail-completed":"okds-success-circle","tx-detail-canceled":"okx-wallet-plugin-warning-circle","tx-detail-waiting":"okx-wallet-plugin-waiting","tx-detail-failed":"okx-wallet-plugin-failed"};function F_({className:e,data:t}){if(!t)return mt.default.createElement(mt.default.Fragment,null);let{txStatus:o,isShowPending:l,repeatTxType:a}=t,s="";o===D.CONFIRMING||o===D.SUCCESS?o===D.SUCCESS&&a===H.SPEEDING_CANCEL||a===H.CANCELING?s="tx-detail-canceled":s="tx-detail-completed":o===D.PENDING?(l&&a===H.CONFIRMING&&(s="tx-detail-pending"),!l&&a===H.CONFIRMING&&(s="tx-detail-waiting"),a===H.SPEEDING&&(s="tx-detail-speeding"),a===H.CANCELING&&(s="tx-detail-canceling"),a===H.SPEEDING_CANCEL&&(s="tx-detail-speedingcancel")):o===D.ERROR?s="tx-detail-failed":o===D.WITHDRAWING&&(s="tx-detail-withdraw");let m=L_[s]||"";return mt.default.createElement("div",{className:(0,Fs.default)(yt["tx-detail-status"],{[yt["tx-detail-failed"]]:s==="tx-detail-failed"},e)},mt.default.createElement(ue,{className:`${yt["tx-detail-icon"]} ${m}`}),!m&&mt.default.createElement(dt.Circle,{size:dt.SIZE.md,className:yt["tx-detail-loading"],loaderClassName:yt["tx-detail-loader"]}),mt.default.createElement("div",null,_(S_[s])))}var Rs=F_;i();r();var B_=e=>{if(typeof e?.bizData=="string")try{return JSON.parse(e.bizData)}catch{return{}}return e?.bizData||{}};function k_({params:e,onRefresh:t,onClose:o,visible:l}){let a=(0,h.useRef)(""),s=(0,h.useRef)(null),m=(0,h.useRef)(null),[p,f]=(0,h.useState)(!1),[c,x]=(0,h.useState)(),[I,E]=(0,h.useState)(!1),N=()=>{if(!e)return;let{coinId:J,address:G,orderType:P,orderId:Me}=e;E(!0),tr({coinId:J,txId:a.current,address:G,orderType:P,orderId:Me}).then(ee=>{if(e&&!Wi(ee)){let re={};try{ee.bizData&&(re=B_(ee))}catch{}x({...ee,address:G,bizData:re})}}).catch(()=>{}).finally(()=>{E(!1)})};(0,h.useEffect)(()=>{e?(a.current=e.txId,N(),s.current=N):(a.current="",x(null))},[e]);let w=()=>{s.current&&a.current&&s.current()},A=St("wallet-transaction"),g=St("wallet-tx-confirm",{onError:w,pollingInterval:10*1e3});(0,h.useEffect)(()=>{(A&&c?.orderTxIdList?.includes(A.data?.txId)||g&&g.data?.txId===a.current&&g.data?.confirmedCount<=g.data?.totalConfirm)&&N()},[A,g]);let{data:F,loading:S,noMore:V,loadingMore:b}=(0,Bs.useInfiniteScroll)(async J=>{if(p&&c?.bizData){let{bizData:G,txType:P,to:Me}=c||{},ee;if(P===n.RECEIVE_PACKET){if(!G?.addressAndTgIds?.[Me])return null;ee=G?.addressAndTgIds?.[Me]}let{data:re}=await Qr({redPacketId:G?.redPacketId,claimerTgId:ee,type:P===n.RED_PACKET?1:2,lastRowId:J?.lastRowId||0,limit:10});return{list:re.claimInfos,lastRowId:re.claimInfos[re.claimInfos.length-1]?.rowId||0,hasNext:re.hasNext}}return null},{target:m.current,isNoMore:J=>!J?.hasNext,reloadDeps:[p,c]});(0,h.useEffect)(()=>{c?.txType===n.RECEIVE_PACKET?f(!0):f(!1)},[c]);let k=[n.UPGRADE_7702,n.REVOKE_7702].includes(c?.txType);return h.default.createElement(pe.Action,{isFull:!0,titleCenter:!0,visible:l,onClose:o,title:c?h.default.createElement(Rs,{data:c,className:Ye["tx-detail__status"]}):h.default.createElement(h.default.Fragment,null),renderContent:()=>h.default.createElement("div",{className:Ye["tx-detail"],ref:m},c&&!I&&h.default.createElement(h.default.Fragment,null,h.default.createElement("div",{className:Ye["tx-detail__underline"]}),h.default.createElement($r,{message:c.failReason}),h.default.createElement("div",{className:Ye["tx-detail__inner"]},!k&&h.default.createElement(h.default.Fragment,null,h.default.createElement(ql,{data:c}),h.default.createElement("div",{className:Ye["tx-detail__underline"]})),c.txType===n.RED_PACKET||c.txType===n.RECEIVE_PACKET?h.default.createElement(h.default.Fragment,null,h.default.createElement(ts,{data:c}),h.default.createElement(as,{data:c})):h.default.createElement(h.default.Fragment,null,h.default.createElement(es,{data:c}),h.default.createElement(cs,{data:c})),h.default.createElement("div",{className:Ye["tx-detail__underline"]}),h.default.createElement(Ls,{data:c}),h.default.createElement("div",{className:Ye["tx-detail__underline"]}),c.txType===n.RED_PACKET&&h.default.createElement(h.default.Fragment,null,h.default.createElement(Si.Create,{data:c}),h.default.createElement("div",{className:Ye["tx-detail__underline"]})),(c.txType===n.RED_PACKET||c.txType===n.RECEIVE_PACKET)&&h.default.createElement(Si.Receive,{info:c,data:F,isExpanded:p,loading:S,noMore:V,hasExpandedBtn:c.txType===n.RED_PACKET,onToggle:()=>{f(!p)},loadingMore:b}),h.default.createElement(_l,{data:c,onRefresh:J=>{a.current=J,N(),t&&t()}}))),I&&h.default.createElement(ms,null))})}var Ri=k_;i();r();i();r();var Po=u(T());i();r();var De=u(T()),Ps=u(Le());i();r();var Bi=u(ji());y();i();r();function ks(e){return{[se.CLAIMABLE]:"wallet_extension_cell_tag_ready_to_claim",[se.CLAIMING]:"wallet_extension_cell_tag_claiming",[se.CANCELED]:"wallet_extension_send_status_canceled",[se.CONFIRMING_OR_SUCCESS]:"",[se.FAILED]:"wallet_extension_history_status_failed"}[e]}var P_={[H.CONFIRMING]:"",[H.SPEEDING]:"wallet_extension_send_status_speedingup",[H.CANCELING]:"wallet_extension_send_status_canceling",[H.SPEEDING_CANCEL]:"wallet_extension_send_status_canceling"};function O_(e,t,o){if(e===D.PENDING&&!t)return _("wallet_extension_history_list_status_waiting");if(e===D.PENDING&&t){let l=P_[o];if(!(0,Bi.isNil)(l))return l?_(l):""}return""}var Bo=(e,t={})=>{let{txStatus:o,isShowPending:l,repeatTxType:a}=t,s=ks(e);return(0,Bi.isNil)(s)?o===D.WITHDRAWING?_("wallet_extension_status_tag_withdraw"):O_(o,l,a):s?_(s):""},ko=(e={})=>{let{txStatus:t,claimableStatus:o,isShowPending:l,repeatTxType:a}=e;return o===Jo.CLAIMABLE?se.CLAIMABLE:o===Jo.CLAIMING?se.CLAIMING:t===D.SUCCESS&&(a===H.CANCELING||a===H.SPEEDING_CANCEL)?se.CANCELED:t===D.CONFIRMING||t===D.SUCCESS?se.CONFIRMING_OR_SUCCESS:t===D.ERROR?se.FAILED:t===D.PENDING&&!l?se.WAITING:se.PENDING};var M_=({data:e={},onClick:t,onRepeat:o})=>{let l=(0,Ps.useSelector)($t),a=ws(e),s=As(e),m=Ro(e),p=hs(e,l),f=ko(e),c=Bo(f,e),x=Xr(e),I=qr(e),E=lo(p,s),N=De.default.createElement(L.Label,{className:"tx-history-ml4",type:f,text:c,data:e}),w=e?.dexOrderId,{openDexTxDetailDialog:A}=eo();return De.default.createElement(L.ItemContainer,{onClick:()=>{if(w){A(e?.dexOrderId);return}t()}},De.default.createElement(L.Row,{assets:s,align:E},De.default.createElement(L.Info,{icons:a,title:m,details:p,label:N,data:e}),De.default.createElement(L.Assets,{assets:s,isValuelessNftTxType:I})),x&&De.default.createElement(L.NFTs,{data:e}),!w&&De.default.createElement(L.Actions,{data:e,onRepeat:o}),De.default.createElement(L.Claim,{data:e}))},Os=(0,De.memo)(M_);var U_=({data:e={},onClick:t,onRepeat:o})=>Po.default.createElement(Os,{data:e,onClick:t,onRepeat:o}),wt=(0,Po.memo)(U_);i();r();var $=u(T()),Uo=u(Le());y();i();r();var ht=u(T());var G_=({date:e,list:t,onClick:o})=>ht.default.createElement(L.List,null,ht.default.createElement(L.Date,null,e),t.map((l,a)=>ht.default.createElement(wt,{data:l,key:a,onClick:()=>{o(l)}}))),Ms=(0,ht.memo)(G_);i();r();var Mo=u(T());i();r();var Oo=u(T());y();i();r();var Us={dialogContainer:"_dialogContainer_1av5q_1"};var Gs=({onClose:e,visible:t,onClick:o,options:l})=>{let a=(s,m)=>{let{label:p,image:f}=s||{};return Oo.default.createElement(tn.Coin,{symbol:p,icon:f,keyword:m,onClick:()=>{o(s)}})};return Oo.default.createElement(pe,{isFull:!0,onClose:e,visible:t,title:_("wallet_transfer_multichain_coin_maintitle_select_network"),noMargin:!0,containerClassName:Us.dialogContainer,alignBottom:!0,maskClosable:!0,transitionProps:{type:"slide",placement:"bottom",timeout:300}},Oo.default.createElement(tn,{searchable:{offsetTop:"0px",keyword:"chainName",placeholder:_("wallet_extension_input_search_network")},dataSource:l,renderItem:a,emptyText:_("wallet_extension_text_noresults")}))};var ki=({visible:e,setVisible:t,handleSelectNetwork:o,options:l,children:a})=>Mo.default.createElement(Mo.default.Fragment,null,a,Mo.default.createElement(Gs,{visible:e,onClose:()=>t(!1),onClick:o,options:l}));i();r();var Ks=u(T()),Ys=u(Le());i();r();var Vs=u(T()),Hs=u(Le());var Ws=(e="coinId")=>{let t=(0,Hs.useSelector)(Ir),[o]=Cr(t);return{options:(0,Vs.useMemo)(()=>(o||[]).map(a=>{let{chainName:s}=a;return{label:s,value:a[e],...a}}),[t])}};var Zs=({explorerUrl:e})=>{let[t,o]=Ks.default.useState(!1),l=(0,Ys.useSelector)(fr),{account:a}=yr(),{options:s}=Ws(),m=l?.chainId;return{visible:t,setVisible:o,gotoExplore:()=>{if(m==="")o(!0);else{let c=s.find(E=>E.chainId===m),x=c?.localType,I=c?.coinId;globalThis.open(`${e?.[I]}${a?.[x]}`)}},handleSelectNetwork:c=>{let x=c.coinId;o(!1),globalThis.open(`${e?.[x]}${a?.[c.localType]}`)},options:s}};i();r();var Pi={"tx-history-extra":"_tx-history-extra_1fqw0_1",txHistoryExtra:"_tx-history-extra_1fqw0_1",list:"_list_1fqw0_4",explore:"_explore_1fqw0_7"};var V_=({pendingList:e,completedList:t,isLoading:o,onRepeat:l,onClick:a,onContainer:s,explorerUrl:m})=>{let p=(0,Uo.useSelector)(Xt),f=(0,Uo.useSelector)(xr),c=(0,Uo.useSelector)(ur),[x,I]=(0,$.useState)({}),[E,N]=(0,$.useState)(0),{visible:w,setVisible:A,gotoExplore:g,handleSelectNetwork:F,options:S}=Zs({explorerUrl:m});return f?$.default.createElement(L.Loading,{top:160}):o||!e?null:!o&&e.length===0&&t.length===0?$.default.createElement(ki,{visible:w,setVisible:A,handleSelectNetwork:F,options:S},$.default.createElement(L.Empty,{top:72,onButtonClick:g,buttonText:_("wallet_extension_history_btn_check_in_explorer"),description:_("wallet_extension_history_emptystate_no_transactions_day",{num:90})})):$.default.createElement(L.ListContainer,{onContainer:s,className:"tx-history-extra"},$.default.createElement(L.Dialogs,{data:x,type:E,onConfirm:()=>{I({}),N(0),l()},onCancel:()=>{N(0)}}),e.length>0?$.default.createElement($.default.Fragment,null,$.default.createElement(L.PendingTag,null),$.default.createElement("div",{className:Pi.list},e.map((V,b)=>$.default.createElement(wt,{data:V,key:b,onClick:()=>{a(V)},onRepeat:k=>{I(V),N(k)}})))):null,t.map(({date:V,list:b},k)=>$.default.createElement(Ms,{date:V,list:b,key:k,onClick:a})),!c&&$.default.createElement(ki,{visible:w,setVisible:A,handleSelectNetwork:F,options:S},$.default.createElement($e,{category:$e.CATEGORY.fill,type:$e.TYPE.gray,size:$e.SIZE.md,className:Pi.explore,onClick:g},_("wallet_extension_history_btn_check_in_explorer"))),p&&$.default.createElement(_t,null))},$s=(0,$.memo)(V_);var H_={VirtualItem:wt,HistoryList:$s};i();r();i();r();i();r();var ie=u(T()),Mi=u(Le());y();i();r();var et=u(T());i();r();var Vo=u(T());i();r();var Oe=u(T()),na=u(Le());i();r();y();i();r();var Js="okx-wallet-plugin-report-centre",Mt="okx-wallet-plugin-pointer-up",At="okx-wallet-plugin-pointer-down",zs="okx-wallet-plugin-lock-1",Qe="okx-wallet-plugin-swap-1",W_="okx-wallet-plugin-mint-nft",Oi="okx-wallet-plugin-report-centre",K_="okx-wallet-plugin-supply",Ut="okx-wallet-plugin-claim",js="okx-wallet-plugin-enrollment",Go="okx-wallet-plugin-mint",Y_="okx-wallet-plugin-mint",Xs="okx-wallet-plugin-coin-inscribe-brc20",Z_="okx-wallet-plugin-pointer-down",$_="okx-wallet-plugin-pointer-up",z_="okx-wallet-plugin-quick",qs={[n.TRANS_OUT]:Mt,[n.PERPETUAIL]:Z_,[n.WITHDRAW]:$_,[n.QUICK_WITHDRAW]:z_,[n.TRANS_IN]:At,[n.AUTHORIZATION]:zs,[n.CANCEL_AUTHORIZATION]:zs,[n.SWAP]:Qe,[n.BUY_NFT]:Qe,[n.SELL_NFT]:Qe,[n.GAS_STATION]:Qe,[n.DEX_CROSS_CHAIN_SWAP]:Qe,[n.BRC20_TRADE]:Qe,[n.BRC30_TRADE]:Qe,[n.RUNES_SWEEP]:Qe,[n.MINT_NFT]:W_,[n.CONTRACTCALL]:Oi,[n.KYS]:Oi,[n.DAPP_NFT]:Oi,[n.DAPP_APPLY]:K_,[n.DAPP_REDEEM]:Ut,[n.DAPP_CLAIM]:Ut,[n.EARN_BRC30_CLAIM]:Ut,[n.EARN_BRC30_APPLY]:Ut,[n.EARN_BRC30_REDEEM]:Ut,[n.REGISTRATION]:js,[n.ZK_REGISTER]:js,[n.BRC20_RECEIVE]:At,[n.BRC30_RECEIVE]:At,[n.DEFI_MINT]:At,[n.BRC20_INSCRIBE]:Xs,[n.BRC30_INSCRIBE]:Xs,[n.BRC20_MINT]:Go,[n.ORDINAL_NFT]:Go,[n.ORDINAL_TEXT]:Go,[n.BRC20_DEPLOY]:Go,[n.BRC20_SEND]:Mt,[n.BRC30_SEND]:Mt,[n.DEFI_REPAY]:Mt,[n.EARN_BRC30_DEPLOY]:Y_,[n.EARN_BORROW]:At,[n.EARN_REPAY]:Mt,[n.DEX_REFERRAL]:At};var Qs=(e={})=>{let{txType:t}=e;return[qs[t]||Js]},ea=(e={})=>{let{txType:t,coinSymbol:o}=e;return so(t,{symbol:o},e)},ta=(e={},t="en-US")=>{let o=[],{txType:l,txStatus:a}=e;if(l===n.TRANS_OUT||l===n.SEND_NFT||l===n.BRC20_SEND||l===n.BRC20_TRADE||l===n.BRC30_SEND||l===n.RUNES_SWEEP||l===n.EARN_REPAY){let s=Tt(e)||O(e.to),m=`${_("wallet_extension_history_list_send_to")}  ${s}`;o.push(m)}else if(l===n.TRANS_IN||l===n.RECEIVE_NFT||l===n.BRC20_RECEIVE||l===n.BRC20_MINT||l===n.ORDINAL_NFT||l===n.ORDINAL_TEXT||l===n.BRC20_INSCRIBE||l===n.BRC20_DEPLOY||l===n.BRC30_RECEIVE||l===n.RUNES_ETCH||l===n.DEX_REFERRAL){let s=O(e.from),m=`${_("wallet_extension_history_list_receive_from")}   ${s}`;o.push(m)}else if(l===n.BRC30_INSCRIBE){let s=O(e.to);o.push(s)}else if(l===n.ZK_REGISTER)o.push(O(e.from));else{let{contractName:s,contractAddress:m}=e,p=s||O(m)||"";o.push(p)}if(a===D.PENDING){let s=Ze(e.txTime,{format:"yyyyMMddHHmmss",locale:t});o.push(s)}return o},oa=(e={})=>{let t=[],{direction:o,coinAmount:l,coinSymbol:a,txType:s,repeatTxType:m,coinId:p}=e,{coin:f,baseCoin:c}=ze(p,!0),x=Zt(c.coinId);if(s===n.AUTHORIZATION||s===n.CANCEL_AUTHORIZATION||s===n.REGISTRATION)return t;let I=null;return(l!=="0"||x&&(s===n.TRANS_IN||s===n.TRANS_OUT)&&m!==H.CANCELING&&m!==H.SPEEDING_CANCEL)&&(I=de(l,{precision:f?.displayPrecision,isStableCoin:f?.stableCoin}).value),t.push({direction:o,coinAmount:I,symbol:a}),!e?.brc20Type&&e?.ordinalNftName&&e?.ordinalNftDirection&&e?.ordinalNftAmount&&t.push({direction:e?.ordinalNftDirection,coinAmount:e?.ordinalNftAmount,symbol:e?.ordinalNftName}),t};var j_=({data:e={},onClick:t,onRepeat:o})=>{let l=(0,na.useSelector)($t),a=Qs(e),s=ea(e),m=ta(e,l),p=oa(e),f=lo(m,p),c=ko(e),x=Bo(c,e),I=Oe.default.createElement(L.Label,{className:"tx-history-ml4",type:c,text:x,data:e});return Oe.default.createElement(L.ItemContainer,{onClick:t},Oe.default.createElement(L.Row,{assets:p,align:f},Oe.default.createElement(L.Info,{icons:a,title:s,details:m,label:I,data:e}),Oe.default.createElement(L.CoinAssets,{assets:p})),Oe.default.createElement(L.Actions,{data:e,onRepeat:o}),Oe.default.createElement(L.Claim,{data:e,source:"coin"}))},ia=(0,Oe.memo)(j_);var X_=({data:e={},onRepeat:t,onClick:o})=>Vo.default.createElement(ia,{data:e,onClick:o,onRepeat:t}),Ho=(0,Vo.memo)(X_);var J_=({completedList:e,onClick:t})=>et.default.createElement(et.default.Fragment,null,e.map(({date:o,list:l},a)=>et.default.createElement(L.List,{key:a},et.default.createElement(L.Date,null,o),l.map((s,m)=>et.default.createElement(Ho,{data:s,key:m,onClick:()=>{t(s)}}))))),ra=(0,et.memo)(J_);i();r();var ve=u(T());i();r();var la={root:"_root_1otry_1"};var q_=({pendingList:e,onRepeat:t,onClick:o})=>{let[l,a]=(0,ve.useState)({}),[s,m]=(0,ve.useState)(0);return e.length===0?null:ve.default.createElement(ve.default.Fragment,null,ve.default.createElement(L.Dialogs,{data:l,type:s,onConfirm:()=>{a({}),m(0),t()},onCancel:()=>{m(0)}}),ve.default.createElement("div",{className:la.root},e.map((p,f)=>ve.default.createElement(Ho,{data:p,key:f,onRepeat:c=>{a(p),m(c)},onClick:()=>{o(p)}}))))},sa=(0,ve.memo)(q_);i();r();var Gt={loading:"_loading_vgn6r_1",scrollLoading:"_scrollLoading_vgn6r_7",empty:"_empty_vgn6r_10",emptyImg:"_emptyImg_vgn6r_16"};var Q_=({txList:e,isLoading:t,onRepeat:o,txDetailData:l,setTxDetailData:a})=>{let s=(0,Mi.useSelector)(zt),m=(0,Mi.useSelector)(Xt),p=Vr(nr),{openDexTxDetailDialog:f}=eo(),[c,x]=(0,ie.useMemo)(()=>jr(e,s,!0),[e,s]);if(!t&&c.length===0&&x.length===0)return ie.default.createElement("div",{className:Gt.empty},ie.default.createElement(Ue.State,{imgClassName:Gt.emptyImg,title:"",type:Ue.State.TYPE.noRecord,description:_("wallet_transaction_history_subtitle_no_records")}));if(t)return ie.default.createElement(L.Loading,{top:0,className:Gt.loading});if(!Array.isArray(e))return null;let I=E=>{p({button_clicked:"history"}),E?.dexOrderId?f(E?.dexOrderId):a(E)};return ie.default.createElement(ie.default.Fragment,null,ie.default.createElement("div",{className:"coin-history__list"},ie.default.createElement(sa,{pendingList:c,onRepeat:o,onClick:I}),ie.default.createElement(ra,{completedList:x,onClick:I}),m&&ie.default.createElement(_t,{className:Gt.scrollLoading})),ie.default.createElement(Ri,{visible:!!l,params:l,onRefresh:o,onClose:()=>{a(null)}}))},aa=(0,ie.memo)(Q_);var em={TxList:aa};i();r();var Ne=u(T()),_a=u(Le());pt();function KA({scrollContainer:e,selector:t=".tx-history-item-container",index:o=15},l){let a=(0,Ne.useRef)(null),s=(0,Ne.useRef)(null),m=(0,_a.useSelector)(dr),p=()=>{if(a.current)if(s.current){let{bottom:A}=a.current.getBoundingClientRect(),{top:g}=s.current.getBoundingClientRect();g>=A&&l()}else l()},f=St("wallet-transaction",{onError:p}),[c,x]=(0,Ne.useState)(!1),[I,E]=(0,Ne.useState)(!1),[N,w]=(0,Ne.useState)(0);(0,Ne.useEffect)(()=>{f&&E(!0)},[f]),(0,Ne.useLayoutEffect)(()=>{let A;if(e){let g=e.querySelectorAll(t);A=Ki(()=>{let{bottom:F}=e.getBoundingClientRect(),{top:S}=s.current.getBoundingClientRect();x(S>=F)},200),s.current=g[o],s.current?(A(),e.addEventListener("scroll",A)):x(!0),a.current=e}else x(!0);return()=>{e&&(e.removeEventListener("scroll",A),s.current=null)}},[N,e,t,o,m]),(0,Ne.useEffect)(()=>{c&&I&&(l&&l(),x(!1),E(!1),w(A=>{let g=A+1;return g>=1e6&&(g=1),g}))},[c,I])}export{jr as a,Ri as b,em as c,H_ as d,KA as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-2DGIJXZ4.js.map
