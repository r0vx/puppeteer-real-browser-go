import{a as q}from"./chunk-ISKH54SW.js";import{b as K}from"./chunk-SJNKDITR.js";import{a as Q}from"./chunk-UQXHDDOL.js";import{b as v}from"./chunk-2Q6HA5LZ.js";import{a as d,m as w,n as G,o as W}from"./chunk-4JPAA6SR.js";import{b as E,c as h}from"./chunk-ULL77AIR.js";import{a as B}from"./chunk-WIW5JVRP.js";import{i as b}from"./chunk-DA5RJYYW.js";import{Da as P,ia as V}from"./chunk-POP3LIKS.js";import{F as M,c as t,d as r,j as Y,k}from"./chunk-G44PPNNQ.js";import{H as N,j as i,ra as F}from"./chunk-CYTB2B6Q.js";import{o as s,q as p}from"./chunk-SHG7TIBL.js";s();p();s();p();s();p();F();s();p();var re={[E.DYNAMIC]:1,[E.FIXED]:2};var ie={[d.MARKET]:1,[d.FAST]:2,[d.TURBO]:3,[d.CUSTOM]:4},ne=[{name:"swaptrade_preset_segmentedctl_buy_settings",type:"buy"},{name:"swaptrade_preset_segmentedctl_sell_settings",type:"sell"}];s();p();F();function R(c,u){let e=i(c,"feeConfig",{});if(N(e))return{};let n=u===1?e.limitOrderMin:e.min,o=u===1?e.limitOrderMax:e.max,a=u===1?e.limitOrderFeeOptions:e.feeOptions,m=a?.find(T=>T.selected===!0),l=m?.feeValue,S=w[m?.feeLevel-1],_={[d.MARKET]:{amount:a?.[0]?.feeValue,price:""},[d.FAST]:{amount:a?.[1]?.feeValue,price:""},[d.TURBO]:{amount:a?.[2]?.feeValue,price:""}};return{value:l,type:S,max:o,min:n,recommendMaxValue:o,recommendMinValue:n,config:_}}s();p();F();function D({presetWithDirection:c,dynamicSupportMax:u}){let e=i(c,"slippageConfig",{})??{},{slippageType:n,slippageRange:o,fixedMin:a,fixedMax:m,fixedRecommendMax:l,fixedRecommendMin:S,dynamicMin:_,dynamicMax:T,dynamicRecommendMinValue:f,dynamicRecommendMaxValue:y,dynamicMaxSlippageValue:I}=e,A=o?.find(L=>L.selected===!0),U=A?.slippageValue,x=G[A?.slippageLevel-1],O={[h.LOW]:o?.[0]?.slippageValue,[h.MEDIUM]:o?.[1]?.slippageValue,[h.HIGH]:o?.[2]?.slippageValue};return{mode:n===1?E.DYNAMIC:E.FIXED,supportCustomMax:u,dynamicMax:T,dynamicMin:_,recommendMax:y,recommendMin:f,customMax:I,value:U,type:x,config:O,min:a,max:m,fixedRecommendMax:l,fixedRecommendMin:S}}var C=class extends B{constructor(){super();this.userWalletAddress="";this.accountId="";this.chainId="";this.tradeScene=0;this.firstFetchPresetStatus=!1;this.fetchConfigStatus=P.DEFAULT;this.fetchSaveStatus=P.DEFAULT;this.fetchResetStatus=P.DEFAULT;this.nativeTokenInfo={};this.mevPriceThreshold="";this.dynamicSupportMax=!0;this.supportAutoMode=!0;this.supportSlippage=!0;this.supportEip1559=!0;this.supportCustomGasFee=!0;this.memeChainType="0";this.networkFeeUnit="";this.networkFeeDecimals="0";this.presetsList=[];this.presetSelectType=2;this.selectTradeMode="buy";this.cancelFetchPresetRef=null;this.editPresetsList=[];this.presetEditType=2;this.editTradeMode="buy";this.quickBuyAmount="";this.quickBuyPresetGuide=0;k(this,{userWalletAddress:t,accountId:t,chainId:t,firstFetchPresetStatus:t,fetchConfigStatus:t,fetchSaveStatus:t,fetchResetStatus:t,presetsList:t,presetSelectType:t,tradeScene:t,selectTradeMode:t,nativeTokenInfo:t,computedSelectPreset:r,quickBuyAmount:t,quickBuyPresetGuide:t,computedSelectPresetWithDirection:r,computedSelectRouterModeType:r,computedSelectPriorityMode:r,computedSelectManualType:r,computedSelectSlippageState:r,computedSelectNoQuotePriorityFeeState:r,editPresetsList:t,presetEditType:t,editTradeMode:t,computedEditPreset:r,computedEditPresetWithDirection:r,computedChainName:r,computedChainSymbol:r,computedChainLogoUrl:r,computedEditRouterModeType:r,computedEditPriorityMode:r,computedEditManualType:r,computedEditSlippageState:r,computedEditNoQuotePriorityFeeState:r,mevPriceThreshold:t,dynamicSupportMax:t,cancelFetchPresetRef:t,supportAutoMode:t,supportSlippage:t,supportEip1559:t,supportCustomGasFee:t,memeChainType:t,networkFeeUnit:t,networkFeeDecimals:t})}get computedSelectPreset(){let e=this.presetsList.find(n=>n.presetType===this.presetSelectType);return e||{}}get computedSelectPresetWithDirection(){return this.selectTradeMode==="buy"?i(this.computedSelectPreset,"buyPreset",{})??{}:i(this.computedSelectPreset,"sellPreset",{})??{}}get computedEditPreset(){let e=this.editPresetsList.find(n=>n.presetType===this.presetEditType);return e?Y(e):{}}get computedEditPresetWithDirection(){return this.editTradeMode==="buy"?i(this.computedEditPreset,"buyPreset",{})??{}:i(this.computedEditPreset,"sellPreset",{})??{}}get computedQuickBuyMevStatus(){let e=i(this.computedSelectPresetWithDirection,"routeConfig.routerModeType")??{},n={[1]:1,[3]:7,[2]:4};return W(n[e])}get computedQuickBuySlippage(){let{slippageType:e,slippageRange:n}=this.computedSelectPresetWithDirection.slippageConfig||{},o=n?.find(m=>m.selected);return e===1?M("swaptrade_slippage_cell_label_dynamic"):o?.slippageValue||""}get computedQuickBuyFee(){let e="",o=(i(this.computedSelectPresetWithDirection,"feeConfig.feeOptions",[])??[]).find(l=>l.selected),a=o?.feeLevel,m=o?.feeValue||"";switch(a){case 1:e=M("swaptrade_modal_dialog_option_market");break;case 2:e=M("swaptrade_modal_dialog_option_fast5x");break;case 3:e=M("swaptrade_modal_dialog_option_turbo10x");break;default:e=m;break}return e}get computedChainName(){return i(this.nativeTokenInfo,"chainName","")}get computedChainSymbol(){return i(this.nativeTokenInfo,"tokenSymbol","")}get computedChainLogoUrl(){return i(this.nativeTokenInfo,"chainLogoUrl","")}get computedSelectRouterModeType(){return i(this.computedSelectPresetWithDirection.routeConfig,"routerModeType",1)??1}get computedSelectPriorityMode(){return this.computedSelectRouterModeType===1?"auto":"manual"}get computedSelectManualType(){return this.computedSelectRouterModeType===3?1:0}get computedSelectSlippageState(){return D({presetWithDirection:this.computedSelectPresetWithDirection,dynamicSupportMax:this.dynamicSupportMax})}get computedSelectNoQuotePriorityFeeState(){return R(this.computedSelectPresetWithDirection,this.tradeScene)}get computedEditRouterModeType(){return i(this.computedEditPresetWithDirection.routeConfig,"routerModeType",1)??1}get computedEditPriorityMode(){return this.computedEditRouterModeType===1?"auto":"manual"}get computedEditManualType(){return this.computedEditRouterModeType===3?1:0}get computedEditSlippageState(){return D({presetWithDirection:this.computedEditPresetWithDirection,dynamicSupportMax:this.dynamicSupportMax})}get computedEditNoQuotePriorityFeeState(){return R(this.computedEditPresetWithDirection,this.tradeScene)}get computedSupportPriorityFee(){return this.supportEip1559||this.memeChainType==="0"}},H=new C;var J=()=>{let{currentPreset:c}=q();if(V()){let{slippage:u}=c;return u}return H.computedSelectSlippageState};var pt=(c=b)=>{let{accountStore:u,buyStore:e,sellStore:n,quoteStore:o,configStore:a}=v(),{currentMode:m}=a,{queryParams:l}=K(),S=m==="buy"||l?.get("tab")==="buy",_=J(),{chainId:T,chainName:f}=Q(),y=u?.getAddressByChainId(T);return({button_name:I,custom_or_auto:A,popup_type:U,tab_name:x,type:O,receive_value:L,paid_value:Z,value_diff:j})=>{c&&c({button_name:I,custom_or_auto:A,popup_type:U,type:O,tab_name:x,wallet_address:y,from_token_address:o?.computedGetQuoteFrom?.tokenContractAddress,from_token_amount:o?.computedGetQuoteFromAmount,from_amount_usdt:o?.computedFromTokenValue,to_token_address:o?.computedGetQuoteTo?.tokenContractAddress,to_token_amount:o?.computedGetQuoteToAmount,to_amount_usdt:o?.computedToTokenValue,swap_type:"swap",balance_bracket:S?e?.fromToken?.amountNum:n?.toToken?.amountNum,slippage:{type:_?.type,amount:_?.value},trade_dialog:"no",from_chain:f,to_chain:f,chain:f,receive_value:L,paid_value:Z,value_diff:j})}};export{pt as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-L4LDHBFD.js.map
