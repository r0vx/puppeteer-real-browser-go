import{a as wo,b as No}from"./chunk-24LHH2BX.js";import{a as ho}from"./chunk-BYIL3SNH.js";import"./chunk-GNELMQ7P.js";import{a as Oe}from"./chunk-3T5S5CS6.js";import{a as go,b as Fe}from"./chunk-JLNOW4KR.js";import{a as yo}from"./chunk-UDTGE34O.js";import{a as Io,c as Ce}from"./chunk-7A4GWZDF.js";import{b as xo}from"./chunk-LKSOM4R2.js";import"./chunk-HBWTVKRO.js";import{d as fo}from"./chunk-7JSJY3SQ.js";import{a as To,c as Z}from"./chunk-NWY3GPDX.js";import"./chunk-6JEFG7DQ.js";import"./chunk-WPAZ67JY.js";import"./chunk-B3SXRDEQ.js";import"./chunk-7HRNNJBX.js";import{a as ao,b as mo,h as b}from"./chunk-F6UVHIJV.js";import"./chunk-636UWIUZ.js";import{a as lo}from"./chunk-LTLRDXME.js";import"./chunk-RMI6BAM3.js";import"./chunk-OK4242CI.js";import"./chunk-6MVL4I6V.js";import"./chunk-E7MGN3V4.js";import{c as _o}from"./chunk-IEGAVAV7.js";import"./chunk-V4P2E4SN.js";import"./chunk-DYL77QBO.js";import"./chunk-MN3UHDTX.js";import"./chunk-IJW6HFV5.js";import"./chunk-N2MMFEEK.js";import{h as X}from"./chunk-MKDQBVRZ.js";import"./chunk-ZFFAX2YS.js";import"./chunk-7UDMBSMI.js";import"./chunk-KJWX5V23.js";import"./chunk-KDVER5QK.js";import{a as Ae}from"./chunk-5CHE7P4E.js";import"./chunk-PD44C7EF.js";import"./chunk-6K6UF6OE.js";import"./chunk-OKXHAJNT.js";import"./chunk-CBHKW7LL.js";import{a as po}from"./chunk-67F2WFQO.js";import"./chunk-QYDRYMWS.js";import{g as we,h as Ne}from"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3L7K7.js";import{g as ro,p as no}from"./chunk-QTKQMZ5K.js";import{a as uo}from"./chunk-Y5K5NJ6U.js";import"./chunk-JABAEAEN.js";import"./chunk-VY2VK2OT.js";import{a as co}from"./chunk-Q7FGM7BT.js";import{b as A}from"./chunk-TKE74ERX.js";import"./chunk-MONRGJFN.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import"./chunk-IK72BO4I.js";import"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import{m as so,r as t}from"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import"./chunk-XP3TNE3R.js";import{C as Q,E as oo,jc as z,zb as he}from"./chunk-QRHYK2TW.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import"./chunk-532YJKK4.js";import{j as to,p as Qo}from"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import{c as U,e as De}from"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-2FDQIA7D.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import{b as be,c as io,d as Be,i as S,j as Ie}from"./chunk-YCFHPQAJ.js";import"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import{c as i}from"./chunk-62ZAND24.js";import"./chunk-SIITVWZR.js";import{Ec as L,H as Ge,I as $o,Lb as P,Mb as F,Nb as M,Ob as V,Pd as Ko,Qb as Ze,Rb as Ye,Rd as Xe,Tb as je,Ub as qe,Ud as le,Xd as Re,Zd as eo,_b as $e,ec as Ke,fc as ge,gc as ie,hc as Je,ic as k,mc as se,od as me,oe as Jo,qd as Qe,rc as ae}from"./chunk-QHXUL3YM.js";import{H as w,y as s}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{A as xe,E as Ue,G as ne,e as D,o as We}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{aa as He,ka as re}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as g}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f,o as e,q as o}from"./chunk-SHG7TIBL.js";e();o();var B=f(g()),te=f(z());w();De();Qo();e();o();var Ao=f(g());De();var Co=f(z()),ke=({origin:r})=>{let l=(0,Co.useSelector)(({metamask:c})=>c.silence||{});return{removeSilencePermission:(0,Ao.useCallback)(async()=>{await U().removeSilencePermission(r)},[r]),silencePermissions:l[r]||[]}};e();o();e();o();var ze=f(g()),Yo=f(z());e();o();var I=f(g()),Le=f(z());w();e();o();var R=f(g());e();o();var ce={main:"_main_1vn1g_1",logo:"_logo_1vn1g_6",content:"_content_1vn1g_10",network:"_network_1vn1g_17",icon:"_icon_1vn1g_22"};function Se({icon:r,customIcon:l,name:n,content:c=null,disconnect:a,showDisconnect:m=!0,className:u=""}){return R.default.createElement("div",{className:`${ce.main} ${u}`},l||R.default.createElement(A,{src:r,text:n,size:A.SIZE.lg,className:ce.logo}),R.default.createElement("div",{className:ce.content},R.default.createElement(t.Text,{strong:700,ellipsis:!0},n),c),m&&R.default.createElement(A.IconButton,{icon:"okx-wallet-plugin-unlink",className:ce.icon,onClick:a}))}e();o();var _e=f(g());w();e();o();var pe={wrapper:"_wrapper_snb9e_1",silence:"_silence_snb9e_4",text:"_text_snb9e_10",cancel:"_cancel_snb9e_13"};var ko=({origin:r})=>{let{removeSilencePermission:l,silencePermissions:n}=ke({origin:r});if(n.findIndex(m=>m.expireTime>Date.now())===-1)return null;let a=async()=>{await l()};return _e.default.createElement(i.Box,{className:pe.wrapper},_e.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:pe.silence},_e.default.createElement(t.Text,{className:pe.text,type:t.TYPE.secondary,size:t.SIZE.xs},s("wallet_extension_connect_text_silent_mode_enabled")),_e.default.createElement(t.Text,{strong:500,className:pe.cancel,size:t.SIZE.xs,onClick:a},s("wallet_extension_connect_btn_cancel"))))};Jo();e();o();var p=f(g()),bo=f(z());w();me();ge();e();o();var G=f(g());w();me();e();o();var Y=f(g()),Eo=f(z());w();Re();e();o();var v=f(g());w();Re();e();o();var q={itemWrapper:"_itemWrapper_guwjx_1",chain:"_chain_guwjx_8",content:"_content_guwjx_11",address:"_address_guwjx_14",amount:"_amount_guwjx_17",active:"_active_guwjx_20"};var So=({data:r,active:l,onClick:n})=>{let{addressType:c,userAddress:a,coinAmount:m,currencyAmount:u,localType:_,displayPrecision:y,stableCoin:C}=r;return v.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:`${q.itemWrapper} ${l&&q.active}`,onClick:n},v.default.createElement(i.Box,{className:q.chain},v.default.createElement(D,{alt:"token",width:32,height:32,src:r?.image||Be,errorImg:Be})),v.default.createElement(i.FlexBox,{align:i.ALIGN.center,justify:"space-between",className:q.content},v.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical},v.default.createElement(t.Text,{strong:500,className:q.address},s(Xe[le?.[_]?.[c]])),v.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs},Q(a))),v.default.createElement(i.FlexBox,{direction:i.DIRECTION.vertical,align:i.ALIGN.unset},v.default.createElement(t.DisplayAmount,{strong:!0,noStyle:!1,amount:m,mode:t.CRYPTO,ellipsis:!0,align:t.ALIGN.right,className:q.amount,displayPrecision:y,stableCoin:C}),v.default.createElement(t.DisplayAmount,{mode:t.LEGAL,size:t.SIZE.xs,type:t.TYPE.secondary,align:t.ALIGN.right,useApproximate:!1,ellipsis:!0},u))))};e();o();var de={main:"_main_dhmjq_1",title:"_title_dhmjq_4",subTitle:"_subTitle_dhmjq_9",dialogContainer:"_dialogContainer_dhmjq_13"};var Po=({title:r,subTitle:l,visible:n,onClose:c,coinId:a,walletId:m})=>{let u=(0,Eo.useDispatch)(),_=fo(a),y=_o(_?.localType,m),C=yo(_,m),j=y?.map(x=>C.find(O=>le?.[O?.localType]?.[O?.addressType]===x.addressType)).filter(Boolean),K=Ae(_?.localType,m),J=x=>{K===x.userAddress||!_?.localType||(c(),u(ro(m,{[_?.localType]:le[_?.localType]?.[x?.addressType]})).then(()=>{ne.success({title:s("wallet_extension_toast_address_format_changed"),desc:x.userAddress,duration:1.5,placement:ne.DIRECTION.top,containerClassName:"address-copy-notification"})}).catch(()=>{}))};return Y.default.createElement(We.Action,{visible:n,onClose:c,maskClosable:!0,noTopRadius:!1,windowStyle:{overflow:"hidden"},containerClassName:de.dialogContainer,noContentPadding:!1},Y.default.createElement(i.Box,{className:de.main},Y.default.createElement(Y.default.Fragment,null,Y.default.createElement(t.Text,{strong:700,className:de.title},r),Y.default.createElement(t.Text,{className:de.subTitle,size:t.SIZE.sm,type:t.TYPE.secondary},l)),j?.map((x,O)=>Y.default.createElement(So,{key:x?.addressType||O,data:x,active:K===x?.userAddress,onClick:()=>J(x)}))))};e();o();var ee={lineItem:"_lineItem_764ku_1",chainIcon:"_chainIcon_764ku_4",networkTitle:"_networkTitle_764ku_7",detail:"_detail_764ku_10",arrow:"_arrow_764ku_13"};var Xo={[k]:s("wallet_extension_sonic_header_btc_address"),[L]:s("wallet_extension_dapp_address_ton")},H=({localType:r=k})=>{let l=Z({localType:r}),{coinId:n}=l||{},c=Ae(r),a=we(),[m,u]=G.default.useState(!1);return G.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:ee.lineItem},G.default.createElement(t.Text,{size:t.SIZE.xs,type:t.TYPE.secondary,className:ee.networkTitle},Xo[r]),G.default.createElement(D,{width:16,height:16,alt:"chain",src:l?.imageUrl||S,errorImg:S,pictureClassName:ee.chainIcon}),G.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:ee.detail,onClick:()=>{u(!0)}},G.default.createElement(t.Text,{size:t.SIZE.xs},Q(c)),G.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${ee.arrow}`,size:A.SIZE.xxs})),G.default.createElement(Po,{visible:m,onClose:()=>u(!1),coinId:n,walletId:a,title:s("extension_defi_top_header_title_select_address_type"),subTitle:s("extension_defi_popup_desc_new_address_default_icu",{chainName:l?.name})}))};e();o();var h=f(g()),vo=f(z());w();De();$o();ge();e();o();var $={wrapper:"_wrapper_uubzp_1",switchNetwork:"_switchNetwork_uubzp_4",title:"_title_uubzp_7",arrow:"_arrow_uubzp_10",chainIcon:"_chainIcon_uubzp_14",tip:"_tip_uubzp_17"};e();o();var Ee=f(g());w();me();ge();var Lo=({providerType:r})=>{let[l,n]=(0,Ee.useState)({}),c=To(),a=xo(r),{list:m}=go(),u=_=>c.filter(y=>y.factionType===_).find(y=>y.localType===a?.localType)||{};return(0,Ee.useEffect)(()=>{switch(r){case P:{let _=m.find(y=>a.type===Je?y.uniqueId===a?.uniqueId:y.localType===a?.type)||{};n({..._,title:s("wallet_extension_sonic_header_evm_network")});break}case F:{let _=u(4);n({..._,icon:_.imageUrl,title:s("wallet_extension_sonic_desc_solana_comaptible")});break}case M:{let _=u(4);n({..._,icon:_.imageUrl,title:s("wallet_extension_list_desc_svm_comaptible")});break}case V:{let _=u(5);n({..._,icon:_.imageUrl,title:s("wallet_extension_sonic_desc_aptos_comaptible")});break}default:break}},[r,a,c]),l};var T=({providerType:r,isAllchain:l=!1})=>{let n=Lo({providerType:r}),{title:c,icon:a,chainName:m}=n,[u,_]=(0,h.useState)(!1),y=(0,vo.useSelector)(b);return h.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:$.wrapper},h.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs,className:$.title},c),l?h.default.createElement(t.Text,{type:t.SIZE.xs},s("wallet_extension_sonic_desc_all_networks")):h.default.createElement(h.default.Fragment,null,h.default.createElement(D,{width:16,height:16,alt:"chain",src:a||S,errorImg:S,pictureClassName:$.chainIcon}),h.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:$.switchNetwork,onClick:()=>_(!0)},h.default.createElement(t.Text,{size:t.SIZE.xs},m),h.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${$.arrow}`,size:A.SIZE.xxs}))),h.default.createElement(Fe,{visible:u,providerType:r,onClose:()=>_(!1),origin:y?.origin,onBeforeNetworkChange:()=>U().recordChainIdHandler({method:Ge})},h.default.createElement(Fe.Header,{title:s("wallet_extension_title_switch_network"),subTitle:r===P?s("wallet_extension_evm_desc"):s("wallet_extension_aptos_toast_manually_switch_network",{network:m})})))},Ro=({chainName:r})=>h.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs,className:$.tip},s("wallet_extension_sonic_toast_manually_switch_network",{network:r}));T.Tip=Ro;e();o();var oe=f(g());w();e();o();var ue={lineItem:"_lineItem_1bqk8_1",chainIcon:"_chainIcon_1bqk8_4"};var fe=({showImage:r=!0,info:l})=>oe.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:ue.lineItem},oe.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs,className:ue.title},s("wallet_extension_card_dropdown_available_network",{network:""})),r&&oe.default.createElement(D,{width:16,height:16,alt:"chain",src:l.image||S,errorImg:S,pictureClassName:ue.chainIcon}),oe.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:ue.switchNetwork},oe.default.createElement(t.Text,{size:t.SIZE.xs},l.chainName||"")));e();o();var Do={headerTip:"_headerTip_tbl1j_1"};var Bo=({isAllchain:r,isCurrentDappConnect:l})=>{let n=Ne(),c=(0,bo.useSelector)(b),{provider:a}=Ce({dappUrl:c?.origin}),m=Ie[a],u=Z({localType:m}),_=()=>p.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs,className:Do.headerTip},s("wallet_extension_dapp_subtitle_switch_btc_ton"));if(!l)return p.default.createElement(p.default.Fragment,null,_(),n?.account[ie]&&p.default.createElement(T,{providerType:P}),n?.account[se]&&p.default.createElement(p.default.Fragment,null,p.default.createElement(T,{providerType:F}),p.default.createElement(T,{providerType:M})),n?.account[ae]&&p.default.createElement(T,{providerType:V}),n?.account[k]&&p.default.createElement(H,{localType:k}),n?.account[L]&&p.default.createElement(H,{localType:L}));if(r)return p.default.createElement(p.default.Fragment,null,_(),n?.account[ie]&&p.default.createElement(T,{providerType:P,isAllchain:r}),n?.account[se]&&p.default.createElement(p.default.Fragment,null,p.default.createElement(T,{providerType:F}),p.default.createElement(T,{providerType:M})),n?.account[ae]&&p.default.createElement(T,{providerType:V}),n?.account[k]&&p.default.createElement(H,{localType:k}),n?.account[L]&&p.default.createElement(H,{localType:L}));switch(a){case P:case be["okx6963-provider"]:case be["ethereum-provider"]:return p.default.createElement(T,{providerType:P});case F:case Ye:return p.default.createElement(p.default.Fragment,null,p.default.createElement(T.Tip,{chainName:u?.chainName}),p.default.createElement(T,{providerType:F}));case M:return p.default.createElement(p.default.Fragment,null,p.default.createElement(T.Tip,{chainName:s("wallet_extension_approval_subtitle_placeholder_svm")}),p.default.createElement(T,{providerType:M}));case V:case je:return p.default.createElement(p.default.Fragment,null,p.default.createElement(T.Tip,{chainName:u?.chainName}),p.default.createElement(T,{providerType:V}));case qe:case $e:return p.default.createElement(H,{localType:u?.localType});case Ke:return p.default.createElement(H,{localType:L});case Ze:return p.default.createElement(fe,{info:{chainName:s("wallet_extension_cosmos_text_cosmos_network")},showImage:!1});default:return p.default.createElement(fe,{info:{image:u?.imageUrl,chainName:u?.chainName}})}};e();o();var N=f(g()),Vo=f(z());me();ge();e();o();var Te=f(g());w();me();e();o();var W=f(g());w();e();o();Ko();function Oo(){let r=Qe;return{address:po(r)||"",localType:r}}e();o();var Me={wrapper:"_wrapper_1ujno_1",arrow:"_arrow_1ujno_4"};var Fo=({walletId:r,network:l})=>{let{address:n}=Oo(),[c,a]=W.default.useState(!1),m=l?.coinId;return W.default.createElement(W.default.Fragment,null,W.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:Me.wrapper,onClick:()=>{a(!0)}},W.default.createElement(t.Text,{size:t.SIZE.xs},Q(n)),W.default.createElement(A,{className:`okx-wallet-plugin-select-unfold ${Me.arrow}`,size:A.SIZE.xxs})),W.default.createElement(Oe,{visible:c,onClose:()=>a(!1),coinId:m,walletId:r},W.default.createElement(Oe.Header,{title:s("extension_defi_top_header_title_select_address_type"),subTitle:s("extension_defi_popup_desc_new_address_default")})))};e();o();var Pe={lineItem:"_lineItem_1ljn3_1",chainIcon:"_chainIcon_1ljn3_4",networkTitle:"_networkTitle_1ljn3_7"};var Mo=({chain:r})=>{let l=r?.localType||k,n=we(),c=Z({localType:l});return Te.default.createElement(i.FlexBox,{align:i.ALIGN.center,className:Pe.lineItem},Te.default.createElement(t.Text,{size:t.SIZE.xs,type:t.TYPE.secondary,className:Pe.networkTitle},s("wallet_extension_sonic_header_btc_address")),Te.default.createElement(D,{width:16,height:16,alt:"chain",src:c?.imageUrl||S,errorImg:S,pictureClassName:Pe.chainIcon}),Te.default.createElement(Fo,{walletId:n,network:c}))};var zo=({isAllchain:r,isCurrentDappConnect:l,provider:n})=>{let c=(0,Vo.useSelector)(lo),a=c?.length?c[0]:{},m=Ie[n],u=Z({localType:m});switch(a?.localType){case ie:return N.default.createElement(T,{providerType:P,isAllchain:l?r:!1});case k:return N.default.createElement(Mo,{chain:u});case se:return N.default.createElement(N.default.Fragment,null,N.default.createElement(T.Tip,{chainName:a?.chainName}),N.default.createElement(T,{providerType:F}),N.default.createElement(T,{providerType:M}));case ae:return N.default.createElement(N.default.Fragment,null,N.default.createElement(T.Tip,{chainName:a?.chainName}),N.default.createElement(T,{providerType:V}));case L:return N.default.createElement(H,{localType:L});default:return N.default.createElement(fe,{info:{image:a?.image,chainName:a?.chainName}})}};e();o();var ye={main:"_main_80cch_1",connectedItem:"_connectedItem_80cch_4",chainIcon:"_chainIcon_80cch_7",lineItem:"_lineItem_80cch_10",tooltip:"_tooltip_80cch_13",tipIcon:"_tipIcon_80cch_16",networkTitle:"_networkTitle_80cch_21"};var Go=({activeTab:r,removeAccount:l,domain:n})=>{let c=(0,Le.useSelector)(X),a=(0,Le.useSelector)(he),m=Ne(a),{method:u,provider:_}=Ce({dappUrl:r?.origin}),y=(0,I.useMemo)(()=>m?.keyringIdentityType===eo.PRIVATE_KEY,[m]),C=(0,I.useMemo)(()=>Boolean((c||[]).find(x=>x.origin===r?.origin)),[c,r]),j=(0,Le.useSelector)(ao),K=(0,I.useMemo)(()=>j[r?.origin]?.isOkx,[j,r]),J=Io({provider:_,method:u})||K;return I.default.createElement(i.Box,{className:ye.main},I.default.createElement(i.FlexBox,{align:i.ALIGN.center},I.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs},s("wallet_extension_header_subtitle_current_dapp")),I.default.createElement(xe,{title:s("wallet_extension_toast_tooltip_adjust_retry"),trigger:xe.TRIGGER_TYPES.hover,placement:xe.DIRECTION.bottom,className:ye.tooltip},I.default.createElement(He,{className:`okds-question-mark-circle-fill ${ye.tipIcon}`}))),I.default.createElement(Se,{className:ye.connectedItem,customIcon:I.default.createElement(Ue,{alt:"connected",src:r?.icon||"/static/images/default-img.svg",errorImg:io,className:"connect-site-page__origin-icon"}),name:n,disconnect:()=>l(r?.origin),showDisconnect:C}),y?I.default.createElement(zo,{isAllchain:J,isCurrentDappConnect:C,provider:_}):I.default.createElement(Bo,{isAllchain:J,isCurrentDappConnect:C}),I.default.createElement(ko,{origin:r?.origin}))};e();o();var E=f(g()),ve=f(z());e();o();var Ve=f(g());w();e();o();var Ho={main:"_main_ntvor_1"};var et=({connectedDomains:r,onDisconnect:l,domainHostCount:n})=>{let c=m=>l(m.origin),a=m=>m.extensionId?s("wallet_dapp_conncetion_subtitle_external_extension"):n[m.host]>1?m.origin:oo(m.origin);return Ve.default.createElement("main",{className:Ho.main},r.map(m=>Ve.default.createElement(Se,{key:m.origin,icon:m.icon,name:a(m),disconnect:()=>c(m)})))},Wo=et;w();e();o();var Uo={chainIcon:"_chainIcon_rikh8_1",lineItem:"_lineItem_rikh8_4",connectedText:"_connectedText_rikh8_7"};var ot=({loading:r,emptyText:l,onRemoveAccount:n,onRemoveAllAccount:c,children:a})=>{let m=(0,ve.useSelector)(b),u=(0,ve.useSelector)(mo),_=(0,ve.useSelector)(X),y=(0,E.useMemo)(()=>(_||[]).filter(C=>C.origin!==m?.origin),[_,m]);return E.default.createElement(E.default.Fragment,null,a,!!a&&!!y.length&&E.default.createElement(so,null),!!y.length&&E.default.createElement(i.Box,null,E.default.createElement(i.FlexBox,{align:i.ALIGN.center},E.default.createElement(t.Text,{type:t.TYPE.secondary,size:t.SIZE.xs,className:Uo.connectedText},s("wallet_extension_header_subtitle_connected_dapp"))),E.default.createElement(Wo,{domainHostCount:u,connectedDomains:y,onDisconnect:n})),!!_.length&&E.default.createElement(co.FooterActions,null,E.default.createElement(re,{block:!0,loading:r,size:re.SIZE.lg,type:re.TYPE.highlight,category:re.CATEGORY.fill,onClick:c},s("wallet_extension_withdraw_btn_disconnected"))),!a&&!_.length&&!y.length&&l)},Zo=ot;var tt=({loading:r,onRemoveAccount:l,onRemoveAllAccount:n})=>{let c=(0,Yo.useSelector)(b),a=c?.origin&&c?.origin.replace(/^https?:\/\//iu,"");return ze.default.createElement(Zo,{loading:r,onRemoveAccount:l,onRemoveAllAccount:n},ze.default.createElement(Go,{activeTab:c,removeAccount:l,domain:a}))},jo=tt;var qo=jo;e();o();var rt=()=>{let r=(0,te.useSelector)(X),l=(0,te.useSelector)(he),n=(0,te.useDispatch)(),[c,a]=(0,B.useState)(!1),m=(0,te.useSelector)(b),{removeSilencePermission:u,silencePermissions:_}=ke({origin:m?.origin}),{setDisconnectUpgrade:y,isNeedShowDisconnectUpgrade:C}=ho(),j=(0,B.useCallback)(()=>{C&&(ne.success({title:s("wallet_extension_card_subtitle_disconnect_update")}),y())},[C,y]),K=async x=>{await wo(x),await U().clearCookie(x),await U().removePermittedAllAccount(x),j(),_.length>0&&u(x),await to(n)},J=()=>{a(!0);try{Promise.all(r.map(O=>(_.length>0&&u(O.origin),U().clearCookie(O.origin)))).catch(()=>{});let x=r.map(async O=>n(no(O.origin,l)));Promise.all([...x,No(l)]).then(()=>{a(!1),j()}).catch(()=>{a(!1)})}catch{a(!1)}};return B.default.createElement("div",{className:"connect-site-page__wrapper"},B.default.createElement(uo,{title:s("wallet_home_dapp_connection_btn_connect"),closeable:!1}),B.default.createElement(qo,{loading:c,onRemoveAccount:K,onRemoveAllAccount:J}))},ba=(0,B.memo)(rt);export{ba as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=DAppNetworkManage-UFZ6LZML.js.map
