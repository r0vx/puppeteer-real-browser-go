import{a as Rt,b as qt}from"./chunk-CFQQ6KCO.js";import{a as Ut}from"./chunk-RJKDWLZS.js";import{a as Ot}from"./chunk-BVRLWTY5.js";import{a as X}from"./chunk-7QDSLHV2.js";import"./chunk-ZIGLMPS5.js";import{a as St}from"./chunk-VR7OPIR6.js";import{a as At}from"./chunk-U2J2FWCD.js";import{a as Ft}from"./chunk-PIQKWFMY.js";import{a as Pt}from"./chunk-WPAZ67JY.js";import{a as Y,b,c as Tt,e as ht}from"./chunk-636UWIUZ.js";import"./chunk-LTLRDXME.js";import"./chunk-RMI6BAM3.js";import{a as Lt,e as Dt}from"./chunk-5A3RJQCM.js";import"./chunk-MWPAA6TC.js";import"./chunk-73HPZW2B.js";import"./chunk-LQBCLW7R.js";import"./chunk-MKDQBVRZ.js";import{a as xt}from"./chunk-PD44C7EF.js";import"./chunk-CBHKW7LL.js";import{b as L}from"./chunk-QYDRYMWS.js";import"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3L7K7.js";import{a as Mt}from"./chunk-Y5K5NJ6U.js";import{a as vt}from"./chunk-Q7FGM7BT.js";import{b as g}from"./chunk-TKE74ERX.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import{Ga as at,Z as It,_ as O,a as Et}from"./chunk-QMENNGDH.js";import{a as U}from"./chunk-KANXVZ35.js";import{r as f}from"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import{o as ue}from"./chunk-XP3TNE3R.js";import{jc as bt}from"./chunk-QRHYK2TW.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import{a as j}from"./chunk-532YJKK4.js";import{j as Ct,p as fe}from"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import{c as kt,e as de}from"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-2FDQIA7D.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import{e as gt}from"./chunk-YCFHPQAJ.js";import"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import{c as N}from"./chunk-62ZAND24.js";import{a as Q}from"./chunk-SIITVWZR.js";import"./chunk-QHXUL3YM.js";import{H as S,y as l}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{O as G,q as st,x as V,y as Nt}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{aa as yt,fa as it,ka as B}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as h}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as c,o as t,q as e}from"./chunk-SHG7TIBL.js";t();e();var s=c(h()),oe=c(bt()),re=c(j()),ne=c(ue());S();de();fe();t();e();var P=c(h());var Ht=c(j());t();e();var R={tabs:"_tabs_8vwgq_1","tabs-container":"_tabs-container_8vwgq_5",tabsContainer:"_tabs-container_8vwgq_5","panel-list":"_panel-list_8vwgq_10",panelList:"_panel-list_8vwgq_10",right:"_right_8vwgq_19",left:"_left_8vwgq_22"};var Kt=({currentTab:o,onTabChange:r,tabsConfig:m})=>{let n=(0,Ht.useHistory)(),a=(0,P.useCallback)(i=>{r(i),n.replace(`${It}?tab=${String(i)}`)},[n]);return P.default.createElement(P.default.Fragment,null,P.default.createElement(G,{className:R.tabsContainer,headerClassName:R.tabs,panelListClassName:R.panelList,activeId:o,size:G.SIZE.xl,color:G.COLOR.grey,paneSpacing:24,noPadding:!0,noLine:!0,onChange:a,navLeftClassName:R.left,navRightClassName:R.right},m.map(i=>{let{title:d,id:w}=i;return P.default.createElement(G.TabPane,{tab:d,key:w,id:w},i.contentComponent)})))};t();e();var A=c(h()),Zt=c(bt()),Vt=c(j()),Yt=c(Q());S();t();e();var x=c(h()),Bt=c(Q());S();t();e();var q={"option-item":"_option-item_ecfdy_1",optionItem:"_option-item_ecfdy_1","option-icon":"_option-icon_ecfdy_5",optionIcon:"_option-icon_ecfdy_5",option:"_option_ecfdy_1","option-text":"_option-text_ecfdy_17",optionText:"_option-text_ecfdy_17","more-icon":"_more-icon_ecfdy_24",moreIcon:"_more-icon_ecfdy_24"};var we=({onViewDetail:o,onDelete:r})=>{let m=(0,x.useMemo)(()=>[{icon:"okx-wallet-plugin-edit-wallet",label:l("extension_wallet_network_text_check_details"),value:"detail",action:o},{icon:"okx-wallet-plugin-trash",label:l("extension_wallet_network_text_remove_network"),value:"delete",action:r}],[o,r]),n=()=>x.default.createElement(g.IconButton,{icon:"okx-wallet-plugin-more",className:q.moreIcon}),a=({option:d})=>{let w=d;return x.default.createElement("div",{className:q.option},x.default.createElement(g,{className:(0,Bt.default)(w.icon,q.optionIcon)}),x.default.createElement("span",{className:q.optionText},w.label))},i=(0,x.useCallback)(d=>{d.preventDefault(),d.stopPropagation()},[]);return x.default.createElement("div",{onClick:i},x.default.createElement(V,{options:m,align:V.DIRECTION.right,optionAlign:V.DIRECTION.left,displayArea:n,renderOption:a,onChange:d=>{d?.action()},optionItemClassName:q.optionItem}))},Gt=we;t();e();var E=c(h()),$t=c(Q());S();t();e();var k=c(h()),zt=c(Q());t();e();var z={root:"_root_1lmgy_1",title__wrap:"_title__wrap_1lmgy_4",titleWrap:"_title__wrap_1lmgy_4",desc__wrap:"_desc__wrap_1lmgy_9",descWrap:"_desc__wrap_1lmgy_9",checkIcon:"_checkIcon_1lmgy_12"};var ye=({icon:o,name:r,rpcUrl:m,children:n,keyword:a,className:i,onClick:d,id:w,...T})=>{let D=X(),M=w===D,C=(0,k.useMemo)(()=>{if(o&&k.default.isValidElement(o))return o;let p={size:g.SIZE.lg};return o&&typeof o=="string"?{src:o,type:g.TYPE.image,defaultIcon:gt,...p}:o&&typeof o=="object"?{...p,...o}:r&&typeof r=="string"?{text:r,type:g.TYPE.text,textTheme:g.TEXT_THEME.black,...p}:!1},[o,r]);return k.default.createElement(Lt,{icon:C,className:(0,zt.default)(z["wallet-list-token"],i),onClick:d,keyword:a,...T},k.default.createElement(N.FlexBox,{style:{flex:1,overflow:"hidden"},direction:N.DIRECTION.vertical},k.default.createElement(N.FlexBox,{align:N.ALIGN.center,className:z.title__wrap},k.default.createElement(f.HighlightKeyword,{strong:!0,text:r,keyword:a,ellipsis:{tooltip:!0}})),!!m&&k.default.createElement(N.FlexBox,{align:N.ALIGN.center,className:z.desc__wrap},k.default.createElement(f.Text,{strong:!0,ellipsis:{tooltip:!0},size:f.SIZE.xs,type:f.TYPE.secondary},m))),M&&k.default.createElement(g,{icon:"okds-success-circle-fill",className:z.checkIcon}),n)},Wt=k.default.memo(ye);t();e();var J={root:"_root_1dyrv_1","empty-container":"_empty-container_1dyrv_4",emptyContainer:"_empty-container_1dyrv_4","list-container":"_list-container_1dyrv_7",listContainer:"_list-container_1dyrv_7","search-mode":"_search-mode_1dyrv_11",searchMode:"_search-mode_1dyrv_11"};var v=({listData:o,keywords:r,onSelect:m,emptyText:n,renderCustomItem:a,isRpcMode:i,children:d,listContainerClassName:w,searchMode:T=!1})=>{let D=(0,E.useRef)(null),M=(0,E.useCallback)(p=>{let{chainName:K,icon:$,rpcUrl:ot,id:rt}=p||{};return E.default.createElement(Wt,{id:p.id,name:K,icon:rt===""?{size:"32px",fontSize:"32px",icon:$,type:"icon",text:K}:$,rpcUrl:ot,keyword:r,onClick:()=>{m(p,i)}},a?.(p))},[r,m,i,a]),C=(0,E.useCallback)(()=>T?null:E.default.createElement(Nt.State,{className:J.emptyContainer,title:n??l("wallet_extension_cryptodetail_text_nodata_found")}),[n,T]);return E.default.createElement("div",{ref:D,className:(0,$t.default)(J.listContainer,w,{[J.searchMode]:T})},E.default.createElement(Dt,{virtualable:!T,itemKey:"id",searchable:!1,dataSource:o,renderItem:M,renderEmpty:C}),d)};t();e();var lt={"list-container":"_list-container_15bwz_1",listContainer:"_list-container_15bwz_1",unScollListContainer:"_unScollListContainer_15bwz_5"};var tt=({isEVMChainExisted:o,disableScroll:r=!1,...m})=>{let n=(0,Vt.useHistory)(),a=(0,Zt.useDispatch)(),i=X(),d=async()=>{window.location.href.includes("/home.html")||window.location.href.includes("/sidepanel.html")?n.push(O):At(O)},w=async p=>{n.push(`${O}?id=${encodeURIComponent(p.id)}&modify=${Y.CAN}`)},T=Ut(),D=p=>{T({editRpcInfo:{uniqueId:p.id,rpcUrl:p.rpcUrl},onDeleted:()=>{i===p.id&&(a(L("currentNetworkUniqueId","")),a(L("isRpcMode",!1)))}})},M=p=>A.default.createElement(Gt,{onDelete:()=>{D(p)},onViewDetail:()=>{w(p)}}),C=o;return A.default.createElement(A.default.Fragment,null,A.default.createElement(v,{...m,listContainerClassName:(0,Yt.default)({[lt.listContainer]:C,[lt.unScollListContainer]:r}),renderCustomItem:M},C&&A.default.createElement(vt.FooterActions,null,A.default.createElement(B,{block:!0,size:B.SIZE.lg,type:B.TYPE.highlight,category:B.CATEGORY.fill,onClick:d},l("developer_mode_network_maintitle_add_network")))))};t();e();var Qt=c(h());S();t();e();var jt={"search-input":"_search-input_6izyw_1",searchInput:"_search-input_6izyw_1"};var Xt=({onSearch:o,searchKeyword:r})=>Qt.default.createElement(st.Search,{className:jt.searchInput,"data-testid":U.NETWORK_MANAGEMENT_PAGE.NETWORK_SEARCH,placeholder:l("extension_wallet_network_input_search_network"),size:st.SIZE.md,value:r,onChange:m=>{let n=m.target.value;o(n)}});t();e();var ct=c(h());var Jt=c(j());t();e();var mt={"more-icon":"_more-icon_61eiy_1",moreIcon:"_more-icon_61eiy_1","more-icon__core":"_more-icon__core_61eiy_5",moreIconCore:"_more-icon__core_61eiy_5"};var et=o=>{let r=(0,Jt.useHistory)();return ct.default.createElement(v,{...o,renderCustomItem:n=>ct.default.createElement(g.IconButton,{icon:"okx-wallet-plugin-more",className:mt.moreIcon,coreClassName:mt["more-icon__core"],onClick:a=>{a.preventDefault(),a.stopPropagation(),r.push(`${O}?id=${encodeURIComponent(n.id)}&modify=${Y.CANT}`)}})})};t();e();var H=c(h());S();t();e();var te=o=>{let{onClose:r,visible:m,network:n}=o;return m?H.default.createElement(N.Portal,{component:N.Container,className:"net-loading"},H.default.createElement(yt,{onClick:r,className:"okx-wallet-plugin-close net-loading__close"}),H.default.createElement("div",{className:"net-loading__content"},H.default.createElement(it,{size:it.SIZE.xl}),H.default.createElement("div",{className:"net-loading__content-text"},l("developer_mode_mid_loading_connecting",{network:n})))):null};t();e();var u=c(h());S();t();e();var W={"list-title":"_list-title_1nee9_1",listTitle:"_list-title_1nee9_1","search-container":"_search-container_1nee9_6",searchContainer:"_search-container_1nee9_6"};function pt(o){let{mainnetList:r,testnetList:m,customList:n,debouncedKeywords:a,onSelect:i}=o;return u.default.createElement("div",{className:W.searchContainer},r.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:W.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},l("extension_wallet_network_tab_main_network")),u.default.createElement(v,{listData:r,keywords:a,onSelect:i,isRpcMode:!1,searchMode:!0})):null,m.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:W.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},l("developer_mode_network_title_test_network")),u.default.createElement(et,{listData:m,keywords:a,onSelect:i,isRpcMode:!0,searchMode:!0})):null,n.length>0?u.default.createElement(u.default.Fragment,null,u.default.createElement(f.Text,{className:W.listTitle,size:f.SIZE.xs,type:f.TYPE.secondary},l("developer_mode_network_title_editcustom")),u.default.createElement(tt,{isEVMChainExisted:!1,disableScroll:!0,listData:n,keywords:a,onSelect:i,isRpcMode:!0,searchMode:!0})):null)}t();e();var ee={root:"_root_1basx_1","header-gulf":"_header-gulf_1basx_7",headerGulf:"_header-gulf_1basx_7"};var Ne=()=>{let o=(0,re.useHistory)(),r=(0,oe.useDispatch)(),m=St(),n=(0,s.useCallback)(()=>{o.replace(Et)},[o]),[a,i]=(0,s.useState)(b.init),[d,w]=(0,s.useState)({rpcUrl:"",uniqueId:"",name:""}),{rpcNetworks:T}=ht(),{extensionConfig:D,setExtensionConfig:M}=xt("rpc_info"),C=(0,s.useRef)(!1),p=async y=>{i(b.loading),C.current=!1;try{let{rpcUrl:I,uniqueId:nt}=y;await Rt(I),C.current||(await r(L("isRpcMode",!0)),await r(L("currentNetworkUniqueId",nt)),await M(y),i(b.success),o.replace(at))}catch{C.current||i(b.failed)}},[K,$]=(0,s.useState)(""),ot=y=>{$(y)},[rt,ie]=(0,s.useState)(parseInt(m.get("tab")||"0",10)),se=y=>{ie(y)},F=(0,ne.useDebounce)(K,{wait:300}),{resetFilterInfo:ae}=Ft(),{mainnetListForUI:_t,customListForUI:dt,testnetListForUI:ft,isEVMChainExisted:ut}=Ot(F),{isRpcMode:le}=Pt(),me=async y=>{let I=T.find(nt=>nt.uniqueId===y.id);if(le&&Tt(D,I)){o.replace(at);return}I&&(w(I),await p(I))},ce=async y=>{await r(L("isRpcMode",!1)),await r(L("currentNetworkUniqueId",y.id)),ae(!0),n()},pe=async()=>{await kt().clearDappData(),await Ct(r)},Z=async(y,I)=>{await pe(),I?await me(y):await ce(y)},wt=ut?l("wallet_extension_cryptodetail_text_nodata_found"):l("extension_wallet_network_text_unused_testnet"),_e=[{title:s.default.createElement("div",{"data-testid":`${U.NETWORK_MANAGEMENT_PAGE.CHAIN_TABS}-extension_wallet_network_tab_main_network`},l("extension_wallet_network_tab_main_network")),id:0,contentComponent:s.default.createElement(v,{listData:_t,keywords:F,onSelect:Z,isRpcMode:!1})},{title:s.default.createElement("div",{"data-testid":`${U.NETWORK_MANAGEMENT_PAGE.CHAIN_TABS}-developer_mode_network_title_test_network`},l("developer_mode_network_title_test_network")),id:1,contentComponent:s.default.createElement(et,{listData:ft,keywords:F,onSelect:Z,emptyText:wt,isRpcMode:!0})},{title:s.default.createElement("div",{"data-testid":`${U.NETWORK_MANAGEMENT_PAGE.CHAIN_TABS}-developer_mode_network_title_editcustom`},l("developer_mode_network_title_editcustom")),id:2,contentComponent:s.default.createElement(tt,{isEVMChainExisted:ut,emptyText:wt,listData:dt,keywords:F,onSelect:Z,isRpcMode:!0})}];return s.default.createElement(N.Container,{className:ee.root},s.default.createElement(Mt,{title:l("wallet_extension_top_maintitle_select_network"),onBack:n,closeable:!1}),s.default.createElement(Xt,{onSearch:ot,searchKeyword:K}),F?s.default.createElement(pt,{mainnetList:_t,testnetList:ft,customList:dt,debouncedKeywords:F,onSelect:Z}):s.default.createElement(Kt,{currentTab:rt,onTabChange:se,tabsConfig:_e}),s.default.createElement(qt,{visible:a===b.failed,onRetry:async()=>{await p(d)},onChangeNet:()=>{i(b.init)}}),s.default.createElement(te,{visible:a===b.loading,network:d?.name,onClose:()=>{i(b.init),C.current=!0}}))},In=Ne;export{Ne as NetworkManagement,In as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=NetworkManagement-SUQ3Q6ZB.js.map
