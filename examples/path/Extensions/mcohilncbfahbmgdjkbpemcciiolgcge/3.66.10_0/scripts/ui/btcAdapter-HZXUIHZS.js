import{a as b,b as w,c as T}from"./chunk-BUFBDWTM.js";import"./chunk-POY76BOX.js";import"./chunk-FOTDJN5Q.js";import"./chunk-ISXIP6MC.js";import{b as f}from"./chunk-NDFYN4CL.js";import"./chunk-G7NNFMT4.js";import"./chunk-XZE3L7K7.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import"./chunk-AS4Z3FNS.js";import{a as u,u as y}from"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import"./chunk-62ZAND24.js";import"./chunk-SIITVWZR.js";import{$a as h,ib as R}from"./chunk-QHXUL3YM.js";import"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-Z3JMRMVO.js";import{N as n,ra as K}from"./chunk-CYTB2B6Q.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-SUANL2KV.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as H,o as p,q as l}from"./chunk-SHG7TIBL.js";p();l();var W=H(b());K();R();var v=W.default.HardwareWebSdk,a=class extends T{async signTransaction(e,r){if(!n(r.memo)&&!n(r.memoPos))throw Error(y);return new Promise((E,t)=>{(async()=>{let{address:i}=r,{onekeyInfo:s}=e,c;try{c=await this.initOneKey({onekeyInfo:s,onUiCancel(){t(new Error(u))}})}catch(o){return t(this.handleErrors(o))}let g=f(i,e?.accountsMap||e?.addressType),{path:d}=g,k=r.inputs.map(o=>({...o,address:i,nonWitnessUtxo:o.rawTransaction,derivationPath:d})),{oneKeyBuildBtcTx:B}=await h(),M=B({...r,inputs:k,derivationPath:d}),{success:S,payload:m}=await v.btcSignTransaction(s?.connectId,c,M);if(w.closeModal(),S){let{serializedTx:o}=m;return E(o)}return t(this.handleErrors(m))})()})}},I=new a;export{I as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=btcAdapter-HZXUIHZS.js.map
