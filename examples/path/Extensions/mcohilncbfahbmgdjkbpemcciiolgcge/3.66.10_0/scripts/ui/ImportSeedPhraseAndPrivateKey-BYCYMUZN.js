import{a as be,b as Le}from"./chunk-YQ5FMCKJ.js";import{b as Ut}from"./chunk-UBIBVQQG.js";import{a as yt}from"./chunk-4XFT4R4M.js";import{a as Yt,b as Pe,c as Me}from"./chunk-4T2OTP66.js";import{a as Lt,b as dt}from"./chunk-3P56MQRB.js";import{f as Ot}from"./chunk-Z475AMKL.js";import"./chunk-PZSN2XKL.js";import"./chunk-6Q4OK5GJ.js";import"./chunk-OAW4CIA6.js";import"./chunk-A267SEFJ.js";import"./chunk-VR7OPIR6.js";import{a as ve}from"./chunk-U2J2FWCD.js";import"./chunk-32XJE5HT.js";import{a as ke}from"./chunk-VVKAQ7K5.js";import{h as Ee,i as Ne,p as xe,q as Ce}from"./chunk-MRHV2NKN.js";import"./chunk-ONWPWBS4.js";import"./chunk-UM2UK5YS.js";import"./chunk-U7FUSLT6.js";import"./chunk-NQAVUB4Q.js";import"./chunk-DA2FCNEZ.js";import"./chunk-TLZRRG7J.js";import"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3L7K7.js";import"./chunk-NS7RQN2C.js";import{d as Ae,e as Se}from"./chunk-7IRBVBKW.js";import"./chunk-OS3ZP336.js";import"./chunk-WJ3PVDDF.js";import"./chunk-SRDHWFY4.js";import{a as bt}from"./chunk-OVC6PVQJ.js";import"./chunk-7IJVOYMR.js";import"./chunk-BO5YOOQA.js";import{c as he,d as we}from"./chunk-QTKQMZ5K.js";import{a as Mt}from"./chunk-Y5K5NJ6U.js";import"./chunk-UR7XESQE.js";import"./chunk-JABAEAEN.js";import"./chunk-VY2VK2OT.js";import{a as tt}from"./chunk-Q7FGM7BT.js";import{b as U}from"./chunk-TKE74ERX.js";import"./chunk-MONRGJFN.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import"./chunk-IK72BO4I.js";import{H as Te,_a as ye,a as At,fa as St,ob as kt}from"./chunk-QMENNGDH.js";import{a as Pt}from"./chunk-KANXVZ35.js";import{r as L}from"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import{o as ge}from"./chunk-XP3TNE3R.js";import{Xb as fe,d as le,jc as vt}from"./chunk-QRHYK2TW.js";import"./chunk-PODZSVO7.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import"./chunk-532YJKK4.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import{m as xt,n as Ct,r as _e}from"./chunk-ZDOH3CEJ.js";import{c as It,e as de}from"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import{ma as ue}from"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import{a as Ie,c as W}from"./chunk-62ZAND24.js";import{a as Xe}from"./chunk-SIITVWZR.js";import{Ac as me,B as te,I as Ge,Pd as qe,Xa as se,Yd as rt,Za as ne,db as ie,gc as Ht,ib as ae,ja as ee,ka as je,od as Re,oe as pe,pd as ce}from"./chunk-QHXUL3YM.js";import{H as it,y as s,z as Qt}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{H as at,O as lt,p as Nt,q as $t,x as Ft}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import{a as re}from"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import{r as ut,ra as zt}from"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{aa as oe,ka as C}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as ot}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as v,o as a,q as l}from"./chunk-SHG7TIBL.js";a();l();var G=v(ot()),Ve=v(vt());it();a();l();var T=v(ot()),Bt=v(vt()),ht=v(ge());zt();it();_e();Re();de();a();l();var O=v(ot()),Oe=v(vt());it();qe();a();l();function Zt({visible:t,setVisible:o,confirm:u,chooseNetworkList:h,supportChainsList:c,setChooseNetWorkList:N}){let f=(0,Oe.useSelector)(fe),[d,M]=(0,O.useState)(!1),$=(0,O.useMemo)(()=>c.map(i=>i.chainName),[c]),H=(0,O.useMemo)(()=>c.filter(i=>!(Lt.includes(i.chainName)||dt.includes(i.chainName))).map(i=>({...f.find(w=>w.baseChain===i.chainName),imported:i.imported})),[f,c]),b=(0,O.useMemo)(()=>Me.map(({chain:i,...I})=>$.includes(i)?{chain:i,config:I,allChains:f.filter(w=>i===ce&&dt.includes(w.baseChain)?!0:w.baseChain===i),imported:c.find(w=>w.chainName===i)?.imported}:null),[f,c]);return t?O.default.createElement("div",{className:"chains-choose-network-modal__wrap"},O.default.createElement(Mt,{title:s("wallet_transfer_multichain_coin_maintitle_select_network"),className:"chains-choose-network-modal__navigator",onBack:()=>o(),closeable:!1}),O.default.createElement("div",{className:"chains-choose-network-modal__chains-list__wrap"},O.default.createElement("div",{className:"chains-choose-network-modal__chains-list__container"},b.map(i=>{if(!i)return null;let{chain:I,imported:w,allChains:y,config:D}=i,{titleKey:V,remindKey:F,networkCountKey:X,importPrivateKeyConfig:{supportNetworksKey:A}}=D;return O.default.createElement(Yt,{imported:w,selected:h.includes(I),handleClick:()=>{w||N(I)}},O.default.createElement(Pe,{titleKey:V,remindKey:F,networkCountKey:X,descriptionKey:A,chainsList:y,imported:w}))}),H.map(i=>O.default.createElement(Yt,{key:i.chainName,selected:h.includes(i.baseChain),handleClick:()=>{i.imported||N(i.baseChain)},...i}))),O.default.createElement("div",{className:"chains-choose-network-modal__confirm-button-wrap"},O.default.createElement(C,{block:!0,loading:d,category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:async i=>{try{M(!0),i.preventDefault(),i.stopPropagation(),await u(),M(!1)}catch{M(!1)}},className:"chains-choose-network-modal__confirm-button"},s("wallet_set_password_btn_confirm"))))):null}a();l();var ft={root:"_root_o5han_1",title:"_title_o5han_4",input:"_input_o5han_7",link:"_link_o5han_12",bulk:"_bulk_o5han_18"};var Be=t=>{let{history:o}=t,u=(0,Bt.useDispatch)(),h=(0,Bt.useSelector)(le),[c,N]=(0,T.useState)(!1),[f,d]=(0,T.useState)(""),[M,$]=(0,T.useState)(""),[H,b]=(0,T.useState)(!1),[i,I]=(0,T.useState)(!1),[w,y]=(0,T.useState)(!1),[D,V]=(0,T.useState)([]),[F,X]=(0,T.useState)([]),{handleCloudResetError:A}=bt();(0,ht.useMount)(()=>{N(o.location.pathname===St)}),(0,ht.useUnmount)(()=>{b(!1),d(""),$(""),I(!1)});let et=n=>{y(!!n)},j=n=>{V([n])},st=async n=>{let{keyringName:g="",walletName:z=""}=n||{},J=`${g}-${z}`;o.push({pathname:`${Te}/key`,state:{walletName:J,anim:"1",next:At}})},R=(0,ht.useMemoizedFn)(async()=>{let n="",g=!0;f&&!await Le(f,h)&&(g=!1,n=s("wallet_import_errortip_wrong_private_key")),b(!1),V([]),$(n),I(g)},[f]),nt=ut(R,200),p=async n=>{b(!0),d(n),$(""),I(!1),await nt()},r=async n=>{if(n?.preventDefault(),!i)return;yt();let z=(await be(f,h))?.filter(K=>K!==me),J=[];for(let K=0,Tt=z.length;K<Tt;K++){let Q=z[K],pt=[Q];Q===Ht&&(pt=[...pt,...dt]),J.push(It().checkPrivateKeyIsImported({baseChains:pt,wallets:[{privateKey:f}]}))}let ct=(await Promise.allSettled(J)).map((K,Tt)=>{let{value:Q}=K;return Q===void 0&&(Q=!0),{chainName:z[Tt],imported:Q}}),wt=ct.filter(({imported:K})=>!K).map(({chainName:K})=>K),gt=Lt.find(K=>wt.includes(K))||wt[0];gt?(V([gt]),X(ct),et(!0)):at.error({title:s("wallet_extension_imported_toast_wallet_existes"),top:0}),yt()},m=async()=>{if(!i)return;let n;try{let g=D;g.includes(Ht)&&(g=[...g,...dt]),c?n=await u(we({privateKey:f,baseChains:g})):(await u(Ne(f)),await u(xe(g))),c?st(n):o.push(`${kt}?from=${Ot.KEY}`)}catch(g){g.message===xt&&at.error(s("wallet_home_toast_network_error")),g.message===Ct&&(at.error(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})),$(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3}))),A(g)}},x=s("wallet_import_subtitle_import_private_key_desc");return T.default.createElement(T.default.Fragment,null,T.default.createElement(W.Container,{className:ft.root},T.default.createElement("form",{onSubmit:r},T.default.createElement(L.Text,{size:L.SIZE.sm,className:ft.title},s("wallet_addwallet_btn_import_private_key")),T.default.createElement(Se,{elementName:"ipk"},T.default.createElement($t.TextArea,{inputClassName:ft.input,value:f,type:"password",size:$t.SIZE.lg,placeholder:x,onChange:n=>p(n.target.value),onPressEnter:r,errorType:"blur",error:M,autoComplete:"off",cleanable:!0})),!w&&T.default.createElement(tt.FooterActions,{usePortal:!0,direction:Ie.vertical},T.default.createElement(L.Text,{size:L.SIZE.sm,align:L.ALIGN.center,className:ft.link,onClick:()=>{ve(ye)}},s("wallet_extension_private_key_maintitle_bulk_import"),T.default.createElement(oe,{className:`okds-arrow-pointer-right-md ${ft.bulk}`})),T.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:!i,loading:H,onClick:r,block:!0},s("wallet_set_password_btn_confirm"))))),T.default.createElement(Zt,{visible:w,chooseNetworkList:D,supportChainsList:F,setVisible:et,setChooseNetWorkList:j,confirm:m}))};a();l();var E=v(ot()),Ye=v(vt()),Kt=v(ge()),Ue=v(ke());zt();it();de();ae();pe();_e();a();l();ae();pe();re();a();l();re();function Vt(t,o){switch(t){case 501:return`m/44'/501'/${o}'/0'`;case 637:return`m/44'/637'/${o}'/0'/0'`;case 118:return`m/44'/118'/0'/0/${o}`;case 1001:case 1011:case 2892:case 3178:return`m/44'/60'/0'/0/${o}`;case 1003:return`m/44'/394'/0'/0/${o}`;case 1006:return`m/44'/459'/0'/0/${o}`;case 1008:return`m/44'/529'/0'/0/${o}`;case 1010:return`m/44'/330'/0'/0/${o}`;case 784:return`m/44'/784'/${o}'/0'/0'`;case 804:return`m/44'/60'/0'/0/${o}`;case 9004:return`m/44'/9004'/0'/0/${o}`;case 1815:return`m/1852'/1815'/${o}'/0/0`;case 1237:return`m/44'/1237'/${o}'/0/0`;case 111111:return`m/44'/111111'/0'/0/${o}`;case 397:return`m/44'/397'/${o}'`;case 607:return`m/44'/607'/${o}'`;case 70000074:return`m/44'/314159'/${o}'`;default:return`m/44'/${t}'/0'/0/${o}`}}async function De(t=""){try{let{wallet:o}=await ne(607);return await o.validateMnemonicOfTon({mnemonicArray:t.split(" "),password:""})}catch{return!1}}async function Ke(t){let o=[{type:rt.HD_KEYRING,address:"",hdPath:Vt(607,0)},{type:rt.TON_HD_KEYRING,address:"",hdPath:""}],{getNewAddress:u,getDerivedPrivateKey:h}=await se();return Promise.all(o.map(async c=>{let N=await h(607,{mnemonic:t,hdPath:c.hdPath}),{address:f}=await u(607,{privateKey:N});return c.address=f,c}))}a();l();var e=v(ot()),jt=v(ke()),Rt=v(Xe());zt();it();je();a();l();var Dt=v(ot());function Gt(t,o=[]){let u=(0,Dt.useRef)(!1);(0,Dt.useEffect)(()=>{if(u.current)return t();u.current=!0},o)}Ge();a();l();var We={topWrapper:"_topWrapper_c7vcn_1"};a();l();var Qe=({onWordsChange:t,onAnyWordError:o,onEditStateChange:u,onClear:h,error:c})=>{let[N,f]=(0,e.useState)("12"),[d,M]=(0,e.useState)(new Array(12).fill(null)),[$,H]=(0,e.useState)(!1),[b,i]=(0,e.useState)(-1),[I,w]=(0,e.useState)(!1),y=(0,e.useRef)(new Array(12).fill(null)),D=({text:r})=>e.default.createElement("div",{className:"mnemonic-words-menu-item"},r),V=(0,e.useMemo)(()=>[{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_12word",{length:"12"})}),value:"12"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_15word",{length:"15"})}),value:"15"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_18word",{length:"18"})}),value:"18"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_21word",{length:"21"})}),value:"21"},{label:e.default.createElement(D,{text:s("wallet_extension_import_seedphrase_dropdown_text_24word",{length:"24"})}),value:"24"}],[s]),[F,X]=(0,e.useState)(!1),A=(0,e.useMemo)(()=>ut(r=>{X(r)},300),[]),et=(0,e.useCallback)(({value:r})=>{f(r),H(!0);let m=parseInt(r,10);if(m===d.length)return;let x=[...d],n=x.length;n<m?(x.length=m,y.current.length=m,x.fill(null,n,m),y.current.fill(!1,n,m)):(y.current.length=m,x.length=m),M(x),t&&t(x)},[d,t]),j=(0,e.useCallback)((r,m)=>{M(x=>{x[m]=r;let n=[...x];return t&&t(n),n}),w(!1)},[t]),st=(0,e.useCallback)((r,m)=>{let n=(r.trim().toLowerCase().match(/\w+/gu)?.join(" ")||"").split(/\s/u);if(n.length===0)return;if($===!1&&d.every(z=>!z)&&[12,15,18,21,24].includes(n.length)){f(`${n.length}`),M(n),t&&t(n);return}let g=[...d];for(let z=0;z<n.length;z++){let J=m+z;if(J>=g.length)break;g[J]=n[z]}M(g),t&&t(g)},[t,d]),R=(0,e.useCallback)((r,m)=>{y.current[m]||(y.current[m]={}),y.current[m].error=r;let x=y.current.filter(n=>n&&n.error===!0).length;o&&o(x>0)},[o]),nt=(0,e.useCallback)((r,m)=>{y.current[m]||(y.current[m]={}),y.current[m].focus=r;let x=y.current.filter(n=>n&&n.focus===!0).length>0;A(x),i(m)},[A]);Gt(()=>{u&&u(F)},[F,u]);let p=()=>{let r=d.map(()=>null);M(r),t&&t(r),h&&h(),w(!0)};return e.default.createElement("div",{className:"mnemonic-words-inputs"},e.default.createElement(W.FlexBox,{className:We.topWrapper,align:W.ALIGN.center,justify:"space-between"},e.default.createElement("span",{className:"mnemonic-words-inputs__length-type__text"},Qt("wallet_extension_import_seed_phrase_dropdown_text_ihave2",{words:e.default.createElement(Ft,{align:Ft.DIRECTION.right,isPcShowCheck:!0,options:V,onChange:et,value:N,optionContClassName:"mnemonic-words-inputs__length-type-dropdown-list",optionItemClassName:"mnemonic-words-inputs__length-type-item"})})),d.some(r=>r)&&e.default.createElement("div",{className:"mnemonic-words-inputs__clear"},e.default.createElement("div",{className:"mnemonic-words-inputs__clear-button",onClick:p},e.default.createElement("span",null,s("wallet_extension_import_seed_phrase_button_clear"))))),e.default.createElement("div",{className:"mnemonic-words-inputs__container"},d.map((r,m)=>e.default.createElement(to,{key:m,word:d[m]?d[m]:"",onWordChange:j,onFocusChange:nt,onPaste:st,onValidate:R,index:m,focusIndex:b,cleared:I}))),c&&e.default.createElement("span",{className:"mnemonic-words-inputs__error"},c))},to=({index:t,onWordChange:o,onPaste:u,word:h,onValidate:c,onFocusChange:N,focusIndex:f,cleared:d})=>{let[M,$]=(0,e.useState)(!1),[H,b]=(0,e.useState)(!0),[i,I]=(0,e.useState)(!1),[w,y]=(0,e.useState)(""),D=(0,e.useCallback)(p=>{let r=p.target.value;if(ee()===te&&r.includes(" ")){u(r,t),b(!0),N(!1,t);return}let m=(r||"").trim().toLowerCase();o(m,t),y(m)},[t,o]),V=(0,e.useCallback)(p=>{p.preventDefault(),p.stopPropagation();let r=p.clipboardData.getData("text");u(r,t),b(!0),N(!1,t)},[t,u]),F=(0,e.useCallback)(p=>{let r=Boolean(p)&&!jt.wordlists.english.includes(p);$(r),c&&c(r,t)},[t,c]),X=(0,e.useCallback)(()=>{b(!0),N(!1,t)},[t,N]);Gt(()=>{H&&F(h)},[h,H,F]);let A=(0,e.useMemo)(()=>{if(!w)return[];let p=w.replace(/[^a-zA-Z]/gm,"");if(!p)return[];let r=jt.wordlists.english.filter(m=>new RegExp(`^${p}`).test(m));return r.length===1&&r[0]===p?[]:(r.length>6&&(r.length=6),r)},[w]),et=(0,e.useCallback)(()=>{b(!1),I(!0),N(!0,t),c&&c(!1,t)},[t,N,c]),j=p=>{D({target:{value:p}}),I(!1),$(!1),c&&c(!1,t),b(!0),N(!1,t),setTimeout(()=>{let r=document.querySelectorAll(".mnemonic-words-inputs__container__input");r[t+1]&&r[t+1].focus()})},st=(0,e.useCallback)(({key:p})=>{p==="Enter"&&A.length===1&&j(A[0])},[A]),R=(0,e.useRef)(null),nt=H&&h&&!M;return(0,e.useEffect)(()=>{function p(r){R.current&&!R.current.contains(r.target)&&I(!1)}return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[R]),(0,e.useEffect)(()=>{f!==t&&(I(!1),F(h))},[f,t]),(0,e.useEffect)(()=>{F(h)},[d]),e.default.createElement("div",{className:"mnemonic-words-inputs__container__input-item"},e.default.createElement("div",{className:"mnemonic-words-inputs__container__input-index"},t+1),e.default.createElement(Nt,{className:"mnemonic-words-inputs__container__input-popup",arrowSize:Nt.SIZE.lg,arrowStyle:{backgroundColor:"var(--okd-color-background-base-primary)"},gutter:"8px",disabled:A.length===0,content:e.default.createElement("div",{ref:R,className:(0,Rt.default)("mnemonic-words-inputs__container__candidate",{"columns-3":A.length>=3,"columns-2":A.length===2,"columns-1":A.length===1})},A.map(p=>e.default.createElement("div",{key:p,className:"mnemonic-words-inputs__container__candidate-word",onClick:()=>j(p)},p))),show:i,placement:Nt.DIRECTION.bottom,smartMode:!0,modifiers:[{name:"preventOverflow",options:{padding:16}}]},e.default.createElement(Ae,{elementName:"m"},e.default.createElement("input",{className:(0,Rt.default)("mnemonic-words-inputs__container__input",{"mnemonic-words-inputs__container__input-error":M}),value:h,onBlur:X,onFocus:et,onPaste:V,onChange:D,onKeyDown:st,autoComplete:"off",type:nt?"password":"text","data-testId":Pt.IMPORT_SEED_PHRASE_OR_PRIVATE_KEY_PAGE.SEED_PHRASE_INPUT}))))},ze=Qe;a();l();var Z=v(ot());it();a();l();var q={root:"_root_1337z_1",fixBox:"_fixBox_1337z_4",closeBox:"_closeBox_1337z_8",textBox:"_textBox_1337z_13",iconBox:"_iconBox_1337z_21",icon:"_icon_1337z_21",tonTitle:"_tonTitle_1337z_30",text:"_text_1337z_13"};var eo=({onClose:t=()=>{},onConfirm:o=()=>{},isImporting:u=!1})=>Z.default.createElement(W.Portal,{className:q.root},Z.default.createElement(tt.FooterActions,{className:q.fixBox},Z.default.createElement("div",{className:q.closeBox},Z.default.createElement(U,{size:U.SIZE.xl,icon:"okx-wallet-plugin-close",className:q.icon,onClick:t})),Z.default.createElement(W.Box,{className:q.textBox},Z.default.createElement("div",{className:q.iconBox},Z.default.createElement(U,{size:U.SIZE.xxl,icon:"okx-wallet-plugin-warning-circle",className:q.icon})),Z.default.createElement(L.Text,{warp:!0,strong:!0,size:L.SIZE.lg,className:q.tonTitle},s("wallet_extension_import_title_being_imported")),Z.default.createElement(L.Text,{warp:!0,strong:!0,size:L.SIZE.sm,className:q.text},s("wallet_extension_import_subtitle_being_imported")),Z.default.createElement(tt.FooterActions,null,Z.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,onClick:o,block:!0,loading:u},s("commonall_text_btn_ok_passive")))))),$e=eo;a();l();var k=v(ot());it();a();l();var B={root:"_root_1rxd9_1",fixBox:"_fixBox_1rxd9_4",closeBox:"_closeBox_1rxd9_9",textBox:"_textBox_1rxd9_14",iconBox:"_iconBox_1rxd9_23",icon:"_icon_1rxd9_23",tonTitle:"_tonTitle_1rxd9_32",text:"_text_1rxd9_14",switchItem:"_switchItem_1rxd9_43",address:"_address_1rxd9_50",addressTitle:"_addressTitle_1rxd9_55",tonAddress:"_tonAddress_1rxd9_59"};var oo=({item:t})=>{let{address:o,tonTitle:u,onClick:h,iconLink:c}=t;return k.default.createElement("div",{className:B.switchItem,onClick:()=>{h&&h(t)}},k.default.createElement("div",{className:B.iconTps},k.default.createElement(U,{size:U.SIZE.lg,icon:c,className:B.icon})),k.default.createElement("div",{className:B.address},k.default.createElement("span",{className:B.addressTitle},u),k.default.createElement("div",null,s("wallet_extension_ton_select_ton_address")),k.default.createElement("span",{className:B.tonAddress},o)),k.default.createElement("div",{className:B.iconArrow},k.default.createElement(U,{size:U.SIZE.lg,icon:"okx-wallet-plugin-right",className:B.icon})))},ro=({onClose:t=()=>{},addressList:o=[]})=>k.default.createElement(W.Portal,{className:B.root},k.default.createElement(tt.FooterActions,{className:B.fixBox},k.default.createElement("div",{className:B.closeBox},k.default.createElement(U,{size:U.SIZE.xl,icon:"okx-wallet-plugin-close",className:B.icon,onClick:t})),k.default.createElement(W.Box,{className:B.textBox},k.default.createElement(L.Text,{warp:!0,strong:!0,size:L.SIZE.lg,className:B.tonTitle},s("wallet_extension_ton_title_input_address")),k.default.createElement(L.Text,{warp:!0,strong:!0,size:L.SIZE.sm,className:B.text},s("wallet_extension_ton_desc_input_address")),o.map(u=>k.default.createElement(oo,{item:u}))))),Fe=ro;a();l();var He={root:"_root_v31gt_1"};var Ze=t=>{let{history:o}=t,u=(0,Ye.useDispatch)(),[h,c]=(0,E.useState)(!1),[N,f]=(0,E.useState)(!1),[d,M]=(0,E.useState)([]),[$,H]=(0,E.useState)(!1),[b,i]=(0,E.useState)(""),[I,w]=(0,E.useState)(!1),[y,D]=(0,E.useState)(!1),[V,F]=(0,E.useState)(!1),[X,A]=(0,E.useState)(!1),[et,j]=(0,E.useState)(!1),[st,R]=(0,E.useState)([]),[nt,p]=(0,E.useState)(!1),{handleCloudResetError:r}=bt();(0,Kt.useMount)(()=>{f(o.location.pathname===St)});let m=()=>{o.replace(At)},x=(0,Kt.useMemoizedFn)(async()=>{let _=d.length>0,S=!1;for(let _t=0;_t<d.length;_t++){let Jt=d[_t];(!Jt||!Ue.wordlists.english.includes(Jt))&&(_=!1)}let Y=!1,Et=!1;if(_){let{ethers:_t}=await ie();_=_t.Mnemonic.isValidMnemonic(d.join(" ")),d.length===ue.TWENTYFOUR&&(Y=await De(d.join(" ")),_&&!Y||!_&&Y?_=!0:_&&Y?(Et=!0,_=!0):_=!1),y||(S=!_)}return y&&(S=!1),H(_),F(S),{isValid:_,isTonMnemonic:Y,isMnemonicNormalAndTon:Et}},[d,y]),n=ut(x,500),g=async _=>{M(_),i(""),await n()},z=_=>{w(_)},J=_=>{D(_),x()},Xt=()=>I?s("wallet_import_wallet_errortip_seed_phase_wrong"):V?s("wallet_import_wallet_errortip_seed_phase_order_wrong"):b||"",ct=async({isTonMnemonic:_})=>{let S=d.join(" ");try{N?await u(he({mnemonic:S,isTonMnemonic:_})):await u(Ee(S)),N?m():o.push(`${kt}?from=${Ot.SEED}`)}catch(Y){Y.message===xt&&at.error(s("wallet_home_toast_network_error")),Y.message===Ct&&(at.error(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3})),i(s("extension_wallet_addwallet_toast_wallets_added",{amount:1e3}))),Y.message===Ut&&i(s("wallet_import_private_key_errortip_wallet_repeat",{amount:1e3})),r(Y)}finally{c(!1)}yt()},wt=async()=>{try{p(!0),await u(Ce(!0)),await ct({isTonMnemonic:!0}),A(!1)}finally{p(!1)}},gt=async _=>{_.type===rt.HD_KEYRING&&await ct({isTonMnemonic:!1}),_.type===rt.TON_HD_KEYRING&&await wt(),j(!1)},K=async()=>{let _=await Ke(d.join(" "));R(_.map(S=>(S.type===rt.HD_KEYRING&&(S.tonTitle=s("wallet_extension_ton_select_multi_chain_wallet"),S.iconLink="okx-wallet-plugin-ton-seedphrase",S.onClick=gt),S.type===rt.TON_HD_KEYRING&&(S.tonTitle=s("wallet_extension_ton_select_ton_wallet"),S.iconLink="okx-wallet-plugin-ton-wallet",S.onClick=gt),S))),j(!0)},Tt=async()=>{try{if(N)await It().checkMnemonicIsImported({mnemonic:d.join(" ")});else return!0}catch(_){return _.message===Ut&&i(s("wallet_import_private_key_errortip_wallet_repeat",{amount:1e3})),c(!1),!1}return!0},Q=async _=>{_?.preventDefault(),c(!0);let{isValid:S,isTonMnemonic:Y,isMnemonicNormalAndTon:Et}=await x();if(!(!S||!await Tt())){if(Et){K();return}if(Y){A(!0);return}await ct({isTonMnemonic:!1})}},pt=Xt();return E.default.createElement(W.Box,{className:He.root},E.default.createElement("form",{onSubmit:Q},E.default.createElement(ze,{onEditStateChange:J,onAnyWordError:z,onWordsChange:g,onClear:()=>{H(!1)},error:pt}),E.default.createElement(tt.FooterActions,{usePortal:!0},E.default.createElement(C,{htmlType:"submit",category:C.CATEGORY.fill,type:C.TYPE.highlight,size:C.SIZE.lg,disabled:!$||pt,loading:h,onClick:Q,"data-testid":Pt.IMPORT_SEED_PHRASE_OR_PRIVATE_KEY_PAGE.CONFIRM_BUTTON,block:!0},s("wallet_set_password_btn_confirm"))),X&&E.default.createElement($e,{isImporting:nt,onClose:()=>{A(!1),c(!1)},onConfirm:wt}),et&&E.default.createElement(Fe,{onClose:()=>{j(!1),c(!1)},addressList:st})))};a();l();var Wt={connect:"_connect_1lqck_1",tabs:"_tabs_1lqck_4","tabs-header":"_tabs-header_1lqck_7",tabsHeader:"_tabs-header_1lqck_7"};var qt=class extends G.PureComponent{render(){return this.props?G.default.createElement(W.Container,null,G.default.createElement(Mt,{title:s("wallet_extension_import_card_title_import"),closeable:!1,stickyStyle:{zIndex:10}}),G.default.createElement("div",{className:Wt.connect},G.default.createElement(lt,{type:lt.TYPE.segmented,average:!0,destroyOnHide:!0,className:Wt.tabs,headerClassName:Wt.tabsHeader,size:lt.SIZE.sm,color:lt.COLOR.grey},G.default.createElement(lt.TabPane,{id:"1",tab:s("wallet_extension_import_tab_seed_phrase")},G.default.createElement(Ze,{...this.props})),G.default.createElement(lt.TabPane,{id:"2",tab:s("wallet_extension_import_tab_private_key")},G.default.createElement(Be,{...this.props}))))):null}},pn=(0,Ve.connect)(null,null)(qt);export{pn as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ImportSeedPhraseAndPrivateKey-BYCYMUZN.js.map
