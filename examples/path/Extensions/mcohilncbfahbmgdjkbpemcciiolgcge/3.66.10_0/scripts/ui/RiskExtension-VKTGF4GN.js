import{a as I0,b as k0,d as E0,e as w0}from"./chunk-TOW2TSDP.js";import{a as y0}from"./chunk-Y5K5NJ6U.js";import{a as v0}from"./chunk-Q7FGM7BT.js";import"./chunk-TKE74ERX.js";import"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import{r as z}from"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import{o as h0}from"./chunk-XP3TNE3R.js";import"./chunk-QRHYK2TW.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import{a as rx}from"./chunk-532YJKK4.js";import"./chunk-M6J3OOFH.js";import{s as b0,u as ex}from"./chunk-ZDOH3CEJ.js";import{c as i0,e as tx}from"./chunk-AS4Z3FNS.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import{d as g0}from"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import"./chunk-62ZAND24.js";import"./chunk-SIITVWZR.js";import{Aa as n0,Ba as _0,Ca as w,Da as I,Ea as a0,Fa as xx,e as s0,f as H0,n as f0,s as J0,sa as d0,ta as X0,ua as W,va as u0,wa as p0,xa as Q0,ya as m0,za as $0}from"./chunk-QHXUL3YM.js";import{H as r0,j as c0,k as l0,y}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{K as M,P as O,e as K}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{ka as b}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as B}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-2EEW2VNF.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as R,o as d,q as u}from"./chunk-SHG7TIBL.js";d();u();var L=R(B()),F0=R(rx());r0();d();u();var D0=R(B()),U0=R(h0());d();u();var N=R(B()),F=R(h0());tx();d();u();d();u();X0();d();u();u0();Q0();$0();var S0=A;function V(){var i=["sent","is already","24hpAaWn","data","call","10303890zsrMol","5EErVAn","264fbJDDl","[wallet_se","351594UiNlGY","label","/dis/emc","ayload","value","next","2689792MOxnmw","15652251gYEiTC","ops","post","11SjYaFg","done","331394OaEAbj","__generato","trys","function","push","__awaiter","pop","plugin","length","quest_erro","create","50845470wrLlTu","apiBaseUrl","return","throw","prototype"," executing","511729VumTok"];return V=function(){return i},V()}(function(i,o){for(var r=A,t=i();[];)try{var a=-parseInt(r(468))/1+-parseInt(r(471))/2*(parseInt(r(439))/3)+parseInt(r(445))/4*(-parseInt(r(436))/5)+-parseInt(r(474))/6+-parseInt(r(451))/7*(parseInt(r(437))/8)+parseInt(r(446))/9+parseInt(r(462))/10*(parseInt(r(449))/11);if(a===o)break;t.push(t.shift())}catch{t.push(t.shift())}})(V,841838+126058+189*-76);var nx=function(i,o,r,t){function a(x){return x instanceof r?x:new r(function(n){n(x)})}return new(r||(r=Promise))(function(x,n){var f=A;function l(s){var p=A;try{e(t[p(444)](s))}catch(v){n(v)}}function c(s){try{e(t.throw(s))}catch(p){n(p)}}function e(s){var p=A;s[p(450)]?x(s[p(443)]):a(s[p(443)]).then(l,c)}e((t=t.apply(i,o||[]))[f(444)]())})},ax=function(i,o){var r=S0,t={label:0,sent:function(){if(n[-1*4073+3634+439]&2367+23*-34+-1584)throw n[6721*1+-6389+331*-1];return n[-8287*-1+-5113*-1+13399*-1]},trys:[],ops:[]},a,x,n,f=Object[r(461)]((typeof Iterator===r(454)?Iterator:Object)[r(466)]);return f[r(444)]=l(124*71+2*3195+-15194),f[r(465)]=l(-6488+-6064+12553*1),f[r(464)]=l(4*-1542+-3*-2802+-2236),typeof Symbol===r(454)&&(f[Symbol.iterator]=function(){return this}),f;function l(e){return function(s){return c([e,s])}}function c(e){var s=r;if(a)throw new TypeError("Generator "+s(470)+s(467)+".");for(;f&&(f=-6447+227*-6+-137*-57,e[-5*1921+-5723+15328]&&(t=-7791+8347*1+-556)),t;)try{if(a=1*-3254+-1964+5219,x&&(n=e[6065+-25*350+2685]&-4121+-875+4998?x[s(464)]:e[-920+9977*1+3019*-3]?x[s(465)]||((n=x[s(464)])&&n.call(x),-309*26+-5194+6614*2):x[s(444)])&&!(n=n[s(473)](x,e[21*136+2476*-2+-1*-2097])).done)return n;switch(x=-727*2+1*3101+549*-3,n&&(e=[e[1467*4+-1*3206+-2662]&-4456+-8193+12651,n[s(443)]]),e[3*-2151+8*-89+1*7165]){case-8749+-4650+13399:case 2*-1795+-318*-19+-2451:n=e;break;case 9332+5617+-14945:return t[s(440)]++,{value:e[3009*2+1080+-7097],done:![]};case 3674*-2+-5*-1209+1308:t.label++,x=e[-1664+-5079+-6*-1124],e=[1514+-166*19+1640];continue;case-425*1+2394+109*-18:e=t.ops.pop(),t[s(453)][s(457)]();continue;default:if(n=t.trys,!(n=n[s(459)]>-1*-735+1978+-2713&&n[n[s(459)]-(-9*17+916*3+-2594)])&&(e[732+-1003+1*271]===-2563*2+-39*1+5171||e[615*-6+-9358+-8*-1631]===-101*98+1*-2338+2*6119)){t=3806+-1789*2+-228;continue}if(e[6533+9127+-15660]===-2892+-1*7444+-10339*-1&&(!n||e[372*-10+5895+-2174]>n[-3866+6204+-2338]&&e[-7193+6047+-1*-1147]<n[2092+7741+-4915*2])){t[s(440)]=e[-1760+-7759+9520];break}if(e[242*-37+1817*1+7137]===2661+-5214+2559&&t[s(440)]<n[2113+-4*1228+40*70]){t[s(440)]=n[-6666+3971+2696],n=e;break}if(n&&t.label<n[-2969+4557+13*-122]){t[s(440)]=n[-391*5+5061+32*-97],t[s(447)].push(e);break}n[-6918+954+-314*-19]&&t.ops.pop(),t[s(453)][s(457)]();continue}e=o[s(473)](i,t)}catch(p){e=[-6791+814+-31*-193,p],x=1*-8293+-69*-71+3394}finally{a=n=1*7713+-5175+-1269*2}if(e[-2584+-7954+958*11]&-1538*5+13*89+7*934)throw e[2126+2452*-3+-5231*-1];return{value:e[-219*-22+-6456+1638]?e[-6715+7639+1*-923]:void(-6500+-3703+10203),done:!![]}}},ix="/priapi/v1"+S0(441);function A(i,o){var r=V();return A=function(t,a){t=t-(517+-1754+-239*-7);var x=r[t];return x},A(i,o)}function T0(i){return nx(this,arguments,void(8861+29*156+-13385),function(o){var r=A,t,a,x,n=o["encryptedP"+r(442)],f=o[r(463)];return ax(this,function(l){var c=r;switch(l[c(440)]){case 1*2402+-976+-23*62:return l[c(453)][c(455)]([-947+-2501*-2+-4055,9737+-511+9224*-1,,3*2689+-5*-716+-71*164]),t={st:n.timestamp,et:n[c(472)],pm:m0[c(458)]},[2*2026+-3*-1519+1*-8605,p0[c(448)]("".concat(f).concat(ix),t)];case-5775+-1*7693+13469:return a=l[c(469)]()[c(472)],[-9401+-2309*2+14021*1,a];case-2*3117+9011+1*-2775:throw x=l[c(469)](),W.info(c(438)+"curity][re"+c(460)+"r]",{error:x}),x;case 1*5555+-9e3+862*4:return[227*-23+1247*-1+6470]}})})}u0();d();u();(function(i,o){for(var r=H,t=i();[];)try{var a=parseInt(r(259))/1*(-parseInt(r(255))/2)+parseInt(r(269))/3+-parseInt(r(260))/4+parseInt(r(253))/5+parseInt(r(261))/6+parseInt(r(254))/7*(-parseInt(r(264))/8)+parseInt(r(256))/9;if(a===o)break;t.push(t.shift())}catch{t.push(t.shift())}})(J,-72479+-265894*1+1*503779);function H(i,o){var r=J();return H=function(t,a){t=t-(1*9663+-1697+-7713);var x=r[t];return x},H(i,o)}function J(){var i=["ot be null","message"," or undefi","330924BqvHqd","e failed","83280pDLLVR","7byQXfC","628AkgVzY","2037420KnKnEe","deobfuscat","utf-8","126sGGuik","360644oNxTGR","708654EEoEeu","ned","Input cann","1410576gCRKBp","length"];return J=function(){return i},J()}function P0(i){var o=H;if(i==null)throw new Error(o(263)+o(266)+o(268)+o(262));try{for(var r=atob(i),t=r[o(265)],a=new Uint8Array(t),x=-8035*1+7*977+1196*1;x<t;x++)a[x]=r.charCodeAt(x);for(var n=t%(-3287*-1+-7917+-1*-4886),x=-6068+6753+-685;x<t;x++)a[x]^=x*n%(19*362+13*-173+-4373);for(var x=2063+2659*2+-7381;x<t-(-1008+269*5+-336);x++)a[x]^=a[x+(1*8467+2079+-185*57)];for(var x=58*51+-5*1139+161*17;x<t;x++)a[x]^=x%(852+-5477+4881*1);return new TextDecoder(o(258)).decode(a)}catch(f){throw new Error(f[o(267)]||o(257)+o(270))}}d();u();xx();function X(){var i=["updateUrl","iterator","forEach","hostPermis","from","function","homepageUr","prototype","extensions","slice","version","concat","permission","done","1535400UgZdlF","name","descriptio","push","__read","call","bled","2096912xPmnLM","mayDisable","apply","__spreadAr","744407sEiqcy","value","type","offlineEna","3851350LSVWlO","isApp","error","sions","4VKrhnK","optionsUrl","1479741yZgMYu","18QjOqxJ","deviceId","length","ray","floor","1063293aMKIJB","27923463zZYGMo","enabled","return"];return X=function(){return i},X()}var o0=Q;function Q(i,o){var r=X();return Q=function(t,a){t=t-(-7641+3479+-3*-1489);var x=r[t];return x},Q(i,o)}(function(i,o){for(var r=Q,t=i();[];)try{var a=parseInt(r(327))/1+parseInt(r(316))/2+-parseInt(r(337))/3*(-parseInt(r(335))/4)+parseInt(r(331))/5+-parseInt(r(338))/6*(-parseInt(r(343))/7)+parseInt(r(323))/8+-parseInt(r(344))/9;if(a===o)break;t.push(t.shift())}catch{t.push(t.shift())}})(X,64673*6+-175*-4010+-698960);var m=function(i,o){var r=o0,t=typeof Symbol===r(307)&&i[Symbol[r(348)]];if(!t)return i;var a=t[r(321)](i),x,n=[],f;try{for(;(o===void(-4354*1+5292+-469*2)||o-- >1772+1044+-2816)&&!(x=a.next())[r(315)];)n.push(x[r(328)])}catch(l){f={error:l}}finally{try{x&&!x[r(315)]&&(t=a[r(346)])&&t.call(a)}finally{if(f)throw f[r(333)]}}return n},_=function(i,o,r){var t=o0;if(r||arguments.length===-4434+-9196+13632)for(var a=5910+12*391+-10602,x=o.length,n;a<x;a++)(n||!(a in o))&&(n||(n=Array.prototype[t(311)].call(o,-138*-13+1*2590+-4384,a)),n[a]=o[a]);return i[t(313)](n||Array[t(309)][t(311)].call(o))};function R0(i){var o=o0,r=Date.now(),t=_(_([],m(_0(-9985+-2937+12922)),![]),m(w(Math[o(342)](r/(-3867*1+2467*-4+14735)))),![]),a=i[o(310)],x=[];a[o(349)](function(c){var e=o,s=I(""[e(313)](c[e(318)+"n"],"u8"));x[e(319)][e(325)](x,_([],m(s),![]));var p=w(c[e(345)]?8865+-1066*4+25*-184:3491+-6355+-2864*-1);x[e(319)][e(325)](x,_([],m(p),![]));var v=I(""[e(313)](c[e(308)+"l"],"n1"));x[e(319)].apply(x,_([],m(v),![]));var P=a0(c[e(305)+e(334)]);x[e(319)][e(325)](x,_([],m(P),![]));var e0=I("".concat(c.id,"k5"));x[e(319)][e(325)](x,_([],m(e0),![]));var E=I(""[e(313)](c["installType"],"z7"));x[e(319)][e(325)](x,_([],m(E),![]));var q=w(c[e(332)]?-4529+9930+-5400:9182+-6450+-2732);x[e(319)][e(325)](x,_([],m(q),![]));var j=w(c[e(324)]?-4682*2+57+9308:470*15+-9511+1*2461);x[e(319)][e(325)](x,_([],m(j),![]));var G=I(""[e(313)](c[e(317)],"j0"));x.push.apply(x,_([],m(G),![]));var Z=w(c[e(330)+e(322)]?-723+2*3217+-5710:8735+-8085+1*-650);x[e(319)][e(325)](x,_([],m(Z),![]));var t0=I(""[e(313)](c[e(336)],"c4"));x[e(319)][e(325)](x,_([],m(t0),![]));var Y0=a0(c[e(314)+"s"]);x.push.apply(x,_([],m(Y0),![]));var j0=I(""[e(313)](c.shortName,"n6"));x[e(319)][e(325)](x,_([],m(j0),![]));var Z0=I(""[e(313)](c[e(329)],"o5"));x[e(319)][e(325)](x,_([],m(Z0),![]));var W0=I("".concat(c[e(347)],"p3"));x[e(319)][e(325)](x,_([],m(W0),![]));var K0=I(""[e(313)](c[e(312)],"z3"));if(x[e(319)][e(325)](x,_([],m(K0),![])),c.ext!==void 0){var V0=I(""[e(313)](c.ext,"j4"));x[e(319)][e(325)](x,_([],m(V0),![]))}});var n=n0(x,1773*5+6419*-1+-7*313),f=[];f.push[o(325)](f,_([],m(I(""[o(313)](i[o(339)],"l2"))),![])),f.push[o(325)](f,_([],m(w(x.length)),![])),f[o(319)].apply(f,_([],m(w(n)),![])),f[o(319)].apply(f,_([],m(w(a[o(340)])),![]));var l=n0(f,-28*-73+-7476+-1*-5687);return t[o(319)].apply(t,_([],m(w(f.length)),![])),t[o(319)].apply(t,_([],m(w(l)),![])),t[o(319)](35*94+-431+-2855),t[o(319)](-4786*2+8879+63*11,-3392+-2188*1+5580,6137+-2062+-4075,-320+1084*-6+6824,-2301*1+-55*87+7086,-1*3028+-1901*1+4929,-6315+-9327+15642,8776+18*487+7*-2506,-9985+1*-3336+1903*7),t[o(319)][o(325)](t,_([],m(f),![])),t[o(319)][o(325)](t,_([],m(x),![])),Uint8Array[o(306)](t)}var N0=D;function $(){var i=["function","5224688LRiKIh","curity][er","__rest","996597yleDTz","done","[wallet_se","return","prototype","next","indexOf","__awaiter","getOwnProp","__generato","ops","trys","8270mSrTpg","push","apiBaseUrl","erty","Generator ","apply","label","hasOwnProp","1514140vmCoVf","ertySymbol","info","150RMZHcG","pop","propertyIs","is already","126iVuBat","parse","length","Enumerable","140104ThmvUX","create"," executing","ror]","1488npolef","9854oJQNIo","value","throw","iterator","2070474XVzhzP","call"];return $=function(){return i},$()}(function(i,o){for(var r=D,t=i();[];)try{var a=parseInt(r(270))/1*(-parseInt(r(283))/2)+parseInt(r(293))/3+parseInt(r(278))/4+-parseInt(r(259))/5*(parseInt(r(282))/6)+-parseInt(r(287))/7+-parseInt(r(290))/8+-parseInt(r(274))/9*(-parseInt(r(267))/10);if(a===o)break;t.push(t.shift())}catch{t.push(t.shift())}})($,-2341*87+12076+580502);var ox=function(i,o,r,t){function a(x){return x instanceof r?x:new r(function(n){n(x)})}return new(r||(r=Promise))(function(x,n){var f=D;function l(s){try{e(t.next(s))}catch(p){n(p)}}function c(s){try{e(t.throw(s))}catch(p){n(p)}}function e(s){var p=D;s[p(294)]?x(s[p(284)]):a(s[p(284)]).then(l,c)}e((t=t[f(264)](i,o||[]))[f(298)]())})},sx=function(i,o){var r=N0,t={label:0,sent:function(){if(n[-2081*3+1*5441+802]&4289*-1+3054*-1+7344)throw n[-1*-4903+-7309+2407];return n[-1*4767+-2176+6944]},trys:[],ops:[]},a,x,n,f=Object[r(279)]((typeof Iterator===r(289)?Iterator:Object)[r(297)]);return f[r(298)]=l(5*-157+1201*5+87*-60),f[r(285)]=l(1676+-1857+182),f[r(296)]=l(-290*-34+5*-112+-2*4649),typeof Symbol=="function"&&(f[Symbol[r(286)]]=function(){return this}),f;function l(e){return function(s){return c([e,s])}}function c(e){var s=r;if(a)throw new TypeError(s(263)+s(273)+s(280)+".");for(;f&&(f=9333+2*2768+14869*-1,e[19*-89+2*1003+-315]&&(t=-7477*1+9331+103*-18)),t;)try{if(a=-329*2+-57*-109+-5554,x&&(n=e[7448+-6731+717*-1]&44*-81+1116+2*1225?x[s(296)]:e[127*-6+29*130+-3008]?x[s(285)]||((n=x[s(296)])&&n[s(288)](x),-6797+9205+2408*-1):x[s(298)])&&!(n=n[s(288)](x,e[5403+-1759*-4+-12438])).done)return n;switch(x=-1*-521+37*94+3*-1333,n&&(e=[e[-7565+5238+1*2327]&-9453+1555*-4+15675,n[s(284)]]),e[9004+53*-75+5029*-1]){case-5*134+-3*1999+6667:case-2069+-1383*-7+-7611:n=e;break;case 3*-580+-1846*-3+-3794:return t[s(265)]++,{value:e[-4*-1791+230*11+9*-1077],done:![]};case 7861+-39*155+-1811:t.label++,x=e[-6621+1153*-5+-12387*-1],e=[3409+-5828+-59*-41];continue;case-3589+633+1*2963:e=t[s(257)][s(271)](),t[s(258)][s(271)]();continue;default:if(n=t[s(258)],!(n=n[s(276)]>2*4076+6*-1119+-1438&&n[n[s(276)]-(1178+-491*7+10*226)])&&(e[-39*32+3302+1027*-2]===-10*812+-7203+15329||e[-535+6350+-5815]===-1093+21*208+-3273)){t=-1*997+-47*67+6*691;continue}if(e[7750+7835+-15585]===-491*-5+31*118+-6110&&(!n||e[7953+-857*-9+-15665]>n[4535+-4*2074+3761]&&e[638*12+3142+59*-183]<n[-5304+3031*-1+379*22])){t.label=e[-5018+6045+-1*1026];break}if(e[-6831+-56*165+3*5357]===4309+-1*-835+-5138&&t[s(265)]<n[-5896+-1*-2866+3031]){t[s(265)]=n[1842+-4506+41*65],n=e;break}if(n&&t[s(265)]<n[-1*9173+6369+2806*1]){t.label=n[1*3547+-3*2863+4*1261],t[s(257)].push(e);break}n[-1369*7+-4334*-1+59*89]&&t.ops.pop(),t.trys[s(271)]();continue}e=o[s(288)](i,t)}catch(p){e=[1894+-5*-211+-2943,p],x=73*-13+-1619*5+-9044*-1}finally{a=n=-1698+-2215*1+-1*-3913}if(e[-5004+-7270+12274]&-2579*1+6183*1+-3599)throw e[101*33+1*4320+-3826*2];return{value:e[4836*1+-6563*1+1727]?e[-1*-7244+-6458+-1*785]:void(3*-165+-574*-13+6967*-1),done:!![]}}},fx=function(i,o){var r=N0,t={};for(var a in i)Object[r(297)][r(266)+r(262)][r(288)](i,a)&&o[r(299)](a)<-933+4150+-3217&&(t[a]=i[a]);if(i!=null&&typeof Object[r(255)+r(268)+"s"]===r(289))for(var x=1*6065+3338+-9403,a=Object[r(255)+r(268)+"s"](i);x<a[r(276)];x++)o[r(299)](a[x])<-1138*1+1*-8852+9990&&Object[r(297)][r(272)+r(277)][r(288)](i,a[x])&&(t[a[x]]=i[a[x]]);return t};function D(i,o){var r=$();return D=function(t,a){t=t-(-5906+5216*1+945);var x=r[t];return x},D(i,o)}function A0(i){return ox(this,void(-6146+2521*-2+11188),void(-3732+5720+-994*2),function(){var o,r,t,a,x,n,f,l;return sx(this,function(c){var e=D;switch(c[e(265)]){case 20*-179+-47+3627:return c[e(258)][e(260)]([1*-1217+7215+5998*-1,-5015*-1+-89*34+-1*1987,,-4281*2+-1198*5+-355*-41]),o=i.apiBaseUrl,r=fx(i,[e(261)]),t=R0(r),a=d0(t),[3*-2281+200+6647,T0({encryptedPayload:a,apiBaseUrl:o})];case 1*502+199*-25+-1*-4474:return x=c.sent(),n=P0(x),f=JSON[e(275)](n),[8137+4119+-2*6127,f];case 1*-4899+-8817+13718:throw l=c.sent(),W[e(269)](e(295)+e(291)+e(281),{error:l}),l;case 175*9+2165+37*-101:return[-5044+-8959+14005]}})})}H0();J0();ex();var T=i=>i??"",cx=i=>{try{b0("RISK_EXTENSION_DETECT_WALLET_SECURITY_ERROR",{error:i instanceof Error?i.message:String(i)})}catch{}},L0=async i=>{let{devid:o}=await s0.get("devid"),t={extensions:i.map(a=>({description:T(a.description),enabled:a.enabled??!0,homepageUrl:T(a.homepageUrl),hostPermissions:a.hostPermissions??[],id:T(a.id),installType:T(a.installType),isApp:a.isApp??!1,mayDisable:a.mayDisable??!0,name:T(a.name),offlineEnabled:a.offlineEnabled??!1,optionsUrl:T(a.optionsUrl),permissions:a.permissions??[],shortName:T(a.shortName),type:T(a.type),updateUrl:T(a.updateUrl),version:T(a.version),ext:""})),deviceId:o,apiBaseUrl:`https://${f0()}`};try{return await A0(t)??[]}catch(a){throw cx(a),a}};var lx=i=>{let[o,r]=(0,N.useState)(!1),[t,a]=(0,N.useState)(!1),{setRiskExtensionList:x,lastRequestTime:n}=w0(),f=(0,N.useRef)(!1),l=(0,F.useMemoizedFn)(async E=>{f.current=!0,await x(E??[]),r(!0)}),{loading:c,error:e,runAsync:s,data:p}=(0,F.useRequest)(async E=>{let j=(await L0(E)).map(G=>{let Z=E.find(t0=>t0.id===G.id);return{id:G.id,riskInfo:G.riskInfo,name:Z?.name??"",version:Z?.version??""}});return await l(j),j},{manual:!0}),v=(0,F.useMemoizedFn)(async()=>{if(!await i0().checkManagementPermission()||c)return;let q=await i0().getInstalledExtensions();if(q.length===0){await l([]);return}await s(q)}),P=(0,N.useMemo)(()=>new Set((i??[]).map(E=>E.id)),[i]),e0=(p??[]).filter(E=>P.has(E.id));return(0,N.useEffect)(()=>{n>0&&!f.current&&(a(!0),v().catch(()=>{}).finally(()=>{a(!1)}))},[n,v]),{lastRequestTime:n??0,loading:c||t,error:e??null,totalRiskList:e0,loaded:o,requestRiskData:v}},M0=lx;var dx=()=>{let{hasPermission:i,loading:o,requestPermission:r}=E0(),{loading:t,error:a,refresh:x,extensions:n}=I0(i,{listenUninstall:!0,listenInstall:!0});(0,D0.useEffect)(()=>{o||x()},[o,i,x]);let{lastRequestTime:f,loading:l,error:c,totalRiskList:e,requestRiskData:s,loaded:p}=M0(n),v=(0,U0.useMemoizedFn)(async()=>{let P=await r();return P&&await x(),P});return{hasPermission:i,lastRequestTime:f,loadingPermission:o,loadingExtensions:t,loadExtensionsError:a,loadedRiskData:p,loadingRiskData:l,error:c,totalRiskList:e,extensions:n,requestManagementPermission:v,requestRiskData:s,openExtensionSettings:k0,refreshInstalledExtensions:x}},B0=dx;d();u();var S=R(B());r0();d();u();function C0({hasPermission:i,loadingRiskData:o,totalRiskList:r,loadExtensionsError:t,loadedRiskData:a}){return i?o?"scanning":t?"error":r.length>0?"risk":a?"safe":"initial":"needPermission"}d();u();var U={footerGroup:"_footerGroup_1mre1_1",footerBtn:"_footerBtn_1mre1_7"};var ux=({status:i,loadingPermission:o,scan:r,openExtensionSettings:t,requestManagementPermission:a,onFinish:x})=>i==="needPermission"?S.default.createElement("div",{className:U.footerGroup},S.default.createElement(b,{block:!0,onClick:a,type:b.TYPE.primary,size:b.SIZE.lg},y("wallet_extension_bot_dialog_btn_agree_start"))):i==="initial"?S.default.createElement(b,{type:b.TYPE.primary,block:!0,onClick:r,loading:o,className:U.footerBtn,size:b.SIZE.lg},y("wallet_extension_mid_loading_btn_start_scan")):i==="scanning"?null:i==="error"?S.default.createElement("div",{className:U.footerGroup},S.default.createElement(b,{type:b.TYPE.primary,block:!0,onClick:r,className:U.footerBtn,size:b.SIZE.lg},y("wallet_extension_mid_loading_btn_rescan"))):i==="safe"?S.default.createElement("div",{className:U.footerGroup},S.default.createElement(b,{block:!0,onClick:x,type:b.TYPE.primary,size:b.SIZE.lg},y("wallet_extension_complete_btn_done"))):S.default.createElement("div",{className:U.footerGroup},S.default.createElement(b,{block:!0,onClick:r,type:b.TYPE.gray,size:b.SIZE.lg},y("wallet_extension_mid_loading_btn_rescan")),S.default.createElement(b,{block:!0,onClick:t,type:b.TYPE.primary,size:b.SIZE.lg},y("wallet_extension_mid_loading_btn_uninstall"))),G0=ux;d();u();var Y=R(B());d();u();var C={commonImageTag:"_commonImageTag_1upvp_1",commonImage:"_commonImage_1upvp_1",result:"_result_1upvp_8",resultIcon:"_resultIcon_1upvp_14"};var px=()=>{let i=g0({light:"/cdn/assets/imgs/255/6025EA5FB142C202.png",dark:"/cdn/assets/imgs/255/53598BA0D10E702D.png"});return Y.default.createElement(K,{src:i,width:360,className:C.commonImageTag,pictureClassName:C.commonImage})},mx={["scanning"]:M.STATUS.processing,["error"]:M.STATUS.failure,["safe"]:M.STATUS.success,["risk"]:M.STATUS.pending},_x=({status:i})=>{if(i==="initial"||i==="needPermission")return Y.default.createElement(px,null);let o=mx[i];return Y.default.createElement("div",{className:C.result},Y.default.createElement(M,{status:o,size:M.SIZE.lg,className:C.resultIcon,animationProps:{className:C.resultIcon,loop:!1}}))},O0=_x;d();u();var h=R(B());r0();d();u();var k={main:"_main_1dl09_1",mainTitle:"_mainTitle_1dl09_9",subTitle:"_subTitle_1dl09_18",lastTime:"_lastTime_1dl09_27",riskList:"_riskList_1dl09_40",riskItem:"_riskItem_1dl09_46",riskItemMain:"_riskItemMain_1dl09_51",riskItemIcon:"_riskItemIcon_1dl09_57",riskItemHeader:"_riskItemHeader_1dl09_64",riskItemName:"_riskItemName_1dl09_69",riskItemContent:"_riskItemContent_1dl09_78",riskItemTag:"_riskItemTag_1dl09_82"};var bx={["needPermission"]:"wallet_extension_bot_title_authorize_okx",["initial"]:"wallet_extension_mid_loading_title_check_risks",["scanning"]:"wallet_extension_mid_loading_title_scanning",["safe"]:"wallet_extension_mid_loading_title_exp_safe",["risk"]:"wallet_extension_mid_loading_title_exp_risk",["error"]:"wallet_extension_mid_loading_title_scan_fail"},hx={["needPermission"]:"wallet_extension_bot_dialog_subtitle_authorize_okx",["initial"]:"wallet_extension_mid_loading_subtitle_check_risks",["scanning"]:"wallet_extension_mid_loading_subtitle_checking_apps",["safe"]:"wallet_extension_mid_loading_subtitle_exp_safe",["risk"]:"wallet_extension_mid_loading_subtitle_exp_risk",["error"]:"wallet_extension_mid_loading_subtitle_scan_fail"},gx=({status:i,totalRiskList:o,extensions:r,lastRequestTime:t})=>{let a=(0,h.useMemo)(()=>r.reduce((x,n)=>({...x,[n.id]:n}),{}),[r]);return h.default.createElement("div",{className:k.main},h.default.createElement("div",{className:k.mainTitle},y(bx[i])),h.default.createElement("div",{className:k.subTitle},y(hx[i])),i==="initial"&&t>0&&h.default.createElement("div",{className:k.lastTime},y("wallet_extension_mid_loading_tips_last_scan_time",{date:l0.formatDateTime(new Date(t),{format:c0.SimpleDateTime})})),i==="risk"&&h.default.createElement("div",{className:k.riskList},o.map(x=>{let n=a[x.id],f=n?.icons??[],l=f[f.length-1]?.url??"";return h.default.createElement("div",{key:x.id,className:k.riskItem},h.default.createElement("div",{className:k.riskItemIcon},h.default.createElement(K,{src:l,width:44,height:44})),h.default.createElement("div",{className:k.riskItemMain},h.default.createElement("div",{className:k.riskItemHeader},h.default.createElement(z.Text,{className:k.riskItemName,ellipsis:{tooltip:!0}},n?.name),h.default.createElement(O,{category:O.CATEGORY.fill,color:O.COLOR.grey,size:O.SIZE.sm,className:k.riskItemTag},`V${n?.version}`)),h.default.createElement("div",{className:k.riskItemContent},h.default.createElement(z.Text,{ellipsis:{rows:2,tooltip:!0},size:z.SIZE.xs,type:z.TYPE.secondary},x.riskInfo))))})))},z0=gx;d();u();var x0={container:"_container_14n82_1",content:"_content_14n82_6",footer:"_footer_14n82_13"};var vx=()=>{let i=(0,F0.useHistory)(),{hasPermission:o,loadingPermission:r,loadingRiskData:t,totalRiskList:a,requestManagementPermission:x,requestRiskData:n,loadExtensionsError:f,error:l,loadedRiskData:c,openExtensionSettings:e,extensions:s,lastRequestTime:p}=B0(),v=C0({hasPermission:o,loadingRiskData:t,totalRiskList:a,loadedRiskData:c,loadExtensionsError:!!f||!!l}),P=()=>{i.goBack()};return L.default.createElement("div",{className:x0.container},L.default.createElement(y0,{title:y("wallet_extension_top_loading_header_exp_check"),onBack:P}),L.default.createElement("div",{className:x0.content},L.default.createElement(O0,{status:v}),L.default.createElement(z0,{status:v,totalRiskList:a,extensions:s,lastRequestTime:p})),L.default.createElement(v0,{className:x0.footer,usePortal:!0},L.default.createElement(G0,{status:v,loadingPermission:r,scan:n,requestManagementPermission:x,openExtensionSettings:e,onFinish:P})))},pt=vx;export{pt as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=RiskExtension-VKTGF4GN.js.map
