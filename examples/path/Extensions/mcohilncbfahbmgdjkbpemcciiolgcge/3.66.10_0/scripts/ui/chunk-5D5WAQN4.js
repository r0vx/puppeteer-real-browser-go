import{a as bN,b as rT}from"./chunk-ISXIP6MC.js";import{c as tT}from"./chunk-NDFYN4CL.js";import{a as hN}from"./chunk-JRQMCDSC.js";import{a as Wie}from"./chunk-5SVZVIW6.js";import{a as _N}from"./chunk-7N263AYH.js";import{a as Qie}from"./chunk-JPTLCZ2Y.js";import{a as Q5,p as xN,q as eT,r as ou}from"./chunk-VL2YBSHB.js";import{a as vN}from"./chunk-OCAFSBNZ.js";import{c as Ke}from"./chunk-62ZAND24.js";import{a as mN}from"./chunk-SIITVWZR.js";import{Eb as yN,Jb as $ie,Ma as fN,Na as Vie,Qd as Z5,Xa as pN,Xd as Zie,gc as no,ib as Xie,ic as b0,nb as gN,ob as Jie,od as D3}from"./chunk-QHXUL3YM.js";import{H as x0,n as fm,y as Ct}from"./chunk-MOTAOJVG.js";import{E as uN,o as Nl}from"./chunk-XR4SQWL7.js";import{a as Yie}from"./chunk-LMBQGBLO.js";import{H as oN,J as sN,o as aN,ra as O3,y as Dp}from"./chunk-CYTB2B6Q.js";import{a as lN}from"./chunk-RJPAKY6O.js";import{aa as cm,ka as Ba}from"./chunk-6M3PZK2X.js";import{b as oc}from"./chunk-OL67KS7C.js";import{a as dN}from"./chunk-2MNWRWA5.js";import{a as Gie,c as zie,e as cN}from"./chunk-KDUIZVRC.js";import{a as ro}from"./chunk-SUANL2KV.js";import{a as Kie}from"./chunk-32ZJ4F2J.js";import{a as Rp}from"./chunk-NW4HKKTQ.js";import{b as A3,e as kie,f as ac,g as rN,h as jie,k as nN,l as Hie,m as iN}from"./chunk-EBMX24YQ.js";import{a as $5,b as Fie,v as Lie,w as Uie}from"./chunk-3C4MEE67.js";import{d as ua,e as C3}from"./chunk-R4BHRBC7.js";import{b as fe,c as E,d as v0,f as sa,g as m0,h as _0,n as process,o as h,p as v,q as p}from"./chunk-SHG7TIBL.js";var iT=E(nT=>{"use strict";h();p();Object.defineProperty(nT,"__esModule",{value:!0});nT.default=tae;var R3,eae=new Uint8Array(16);function tae(){if(!R3&&(R3=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!R3))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return R3(eae)}});var wN=E(P3=>{"use strict";h();p();Object.defineProperty(P3,"__esModule",{value:!0});P3.default=void 0;var rae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;P3.default=rae});var dm=E(B3=>{"use strict";h();p();Object.defineProperty(B3,"__esModule",{value:!0});B3.default=void 0;var nae=iae(wN());function iae(t){return t&&t.__esModule?t:{default:t}}function aae(t){return typeof t=="string"&&nae.default.test(t)}var oae=aae;B3.default=oae});var hm=E(lm=>{"use strict";h();p();Object.defineProperty(lm,"__esModule",{value:!0});lm.default=void 0;lm.unsafeStringify=EN;var sae=uae(dm());function uae(t){return t&&t.__esModule?t:{default:t}}var In=[];for(let t=0;t<256;++t)In.push((t+256).toString(16).slice(1));function EN(t,e=0){return(In[t[e+0]]+In[t[e+1]]+In[t[e+2]]+In[t[e+3]]+"-"+In[t[e+4]]+In[t[e+5]]+"-"+In[t[e+6]]+In[t[e+7]]+"-"+In[t[e+8]]+In[t[e+9]]+"-"+In[t[e+10]]+In[t[e+11]]+In[t[e+12]]+In[t[e+13]]+In[t[e+14]]+In[t[e+15]]).toLowerCase()}function fae(t,e=0){let r=EN(t,e);if(!(0,sae.default)(r))throw TypeError("Stringified UUID is invalid");return r}var cae=fae;lm.default=cae});var IN=E(M3=>{"use strict";h();p();Object.defineProperty(M3,"__esModule",{value:!0});M3.default=void 0;var dae=hae(iT()),lae=hm();function hae(t){return t&&t.__esModule?t:{default:t}}var SN,aT,oT=0,sT=0;function pae(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let a=t.node||SN,o=t.clockseq!==void 0?t.clockseq:aT;if(a==null||o==null){let g=t.random||(t.rng||dae.default)();a==null&&(a=SN=[g[0]|1,g[1],g[2],g[3],g[4],g[5]]),o==null&&(o=aT=(g[6]<<8|g[7])&16383)}let s=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:sT+1,f=s-oT+(u-sT)/1e4;if(f<0&&t.clockseq===void 0&&(o=o+1&16383),(f<0||s>oT)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");oT=s,sT=u,aT=o,s+=122192928e5;let c=((s&268435455)*1e4+u)%4294967296;i[n++]=c>>>24&255,i[n++]=c>>>16&255,i[n++]=c>>>8&255,i[n++]=c&255;let l=s/4294967296*1e4&268435455;i[n++]=l>>>8&255,i[n++]=l&255,i[n++]=l>>>24&15|16,i[n++]=l>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let g=0;g<6;++g)i[n+g]=a[g];return e||(0,lae.unsafeStringify)(i)}var gae=pae;M3.default=gae});var uT=E(N3=>{"use strict";h();p();Object.defineProperty(N3,"__esModule",{value:!0});N3.default=void 0;var yae=vae(dm());function vae(t){return t&&t.__esModule?t:{default:t}}function mae(t){if(!(0,yae.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var _ae=mae;N3.default=_ae});var fT=E(ql=>{"use strict";h();p();Object.defineProperty(ql,"__esModule",{value:!0});ql.URL=ql.DNS=void 0;ql.default=Sae;var xae=hm(),bae=wae(uT());function wae(t){return t&&t.__esModule?t:{default:t}}function Eae(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var TN="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ql.DNS=TN;var CN="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ql.URL=CN;function Sae(t,e,r){function n(i,a,o,s){var u;if(typeof i=="string"&&(i=Eae(i)),typeof a=="string"&&(a=(0,bae.default)(a)),((u=a)===null||u===void 0?void 0:u.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let f=new Uint8Array(16+i.length);if(f.set(a),f.set(i,a.length),f=r(f),f[6]=f[6]&15|e,f[8]=f[8]&63|128,o){s=s||0;for(let c=0;c<16;++c)o[s+c]=f[c];return o}return(0,xae.unsafeStringify)(f)}try{n.name=t}catch{}return n.DNS=TN,n.URL=CN,n}});var ON=E(F3=>{"use strict";h();p();Object.defineProperty(F3,"__esModule",{value:!0});F3.default=void 0;function Iae(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return Tae(Cae(Aae(t),t.length*8))}function Tae(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let i=0;i<r;i+=8){let a=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function AN(t){return(t+64>>>9<<4)+14+1}function Cae(t,e){t[e>>5]|=128<<e%32,t[AN(e)-1]=e;let r=1732584193,n=-271733879,i=-1732584194,a=271733878;for(let o=0;o<t.length;o+=16){let s=r,u=n,f=i,c=a;r=Qn(r,n,i,a,t[o],7,-680876936),a=Qn(a,r,n,i,t[o+1],12,-389564586),i=Qn(i,a,r,n,t[o+2],17,606105819),n=Qn(n,i,a,r,t[o+3],22,-1044525330),r=Qn(r,n,i,a,t[o+4],7,-176418897),a=Qn(a,r,n,i,t[o+5],12,1200080426),i=Qn(i,a,r,n,t[o+6],17,-1473231341),n=Qn(n,i,a,r,t[o+7],22,-45705983),r=Qn(r,n,i,a,t[o+8],7,1770035416),a=Qn(a,r,n,i,t[o+9],12,-1958414417),i=Qn(i,a,r,n,t[o+10],17,-42063),n=Qn(n,i,a,r,t[o+11],22,-1990404162),r=Qn(r,n,i,a,t[o+12],7,1804603682),a=Qn(a,r,n,i,t[o+13],12,-40341101),i=Qn(i,a,r,n,t[o+14],17,-1502002290),n=Qn(n,i,a,r,t[o+15],22,1236535329),r=ei(r,n,i,a,t[o+1],5,-165796510),a=ei(a,r,n,i,t[o+6],9,-1069501632),i=ei(i,a,r,n,t[o+11],14,643717713),n=ei(n,i,a,r,t[o],20,-373897302),r=ei(r,n,i,a,t[o+5],5,-701558691),a=ei(a,r,n,i,t[o+10],9,38016083),i=ei(i,a,r,n,t[o+15],14,-660478335),n=ei(n,i,a,r,t[o+4],20,-405537848),r=ei(r,n,i,a,t[o+9],5,568446438),a=ei(a,r,n,i,t[o+14],9,-1019803690),i=ei(i,a,r,n,t[o+3],14,-187363961),n=ei(n,i,a,r,t[o+8],20,1163531501),r=ei(r,n,i,a,t[o+13],5,-1444681467),a=ei(a,r,n,i,t[o+2],9,-51403784),i=ei(i,a,r,n,t[o+7],14,1735328473),n=ei(n,i,a,r,t[o+12],20,-1926607734),r=ti(r,n,i,a,t[o+5],4,-378558),a=ti(a,r,n,i,t[o+8],11,-2022574463),i=ti(i,a,r,n,t[o+11],16,1839030562),n=ti(n,i,a,r,t[o+14],23,-35309556),r=ti(r,n,i,a,t[o+1],4,-1530992060),a=ti(a,r,n,i,t[o+4],11,1272893353),i=ti(i,a,r,n,t[o+7],16,-155497632),n=ti(n,i,a,r,t[o+10],23,-1094730640),r=ti(r,n,i,a,t[o+13],4,681279174),a=ti(a,r,n,i,t[o],11,-358537222),i=ti(i,a,r,n,t[o+3],16,-722521979),n=ti(n,i,a,r,t[o+6],23,76029189),r=ti(r,n,i,a,t[o+9],4,-640364487),a=ti(a,r,n,i,t[o+12],11,-421815835),i=ti(i,a,r,n,t[o+15],16,530742520),n=ti(n,i,a,r,t[o+2],23,-995338651),r=ri(r,n,i,a,t[o],6,-198630844),a=ri(a,r,n,i,t[o+7],10,1126891415),i=ri(i,a,r,n,t[o+14],15,-1416354905),n=ri(n,i,a,r,t[o+5],21,-57434055),r=ri(r,n,i,a,t[o+12],6,1700485571),a=ri(a,r,n,i,t[o+3],10,-1894986606),i=ri(i,a,r,n,t[o+10],15,-1051523),n=ri(n,i,a,r,t[o+1],21,-2054922799),r=ri(r,n,i,a,t[o+8],6,1873313359),a=ri(a,r,n,i,t[o+15],10,-30611744),i=ri(i,a,r,n,t[o+6],15,-1560198380),n=ri(n,i,a,r,t[o+13],21,1309151649),r=ri(r,n,i,a,t[o+4],6,-145523070),a=ri(a,r,n,i,t[o+11],10,-1120210379),i=ri(i,a,r,n,t[o+2],15,718787259),n=ri(n,i,a,r,t[o+9],21,-343485551),r=w0(r,s),n=w0(n,u),i=w0(i,f),a=w0(a,c)}return[r,n,i,a]}function Aae(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(AN(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function w0(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function Oae(t,e){return t<<e|t>>>32-e}function q3(t,e,r,n,i,a){return w0(Oae(w0(w0(e,t),w0(n,a)),i),r)}function Qn(t,e,r,n,i,a,o){return q3(e&r|~e&n,t,e,i,a,o)}function ei(t,e,r,n,i,a,o){return q3(e&n|r&~n,t,e,i,a,o)}function ti(t,e,r,n,i,a,o){return q3(e^r^n,t,e,i,a,o)}function ri(t,e,r,n,i,a,o){return q3(r^(e|~n),t,e,i,a,o)}var Dae=Iae;F3.default=Dae});var RN=E(L3=>{"use strict";h();p();Object.defineProperty(L3,"__esModule",{value:!0});L3.default=void 0;var Rae=DN(fT()),Pae=DN(ON());function DN(t){return t&&t.__esModule?t:{default:t}}var Bae=(0,Rae.default)("v3",48,Pae.default),Mae=Bae;L3.default=Mae});var PN=E(U3=>{"use strict";h();p();Object.defineProperty(U3,"__esModule",{value:!0});U3.default=void 0;var Nae=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qae={randomUUID:Nae};U3.default=qae});var NN=E(k3=>{"use strict";h();p();Object.defineProperty(k3,"__esModule",{value:!0});k3.default=void 0;var BN=MN(PN()),Fae=MN(iT()),Lae=hm();function MN(t){return t&&t.__esModule?t:{default:t}}function Uae(t,e,r){if(BN.default.randomUUID&&!e&&!t)return BN.default.randomUUID();t=t||{};let n=t.random||(t.rng||Fae.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return(0,Lae.unsafeStringify)(n)}var kae=Uae;k3.default=kae});var qN=E(j3=>{"use strict";h();p();Object.defineProperty(j3,"__esModule",{value:!0});j3.default=void 0;function jae(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function cT(t,e){return t<<e|t>>>32-e}function Hae(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let o=unescape(encodeURIComponent(t));t=[];for(let s=0;s<o.length;++s)t.push(o.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,i=Math.ceil(n/16),a=new Array(i);for(let o=0;o<i;++o){let s=new Uint32Array(16);for(let u=0;u<16;++u)s[u]=t[o*64+u*4]<<24|t[o*64+u*4+1]<<16|t[o*64+u*4+2]<<8|t[o*64+u*4+3];a[o]=s}a[i-1][14]=(t.length-1)*8/Math.pow(2,32),a[i-1][14]=Math.floor(a[i-1][14]),a[i-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<i;++o){let s=new Uint32Array(80);for(let y=0;y<16;++y)s[y]=a[o][y];for(let y=16;y<80;++y)s[y]=cT(s[y-3]^s[y-8]^s[y-14]^s[y-16],1);let u=r[0],f=r[1],c=r[2],l=r[3],g=r[4];for(let y=0;y<80;++y){let _=Math.floor(y/20),w=cT(u,5)+jae(_,f,c,l)+g+e[_]+s[y]>>>0;g=l,l=c,c=cT(f,30)>>>0,f=u,u=w}r[0]=r[0]+u>>>0,r[1]=r[1]+f>>>0,r[2]=r[2]+c>>>0,r[3]=r[3]+l>>>0,r[4]=r[4]+g>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var Kae=Hae;j3.default=Kae});var LN=E(H3=>{"use strict";h();p();Object.defineProperty(H3,"__esModule",{value:!0});H3.default=void 0;var Vae=FN(fT()),Gae=FN(qN());function FN(t){return t&&t.__esModule?t:{default:t}}var zae=(0,Vae.default)("v5",80,Gae.default),Yae=zae;H3.default=Yae});var UN=E(K3=>{"use strict";h();p();Object.defineProperty(K3,"__esModule",{value:!0});K3.default=void 0;var Wae="00000000-0000-0000-0000-000000000000";K3.default=Wae});var kN=E(V3=>{"use strict";h();p();Object.defineProperty(V3,"__esModule",{value:!0});V3.default=void 0;var Xae=Jae(dm());function Jae(t){return t&&t.__esModule?t:{default:t}}function $ae(t){if(!(0,Xae.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var Zae=$ae;V3.default=Zae});var G3=E(su=>{"use strict";h();p();Object.defineProperty(su,"__esModule",{value:!0});Object.defineProperty(su,"NIL",{enumerable:!0,get:function(){return noe.default}});Object.defineProperty(su,"parse",{enumerable:!0,get:function(){return soe.default}});Object.defineProperty(su,"stringify",{enumerable:!0,get:function(){return ooe.default}});Object.defineProperty(su,"v1",{enumerable:!0,get:function(){return Qae.default}});Object.defineProperty(su,"v3",{enumerable:!0,get:function(){return eoe.default}});Object.defineProperty(su,"v4",{enumerable:!0,get:function(){return toe.default}});Object.defineProperty(su,"v5",{enumerable:!0,get:function(){return roe.default}});Object.defineProperty(su,"validate",{enumerable:!0,get:function(){return aoe.default}});Object.defineProperty(su,"version",{enumerable:!0,get:function(){return ioe.default}});var Qae=sc(IN()),eoe=sc(RN()),toe=sc(NN()),roe=sc(LN()),noe=sc(UN()),ioe=sc(kN()),aoe=sc(dm()),ooe=sc(hm()),soe=sc(uT());function sc(t){return t&&t.__esModule?t:{default:t}}});var dT=E(z3=>{"use strict";h();p();Object.defineProperty(z3,"__esModule",{value:!0});z3.getCoinSymbol=void 0;function uoe(t){var e;return(e={0:"BTC",2:"LTC",3:"DOGE",4:"RDD",5:"DASH",6:"PPC",7:"NMC",8:"FTC",9:"XCP",10:"BLK",11:"NSR",12:"NBT",13:"MZC",14:"VIA",15:"XCH",16:"RBY",17:"GRS",18:"DGC",19:"CCN",20:"DGB",22:"MONA",23:"CLAM",24:"XPM",25:"NEOS",26:"JBS",27:"ZRC",28:"VTC",29:"NXT",30:"BURST",31:"MUE",32:"ZOOM",33:"VASH",34:"CDN",35:"SDC",36:"PKB",37:"PND",38:"START",39:"MOIN",40:"EXP",41:"EMC2",42:"DCR",43:"XEM",44:"PART",45:"ARG",48:"SHR",49:"GCR",50:"NVC",51:"AC",52:"BTCD",53:"DOPE",54:"TPC",55:"AIB",56:"EDRC",57:"SYS",58:"SLR",59:"SMLY",60:"ETH",61:"ETC",62:"PSB",63:"LDCN",65:"XBC",66:"IOP",67:"NXS",68:"INSN",69:"OK",70:"BRIT",71:"CMP",72:"CRW",73:"BELA",74:"ICX",75:"FJC",76:"MIX",77:"XVG",78:"EFL",79:"CLUB",80:"RICHX",81:"POT",82:"QRK",83:"TRC",84:"GRC",85:"AUR",86:"IXC",87:"NLG",88:"BITB",89:"BTA",90:"XMY",91:"BSD",92:"UNO",93:"MTR",94:"GB",95:"SHM",96:"CRX",97:"BIQ",98:"EVO",99:"STO",100:"BIGUP",101:"GAME",102:"DLC",103:"ZYD",104:"DBIC",105:"STRAT",106:"SH",107:"MARS",108:"UBQ",109:"PTC",110:"NRO",111:"ARK",112:"USC",113:"THC",114:"LINX",115:"ECN",116:"DNR",117:"PINK",118:"ATOM",119:"PIVX",120:"FLASH",121:"ZEN",122:"PUT",123:"ZNY",124:"UNIFY",125:"XST",126:"BRK",127:"VC",128:"XMR",129:"VOX",130:"NAV",131:"FCT",132:"EC",133:"ZEC",134:"LSK",135:"STEEM",136:"XZC",137:"RBTC",139:"RPT",140:"LBC",141:"KMD",142:"BSQ",143:"RIC",144:"XRP",145:"BCH",146:"NEBL",147:"ZCL",148:"XLM",149:"NLC2",150:"WHL",151:"ERC",152:"DMD",153:"BTM",154:"BIO",155:"XWCC",156:"BTG",157:"BTC2X",158:"SSN",159:"TOA",160:"BTX",161:"ACC",162:"BCO",163:"ELLA",164:"PIRL",165:"XNO",166:"VIVO",167:"FRST",168:"HNC",169:"BUZZ",170:"MBRS",171:"HC",172:"HTML",173:"ODN",174:"ONX",175:"RVN",176:"GBX",177:"BTCZ",178:"POA",179:"NYC",180:"MXT",181:"WC",182:"MNX",183:"BTCP",184:"MUSIC",185:"BCA",186:"CRAVE",187:"STAK",188:"WBTC",189:"LCH",190:"EXCL",192:"LCC",193:"XFE",194:"EOS",195:"TRX",196:"KOBO",197:"HUSH",198:"BAN",199:"ETF",200:"OMNI",201:"BIFI",202:"UFO",203:"CNMC",204:"BCN",205:"RIN",206:"ATP",207:"EVT",208:"ATN",209:"BIS",210:"NEET",211:"BOPO",212:"OOT",213:"ALIAS",214:"MONK",215:"BOXY",216:"FLO",217:"MEC",218:"BTDX",219:"XAX",220:"ANON",221:"LTZ",222:"BITG",223:"ICP",224:"SMART",225:"XUEZ",226:"HLM",227:"WEB",228:"ACM",229:"NOS",230:"BITC",231:"HTH",232:"TZC",233:"VAR",234:"IOV",235:"FIO",236:"BSV",237:"DXN",238:"QRL",239:"PCX",240:"LOKI",242:"NIM",243:"SOV",244:"JCT",245:"SLP",246:"EWT",247:"UC",248:"EXOS",249:"ECA",250:"SOOM",251:"XRD",252:"FREE",253:"NPW",254:"BST",256:"NANO",257:"BTCC",259:"ZEST",260:"ABT",261:"PION",262:"DT3",263:"ZBUX",264:"KPL",265:"TPAY",266:"ZILLA",267:"ANK",268:"BCC",269:"HPB",270:"ONE",271:"SBC",272:"IPC",273:"DMTC",274:"OGC",275:"SHIT",276:"ANDES",277:"AREPA",278:"BOLI",279:"RIL",280:"HTR",281:"FCTID",282:"BRAVO",283:"ALGO",284:"BZX",285:"GXX",286:"HEAT",287:"XDN",288:"FSN",289:"CPC",290:"BOLD",291:"IOST",292:"TKEY",293:"USE",294:"BCZ",295:"IOC",296:"ASF",297:"MASS",298:"FAIR",299:"NUKO",300:"GNX",301:"DIVI",302:"CMT",303:"EUNO",304:"IOTX",305:"ONION",306:"8BIT",307:"ATC",308:"BTS",309:"CKB",310:"UGAS",311:"ADS",312:"ARA",313:"ZIL",314:"MOAC",315:"SWTC",316:"VNSC",317:"PLUG",318:"MAN",319:"ECC",320:"RPD",321:"RAP",322:"GARD",323:"ZER",324:"EBST",325:"SHARD",326:"MRX",327:"CMM",328:"BLOCK",329:"AUDAX",330:"LUNA",331:"ZPM",332:"KUVA",333:"MEM",334:"CS",335:"SWIFT",336:"FIX",337:"CPC",338:"VGO",339:"DVT",340:"N8V",341:"MTNS",342:"BLAST",343:"DCT",344:"AUX",345:"USDP",346:"HTDF",347:"YEC",348:"QLC",349:"TEA",350:"ARW",351:"MDM",352:"CYB",353:"LTO",354:"DOT",355:"AEON",356:"RES",357:"AYA",358:"DAPS",359:"CSC",360:"VSYS",361:"NOLLAR",362:"XNOS",363:"CPU",364:"LAMB",365:"VCT",366:"CZR",367:"ABBC",368:"HET",369:"XAS",370:"VDL",371:"MED",372:"ZVC",373:"VESTX",374:"DBT",375:"SEOS",376:"MXW",377:"ZNZ",378:"XCX",379:"SOX",380:"NYZO",381:"ULC",382:"RYO",383:"KAL",384:"XSN",385:"DOGEC",386:"BMV",387:"QBC",388:"IMG",389:"QOS",390:"PKT",391:"LHD",392:"CENNZ",393:"HSN",394:"CRO",395:"UMBRU",396:"EVER",397:"NEAR",398:"XPC",399:"ZOC",400:"NIX",401:"UC",402:"GALI",403:"OLT",404:"XBI",405:"DONU",406:"EARTHS",407:"HDD",408:"SUGAR",409:"AILE",410:"TENT",411:"TAN",412:"AIN",413:"MSR",414:"SUMO",415:"ETN",416:"BYTZ",417:"WOW",418:"XTNC",419:"LTHN",420:"NODE",421:"AGM",422:"CCX",423:"TNET",424:"TELOS",425:"AION",426:"BC",427:"KTV",428:"ZCR",429:"ERG",430:"PESO",431:"BTC2",432:"XRPHD",433:"WE",434:"KSM",435:"PCN",436:"NCH",437:"ICU",438:"LN",439:"DTP",440:"BTCR",441:"AERGO",442:"XTH",443:"LV",444:"PHR",445:"VITAE",446:"COCOS",447:"DIN",448:"SPL",449:"YCE",450:"XLR",451:"KTS",452:"DGLD",453:"XNS",454:"EM",455:"SHN",456:"SEELE",457:"AE",458:"ODX",459:"KAVA",460:"GLEEC",461:"FIL",462:"RUTA",463:"CSDT",464:"ETI",465:"ZSLP",466:"ERE",467:"DX",468:"CPS",469:"BTH",470:"MESG",471:"FIMK",472:"AR",473:"OGO",474:"ROSE",475:"BARE",476:"GLEEC",477:"CLR",478:"RNG",479:"OLO",480:"PEXA",481:"MOON",482:"OCEAN",483:"BNT",484:"AMO",485:"FCH",486:"LAT",487:"COIN",488:"VEO",489:"CCA",490:"GFN",491:"BIP",492:"KPG",493:"FIN",494:"BAND",495:"DROP",496:"BHT",497:"LYRA",498:"CS",499:"RUPX",500:"THETA",501:"SOL",502:"THT",503:"CFX",504:"KUMA",505:"HASH",506:"CSPR",507:"EARTH",508:"EGLD",509:"CHI",510:"KOTO",511:"OTC",512:"XRD",513:"SEELEN",514:"AETH",515:"DNA",516:"VEE",517:"SIERRA",518:"LET",519:"BSC",520:"BTCV",521:"ABA",522:"SCC",523:"EDG",524:"AMS",525:"GOSS",526:"BU",527:"GRAM",528:"YAP",529:"SCRT",530:"NOVO",531:"GHOST",532:"HST",533:"PRJ",534:"YOU",535:"XHV",536:"BYND",537:"JOYS",538:"VAL",539:"FLOW",540:"SMESH",541:"SCDO",542:"IQS",543:"BIND",544:"COINEVO",545:"SCRIBE",546:"HYN",547:"BHP",548:"BBC",549:"MKF",550:"XDC",551:"STR",552:"SUM",553:"HBC",555:"BCS",556:"KTS",557:"LKR",558:"TAO",559:"XWC",560:"DEAL",561:"NTY",562:"TOP",564:"AG",565:"CICO",566:"IRIS",567:"NCG",568:"LRG",569:"SERO",570:"BDX",571:"CCXX",572:"SLS",573:"SRM",575:"VIVT",576:"BPS",577:"NKN",578:"ICL",579:"BONO",580:"PLC",581:"DUN",582:"DMCH",583:"CTC",584:"KELP",585:"GBCR",586:"XDAG",587:"PRV",588:"SCAP",589:"TFUEL",590:"GTM",591:"RNL",592:"GRIN",593:"MWC",594:"DOCK",595:"POLYX",596:"DIVER",597:"XEP",598:"APN",599:"TFC",600:"UTE",601:"MTC",602:"NC",603:"XINY",604:"DYN",605:"BUFS",606:"STOS",607:"TON",608:"TAFT",609:"HYDRA",610:"NOR",613:"WCN",614:"OPT",615:"PSWAP",616:"VAL",617:"XOR",618:"SSP",619:"DEI",621:"ZERO",622:"ALPHA",623:"BDECO",624:"NOBL",625:"EAST",626:"KDA",627:"SOUL",628:"LORE",629:"FNR",630:"NEXUS",631:"QTZ",632:"XMA",633:"CALL",634:"VAL",635:"POKT",636:"EMIT",637:"APTOS",638:"ADON",639:"BTSG",640:"LFC",641:"KCS",642:"KCC",643:"AZERO",644:"TREE",645:"LX",646:"XLN",647:"CIC",648:"ZRB",650:"UCO",651:"SFX",652:"SFT",653:"WSFX",654:"USDG",655:"WMP",659:"KOIN",660:"PIRATE",663:"SFRX",666:"ACT",667:"PRKL",668:"SSC",669:"GC",670:"PLGR",671:"MPLGR",672:"KNOX",673:"ZED",674:"CNDL",675:"WLKR",676:"WLKRR",677:"YUNGE",678:"Voken",679:"APL",680:"Evrynet",681:"NENG",682:"CHTA",685:"OAS",686:"KAR",688:"CET",690:"KLV",694:"VTBC",698:"VEIL",699:"GTB",700:"XDAI",701:"COM",702:"CCC",707:"MCOIN",711:"CHC",712:"SERF",713:"XTL",714:"BNB",715:"SIN",716:"DLN",717:"BONTE",718:"PEER",725:"MCX",730:"HEALIOS",731:"BMK",734:"DENTX",737:"ATOP",747:"CFG",750:"XPRT",757:"HONEY",768:"BALLZ",770:"COSA",771:"BR",775:"PLSR",776:"KEY",777:"BTW",780:"PLCUC",781:"PLCUX",782:"PLCU",784:"SUI",786:"UIDD",787:"ACA",788:"BNC",789:"TAU",799:"PDEX",800:"BEET",801:"DST",804:"ZKS",808:"QVT",809:"SDN",810:"ASTR",813:"MEER",818:"VET",819:"REEF",820:"CLO",822:"BDB",827:"ACE",828:"CCN",831:"CRUZ",832:"SAPP",833:"777",834:"KYAN",835:"AZR",836:"CFL",837:"DASHD",838:"TRTT",839:"UCR",840:"PNY",841:"BECN",842:"MONK",843:"SAGA",844:"SUV",845:"ESK",846:"OWO",847:"PEPS",848:"BIR",849:"MOBIC",850:"FLS",852:"DSM",853:"PRCY",858:"HVH",866:"MOB",868:"IF",877:"NAM",880:"LUM",883:"ZBC",886:"ADF",888:"NEO",889:"TOMO",890:"XSEL",896:"LKSC",898:"AS",899:"XEC",900:"LMO",901:"NXT",904:"HNT",907:"FIS",909:"SGE",911:"GERT",916:"META",917:"FRA",919:"CCD",921:"AVN",925:"DIP",928:"GHM",931:"RUNE",945:"UNLOCK",955:"LTP",960:"VKAX",966:"MATIC",968:"UNW",970:"TWINS",977:"TLOS",981:"TAFECO",985:"AU",987:"VCG",988:"XAZAB",989:"AIOZ",990:"CORE",991:"PEC",992:"UNT",993:"XRB",994:"QUAI",995:"CAPS",996:"OKT",997:"SUM",998:"LBTC",999:"BCD",1e3:"BTN",1001:"TT",1002:"BKT",1003:"NODL",1004:"PCOIN",1005:"TAO",1006:"HSK",1007:"FTM",1008:"RPG",1010:"HT",1011:"ELV",1013:"BIC",1020:"EVC",1022:"XRD",1023:"ONE",1024:"ONT",1025:"CZZ",1026:"KEX",1027:"MCM",1032:"BTCR",1042:"MFID",1111:"BBC",1120:"RISE",1122:"CMT",1128:"ETSC",1129:"DFI",1130:"DFI",1137:"$DAG",1145:"CDY",1155:"EFI",1170:"HOO",1234:"ALPH",1284:"GLMR",1285:"MOVR",1298:"WPC",1308:"WEI",1337:"DFC",1397:"HYC",1410:"TENTSLP",1510:"XSC",1512:"AAC",1533:"BEAM",1555:"APC",1616:"ELF",1618:"AUDL",1620:"ATH",1627:"LUME",1642:"NEW",1657:"BTA",1668:"NEOX",1669:"MEWC",1688:"BCX",1729:"XTZ",1776:"LBTC",1777:"BBP",1784:"JPYS",1789:"VEGA",1815:"ADA",1818:"CUBE",1856:"TES",1888:"ZTX",1899:"XEC",1901:"CLC",1919:"VIPS",1926:"CITY",1955:"XX",1977:"XMX",1984:"TRTL",1985:"SLRT",1986:"QTH",1987:"EGEM",1988:"MIRA",1989:"HODL",1990:"PHL",1991:"SC",1996:"MYT",1997:"POLIS",1998:"XMCC",1999:"COLX",2e3:"GIN",2001:"MNP",2002:"MLN",2017:"KIN",2018:"EOSC",2019:"GBT",2020:"PKC",2021:"SKT",2022:"XHT",2048:"MCASH",2049:"TRUE",2086:"KILT",2109:"SAMA",2112:"IoTE",2137:"XRG",2182:"CHZ",2221:"ASK",2301:"QTUM",2302:"ETP",2303:"GXC",2304:"CRP",2305:"ELA",2338:"SNOW",2365:"XIN",2570:"AOA",2718:"NAS",2894:"REOSC",2941:"BND",3003:"LUX",3030:"HBAR",3077:"COS",3276:"CCC",3333:"SXP",3377:"ROI",3381:"DYN",3383:"SEQ",3552:"DEO",3564:"DST",3601:"CY",4040:"FC8",4096:"YEE",4218:"IOTA",4219:"SMR",4242:"AXE",4343:"XYM",4444:"C4E",4919:"XVM",5006:"SBC",5248:"FIC",5353:"HNS",5404:"ISK",5467:"ALTME",5555:"FUND",5757:"STX",5895:"VOW",5920:"SLU",6060:"GO",6174:"MOI",6599:"RSC",6666:"BPA",6688:"SAFE",6779:"COTI",6969:"ROGER",7091:"TOPL",7331:"KLY",7341:"SHFT",7777:"BTV",8e3:"SKY",8192:"PAC",8217:"KLAY",8339:"BTQ",8444:"XCH",8680:"PLMNT",8888:"SBTC",8964:"NULS",8997:"BBC",8998:"JGC",8999:"BTP",9e3:"AVAX",9001:"ARB1",9002:"BOBA",9003:"LOOP",9004:"STRK",9005:"AVAXC",9006:"BSC",9797:"NRG",9888:"BTF",9999:"GOD",1e4:"FO",10226:"RTM",10291:"XRC",10605:"XPI",11111:"ESS",12345:"IPOS",12586:"MINA",13107:"BTY",13108:"YCC",14001:"WAX",15845:"SDGO",16181:"XTX",16754:"ARDR",18e3:"MTR",19165:"SAFE",19167:"FLUX",19169:"RITO",20036:"XND",21004:"C4EI",21888:"PCT",22504:"PWR",25252:"BELL",25718:"CHX",29223:"NEXA",31102:"ESN",33416:"TEO",33878:"BTCS",34952:"BTT",37992:"FXTC",39321:"AMA",42069:"FACT",43028:"AXIV",49262:"EVE",49344:"STASH",52752:"CELO",61616:"TH",65536:"KETH",69420:"GRLC",70007:"GWL",77777:"ZYN",88888:"RYO",99999:"WICC",100500:"HOME",101010:"STC",105105:"STRAX",111111:"KAS",161803:"APTA",200625:"AKA",200665:"GENOM",246529:"ATS",261131:"ZAMA",314159:"PI",333332:"VALUE",333333:"3333",424242:"X42",534352:"SCR",666666:"VITE",888888:"SEA",1048576:"AMAX",1171337:"ILT",1313114:"ETHO",1313500:"XERO",1712144:"LAX",3924011:"EPK",4741444:"HYD",5249353:"BCO",5249354:"BHD",5264462:"PTN",5655640:"VLX",5718350:"WAN",5741564:"WAVES",5741565:"WEST",6382179:"ABC",6517357:"CRM",7562605:"SEM",7567736:"ION",7777777:"FCT",7825266:"WGR",7825267:"OBSR",8163271:"AFS",15118976:"XDS",61717561:"AQUA",88888888:"HATCH",91927009:"kUSD",99999996:"GENS",99999997:"EQ",99999998:"FLUID",99999999:"QKC",608589380:"FVDC"}[t])!==null&&e!==void 0?e:""}z3.getCoinSymbol=uoe});var HN=E(_r=>{"use strict";h();p();var jN=_r&&_r.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),foe=_r&&_r.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),coe=_r&&_r.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&jN(e,t,r);return foe(e,t),e},doe=_r&&_r.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&jN(e,t,r)};Object.defineProperty(_r,"__esModule",{value:!0});_r.parsePath=_r.uuidStringify=_r.uuidParse=_r.toBuffer=_r.toHex=_r.uuid=void 0;var lT=coe(G3());_r.uuid=lT;doe(dT(),_r);function loe(t){return t===void 0?"":v.Buffer.from(t).toString("hex")}_r.toHex=loe;function hoe(t){return v.Buffer.from(t??"","hex")}_r.toBuffer=hoe;function poe(t){return v.Buffer.from(lT.parse(t))}_r.uuidParse=poe;function goe(t){return lT.stringify(t)}_r.uuidStringify=goe;function yoe(t){return t.replace(/^m\//i,"").split("/").map(r=>{let n=r.endsWith("'");return{index:Number(n?r.substring(0,r.length-1):r),hardened:n}})}_r.parsePath=yoe});var cq=E((aqe,X3)=>{h();p();var KN,VN,GN,zN,YN,WN,XN,JN,$N,Y3,hT,ZN,QN,eq,Pp,tq,rq,nq,iq,aq,oq,sq,uq,fq,W3;(function(t){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof X3=="object"&&typeof X3.exports=="object"?t(r(e,r(X3.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};KN=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},VN=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},GN=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a},zN=function(n,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,a,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},YN=function(n,i){return function(a,o){i(a,o,n)}},WN=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},XN=function(n,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function c(y){try{g(o.next(y))}catch(_){f(_)}}function l(y){try{g(o.throw(y))}catch(_){f(_)}}function g(y){y.done?u(y.value):s(y.value).then(c,l)}g((o=o.apply(n,i||[])).next())})},JN=function(n,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(y){return l([g,y])}}function l(g){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,s=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){a.label=g[1];break}if(g[0]===6&&a.label<u[1]){a.label=u[1],u=g;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(g);break}u[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(y){g=[6,y],s=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},$N=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&W3(i,n,a)},W3=Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},Y3=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},hT=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(c){f={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},ZN=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(hT(arguments[i]));return n},QN=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,c=u.length;f<c;f++,s++)o[s]=u[f];return o},eq=function(n,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return n.concat(u||Array.prototype.slice.call(i))},Pp=function(n){return this instanceof Pp?(this.v=n,this):new Pp(n)},tq=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){o[w]&&(s[w]=function(S){return new Promise(function(I,O){u.push([w,S,I,O])>1||c(w,S)})})}function c(w,S){try{l(o[w](S))}catch(I){_(u[0][3],I)}}function l(w){w.value instanceof Pp?Promise.resolve(w.value.v).then(g,y):_(u[0][2],w)}function g(w){c("next",w)}function y(w){c("throw",w)}function _(w,S){w(S),u.shift(),u.length&&c(u[0][0],u[0][1])}},rq=function(n){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=n[s]?function(f){return(a=!a)?{value:Pp(n[s](f)),done:s==="return"}:u?u(f):f}:u}},nq=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof Y3=="function"?Y3(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(c,l){f=n[u](f),s(c,l,f.done,f.value)})}}function s(u,f,c,l){Promise.resolve(l).then(function(g){u({value:g,done:c})},f)}},iq=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};aq=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&W3(i,n,a);return r(i,n),i},oq=function(n){return n&&n.__esModule?n:{default:n}},sq=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},uq=function(n,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(n,a):s?s.value=a:i.set(n,a),a},fq=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},t("__extends",KN),t("__assign",VN),t("__rest",GN),t("__decorate",zN),t("__param",YN),t("__metadata",WN),t("__awaiter",XN),t("__generator",JN),t("__exportStar",$N),t("__createBinding",W3),t("__values",Y3),t("__read",hT),t("__spread",ZN),t("__spreadArrays",QN),t("__spreadArray",eq),t("__await",Pp),t("__asyncGenerator",tq),t("__asyncDelegator",rq),t("__asyncValues",nq),t("__makeTemplateObject",iq),t("__importStar",aq),t("__importDefault",oq),t("__classPrivateFieldGet",sq),t("__classPrivateFieldSet",uq),t("__classPrivateFieldIn",fq)})});var $3=E(J3=>{"use strict";h();p();Object.defineProperty(J3,"__esModule",{value:!0});J3.DataItem=void 0;var pT=class{constructor(e,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=r}};J3.DataItem=pT});var lq=E((dq,Z3)=>{"use strict";h();p();(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof Z3<"u"&&Z3.exports?Z3.exports=e():t.CBOR=e()})(dq,function(){let{DataItem:t}=$3();var e=function(){function r(d){this.$hex=d}r.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},r.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new r(m)},r.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new r(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var oe=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-oe:oe},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var oe;(oe=y(d))!==g;)R.push(oe);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(oe){l(3,oe,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(oe){l(2,oe,m)});else if(typeof d=="object")if(I.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],S=[],I={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?S.push(function(x){if(d===x)return m(x)}):S.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let oe=y(M);return oe instanceof t?oe:new t(oe)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this}};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function P(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}P.prototype=Object.create(s.prototype),P.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},P.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},P.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},P.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},P.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},P.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},P.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},P.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(I.addReader(function(d,m){if(v.Buffer.isBuffer(d))return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),I.addWriter(function(d){if(!d||d==="buffer")return new P;if(d==="hex"||d==="base64")return new P(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new r(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof r||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof r)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new r(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=r.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},I.addReader(function(d,m){if(d instanceof r||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),I.addWriter(function(d){if(d==="hex")return new C}),I}();return e.addSemanticEncode(0,function(r){if(r instanceof Date)return r.toISOString()}).addSemanticDecode(0,function(r){return new Date(r)}).addSemanticDecode(1,function(r){return new Date(r)}),e})});var ln=E(ni=>{"use strict";h();p();Object.defineProperty(ni,"__esModule",{value:!0});ni.DataItem=ni.addWriter=ni.addReader=ni.addSemanticEncode=ni.addSemanticDecode=ni.decodeToDataItem=ni.encodeDataItem=void 0;var Bp=lq();Object.defineProperty(ni,"encodeDataItem",{enumerable:!0,get:function(){return Bp.encodeDataItem}});Object.defineProperty(ni,"decodeToDataItem",{enumerable:!0,get:function(){return Bp.decodeToDataItem}});Object.defineProperty(ni,"addSemanticDecode",{enumerable:!0,get:function(){return Bp.addSemanticDecode}});Object.defineProperty(ni,"addSemanticEncode",{enumerable:!0,get:function(){return Bp.addSemanticEncode}});Object.defineProperty(ni,"addReader",{enumerable:!0,get:function(){return Bp.addReader}});Object.defineProperty(ni,"addWriter",{enumerable:!0,get:function(){return Bp.addWriter}});var voe=$3();Object.defineProperty(ni,"DataItem",{enumerable:!0,get:function(){return voe.DataItem}})});var tb=E(eb=>{"use strict";h();p();Object.defineProperty(eb,"__esModule",{value:!0});eb.patchTags=void 0;var Q3=ln(),hq=[],moe=t=>{t.forEach(e=>{hq.find(r=>r===e)||((0,Q3.addSemanticEncode)(e,r=>{if(r instanceof Q3.DataItem&&r.getTag()===e)return r.getData()}),(0,Q3.addSemanticDecode)(e,r=>new Q3.DataItem(r,e)),hq.push(e))})};eb.patchTags=moe});var hn=E(Mp=>{"use strict";h();p();Object.defineProperty(Mp,"__esModule",{value:!0});Mp.RegistryTypes=Mp.RegistryType=void 0;var ii=class{constructor(e,r){this.type=e,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};Mp.RegistryType=ii;Mp.RegistryTypes={UUID:new ii("uuid",37),BYTES:new ii("bytes",void 0),CRYPTO_HDKEY:new ii("crypto-hdkey",303),CRYPTO_KEYPATH:new ii("crypto-keypath",304),CRYPTO_COIN_INFO:new ii("crypto-coin-info",305),CRYPTO_ECKEY:new ii("crypto-eckey",306),CRYPTO_OUTPUT:new ii("crypto-output",308),CRYPTO_PSBT:new ii("crypto-psbt",310),CRYPTO_ACCOUNT:new ii("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new ii("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new ii("qr-hardware-call",1201),KEY_DERIVATION_CALL:new ii("key-derivation-call",1301),KEY_DERIVATION_SCHEMA:new ii("key-derivation-schema",1302)}});var rb=E(Fl=>{"use strict";h();p();Object.defineProperty(Fl,"__esModule",{value:!0});Fl.ScriptExpressions=Fl.ScriptExpression=void 0;var Ma=class{constructor(e,r){this.tag=e,this.expression=r,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};Fl.ScriptExpression=Ma;Ma.fromTag=t=>Object.values(Fl.ScriptExpressions).find(r=>r.getTag()===t);Fl.ScriptExpressions={SCRIPT_HASH:new Ma(400,"sh"),WITNESS_SCRIPT_HASH:new Ma(401,"wsh"),PUBLIC_KEY:new Ma(402,"pk"),PUBLIC_KEY_HASH:new Ma(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Ma(404,"wpkh"),COMBO:new Ma(405,"combo"),MULTISIG:new Ma(406,"multi"),SORTED_MULTISIG:new Ma(407,"sortedmulti"),ADDRESS:new Ma(307,"addr"),RAW_SCRIPT:new Ma(408,"raw")}});var gT=E(pq=>{"use strict";h();p();Object.defineProperty(pq,"__esModule",{value:!0});var _oe=tb(),xoe=hn(),boe=rb(),woe=Object.values(xoe.RegistryTypes).filter(t=>!!t.getTag()).map(t=>t.getTag()),Eoe=Object.values(boe.ScriptExpressions).map(t=>t.getTag());(0,_oe.patchTags)(woe.concat(Eoe))});var vT=E(yT=>{h();p();yT.read=function(t,e,r,n,i){var a,o,s=i*8-n-1,u=(1<<s)-1,f=u>>1,c=-7,l=r?i-1:0,g=r?-1:1,y=t[e+l];for(l+=g,a=y&(1<<-c)-1,y>>=-c,c+=s;c>0;a=a*256+t[e+l],l+=g,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=n;c>0;o=o*256+t[e+l],l+=g,c-=8);if(a===0)a=1-f;else{if(a===u)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-f}return(y?-1:1)*o*Math.pow(2,a-n)};yT.write=function(t,e,r,n,i,a){var o,s,u,f=a*8-i-1,c=(1<<f)-1,l=c>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:a-1,_=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+l>=1?e+=g/u:e+=g*Math.pow(2,1-l),e*u>=2&&(o++,u/=2),o+l>=c?(s=0,o=c):o+l>=1?(s=(e*u-1)*Math.pow(2,i),o=o+l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;t[r+y]=s&255,y+=_,s/=256,i-=8);for(o=o<<i|s,f+=i;f>0;t[r+y]=o&255,y+=_,o/=256,f-=8);t[r+y-_]|=w*128}});var Up=E(Lp=>{"use strict";h();p();var mT=lN(),qp=vT(),gq=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Lp.Buffer=ae;Lp.SlowBuffer=Ooe;Lp.INSPECT_MAX_BYTES=50;var nb=2147483647;Lp.kMaxLength=nb;ae.TYPED_ARRAY_SUPPORT=Soe();!ae.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Soe(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(ae.prototype,"parent",{enumerable:!0,get:function(){if(!!ae.isBuffer(this))return this.buffer}});Object.defineProperty(ae.prototype,"offset",{enumerable:!0,get:function(){if(!!ae.isBuffer(this))return this.byteOffset}});function uc(t){if(t>nb)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,ae.prototype),e}function ae(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return wT(t)}return _q(t,e,r)}ae.poolSize=8192;function _q(t,e,r){if(typeof t=="string")return Toe(t,e);if(ArrayBuffer.isView(t))return Coe(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ef(t,ArrayBuffer)||t&&ef(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ef(t,SharedArrayBuffer)||t&&ef(t.buffer,SharedArrayBuffer)))return xT(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return ae.from(n,e,r);let i=Aoe(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return ae.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}ae.from=function(t,e,r){return _q(t,e,r)};Object.setPrototypeOf(ae.prototype,Uint8Array.prototype);Object.setPrototypeOf(ae,Uint8Array);function xq(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Ioe(t,e,r){return xq(t),t<=0?uc(t):e!==void 0?typeof r=="string"?uc(t).fill(e,r):uc(t).fill(e):uc(t)}ae.alloc=function(t,e,r){return Ioe(t,e,r)};function wT(t){return xq(t),uc(t<0?0:ET(t)|0)}ae.allocUnsafe=function(t){return wT(t)};ae.allocUnsafeSlow=function(t){return wT(t)};function Toe(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ae.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=bq(t,e)|0,n=uc(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function _T(t){let e=t.length<0?0:ET(t.length)|0,r=uc(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Coe(t){if(ef(t,Uint8Array)){let e=new Uint8Array(t);return xT(e.buffer,e.byteOffset,e.byteLength)}return _T(t)}function xT(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,ae.prototype),n}function Aoe(t){if(ae.isBuffer(t)){let e=ET(t.length)|0,r=uc(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||IT(t.length)?uc(0):_T(t);if(t.type==="Buffer"&&Array.isArray(t.data))return _T(t.data)}function ET(t){if(t>=nb)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+nb.toString(16)+" bytes");return t|0}function Ooe(t){return+t!=t&&(t=0),ae.alloc(+t)}ae.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ae.prototype};ae.compare=function(e,r){if(ef(e,Uint8Array)&&(e=ae.from(e,e.offset,e.byteLength)),ef(r,Uint8Array)&&(r=ae.from(r,r.offset,r.byteLength)),!ae.isBuffer(e)||!ae.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let a=0,o=Math.min(n,i);a<o;++a)if(e[a]!==r[a]){n=e[a],i=r[a];break}return n<i?-1:i<n?1:0};ae.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ae.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ae.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=ae.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){let o=e[n];if(ef(o,Uint8Array))a+o.length>i.length?(ae.isBuffer(o)||(o=ae.from(o)),o.copy(i,a)):Uint8Array.prototype.set.call(i,o,a);else if(ae.isBuffer(o))o.copy(i,a);else throw new TypeError('"list" argument must be an Array of Buffers');a+=o.length}return i};function bq(t,e){if(ae.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ef(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return bT(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Dq(t).length;default:if(i)return n?-1:bT(t).length;e=(""+e).toLowerCase(),i=!0}}ae.byteLength=bq;function Doe(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return koe(this,e,r);case"utf8":case"utf-8":return Eq(this,e,r);case"ascii":return Loe(this,e,r);case"latin1":case"binary":return Uoe(this,e,r);case"base64":return qoe(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return joe(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}ae.prototype._isBuffer=!0;function Ll(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}ae.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Ll(this,r,r+1);return this};ae.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Ll(this,r,r+3),Ll(this,r+1,r+2);return this};ae.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Ll(this,r,r+7),Ll(this,r+1,r+6),Ll(this,r+2,r+5),Ll(this,r+3,r+4);return this};ae.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Eq(this,0,e):Doe.apply(this,arguments)};ae.prototype.toLocaleString=ae.prototype.toString;ae.prototype.equals=function(e){if(!ae.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ae.compare(this,e)===0};ae.prototype.inspect=function(){let e="",r=Lp.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};gq&&(ae.prototype[gq]=ae.prototype.inspect);ae.prototype.compare=function(e,r,n,i,a){if(ef(e,Uint8Array)&&(e=ae.from(e,e.offset,e.byteLength)),!ae.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;let o=a-i,s=n-r,u=Math.min(o,s),f=this.slice(i,a),c=e.slice(r,n);for(let l=0;l<u;++l)if(f[l]!==c[l]){o=f[l],s=c[l];break}return o<s?-1:s<o?1:0};function wq(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,IT(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=ae.from(e,n)),ae.isBuffer(e))return e.length===0?-1:yq(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):yq(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function yq(t,e,r,n,i){let a=1,o=t.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,o/=2,s/=2,r/=2}function u(c,l){return a===1?c[l]:c.readUInt16BE(l*a)}let f;if(i){let c=-1;for(f=r;f<o;f++)if(u(t,f)===u(e,c===-1?0:f-c)){if(c===-1&&(c=f),f-c+1===s)return c*a}else c!==-1&&(f-=f-c),c=-1}else for(r+s>o&&(r=o-s),f=r;f>=0;f--){let c=!0;for(let l=0;l<s;l++)if(u(t,f+l)!==u(e,l)){c=!1;break}if(c)return f}return-1}ae.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};ae.prototype.indexOf=function(e,r,n){return wq(this,e,r,n,!0)};ae.prototype.lastIndexOf=function(e,r,n){return wq(this,e,r,n,!1)};function Roe(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let a=e.length;n>a/2&&(n=a/2);let o;for(o=0;o<n;++o){let s=parseInt(e.substr(o*2,2),16);if(IT(s))return o;t[r+o]=s}return o}function Poe(t,e,r,n){return ib(bT(e,t.length-r),t,r,n)}function Boe(t,e,r,n){return ib(Goe(e),t,r,n)}function Moe(t,e,r,n){return ib(Dq(e),t,r,n)}function Noe(t,e,r,n){return ib(zoe(e,t.length-r),t,r,n)}ae.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let a=this.length-r;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let o=!1;for(;;)switch(i){case"hex":return Roe(this,e,r,n);case"utf8":case"utf-8":return Poe(this,e,r,n);case"ascii":case"latin1":case"binary":return Boe(this,e,r,n);case"base64":return Moe(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Noe(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};ae.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function qoe(t,e,r){return e===0&&r===t.length?mT.fromByteArray(t):mT.fromByteArray(t.slice(e,r))}function Eq(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let a=t[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){let u,f,c,l;switch(s){case 1:a<128&&(o=a);break;case 2:u=t[i+1],(u&192)===128&&(l=(a&31)<<6|u&63,l>127&&(o=l));break;case 3:u=t[i+1],f=t[i+2],(u&192)===128&&(f&192)===128&&(l=(a&15)<<12|(u&63)<<6|f&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:u=t[i+1],f=t[i+2],c=t[i+3],(u&192)===128&&(f&192)===128&&(c&192)===128&&(l=(a&15)<<18|(u&63)<<12|(f&63)<<6|c&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=s}return Foe(n)}var vq=4096;function Foe(t){let e=t.length;if(e<=vq)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=vq));return r}function Loe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function Uoe(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function koe(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let a=e;a<r;++a)i+=Yoe[t[a]];return i}function joe(t,e,r){let n=t.slice(e,r),i="";for(let a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}ae.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,ae.prototype),i};function pn(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}ae.prototype.readUintLE=ae.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||pn(e,r,this.length);let i=this[e],a=1,o=0;for(;++o<r&&(a*=256);)i+=this[e+o]*a;return i};ae.prototype.readUintBE=ae.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||pn(e,r,this.length);let i=this[e+--r],a=1;for(;r>0&&(a*=256);)i+=this[e+--r]*a;return i};ae.prototype.readUint8=ae.prototype.readUInt8=function(e,r){return e=e>>>0,r||pn(e,1,this.length),this[e]};ae.prototype.readUint16LE=ae.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||pn(e,2,this.length),this[e]|this[e+1]<<8};ae.prototype.readUint16BE=ae.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||pn(e,2,this.length),this[e]<<8|this[e+1]};ae.prototype.readUint32LE=ae.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||pn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ae.prototype.readUint32BE=ae.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||pn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ae.prototype.readBigUInt64LE=E0(function(e){e=e>>>0,Fp(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&pm(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,a=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(a)<<BigInt(32))});ae.prototype.readBigUInt64BE=E0(function(e){e=e>>>0,Fp(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&pm(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],a=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(a)});ae.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||pn(e,r,this.length);let i=this[e],a=1,o=0;for(;++o<r&&(a*=256);)i+=this[e+o]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};ae.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||pn(e,r,this.length);let i=r,a=1,o=this[e+--i];for(;i>0&&(a*=256);)o+=this[e+--i]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*r)),o};ae.prototype.readInt8=function(e,r){return e=e>>>0,r||pn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ae.prototype.readInt16LE=function(e,r){e=e>>>0,r||pn(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};ae.prototype.readInt16BE=function(e,r){e=e>>>0,r||pn(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};ae.prototype.readInt32LE=function(e,r){return e=e>>>0,r||pn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ae.prototype.readInt32BE=function(e,r){return e=e>>>0,r||pn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ae.prototype.readBigInt64LE=E0(function(e){e=e>>>0,Fp(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&pm(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});ae.prototype.readBigInt64BE=E0(function(e){e=e>>>0,Fp(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&pm(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});ae.prototype.readFloatLE=function(e,r){return e=e>>>0,r||pn(e,4,this.length),qp.read(this,e,!0,23,4)};ae.prototype.readFloatBE=function(e,r){return e=e>>>0,r||pn(e,4,this.length),qp.read(this,e,!1,23,4)};ae.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||pn(e,8,this.length),qp.read(this,e,!0,52,8)};ae.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||pn(e,8,this.length),qp.read(this,e,!1,52,8)};function Na(t,e,r,n,i,a){if(!ae.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}ae.prototype.writeUintLE=ae.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Na(this,e,r,n,s,0)}let a=1,o=0;for(this[r]=e&255;++o<n&&(a*=256);)this[r+o]=e/a&255;return r+n};ae.prototype.writeUintBE=ae.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;Na(this,e,r,n,s,0)}let a=n-1,o=1;for(this[r+a]=e&255;--a>=0&&(o*=256);)this[r+a]=e/o&255;return r+n};ae.prototype.writeUint8=ae.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Na(this,e,r,1,255,0),this[r]=e&255,r+1};ae.prototype.writeUint16LE=ae.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Na(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};ae.prototype.writeUint16BE=ae.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Na(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};ae.prototype.writeUint32LE=ae.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Na(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};ae.prototype.writeUint32BE=ae.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Na(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Sq(t,e,r,n,i){Oq(e,n,i,t,r,7);let a=Number(e&BigInt(4294967295));t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,r}function Iq(t,e,r,n,i){Oq(e,n,i,t,r,7);let a=Number(e&BigInt(4294967295));t[r+7]=a,a=a>>8,t[r+6]=a,a=a>>8,t[r+5]=a,a=a>>8,t[r+4]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o=o>>8,t[r+2]=o,o=o>>8,t[r+1]=o,o=o>>8,t[r]=o,r+8}ae.prototype.writeBigUInt64LE=E0(function(e,r=0){return Sq(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ae.prototype.writeBigUInt64BE=E0(function(e,r=0){return Iq(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});ae.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);Na(this,e,r,n,u-1,-u)}let a=0,o=1,s=0;for(this[r]=e&255;++a<n&&(o*=256);)e<0&&s===0&&this[r+a-1]!==0&&(s=1),this[r+a]=(e/o>>0)-s&255;return r+n};ae.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let u=Math.pow(2,8*n-1);Na(this,e,r,n,u-1,-u)}let a=n-1,o=1,s=0;for(this[r+a]=e&255;--a>=0&&(o*=256);)e<0&&s===0&&this[r+a+1]!==0&&(s=1),this[r+a]=(e/o>>0)-s&255;return r+n};ae.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Na(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};ae.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Na(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};ae.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Na(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};ae.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Na(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};ae.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Na(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};ae.prototype.writeBigInt64LE=E0(function(e,r=0){return Sq(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});ae.prototype.writeBigInt64BE=E0(function(e,r=0){return Iq(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Tq(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Cq(t,e,r,n,i){return e=+e,r=r>>>0,i||Tq(t,e,r,4,34028234663852886e22,-34028234663852886e22),qp.write(t,e,r,n,23,4),r+4}ae.prototype.writeFloatLE=function(e,r,n){return Cq(this,e,r,!0,n)};ae.prototype.writeFloatBE=function(e,r,n){return Cq(this,e,r,!1,n)};function Aq(t,e,r,n,i){return e=+e,r=r>>>0,i||Tq(t,e,r,8,17976931348623157e292,-17976931348623157e292),qp.write(t,e,r,n,52,8),r+8}ae.prototype.writeDoubleLE=function(e,r,n){return Aq(this,e,r,!0,n)};ae.prototype.writeDoubleBE=function(e,r,n){return Aq(this,e,r,!1,n)};ae.prototype.copy=function(e,r,n,i){if(!ae.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let a=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),a};ae.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!ae.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let o=e.charCodeAt(0);(i==="utf8"&&o<128||i==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let a;if(typeof e=="number")for(a=r;a<n;++a)this[a]=e;else{let o=ae.isBuffer(e)?e:ae.from(e,i),s=o.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-r;++a)this[a+r]=o[a%s]}return this};var Np={};function ST(t,e,r){Np[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}ST("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);ST("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);ST("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=mq(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=mq(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function mq(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Hoe(t,e,r){Fp(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&pm(e,t.length-(r+1))}function Oq(t,e,r,n,i,a){if(t>r||t<e){let o=typeof e=="bigint"?"n":"",s;throw a>3?e===0||e===BigInt(0)?s=`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:s=`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:s=`>= ${e}${o} and <= ${r}${o}`,new Np.ERR_OUT_OF_RANGE("value",s,t)}Hoe(n,i,a)}function Fp(t,e){if(typeof t!="number")throw new Np.ERR_INVALID_ARG_TYPE(e,"number",t)}function pm(t,e,r){throw Math.floor(t)!==t?(Fp(t,r),new Np.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Np.ERR_BUFFER_OUT_OF_BOUNDS:new Np.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Koe=/[^+/0-9A-Za-z-_]/g;function Voe(t){if(t=t.split("=")[0],t=t.trim().replace(Koe,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function bT(t,e){e=e||1/0;let r,n=t.length,i=null,a=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function Goe(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function zoe(t,e){let r,n,i,a=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function Dq(t){return mT.toByteArray(Voe(t))}function ib(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function ef(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function IT(t){return t!==t}var Yoe=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function E0(t){return typeof BigInt>"u"?Woe:t}function Woe(){throw new Error("BigInt not supported")}});var Pq=E((Nqe,Rq)=>{"use strict";h();p();var ab=C3().Buffer;function Xoe(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var o=t.length,s=t.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function c(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=ab.from(y)),!ab.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var _=0,w=0,S=0,I=y.length;S!==I&&y[S]===0;)S++,_++;for(var O=(I-S)*f+1>>>0,P=new Uint8Array(O);S!==I;){for(var q=y[S],C=0,d=O-1;(q!==0||C<w)&&d!==-1;d--,C++)q+=256*P[d]>>>0,P[d]=q%o>>>0,q=q/o>>>0;if(q!==0)throw new Error("Non-zero carry");w=C,S++}for(var m=O-w;m!==O&&P[m]===0;)m++;for(var x=s.repeat(_);m<O;++m)x+=t.charAt(P[m]);return x}function l(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return ab.alloc(0);var _=0;if(y[_]!==" "){for(var w=0,S=0;y[_]===s;)w++,_++;for(var I=(y.length-_)*u+1>>>0,O=new Uint8Array(I);y[_];){var P=e[y.charCodeAt(_)];if(P===255)return;for(var q=0,C=I-1;(P!==0||q<S)&&C!==-1;C--,q++)P+=o*O[C]>>>0,O[C]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=q,_++}if(y[_]!==" "){for(var d=I-S;d!==I&&O[d]===0;)d++;var m=ab.allocUnsafe(w+(I-d));m.fill(0,0,w);for(var x=w;d!==I;)m[x++]=O[d++];return m}}}function g(y){var _=l(y);if(_)return _;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:l,decode:g}}Rq.exports=Xoe});var Mq=E((Lqe,Bq)=>{h();p();var Joe=Pq(),$oe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Bq.exports=Joe($oe)});var qq=E((jqe,Nq)=>{"use strict";h();p();var TT=Mq(),Zoe=C3().Buffer;Nq.exports=function(t){function e(a){var o=t(a);return TT.encode(Zoe.concat([a,o],a.length+4))}function r(a){var o=a.slice(0,-4),s=a.slice(-4),u=t(o);if(!(s[0]^u[0]|s[1]^u[1]|s[2]^u[2]|s[3]^u[3]))return o}function n(a){var o=TT.decodeUnsafe(a);if(!!o)return r(o)}function i(a){var o=TT.decode(a),s=r(o,t);if(!s)throw new Error("Invalid checksum");return s}return{encode:e,decode:i,decodeUnsafe:n}}});var Uq=E((Vqe,Lq)=>{"use strict";h();p();var Fq=A3(),Qoe=qq();function ese(t){var e=Fq("sha256").update(t).digest();return Fq("sha256").update(e).digest()}Lq.exports=Qoe(ese)});var ob=E(Fo=>{"use strict";h();p();Object.defineProperty(Fo,"__esModule",{value:!0});Fo.InvalidChecksumError=Fo.InvalidSequenceComponentError=Fo.InvalidTypeError=Fo.InvalidPathLengthError=Fo.InvalidSchemeError=void 0;var CT=class extends Error{constructor(){super("Invalid Scheme"),this.name="InvalidSchemeError"}};Fo.InvalidSchemeError=CT;var AT=class extends Error{constructor(){super("Invalid Path"),this.name="InvalidPathLengthError"}};Fo.InvalidPathLengthError=AT;var OT=class extends Error{constructor(){super("Invalid Type"),this.name="InvalidTypeError"}};Fo.InvalidTypeError=OT;var DT=class extends Error{constructor(){super("Invalid Sequence Component"),this.name="InvalidSequenceComponentError"}};Fo.InvalidSequenceComponentError=DT;var RT=class extends Error{constructor(){super("Invalid Checksum"),this.name="InvalidChecksumError"}};Fo.InvalidChecksumError=RT});var Lo=E(PT=>{"use strict";h();p();Object.defineProperty(PT,"__esModule",{value:!0});var kp=ua(),tse=kp.Buffer.from&&kp.Buffer.alloc&&kp.Buffer.allocUnsafe&&kp.Buffer.allocUnsafeSlow?kp.Buffer.from:function(t){return new kp.Buffer(t)};PT.default=tse});var Uo=E(BT=>{"use strict";h();p();Object.defineProperty(BT,"__esModule",{value:!0});BT.default=function(t,e){var r=function(i,a){return e(i,a)>>>0};return r.signed=e,r.unsigned=r,r.model=t,r}});var jq=E(MT=>{"use strict";h();p();Object.defineProperty(MT,"__esModule",{value:!0});var rse=ua(),nse=Lo(),ise=kq(nse),ase=Uo(),ose=kq(ase);function kq(t){return t&&t.__esModule?t:{default:t}}var sse=(0,ose.default)("crc1",function(t,e){rse.Buffer.isBuffer(t)||(t=(0,ise.default)(t));for(var r=~~e,n=0,i=0;i<t.length;i++){var a=t[i];n+=a}return r+=n%256,r%256});MT.default=sse});var Kq=E((aFe,Hq)=>{"use strict";h();p();Hq.exports=jq().default});var Gq=E(qT=>{"use strict";h();p();Object.defineProperty(qT,"__esModule",{value:!0});var use=ua(),fse=Lo(),cse=Vq(fse),dse=Uo(),lse=Vq(dse);function Vq(t){return t&&t.__esModule?t:{default:t}}var NT=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array<"u"&&(NT=new Int32Array(NT));var hse=(0,lse.default)("crc-8",function(t,e){use.Buffer.isBuffer(t)||(t=(0,cse.default)(t));for(var r=~~e,n=0;n<t.length;n++){var i=t[n];r=NT[(r^i)&255]&255}return r});qT.default=hse});var Yq=E((dFe,zq)=>{"use strict";h();p();zq.exports=Gq().default});var Xq=E(LT=>{"use strict";h();p();Object.defineProperty(LT,"__esModule",{value:!0});var pse=ua(),gse=Lo(),yse=Wq(gse),vse=Uo(),mse=Wq(vse);function Wq(t){return t&&t.__esModule?t:{default:t}}var FT=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array<"u"&&(FT=new Int32Array(FT));var _se=(0,mse.default)("dallas-1-wire",function(t,e){pse.Buffer.isBuffer(t)||(t=(0,yse.default)(t));for(var r=~~e,n=0;n<t.length;n++){var i=t[n];r=FT[(r^i)&255]&255}return r});LT.default=_se});var $q=E((vFe,Jq)=>{"use strict";h();p();Jq.exports=Xq().default});var Qq=E(kT=>{"use strict";h();p();Object.defineProperty(kT,"__esModule",{value:!0});var xse=ua(),bse=Lo(),wse=Zq(bse),Ese=Uo(),Sse=Zq(Ese);function Zq(t){return t&&t.__esModule?t:{default:t}}var UT=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(UT=new Int32Array(UT));var Ise=(0,Sse.default)("crc-16",function(t,e){xse.Buffer.isBuffer(t)||(t=(0,wse.default)(t));for(var r=~~e,n=0;n<t.length;n++){var i=t[n];r=(UT[(r^i)&255]^r>>8)&65535}return r});kT.default=Ise});var tF=E((EFe,eF)=>{"use strict";h();p();eF.exports=Qq().default});var nF=E(HT=>{"use strict";h();p();Object.defineProperty(HT,"__esModule",{value:!0});var Tse=ua(),Cse=Lo(),Ase=rF(Cse),Ose=Uo(),Dse=rF(Ose);function rF(t){return t&&t.__esModule?t:{default:t}}var jT=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array<"u"&&(jT=new Int32Array(jT));var Rse=(0,Dse.default)("ccitt",function(t,e){Tse.Buffer.isBuffer(t)||(t=(0,Ase.default)(t));for(var r=typeof e<"u"?~~e:65535,n=0;n<t.length;n++){var i=t[n];r=(jT[(r>>8^i)&255]^r<<8)&65535}return r});HT.default=Rse});var aF=E((OFe,iF)=>{"use strict";h();p();iF.exports=nF().default});var sF=E(VT=>{"use strict";h();p();Object.defineProperty(VT,"__esModule",{value:!0});var Pse=ua(),Bse=Lo(),Mse=oF(Bse),Nse=Uo(),qse=oF(Nse);function oF(t){return t&&t.__esModule?t:{default:t}}var KT=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array<"u"&&(KT=new Int32Array(KT));var Fse=(0,qse.default)("crc-16-modbus",function(t,e){Pse.Buffer.isBuffer(t)||(t=(0,Mse.default)(t));for(var r=typeof e<"u"?~~e:65535,n=0;n<t.length;n++){var i=t[n];r=(KT[(r^i)&255]^r>>8)&65535}return r});VT.default=Fse});var fF=E((NFe,uF)=>{"use strict";h();p();uF.exports=sF().default});var dF=E(GT=>{"use strict";h();p();Object.defineProperty(GT,"__esModule",{value:!0});var Lse=ua(),Use=Lo(),kse=cF(Use),jse=Uo(),Hse=cF(jse);function cF(t){return t&&t.__esModule?t:{default:t}}var Kse=(0,Hse.default)("xmodem",function(t,e){Lse.Buffer.isBuffer(t)||(t=(0,kse.default)(t));for(var r=typeof e<"u"?~~e:0,n=0;n<t.length;n++){var i=t[n],a=r>>>8&255;a^=i&255,a^=a>>>4,r=r<<8&65535,r^=a,a=a<<5&65535,r^=a,a=a<<7&65535,r^=a}return r});GT.default=Kse});var hF=E((jFe,lF)=>{"use strict";h();p();lF.exports=dF().default});var gF=E(YT=>{"use strict";h();p();Object.defineProperty(YT,"__esModule",{value:!0});var Vse=ua(),Gse=Lo(),zse=pF(Gse),Yse=Uo(),Wse=pF(Yse);function pF(t){return t&&t.__esModule?t:{default:t}}var zT=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array<"u"&&(zT=new Int32Array(zT));var Xse=(0,Wse.default)("kermit",function(t,e){Vse.Buffer.isBuffer(t)||(t=(0,zse.default)(t));for(var r=typeof e<"u"?~~e:0,n=0;n<t.length;n++){var i=t[n];r=(zT[(r^i)&255]^r>>8)&65535}return r});YT.default=Xse});var vF=E((YFe,yF)=>{"use strict";h();p();yF.exports=gF().default});var _F=E(XT=>{"use strict";h();p();Object.defineProperty(XT,"__esModule",{value:!0});var Jse=ua(),$se=Lo(),Zse=mF($se),Qse=Uo(),eue=mF(Qse);function mF(t){return t&&t.__esModule?t:{default:t}}var WT=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array<"u"&&(WT=new Int32Array(WT));var tue=(0,eue.default)("crc-24",function(t,e){Jse.Buffer.isBuffer(t)||(t=(0,Zse.default)(t));for(var r=typeof e<"u"?~~e:11994318,n=0;n<t.length;n++){var i=t[n];r=(WT[(r>>16^i)&255]^r<<8)&16777215}return r});XT.default=tue});var bF=E((QFe,xF)=>{"use strict";h();p();xF.exports=_F().default});var EF=E($T=>{"use strict";h();p();Object.defineProperty($T,"__esModule",{value:!0});var rue=ua(),nue=Lo(),iue=wF(nue),aue=Uo(),oue=wF(aue);function wF(t){return t&&t.__esModule?t:{default:t}}var JT=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(JT=new Int32Array(JT));var sue=(0,oue.default)("crc-32",function(t,e){rue.Buffer.isBuffer(t)||(t=(0,iue.default)(t));for(var r=e===0?0:~~e^-1,n=0;n<t.length;n++){var i=t[n];r=JT[(r^i)&255]^r>>>8}return r^-1});$T.default=sue});var IF=E((aLe,SF)=>{"use strict";h();p();SF.exports=EF().default});var CF=E(QT=>{"use strict";h();p();Object.defineProperty(QT,"__esModule",{value:!0});var uue=ua(),fue=Lo(),cue=TF(fue),due=Uo(),lue=TF(due);function TF(t){return t&&t.__esModule?t:{default:t}}var ZT=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(ZT=new Int32Array(ZT));var hue=(0,lue.default)("jam",function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1;uue.Buffer.isBuffer(t)||(t=(0,cue.default)(t));for(var r=e===0?0:~~e,n=0;n<t.length;n++){var i=t[n];r=ZT[(r^i)&255]^r>>>8}return r});QT.default=hue});var OF=E((dLe,AF)=>{"use strict";h();p();AF.exports=CF().default});var RF=E((pLe,DF)=>{"use strict";h();p();DF.exports={crc1:Kq(),crc8:Yq(),crc81wire:$q(),crc16:tF(),crc16ccitt:aF(),crc16modbus:fF(),crc16xmodem:hF(),crc16kermit:vF(),crc24:bF(),crc32:IF(),crcjam:OF()}});var S0=E(At=>{"use strict";h();p();var pue=At&&At.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(At,"__esModule",{value:!0});At.bufferXOR=At.setDifference=At.arrayContains=At.arraysEqual=At.hasPrefix=At.isURType=At.intToBytes=At.toUint32=At.getCRCHex=At.getCRC=At.split=At.partition=At.sha256Hash=void 0;var gue=pue(Uie()),PF=RF(),yue=t=>gue.default("sha256").update(t).digest();At.sha256Hash=yue;var vue=(t,e)=>t.match(new RegExp(".{1,"+e+"}","g"))||[t];At.partition=vue;var mue=(t,e)=>[t.slice(0,-e),t.slice(-e)];At.split=mue;var _ue=t=>PF.crc32(t);At.getCRC=_ue;var xue=t=>PF.crc32(t).toString(16).padStart(8,"0");At.getCRCHex=xue;var bue=t=>t>>>0;At.toUint32=bue;var wue=t=>{let e=new ArrayBuffer(4);return new DataView(e).setUint32(0,t,!1),v.Buffer.from(e)};At.intToBytes=wue;var Eue=t=>t.split("").every((e,r)=>{let n=t.charCodeAt(r);return"a".charCodeAt(0)<=n&&n<="z".charCodeAt(0)||"0".charCodeAt(0)<=n&&n<="9".charCodeAt(0)||n==="-".charCodeAt(0)});At.isURType=Eue;var Sue=(t,e)=>t.indexOf(e)===0;At.hasPrefix=Sue;var Iue=(t,e)=>t.length!==e.length?!1:t.every(r=>e.includes(r));At.arraysEqual=Iue;var Tue=(t,e)=>e.every(r=>t.includes(r));At.arrayContains=Tue;var Cue=(t,e)=>t.filter(r=>e.indexOf(r)<0);At.setDifference=Cue;var Aue=(t,e)=>{let r=Math.max(t.length,e.length),n=v.Buffer.allocUnsafe(r);for(let i=0;i<r;++i)n[i]=t[i]^e[i];return n};At.bufferXOR=Aue});var MF=E((BF,sb)=>{h();p();(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof sb<"u"&&sb.exports?sb.exports=e():t.CBOR=e()})(BF,function(){var t=function(){function e(C){this.$hex=C}e.prototype={length:function(){return this.$hex.length/2},toString:function(C){if(!C||C==="hex"||C===16)return this.$hex;if(C==="utf-8"){for(var d="",m=0;m<this.$hex.length;m+=2)d+="%"+this.$hex.substring(m,m+2);return decodeURIComponent(d)}if(C==="latin"){for(var d=[],m=0;m<this.$hex.length;m+=2)d.push(parseInt(this.$hex.substring(m,m+2),16));return String.fromCharCode.apply(String,d)}throw new Error("Unrecognised format: "+C)}},e.fromLatinString=function(C){for(var d="",m=0;m<C.length;m++){var x=C.charCodeAt(m).toString(16);x.length===1&&(x="0"+x),d+=x}return new e(d)},e.fromUtf8String=function(C){for(var d=encodeURIComponent(C),m="",x=0;x<d.length;x++)if(d.charAt(x)==="%")m+=d.substring(x+1,x+3),x+=2;else{var D=d.charCodeAt(x).toString(16);D.length<2&&(D="0"+D),m+=D}return new e(m)};var r=[],n={},i=function(C){return function(){throw new Error(C+" not implemented")}};function a(){}a.prototype={peekByte:i("peekByte"),readByte:i("readByte"),readChunk:i("readChunk"),readFloat16:function(){var C=this.readUint16(),d=(C&32767)>>10,m=C&1023,x=C&32768;if(d===31)return m===0?x?-1/0:1/0:NaN;var D=d?Math.pow(2,d-25)*(1024+m):Math.pow(2,-24)*m;return x?-D:D},readFloat32:function(){var C=this.readUint32(),d=(C&2147483647)>>23,m=C&8388607,x=C&2147483648;if(d===255)return m===0?x?-1/0:1/0:NaN;var D=d?Math.pow(2,d-23-127)*(8388608+m):Math.pow(2,-23-126)*m;return x?-D:D},readFloat64:function(){var C=this.readUint32(),d=this.readUint32(),m=C>>20&2047,x=(C&1048575)*4294967296+d,D=C&2147483648;if(m===2047)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-52-1023)*(4503599627370496+x):Math.pow(2,-52-1022)*x;return D?-M:M},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function o(){}o.prototype={writeByte:i("writeByte"),result:i("result"),writeFloat16:i("writeFloat16"),writeFloat32:i("writeFloat32"),writeFloat64:i("writeFloat64"),writeUint16:function(C){this.writeByte(C>>8&255),this.writeByte(C&255)},writeUint32:function(C){this.writeUint16(C>>16&65535),this.writeUint16(C&65535)},writeUint64:function(C){if(C>=9007199254740992||C<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+C+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(C/4294967296)),this.writeUint32(C%4294967296)},writeString:i("writeString"),canWriteBinary:function(C){return!1},writeBinary:i("writeChunk")};function s(C){var d=C.readByte(),m=d>>5,x=d&31;return{type:m,value:x}}function u(C,d){var m=C.value;if(m<24)return m;if(m==24)return d.readByte();if(m==25)return d.readUint16();if(m==26)return d.readUint32();if(m==27)return d.readUint64();if(m==31)return null;i("Additional info: "+m)()}function f(C,d,m){m.writeByte(C<<5|d)}function c(C,d,m){var x=C<<5;d<24?m.writeByte(x|d):d<256?(m.writeByte(x|24),m.writeByte(d)):d<65536?(m.writeByte(x|25),m.writeUint16(d)):d<4294967296?(m.writeByte(x|26),m.writeUint32(d)):(m.writeByte(x|27),m.writeUint64(d))}var l=new Error;function g(C){var d=s(C);switch(d.type){case 0:return u(d,C);case 1:return-1-u(d,C);case 2:return C.readChunk(u(d,C));case 3:var m=C.readChunk(u(d,C));return m.toString("utf-8");case 4:case 5:var x=u(d,C),A=[];if(x!==null){d.type===5&&(x*=2);for(var D=0;D<x;D++)A[D]=g(C)}else for(var M;(M=g(C))!==l;)A.push(M);if(d.type===5){for(var oe={},D=0;D<A.length;D+=2)oe[A[D]]=A[D+1];return oe}else return A;case 6:var L=u(d,C),b=n[L],A=g(C);return b?b(A):A;case 7:if(d.value===25)return C.readFloat16();if(d.value===26)return C.readFloat32();if(d.value===27)return C.readFloat64();switch(u(d,C)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return l;default:throw new Error("Unknown fixed value: "+d.value)}default:throw new Error("Unsupported header: "+JSON.stringify(d))}throw new Error("not implemented yet")}function y(C,d){for(var m=0;m<r.length;m++){var x=r[m].fn(C);if(x!==void 0)return c(6,r[m].tag,d),y(x,d)}if(C&&typeof C.toCBOR=="function"&&(C=C.toCBOR()),C===!1)c(7,20,d);else if(C===!0)c(7,21,d);else if(C===null)c(7,22,d);else if(C===void 0)c(7,23,d);else if(typeof C=="number")Math.floor(C)===C&&C<9007199254740992&&C>-9007199254740992?C<0?c(1,-1-C,d):c(0,C,d):(f(7,27,d),d.writeFloat64(C));else if(typeof C=="string")d.writeString(C,function(M){c(3,M,d)});else if(d.canWriteBinary(C))d.writeBinary(C,function(M){c(2,M,d)});else if(typeof C=="object")if(S.config.useToJSON&&typeof C.toJSON=="function"&&(C=C.toJSON()),Array.isArray(C)){c(4,C.length,d);for(var m=0;m<C.length;m++)y(C[m],d)}else{var D=Object.keys(C);c(5,D.length,d);for(var m=0;m<D.length;m++)y(D[m],d),y(C[D[m]],d)}else throw new Error("CBOR encoding not supported: "+C)}var _=[],w=[],S={config:{useToJSON:!0},addWriter:function(C,d){typeof C=="string"?w.push(function(m){if(C===m)return d(m)}):w.push(C)},addReader:function(C,d){typeof C=="string"?_.push(function(m,x){if(C===x)return d(m,x)}):_.push(C)},encode:function(C,d){for(var m=0;m<w.length;m++){var x=w[m],D=x(d);if(D)return y(C,D),D.result()}throw new Error("Unsupported output format: "+d)},decode:function(C,d){for(var m=0;m<_.length;m++){var x=_[m],D=x(C,d);if(D)return g(D)}throw new Error("Unsupported input format: "+d)},addSemanticEncode:function(C,d){if(typeof C!="number"||C%1!==0||C<0)throw new Error("Tag must be a positive integer");return r.push({tag:C,fn:d}),this},addSemanticDecode:function(C,d){if(typeof C!="number"||C%1!==0||C<0)throw new Error("Tag must be a positive integer");return n[C]=d,this},Reader:a,Writer:o};function I(C){this.buffer=C,this.pos=0}I.prototype=Object.create(a.prototype),I.prototype.peekByte=function(){return this.buffer[this.pos]},I.prototype.readByte=function(){return this.buffer[this.pos++]},I.prototype.readUint16=function(){var C=this.buffer.readUInt16BE(this.pos);return this.pos+=2,C},I.prototype.readUint32=function(){var C=this.buffer.readUInt32BE(this.pos);return this.pos+=4,C},I.prototype.readFloat32=function(){var C=this.buffer.readFloatBE(this.pos);return this.pos+=4,C},I.prototype.readFloat64=function(){var C=this.buffer.readDoubleBE(this.pos);return this.pos+=8,C},I.prototype.readChunk=function(C){var d=v.Buffer.alloc(C);return this.buffer.copy(d,0,this.pos,this.pos+=C),d};function O(C){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=C}O.prototype=Object.create(o.prototype),O.prototype.writeByte=function(C){this.latestBuffer[this.latestBufferOffset++]=C,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},O.prototype.writeFloat32=function(C){var d=v.Buffer.alloc(4);d.writeFloatBE(C,0),this.writeBuffer(d)},O.prototype.writeFloat64=function(C){var d=v.Buffer.alloc(8);d.writeDoubleBE(C,0),this.writeBuffer(d)},O.prototype.writeString=function(C,d){var m=v.Buffer.from(C,"utf-8");d(m.length),this.writeBuffer(m)},O.prototype.canWriteBinary=function(C){return C instanceof v.Buffer},O.prototype.writeBinary=function(C,d){d(C.length),this.writeBuffer(C)},O.prototype.writeBuffer=function(C){if(!(C instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=C.length?(C.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=C.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(C),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(C),this.byteLength+=C.length},O.prototype.result=function(){for(var C=v.Buffer.alloc(this.byteLength),d=0,m=0;m<this.completeBuffers.length;m++){var x=this.completeBuffers[m];x.copy(C,d,0,x.length),d+=x.length}return this.latestBufferOffset&&this.latestBuffer.copy(C,d,0,this.latestBufferOffset),this.stringFormat?C.toString(this.stringFormat):C},typeof v.Buffer=="function"&&(S.addReader(function(C,d){if(C instanceof v.Buffer)return new I(C);if(d==="hex"||d==="base64"){var m=v.Buffer.from(C,d);return new I(m)}}),S.addWriter(function(C){if(!C||C==="buffer")return new O;if(C==="hex"||C==="base64")return new O(C)}));function P(C){this.hex=C,this.pos=0}P.prototype=Object.create(a.prototype),P.prototype.peekByte=function(){var C=this.hex.substring(this.pos,2);return parseInt(C,16)},P.prototype.readByte=function(){var C=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(C,16)},P.prototype.readChunk=function(C){var d=this.hex.substring(this.pos,this.pos+C*2);return this.pos+=C*2,typeof v.Buffer=="function"?v.Buffer.from(d,"hex"):new e(d)};function q(C){this.$hex="",this.finalFormat=C||"hex"}return q.prototype=Object.create(o.prototype),q.prototype.writeByte=function(C){if(C<0||C>255)throw new Error("Byte value out of range: "+C);var d=C.toString(16);d.length==1&&(d="0"+d),this.$hex+=d},q.prototype.canWriteBinary=function(C){return C instanceof e||typeof v.Buffer=="function"&&C instanceof v.Buffer},q.prototype.writeBinary=function(C,d){if(C instanceof e)d(C.length()),this.$hex+=C.$hex;else if(typeof v.Buffer=="function"&&C instanceof v.Buffer)d(C.length),this.$hex+=C.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},q.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new e(this.$hex).toString(this.finalFormat)},q.prototype.writeString=function(C,d){var m=e.fromUtf8String(C);d(m.length()),this.$hex+=m.$hex},S.addReader(function(C,d){if(C instanceof e||C.$hex)return new P(C.$hex);if(d==="hex")return new P(C)}),S.addWriter(function(C){if(C==="hex")return new q}),S}();return t.addSemanticEncode(0,function(e){if(e instanceof Date)return e.toISOString()}).addSemanticDecode(0,function(e){return new Date(e)}).addSemanticDecode(1,function(e){return new Date(e)}),t})});var e7=E(jp=>{"use strict";h();p();Object.defineProperty(jp,"__esModule",{value:!0});jp.cborDecode=jp.cborEncode=void 0;var NF=MF(),Oue=t=>NF.encode(t);jp.cborEncode=Oue;var Due=t=>NF.decode(v.Buffer.isBuffer(t)?t:v.Buffer.from(t,"hex"));jp.cborDecode=Due});var r7=E(t7=>{"use strict";h();p();Object.defineProperty(t7,"__esModule",{value:!0});var Rue=ob(),Pue=S0(),qF=e7(),Hp=class{constructor(e,r="bytes"){if(this._cborPayload=e,this._type=r,!Pue.isURType(this._type))throw new Rue.InvalidTypeError}static fromBuffer(e){return new Hp(qF.cborEncode(e))}static from(e,r){return Hp.fromBuffer(v.Buffer.from(e,r))}decodeCBOR(){return qF.cborDecode(this._cborPayload)}get type(){return this._type}get cbor(){return this._cborPayload}equals(e){return this.type===e.type&&this.cbor.equals(e.cbor)}};t7.default=Hp});var FF=E((n7,i7)=>{h();p();(function(t,e){typeof n7=="object"&&typeof i7<"u"?i7.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self,t.JSBI=e())})(n7,function(){"use strict";var t=Math.imul,e=Math.clz32,r=Math.abs,n=Math.max,i=Math.floor;class a extends Array{constructor(s,u){if(super(s),this.sign=u,s>a.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(s){var u=Number.isFinite;if(typeof s=="number"){if(s===0)return a.__zero();if(a.__isOneDigitInt(s))return 0>s?a.__oneDigit(-s,!0):a.__oneDigit(s,!1);if(!u(s)||i(s)!==s)throw new RangeError("The number "+s+" cannot be converted to BigInt because it is not an integer");return a.__fromDouble(s)}if(typeof s=="string"){let f=a.__fromString(s);if(f===null)throw new SyntaxError("Cannot convert "+s+" to a BigInt");return f}if(typeof s=="boolean")return s===!0?a.__oneDigit(1,!1):a.__zero();if(typeof s=="object"){if(s.constructor===a)return s;let f=a.__toPrimitive(s);return a.BigInt(f)}throw new TypeError("Cannot convert "+s+" to a BigInt")}toDebugString(){let s=["BigInt["];for(let u of this)s.push((u&&(u>>>0).toString(16))+", ");return s.push("]"),s.join("")}toString(s=10){if(2>s||36<s)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(s&s-1)==0?a.__toStringBasePowerOfTwo(this,s):a.__toStringGeneric(this,s,!1)}static toNumber(s){let u=s.length;if(u===0)return 0;if(u===1){let d=s.__unsignedDigit(0);return s.sign?-d:d}let f=s.__digit(u-1),c=a.__clz30(f),l=30*u-c;if(1024<l)return s.sign?-1/0:1/0;let g=l-1,y=f,_=u-1,w=c+3,S=w===32?0:y<<w;S>>>=12;let I=w-12,O=12<=w?0:y<<20+w,P=20+w;for(0<I&&0<_&&(_--,y=s.__digit(_),S|=y>>>30-I,O=y<<I+2,P=I+2);0<P&&0<_;)_--,y=s.__digit(_),O|=30<=P?y<<P-30:y>>>30-P,P-=30;let q=a.__decideRounding(s,P,_,y);if((q===1||q===0&&(1&O)==1)&&(O=O+1>>>0,O===0&&(S++,S>>>20!=0&&(S=0,g++,1023<g))))return s.sign?-1/0:1/0;let C=s.sign?-2147483648:0;return g=g+1023<<20,a.__kBitConversionInts[1]=C|g|S,a.__kBitConversionInts[0]=O,a.__kBitConversionDouble[0]}static unaryMinus(s){if(s.length===0)return s;let u=s.__copy();return u.sign=!s.sign,u}static bitwiseNot(s){return s.sign?a.__absoluteSubOne(s).__trim():a.__absoluteAddOne(s,!0)}static exponentiate(s,u){if(u.sign)throw new RangeError("Exponent must be positive");if(u.length===0)return a.__oneDigit(1,!1);if(s.length===0)return s;if(s.length===1&&s.__digit(0)===1)return s.sign&&(1&u.__digit(0))==0?a.unaryMinus(s):s;if(1<u.length)throw new RangeError("BigInt too big");let f=u.__unsignedDigit(0);if(f===1)return s;if(f>=a.__kMaxLengthBits)throw new RangeError("BigInt too big");if(s.length===1&&s.__digit(0)===2){let g=1+(0|f/30),y=s.sign&&(1&f)!=0,_=new a(g,y);_.__initializeDigits();let w=1<<f%30;return _.__setDigit(g-1,w),_}let c=null,l=s;for((1&f)!=0&&(c=s),f>>=1;f!==0;f>>=1)l=a.multiply(l,l),(1&f)!=0&&(c===null?c=l:c=a.multiply(c,l));return c}static multiply(s,u){if(s.length===0)return s;if(u.length===0)return u;let f=s.length+u.length;30<=s.__clzmsd()+u.__clzmsd()&&f--;let c=new a(f,s.sign!==u.sign);c.__initializeDigits();for(let l=0;l<s.length;l++)a.__multiplyAccumulate(u,s.__digit(l),c,l);return c.__trim()}static divide(s,u){if(u.length===0)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(s,u))return a.__zero();let f=s.sign!==u.sign,c=u.__unsignedDigit(0),l;if(u.length===1&&32767>=c){if(c===1)return f===s.sign?s:a.unaryMinus(s);l=a.__absoluteDivSmall(s,c,null)}else l=a.__absoluteDivLarge(s,u,!0,!1);return l.sign=f,l.__trim()}static remainder(s,u){if(u.length===0)throw new RangeError("Division by zero");if(0>a.__absoluteCompare(s,u))return s;let f=u.__unsignedDigit(0);if(u.length===1&&32767>=f){if(f===1)return a.__zero();let l=a.__absoluteModSmall(s,f);return l===0?a.__zero():a.__oneDigit(l,s.sign)}let c=a.__absoluteDivLarge(s,u,!1,!0);return c.sign=s.sign,c.__trim()}static add(s,u){let f=s.sign;return f===u.sign?a.__absoluteAdd(s,u,f):0<=a.__absoluteCompare(s,u)?a.__absoluteSub(s,u,f):a.__absoluteSub(u,s,!f)}static subtract(s,u){let f=s.sign;return f===u.sign?0<=a.__absoluteCompare(s,u)?a.__absoluteSub(s,u,f):a.__absoluteSub(u,s,!f):a.__absoluteAdd(s,u,f)}static leftShift(s,u){return u.length===0||s.length===0?s:u.sign?a.__rightShiftByAbsolute(s,u):a.__leftShiftByAbsolute(s,u)}static signedRightShift(s,u){return u.length===0||s.length===0?s:u.sign?a.__leftShiftByAbsolute(s,u):a.__rightShiftByAbsolute(s,u)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(s,u){return 0>a.__compareToBigInt(s,u)}static lessThanOrEqual(s,u){return 0>=a.__compareToBigInt(s,u)}static greaterThan(s,u){return 0<a.__compareToBigInt(s,u)}static greaterThanOrEqual(s,u){return 0<=a.__compareToBigInt(s,u)}static equal(s,u){if(s.sign!==u.sign||s.length!==u.length)return!1;for(let f=0;f<s.length;f++)if(s.__digit(f)!==u.__digit(f))return!1;return!0}static notEqual(s,u){return!a.equal(s,u)}static bitwiseAnd(s,u){if(!s.sign&&!u.sign)return a.__absoluteAnd(s,u).__trim();if(s.sign&&u.sign){let f=n(s.length,u.length)+1,c=a.__absoluteSubOne(s,f),l=a.__absoluteSubOne(u);return c=a.__absoluteOr(c,l,c),a.__absoluteAddOne(c,!0,c).__trim()}return s.sign&&([s,u]=[u,s]),a.__absoluteAndNot(s,a.__absoluteSubOne(u)).__trim()}static bitwiseXor(s,u){if(!s.sign&&!u.sign)return a.__absoluteXor(s,u).__trim();if(s.sign&&u.sign){let l=n(s.length,u.length),g=a.__absoluteSubOne(s,l),y=a.__absoluteSubOne(u);return a.__absoluteXor(g,y,g).__trim()}let f=n(s.length,u.length)+1;s.sign&&([s,u]=[u,s]);let c=a.__absoluteSubOne(u,f);return c=a.__absoluteXor(c,s,c),a.__absoluteAddOne(c,!0,c).__trim()}static bitwiseOr(s,u){let f=n(s.length,u.length);if(!s.sign&&!u.sign)return a.__absoluteOr(s,u).__trim();if(s.sign&&u.sign){let l=a.__absoluteSubOne(s,f),g=a.__absoluteSubOne(u);return l=a.__absoluteAnd(l,g,l),a.__absoluteAddOne(l,!0,l).__trim()}s.sign&&([s,u]=[u,s]);let c=a.__absoluteSubOne(u,f);return c=a.__absoluteAndNot(c,s,c),a.__absoluteAddOne(c,!0,c).__trim()}static asIntN(s,u){if(u.length===0)return u;if(s=i(s),0>s)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(s===0)return a.__zero();if(s>=a.__kMaxLengthBits)return u;let f=0|(s+29)/30;if(u.length<f)return u;let c=u.__unsignedDigit(f-1),l=1<<(s-1)%30;if(u.length===f&&c<l)return u;if((c&l)!==l)return a.__truncateToNBits(s,u);if(!u.sign)return a.__truncateAndSubFromPowerOfTwo(s,u,!0);if((c&l-1)==0){for(let g=f-2;0<=g;g--)if(u.__digit(g)!==0)return a.__truncateAndSubFromPowerOfTwo(s,u,!1);return u.length===f&&c===l?u:a.__truncateToNBits(s,u)}return a.__truncateAndSubFromPowerOfTwo(s,u,!1)}static asUintN(s,u){if(u.length===0)return u;if(s=i(s),0>s)throw new RangeError("Invalid value: not (convertible to) a safe integer");if(s===0)return a.__zero();if(u.sign){if(s>a.__kMaxLengthBits)throw new RangeError("BigInt too big");return a.__truncateAndSubFromPowerOfTwo(s,u,!1)}if(s>=a.__kMaxLengthBits)return u;let f=0|(s+29)/30;if(u.length<f)return u;let c=s%30;return u.length==f&&(c===0||u.__digit(f-1)>>>c==0)?u:a.__truncateToNBits(s,u)}static ADD(s,u){if(s=a.__toPrimitive(s),u=a.__toPrimitive(u),typeof s=="string")return typeof u!="string"&&(u=u.toString()),s+u;if(typeof u=="string")return s.toString()+u;if(s=a.__toNumeric(s),u=a.__toNumeric(u),a.__isBigInt(s)&&a.__isBigInt(u))return a.add(s,u);if(typeof s=="number"&&typeof u=="number")return s+u;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(s,u){return a.__compare(s,u,0)}static LE(s,u){return a.__compare(s,u,1)}static GT(s,u){return a.__compare(s,u,2)}static GE(s,u){return a.__compare(s,u,3)}static EQ(s,u){for(;;){if(a.__isBigInt(s))return a.__isBigInt(u)?a.equal(s,u):a.EQ(u,s);if(typeof s=="number"){if(a.__isBigInt(u))return a.__equalToNumber(u,s);if(typeof u!="object")return s==u;u=a.__toPrimitive(u)}else if(typeof s=="string"){if(a.__isBigInt(u))return s=a.__fromString(s),s!==null&&a.equal(s,u);if(typeof u!="object")return s==u;u=a.__toPrimitive(u)}else if(typeof s=="boolean"){if(a.__isBigInt(u))return a.__equalToNumber(u,+s);if(typeof u!="object")return s==u;u=a.__toPrimitive(u)}else if(typeof s=="symbol"){if(a.__isBigInt(u))return!1;if(typeof u!="object")return s==u;u=a.__toPrimitive(u)}else if(typeof s=="object"){if(typeof u=="object"&&u.constructor!==a)return s==u;s=a.__toPrimitive(s)}else return s==u}}static NE(s,u){return!a.EQ(s,u)}static __zero(){return new a(0,!1)}static __oneDigit(s,u){let f=new a(1,u);return f.__setDigit(0,s),f}__copy(){let s=new a(this.length,this.sign);for(let u=0;u<this.length;u++)s[u]=this[u];return s}__trim(){let s=this.length,u=this[s-1];for(;u===0;)s--,u=this[s-1],this.pop();return s===0&&(this.sign=!1),this}__initializeDigits(){for(let s=0;s<this.length;s++)this[s]=0}static __decideRounding(s,u,f,c){if(0<u)return-1;let l;if(0>u)l=-u-1;else{if(f===0)return-1;f--,c=s.__digit(f),l=29}let g=1<<l;if((c&g)==0)return-1;if(g-=1,(c&g)!=0)return 1;for(;0<f;)if(f--,s.__digit(f)!==0)return 1;return 0}static __fromDouble(s){a.__kBitConversionDouble[0]=s;let u=2047&a.__kBitConversionInts[1]>>>20,f=u-1023,c=(0|f/30)+1,l=new a(c,0>s),g=1048575&a.__kBitConversionInts[1]|1048576,y=a.__kBitConversionInts[0],_=20,w=f%30,S,I=0;if(20>w){let O=_-w;I=O+32,S=g>>>O,g=g<<32-O|y>>>O,y<<=32-O}else if(w===20)I=32,S=g,g=y,y=0;else{let O=w-_;I=32-O,S=g<<O|y>>>32-O,g=y<<O,y=0}l.__setDigit(c-1,S);for(let O=c-2;0<=O;O--)0<I?(I-=30,S=g>>>2,g=g<<30|y>>>2,y<<=30):S=0,l.__setDigit(O,S);return l.__trim()}static __isWhitespace(s){return 13>=s&&9<=s||(159>=s?s==32:131071>=s?s==160||s==5760:196607>=s?(s&=131071,10>=s||s==40||s==41||s==47||s==95||s==4096):s==65279)}static __fromString(s,u=0){let f=0,c=s.length,l=0;if(l===c)return a.__zero();let g=s.charCodeAt(l);for(;a.__isWhitespace(g);){if(++l===c)return a.__zero();g=s.charCodeAt(l)}if(g===43){if(++l===c)return null;g=s.charCodeAt(l),f=1}else if(g===45){if(++l===c)return null;g=s.charCodeAt(l),f=-1}if(u===0){if(u=10,g===48){if(++l===c)return a.__zero();if(g=s.charCodeAt(l),g===88||g===120){if(u=16,++l===c)return null;g=s.charCodeAt(l)}else if(g===79||g===111){if(u=8,++l===c)return null;g=s.charCodeAt(l)}else if(g===66||g===98){if(u=2,++l===c)return null;g=s.charCodeAt(l)}}}else if(u===16&&g===48){if(++l===c)return a.__zero();if(g=s.charCodeAt(l),g===88||g===120){if(++l===c)return null;g=s.charCodeAt(l)}}if(f!=0&&u!==10)return null;for(;g===48;){if(++l===c)return a.__zero();g=s.charCodeAt(l)}let y=c-l,_=a.__kMaxBitsPerChar[u],w=a.__kBitsPerCharTableMultiplier-1;if(y>1073741824/_)return null;let S=_*y+w>>>a.__kBitsPerCharTableShift,I=new a(0|(S+29)/30,!1),O=10>u?u:10,P=10<u?u-10:0;if((u&u-1)==0){_>>=a.__kBitsPerCharTableShift;let q=[],C=[],d=!1;do{let m=0,x=0;for(;;){let D;if(g-48>>>0<O)D=g-48;else if((32|g)-97>>>0<P)D=(32|g)-87;else{d=!0;break}if(x+=_,m=m<<_|D,++l===c){d=!0;break}if(g=s.charCodeAt(l),30<x+_)break}q.push(m),C.push(x)}while(!d);a.__fillFromParts(I,q,C)}else{I.__initializeDigits();let q=!1,C=0;do{let d=0,m=1;for(;;){let D;if(g-48>>>0<O)D=g-48;else if((32|g)-97>>>0<P)D=(32|g)-87;else{q=!0;break}let M=m*u;if(1073741823<M)break;if(m=M,d=d*u+D,C++,++l===c){q=!0;break}g=s.charCodeAt(l)}w=30*a.__kBitsPerCharTableMultiplier-1;let x=0|(_*C+w>>>a.__kBitsPerCharTableShift)/30;I.__inplaceMultiplyAdd(m,d,x)}while(!q)}if(l!==c){if(!a.__isWhitespace(g))return null;for(l++;l<c;l++)if(g=s.charCodeAt(l),!a.__isWhitespace(g))return null}return I.sign=f==-1,I.__trim()}static __fillFromParts(s,u,f){let c=0,l=0,g=0;for(let y=u.length-1;0<=y;y--){let _=u[y],w=f[y];l|=_<<g,g+=w,g===30?(s.__setDigit(c++,l),g=0,l=0):30<g&&(s.__setDigit(c++,1073741823&l),g-=30,l=_>>>w-g)}if(l!==0){if(c>=s.length)throw new Error("implementation bug");s.__setDigit(c++,l)}for(;c<s.length;c++)s.__setDigit(c,0)}static __toStringBasePowerOfTwo(s,u){let f=s.length,c=u-1;c=(85&c>>>1)+(85&c),c=(51&c>>>2)+(51&c),c=(15&c>>>4)+(15&c);let l=c,g=u-1,y=s.__digit(f-1),_=a.__clz30(y),w=0|(30*f-_+l-1)/l;if(s.sign&&w++,268435456<w)throw new Error("string too long");let S=Array(w),I=w-1,O=0,P=0;for(let C=0;C<f-1;C++){let d=s.__digit(C),m=(O|d<<P)&g;S[I--]=a.__kConversionChars[m];let x=l-P;for(O=d>>>x,P=30-x;P>=l;)S[I--]=a.__kConversionChars[O&g],O>>>=l,P-=l}let q=(O|y<<P)&g;for(S[I--]=a.__kConversionChars[q],O=y>>>l-P;O!==0;)S[I--]=a.__kConversionChars[O&g],O>>>=l;if(s.sign&&(S[I--]="-"),I!=-1)throw new Error("implementation bug");return S.join("")}static __toStringGeneric(s,u,f){let c=s.length;if(c===0)return"";if(c===1){let C=s.__unsignedDigit(0).toString(u);return f===!1&&s.sign&&(C="-"+C),C}let l=30*c-a.__clz30(s.__digit(c-1)),g=a.__kMaxBitsPerChar[u],y=g-1,_=l*a.__kBitsPerCharTableMultiplier;_+=y-1,_=0|_/y;let w=_+1>>1,S=a.exponentiate(a.__oneDigit(u,!1),a.__oneDigit(w,!1)),I,O,P=S.__unsignedDigit(0);if(S.length===1&&32767>=P){I=new a(s.length,!1),I.__initializeDigits();let C=0;for(let d=2*s.length-1;0<=d;d--){let m=C<<15|s.__halfDigit(d);I.__setHalfDigit(d,0|m/P),C=0|m%P}O=C.toString(u)}else{let C=a.__absoluteDivLarge(s,S,!0,!0);I=C.quotient;let d=C.remainder.__trim();O=a.__toStringGeneric(d,u,!0)}I.__trim();let q=a.__toStringGeneric(I,u,!0);for(;O.length<w;)O="0"+O;return f===!1&&s.sign&&(q="-"+q),q+O}static __unequalSign(s){return s?-1:1}static __absoluteGreater(s){return s?-1:1}static __absoluteLess(s){return s?1:-1}static __compareToBigInt(s,u){let f=s.sign;if(f!==u.sign)return a.__unequalSign(f);let c=a.__absoluteCompare(s,u);return 0<c?a.__absoluteGreater(f):0>c?a.__absoluteLess(f):0}static __compareToNumber(s,u){if(a.__isOneDigitInt(u)){let f=s.sign,c=0>u;if(f!==c)return a.__unequalSign(f);if(s.length===0){if(c)throw new Error("implementation bug");return u===0?0:-1}if(1<s.length)return a.__absoluteGreater(f);let l=r(u),g=s.__unsignedDigit(0);return g>l?a.__absoluteGreater(f):g<l?a.__absoluteLess(f):0}return a.__compareToDouble(s,u)}static __compareToDouble(s,u){if(u!==u)return u;if(u===1/0)return-1;if(u===-1/0)return 1;let f=s.sign;if(f!==0>u)return a.__unequalSign(f);if(u===0)throw new Error("implementation bug: should be handled elsewhere");if(s.length===0)return-1;a.__kBitConversionDouble[0]=u;let c=2047&a.__kBitConversionInts[1]>>>20;if(c==2047)throw new Error("implementation bug: handled elsewhere");let l=c-1023;if(0>l)return a.__absoluteGreater(f);let g=s.length,y=s.__digit(g-1),_=a.__clz30(y),w=30*g-_,S=l+1;if(w<S)return a.__absoluteLess(f);if(w>S)return a.__absoluteGreater(f);let I=1048576|1048575&a.__kBitConversionInts[1],O=a.__kBitConversionInts[0],P=20,q=29-_;if(q!==(0|(w-1)%30))throw new Error("implementation bug");let C,d=0;if(20>q){let m=P-q;d=m+32,C=I>>>m,I=I<<32-m|O>>>m,O<<=32-m}else if(q===20)d=32,C=I,I=O,O=0;else{let m=q-P;d=32-m,C=I<<m|O>>>32-m,I=O<<m,O=0}if(y>>>=0,C>>>=0,y>C)return a.__absoluteGreater(f);if(y<C)return a.__absoluteLess(f);for(let m=g-2;0<=m;m--){0<d?(d-=30,C=I>>>2,I=I<<30|O>>>2,O<<=30):C=0;let x=s.__unsignedDigit(m);if(x>C)return a.__absoluteGreater(f);if(x<C)return a.__absoluteLess(f)}if(I!==0||O!==0){if(d===0)throw new Error("implementation bug");return a.__absoluteLess(f)}return 0}static __equalToNumber(s,u){return a.__isOneDigitInt(u)?u===0?s.length===0:s.length===1&&s.sign===0>u&&s.__unsignedDigit(0)===r(u):a.__compareToDouble(s,u)===0}static __comparisonResultToBool(s,u){return u===0?0>s:u===1?0>=s:u===2?0<s:u===3?0<=s:void 0}static __compare(s,u,f){if(s=a.__toPrimitive(s),u=a.__toPrimitive(u),typeof s=="string"&&typeof u=="string")switch(f){case 0:return s<u;case 1:return s<=u;case 2:return s>u;case 3:return s>=u}if(a.__isBigInt(s)&&typeof u=="string")return u=a.__fromString(u),u!==null&&a.__comparisonResultToBool(a.__compareToBigInt(s,u),f);if(typeof s=="string"&&a.__isBigInt(u))return s=a.__fromString(s),s!==null&&a.__comparisonResultToBool(a.__compareToBigInt(s,u),f);if(s=a.__toNumeric(s),u=a.__toNumeric(u),a.__isBigInt(s)){if(a.__isBigInt(u))return a.__comparisonResultToBool(a.__compareToBigInt(s,u),f);if(typeof u!="number")throw new Error("implementation bug");return a.__comparisonResultToBool(a.__compareToNumber(s,u),f)}if(typeof s!="number")throw new Error("implementation bug");if(a.__isBigInt(u))return a.__comparisonResultToBool(a.__compareToNumber(u,s),2^f);if(typeof u!="number")throw new Error("implementation bug");return f===0?s<u:f===1?s<=u:f===2?s>u:f===3?s>=u:void 0}__clzmsd(){return a.__clz30(this.__digit(this.length-1))}static __absoluteAdd(s,u,f){if(s.length<u.length)return a.__absoluteAdd(u,s,f);if(s.length===0)return s;if(u.length===0)return s.sign===f?s:a.unaryMinus(s);let c=s.length;(s.__clzmsd()===0||u.length===s.length&&u.__clzmsd()===0)&&c++;let l=new a(c,f),g=0,y=0;for(;y<u.length;y++){let _=s.__digit(y)+u.__digit(y)+g;g=_>>>30,l.__setDigit(y,1073741823&_)}for(;y<s.length;y++){let _=s.__digit(y)+g;g=_>>>30,l.__setDigit(y,1073741823&_)}return y<l.length&&l.__setDigit(y,g),l.__trim()}static __absoluteSub(s,u,f){if(s.length===0)return s;if(u.length===0)return s.sign===f?s:a.unaryMinus(s);let c=new a(s.length,f),l=0,g=0;for(;g<u.length;g++){let y=s.__digit(g)-u.__digit(g)-l;l=1&y>>>30,c.__setDigit(g,1073741823&y)}for(;g<s.length;g++){let y=s.__digit(g)-l;l=1&y>>>30,c.__setDigit(g,1073741823&y)}return c.__trim()}static __absoluteAddOne(s,u,f=null){let c=s.length;f===null?f=new a(c,u):f.sign=u;let l=1;for(let g=0;g<c;g++){let y=s.__digit(g)+l;l=y>>>30,f.__setDigit(g,1073741823&y)}return l!=0&&f.__setDigitGrow(c,1),f}static __absoluteSubOne(s,u){let f=s.length;u=u||f;let c=new a(u,!1),l=1;for(let g=0;g<f;g++){let y=s.__digit(g)-l;l=1&y>>>30,c.__setDigit(g,1073741823&y)}if(l!=0)throw new Error("implementation bug");for(let g=f;g<u;g++)c.__setDigit(g,0);return c}static __absoluteAnd(s,u,f=null){let c=s.length,l=u.length,g=l;if(c<l){g=c;let w=s,S=c;s=u,c=l,u=w,l=S}let y=g;f===null?f=new a(y,!1):y=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)&u.__digit(_));for(;_<y;_++)f.__setDigit(_,0);return f}static __absoluteAndNot(s,u,f=null){let c=s.length,l=u.length,g=l;c<l&&(g=c);let y=c;f===null?f=new a(y,!1):y=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)&~u.__digit(_));for(;_<c;_++)f.__setDigit(_,s.__digit(_));for(;_<y;_++)f.__setDigit(_,0);return f}static __absoluteOr(s,u,f=null){let c=s.length,l=u.length,g=l;if(c<l){g=c;let w=s,S=c;s=u,c=l,u=w,l=S}let y=c;f===null?f=new a(y,!1):y=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)|u.__digit(_));for(;_<c;_++)f.__setDigit(_,s.__digit(_));for(;_<y;_++)f.__setDigit(_,0);return f}static __absoluteXor(s,u,f=null){let c=s.length,l=u.length,g=l;if(c<l){g=c;let w=s,S=c;s=u,c=l,u=w,l=S}let y=c;f===null?f=new a(y,!1):y=f.length;let _=0;for(;_<g;_++)f.__setDigit(_,s.__digit(_)^u.__digit(_));for(;_<c;_++)f.__setDigit(_,s.__digit(_));for(;_<y;_++)f.__setDigit(_,0);return f}static __absoluteCompare(s,u){let f=s.length-u.length;if(f!=0)return f;let c=s.length-1;for(;0<=c&&s.__digit(c)===u.__digit(c);)c--;return 0>c?0:s.__unsignedDigit(c)>u.__unsignedDigit(c)?1:-1}static __multiplyAccumulate(s,u,f,c){if(u===0)return;let l=32767&u,g=u>>>15,y=0,_=0;for(let w,S=0;S<s.length;S++,c++){w=f.__digit(c);let I=s.__digit(S),O=32767&I,P=I>>>15,q=a.__imul(O,l),C=a.__imul(O,g),d=a.__imul(P,l),m=a.__imul(P,g);w+=_+q+y,y=w>>>30,w&=1073741823,w+=((32767&C)<<15)+((32767&d)<<15),y+=w>>>30,_=m+(C>>>15)+(d>>>15),f.__setDigit(c,1073741823&w)}for(;y!=0||_!==0;c++){let w=f.__digit(c);w+=y+_,_=0,y=w>>>30,f.__setDigit(c,1073741823&w)}}static __internalMultiplyAdd(s,u,f,c,l){let g=f,y=0;for(let _=0;_<c;_++){let w=s.__digit(_),S=a.__imul(32767&w,u),I=a.__imul(w>>>15,u),O=S+((32767&I)<<15)+y+g;g=O>>>30,y=I>>>15,l.__setDigit(_,1073741823&O)}if(l.length>c)for(l.__setDigit(c++,g+y);c<l.length;)l.__setDigit(c++,0);else if(g+y!==0)throw new Error("implementation bug")}__inplaceMultiplyAdd(s,u,f){f>this.length&&(f=this.length);let c=32767&s,l=s>>>15,g=0,y=u;for(let _=0;_<f;_++){let w=this.__digit(_),S=32767&w,I=w>>>15,O=a.__imul(S,c),P=a.__imul(S,l),q=a.__imul(I,c),C=a.__imul(I,l),d=y+O+g;g=d>>>30,d&=1073741823,d+=((32767&P)<<15)+((32767&q)<<15),g+=d>>>30,y=C+(P>>>15)+(q>>>15),this.__setDigit(_,1073741823&d)}if(g!=0||y!==0)throw new Error("implementation bug")}static __absoluteDivSmall(s,u,f=null){f===null&&(f=new a(s.length,!1));let c=0;for(let l,g=2*s.length-1;0<=g;g-=2){l=(c<<15|s.__halfDigit(g))>>>0;let y=0|l/u;c=0|l%u,l=(c<<15|s.__halfDigit(g-1))>>>0;let _=0|l/u;c=0|l%u,f.__setDigit(g>>>1,y<<15|_)}return f}static __absoluteModSmall(s,u){let f=0;for(let c=2*s.length-1;0<=c;c--)f=0|((f<<15|s.__halfDigit(c))>>>0)%u;return f}static __absoluteDivLarge(s,u,f,c){let l=u.__halfDigitLength(),g=u.length,y=s.__halfDigitLength()-l,_=null;f&&(_=new a(y+2>>>1,!1),_.__initializeDigits());let w=new a(l+2>>>1,!1);w.__initializeDigits();let S=a.__clz15(u.__halfDigit(l-1));0<S&&(u=a.__specialLeftShift(u,S,0));let I=a.__specialLeftShift(s,S,1),O=u.__halfDigit(l-1),P=0;for(let q,C=y;0<=C;C--){q=32767;let d=I.__halfDigit(C+l);if(d!==O){let x=(d<<15|I.__halfDigit(C+l-1))>>>0;q=0|x/O;let D=0|x%O,M=u.__halfDigit(l-2),oe=I.__halfDigit(C+l-2);for(;a.__imul(q,M)>>>0>(D<<16|oe)>>>0&&(q--,D+=O,!(32767<D)););}a.__internalMultiplyAdd(u,q,0,g,w);let m=I.__inplaceSub(w,C,l+1);m!==0&&(m=I.__inplaceAdd(u,C,l),I.__setHalfDigit(C+l,32767&I.__halfDigit(C+l)+m),q--),f&&(1&C?P=q<<15:_.__setDigit(C>>>1,P|q))}if(c)return I.__inplaceRightShift(S),f?{quotient:_,remainder:I}:I;if(f)return _;throw new Error("unreachable")}static __clz15(s){return a.__clz30(s)-15}__inplaceAdd(s,u,f){let c=0;for(let l=0;l<f;l++){let g=this.__halfDigit(u+l)+s.__halfDigit(l)+c;c=g>>>15,this.__setHalfDigit(u+l,32767&g)}return c}__inplaceSub(s,u,f){let c=0;if(1&u){u>>=1;let l=this.__digit(u),g=32767&l,y=0;for(;y<f-1>>>1;y++){let S=s.__digit(y),I=(l>>>15)-(32767&S)-c;c=1&I>>>15,this.__setDigit(u+y,(32767&I)<<15|32767&g),l=this.__digit(u+y+1),g=(32767&l)-(S>>>15)-c,c=1&g>>>15}let _=s.__digit(y),w=(l>>>15)-(32767&_)-c;if(c=1&w>>>15,this.__setDigit(u+y,(32767&w)<<15|32767&g),u+y+1>=this.length)throw new RangeError("out of bounds");(1&f)==0&&(l=this.__digit(u+y+1),g=(32767&l)-(_>>>15)-c,c=1&g>>>15,this.__setDigit(u+s.length,1073709056&l|32767&g))}else{u>>=1;let l=0;for(;l<s.length-1;l++){let S=this.__digit(u+l),I=s.__digit(l),O=(32767&S)-(32767&I)-c;c=1&O>>>15;let P=(S>>>15)-(I>>>15)-c;c=1&P>>>15,this.__setDigit(u+l,(32767&P)<<15|32767&O)}let g=this.__digit(u+l),y=s.__digit(l),_=(32767&g)-(32767&y)-c;c=1&_>>>15;let w=0;(1&f)==0&&(w=(g>>>15)-(y>>>15)-c,c=1&w>>>15),this.__setDigit(u+l,(32767&w)<<15|32767&_)}return c}__inplaceRightShift(s){if(s===0)return;let u=this.__digit(0)>>>s,f=this.length-1;for(let c=0;c<f;c++){let l=this.__digit(c+1);this.__setDigit(c,1073741823&l<<30-s|u),u=l>>>s}this.__setDigit(f,u)}static __specialLeftShift(s,u,f){let c=s.length,l=new a(c+f,!1);if(u===0){for(let y=0;y<c;y++)l.__setDigit(y,s.__digit(y));return 0<f&&l.__setDigit(c,0),l}let g=0;for(let y=0;y<c;y++){let _=s.__digit(y);l.__setDigit(y,1073741823&_<<u|g),g=_>>>30-u}return 0<f&&l.__setDigit(c,g),l}static __leftShiftByAbsolute(s,u){let f=a.__toShiftAmount(u);if(0>f)throw new RangeError("BigInt too big");let c=0|f/30,l=f%30,g=s.length,y=l!==0&&s.__digit(g-1)>>>30-l!=0,_=g+c+(y?1:0),w=new a(_,s.sign);if(l===0){let S=0;for(;S<c;S++)w.__setDigit(S,0);for(;S<_;S++)w.__setDigit(S,s.__digit(S-c))}else{let S=0;for(let I=0;I<c;I++)w.__setDigit(I,0);for(let I=0;I<g;I++){let O=s.__digit(I);w.__setDigit(I+c,1073741823&O<<l|S),S=O>>>30-l}if(y)w.__setDigit(g+c,S);else if(S!==0)throw new Error("implementation bug")}return w.__trim()}static __rightShiftByAbsolute(s,u){let f=s.length,c=s.sign,l=a.__toShiftAmount(u);if(0>l)return a.__rightShiftByMaximum(c);let g=0|l/30,y=l%30,_=f-g;if(0>=_)return a.__rightShiftByMaximum(c);let w=!1;if(c){if((s.__digit(g)&(1<<y)-1)!=0)w=!0;else for(let I=0;I<g;I++)if(s.__digit(I)!==0){w=!0;break}}w&&y===0&&~s.__digit(f-1)==0&&_++;let S=new a(_,c);if(y===0){S.__setDigit(_-1,0);for(let I=g;I<f;I++)S.__setDigit(I-g,s.__digit(I))}else{let I=s.__digit(g)>>>y,O=f-g-1;for(let P=0;P<O;P++){let q=s.__digit(P+g+1);S.__setDigit(P,1073741823&q<<30-y|I),I=q>>>y}S.__setDigit(O,I)}return w&&(S=a.__absoluteAddOne(S,!0,S)),S.__trim()}static __rightShiftByMaximum(s){return s?a.__oneDigit(1,!0):a.__zero()}static __toShiftAmount(s){if(1<s.length)return-1;let u=s.__unsignedDigit(0);return u>a.__kMaxLengthBits?-1:u}static __toPrimitive(s,u="default"){if(typeof s!="object"||s.constructor===a)return s;if(typeof Symbol<"u"&&typeof Symbol.toPrimitive=="symbol"){let l=s[Symbol.toPrimitive];if(l){let g=l(u);if(typeof g!="object")return g;throw new TypeError("Cannot convert object to primitive value")}}let f=s.valueOf;if(f){let l=f.call(s);if(typeof l!="object")return l}let c=s.toString;if(c){let l=c.call(s);if(typeof l!="object")return l}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(s){return a.__isBigInt(s)?s:+s}static __isBigInt(s){return typeof s=="object"&&s!==null&&s.constructor===a}static __truncateToNBits(s,u){let f=0|(s+29)/30,c=new a(f,u.sign),l=f-1;for(let y=0;y<l;y++)c.__setDigit(y,u.__digit(y));let g=u.__digit(l);if(s%30!=0){let y=32-s%30;g=g<<y>>>y}return c.__setDigit(l,g),c.__trim()}static __truncateAndSubFromPowerOfTwo(s,u,f){var c=Math.min;let l=0|(s+29)/30,g=new a(l,f),y=0,_=l-1,w=0;for(let P=c(_,u.length);y<P;y++){let q=0-u.__digit(y)-w;w=1&q>>>30,g.__setDigit(y,1073741823&q)}for(;y<_;y++)g.__setDigit(y,0|1073741823&-w);let S=_<u.length?u.__digit(_):0,I=s%30,O;if(I==0)O=0-S-w,O&=1073741823;else{let P=32-I;S=S<<P>>>P;let q=1<<32-P;O=q-S-w,O&=q-1}return g.__setDigit(_,O),g.__trim()}__digit(s){return this[s]}__unsignedDigit(s){return this[s]>>>0}__setDigit(s,u){this[s]=0|u}__setDigitGrow(s,u){this[s]=0|u}__halfDigitLength(){let s=this.length;return 32767>=this.__unsignedDigit(s-1)?2*s-1:2*s}__halfDigit(s){return 32767&this[s>>>1]>>>15*(1&s)}__setHalfDigit(s,u){let f=s>>>1,c=this.__digit(f),l=1&s?32767&c|u<<15:1073709056&c|32767&u;this.__setDigit(f,l)}static __digitPow(s,u){let f=1;for(;0<u;)1&u&&(f*=s),u>>>=1,s*=s;return f}static __isOneDigitInt(s){return(1073741823&s)===s}}return a.__kMaxLength=33554432,a.__kMaxLengthBits=a.__kMaxLength<<5,a.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],a.__kBitsPerCharTableShift=5,a.__kBitsPerCharTableMultiplier=1<<a.__kBitsPerCharTableShift,a.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a.__kBitConversionBuffer=new ArrayBuffer(8),a.__kBitConversionDouble=new Float64Array(a.__kBitConversionBuffer),a.__kBitConversionInts=new Int32Array(a.__kBitConversionBuffer),a.__clz30=e?function(o){return e(o)-2}:function(o){var s=Math.LN2,u=Math.log;return o===0?30:0|29-(0|u(o>>>0)/s)},a.__imul=t||function(o,s){return 0|o*s},a})});var jF=E(gm=>{"use strict";h();p();var kF=gm&&gm.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gm,"__esModule",{value:!0});var Bue=S0(),LF=kF(Kie()),Fe=kF(FF()),Mue=18446744073709552e3,UF=(t,e)=>Fe.default.bitwiseXor(Fe.default.asUintN(64,Fe.default.leftShift(t,Fe.default.BigInt(e))),Fe.default.BigInt(Fe.default.asUintN(64,Fe.default.signedRightShift(t,Fe.default.subtract(Fe.default.BigInt(64),Fe.default.BigInt(e)))))),a7=class{constructor(e){this.next=()=>new LF.default(this.roll().toString()),this.nextDouble=()=>new LF.default(this.roll().toString()).div(Mue+1),this.nextInt=(n,i)=>Math.floor(this.nextDouble().toNumber()*(i-n+1)+n),this.nextByte=()=>this.nextInt(0,255),this.nextData=n=>[...new Array(n)].map(()=>this.nextByte());let r=Bue.sha256Hash(e);this.s=[Fe.default.BigInt(0),Fe.default.BigInt(0),Fe.default.BigInt(0),Fe.default.BigInt(0)],this.setS(r)}setS(e){for(let r=0;r<4;r++){let n=r*8,i=Fe.default.BigInt(0);for(let a=0;a<8;a++)i=Fe.default.asUintN(64,Fe.default.leftShift(i,Fe.default.BigInt(8))),i=Fe.default.asUintN(64,Fe.default.bitwiseOr(i,Fe.default.BigInt(e[n+a])));this.s[r]=Fe.default.asUintN(64,i)}}roll(){let e=Fe.default.asUintN(64,Fe.default.multiply(UF(Fe.default.asUintN(64,Fe.default.multiply(this.s[1],Fe.default.BigInt(5))),7),Fe.default.BigInt(9))),r=Fe.default.asUintN(64,Fe.default.leftShift(this.s[1],Fe.default.BigInt(17)));return this.s[2]=Fe.default.asUintN(64,Fe.default.bitwiseXor(this.s[2],Fe.default.BigInt(this.s[0]))),this.s[3]=Fe.default.asUintN(64,Fe.default.bitwiseXor(this.s[3],Fe.default.BigInt(this.s[1]))),this.s[1]=Fe.default.asUintN(64,Fe.default.bitwiseXor(this.s[1],Fe.default.BigInt(this.s[2]))),this.s[0]=Fe.default.asUintN(64,Fe.default.bitwiseXor(this.s[0],Fe.default.BigInt(this.s[3]))),this.s[2]=Fe.default.asUintN(64,Fe.default.bitwiseXor(this.s[2],Fe.default.BigInt(r))),this.s[3]=Fe.default.asUintN(64,UF(this.s[3],45)),e}};gm.default=a7});var KF=E((BLe,HF)=>{h();p();function ym(t,e,r){"use strict";this.alias=[],this.prob=[],this.outcomes=e||this.indexedOutcomes(t.length),this.rng=r||Math.random,this.precomputeAlias(t)}ym.prototype.next=function(t){"use strict";var e=t||1,r=[],n=0;do{var i=Math.floor(this.rng()*this.prob.length);r[n]=this.outcomes[this.rng()<this.prob[i]?i:this.alias[i]]}while(++n<e);return e>1?r:r[0]};ym.prototype.precomputeAlias=function(t){"use strict";var e=t.length,r=0,n=0,i=0,a=[],o=[],s=[],u,f,c;for(f=0;f<e;++f){if(t[f]<0)throw"Probability must be a positive: p["+f+"]="+t[f];r+=t[f]}if(r===0)throw"Probability cannot be zero.";for(f=0;f<e;++f)a[f]=t[f]*e/r;for(f=e-1;f>=0;--f)a[f]<1?o[n++]=f:s[i++]=f;for(;n&&i;)c=o[--n],u=s[--i],this.prob[c]=a[c],this.alias[c]=u,a[u]=a[u]+a[c]-1,a[u]<1?o[n++]=u:s[i++]=u;for(;i;)this.prob[s[--i]]=1;for(;n;)this.prob[o[--n]]=1};ym.prototype.indexedOutcomes=function(t){"use strict";for(var e=[],r=0;r<t;r++)e[r]=r;return e};ym.prototype.randomInt=function(t,e){"use strict";return Math.floor(this.rng()*(e-t))+t};HF.exports=function(t,e,r){"use strict";return new ym(t,e,r)}});var o7=E(ko=>{"use strict";h();p();var Nue=ko&&ko.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ko,"__esModule",{value:!0});ko.chooseFragments=ko.shuffle=ko.chooseDegree=void 0;var VF=S0(),que=Nue(jF()),Fue=KF(),Lue=(t,e)=>{let r=[...new Array(t)].map((i,a)=>1/(a+1));return Fue(r,null,e.nextDouble).next()+1};ko.chooseDegree=Lue;var Uue=(t,e)=>{let r=[...t],n=[];for(;r.length>0;){let i=e.nextInt(0,r.length-1),a=r[i];r.splice(i,1),n.push(a)}return n};ko.shuffle=Uue;var kue=(t,e,r)=>{if(t<=e)return[t-1];{let n=v.Buffer.concat([VF.intToBytes(t),VF.intToBytes(r)]),i=new que.default(n),a=ko.chooseDegree(e,i),o=[...new Array(e)].map((u,f)=>f);return ko.shuffle(o,i).slice(0,a)}};ko.chooseFragments=kue});var s7=E(Ul=>{"use strict";h();p();var jue=Ul&&Ul.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ul,"__esModule",{value:!0});Ul.FountainEncoderPart=void 0;var I0=jue(ro()),vm=S0(),Hue=o7(),GF=e7(),Kp=class{constructor(e,r,n,i,a){this._seqNum=e,this._seqLength=r,this._messageLength=n,this._checksum=i,this._fragment=a}get messageLength(){return this._messageLength}get fragment(){return this._fragment}get seqNum(){return this._seqNum}get seqLength(){return this._seqLength}get checksum(){return this._checksum}cbor(){let e=GF.cborEncode([this._seqNum,this._seqLength,this._messageLength,this._checksum,this._fragment]);return v.Buffer.from(e)}description(){return`seqNum:${this._seqNum}, seqLen:${this._seqLength}, messageLen:${this._messageLength}, checksum:${this._checksum}, data:${this._fragment.toString("hex")}`}static fromCBOR(e){let[r,n,i,a,o]=GF.cborDecode(e);return I0.default(typeof r=="number"),I0.default(typeof n=="number"),I0.default(typeof i=="number"),I0.default(typeof a=="number"),I0.default(v.Buffer.isBuffer(o)&&o.length>0),new Kp(r,n,i,a,v.Buffer.from(o))}};Ul.FountainEncoderPart=Kp;var Vp=class{constructor(e,r=100,n=0,i=10){let a=Vp.findNominalFragmentLength(e.length,i,r);this._messageLength=e.length,this._fragments=Vp.partitionMessage(e,a),this.fragmentLength=a,this.seqNum=vm.toUint32(n),this.checksum=vm.getCRC(e)}get fragmentsLength(){return this._fragments.length}get fragments(){return this._fragments}get messageLength(){return this._messageLength}isComplete(){return this.seqNum>=this._fragments.length}isSinglePart(){return this._fragments.length===1}seqLength(){return this._fragments.length}mix(e){return e.reduce((r,n)=>vm.bufferXOR(this._fragments[n],r),v.Buffer.alloc(this.fragmentLength,0))}nextPart(){this.seqNum=vm.toUint32(this.seqNum+1);let e=Hue.chooseFragments(this.seqNum,this._fragments.length,this.checksum),r=this.mix(e);return new Kp(this.seqNum,this._fragments.length,this._messageLength,this.checksum,r)}static findNominalFragmentLength(e,r,n){I0.default(e>0),I0.default(r>0),I0.default(n>=r);let i=Math.ceil(e/r),a=0;for(let o=1;o<=i&&(a=Math.ceil(e/o),!(a<=n));o++);return a}static partitionMessage(e,r){let n=v.Buffer.from(e),i,a=[];for(;n.length>0;)[i,n]=vm.split(n,-r),i=v.Buffer.alloc(r,0).fill(i,0,i.length),a.push(i);return a}};Ul.default=Vp});var f7=E(mm=>{"use strict";h();p();var Kue=mm&&mm.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mm,"__esModule",{value:!0});var Gp=Kue(ro()),fb=S0(),Vue="ableacidalsoapexaquaarchatomauntawayaxisbackbaldbarnbeltbetabiasbluebodybragbrewbulbbuzzcalmcashcatschefcityclawcodecolacookcostcruxcurlcuspcyandarkdatadaysdelidicedietdoordowndrawdropdrumdulldutyeacheasyechoedgeepicevenexamexiteyesfactfairfernfigsfilmfishfizzflapflewfluxfoxyfreefrogfuelfundgalagamegeargemsgiftgirlglowgoodgraygrimgurugushgyrohalfhanghardhawkheathelphighhillholyhopehornhutsicedideaidleinchinkyintoirisironitemjadejazzjoinjoltjowljudojugsjumpjunkjurykeepkenokeptkeyskickkilnkingkitekiwiknoblamblavalazyleaflegsliarlimplionlistlogoloudloveluaulucklungmainmanymathmazememomenumeowmildmintmissmonknailnavyneednewsnextnoonnotenumbobeyoboeomitonyxopenovalowlspaidpartpeckplaypluspoempoolposepuffpumapurrquadquizraceramprealredorichroadrockroofrubyruinrunsrustsafesagascarsetssilkskewslotsoapsolosongstubsurfswantacotasktaxitenttiedtimetinytoiltombtoystriptunatwinuglyundouniturgeuservastveryvetovialvibeviewvisavoidvowswallwandwarmwaspwavewaxywebswhatwhenwhizwolfworkyankyawnyellyogayurtzapszerozestzinczonezoom",ub=[],Gue=256,T0=4,zue=2,uu;(function(t){t.STANDARD="standard",t.URI="uri",t.MINIMAL="minimal"})(uu||(uu={}));var cb=t=>Vue.slice(t*T0,t*T0+T0),Yue=t=>{let e=cb(t);return`${e[0]}${e[T0-1]}`},YF=t=>{let e=fb.getCRCHex(v.Buffer.from(t,"hex"));return`${t}${e}`},zF=(t,e)=>{let r=YF(t);return v.Buffer.from(r,"hex").reduce((a,o)=>[...a,cb(o)],[]).join(e)},Wue=t=>{let e=YF(t);return v.Buffer.from(e,"hex").reduce((i,a)=>i+Yue(a),"")},Xue=(t,e)=>{Gp.default(t.length===e,"Invalid Bytewords: word.length does not match wordLength provided");let r=26;if(ub.length===0){let s=r*r;ub=[...new Array(s)].map(()=>-1);for(let u=0;u<Gue;u++){let f=cb(u),c=f[0].charCodeAt(0)-"a".charCodeAt(0),g=(f[3].charCodeAt(0)-"a".charCodeAt(0))*r+c;ub[g]=u}}let n=t[0].toLowerCase().charCodeAt(0)-"a".charCodeAt(0),i=t[e==4?3:1].toLowerCase().charCodeAt(0)-"a".charCodeAt(0);Gp.default(0<=n&&n<r&&0<=i&&i<r,"Invalid Bytewords: invalid word");let a=i*r+n,o=ub[a];if(Gp.default(o!==-1,"Invalid Bytewords: value not in lookup table"),e==T0){let s=cb(o),u=t[1].toLowerCase(),f=t[2].toLowerCase();Gp.default(u===s[1]&&f===s[2],"Invalid Bytewords: invalid middle letters of word")}return v.Buffer.from([o]).toString("hex")},u7=(t,e,r)=>{let i=(r==T0?t.split(e):fb.partition(t,2)).map(u=>Xue(u,r)).join("");Gp.default(i.length>=5,"Invalid Bytewords: invalid decoded string length");let[a,o]=fb.split(v.Buffer.from(i,"hex"),4),s=fb.getCRCHex(a);return Gp.default(s===o.toString("hex"),"Invalid Checksum"),a.toString("hex")},Jue=(t,e=uu.MINIMAL)=>{switch(e){case uu.STANDARD:return u7(t," ",T0);case uu.URI:return u7(t,"-",T0);case uu.MINIMAL:return u7(t,"",zue);default:throw new Error(`Invalid style ${e}`)}},$ue=(t,e=uu.MINIMAL)=>{switch(e){case uu.STANDARD:return zF(t," ");case uu.URI:return zF(t,"-");case uu.MINIMAL:return Wue(t);default:throw new Error(`Invalid style ${e}`)}};mm.default={decode:Jue,encode:$ue,STYLES:uu}});var XF=E(_m=>{"use strict";h();p();var WF=_m&&_m.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_m,"__esModule",{value:!0});var Zue=WF(s7()),db=WF(f7()),fc=class{constructor(e,r,n,i){this.ur=e,this.fountainEncoder=new Zue.default(e.cbor,r,n,i)}get fragmentsLength(){return this.fountainEncoder.fragmentsLength}get fragments(){return this.fountainEncoder.fragments}get messageLength(){return this.fountainEncoder.messageLength}get cbor(){return this.ur.cbor}encodeWhole(){return[...new Array(this.fragmentsLength)].map(()=>this.nextPart())}nextPart(){let e=this.fountainEncoder.nextPart();return this.fountainEncoder.isSinglePart()?fc.encodeSinglePart(this.ur):fc.encodePart(this.ur.type,e)}static encodeUri(e,r){let n=r.join("/");return[e,n].join(":")}static encodeUR(e){return fc.encodeUri("ur",e)}static encodePart(e,r){let n=`${r.seqNum}-${r.seqLength}`,i=db.default.encode(r.cbor().toString("hex"),db.default.STYLES.MINIMAL);return fc.encodeUR([e,n,i])}static encodeSinglePart(e){let r=db.default.encode(e.cbor.toString("hex"),db.default.STYLES.MINIMAL);return fc.encodeUR([e.type,r])}};_m.default=fc});var JF=E(xm=>{"use strict";h();p();Object.defineProperty(xm,"__esModule",{value:!0});xm.FountainDecoderPart=void 0;var zp=S0(),Que=o7(),efe=ob(),kl=class{constructor(e,r){this._indexes=e,this._fragment=r}get indexes(){return this._indexes}get fragment(){return this._fragment}static fromEncoderPart(e){let r=Que.chooseFragments(e.seqNum,e.seqLength,e.checksum),n=e.fragment;return new kl(r,n)}isSimple(){return this.indexes.length===1}};xm.FountainDecoderPart=kl;var Yp=class{constructor(){this.result=void 0,this.expectedMessageLength=0,this.expectedChecksum=0,this.expectedFragmentLength=0,this.processedPartsCount=0,this.expectedPartIndexes=[],this.lastPartIndexes=[],this.queuedParts=[],this.receivedPartIndexes=[],this.mixedParts=[],this.simpleParts=[]}validatePart(e){if(this.expectedPartIndexes.length===0)[...new Array(e.seqLength)].forEach((r,n)=>this.expectedPartIndexes.push(n)),this.expectedMessageLength=e.messageLength,this.expectedChecksum=e.checksum,this.expectedFragmentLength=e.fragment.length;else if(this.expectedPartIndexes.length!==e.seqLength||this.expectedMessageLength!==e.messageLength||this.expectedChecksum!==e.checksum||this.expectedFragmentLength!==e.fragment.length)return!1;return!0}reducePartByPart(e,r){if(zp.arrayContains(e.indexes,r.indexes)){let n=zp.setDifference(e.indexes,r.indexes),i=zp.bufferXOR(e.fragment,r.fragment);return new kl(n,i)}else return e}reduceMixedBy(e){let r=[];this.mixedParts.map(({value:n})=>this.reducePartByPart(n,e)).forEach(n=>{n.isSimple()?this.queuedParts.push(n):r.push({key:n.indexes,value:n})}),this.mixedParts=r}processSimplePart(e){let r=e.indexes[0];if(!this.receivedPartIndexes.includes(r))if(this.simpleParts.push({key:e.indexes,value:e}),this.receivedPartIndexes.push(r),zp.arraysEqual(this.receivedPartIndexes,this.expectedPartIndexes)){let n=this.simpleParts.map(({value:o})=>o).sort((o,s)=>o.indexes[0]-s.indexes[0]),i=Yp.joinFragments(n.map(o=>o.fragment),this.expectedMessageLength);zp.getCRC(i)===this.expectedChecksum?this.result=i:this.error=new efe.InvalidChecksumError}else this.reduceMixedBy(e)}processMixedPart(e){if(this.mixedParts.some(({key:n})=>zp.arraysEqual(n,e.indexes)))return;let r=this.simpleParts.reduce((n,{value:i})=>this.reducePartByPart(n,i),e);r=this.mixedParts.reduce((n,{value:i})=>this.reducePartByPart(n,i),r),r.isSimple()?this.queuedParts.push(r):(this.reduceMixedBy(r),this.mixedParts.push({key:r.indexes,value:r}))}processQueuedItem(){if(this.queuedParts.length===0)return;let e=this.queuedParts.shift();e.isSimple()?this.processSimplePart(e):this.processMixedPart(e)}receivePart(e){if(this.isComplete()||!this.validatePart(e))return!1;let r=kl.fromEncoderPart(e);for(this.lastPartIndexes=r.indexes,this.queuedParts.push(r);!this.isComplete()&&this.queuedParts.length>0;)this.processQueuedItem();return this.processedPartsCount+=1,!0}isComplete(){return Boolean(this.result!==void 0&&this.result.length>0)}isSuccess(){return Boolean(this.error===void 0&&this.isComplete())}resultMessage(){return this.isSuccess()?this.result:v.Buffer.from([])}isFailure(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.expectedPartIndexes.length}getExpectedPartIndexes(){return[...this.expectedPartIndexes]}getReceivedPartIndexes(){return[...this.receivedPartIndexes]}getLastPartIndexes(){return[...this.lastPartIndexes]}estimatedPercentComplete(){if(this.isComplete())return 1;let e=this.expectedPartCount();return e===0?0:Math.min(.99,this.processedPartsCount/(e*1.75))}getProgress(){if(this.isComplete())return 1;let e=this.expectedPartCount();return e===0?0:this.receivedPartIndexes.length/e}};xm.default=Yp;Yp.joinFragments=(t,e)=>v.Buffer.concat(t).slice(0,e)});var $F=E(bm=>{"use strict";h();p();var pb=bm&&bm.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bm,"__esModule",{value:!0});var tfe=pb(JF()),lb=pb(f7()),rfe=pb(ro()),hb=S0(),C0=ob(),c7=pb(r7()),nfe=s7(),A0=class{constructor(e=new tfe.default,r="bytes"){this.fountainDecoder=e,this.type=r,rfe.default(hb.isURType(r),"Invalid UR type"),this.expected_type=""}static decodeBody(e,r){let n=lb.default.decode(r,lb.default.STYLES.MINIMAL);return new c7.default(v.Buffer.from(n,"hex"),e)}validatePart(e){return this.expected_type?this.expected_type===e:hb.isURType(e)?(this.expected_type=e,!0):!1}static decode(e){let[r,n]=this.parse(e);if(n.length===0)throw new C0.InvalidPathLengthError;let i=n[0];return A0.decodeBody(r,i)}static parse(e){let r=e.toLowerCase();if(r.slice(0,3)!=="ur:")throw new C0.InvalidSchemeError;let i=r.slice(3).split("/"),a=i[0];if(i.length<2)throw new C0.InvalidPathLengthError;if(!hb.isURType(a))throw new C0.InvalidTypeError;return[a,i.slice(1)]}static parseSequenceComponent(e){let r=e.split("-");if(r.length!==2)throw new C0.InvalidSequenceComponentError;let n=hb.toUint32(Number(r[0])),i=Number(r[1]);if(n<1||i<1)throw new C0.InvalidSequenceComponentError;return[n,i]}receivePart(e){if(this.result!==void 0)return!1;let[r,n]=A0.parse(e);if(!this.validatePart(r))return!1;if(n.length===1)return this.result=A0.decodeBody(r,n[0]),!0;if(n.length!==2)throw new C0.InvalidPathLengthError;let[i,a]=n,[o,s]=A0.parseSequenceComponent(i),u=lb.default.decode(a,lb.default.STYLES.MINIMAL),f=nfe.FountainEncoderPart.fromCBOR(u);return o!==f.seqNum||s!==f.seqLength||!this.fountainDecoder.receivePart(f)?!1:(this.fountainDecoder.isSuccess()?this.result=new c7.default(this.fountainDecoder.resultMessage(),r):this.fountainDecoder.isFailure()&&(this.error=new C0.InvalidSchemeError),!0)}resultUR(){return this.result?this.result:new c7.default(v.Buffer.from([]))}isComplete(){return this.result&&this.result.cbor.length>0}isSuccess(){return!this.error&&this.isComplete()}isError(){return this.error!==void 0}resultError(){return this.error?this.error.message:""}expectedPartCount(){return this.fountainDecoder.expectedPartCount()}expectedPartIndexes(){return this.fountainDecoder.getExpectedPartIndexes()}receivedPartIndexes(){return this.fountainDecoder.getReceivedPartIndexes()}lastPartIndexes(){return this.fountainDecoder.getLastPartIndexes()}estimatedPercentComplete(){return this.fountainDecoder.estimatedPercentComplete()}getProgress(){return this.fountainDecoder.getProgress()}};bm.default=A0});var gn=E(tf=>{"use strict";h();p();var d7=tf&&tf.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tf,"__esModule",{value:!0});tf.URDecoder=tf.UREncoder=tf.UR=void 0;var ife=d7(r7());tf.UR=ife.default;var afe=d7(XF());tf.UREncoder=afe.default;var ofe=d7($F());tf.URDecoder=ofe.default});var ai=E(gb=>{"use strict";h();p();Object.defineProperty(gb,"__esModule",{value:!0});gb.RegistryItem=void 0;var ZF=gn(),sfe=ln(),l7=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,sfe.encodeDataItem)(this.toDataItem())},this.toUR=()=>new ZF.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,r,n)=>{let i=this.toUR();return new ZF.UREncoder(i,e,r,n)}}};gb.RegistryItem=l7});var yb=E(rf=>{"use strict";h();p();Object.defineProperty(rf,"__esModule",{value:!0});rf.CryptoCoinInfo=rf.Network=rf.Type=void 0;var QF=ln(),ufe=ai(),ffe=hn(),Wp;(function(t){t.type="1",t.network="2"})(Wp||(Wp={}));var eL;(function(t){t[t.bitcoin=0]="bitcoin"})(eL=rf.Type||(rf.Type={}));var tL;(function(t){t[t.mainnet=0]="mainnet",t[t.testnet=1]="testnet"})(tL=rf.Network||(rf.Network={}));var jl=class extends ufe.RegistryItem{constructor(e,r){super(),this.type=e,this.network=r,this.getRegistryType=()=>ffe.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||eL.bitcoin,this.getNetwork=()=>this.network||tL.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[Wp.type]=this.type),this.network&&(n[Wp.network]=this.network),new QF.DataItem(n)}}};rf.CryptoCoinInfo=jl;jl.fromDataItem=t=>{let e=t.getData(),r=e[Wp.type],n=e[Wp.network];return new jl(r,n)};jl.fromCBOR=t=>{let e=(0,QF.decodeToDataItem)(t);return jl.fromDataItem(e)}});var mb=E(vb=>{"use strict";h();p();Object.defineProperty(vb,"__esModule",{value:!0});vb.PathComponent=void 0;var Xp=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&Xp.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};vb.PathComponent=Xp;Xp.HARDENED_BIT=2147483648});var wm=E(_b=>{"use strict";h();p();Object.defineProperty(_b,"__esModule",{value:!0});_b.CryptoKeypath=void 0;var nL=ln(),rL=mb(),cfe=ai(),dfe=hn(),O0;(function(t){t[t.components=1]="components",t[t.source_fingerprint=2]="source_fingerprint",t[t.depth=3]="depth"})(O0||(O0={}));var Hl=class extends cfe.RegistryItem{constructor(e=[],r,n){super(),this.components=e,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>dfe.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(o.isHardened())}),i[O0.components]=a,this.sourceFingerprint&&(i[O0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[O0.depth]=this.depth),new nL.DataItem(i)}}};_b.CryptoKeypath=Hl;Hl.fromDataItem=t=>{let e=t.getData(),r=[],n=e[O0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?r.push(new rL.PathComponent({index:f,hardened:u})):r.push(new rL.PathComponent({hardened:u}))}let i=e[O0.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[O0.depth];return new Hl(r,a,o)};Hl.fromCBOR=t=>{let e=(0,nL.decodeToDataItem)(t);return Hl.fromDataItem(e)}});var Jp=E(xb=>{"use strict";h();p();Object.defineProperty(xb,"__esModule",{value:!0});xb.CryptoHDKey=void 0;var lfe=Uq(),hfe=yb(),iL=wm(),aL=ln(),pfe=ai(),gfe=hn(),qt;(function(t){t[t.is_master=1]="is_master",t[t.is_private=2]="is_private",t[t.key_data=3]="key_data",t[t.chain_code=4]="chain_code",t[t.use_info=5]="use_info",t[t.origin=6]="origin",t[t.children=7]="children",t[t.parent_fingerprint=8]="parent_fingerprint",t[t.name=9]="name",t[t.note=10]="note"})(qt||(qt={}));var Kl=class extends pfe.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let a,o,s=0,u=v.Buffer.alloc(4).fill(0);if(this.isMaster())a=v.Buffer.from("0488ADE4","hex"),o=0,s=0;else{o=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=y[y.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?a=v.Buffer.from("0488ADE4","hex"):a=v.Buffer.from("0488B21E","hex")}let f=v.Buffer.alloc(1);f.writeUInt8(o,0);let c=v.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return(0,lfe.encode)(v.Buffer.concat([a,f,u,c,l,g]))},this.getRegistryType=()=>gfe.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,a,o,s,u;let f="";return this.getOrigin()&&((r=this.getOrigin())===null||r===void 0?void 0:r.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(a=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||a===void 0?void 0:a.toString("hex")}/${(o=this.getOrigin())===null||o===void 0?void 0:o.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{let r={};if(this.master)r[qt.is_master]=!0,r[qt.key_data]=this.key,r[qt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[qt.is_private]=this.privateKey),r[qt.key_data]=this.key,this.chainCode&&(r[qt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[qt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[qt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[qt.children]=n}this.parentFingerprint&&(r[qt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[qt.name]=this.name),this.note!==void 0&&(r[qt.note]=this.note)}return new aL.DataItem(r)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};xb.CryptoHDKey=Kl;Kl.fromDataItem=t=>{let e=t.getData(),r=!!e[qt.is_master],n=e[qt.is_private],i=e[qt.key_data],a=e[qt.chain_code],o=e[qt.use_info]?hfe.CryptoCoinInfo.fromDataItem(e[qt.use_info]):void 0,s=e[qt.origin]?iL.CryptoKeypath.fromDataItem(e[qt.origin]):void 0,u=e[qt.children]?iL.CryptoKeypath.fromDataItem(e[qt.children]):void 0,f=e[qt.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[qt.name],g=e[qt.note];return new Kl({isMaster:r,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};Kl.fromCBOR=t=>{let e=(0,aL.decodeToDataItem)(t);return Kl.fromDataItem(e)}});var Em=E(bb=>{"use strict";h();p();Object.defineProperty(bb,"__esModule",{value:!0});bb.CryptoECKey=void 0;var oL=ln(),yfe=ai(),vfe=hn(),D0;(function(t){t[t.curve=1]="curve",t[t.private=2]="private",t[t.data=3]="data"})(D0||(D0={}));var Vl=class extends yfe.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>vfe.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let r={};return this.curve&&(r[D0.curve]=this.curve),this.privateKey!==void 0&&(r[D0.private]=this.privateKey),r[D0.data]=this.data,new oL.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};bb.CryptoECKey=Vl;Vl.fromDataItem=t=>{let e=t.getData(),r=e[D0.curve],n=e[D0.private],i=e[D0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${t}`);return new Vl({data:i,curve:r,privateKey:n})};Vl.fromCBOR=t=>{let e=(0,oL.decodeToDataItem)(t);return Vl.fromDataItem(e)}});var uL=E(wb=>{"use strict";h();p();Object.defineProperty(wb,"__esModule",{value:!0});wb.Bytes=void 0;var sL=ln(),mfe=ai(),_fe=hn(),Gl=class extends mfe.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>_fe.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new sL.DataItem(this.bytes)}};wb.Bytes=Gl;Gl.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new Gl(e)};Gl.fromCBOR=t=>{let e=(0,sL.decodeToDataItem)(t);return Gl.fromDataItem(e)}});var Sb=E(Eb=>{"use strict";h();p();Object.defineProperty(Eb,"__esModule",{value:!0});Eb.MultiKey=void 0;var xfe=Em(),bfe=Jp(),wfe=$3(),Efe=ai(),fL=hn(),$p;(function(t){t[t.threshold=1]="threshold",t[t.keys=2]="keys"})($p||($p={}));var Sm=class extends Efe.RegistryItem{constructor(e,r){super(),this.threshold=e,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[$p.threshold]=this.threshold;let i=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o});return n[$p.keys]=i,new wfe.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};Eb.MultiKey=Sm;Sm.fromDataItem=t=>{let e=t.getData(),r=e[$p.threshold],n=e[$p.keys],i=[];return n.forEach(a=>{a.getTag()===fL.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(bfe.CryptoHDKey.fromDataItem(a)):a.getTag()===fL.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(xfe.CryptoECKey.fromDataItem(a))}),new Sm(r,i)}});var v7=E(Ib=>{"use strict";h();p();Object.defineProperty(Ib,"__esModule",{value:!0});Ib.CryptoOutput=void 0;var p7=Em(),g7=Jp(),y7=ln(),cL=Sb(),Sfe=ai(),dL=hn(),h7=rb(),cc=class extends Sfe.RegistryItem{constructor(e,r){super(),this.scriptExpressions=e,this.cryptoKey=r,this.getRegistryType=()=>dL.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof g7.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof p7.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof cL.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof p7.CryptoECKey||this.cryptoKey instanceof g7.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new y7.DataItem(n,o)}),n}}};Ib.CryptoOutput=cc;cc.fromDataItem=t=>{let e=[],r=t;for(;;){let a=r.getTag(),o=h7.ScriptExpression.fromTag(a);if(o)if(e.push(o),r.getData()instanceof y7.DataItem)r=r.getData(),a=r.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===h7.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===h7.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=cL.MultiKey.fromDataItem(r);return new cc(e,a)}if(r.getTag()===dL.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=g7.CryptoHDKey.fromDataItem(r);return new cc(e,a)}else{let a=p7.CryptoECKey.fromDataItem(r);return new cc(e,a)}};cc.fromCBOR=t=>{let e=(0,y7.decodeToDataItem)(t);return cc.fromDataItem(e)}});var m7=E(Tb=>{"use strict";h();p();Object.defineProperty(Tb,"__esModule",{value:!0});Tb.CryptoPSBT=void 0;var lL=ln(),Ife=ai(),Tfe=hn(),zl=class extends Ife.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Tfe.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new lL.DataItem(this.psbt)}};Tb.CryptoPSBT=zl;zl.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new zl(e)};zl.fromCBOR=t=>{let e=(0,lL.decodeToDataItem)(t);return zl.fromDataItem(e)}});var _7=E(Cb=>{"use strict";h();p();Object.defineProperty(Cb,"__esModule",{value:!0});Cb.CryptoAccount=void 0;var Cfe=R0(),hL=ln(),Afe=ai(),Ofe=hn(),Zp;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.outputDescriptors=2]="outputDescriptors"})(Zp||(Zp={}));var Yl=class extends Afe.RegistryItem{constructor(e,r){super(),this.masterFingerprint=e,this.outputDescriptors=r,this.getRegistryType=()=>Ofe.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[Zp.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[Zp.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new hL.DataItem(n)}}};Cb.CryptoAccount=Yl;Yl.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[Zp.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[Zp.outputDescriptors].map(o=>Cfe.CryptoOutput.fromDataItem(o));return new Yl(r,a)};Yl.fromCBOR=t=>{let e=(0,hL.decodeToDataItem)(t);return Yl.fromDataItem(e)}});var b7=E(Ab=>{"use strict";h();p();Object.defineProperty(Ab,"__esModule",{value:!0});Ab.UnknownURTypeError=void 0;var x7=class extends Error{constructor(e){super(e)}};Ab.UnknownURTypeError=x7});var E7=E(Ob=>{"use strict";h();p();Object.defineProperty(Ob,"__esModule",{value:!0});Ob.URRegistryDecoder=void 0;var Dfe=gn(),P0=R0(),B0=hn(),Rfe=b7(),w7=class extends Dfe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case B0.RegistryTypes.BYTES.getType():return P0.Bytes.fromCBOR(e.cbor);case B0.RegistryTypes.CRYPTO_HDKEY.getType():return P0.CryptoHDKey.fromCBOR(e.cbor);case B0.RegistryTypes.CRYPTO_KEYPATH.getType():return P0.CryptoKeypath.fromCBOR(e.cbor);case B0.RegistryTypes.CRYPTO_COIN_INFO.getType():return P0.CryptoCoinInfo.fromCBOR(e.cbor);case B0.RegistryTypes.CRYPTO_ECKEY.getType():return P0.CryptoECKey.fromCBOR(e.cbor);case B0.RegistryTypes.CRYPTO_OUTPUT.getType():return P0.CryptoOutput.fromCBOR(e.cbor);case B0.RegistryTypes.CRYPTO_PSBT.getType():return P0.CryptoPSBT.fromCBOR(e.cbor);case B0.RegistryTypes.CRYPTO_ACCOUNT.getType():return P0.CryptoAccount.fromCBOR(e.cbor);default:throw new Rfe.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};Ob.URRegistryDecoder=w7});var S7=E(Db=>{"use strict";h();p();Object.defineProperty(Db,"__esModule",{value:!0});Db.CryptoMultiAccounts=void 0;var Pfe=hn(),Bfe=Jp(),Mfe=ai(),pL=ln(),jo;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.keys=2]="keys",t[t.device=3]="device",t[t.deviceId=4]="deviceId",t[t.version=5]="version"})(jo||(jo={}));var Wl=class extends Mfe.RegistryItem{constructor(e,r,n,i,a){super(),this.masterFingerprint=e,this.keys=r,this.device=n,this.deviceId=i,this.version=a,this.getRegistryType=()=>Pfe.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.getDeviceId=()=>this.deviceId,this.getVersion=()=>this.version,this.toDataItem=()=>{let o={};return this.masterFingerprint&&(o[jo.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(o[jo.keys]=this.keys.map(s=>{let u=s.toDataItem();return u.setTag(s.getRegistryType().getTag()),u})),this.device&&(o[jo.device]=this.device),this.deviceId&&(o[jo.deviceId]=this.deviceId),this.version&&(o[jo.version]=this.version),new pL.DataItem(o)}}};Db.CryptoMultiAccounts=Wl;Wl.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[jo.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[jo.keys].map(f=>Bfe.CryptoHDKey.fromDataItem(f)),o=e[jo.device],s=e[jo.deviceId],u=e[jo.version];return new Wl(r,a,o,s,u)};Wl.fromCBOR=t=>{let e=(0,pL.decodeToDataItem)(t);return Wl.fromDataItem(e)}});var I7=E(nf=>{"use strict";h();p();Object.defineProperty(nf,"__esModule",{value:!0});nf.KeyDerivationSchema=nf.DerivationAlgorithm=nf.Curve=void 0;var Nfe=hn(),qfe=ai(),gL=ln(),Ffe=wm(),M0;(function(t){t[t.keyPath=1]="keyPath",t[t.curve=2]="curve",t[t.algo=3]="algo"})(M0||(M0={}));var yL;(function(t){t[t.secp256k1=0]="secp256k1",t[t.ed25519=1]="ed25519"})(yL=nf.Curve||(nf.Curve={}));var vL;(function(t){t[t.slip10=0]="slip10",t[t.bip32ed25519=1]="bip32ed25519"})(vL=nf.DerivationAlgorithm||(nf.DerivationAlgorithm={}));var Xl=class extends qfe.RegistryItem{constructor(e,r=yL.secp256k1,n=vL.slip10){super(),this.keypath=e,this.curve=r,this.algo=n,this.getRegistryType=()=>Nfe.RegistryTypes.KEY_DERIVATION_SCHEMA,this.getKeypath=()=>this.keypath,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.toDataItem=()=>{let i={},a=this.getKeypath().toDataItem();return a.setTag(this.getKeypath().getRegistryType().getTag()),i[M0.keyPath]=a,i[M0.curve]=this.curve,i[M0.algo]=this.algo,new gL.DataItem(i)}}};nf.KeyDerivationSchema=Xl;Xl.fromDataItem=t=>{let e=t.getData(),r=Ffe.CryptoKeypath.fromDataItem(e[M0.keyPath]),n=e[M0.curve],i=e[M0.algo];return new Xl(r,n,i)};Xl.fromCBOR=t=>{let e=(0,gL.decodeToDataItem)(t);return Xl.fromDataItem(e)}});var T7=E(Pb=>{"use strict";h();p();Object.defineProperty(Pb,"__esModule",{value:!0});Pb.KeyDerivation=void 0;var Lfe=hn(),Ufe=ai(),mL=ln(),kfe=I7(),Rb;(function(t){t[t.schemas=1]="schemas"})(Rb||(Rb={}));var Jl=class extends Ufe.RegistryItem{constructor(e){super(),this.schemas=e,this.getRegistryType=()=>Lfe.RegistryTypes.KEY_DERIVATION_CALL,this.getSchemas=()=>this.schemas,this.toDataItem=()=>{let r={};return r[Rb.schemas]=this.schemas.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new mL.DataItem(r)}}};Pb.KeyDerivation=Jl;Jl.fromDataItem=t=>{let r=t.getData()[Rb.schemas].map(n=>kfe.KeyDerivationSchema.fromDataItem(n));return new Jl(r)};Jl.fromCBOR=t=>{let e=(0,mL.decodeToDataItem)(t);return Jl.fromDataItem(e)}});var xL=E(Zl=>{"use strict";h();p();Object.defineProperty(Zl,"__esModule",{value:!0});Zl.QRHardwareCall=Zl.QRHardwareCallType=void 0;var jfe=hn(),Hfe=ai(),_L=ln(),Kfe=T7(),N0;(function(t){t[t.type=1]="type",t[t.params=2]="params",t[t.origin=3]="origin"})(N0||(N0={}));var C7;(function(t){t[t.KeyDerivation=0]="KeyDerivation"})(C7=Zl.QRHardwareCallType||(Zl.QRHardwareCallType={}));var $l=class extends Hfe.RegistryItem{constructor(e,r,n){super(),this.type=e,this.params=r,this.origin=n,this.getRegistryType=()=>jfe.RegistryTypes.QR_HARDWARE_CALL,this.getType=()=>this.type,this.getParams=()=>this.params,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let i={};i[N0.type]=this.type;let a=this.params.toDataItem();return a.setTag(this.params.getRegistryType().getTag()),i[N0.params]=a,this.origin&&(i[N0.origin]=this.origin),new _L.DataItem(i)}}};Zl.QRHardwareCall=$l;$l.fromDataItem=t=>{let e=t.getData(),r=e[N0.type]||C7.KeyDerivation,n;switch(r){case C7.KeyDerivation:n=Kfe.KeyDerivation.fromDataItem(e[N0.params])}let i=e[N0.origin];return new $l(r,n,i)};$l.fromCBOR=t=>{let e=(0,_L.decodeToDataItem)(t);return $l.fromDataItem(e)}});var wL=E(bL=>{"use strict";h();p();Object.defineProperty(bL,"__esModule",{value:!0})});var R0=E(Ee=>{"use strict";h();p();Object.defineProperty(Ee,"__esModule",{value:!0});Ee.Buffer=Ee.extend=Ee.PathComponent=Ee.ScriptExpressions=Ee.MultiKey=Ee.CryptoPSBT=Ee.CryptoOutput=Ee.CryptoECKey=Ee.CryptoCoinInfoNetwork=Ee.CryptoCoinInfoType=Ee.CryptoCoinInfo=Ee.CryptoKeypath=Ee.CryptoMultiAccounts=Ee.CryptoHDKey=Ee.CryptoAccount=Ee.Bytes=Ee.URRegistryDecoder=Ee.DataItem=void 0;var Mr=cq();gT();var Vfe=Up();Object.defineProperty(Ee,"Buffer",{enumerable:!0,get:function(){return Vfe.Buffer}});var SL=Jp();Object.defineProperty(Ee,"CryptoHDKey",{enumerable:!0,get:function(){return SL.CryptoHDKey}});var IL=wm();Object.defineProperty(Ee,"CryptoKeypath",{enumerable:!0,get:function(){return IL.CryptoKeypath}});var eg=yb();Object.defineProperty(Ee,"CryptoCoinInfo",{enumerable:!0,get:function(){return eg.CryptoCoinInfo}});Object.defineProperty(Ee,"CryptoCoinInfoType",{enumerable:!0,get:function(){return eg.Type}});Object.defineProperty(Ee,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return eg.Network}});var TL=Em();Object.defineProperty(Ee,"CryptoECKey",{enumerable:!0,get:function(){return TL.CryptoECKey}});var CL=uL();Object.defineProperty(Ee,"Bytes",{enumerable:!0,get:function(){return CL.Bytes}});var AL=v7();Object.defineProperty(Ee,"CryptoOutput",{enumerable:!0,get:function(){return AL.CryptoOutput}});var OL=m7();Object.defineProperty(Ee,"CryptoPSBT",{enumerable:!0,get:function(){return OL.CryptoPSBT}});var DL=_7();Object.defineProperty(Ee,"CryptoAccount",{enumerable:!0,get:function(){return DL.CryptoAccount}});var RL=E7();Object.defineProperty(Ee,"URRegistryDecoder",{enumerable:!0,get:function(){return RL.URRegistryDecoder}});var PL=Sb();Object.defineProperty(Ee,"MultiKey",{enumerable:!0,get:function(){return PL.MultiKey}});var BL=rb();Object.defineProperty(Ee,"ScriptExpressions",{enumerable:!0,get:function(){return BL.ScriptExpressions}});var ML=mb();Object.defineProperty(Ee,"PathComponent",{enumerable:!0,get:function(){return ML.PathComponent}});var Gfe=ai(),EL=hn(),Qp=ln(),zfe=ln();Object.defineProperty(Ee,"DataItem",{enumerable:!0,get:function(){return zfe.DataItem}});var Yfe=tb(),NL=S7();Object.defineProperty(Ee,"CryptoMultiAccounts",{enumerable:!0,get:function(){return NL.CryptoMultiAccounts}});var Wfe={URRegistryDecoder:RL.URRegistryDecoder,Bytes:CL.Bytes,CryptoAccount:DL.CryptoAccount,CryptoHDKey:SL.CryptoHDKey,CryptoMultiAccounts:NL.CryptoMultiAccounts,CryptoKeypath:IL.CryptoKeypath,CryptoCoinInfo:eg.CryptoCoinInfo,CryptoCoinInfoType:eg.Type,CryptoCoinInfoNetwork:eg.Network,CryptoECKey:TL.CryptoECKey,CryptoOutput:AL.CryptoOutput,CryptoPSBT:OL.CryptoPSBT,MultiKey:PL.MultiKey,ScriptExpressions:BL.ScriptExpressions,PathComponent:ML.PathComponent},Xfe={addReader:Qp.addReader,addSemanticDecode:Qp.addSemanticDecode,addSemanticEncode:Qp.addSemanticEncode,addWriter:Qp.addWriter,patchTags:Yfe.patchTags},Jfe={RegistryTypes:EL.RegistryTypes,RegistryItem:Gfe.RegistryItem,RegistryType:EL.RegistryType,decodeToDataItem:Qp.decodeToDataItem,encodeDataItem:Qp.encodeDataItem,cbor:Xfe};Ee.extend=Jfe;(0,Mr.__exportStar)(b7(),Ee);(0,Mr.__exportStar)(E7(),Ee);(0,Mr.__exportStar)(ln(),Ee);(0,Mr.__exportStar)(_7(),Ee);(0,Mr.__exportStar)(m7(),Ee);(0,Mr.__exportStar)(Jp(),Ee);(0,Mr.__exportStar)(S7(),Ee);(0,Mr.__exportStar)(xL(),Ee);(0,Mr.__exportStar)(T7(),Ee);(0,Mr.__exportStar)(I7(),Ee);(0,Mr.__exportStar)(v7(),Ee);(0,Mr.__exportStar)(yb(),Ee);(0,Mr.__exportStar)(Em(),Ee);(0,Mr.__exportStar)(Sb(),Ee);(0,Mr.__exportStar)(wm(),Ee);(0,Mr.__exportStar)(gT(),Ee);(0,Mr.__exportStar)(mb(),Ee);(0,Mr.__exportStar)(ai(),Ee);(0,Mr.__exportStar)(hn(),Ee);(0,Mr.__exportStar)(wL(),Ee);(0,Mr.__exportStar)(tb(),Ee);Ee.default=Wfe});var FL=E(Bb=>{"use strict";h();p();Object.defineProperty(Bb,"__esModule",{value:!0});Bb.pathToKeypath=void 0;var qL=R0(),$fe=t=>{let r=t.replace(/[m|M]\//,"").split("/").map(n=>{let i=parseInt(n.replace("'",""),10),a=n.endsWith("'");return new qL.PathComponent({index:i,hardened:a})});return new qL.CryptoKeypath(r)};Bb.pathToKeypath=$fe});var Tn=E(dc=>{"use strict";h();p();var Zfe=dc&&dc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A7=dc&&dc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Zfe(e,t,r)};Object.defineProperty(dc,"__esModule",{value:!0});A7(HN(),dc);A7(FL(),dc);A7(dT(),dc)});var qa=E(Ql=>{"use strict";h();p();Object.defineProperty(Ql,"__esModule",{value:!0});Ql.URType=Ql.UR=void 0;var Qfe=gn();Object.defineProperty(Ql,"UR",{enumerable:!0,get:function(){return Qfe.UR}});var ece;(function(t){t.CryptoPSBT="crypto-psbt",t.CryptoMultiAccounts="crypto-multi-accounts",t.CryptoHDKey="crypto-hdkey",t.ArweaveCryptoAccount="arweave-crypto-account",t.EthSignature="eth-signature",t.SolSignature="sol-signature",t.CosmosSignature="cosmos-signature",t.EvmSignature="evm-signature",t.AptosSignature="aptos-signature",t.CardanoSignature="cardano-signature",t.TronSignature="keystone-sign-result",t.KeystoneSignResult="keystone-sign-result",t.NearSignature="near-signature",t.ArweaveSignature="arweave-signature",t.SuiSignature="sui-signature",t.XrpAccount="bytes",t.XrpSignRequest="bytes",t.XrpSignature="bytes"})(ece=Ql.URType||(Ql.URType={}))});var UL=E(Mb=>{"use strict";h();p();Object.defineProperty(Mb,"__esModule",{value:!0});Mb.KeystoneBitcoinSDK=void 0;var LL=R0(),tce=Tn(),rce=qa(),O7=class{parsePSBT(e){if(e.type!==rce.URType.CryptoPSBT)throw new Error("type not match");return(0,tce.toHex)(LL.CryptoPSBT.fromCBOR(e.cbor).getPSBT())}generatePSBT(e){return new LL.CryptoPSBT(e).toUR()}};Mb.KeystoneBitcoinSDK=O7});var sU=E((mke,Fb)=>{h();p();var kL,jL,HL,KL,VL,GL,zL,YL,WL,Nb,D7,XL,JL,$L,tg,ZL,QL,eU,tU,rU,nU,iU,aU,oU,qb;(function(t){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof Fb=="object"&&typeof Fb.exports=="object"?t(r(e,r(Fb.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};kL=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},jL=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},HL=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a},KL=function(n,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,a,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},VL=function(n,i){return function(a,o){i(a,o,n)}},GL=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},zL=function(n,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function c(y){try{g(o.next(y))}catch(_){f(_)}}function l(y){try{g(o.throw(y))}catch(_){f(_)}}function g(y){y.done?u(y.value):s(y.value).then(c,l)}g((o=o.apply(n,i||[])).next())})},YL=function(n,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(y){return l([g,y])}}function l(g){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,s=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){a.label=g[1];break}if(g[0]===6&&a.label<u[1]){a.label=u[1],u=g;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(g);break}u[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(y){g=[6,y],s=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},WL=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&qb(i,n,a)},qb=Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},Nb=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},D7=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(c){f={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},XL=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(D7(arguments[i]));return n},JL=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,c=u.length;f<c;f++,s++)o[s]=u[f];return o},$L=function(n,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return n.concat(u||Array.prototype.slice.call(i))},tg=function(n){return this instanceof tg?(this.v=n,this):new tg(n)},ZL=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){o[w]&&(s[w]=function(S){return new Promise(function(I,O){u.push([w,S,I,O])>1||c(w,S)})})}function c(w,S){try{l(o[w](S))}catch(I){_(u[0][3],I)}}function l(w){w.value instanceof tg?Promise.resolve(w.value.v).then(g,y):_(u[0][2],w)}function g(w){c("next",w)}function y(w){c("throw",w)}function _(w,S){w(S),u.shift(),u.length&&c(u[0][0],u[0][1])}},QL=function(n){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=n[s]?function(f){return(a=!a)?{value:tg(n[s](f)),done:s==="return"}:u?u(f):f}:u}},eU=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof Nb=="function"?Nb(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(c,l){f=n[u](f),s(c,l,f.done,f.value)})}}function s(u,f,c,l){Promise.resolve(l).then(function(g){u({value:g,done:c})},f)}},tU=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};rU=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&qb(i,n,a);return r(i,n),i},nU=function(n){return n&&n.__esModule?n:{default:n}},iU=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},aU=function(n,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(n,a):s?s.value=a:i.set(n,a),a},oU=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},t("__extends",kL),t("__assign",jL),t("__rest",HL),t("__decorate",KL),t("__param",VL),t("__metadata",GL),t("__awaiter",zL),t("__generator",YL),t("__exportStar",WL),t("__createBinding",qb),t("__values",Nb),t("__read",D7),t("__spread",XL),t("__spreadArrays",JL),t("__spreadArray",$L),t("__await",tg),t("__asyncGenerator",ZL),t("__asyncDelegator",QL),t("__asyncValues",eU),t("__makeTemplateObject",tU),t("__importStar",rU),t("__importDefault",nU),t("__classPrivateFieldGet",iU),t("__classPrivateFieldSet",aU),t("__classPrivateFieldIn",oU)})});var Ub=E(Lb=>{"use strict";h();p();Object.defineProperty(Lb,"__esModule",{value:!0});Lb.DataItem=void 0;var R7=class{constructor(e,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=r}};Lb.DataItem=R7});var fU=E((uU,kb)=>{"use strict";h();p();(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof kb<"u"&&kb.exports?kb.exports=e():t.CBOR=e()})(uU,function(){let{DataItem:t}=Ub();var e=function(){function r(d){this.$hex=d}r.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},r.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new r(m)},r.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new r(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var oe=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-oe:oe},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var oe;(oe=y(d))!==g;)R.push(oe);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(oe){l(3,oe,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(oe){l(2,oe,m)});else if(typeof d=="object")if(I.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],S=[],I={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?S.push(function(x){if(d===x)return m(x)}):S.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let oe=y(M);return oe instanceof t?oe:new t(oe)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this}};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function P(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}P.prototype=Object.create(s.prototype),P.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},P.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},P.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},P.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},P.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},P.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},P.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},P.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(I.addReader(function(d,m){if(v.Buffer.isBuffer(d))return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),I.addWriter(function(d){if(!d||d==="buffer")return new P;if(d==="hex"||d==="base64")return new P(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new r(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof r||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof r)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new r(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=r.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},I.addReader(function(d,m){if(d instanceof r||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),I.addWriter(function(d){if(d==="hex")return new C}),I}();return e.addSemanticEncode(0,function(r){if(r instanceof Date)return r.toISOString()}).addSemanticDecode(0,function(r){return new Date(r)}).addSemanticDecode(1,function(r){return new Date(r)}),e})});var fa=E(oi=>{"use strict";h();p();Object.defineProperty(oi,"__esModule",{value:!0});oi.DataItem=oi.addWriter=oi.addReader=oi.addSemanticEncode=oi.addSemanticDecode=oi.decodeToDataItem=oi.encodeDataItem=void 0;var rg=fU();Object.defineProperty(oi,"encodeDataItem",{enumerable:!0,get:function(){return rg.encodeDataItem}});Object.defineProperty(oi,"decodeToDataItem",{enumerable:!0,get:function(){return rg.decodeToDataItem}});Object.defineProperty(oi,"addSemanticDecode",{enumerable:!0,get:function(){return rg.addSemanticDecode}});Object.defineProperty(oi,"addSemanticEncode",{enumerable:!0,get:function(){return rg.addSemanticEncode}});Object.defineProperty(oi,"addReader",{enumerable:!0,get:function(){return rg.addReader}});Object.defineProperty(oi,"addWriter",{enumerable:!0,get:function(){return rg.addWriter}});var nce=Ub();Object.defineProperty(oi,"DataItem",{enumerable:!0,get:function(){return nce.DataItem}})});var Kb=E(Hb=>{"use strict";h();p();Object.defineProperty(Hb,"__esModule",{value:!0});Hb.patchTags=void 0;var jb=fa(),cU=[],ice=t=>{t.forEach(e=>{cU.find(r=>r===e)||((0,jb.addSemanticEncode)(e,r=>{if(r instanceof jb.DataItem&&r.getTag()===e)return r.getData()}),(0,jb.addSemanticDecode)(e,r=>new jb.DataItem(r,e)),cU.push(e))})};Hb.patchTags=ice});var ca=E(ng=>{"use strict";h();p();Object.defineProperty(ng,"__esModule",{value:!0});ng.RegistryTypes=ng.RegistryType=void 0;var io=class{constructor(e,r){this.type=e,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};ng.RegistryType=io;ng.RegistryTypes={UUID:new io("uuid",37),BYTES:new io("bytes",void 0),CRYPTO_HDKEY:new io("crypto-hdkey",303),CRYPTO_KEYPATH:new io("crypto-keypath",304),CRYPTO_COIN_INFO:new io("crypto-coin-info",305),CRYPTO_ECKEY:new io("crypto-eckey",306),CRYPTO_OUTPUT:new io("crypto-output",308),CRYPTO_PSBT:new io("crypto-psbt",310),CRYPTO_ACCOUNT:new io("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new io("crypto-multi-accounts",1103)}});var Vb=E(eh=>{"use strict";h();p();Object.defineProperty(eh,"__esModule",{value:!0});eh.ScriptExpressions=eh.ScriptExpression=void 0;var Fa=class{constructor(e,r){this.tag=e,this.expression=r,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};eh.ScriptExpression=Fa;Fa.fromTag=t=>Object.values(eh.ScriptExpressions).find(r=>r.getTag()===t);eh.ScriptExpressions={SCRIPT_HASH:new Fa(400,"sh"),WITNESS_SCRIPT_HASH:new Fa(401,"wsh"),PUBLIC_KEY:new Fa(402,"pk"),PUBLIC_KEY_HASH:new Fa(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Fa(404,"wpkh"),COMBO:new Fa(405,"combo"),MULTISIG:new Fa(406,"multi"),SORTED_MULTISIG:new Fa(407,"sortedmulti"),ADDRESS:new Fa(307,"addr"),RAW_SCRIPT:new Fa(408,"raw")}});var P7=E(dU=>{"use strict";h();p();Object.defineProperty(dU,"__esModule",{value:!0});var ace=Kb(),oce=ca(),sce=Vb(),uce=Object.values(oce.RegistryTypes).filter(t=>!!t.getTag()).map(t=>t.getTag()),fce=Object.values(sce.ScriptExpressions).map(t=>t.getTag());(0,ace.patchTags)(uce.concat(fce))});var ao=E(Gb=>{"use strict";h();p();Object.defineProperty(Gb,"__esModule",{value:!0});Gb.RegistryItem=void 0;var lU=gn(),cce=fa(),B7=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return(0,cce.encodeDataItem)(this.toDataItem())},this.toUR=()=>new lU.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,r,n)=>{let i=this.toUR();return new lU.UREncoder(i,e,r,n)}}};Gb.RegistryItem=B7});var zb=E(af=>{"use strict";h();p();Object.defineProperty(af,"__esModule",{value:!0});af.CryptoCoinInfo=af.Network=af.Type=void 0;var hU=fa(),dce=ao(),lce=ca(),ig;(function(t){t.type="1",t.network="2"})(ig||(ig={}));var pU;(function(t){t[t.bitcoin=0]="bitcoin"})(pU=af.Type||(af.Type={}));var gU;(function(t){t[t.mainnet=0]="mainnet",t[t.testnet=1]="testnet"})(gU=af.Network||(af.Network={}));var th=class extends dce.RegistryItem{constructor(e,r){super(),this.type=e,this.network=r,this.getRegistryType=()=>lce.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||pU.bitcoin,this.getNetwork=()=>this.network||gU.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[ig.type]=this.type),this.network&&(n[ig.network]=this.network),new hU.DataItem(n)}}};af.CryptoCoinInfo=th;th.fromDataItem=t=>{let e=t.getData(),r=e[ig.type],n=e[ig.network];return new th(r,n)};th.fromCBOR=t=>{let e=(0,hU.decodeToDataItem)(t);return th.fromDataItem(e)}});var Wb=E(Yb=>{"use strict";h();p();Object.defineProperty(Yb,"__esModule",{value:!0});Yb.PathComponent=void 0;var ag=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&ag.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};Yb.PathComponent=ag;ag.HARDENED_BIT=2147483648});var Jb=E(Xb=>{"use strict";h();p();Object.defineProperty(Xb,"__esModule",{value:!0});Xb.CryptoKeypath=void 0;var vU=fa(),yU=Wb(),hce=ao(),pce=ca(),q0;(function(t){t[t.components=1]="components",t[t.source_fingerprint=2]="source_fingerprint",t[t.depth=3]="depth"})(q0||(q0={}));var rh=class extends hce.RegistryItem{constructor(e=[],r,n){super(),this.components=e,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>pce.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(o.isHardened())}),i[q0.components]=a,this.sourceFingerprint&&(i[q0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[q0.depth]=this.depth),new vU.DataItem(i)}}};Xb.CryptoKeypath=rh;rh.fromDataItem=t=>{let e=t.getData(),r=[],n=e[q0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?r.push(new yU.PathComponent({index:f,hardened:u})):r.push(new yU.PathComponent({hardened:u}))}let i=e[q0.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[q0.depth];return new rh(r,a,o)};rh.fromCBOR=t=>{let e=(0,vU.decodeToDataItem)(t);return rh.fromDataItem(e)}});var og=E($b=>{"use strict";h();p();Object.defineProperty($b,"__esModule",{value:!0});$b.CryptoHDKey=void 0;var gce=Rp(),yce=zb(),mU=Jb(),_U=fa(),vce=ao(),mce=ca(),Ft;(function(t){t[t.is_master=1]="is_master",t[t.is_private=2]="is_private",t[t.key_data=3]="key_data",t[t.chain_code=4]="chain_code",t[t.use_info=5]="use_info",t[t.origin=6]="origin",t[t.children=7]="children",t[t.parent_fingerprint=8]="parent_fingerprint",t[t.name=9]="name",t[t.note=10]="note"})(Ft||(Ft={}));var nh=class extends vce.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let a,o,s=0,u=v.Buffer.alloc(4).fill(0);if(this.isMaster())a=v.Buffer.from("0488ADE4","hex"),o=0,s=0;else{o=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=y[y.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?a=v.Buffer.from("0488ADE4","hex"):a=v.Buffer.from("0488B21E","hex")}let f=v.Buffer.alloc(1);f.writeUInt8(o,0);let c=v.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return(0,gce.encode)(v.Buffer.concat([a,f,u,c,l,g]))},this.getRegistryType=()=>mce.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,a,o,s,u;let f="";return this.getOrigin()&&((r=this.getOrigin())===null||r===void 0?void 0:r.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(a=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||a===void 0?void 0:a.toString("hex")}/${(o=this.getOrigin())===null||o===void 0?void 0:o.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{let r={};if(this.master)r[Ft.is_master]=!0,r[Ft.key_data]=this.key,r[Ft.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[Ft.is_private]=this.privateKey),r[Ft.key_data]=this.key,this.chainCode&&(r[Ft.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[Ft.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[Ft.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[Ft.children]=n}this.parentFingerprint&&(r[Ft.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[Ft.name]=this.name),this.note!==void 0&&(r[Ft.note]=this.note)}return new _U.DataItem(r)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};$b.CryptoHDKey=nh;nh.fromDataItem=t=>{let e=t.getData(),r=!!e[Ft.is_master],n=e[Ft.is_private],i=e[Ft.key_data],a=e[Ft.chain_code],o=e[Ft.use_info]?yce.CryptoCoinInfo.fromDataItem(e[Ft.use_info]):void 0,s=e[Ft.origin]?mU.CryptoKeypath.fromDataItem(e[Ft.origin]):void 0,u=e[Ft.children]?mU.CryptoKeypath.fromDataItem(e[Ft.children]):void 0,f=e[Ft.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[Ft.name],g=e[Ft.note];return new nh({isMaster:r,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};nh.fromCBOR=t=>{let e=(0,_U.decodeToDataItem)(t);return nh.fromDataItem(e)}});var Im=E(Zb=>{"use strict";h();p();Object.defineProperty(Zb,"__esModule",{value:!0});Zb.CryptoECKey=void 0;var xU=fa(),_ce=ao(),xce=ca(),F0;(function(t){t[t.curve=1]="curve",t[t.private=2]="private",t[t.data=3]="data"})(F0||(F0={}));var ih=class extends _ce.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>xce.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let r={};return this.curve&&(r[F0.curve]=this.curve),this.privateKey!==void 0&&(r[F0.private]=this.privateKey),r[F0.data]=this.data,new xU.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};Zb.CryptoECKey=ih;ih.fromDataItem=t=>{let e=t.getData(),r=e[F0.curve],n=e[F0.private],i=e[F0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${t}`);return new ih({data:i,curve:r,privateKey:n})};ih.fromCBOR=t=>{let e=(0,xU.decodeToDataItem)(t);return ih.fromDataItem(e)}});var wU=E(Qb=>{"use strict";h();p();Object.defineProperty(Qb,"__esModule",{value:!0});Qb.Bytes=void 0;var bU=fa(),bce=ao(),wce=ca(),ah=class extends bce.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>wce.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new bU.DataItem(this.bytes)}};Qb.Bytes=ah;ah.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new ah(e)};ah.fromCBOR=t=>{let e=(0,bU.decodeToDataItem)(t);return ah.fromDataItem(e)}});var t4=E(e4=>{"use strict";h();p();Object.defineProperty(e4,"__esModule",{value:!0});e4.MultiKey=void 0;var Ece=Im(),Sce=og(),Ice=Ub(),Tce=ao(),EU=ca(),sg;(function(t){t[t.threshold=1]="threshold",t[t.keys=2]="keys"})(sg||(sg={}));var Tm=class extends Tce.RegistryItem{constructor(e,r){super(),this.threshold=e,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[sg.threshold]=this.threshold;let i=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o});return n[sg.keys]=i,new Ice.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};e4.MultiKey=Tm;Tm.fromDataItem=t=>{let e=t.getData(),r=e[sg.threshold],n=e[sg.keys],i=[];return n.forEach(a=>{a.getTag()===EU.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(Sce.CryptoHDKey.fromDataItem(a)):a.getTag()===EU.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(Ece.CryptoECKey.fromDataItem(a))}),new Tm(r,i)}});var L7=E(r4=>{"use strict";h();p();Object.defineProperty(r4,"__esModule",{value:!0});r4.CryptoOutput=void 0;var N7=Im(),q7=og(),F7=fa(),SU=t4(),Cce=ao(),IU=ca(),M7=Vb(),lc=class extends Cce.RegistryItem{constructor(e,r){super(),this.scriptExpressions=e,this.cryptoKey=r,this.getRegistryType=()=>IU.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof q7.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof N7.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof SU.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof N7.CryptoECKey||this.cryptoKey instanceof q7.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new F7.DataItem(n,o)}),n}}};r4.CryptoOutput=lc;lc.fromDataItem=t=>{let e=[],r=t;for(;;){let a=r.getTag(),o=M7.ScriptExpression.fromTag(a);if(o)if(e.push(o),r.getData()instanceof F7.DataItem)r=r.getData(),a=r.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===M7.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===M7.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=SU.MultiKey.fromDataItem(r);return new lc(e,a)}if(r.getTag()===IU.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=q7.CryptoHDKey.fromDataItem(r);return new lc(e,a)}else{let a=N7.CryptoECKey.fromDataItem(r);return new lc(e,a)}};lc.fromCBOR=t=>{let e=(0,F7.decodeToDataItem)(t);return lc.fromDataItem(e)}});var U7=E(n4=>{"use strict";h();p();Object.defineProperty(n4,"__esModule",{value:!0});n4.CryptoPSBT=void 0;var TU=fa(),Ace=ao(),Oce=ca(),oh=class extends Ace.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>Oce.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new TU.DataItem(this.psbt)}};n4.CryptoPSBT=oh;oh.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new oh(e)};oh.fromCBOR=t=>{let e=(0,TU.decodeToDataItem)(t);return oh.fromDataItem(e)}});var k7=E(i4=>{"use strict";h();p();Object.defineProperty(i4,"__esModule",{value:!0});i4.CryptoAccount=void 0;var Dce=of(),CU=fa(),Rce=ao(),Pce=ca(),ug;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.outputDescriptors=2]="outputDescriptors"})(ug||(ug={}));var sh=class extends Rce.RegistryItem{constructor(e,r){super(),this.masterFingerprint=e,this.outputDescriptors=r,this.getRegistryType=()=>Pce.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[ug.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[ug.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new CU.DataItem(n)}}};i4.CryptoAccount=sh;sh.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[ug.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[ug.outputDescriptors].map(o=>Dce.CryptoOutput.fromDataItem(o));return new sh(r,a)};sh.fromCBOR=t=>{let e=(0,CU.decodeToDataItem)(t);return sh.fromDataItem(e)}});var H7=E(a4=>{"use strict";h();p();Object.defineProperty(a4,"__esModule",{value:!0});a4.UnknownURTypeError=void 0;var j7=class extends Error{constructor(e){super(e)}};a4.UnknownURTypeError=j7});var V7=E(o4=>{"use strict";h();p();Object.defineProperty(o4,"__esModule",{value:!0});o4.URRegistryDecoder=void 0;var Bce=gn(),L0=of(),U0=ca(),Mce=H7(),K7=class extends Bce.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case U0.RegistryTypes.BYTES.getType():return L0.Bytes.fromCBOR(e.cbor);case U0.RegistryTypes.CRYPTO_HDKEY.getType():return L0.CryptoHDKey.fromCBOR(e.cbor);case U0.RegistryTypes.CRYPTO_KEYPATH.getType():return L0.CryptoKeypath.fromCBOR(e.cbor);case U0.RegistryTypes.CRYPTO_COIN_INFO.getType():return L0.CryptoCoinInfo.fromCBOR(e.cbor);case U0.RegistryTypes.CRYPTO_ECKEY.getType():return L0.CryptoECKey.fromCBOR(e.cbor);case U0.RegistryTypes.CRYPTO_OUTPUT.getType():return L0.CryptoOutput.fromCBOR(e.cbor);case U0.RegistryTypes.CRYPTO_PSBT.getType():return L0.CryptoPSBT.fromCBOR(e.cbor);case U0.RegistryTypes.CRYPTO_ACCOUNT.getType():return L0.CryptoAccount.fromCBOR(e.cbor);default:throw new Mce.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};o4.URRegistryDecoder=K7});var G7=E(s4=>{"use strict";h();p();Object.defineProperty(s4,"__esModule",{value:!0});s4.CryptoMultiAccounts=void 0;var Nce=ca(),qce=og(),Fce=ao(),AU=fa(),k0;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.keys=2]="keys",t[t.device=3]="device"})(k0||(k0={}));var uh=class extends Fce.RegistryItem{constructor(e,r,n){super(),this.masterFingerprint=e,this.keys=r,this.device=n,this.getRegistryType=()=>Nce.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[k0.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[k0.keys]=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o})),this.device&&(i[k0.device]=this.device),new AU.DataItem(i)}}};s4.CryptoMultiAccounts=uh;uh.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[k0.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[k0.keys].map(s=>qce.CryptoHDKey.fromDataItem(s)),o=e[k0.device];return new uh(r,a,o)};uh.fromCBOR=t=>{let e=(0,AU.decodeToDataItem)(t);return uh.fromDataItem(e)}});var DU=E(OU=>{"use strict";h();p();Object.defineProperty(OU,"__esModule",{value:!0})});var of=E(Oe=>{"use strict";h();p();Object.defineProperty(Oe,"__esModule",{value:!0});Oe.Buffer=Oe.extend=Oe.PathComponent=Oe.ScriptExpressions=Oe.MultiKey=Oe.CryptoPSBT=Oe.CryptoOutput=Oe.CryptoECKey=Oe.CryptoCoinInfoNetwork=Oe.CryptoCoinInfoType=Oe.CryptoCoinInfo=Oe.CryptoKeypath=Oe.CryptoMultiAccounts=Oe.CryptoHDKey=Oe.CryptoAccount=Oe.Bytes=Oe.URRegistryDecoder=Oe.DataItem=void 0;var yn=sU();P7();var Lce=Up();Object.defineProperty(Oe,"Buffer",{enumerable:!0,get:function(){return Lce.Buffer}});var PU=og();Object.defineProperty(Oe,"CryptoHDKey",{enumerable:!0,get:function(){return PU.CryptoHDKey}});var BU=Jb();Object.defineProperty(Oe,"CryptoKeypath",{enumerable:!0,get:function(){return BU.CryptoKeypath}});var cg=zb();Object.defineProperty(Oe,"CryptoCoinInfo",{enumerable:!0,get:function(){return cg.CryptoCoinInfo}});Object.defineProperty(Oe,"CryptoCoinInfoType",{enumerable:!0,get:function(){return cg.Type}});Object.defineProperty(Oe,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return cg.Network}});var MU=Im();Object.defineProperty(Oe,"CryptoECKey",{enumerable:!0,get:function(){return MU.CryptoECKey}});var NU=wU();Object.defineProperty(Oe,"Bytes",{enumerable:!0,get:function(){return NU.Bytes}});var qU=L7();Object.defineProperty(Oe,"CryptoOutput",{enumerable:!0,get:function(){return qU.CryptoOutput}});var FU=U7();Object.defineProperty(Oe,"CryptoPSBT",{enumerable:!0,get:function(){return FU.CryptoPSBT}});var LU=k7();Object.defineProperty(Oe,"CryptoAccount",{enumerable:!0,get:function(){return LU.CryptoAccount}});var UU=V7();Object.defineProperty(Oe,"URRegistryDecoder",{enumerable:!0,get:function(){return UU.URRegistryDecoder}});var kU=t4();Object.defineProperty(Oe,"MultiKey",{enumerable:!0,get:function(){return kU.MultiKey}});var jU=Vb();Object.defineProperty(Oe,"ScriptExpressions",{enumerable:!0,get:function(){return jU.ScriptExpressions}});var HU=Wb();Object.defineProperty(Oe,"PathComponent",{enumerable:!0,get:function(){return HU.PathComponent}});var Uce=ao(),RU=ca(),fg=fa(),kce=fa();Object.defineProperty(Oe,"DataItem",{enumerable:!0,get:function(){return kce.DataItem}});var jce=Kb(),KU=G7();Object.defineProperty(Oe,"CryptoMultiAccounts",{enumerable:!0,get:function(){return KU.CryptoMultiAccounts}});var Hce={URRegistryDecoder:UU.URRegistryDecoder,Bytes:NU.Bytes,CryptoAccount:LU.CryptoAccount,CryptoHDKey:PU.CryptoHDKey,CryptoMultiAccounts:KU.CryptoMultiAccounts,CryptoKeypath:BU.CryptoKeypath,CryptoCoinInfo:cg.CryptoCoinInfo,CryptoCoinInfoType:cg.Type,CryptoCoinInfoNetwork:cg.Network,CryptoECKey:MU.CryptoECKey,CryptoOutput:qU.CryptoOutput,CryptoPSBT:FU.CryptoPSBT,MultiKey:kU.MultiKey,ScriptExpressions:jU.ScriptExpressions,PathComponent:HU.PathComponent},Kce={addReader:fg.addReader,addSemanticDecode:fg.addSemanticDecode,addSemanticEncode:fg.addSemanticEncode,addWriter:fg.addWriter,patchTags:jce.patchTags},Vce={RegistryTypes:RU.RegistryTypes,RegistryItem:Uce.RegistryItem,RegistryType:RU.RegistryType,decodeToDataItem:fg.decodeToDataItem,encodeDataItem:fg.encodeDataItem,cbor:Kce};Oe.extend=Vce;(0,yn.__exportStar)(H7(),Oe);(0,yn.__exportStar)(V7(),Oe);(0,yn.__exportStar)(fa(),Oe);(0,yn.__exportStar)(k7(),Oe);(0,yn.__exportStar)(U7(),Oe);(0,yn.__exportStar)(og(),Oe);(0,yn.__exportStar)(G7(),Oe);(0,yn.__exportStar)(L7(),Oe);(0,yn.__exportStar)(zb(),Oe);(0,yn.__exportStar)(Im(),Oe);(0,yn.__exportStar)(t4(),Oe);(0,yn.__exportStar)(Jb(),Oe);(0,yn.__exportStar)(P7(),Oe);(0,yn.__exportStar)(Wb(),Oe);(0,yn.__exportStar)(ao(),Oe);(0,yn.__exportStar)(ca(),Oe);(0,yn.__exportStar)(DU(),Oe);(0,yn.__exportStar)(Kb(),Oe);Oe.default=Hce});function Cm(){if(!u4&&(u4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!u4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u4(Gce)}var u4,Gce,z7=fe(()=>{h();p();Gce=new Uint8Array(16)});var VU,GU=fe(()=>{h();p();VU=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function zce(t){return typeof t=="string"&&VU.test(t)}var j0,Am=fe(()=>{h();p();GU();j0=zce});function Yce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Cn[t[e+0]]+Cn[t[e+1]]+Cn[t[e+2]]+Cn[t[e+3]]+"-"+Cn[t[e+4]]+Cn[t[e+5]]+"-"+Cn[t[e+6]]+Cn[t[e+7]]+"-"+Cn[t[e+8]]+Cn[t[e+9]]+"-"+Cn[t[e+10]]+Cn[t[e+11]]+Cn[t[e+12]]+Cn[t[e+13]]+Cn[t[e+14]]+Cn[t[e+15]]).toLowerCase();if(!j0(r))throw TypeError("Stringified UUID is invalid");return r}var Cn,f4,H0,Om=fe(()=>{h();p();Am();Cn=[];for(f4=0;f4<256;++f4)Cn.push((f4+256).toString(16).substr(1));H0=Yce});function Wce(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var a=t.node||zU,o=t.clockseq!==void 0?t.clockseq:Y7;if(a==null||o==null){var s=t.random||(t.rng||Cm)();a==null&&(a=zU=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=Y7=(s[6]<<8|s[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:X7+1,c=u-W7+(f-X7)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||u>W7)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");W7=u,X7=f,Y7=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||H0(i)}var zU,Y7,W7,X7,YU,WU=fe(()=>{h();p();z7();Om();W7=0,X7=0;YU=Wce});function Xce(t){if(!j0(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var c4,J7=fe(()=>{h();p();Am();c4=Xce});function Jce(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function d4(t,e,r){function n(i,a,o,s){if(typeof i=="string"&&(i=Jce(i)),typeof a=="string"&&(a=c4(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return H0(u)}try{n.name=t}catch{}return n.DNS=$ce,n.URL=Zce,n}var $ce,Zce,$7=fe(()=>{h();p();Om();J7();$ce="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Zce="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Qce(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return e0e(t0e(r0e(t),t.length*8))}function e0e(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var a=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function XU(t){return(t+64>>>9<<4)+14+1}function t0e(t,e){t[e>>5]|=128<<e%32,t[XU(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=r,u=n,f=i,c=a;r=si(r,n,i,a,t[o],7,-680876936),a=si(a,r,n,i,t[o+1],12,-389564586),i=si(i,a,r,n,t[o+2],17,606105819),n=si(n,i,a,r,t[o+3],22,-1044525330),r=si(r,n,i,a,t[o+4],7,-176418897),a=si(a,r,n,i,t[o+5],12,1200080426),i=si(i,a,r,n,t[o+6],17,-1473231341),n=si(n,i,a,r,t[o+7],22,-45705983),r=si(r,n,i,a,t[o+8],7,1770035416),a=si(a,r,n,i,t[o+9],12,-1958414417),i=si(i,a,r,n,t[o+10],17,-42063),n=si(n,i,a,r,t[o+11],22,-1990404162),r=si(r,n,i,a,t[o+12],7,1804603682),a=si(a,r,n,i,t[o+13],12,-40341101),i=si(i,a,r,n,t[o+14],17,-1502002290),n=si(n,i,a,r,t[o+15],22,1236535329),r=ui(r,n,i,a,t[o+1],5,-165796510),a=ui(a,r,n,i,t[o+6],9,-1069501632),i=ui(i,a,r,n,t[o+11],14,643717713),n=ui(n,i,a,r,t[o],20,-373897302),r=ui(r,n,i,a,t[o+5],5,-701558691),a=ui(a,r,n,i,t[o+10],9,38016083),i=ui(i,a,r,n,t[o+15],14,-660478335),n=ui(n,i,a,r,t[o+4],20,-405537848),r=ui(r,n,i,a,t[o+9],5,568446438),a=ui(a,r,n,i,t[o+14],9,-1019803690),i=ui(i,a,r,n,t[o+3],14,-187363961),n=ui(n,i,a,r,t[o+8],20,1163531501),r=ui(r,n,i,a,t[o+13],5,-1444681467),a=ui(a,r,n,i,t[o+2],9,-51403784),i=ui(i,a,r,n,t[o+7],14,1735328473),n=ui(n,i,a,r,t[o+12],20,-1926607734),r=fi(r,n,i,a,t[o+5],4,-378558),a=fi(a,r,n,i,t[o+8],11,-2022574463),i=fi(i,a,r,n,t[o+11],16,1839030562),n=fi(n,i,a,r,t[o+14],23,-35309556),r=fi(r,n,i,a,t[o+1],4,-1530992060),a=fi(a,r,n,i,t[o+4],11,1272893353),i=fi(i,a,r,n,t[o+7],16,-155497632),n=fi(n,i,a,r,t[o+10],23,-1094730640),r=fi(r,n,i,a,t[o+13],4,681279174),a=fi(a,r,n,i,t[o],11,-358537222),i=fi(i,a,r,n,t[o+3],16,-722521979),n=fi(n,i,a,r,t[o+6],23,76029189),r=fi(r,n,i,a,t[o+9],4,-640364487),a=fi(a,r,n,i,t[o+12],11,-421815835),i=fi(i,a,r,n,t[o+15],16,530742520),n=fi(n,i,a,r,t[o+2],23,-995338651),r=ci(r,n,i,a,t[o],6,-198630844),a=ci(a,r,n,i,t[o+7],10,1126891415),i=ci(i,a,r,n,t[o+14],15,-1416354905),n=ci(n,i,a,r,t[o+5],21,-57434055),r=ci(r,n,i,a,t[o+12],6,1700485571),a=ci(a,r,n,i,t[o+3],10,-1894986606),i=ci(i,a,r,n,t[o+10],15,-1051523),n=ci(n,i,a,r,t[o+1],21,-2054922799),r=ci(r,n,i,a,t[o+8],6,1873313359),a=ci(a,r,n,i,t[o+15],10,-30611744),i=ci(i,a,r,n,t[o+6],15,-1560198380),n=ci(n,i,a,r,t[o+13],21,1309151649),r=ci(r,n,i,a,t[o+4],6,-145523070),a=ci(a,r,n,i,t[o+11],10,-1120210379),i=ci(i,a,r,n,t[o+2],15,718787259),n=ci(n,i,a,r,t[o+9],21,-343485551),r=K0(r,s),n=K0(n,u),i=K0(i,f),a=K0(a,c)}return[r,n,i,a]}function r0e(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(XU(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function K0(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function n0e(t,e){return t<<e|t>>>32-e}function l4(t,e,r,n,i,a){return K0(n0e(K0(K0(e,t),K0(n,a)),i),r)}function si(t,e,r,n,i,a,o){return l4(e&r|~e&n,t,e,i,a,o)}function ui(t,e,r,n,i,a,o){return l4(e&n|r&~n,t,e,i,a,o)}function fi(t,e,r,n,i,a,o){return l4(e^r^n,t,e,i,a,o)}function ci(t,e,r,n,i,a,o){return l4(r^(e|~n),t,e,i,a,o)}var JU,$U=fe(()=>{h();p();JU=Qce});var i0e,ZU,QU=fe(()=>{h();p();$7();$U();i0e=d4("v3",48,JU),ZU=i0e});function a0e(t,e,r){t=t||{};var n=t.random||(t.rng||Cm)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return H0(n)}var ek,tk=fe(()=>{h();p();z7();Om();ek=a0e});function o0e(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function Z7(t,e){return t<<e|t>>>32-e}function s0e(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=t[u*64+c*4]<<24|t[u*64+c*4+1]<<16|t[u*64+c*4+2]<<8|t[u*64+c*4+3];s[u]=f}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=Z7(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=r[0],S=r[1],I=r[2],O=r[3],P=r[4],q=0;q<80;++q){var C=Math.floor(q/20),d=Z7(w,5)+o0e(C,S,I,O)+P+e[C]+g[q]>>>0;P=O,O=I,I=Z7(S,30)>>>0,S=w,w=d}r[0]=r[0]+w>>>0,r[1]=r[1]+S>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var rk,nk=fe(()=>{h();p();rk=s0e});var u0e,ik,ak=fe(()=>{h();p();$7();nk();u0e=d4("v5",80,rk),ik=u0e});var ok,sk=fe(()=>{h();p();ok="00000000-0000-0000-0000-000000000000"});function f0e(t){if(!j0(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var uk,fk=fe(()=>{h();p();Am();uk=f0e});var ck={};v0(ck,{NIL:()=>ok,parse:()=>c4,stringify:()=>H0,v1:()=>YU,v3:()=>ZU,v4:()=>ek,v5:()=>ik,validate:()=>j0,version:()=>uk});var dk=fe(()=>{h();p();WU();QU();tk();ak();sk();fk();Am();Om();J7()});var lk=E(z0=>{"use strict";h();p();Object.defineProperty(z0,"__esModule",{value:!0});var di=of(),c0e=(dk(),m0(ck)),Q7={COSMOS_SIGN_REQUEST:new di.RegistryType("cosmos-sign-request",4101),COSMOS_SIGNATURE:new di.RegistryType("cosmos-signature",4102)},{decodeToDataItem:d0e,RegistryTypes:l0e}=di.extend,V0,An;(V0=z0.SignDataType||(z0.SignDataType={}))[V0.amino=1]="amino",V0[V0.direct=2]="direct",V0[V0.textual=3]="textual",V0[V0.message=4]="message",function(t){t[t.requestId=1]="requestId",t[t.signData=2]="signData",t[t.dataType=3]="dataType",t[t.derivationPaths=4]="derivationPaths",t[t.addresses=5]="addresses",t[t.origin=6]="origin"}(An||(An={}));var hc=class extends di.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Q7.COSMOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getDerivationPaths=()=>this.derivationPaths.map(r=>r.getPath()),this.getAddress=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let r={};return r[An.requestId]=new di.DataItem(this.requestId,l0e.UUID.getTag()),r[An.signData]=this.signData,r[An.dataType]=this.dataType,r[An.derivationPaths]=this.derivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),this.addresses&&(r[An.addresses]=this.addresses),this.origin&&(r[An.origin]=this.origin),new di.DataItem(r)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.derivationPaths=e.derivationPaths,this.addresses=e.addresses,this.origin=e.origin}static constructCosmosRequest(e,r,n,i,a,o,s){let u=a.map((f,c)=>{let l=f.replace(/[m|M]\//,"").split("/").map(g=>{let y=parseInt(g.replace("'","")),_=!1;return g.endsWith("'")&&(_=!0),new di.PathComponent({index:y,hardened:_})});return new di.CryptoKeypath(l,v.Buffer.from(r[c],"hex"))});return new hc({requestId:v.Buffer.from(c0e.parse(e)),signData:n,dataType:i||z0.SignDataType.amino,derivationPaths:u,addresses:o||void 0,origin:s||void 0})}};hc.fromDataItem=t=>{let e=t.getData(),r=e[An.requestId]?e[An.requestId].getData():void 0,n=e[An.signData],i=e[An.dataType],a=e[An.derivationPaths].map(o=>di.CryptoKeypath.fromDataItem(o));return new hc({requestId:r,signData:n,dataType:i,derivationPaths:a,addresses:e[An.addresses]?e[An.addresses]:void 0,origin:e[An.origin]?e[An.origin]:void 0})},hc.fromCBOR=t=>{let e=d0e(t);return hc.fromDataItem(e)};var{RegistryTypes:h0e,decodeToDataItem:p0e}=di.extend,G0;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature",t[t.publicKey=3]="publicKey"})(G0||(G0={}));var fh=class extends di.RegistryItem{constructor(e,r,n){super(),this.getRegistryType=()=>Q7.COSMOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{let i={};return i[G0.requestId]=new di.DataItem(this.requestId,h0e.UUID.getTag()),i[G0.signature]=this.signature,i[G0.publicKey]=this.publicKey,new di.DataItem(i)},this.signature=e,this.requestId=r,this.publicKey=n}};fh.fromDataItem=t=>{let e=t.getData(),r=e[G0.signature],n=e[G0.requestId].getData();return new fh(r,n,e[G0.publicKey])},fh.fromCBOR=t=>{let e=p0e(t);return fh.fromDataItem(e)},di.patchTags(Object.values(Q7).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(di).forEach(function(t){t!=="default"&&Object.defineProperty(z0,t,{enumerable:!0,get:function(){return di[t]}})}),z0.CosmosSignRequest=hc,z0.CosmosSignature=fh});var pk=E(($He,hk)=>{"use strict";h();p();hk.exports=lk()});var gk=E(p4=>{"use strict";h();p();Object.defineProperty(p4,"__esModule",{value:!0});p4.KeystoneCosmosSDK=void 0;var ch=Tn(),g0e=qa(),Dm=pk(),h4=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==g0e.URType.CosmosSignature)throw new Error("type not match");let r=Dm.CosmosSignature.fromCBOR(e.cbor);return{requestId:(0,ch.uuidStringify)(r.getRequestId()),signature:(0,ch.toHex)(r.getSignature()),publicKey:(0,ch.toHex)(r.getPublicKey())}}generateSignRequest({requestId:e,signData:r,dataType:n,accounts:i,origin:a}){var o;let s=[],u=[];return i.forEach(f=>{s.push(new Dm.CryptoKeypath((0,ch.parsePath)(f.path).map(c=>new Dm.PathComponent(c)),(0,ch.toBuffer)(f.xfp))),u.push(f.address)}),new Dm.CosmosSignRequest({signData:(0,ch.toBuffer)(r),dataType:n,derivationPaths:s,requestId:(0,ch.uuidParse)(e),addresses:u,origin:a??((o=this.config)===null||o===void 0?void 0:o.origin)}).toUR()}};h4.DataType=Dm.SignDataType;p4.KeystoneCosmosSDK=h4});var Fk=E((nKe,v4)=>{h();p();var yk,vk,mk,_k,xk,bk,wk,Ek,Sk,g4,e9,Ik,Tk,Ck,dg,Ak,Ok,Dk,Rk,Pk,Bk,Mk,Nk,qk,y4;(function(t){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof v4=="object"&&typeof v4.exports=="object"?t(r(e,r(v4.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};yk=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},vk=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},mk=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a},_k=function(n,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,a,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},xk=function(n,i){return function(a,o){i(a,o,n)}},bk=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},wk=function(n,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function c(y){try{g(o.next(y))}catch(_){f(_)}}function l(y){try{g(o.throw(y))}catch(_){f(_)}}function g(y){y.done?u(y.value):s(y.value).then(c,l)}g((o=o.apply(n,i||[])).next())})},Ek=function(n,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(y){return l([g,y])}}function l(g){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,s=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){a.label=g[1];break}if(g[0]===6&&a.label<u[1]){a.label=u[1],u=g;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(g);break}u[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(y){g=[6,y],s=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},Sk=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&y4(i,n,a)},y4=Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},g4=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},e9=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(c){f={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},Ik=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(e9(arguments[i]));return n},Tk=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,c=u.length;f<c;f++,s++)o[s]=u[f];return o},Ck=function(n,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return n.concat(u||Array.prototype.slice.call(i))},dg=function(n){return this instanceof dg?(this.v=n,this):new dg(n)},Ak=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){o[w]&&(s[w]=function(S){return new Promise(function(I,O){u.push([w,S,I,O])>1||c(w,S)})})}function c(w,S){try{l(o[w](S))}catch(I){_(u[0][3],I)}}function l(w){w.value instanceof dg?Promise.resolve(w.value.v).then(g,y):_(u[0][2],w)}function g(w){c("next",w)}function y(w){c("throw",w)}function _(w,S){w(S),u.shift(),u.length&&c(u[0][0],u[0][1])}},Ok=function(n){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=n[s]?function(f){return(a=!a)?{value:dg(n[s](f)),done:s==="return"}:u?u(f):f}:u}},Dk=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof g4=="function"?g4(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(c,l){f=n[u](f),s(c,l,f.done,f.value)})}}function s(u,f,c,l){Promise.resolve(l).then(function(g){u({value:g,done:c})},f)}},Rk=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};Pk=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&y4(i,n,a);return r(i,n),i},Bk=function(n){return n&&n.__esModule?n:{default:n}},Mk=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},Nk=function(n,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(n,a):s?s.value=a:i.set(n,a),a},qk=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},t("__extends",yk),t("__assign",vk),t("__rest",mk),t("__decorate",_k),t("__param",xk),t("__metadata",bk),t("__awaiter",wk),t("__generator",Ek),t("__exportStar",Sk),t("__createBinding",y4),t("__values",g4),t("__read",e9),t("__spread",Ik),t("__spreadArrays",Tk),t("__spreadArray",Ck),t("__await",dg),t("__asyncGenerator",Ak),t("__asyncDelegator",Ok),t("__asyncValues",Dk),t("__makeTemplateObject",Rk),t("__importStar",Pk),t("__importDefault",Bk),t("__classPrivateFieldGet",Mk),t("__classPrivateFieldSet",Nk),t("__classPrivateFieldIn",qk)})});var _4=E(m4=>{"use strict";h();p();Object.defineProperty(m4,"__esModule",{value:!0});m4.DataItem=void 0;var t9=class{constructor(e,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=r}};m4.DataItem=t9});var Uk=E((Lk,x4)=>{"use strict";h();p();(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof x4<"u"&&x4.exports?x4.exports=e():t.CBOR=e()})(Lk,function(){let{DataItem:t}=_4();var e=function(){function r(d){this.$hex=d}r.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},r.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new r(m)},r.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new r(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var oe=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-oe:oe},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var oe;(oe=y(d))!==g;)R.push(oe);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(oe){l(3,oe,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(oe){l(2,oe,m)});else if(typeof d=="object")if(I.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],S=[],I={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?S.push(function(x){if(d===x)return m(x)}):S.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let oe=y(M);return oe instanceof t?oe:new t(oe)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this}};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function P(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}P.prototype=Object.create(s.prototype),P.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},P.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},P.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},P.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},P.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},P.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},P.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},P.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(I.addReader(function(d,m){if(v.Buffer.isBuffer(d))return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),I.addWriter(function(d){if(!d||d==="buffer")return new P;if(d==="hex"||d==="base64")return new P(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new r(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof r||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof r)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new r(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=r.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},I.addReader(function(d,m){if(d instanceof r||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),I.addWriter(function(d){if(d==="hex")return new C}),I}();return e.addSemanticEncode(0,function(r){if(r instanceof Date)return r.toISOString()}).addSemanticDecode(0,function(r){return new Date(r)}).addSemanticDecode(1,function(r){return new Date(r)}),e})});var On=E(li=>{"use strict";h();p();Object.defineProperty(li,"__esModule",{value:!0});li.DataItem=li.addWriter=li.addReader=li.addSemanticEncode=li.addSemanticDecode=li.decodeToDataItem=li.encodeDataItem=void 0;var lg=Uk();Object.defineProperty(li,"encodeDataItem",{enumerable:!0,get:function(){return lg.encodeDataItem}});Object.defineProperty(li,"decodeToDataItem",{enumerable:!0,get:function(){return lg.decodeToDataItem}});Object.defineProperty(li,"addSemanticDecode",{enumerable:!0,get:function(){return lg.addSemanticDecode}});Object.defineProperty(li,"addSemanticEncode",{enumerable:!0,get:function(){return lg.addSemanticEncode}});Object.defineProperty(li,"addReader",{enumerable:!0,get:function(){return lg.addReader}});Object.defineProperty(li,"addWriter",{enumerable:!0,get:function(){return lg.addWriter}});var y0e=_4();Object.defineProperty(li,"DataItem",{enumerable:!0,get:function(){return y0e.DataItem}})});var E4=E(w4=>{"use strict";h();p();Object.defineProperty(w4,"__esModule",{value:!0});w4.patchTags=void 0;var b4=On(),kk=[],v0e=t=>{t.forEach(e=>{kk.find(r=>r===e)||(b4.addSemanticEncode(e,r=>{if(r instanceof b4.DataItem&&r.getTag()===e)return r.getData()}),b4.addSemanticDecode(e,r=>new b4.DataItem(r,e)),kk.push(e))})};w4.patchTags=v0e});var Dn=E(hg=>{"use strict";h();p();Object.defineProperty(hg,"__esModule",{value:!0});hg.RegistryTypes=hg.RegistryType=void 0;var da=class{constructor(e,r){this.type=e,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};hg.RegistryType=da;hg.RegistryTypes={UUID:new da("uuid",37),BYTES:new da("bytes",void 0),CRYPTO_HDKEY:new da("crypto-hdkey",303),CRYPTO_KEYPATH:new da("crypto-keypath",304),CRYPTO_COIN_INFO:new da("crypto-coin-info",305),CRYPTO_ECKEY:new da("crypto-eckey",306),CRYPTO_OUTPUT:new da("crypto-output",308),CRYPTO_PSBT:new da("crypto-psbt",310),CRYPTO_ACCOUNT:new da("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new da("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new da("qr-hardware-call",1201),KEY_DERIVATION_CALL:new da("key-derivation-call",1301)}});var S4=E(dh=>{"use strict";h();p();Object.defineProperty(dh,"__esModule",{value:!0});dh.ScriptExpressions=dh.ScriptExpression=void 0;var La=class{constructor(e,r){this.tag=e,this.expression=r,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};dh.ScriptExpression=La;La.fromTag=t=>Object.values(dh.ScriptExpressions).find(r=>r.getTag()===t);dh.ScriptExpressions={SCRIPT_HASH:new La(400,"sh"),WITNESS_SCRIPT_HASH:new La(401,"wsh"),PUBLIC_KEY:new La(402,"pk"),PUBLIC_KEY_HASH:new La(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new La(404,"wpkh"),COMBO:new La(405,"combo"),MULTISIG:new La(406,"multi"),SORTED_MULTISIG:new La(407,"sortedmulti"),ADDRESS:new La(307,"addr"),RAW_SCRIPT:new La(408,"raw")}});var r9=E(jk=>{"use strict";h();p();Object.defineProperty(jk,"__esModule",{value:!0});var m0e=E4(),_0e=Dn(),x0e=S4(),b0e=Object.values(_0e.RegistryTypes).filter(t=>!!t.getTag()).map(t=>t.getTag()),w0e=Object.values(x0e.ScriptExpressions).map(t=>t.getTag());m0e.patchTags(b0e.concat(w0e))});var la=E(I4=>{"use strict";h();p();Object.defineProperty(I4,"__esModule",{value:!0});I4.RegistryItem=void 0;var Hk=gn(),E0e=On(),n9=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return E0e.encodeDataItem(this.toDataItem())},this.toUR=()=>new Hk.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,r,n)=>{let i=this.toUR();return new Hk.UREncoder(i,e,r,n)}}};I4.RegistryItem=n9});var T4=E(sf=>{"use strict";h();p();Object.defineProperty(sf,"__esModule",{value:!0});sf.CryptoCoinInfo=sf.Network=sf.Type=void 0;var Kk=On(),S0e=la(),I0e=Dn(),pg;(function(t){t.type="1",t.network="2"})(pg||(pg={}));var Vk;(function(t){t[t.bitcoin=0]="bitcoin"})(Vk=sf.Type||(sf.Type={}));var Gk;(function(t){t[t.mainnet=0]="mainnet",t[t.testnet=1]="testnet"})(Gk=sf.Network||(sf.Network={}));var lh=class extends S0e.RegistryItem{constructor(e,r){super(),this.type=e,this.network=r,this.getRegistryType=()=>I0e.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||Vk.bitcoin,this.getNetwork=()=>this.network||Gk.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[pg.type]=this.type),this.network&&(n[pg.network]=this.network),new Kk.DataItem(n)}}};sf.CryptoCoinInfo=lh;lh.fromDataItem=t=>{let e=t.getData(),r=e[pg.type],n=e[pg.network];return new lh(r,n)};lh.fromCBOR=t=>{let e=Kk.decodeToDataItem(t);return lh.fromDataItem(e)}});var A4=E(C4=>{"use strict";h();p();Object.defineProperty(C4,"__esModule",{value:!0});C4.PathComponent=void 0;var gg=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&gg.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};C4.PathComponent=gg;gg.HARDENED_BIT=2147483648});var Rm=E(O4=>{"use strict";h();p();Object.defineProperty(O4,"__esModule",{value:!0});O4.CryptoKeypath=void 0;var Yk=On(),zk=A4(),T0e=la(),C0e=Dn(),Y0;(function(t){t[t.components=1]="components",t[t.source_fingerprint=2]="source_fingerprint",t[t.depth=3]="depth"})(Y0||(Y0={}));var hh=class extends T0e.RegistryItem{constructor(e=[],r,n){super(),this.components=e,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>C0e.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(o.isHardened())}),i[Y0.components]=a,this.sourceFingerprint&&(i[Y0.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[Y0.depth]=this.depth),new Yk.DataItem(i)}}};O4.CryptoKeypath=hh;hh.fromDataItem=t=>{let e=t.getData(),r=[],n=e[Y0.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?r.push(new zk.PathComponent({index:f,hardened:u})):r.push(new zk.PathComponent({hardened:u}))}let i=e[Y0.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[Y0.depth];return new hh(r,a,o)};hh.fromCBOR=t=>{let e=Yk.decodeToDataItem(t);return hh.fromDataItem(e)}});var yg=E(D4=>{"use strict";h();p();Object.defineProperty(D4,"__esModule",{value:!0});D4.CryptoHDKey=void 0;var A0e=Rp(),O0e=T4(),Wk=Rm(),Xk=On(),D0e=la(),R0e=Dn(),Lt;(function(t){t[t.is_master=1]="is_master",t[t.is_private=2]="is_private",t[t.key_data=3]="key_data",t[t.chain_code=4]="chain_code",t[t.use_info=5]="use_info",t[t.origin=6]="origin",t[t.children=7]="children",t[t.parent_fingerprint=8]="parent_fingerprint",t[t.name=9]="name",t[t.note=10]="note"})(Lt||(Lt={}));var ph=class extends D0e.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let a,o,s=0,u=v.Buffer.alloc(4).fill(0);if(this.isMaster())a=v.Buffer.from("0488ADE4","hex"),o=0,s=0;else{o=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=y[y.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?a=v.Buffer.from("0488ADE4","hex"):a=v.Buffer.from("0488B21E","hex")}let f=v.Buffer.alloc(1);f.writeUInt8(o,0);let c=v.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return A0e.encode(v.Buffer.concat([a,f,u,c,l,g]))},this.getRegistryType=()=>R0e.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,a,o,s,u;let f="";return this.getOrigin()&&((r=this.getOrigin())===null||r===void 0?void 0:r.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(a=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||a===void 0?void 0:a.toString("hex")}/${(o=this.getOrigin())===null||o===void 0?void 0:o.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{let r={};if(this.master)r[Lt.is_master]=!0,r[Lt.key_data]=this.key,r[Lt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[Lt.is_private]=this.privateKey),r[Lt.key_data]=this.key,this.chainCode&&(r[Lt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[Lt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[Lt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[Lt.children]=n}this.parentFingerprint&&(r[Lt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[Lt.name]=this.name),this.note!==void 0&&(r[Lt.note]=this.note)}return new Xk.DataItem(r)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};D4.CryptoHDKey=ph;ph.fromDataItem=t=>{let e=t.getData(),r=!!e[Lt.is_master],n=e[Lt.is_private],i=e[Lt.key_data],a=e[Lt.chain_code],o=e[Lt.use_info]?O0e.CryptoCoinInfo.fromDataItem(e[Lt.use_info]):void 0,s=e[Lt.origin]?Wk.CryptoKeypath.fromDataItem(e[Lt.origin]):void 0,u=e[Lt.children]?Wk.CryptoKeypath.fromDataItem(e[Lt.children]):void 0,f=e[Lt.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[Lt.name],g=e[Lt.note];return new ph({isMaster:r,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};ph.fromCBOR=t=>{let e=Xk.decodeToDataItem(t);return ph.fromDataItem(e)}});var Pm=E(R4=>{"use strict";h();p();Object.defineProperty(R4,"__esModule",{value:!0});R4.CryptoECKey=void 0;var Jk=On(),P0e=la(),B0e=Dn(),W0;(function(t){t[t.curve=1]="curve",t[t.private=2]="private",t[t.data=3]="data"})(W0||(W0={}));var gh=class extends P0e.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>B0e.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let r={};return this.curve&&(r[W0.curve]=this.curve),this.privateKey!==void 0&&(r[W0.private]=this.privateKey),r[W0.data]=this.data,new Jk.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};R4.CryptoECKey=gh;gh.fromDataItem=t=>{let e=t.getData(),r=e[W0.curve],n=e[W0.private],i=e[W0.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${t}`);return new gh({data:i,curve:r,privateKey:n})};gh.fromCBOR=t=>{let e=Jk.decodeToDataItem(t);return gh.fromDataItem(e)}});var Zk=E(P4=>{"use strict";h();p();Object.defineProperty(P4,"__esModule",{value:!0});P4.Bytes=void 0;var $k=On(),M0e=la(),N0e=Dn(),yh=class extends M0e.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>N0e.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new $k.DataItem(this.bytes)}};P4.Bytes=yh;yh.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new yh(e)};yh.fromCBOR=t=>{let e=$k.decodeToDataItem(t);return yh.fromDataItem(e)}});var M4=E(B4=>{"use strict";h();p();Object.defineProperty(B4,"__esModule",{value:!0});B4.MultiKey=void 0;var q0e=Pm(),F0e=yg(),L0e=_4(),U0e=la(),Qk=Dn(),vg;(function(t){t[t.threshold=1]="threshold",t[t.keys=2]="keys"})(vg||(vg={}));var Bm=class extends U0e.RegistryItem{constructor(e,r){super(),this.threshold=e,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[vg.threshold]=this.threshold;let i=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o});return n[vg.keys]=i,new L0e.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};B4.MultiKey=Bm;Bm.fromDataItem=t=>{let e=t.getData(),r=e[vg.threshold],n=e[vg.keys],i=[];return n.forEach(a=>{a.getTag()===Qk.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(F0e.CryptoHDKey.fromDataItem(a)):a.getTag()===Qk.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(q0e.CryptoECKey.fromDataItem(a))}),new Bm(r,i)}});var u9=E(N4=>{"use strict";h();p();Object.defineProperty(N4,"__esModule",{value:!0});N4.CryptoOutput=void 0;var a9=Pm(),o9=yg(),s9=On(),ej=M4(),k0e=la(),tj=Dn(),i9=S4(),pc=class extends k0e.RegistryItem{constructor(e,r){super(),this.scriptExpressions=e,this.cryptoKey=r,this.getRegistryType=()=>tj.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof o9.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof a9.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof ej.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof a9.CryptoECKey||this.cryptoKey instanceof o9.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new s9.DataItem(n,o)}),n}}};N4.CryptoOutput=pc;pc.fromDataItem=t=>{let e=[],r=t;for(;;){let a=r.getTag(),o=i9.ScriptExpression.fromTag(a);if(o)if(e.push(o),r.getData()instanceof s9.DataItem)r=r.getData(),a=r.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===i9.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===i9.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=ej.MultiKey.fromDataItem(r);return new pc(e,a)}if(r.getTag()===tj.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=o9.CryptoHDKey.fromDataItem(r);return new pc(e,a)}else{let a=a9.CryptoECKey.fromDataItem(r);return new pc(e,a)}};pc.fromCBOR=t=>{let e=s9.decodeToDataItem(t);return pc.fromDataItem(e)}});var f9=E(q4=>{"use strict";h();p();Object.defineProperty(q4,"__esModule",{value:!0});q4.CryptoPSBT=void 0;var rj=On(),j0e=la(),H0e=Dn(),vh=class extends j0e.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>H0e.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new rj.DataItem(this.psbt)}};q4.CryptoPSBT=vh;vh.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new vh(e)};vh.fromCBOR=t=>{let e=rj.decodeToDataItem(t);return vh.fromDataItem(e)}});var c9=E(F4=>{"use strict";h();p();Object.defineProperty(F4,"__esModule",{value:!0});F4.CryptoAccount=void 0;var K0e=L4(),nj=On(),V0e=la(),G0e=Dn(),mg;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.outputDescriptors=2]="outputDescriptors"})(mg||(mg={}));var mh=class extends V0e.RegistryItem{constructor(e,r){super(),this.masterFingerprint=e,this.outputDescriptors=r,this.getRegistryType=()=>G0e.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[mg.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[mg.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new nj.DataItem(n)}}};F4.CryptoAccount=mh;mh.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[mg.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[mg.outputDescriptors].map(o=>K0e.CryptoOutput.fromDataItem(o));return new mh(r,a)};mh.fromCBOR=t=>{let e=nj.decodeToDataItem(t);return mh.fromDataItem(e)}});var l9=E(U4=>{"use strict";h();p();Object.defineProperty(U4,"__esModule",{value:!0});U4.UnknownURTypeError=void 0;var d9=class extends Error{constructor(e){super(e)}};U4.UnknownURTypeError=d9});var p9=E(k4=>{"use strict";h();p();Object.defineProperty(k4,"__esModule",{value:!0});k4.URRegistryDecoder=void 0;var z0e=gn(),X0=L4(),J0=Dn(),Y0e=l9(),h9=class extends z0e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case J0.RegistryTypes.BYTES.getType():return X0.Bytes.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_HDKEY.getType():return X0.CryptoHDKey.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_KEYPATH.getType():return X0.CryptoKeypath.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_COIN_INFO.getType():return X0.CryptoCoinInfo.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_ECKEY.getType():return X0.CryptoECKey.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_OUTPUT.getType():return X0.CryptoOutput.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_PSBT.getType():return X0.CryptoPSBT.fromCBOR(e.cbor);case J0.RegistryTypes.CRYPTO_ACCOUNT.getType():return X0.CryptoAccount.fromCBOR(e.cbor);default:throw new Y0e.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};k4.URRegistryDecoder=h9});var g9=E(j4=>{"use strict";h();p();Object.defineProperty(j4,"__esModule",{value:!0});j4.CryptoMultiAccounts=void 0;var W0e=Dn(),X0e=yg(),J0e=la(),ij=On(),$0;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.keys=2]="keys",t[t.device=3]="device"})($0||($0={}));var _h=class extends J0e.RegistryItem{constructor(e,r,n){super(),this.masterFingerprint=e,this.keys=r,this.device=n,this.getRegistryType=()=>W0e.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[$0.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[$0.keys]=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o})),this.device&&(i[$0.device]=this.device),new ij.DataItem(i)}}};j4.CryptoMultiAccounts=_h;_h.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[$0.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[$0.keys].map(s=>X0e.CryptoHDKey.fromDataItem(s)),o=e[$0.device];return new _h(r,a,o)};_h.fromCBOR=t=>{let e=ij.decodeToDataItem(t);return _h.fromDataItem(e)}});var y9=E(ff=>{"use strict";h();p();Object.defineProperty(ff,"__esModule",{value:!0});ff.KeyDerivation=ff.DerivationAlgorithm=ff.Curve=void 0;var $0e=Dn(),Z0e=la(),aj=On(),Q0e=Rm(),uf;(function(t){t[t.keyPaths=1]="keyPaths",t[t.curve=2]="curve",t[t.algo=3]="algo",t[t.origin=4]="origin"})(uf||(uf={}));var oj;(function(t){t.secp256k1="secp256k1",t.ed25519="ed25519"})(oj=ff.Curve||(ff.Curve={}));var sj;(function(t){t.slip10="slip10",t.bip32ed25519="bip32ed25519"})(sj=ff.DerivationAlgorithm||(ff.DerivationAlgorithm={}));var xh=class extends Z0e.RegistryItem{constructor(e,r=oj.secp256k1,n=sj.slip10,i){super(),this.keypaths=e,this.curve=r,this.algo=n,this.origin=i,this.getRegistryType=()=>$0e.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let a={};return a[uf.keyPaths]=this.keypaths.map(o=>{let s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s}),a[uf.curve]=this.curve,a[uf.algo]=this.algo,this.origin&&(a[uf.origin]=this.origin),new aj.DataItem(a)}}};ff.KeyDerivation=xh;xh.fromDataItem=t=>{let e=t.getData(),r=e[uf.keyPaths].map(o=>Q0e.CryptoKeypath.fromDataItem(o)),n=e[uf.curve],i=e[uf.algo],a=e[uf.origin];return new xh(r,n,i,a)};xh.fromCBOR=t=>{let e=aj.decodeToDataItem(t);return xh.fromDataItem(e)}});var fj=E(wh=>{"use strict";h();p();Object.defineProperty(wh,"__esModule",{value:!0});wh.QRHardwareCall=wh.QRHardwareCallName=void 0;var ede=Dn(),tde=la(),uj=On(),rde=y9(),_g;(function(t){t[t.name=1]="name",t[t.params=2]="params"})(_g||(_g={}));var v9;(function(t){t.KeyDerivation="key-derivation"})(v9=wh.QRHardwareCallName||(wh.QRHardwareCallName={}));var bh=class extends tde.RegistryItem{constructor(e,r){super(),this.name=e,this.params=r,this.getRegistryType=()=>ede.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[_g.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[_g.params]=i,new uj.DataItem(n)}}};wh.QRHardwareCall=bh;bh.fromDataItem=t=>{let e=t.getData(),r=e[_g.name]||v9.KeyDerivation,n;switch(r){case v9.KeyDerivation:n=rde.KeyDerivation.fromDataItem(e[_g.params])}return new bh(r,n)};bh.fromCBOR=t=>{let e=uj.decodeToDataItem(t);return bh.fromDataItem(e)}});var dj=E(cj=>{"use strict";h();p();Object.defineProperty(cj,"__esModule",{value:!0})});var L4=E(Se=>{"use strict";h();p();Object.defineProperty(Se,"__esModule",{value:!0});Se.Buffer=Se.extend=Se.PathComponent=Se.ScriptExpressions=Se.MultiKey=Se.CryptoPSBT=Se.CryptoOutput=Se.CryptoECKey=Se.CryptoCoinInfoNetwork=Se.CryptoCoinInfoType=Se.CryptoCoinInfo=Se.CryptoKeypath=Se.CryptoMultiAccounts=Se.CryptoHDKey=Se.CryptoAccount=Se.Bytes=Se.URRegistryDecoder=Se.DataItem=void 0;var kr=Fk();r9();var nde=Up();Object.defineProperty(Se,"Buffer",{enumerable:!0,get:function(){return nde.Buffer}});var hj=yg();Object.defineProperty(Se,"CryptoHDKey",{enumerable:!0,get:function(){return hj.CryptoHDKey}});var pj=Rm();Object.defineProperty(Se,"CryptoKeypath",{enumerable:!0,get:function(){return pj.CryptoKeypath}});var bg=T4();Object.defineProperty(Se,"CryptoCoinInfo",{enumerable:!0,get:function(){return bg.CryptoCoinInfo}});Object.defineProperty(Se,"CryptoCoinInfoType",{enumerable:!0,get:function(){return bg.Type}});Object.defineProperty(Se,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return bg.Network}});var gj=Pm();Object.defineProperty(Se,"CryptoECKey",{enumerable:!0,get:function(){return gj.CryptoECKey}});var yj=Zk();Object.defineProperty(Se,"Bytes",{enumerable:!0,get:function(){return yj.Bytes}});var vj=u9();Object.defineProperty(Se,"CryptoOutput",{enumerable:!0,get:function(){return vj.CryptoOutput}});var mj=f9();Object.defineProperty(Se,"CryptoPSBT",{enumerable:!0,get:function(){return mj.CryptoPSBT}});var _j=c9();Object.defineProperty(Se,"CryptoAccount",{enumerable:!0,get:function(){return _j.CryptoAccount}});var xj=p9();Object.defineProperty(Se,"URRegistryDecoder",{enumerable:!0,get:function(){return xj.URRegistryDecoder}});var bj=M4();Object.defineProperty(Se,"MultiKey",{enumerable:!0,get:function(){return bj.MultiKey}});var wj=S4();Object.defineProperty(Se,"ScriptExpressions",{enumerable:!0,get:function(){return wj.ScriptExpressions}});var Ej=A4();Object.defineProperty(Se,"PathComponent",{enumerable:!0,get:function(){return Ej.PathComponent}});var ide=la(),lj=Dn(),xg=On(),ade=On();Object.defineProperty(Se,"DataItem",{enumerable:!0,get:function(){return ade.DataItem}});var ode=E4(),Sj=g9();Object.defineProperty(Se,"CryptoMultiAccounts",{enumerable:!0,get:function(){return Sj.CryptoMultiAccounts}});var sde={URRegistryDecoder:xj.URRegistryDecoder,Bytes:yj.Bytes,CryptoAccount:_j.CryptoAccount,CryptoHDKey:hj.CryptoHDKey,CryptoMultiAccounts:Sj.CryptoMultiAccounts,CryptoKeypath:pj.CryptoKeypath,CryptoCoinInfo:bg.CryptoCoinInfo,CryptoCoinInfoType:bg.Type,CryptoCoinInfoNetwork:bg.Network,CryptoECKey:gj.CryptoECKey,CryptoOutput:vj.CryptoOutput,CryptoPSBT:mj.CryptoPSBT,MultiKey:bj.MultiKey,ScriptExpressions:wj.ScriptExpressions,PathComponent:Ej.PathComponent},ude={addReader:xg.addReader,addSemanticDecode:xg.addSemanticDecode,addSemanticEncode:xg.addSemanticEncode,addWriter:xg.addWriter,patchTags:ode.patchTags},fde={RegistryTypes:lj.RegistryTypes,RegistryItem:ide.RegistryItem,RegistryType:lj.RegistryType,decodeToDataItem:xg.decodeToDataItem,encodeDataItem:xg.encodeDataItem,cbor:ude};Se.extend=fde;kr.__exportStar(l9(),Se);kr.__exportStar(p9(),Se);kr.__exportStar(On(),Se);kr.__exportStar(c9(),Se);kr.__exportStar(f9(),Se);kr.__exportStar(yg(),Se);kr.__exportStar(g9(),Se);kr.__exportStar(fj(),Se);kr.__exportStar(y9(),Se);kr.__exportStar(u9(),Se);kr.__exportStar(T4(),Se);kr.__exportStar(Pm(),Se);kr.__exportStar(M4(),Se);kr.__exportStar(Rm(),Se);kr.__exportStar(r9(),Se);kr.__exportStar(A4(),Se);kr.__exportStar(la(),Se);kr.__exportStar(Dn(),Se);kr.__exportStar(dj(),Se);kr.__exportStar(E4(),Se);Se.default=sde});var Ij=E(Z0=>{"use strict";h();p();Object.defineProperty(Z0,"__esModule",{value:!0});var hi=L4(),cde=G3(),m9={EVM_SIGN_REQUEST:new hi.RegistryType("evm-sign-request",4101),EVM_SIGNATURE:new hi.RegistryType("evm-signature",4102)},{decodeToDataItem:dde,RegistryTypes:lde}=hi.extend,wg,Rn;(wg=Z0.SignDataType||(Z0.SignDataType={}))[wg.arbitrary=1]="arbitrary",wg[wg.cosmosAmino=2]="cosmosAmino",wg[wg.cosmosDirect=3]="cosmosDirect",function(t){t[t.requestId=1]="requestId",t[t.signData=2]="signData",t[t.dataType=3]="dataType",t[t.customChainIdentifier=4]="customChainIdentifier",t[t.derivationPath=5]="derivationPath",t[t.address=6]="address",t[t.origin=7]="origin"}(Rn||(Rn={}));var cf=class extends hi.RegistryItem{constructor(e){super(),this.getRegistryType=()=>m9.EVM_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataype=()=>this.dataType,this.getCustomChainIdentifier=()=>this.customChainIdentifier,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let r={};r[Rn.requestId]=new hi.DataItem(this.requestId,lde.UUID.getTag()),r[Rn.signData]=this.signData,r[Rn.dataType]=this.dataType,r[Rn.customChainIdentifier]=this.customChainIdentifier;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),r[Rn.derivationPath]=n,this.address&&(r[Rn.address]=this.address),this.origin&&(r[Rn.origin]=this.origin),new hi.DataItem(r)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.customChainIdentifier=e.customChainIdentifier,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static parsePath(e,r){let n=e.replace(/[m|M]\//,"").split("/").map(i=>{let a=parseInt(i.replace("'","")),o=!1;return i.endsWith("'")&&(o=!0),new hi.PathComponent({index:a,hardened:o})});return new hi.CryptoKeypath(n,v.Buffer.from(r,"hex"))}static constructEvmRequest(e,r,n,i,a,o,s,u){return new cf({requestId:v.Buffer.from(cde.parse(e)),signData:n,dataType:i||Z0.SignDataType.arbitrary,customChainIdentifier:a,derivationPath:cf.parsePath(o,r),address:s,origin:u})}};cf.fromDataItem=t=>{let e=t.getData(),r=e[Rn.requestId]?e[Rn.requestId].getData():void 0;return new cf({requestId:r,signData:e[Rn.signData],dataType:e[Rn.dataType],customChainIdentifier:e[Rn.customChainIdentifier],derivationPath:hi.CryptoKeypath.fromDataItem(e[Rn.derivationPath]),address:e[Rn.address],origin:e[Rn.origin]})},cf.fromCBOR=t=>{let e=dde(t);return cf.fromDataItem(e)};var{RegistryTypes:hde,decodeToDataItem:pde}=hi.extend,Eg;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature"})(Eg||(Eg={}));var Eh=class extends hi.RegistryItem{constructor(e,r){super(),this.getRegistryType=()=>m9.EVM_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return n[Eg.requestId]=new hi.DataItem(this.requestId,hde.UUID.getTag()),n[Eg.signature]=this.signature,new hi.DataItem(n)},this.signature=e,this.requestId=r}};Eh.fromDataItem=t=>{let e=t.getData(),r=e[Eg.signature],n=e[Eg.requestId].getData();return new Eh(r,n)},Eh.fromCBOR=t=>{let e=pde(t);return Eh.fromDataItem(e)},hi.patchTags(Object.values(m9).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(hi).forEach(function(t){t!=="default"&&Object.defineProperty(Z0,t,{enumerable:!0,get:function(){return hi[t]}})}),Z0.EvmSignRequest=cf,Z0.EvmSignature=Eh});var Cj=E((OVe,Tj)=>{"use strict";h();p();Tj.exports=Ij()});var Aj=E(K4=>{"use strict";h();p();Object.defineProperty(K4,"__esModule",{value:!0});K4.KeystoneEvmSDK=void 0;var Sh=Tn(),gde=qa(),Mm=Cj(),H4=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==gde.URType.EvmSignature)throw new Error("type not match");let r=Mm.EvmSignature.fromCBOR(e.cbor);return{requestId:(0,Sh.uuidStringify)(r.getRequestId()),signature:(0,Sh.toHex)(r.getSignature())}}generateSignRequest({requestId:e,signData:r,dataType:n,customChainIdentifier:i,account:a,origin:o}){var s;let u=new Mm.CryptoKeypath((0,Sh.parsePath)(a.path).map(f=>new Mm.PathComponent(f)),(0,Sh.toBuffer)(a.xfp));return new Mm.EvmSignRequest({signData:(0,Sh.toBuffer)(r),dataType:n,customChainIdentifier:i,derivationPath:u,requestId:(0,Sh.uuidParse)(e),address:a.address!==void 0?(0,Sh.toBuffer)(a.address.substring(a.address.startsWith("0x")?2:0)):void 0,origin:o??((s=this.config)===null||s===void 0?void 0:s.origin)}).toUR()}};H4.DataType=Mm.SignDataType;K4.KeystoneEvmSDK=H4});function Nm(){if(!V4&&(V4=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!V4))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return V4(yde)}var V4,yde,_9=fe(()=>{h();p();yde=new Uint8Array(16)});var Oj,Dj=fe(()=>{h();p();Oj=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function vde(t){return typeof t=="string"&&Oj.test(t)}var Q0,qm=fe(()=>{h();p();Dj();Q0=vde});function mde(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Pn[t[e+0]]+Pn[t[e+1]]+Pn[t[e+2]]+Pn[t[e+3]]+"-"+Pn[t[e+4]]+Pn[t[e+5]]+"-"+Pn[t[e+6]]+Pn[t[e+7]]+"-"+Pn[t[e+8]]+Pn[t[e+9]]+"-"+Pn[t[e+10]]+Pn[t[e+11]]+Pn[t[e+12]]+Pn[t[e+13]]+Pn[t[e+14]]+Pn[t[e+15]]).toLowerCase();if(!Q0(r))throw TypeError("Stringified UUID is invalid");return r}var Pn,G4,ed,Fm=fe(()=>{h();p();qm();Pn=[];for(G4=0;G4<256;++G4)Pn.push((G4+256).toString(16).substr(1));ed=mde});function _de(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var a=t.node||Rj,o=t.clockseq!==void 0?t.clockseq:x9;if(a==null||o==null){var s=t.random||(t.rng||Nm)();a==null&&(a=Rj=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=x9=(s[6]<<8|s[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:w9+1,c=u-b9+(f-w9)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||u>b9)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");b9=u,w9=f,x9=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||ed(i)}var Rj,x9,b9,w9,Pj,Bj=fe(()=>{h();p();_9();Fm();b9=0,w9=0;Pj=_de});function xde(t){if(!Q0(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var z4,E9=fe(()=>{h();p();qm();z4=xde});function bde(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Y4(t,e,r){function n(i,a,o,s){if(typeof i=="string"&&(i=bde(i)),typeof a=="string"&&(a=z4(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return ed(u)}try{n.name=t}catch{}return n.DNS=wde,n.URL=Ede,n}var wde,Ede,S9=fe(()=>{h();p();Fm();E9();wde="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Ede="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Sde(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return Ide(Tde(Cde(t),t.length*8))}function Ide(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var a=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function Mj(t){return(t+64>>>9<<4)+14+1}function Tde(t,e){t[e>>5]|=128<<e%32,t[Mj(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=r,u=n,f=i,c=a;r=pi(r,n,i,a,t[o],7,-680876936),a=pi(a,r,n,i,t[o+1],12,-389564586),i=pi(i,a,r,n,t[o+2],17,606105819),n=pi(n,i,a,r,t[o+3],22,-1044525330),r=pi(r,n,i,a,t[o+4],7,-176418897),a=pi(a,r,n,i,t[o+5],12,1200080426),i=pi(i,a,r,n,t[o+6],17,-1473231341),n=pi(n,i,a,r,t[o+7],22,-45705983),r=pi(r,n,i,a,t[o+8],7,1770035416),a=pi(a,r,n,i,t[o+9],12,-1958414417),i=pi(i,a,r,n,t[o+10],17,-42063),n=pi(n,i,a,r,t[o+11],22,-1990404162),r=pi(r,n,i,a,t[o+12],7,1804603682),a=pi(a,r,n,i,t[o+13],12,-40341101),i=pi(i,a,r,n,t[o+14],17,-1502002290),n=pi(n,i,a,r,t[o+15],22,1236535329),r=gi(r,n,i,a,t[o+1],5,-165796510),a=gi(a,r,n,i,t[o+6],9,-1069501632),i=gi(i,a,r,n,t[o+11],14,643717713),n=gi(n,i,a,r,t[o],20,-373897302),r=gi(r,n,i,a,t[o+5],5,-701558691),a=gi(a,r,n,i,t[o+10],9,38016083),i=gi(i,a,r,n,t[o+15],14,-660478335),n=gi(n,i,a,r,t[o+4],20,-405537848),r=gi(r,n,i,a,t[o+9],5,568446438),a=gi(a,r,n,i,t[o+14],9,-1019803690),i=gi(i,a,r,n,t[o+3],14,-187363961),n=gi(n,i,a,r,t[o+8],20,1163531501),r=gi(r,n,i,a,t[o+13],5,-1444681467),a=gi(a,r,n,i,t[o+2],9,-51403784),i=gi(i,a,r,n,t[o+7],14,1735328473),n=gi(n,i,a,r,t[o+12],20,-1926607734),r=yi(r,n,i,a,t[o+5],4,-378558),a=yi(a,r,n,i,t[o+8],11,-2022574463),i=yi(i,a,r,n,t[o+11],16,1839030562),n=yi(n,i,a,r,t[o+14],23,-35309556),r=yi(r,n,i,a,t[o+1],4,-1530992060),a=yi(a,r,n,i,t[o+4],11,1272893353),i=yi(i,a,r,n,t[o+7],16,-155497632),n=yi(n,i,a,r,t[o+10],23,-1094730640),r=yi(r,n,i,a,t[o+13],4,681279174),a=yi(a,r,n,i,t[o],11,-358537222),i=yi(i,a,r,n,t[o+3],16,-722521979),n=yi(n,i,a,r,t[o+6],23,76029189),r=yi(r,n,i,a,t[o+9],4,-640364487),a=yi(a,r,n,i,t[o+12],11,-421815835),i=yi(i,a,r,n,t[o+15],16,530742520),n=yi(n,i,a,r,t[o+2],23,-995338651),r=vi(r,n,i,a,t[o],6,-198630844),a=vi(a,r,n,i,t[o+7],10,1126891415),i=vi(i,a,r,n,t[o+14],15,-1416354905),n=vi(n,i,a,r,t[o+5],21,-57434055),r=vi(r,n,i,a,t[o+12],6,1700485571),a=vi(a,r,n,i,t[o+3],10,-1894986606),i=vi(i,a,r,n,t[o+10],15,-1051523),n=vi(n,i,a,r,t[o+1],21,-2054922799),r=vi(r,n,i,a,t[o+8],6,1873313359),a=vi(a,r,n,i,t[o+15],10,-30611744),i=vi(i,a,r,n,t[o+6],15,-1560198380),n=vi(n,i,a,r,t[o+13],21,1309151649),r=vi(r,n,i,a,t[o+4],6,-145523070),a=vi(a,r,n,i,t[o+11],10,-1120210379),i=vi(i,a,r,n,t[o+2],15,718787259),n=vi(n,i,a,r,t[o+9],21,-343485551),r=td(r,s),n=td(n,u),i=td(i,f),a=td(a,c)}return[r,n,i,a]}function Cde(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(Mj(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function td(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function Ade(t,e){return t<<e|t>>>32-e}function W4(t,e,r,n,i,a){return td(Ade(td(td(e,t),td(n,a)),i),r)}function pi(t,e,r,n,i,a,o){return W4(e&r|~e&n,t,e,i,a,o)}function gi(t,e,r,n,i,a,o){return W4(e&n|r&~n,t,e,i,a,o)}function yi(t,e,r,n,i,a,o){return W4(e^r^n,t,e,i,a,o)}function vi(t,e,r,n,i,a,o){return W4(r^(e|~n),t,e,i,a,o)}var Nj,qj=fe(()=>{h();p();Nj=Sde});var Ode,Fj,Lj=fe(()=>{h();p();S9();qj();Ode=Y4("v3",48,Nj),Fj=Ode});function Dde(t,e,r){t=t||{};var n=t.random||(t.rng||Nm)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return ed(n)}var Uj,kj=fe(()=>{h();p();_9();Fm();Uj=Dde});function Rde(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function I9(t,e){return t<<e|t>>>32-e}function Pde(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=t[u*64+c*4]<<24|t[u*64+c*4+1]<<16|t[u*64+c*4+2]<<8|t[u*64+c*4+3];s[u]=f}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=I9(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=r[0],S=r[1],I=r[2],O=r[3],P=r[4],q=0;q<80;++q){var C=Math.floor(q/20),d=I9(w,5)+Rde(C,S,I,O)+P+e[C]+g[q]>>>0;P=O,O=I,I=I9(S,30)>>>0,S=w,w=d}r[0]=r[0]+w>>>0,r[1]=r[1]+S>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var jj,Hj=fe(()=>{h();p();jj=Pde});var Bde,Kj,Vj=fe(()=>{h();p();S9();Hj();Bde=Y4("v5",80,jj),Kj=Bde});var Gj,zj=fe(()=>{h();p();Gj="00000000-0000-0000-0000-000000000000"});function Mde(t){if(!Q0(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var Yj,Wj=fe(()=>{h();p();qm();Yj=Mde});var Xj={};v0(Xj,{NIL:()=>Gj,parse:()=>z4,stringify:()=>ed,v1:()=>Pj,v3:()=>Fj,v4:()=>Uj,v5:()=>Kj,validate:()=>Q0,version:()=>Yj});var Jj=fe(()=>{h();p();Bj();Lj();kj();Vj();zj();Wj();qm();Fm();E9()});var Zj=E((WGe,$j)=>{h();p();var vt={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function Ho(t,e){if(!t)throw new Error(e)}function st(t,e,r){if(Ho(e instanceof Uint8Array,`Expected ${t} to be an Uint8Array`),r!==void 0)if(Array.isArray(r)){let n=r.join(", "),i=`Expected ${t} to be an Uint8Array with length [${n}]`;Ho(r.includes(e.length),i)}else{let n=`Expected ${t} to be an Uint8Array with length ${r}`;Ho(e.length===r,n)}}function Ih(t){Ho(Sg(t)==="Boolean","Expected compressed to be a Boolean")}function fu(t=r=>new Uint8Array(r),e){return typeof t=="function"&&(t=t(e)),st("output",t,e),t}function Sg(t){return Object.prototype.toString.call(t).slice(8,-1)}$j.exports=t=>({contextRandomize(e){switch(Ho(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&st("seed",e,32),t.contextRandomize(e)){case 1:throw new Error(vt.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return st("private key",e,32),t.privateKeyVerify(e)===0},privateKeyNegate(e){switch(st("private key",e,32),t.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(vt.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,r){switch(st("private key",e,32),st("tweak",r,32),t.privateKeyTweakAdd(e,r)){case 0:return e;case 1:throw new Error(vt.TWEAK_ADD)}},privateKeyTweakMul(e,r){switch(st("private key",e,32),st("tweak",r,32),t.privateKeyTweakMul(e,r)){case 0:return e;case 1:throw new Error(vt.TWEAK_MUL)}},publicKeyVerify(e){return st("public key",e,[33,65]),t.publicKeyVerify(e)===0},publicKeyCreate(e,r=!0,n){switch(st("private key",e,32),Ih(r),n=fu(n,r?33:65),t.publicKeyCreate(n,e)){case 0:return n;case 1:throw new Error(vt.SECKEY_INVALID);case 2:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyConvert(e,r=!0,n){switch(st("public key",e,[33,65]),Ih(r),n=fu(n,r?33:65),t.publicKeyConvert(n,e)){case 0:return n;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyNegate(e,r=!0,n){switch(st("public key",e,[33,65]),Ih(r),n=fu(n,r?33:65),t.publicKeyNegate(n,e)){case 0:return n;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.IMPOSSIBLE_CASE);case 3:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyCombine(e,r=!0,n){Ho(Array.isArray(e),"Expected public keys to be an Array"),Ho(e.length>0,"Expected public keys array will have more than zero items");for(let i of e)st("public key",i,[33,65]);switch(Ih(r),n=fu(n,r?33:65),t.publicKeyCombine(n,e)){case 0:return n;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.PUBKEY_COMBINE);case 3:throw new Error(vt.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,r,n=!0,i){switch(st("public key",e,[33,65]),st("tweak",r,32),Ih(n),i=fu(i,n?33:65),t.publicKeyTweakAdd(i,e,r)){case 0:return i;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.TWEAK_ADD)}},publicKeyTweakMul(e,r,n=!0,i){switch(st("public key",e,[33,65]),st("tweak",r,32),Ih(n),i=fu(i,n?33:65),t.publicKeyTweakMul(i,e,r)){case 0:return i;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.TWEAK_MUL)}},signatureNormalize(e){switch(st("signature",e,64),t.signatureNormalize(e)){case 0:return e;case 1:throw new Error(vt.SIG_PARSE)}},signatureExport(e,r){st("signature",e,64),r=fu(r,72);let n={output:r,outputlen:72};switch(t.signatureExport(n,e)){case 0:return r.slice(0,n.outputlen);case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.IMPOSSIBLE_CASE)}},signatureImport(e,r){switch(st("signature",e),r=fu(r,64),t.signatureImport(r,e)){case 0:return r;case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.IMPOSSIBLE_CASE)}},ecdsaSign(e,r,n={},i){st("message",e,32),st("private key",r,32),Ho(Sg(n)==="Object","Expected options to be an Object"),n.data!==void 0&&st("options.data",n.data),n.noncefn!==void 0&&Ho(Sg(n.noncefn)==="Function","Expected options.noncefn to be a Function"),i=fu(i,64);let a={signature:i,recid:null};switch(t.ecdsaSign(a,e,r,n.data,n.noncefn)){case 0:return a;case 1:throw new Error(vt.SIGN);case 2:throw new Error(vt.IMPOSSIBLE_CASE)}},ecdsaVerify(e,r,n){switch(st("signature",e,64),st("message",r,32),st("public key",n,[33,65]),t.ecdsaVerify(e,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.PUBKEY_PARSE)}},ecdsaRecover(e,r,n,i=!0,a){switch(st("signature",e,64),Ho(Sg(r)==="Number"&&r>=0&&r<=3,"Expected recovery id to be a Number within interval [0, 3]"),st("message",n,32),Ih(i),a=fu(a,i?33:65),t.ecdsaRecover(a,e,r,n)){case 0:return a;case 1:throw new Error(vt.SIG_PARSE);case 2:throw new Error(vt.RECOVER);case 3:throw new Error(vt.IMPOSSIBLE_CASE)}},ecdh(e,r,n={},i){switch(st("public key",e,[33,65]),st("private key",r,32),Ho(Sg(n)==="Object","Expected options to be an Object"),n.data!==void 0&&st("options.data",n.data),n.hashfn!==void 0?(Ho(Sg(n.hashfn)==="Function","Expected options.hashfn to be a Function"),n.xbuf!==void 0&&st("options.xbuf",n.xbuf,32),n.ybuf!==void 0&&st("options.ybuf",n.ybuf,32),st("output",i)):i=fu(i,32),t.ecdh(i,e,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(vt.PUBKEY_PARSE);case 2:throw new Error(vt.ECDH)}}})});var Qj=E(($Ge,Nde)=>{Nde.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var oo=E(eH=>{"use strict";h();p();var cu=eH,qde=ac(),Fde=kie(),X4=jie();cu.assert=Fde;cu.toArray=X4.toArray;cu.zero2=X4.zero2;cu.toHex=X4.toHex;cu.encode=X4.encode;function Lde(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,a=t.clone(),o=0;o<n.length;o++){var s,u=a.andln(i-1);a.isOdd()?(u>(i>>1)-1?s=(i>>1)-u:s=u,a.isubn(s)):s=0,n[o]=s,a.iushrn(1)}return n}cu.getNAF=Lde;function Ude(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,a;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o=t.andln(3)+n&3,s=e.andln(3)+i&3;o===3&&(o=-1),s===3&&(s=-1);var u;(o&1)===0?u=0:(a=t.andln(7)+n&7,(a===3||a===5)&&s===2?u=-o:u=o),r[0].push(u);var f;(s&1)===0?f=0:(a=e.andln(7)+i&7,(a===3||a===5)&&o===2?f=-s:f=s),r[1].push(f),2*n===u+1&&(n=1-n),2*i===f+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}cu.getJSF=Ude;function kde(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}cu.cachedProperty=kde;function jde(t){return typeof t=="string"?cu.toArray(t,"hex"):t}cu.parseBytes=jde;function Hde(t){return new qde(t,"hex","le")}cu.intFromLE=Hde});var Um=E((tze,tH)=>{"use strict";h();p();var Th=ac(),Lm=oo(),J4=Lm.getNAF,Kde=Lm.getJSF,$4=Lm.assert;function rd(t,e){this.type=t,this.p=new Th(e.p,16),this.red=e.prime?Th.red(e.prime):Th.mont(this.p),this.zero=new Th(0).toRed(this.red),this.one=new Th(1).toRed(this.red),this.two=new Th(2).toRed(this.red),this.n=e.n&&new Th(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}tH.exports=rd;rd.prototype.point=function(){throw new Error("Not implemented")};rd.prototype.validate=function(){throw new Error("Not implemented")};rd.prototype._fixedNafMul=function(e,r){$4(e.precomputed);var n=e._getDoubles(),i=J4(r,1,this._bitLength),a=(1<<n.step+1)-(n.step%2===0?2:1);a/=3;var o=[],s,u;for(s=0;s<i.length;s+=n.step){u=0;for(var f=s+n.step-1;f>=s;f--)u=(u<<1)+i[f];o.push(u)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),g=a;g>0;g--){for(s=0;s<o.length;s++)u=o[s],u===g?l=l.mixedAdd(n.points[s]):u===-g&&(l=l.mixedAdd(n.points[s].neg()));c=c.add(l)}return c.toP()};rd.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var a=i.points,o=J4(r,n,this._bitLength),s=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var f=0;u>=0&&o[u]===0;u--)f++;if(u>=0&&f++,s=s.dblp(f),u<0)break;var c=o[u];$4(c!==0),e.type==="affine"?c>0?s=s.mixedAdd(a[c-1>>1]):s=s.mixedAdd(a[-c-1>>1].neg()):c>0?s=s.add(a[c-1>>1]):s=s.add(a[-c-1>>1].neg())}return e.type==="affine"?s.toP():s};rd.prototype._wnafMulAdd=function(e,r,n,i,a){var o=this._wnafT1,s=this._wnafT2,u=this._wnafT3,f=0,c,l,g;for(c=0;c<i;c++){g=r[c];var y=g._getNAFPoints(e);o[c]=y.wnd,s[c]=y.points}for(c=i-1;c>=1;c-=2){var _=c-1,w=c;if(o[_]!==1||o[w]!==1){u[_]=J4(n[_],o[_],this._bitLength),u[w]=J4(n[w],o[w],this._bitLength),f=Math.max(u[_].length,f),f=Math.max(u[w].length,f);continue}var S=[r[_],null,null,r[w]];r[_].y.cmp(r[w].y)===0?(S[1]=r[_].add(r[w]),S[2]=r[_].toJ().mixedAdd(r[w].neg())):r[_].y.cmp(r[w].y.redNeg())===0?(S[1]=r[_].toJ().mixedAdd(r[w]),S[2]=r[_].add(r[w].neg())):(S[1]=r[_].toJ().mixedAdd(r[w]),S[2]=r[_].toJ().mixedAdd(r[w].neg()));var I=[-3,-1,-5,-7,0,7,5,1,3],O=Kde(n[_],n[w]);for(f=Math.max(O[0].length,f),u[_]=new Array(f),u[w]=new Array(f),l=0;l<f;l++){var P=O[0][l]|0,q=O[1][l]|0;u[_][l]=I[(P+1)*3+(q+1)],u[w][l]=0,s[_]=S}}var C=this.jpoint(null,null,null),d=this._wnafT4;for(c=f;c>=0;c--){for(var m=0;c>=0;){var x=!0;for(l=0;l<i;l++)d[l]=u[l][c]|0,d[l]!==0&&(x=!1);if(!x)break;m++,c--}if(c>=0&&m++,C=C.dblp(m),c<0)break;for(l=0;l<i;l++){var D=d[l];D!==0&&(D>0?g=s[l][D-1>>1]:D<0&&(g=s[l][-D-1>>1].neg()),g.type==="affine"?C=C.mixedAdd(g):C=C.add(g))}}for(c=0;c<i;c++)s[c]=null;return a?C:C.toP()};function Ko(t,e){this.curve=t,this.type=e,this.precomputed=null}rd.BasePoint=Ko;Ko.prototype.eq=function(){throw new Error("Not implemented")};Ko.prototype.validate=function(){return this.curve.validate(this)};rd.prototype.decodePoint=function(e,r){e=Lm.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?$4(e[e.length-1]%2===0):e[0]===7&&$4(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ko.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ko.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ko.prototype.encode=function(e,r){return Lm.encode(this._encode(r),e)};Ko.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ko.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ko.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,a=0;a<r;a+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ko.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),a=1;a<n;a++)r[a]=r[a-1].add(i);return{wnd:e,points:r}};Ko.prototype._getBeta=function(){return null};Ko.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var nH=E((ize,rH)=>{"use strict";h();p();var Vde=oo(),Tr=ac(),T9=$5(),Ig=Um(),Gde=Vde.assert;function Vo(t){Ig.call(this,"short",t),this.a=new Tr(t.a,16).toRed(this.red),this.b=new Tr(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}T9(Vo,Ig);rH.exports=Vo;Vo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Tr(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Tr(e.lambda,16);else{var a=this._getEndoRoots(this.n);this.g.mul(a[0]).x.cmp(this.g.x.redMul(r))===0?n=a[0]:(n=a[1],Gde(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(s){return{a:new Tr(s.a,16),b:new Tr(s.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Vo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Tr.mont(e),n=new Tr(2).toRed(r).redInvm(),i=n.redNeg(),a=new Tr(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(a).fromRed(),s=i.redSub(a).fromRed();return[o,s]};Vo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),a=new Tr(1),o=new Tr(0),s=new Tr(0),u=new Tr(1),f,c,l,g,y,_,w,S=0,I,O;n.cmpn(0)!==0;){var P=i.div(n);I=i.sub(P.mul(n)),O=s.sub(P.mul(a));var q=u.sub(P.mul(o));if(!l&&I.cmp(r)<0)f=w.neg(),c=a,l=I.neg(),g=O;else if(l&&++S===2)break;w=I,i=n,n=I,s=a,a=O,u=o,o=q}y=I.neg(),_=O;var C=l.sqr().add(g.sqr()),d=y.sqr().add(_.sqr());return d.cmp(C)>=0&&(y=f,_=c),l.negative&&(l=l.neg(),g=g.neg()),y.negative&&(y=y.neg(),_=_.neg()),[{a:l,b:g},{a:y,b:_}]};Vo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],a=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),s=a.mul(n.a),u=o.mul(i.a),f=a.mul(n.b),c=o.mul(i.b),l=e.sub(s).sub(u),g=f.add(c).neg();return{k1:l,k2:g}};Vo.prototype.pointFromX=function(e,r){e=new Tr(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var a=i.fromRed().isOdd();return(r&&!a||!r&&a)&&(i=i.redNeg()),this.point(e,i)};Vo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),a=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(a).cmpn(0)===0};Vo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,a=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(r[o]),u=e[o],f=u._getBeta();s.k1.negative&&(s.k1.ineg(),u=u.neg(!0)),s.k2.negative&&(s.k2.ineg(),f=f.neg(!0)),i[o*2]=u,i[o*2+1]=f,a[o*2]=s.k1,a[o*2+1]=s.k2}for(var c=this._wnafMulAdd(1,i,a,o*2,n),l=0;l<o*2;l++)i[l]=null,a[l]=null;return c};function vn(t,e,r,n){Ig.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Tr(e,16),this.y=new Tr(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}T9(vn,Ig.BasePoint);Vo.prototype.point=function(e,r,n){return new vn(this,e,r,n)};Vo.prototype.pointFromJSON=function(e,r){return vn.fromJSON(this,e,r)};vn.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(a){return n.point(a.x.redMul(n.endo.beta),a.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};vn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};vn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function a(s){return e.point(s[0],s[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(a))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(a))}},i};vn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};vn.prototype.isInfinity=function(){return this.inf};vn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};vn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),a=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=a.redSqr().redISub(this.x.redAdd(this.x)),s=a.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)};vn.prototype.getX=function(){return this.x.fromRed()};vn.prototype.getY=function(){return this.y.fromRed()};vn.prototype.mul=function(e){return e=new Tr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};vn.prototype.mulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a):this.curve._wnafMulAdd(1,i,a,2)};vn.prototype.jmulAdd=function(e,r,n){var i=[this,r],a=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,a,!0):this.curve._wnafMulAdd(1,i,a,2,!0)};vn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};vn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(a){return a.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};vn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Bn(t,e,r,n){Ig.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Tr(0)):(this.x=new Tr(e,16),this.y=new Tr(r,16),this.z=new Tr(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}T9(Bn,Ig.BasePoint);Vo.prototype.jpoint=function(e,r,n){return new Bn(this,e,r,n)};Bn.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Bn.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Bn.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),a=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),s=e.y.redMul(n.redMul(this.z)),u=i.redSub(a),f=o.redSub(s);if(u.cmpn(0)===0)return f.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=u.redSqr(),l=c.redMul(u),g=i.redMul(c),y=f.redSqr().redIAdd(l).redISub(g).redISub(g),_=f.redMul(g.redISub(y)).redISub(o.redMul(l)),w=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(y,_,w)};Bn.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),a=this.y,o=e.y.redMul(r).redMul(this.z),s=n.redSub(i),u=a.redSub(o);if(s.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=s.redSqr(),c=f.redMul(s),l=n.redMul(f),g=u.redSqr().redIAdd(c).redISub(l).redISub(l),y=u.redMul(l.redISub(g)).redISub(a.redMul(c)),_=this.z.redMul(s);return this.curve.jpoint(g,y,_)};Bn.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,a=this.curve.tinv,o=this.x,s=this.y,u=this.z,f=u.redSqr().redSqr(),c=s.redAdd(s);for(r=0;r<e;r++){var l=o.redSqr(),g=c.redSqr(),y=g.redSqr(),_=l.redAdd(l).redIAdd(l).redIAdd(i.redMul(f)),w=o.redMul(g),S=_.redSqr().redISub(w.redAdd(w)),I=w.redISub(S),O=_.redMul(I);O=O.redIAdd(O).redISub(y);var P=c.redMul(u);r+1<e&&(f=f.redMul(y)),o=S,u=P,c=O}return this.curve.jpoint(o,c.redMul(a),u)};Bn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Bn.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var u=i.redAdd(i).redIAdd(i),f=u.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),e=f,r=u.redMul(s.redISub(f)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),g=this.y.redSqr(),y=g.redSqr(),_=this.x.redAdd(g).redSqr().redISub(l).redISub(y);_=_.redIAdd(_);var w=l.redAdd(l).redIAdd(l),S=w.redSqr(),I=y.redIAdd(y);I=I.redIAdd(I),I=I.redIAdd(I),e=S.redISub(_).redISub(_),r=w.redMul(_.redISub(e)).redISub(I),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Bn.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),a=this.y.redSqr(),o=a.redSqr(),s=this.x.redAdd(a).redSqr().redISub(i).redISub(o);s=s.redIAdd(s);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),f=u.redSqr().redISub(s).redISub(s);e=f;var c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),r=u.redMul(s.redISub(f)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),g=this.y.redSqr(),y=this.x.redMul(g),_=this.x.redSub(l).redMul(this.x.redAdd(l));_=_.redAdd(_).redIAdd(_);var w=y.redIAdd(y);w=w.redIAdd(w);var S=w.redAdd(w);e=_.redSqr().redISub(S),n=this.y.redAdd(this.z).redSqr().redISub(g).redISub(l);var I=g.redSqr();I=I.redIAdd(I),I=I.redIAdd(I),I=I.redIAdd(I),r=_.redMul(w.redISub(e)).redISub(I)}return this.curve.jpoint(e,r,n)};Bn.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,a=i.redSqr().redSqr(),o=r.redSqr(),s=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(a)),f=r.redAdd(r);f=f.redIAdd(f);var c=f.redMul(s),l=u.redSqr().redISub(c.redAdd(c)),g=c.redISub(l),y=s.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var _=u.redMul(g).redISub(y),w=n.redAdd(n).redMul(i);return this.curve.jpoint(l,_,w)};Bn.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),a=e.redAdd(e).redIAdd(e),o=a.redSqr(),s=this.x.redAdd(r).redSqr().redISub(e).redISub(i);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(o);var u=s.redSqr(),f=i.redIAdd(i);f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var c=a.redIAdd(s).redSqr().redISub(o).redISub(u).redISub(f),l=r.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var g=this.x.redMul(u).redISub(l);g=g.redIAdd(g),g=g.redIAdd(g);var y=this.y.redMul(c.redMul(f.redISub(c)).redISub(s.redMul(u)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var _=this.z.redAdd(s).redSqr().redISub(n).redISub(u);return this.curve.jpoint(g,y,_)};Bn.prototype.mul=function(e,r){return e=new Tr(e,r),this.curve._wnafMul(this,e)};Bn.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),a=n.redMul(e.z);return this.y.redMul(a).redISub(e.y.redMul(i)).cmpn(0)===0};Bn.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),a=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(a),this.x.cmp(n)===0)return!0}};Bn.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Bn.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var oH=E((sze,aH)=>{"use strict";h();p();var Tg=ac(),iH=$5(),Z4=Um(),zde=oo();function Cg(t){Z4.call(this,"mont",t),this.a=new Tg(t.a,16).toRed(this.red),this.b=new Tg(t.b,16).toRed(this.red),this.i4=new Tg(4).toRed(this.red).redInvm(),this.two=new Tg(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}iH(Cg,Z4);aH.exports=Cg;Cg.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),a=i.redSqrt();return a.redSqr().cmp(i)===0};function mn(t,e,r){Z4.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Tg(e,16),this.z=new Tg(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}iH(mn,Z4.BasePoint);Cg.prototype.decodePoint=function(e,r){return this.point(zde.toArray(e,r),1)};Cg.prototype.point=function(e,r){return new mn(this,e,r)};Cg.prototype.pointFromJSON=function(e){return mn.fromJSON(this,e)};mn.prototype.precompute=function(){};mn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};mn.fromJSON=function(e,r){return new mn(e,r[0],r[1]||e.one)};mn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};mn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};mn.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),a=r.redSub(i),o=r.redMul(i),s=a.redMul(i.redAdd(this.curve.a24.redMul(a)));return this.curve.point(o,s)};mn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};mn.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),a=e.x.redAdd(e.z),o=e.x.redSub(e.z),s=o.redMul(n),u=a.redMul(i),f=r.z.redMul(s.redAdd(u).redSqr()),c=r.x.redMul(s.redISub(u).redSqr());return this.curve.point(f,c)};mn.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),a=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var s=o.length-1;s>=0;s--)o[s]===0?(n=n.diffAdd(i,a),i=i.dbl()):(i=n.diffAdd(i,a),n=n.dbl());return i};mn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};mn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};mn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};mn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};mn.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var fH=E((cze,uH)=>{"use strict";h();p();var Yde=oo(),gc=ac(),sH=$5(),Q4=Um(),Wde=Yde.assert;function df(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Q4.call(this,"edwards",t),this.a=new gc(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new gc(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new gc(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Wde(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}sH(df,Q4);uH.exports=df;df.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};df.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};df.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};df.prototype.pointFromX=function(e,r){e=new gc(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),a=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(a.redInvm()),s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var u=s.fromRed().isOdd();return(r&&!u||!r&&u)&&(s=s.redNeg()),this.point(e,s)};df.prototype.pointFromY=function(e,r){e=new gc(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),a=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(a.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==r&&(s=s.redNeg()),this.point(s,e)};df.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),a=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(a)===0};function Jt(t,e,r,n,i){Q4.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new gc(e,16),this.y=new gc(r,16),this.z=n?new gc(n,16):this.curve.one,this.t=i&&new gc(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}sH(Jt,Q4.BasePoint);df.prototype.pointFromJSON=function(e){return Jt.fromJSON(this,e)};df.prototype.point=function(e,r,n,i){return new Jt(this,e,r,n,i)};Jt.fromJSON=function(e,r){return new Jt(e,r[0],r[1],r[2])};Jt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Jt.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Jt.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),a=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),s=o.redSub(n),u=i.redSub(r),f=a.redMul(s),c=o.redMul(u),l=a.redMul(u),g=s.redMul(o);return this.curve.point(f,c,g,l)};Jt.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,a,o,s,u,f;if(this.curve.twisted){s=this.curve._mulA(r);var c=s.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(c.redSub(this.curve.two)),a=c.redMul(s.redSub(n)),o=c.redSqr().redSub(c).redSub(c)):(u=this.z.redSqr(),f=c.redSub(u).redISub(u),i=e.redSub(r).redISub(n).redMul(f),a=c.redMul(s.redSub(n)),o=c.redMul(f))}else s=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),f=s.redSub(u).redSub(u),i=this.curve._mulC(e.redISub(s)).redMul(f),a=this.curve._mulC(s).redMul(r.redISub(n)),o=s.redMul(f);return this.curve.point(i,a,o)};Jt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Jt.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),a=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),s=a.redSub(i),u=a.redAdd(i),f=n.redAdd(r),c=o.redMul(s),l=u.redMul(f),g=o.redMul(f),y=s.redMul(u);return this.curve.point(c,l,y,g)};Jt.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),a=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(a),s=n.redSub(o),u=n.redAdd(o),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(a),c=r.redMul(s).redMul(f),l,g;return this.curve.twisted?(l=r.redMul(u).redMul(a.redSub(this.curve._mulA(i))),g=s.redMul(u)):(l=r.redMul(u).redMul(a.redSub(i)),g=this.curve._mulC(s).redMul(u)),this.curve.point(c,l,g)};Jt.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Jt.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Jt.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Jt.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Jt.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Jt.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Jt.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Jt.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Jt.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Jt.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Jt.prototype.toP=Jt.prototype.normalize;Jt.prototype.mixedAdd=Jt.prototype.add});var C9=E(cH=>{"use strict";h();p();var ew=cH;ew.base=Um();ew.short=nH();ew.mont=oH();ew.edwards=fH()});var lH=E((yze,dH)=>{h();p();dH.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var tw=E(gH=>{"use strict";h();p();var O9=gH,nd=nN(),A9=C9(),Xde=oo(),hH=Xde.assert;function pH(t){t.type==="short"?this.curve=new A9.short(t):t.type==="edwards"?this.curve=new A9.edwards(t):this.curve=new A9.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,hH(this.g.validate(),"Invalid curve"),hH(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}O9.PresetCurve=pH;function id(t,e){Object.defineProperty(O9,t,{configurable:!0,enumerable:!0,get:function(){var r=new pH(e);return Object.defineProperty(O9,t,{configurable:!0,enumerable:!0,value:r}),r}})}id("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:nd.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});id("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:nd.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});id("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:nd.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});id("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:nd.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});id("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:nd.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});id("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:nd.sha256,gRed:!1,g:["9"]});id("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:nd.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var D9;try{D9=lH()}catch{D9=void 0}id("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:nd.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",D9]})});var vH=E((wze,yH)=>{"use strict";h();p();var Jde=ac(),$de=oo(),R9=$de.assert;function mi(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}yH.exports=mi;mi.fromPublic=function(e,r,n){return r instanceof mi?r:new mi(e,{pub:r,pubEnc:n})};mi.fromPrivate=function(e,r,n){return r instanceof mi?r:new mi(e,{priv:r,privEnc:n})};mi.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};mi.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};mi.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};mi.prototype._importPrivate=function(e,r){this.priv=new Jde(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};mi.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?R9(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&R9(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};mi.prototype.derive=function(e){return e.validate()||R9(e.validate(),"public point not validated"),e.mul(this.priv).getX()};mi.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};mi.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};mi.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var xH=E((Ize,_H)=>{"use strict";h();p();var rw=ac(),M9=oo(),Zde=M9.assert;function nw(t,e){if(t instanceof nw)return t;this._importDER(t,e)||(Zde(t.r&&t.s,"Signature without r or s"),this.r=new rw(t.r,16),this.s=new rw(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}_H.exports=nw;function Qde(){this.place=0}function P9(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,a=0,o=e.place;a<n;a++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function mH(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}nw.prototype._importDER=function(e,r){e=M9.toArray(e,r);var n=new Qde;if(e[n.place++]!==48)return!1;var i=P9(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var a=P9(e,n);if(a===!1)return!1;var o=e.slice(n.place,a+n.place);if(n.place+=a,e[n.place++]!==2)return!1;var s=P9(e,n);if(s===!1||e.length!==s+n.place)return!1;var u=e.slice(n.place,s+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new rw(o),this.s=new rw(u),this.recoveryParam=null,!0};function B9(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}nw.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=mH(r),n=mH(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];B9(i,r.length),i=i.concat(r),i.push(2),B9(i,n.length);var a=i.concat(n),o=[48];return B9(o,a.length),o=o.concat(a),M9.encode(o,e)}});var SH=E((Aze,EH)=>{"use strict";h();p();var Ch=ac(),bH=Hie(),ele=oo(),N9=tw(),tle=rN(),wH=ele.assert,q9=vH(),iw=xH();function Go(t){if(!(this instanceof Go))return new Go(t);typeof t=="string"&&(wH(Object.prototype.hasOwnProperty.call(N9,t),"Unknown curve "+t),t=N9[t]),t instanceof N9.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}EH.exports=Go;Go.prototype.keyPair=function(e){return new q9(this,e)};Go.prototype.keyFromPrivate=function(e,r){return q9.fromPrivate(this,e,r)};Go.prototype.keyFromPublic=function(e,r){return q9.fromPublic(this,e,r)};Go.prototype.genKeyPair=function(e){e||(e={});for(var r=new bH({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||tle(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ch(2));;){var a=new Ch(r.generate(n));if(!(a.cmp(i)>0))return a.iaddn(1),this.keyFromPrivate(a)}};Go.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Go.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Ch(e,16));for(var a=this.n.byteLength(),o=r.getPrivate().toArray("be",a),s=e.toArray("be",a),u=new bH({hash:this.hash,entropy:o,nonce:s,pers:i.pers,persEnc:i.persEnc||"utf8"}),f=this.n.sub(new Ch(1)),c=0;;c++){var l=i.k?i.k(c):new Ch(u.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(f)>=0)){var g=this.g.mul(l);if(!g.isInfinity()){var y=g.getX(),_=y.umod(this.n);if(_.cmpn(0)!==0){var w=l.invm(this.n).mul(_.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var S=(g.getY().isOdd()?1:0)|(y.cmp(_)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),S^=1),new iw({r:_,s:w,recoveryParam:S})}}}}}};Go.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Ch(e,16)),n=this.keyFromPublic(n,i),r=new iw(r,"hex");var a=r.r,o=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var s=o.invm(this.n),u=s.mul(e).umod(this.n),f=s.mul(a).umod(this.n),c;return this.curve._maxwellTrick?(c=this.g.jmulAdd(u,n.getPublic(),f),c.isInfinity()?!1:c.eqXToP(a)):(c=this.g.mulAdd(u,n.getPublic(),f),c.isInfinity()?!1:c.getX().umod(this.n).cmp(a)===0)};Go.prototype.recoverPubKey=function(t,e,r,n){wH((3&r)===r,"The recovery param is more than two bits"),e=new iw(e,n);var i=this.n,a=new Ch(t),o=e.r,s=e.s,u=r&1,f=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&f)throw new Error("Unable to find sencond key candinate");f?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var c=e.r.invm(i),l=i.sub(a).mul(c).umod(i),g=s.mul(c).umod(i);return this.g.mulAdd(l,o,g)};Go.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new iw(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(t,e,i)}catch{continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var AH=E((Rze,CH)=>{"use strict";h();p();var km=oo(),TH=km.assert,IH=km.parseBytes,Ag=km.cachedProperty;function _n(t,e){this.eddsa=t,this._secret=IH(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=IH(e.pub)}_n.fromPublic=function(e,r){return r instanceof _n?r:new _n(e,{pub:r})};_n.fromSecret=function(e,r){return r instanceof _n?r:new _n(e,{secret:r})};_n.prototype.secret=function(){return this._secret};Ag(_n,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Ag(_n,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Ag(_n,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Ag(_n,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Ag(_n,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Ag(_n,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});_n.prototype.sign=function(e){return TH(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};_n.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};_n.prototype.getSecret=function(e){return TH(this._secret,"KeyPair is public only"),km.encode(this.secret(),e)};_n.prototype.getPublic=function(e){return km.encode(this.pubBytes(),e)};CH.exports=_n});var DH=E((Mze,OH)=>{"use strict";h();p();var rle=ac(),aw=oo(),nle=aw.assert,ow=aw.cachedProperty,ile=aw.parseBytes;function Ah(t,e){this.eddsa=t,typeof e!="object"&&(e=ile(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),nle(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof rle&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}ow(Ah,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});ow(Ah,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});ow(Ah,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});ow(Ah,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Ah.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Ah.prototype.toHex=function(){return aw.encode(this.toBytes(),"hex").toUpperCase()};OH.exports=Ah});var NH=E((Fze,MH)=>{"use strict";h();p();var ale=nN(),ole=tw(),Og=oo(),sle=Og.assert,PH=Og.parseBytes,BH=AH(),RH=DH();function Ua(t){if(sle(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Ua))return new Ua(t);t=ole[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=ale.sha512}MH.exports=Ua;Ua.prototype.sign=function(e,r){e=PH(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),a=this.g.mul(i),o=this.encodePoint(a),s=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=i.add(s).umod(this.curve.n);return this.makeSignature({R:a,S:u,Rencoded:o})};Ua.prototype.verify=function(e,r,n){e=PH(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),a=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),s=r.R().add(i.pub().mul(a));return s.eq(o)};Ua.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Og.intFromLE(e.digest()).umod(this.curve.n)};Ua.prototype.keyFromPublic=function(e){return BH.fromPublic(this,e)};Ua.prototype.keyFromSecret=function(e){return BH.fromSecret(this,e)};Ua.prototype.makeSignature=function(e){return e instanceof RH?e:new RH(this,e)};Ua.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Ua.prototype.decodePoint=function(e){e=Og.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,a=Og.intFromLE(n);return this.curve.pointFromY(a,i)};Ua.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Ua.prototype.decodeInt=function(e){return Og.intFromLE(e)};Ua.prototype.isPoint=function(e){return e instanceof this.pointClass}});var FH=E(qH=>{"use strict";h();p();var Oh=qH;Oh.version=Qj().version;Oh.utils=oo();Oh.rand=rN();Oh.curve=C9();Oh.curves=tw();Oh.ec=SH();Oh.eddsa=NH()});var UH=E((Kze,LH)=>{h();p();var ule=FH().ec,lf=new ule("secp256k1"),rt=lf.curve,Ut=rt.n.constructor;function fle(t,e){let r=new Ut(e);if(r.cmp(rt.p)>=0)return null;r=r.toRed(rt.red);let n=r.redSqr().redIMul(r).redIAdd(rt.b).redSqrt();return t===3!==n.isOdd()&&(n=n.redNeg()),lf.keyPair({pub:{x:r,y:n}})}function cle(t,e,r){let n=new Ut(e),i=new Ut(r);if(n.cmp(rt.p)>=0||i.cmp(rt.p)>=0||(n=n.toRed(rt.red),i=i.toRed(rt.red),(t===6||t===7)&&i.isOdd()!==(t===7)))return null;let a=n.redSqr().redIMul(n);return i.redSqr().redISub(a.redIAdd(rt.b)).isZero()?lf.keyPair({pub:{x:n,y:i}}):null}function ad(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:fle(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:cle(e,t.subarray(1,33),t.subarray(33,65));default:return null}}function Dh(t,e){let r=e.encode(null,t.length===33);for(let n=0;n<t.length;++n)t[n]=r[n]}LH.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new Ut(t);return e.cmp(rt.n)<0&&!e.isZero()?0:1},privateKeyNegate(t){let e=new Ut(t),r=rt.n.sub(e).umod(rt.n).toArrayLike(Uint8Array,"be",32);return t.set(r),0},privateKeyTweakAdd(t,e){let r=new Ut(e);if(r.cmp(rt.n)>=0||(r.iadd(new Ut(t)),r.cmp(rt.n)>=0&&r.isub(rt.n),r.isZero()))return 1;let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},privateKeyTweakMul(t,e){let r=new Ut(e);if(r.cmp(rt.n)>=0||r.isZero())return 1;r.imul(new Ut(t)),r.cmp(rt.n)>=0&&(r=r.umod(rt.n));let n=r.toArrayLike(Uint8Array,"be",32);return t.set(n),0},publicKeyVerify(t){return ad(t)===null?1:0},publicKeyCreate(t,e){let r=new Ut(e);if(r.cmp(rt.n)>=0||r.isZero())return 1;let n=lf.keyFromPrivate(e).getPublic();return Dh(t,n),0},publicKeyConvert(t,e){let r=ad(e);if(r===null)return 1;let n=r.getPublic();return Dh(t,n),0},publicKeyNegate(t,e){let r=ad(e);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),Dh(t,n),0},publicKeyCombine(t,e){let r=new Array(e.length);for(let i=0;i<e.length;++i)if(r[i]=ad(e[i]),r[i]===null)return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(Dh(t,n),0)},publicKeyTweakAdd(t,e,r){let n=ad(e);if(n===null)return 1;if(r=new Ut(r),r.cmp(rt.n)>=0)return 2;let i=n.getPublic().add(rt.g.mul(r));return i.isInfinity()?2:(Dh(t,i),0)},publicKeyTweakMul(t,e,r){let n=ad(e);if(n===null)return 1;if(r=new Ut(r),r.cmp(rt.n)>=0||r.isZero())return 2;let i=n.getPublic().mul(r);return Dh(t,i),0},signatureNormalize(t){let e=new Ut(t.subarray(0,32)),r=new Ut(t.subarray(32,64));return e.cmp(rt.n)>=0||r.cmp(rt.n)>=0?1:(r.cmp(lf.nh)===1&&t.set(rt.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),n=e.subarray(32,64);if(new Ut(r).cmp(rt.n)>=0||new Ut(n).cmp(rt.n)>=0)return 1;let{output:i}=t,a=i.subarray(4,4+33);a[0]=0,a.set(r,1);let o=33,s=0;for(;o>1&&a[s]===0&&!(a[s+1]&128);--o,++s);if(a=a.subarray(s),a[0]&128||o>1&&a[0]===0&&!(a[1]&128))return 1;let u=i.subarray(6+33,6+33+33);u[0]=0,u.set(n,1);let f=33,c=0;for(;f>1&&u[c]===0&&!(u[c+1]&128);--f,++c);return u=u.subarray(c),u[0]&128||f>1&&u[0]===0&&!(u[1]&128)?1:(t.outputlen=6+o+f,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=a.length,i.set(a,4),i[4+o]=2,i[5+o]=u.length,i.set(u,6+o),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let i=e.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let a=e.subarray(6+r);if(a.length===33&&a[0]===0&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let o=new Ut(i);o.cmp(rt.n)>=0&&(o=new Ut(0));let s=new Ut(e.subarray(6+r));return s.cmp(rt.n)>=0&&(s=new Ut(0)),t.set(o.toArrayLike(Uint8Array,"be",32),0),t.set(s.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e,r,n,i){if(i){let s=i;i=u=>{let f=s(e,r,null,n,u);if(!(f instanceof Uint8Array&&f.length===32))throw new Error("This is the way");return new Ut(f)}}let a=new Ut(r);if(a.cmp(rt.n)>=0||a.isZero())return 1;let o;try{o=lf.sign(e,r,{canonical:!0,k:i,pers:n})}catch{return 1}return t.signature.set(o.r.toArrayLike(Uint8Array,"be",32),0),t.signature.set(o.s.toArrayLike(Uint8Array,"be",32),32),t.recid=o.recoveryParam,0},ecdsaVerify(t,e,r){let n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new Ut(n.r),a=new Ut(n.s);if(i.cmp(rt.n)>=0||a.cmp(rt.n)>=0)return 1;if(a.cmp(lf.nh)===1||i.isZero()||a.isZero())return 3;let o=ad(r);if(o===null)return 2;let s=o.getPublic();return lf.verify(e,n,s)?0:3},ecdsaRecover(t,e,r,n){let i={r:e.slice(0,32),s:e.slice(32,64)},a=new Ut(i.r),o=new Ut(i.s);if(a.cmp(rt.n)>=0||o.cmp(rt.n)>=0)return 1;if(a.isZero()||o.isZero())return 2;let s;try{s=lf.recoverPubKey(n,i,r)}catch{return 2}return Dh(t,s),0},ecdh(t,e,r,n,i,a,o){let s=ad(e);if(s===null)return 1;let u=new Ut(r);if(u.cmp(rt.n)>=0||u.isZero())return 2;let f=s.getPublic().mul(u);if(i===void 0){let c=f.encode(null,!0),l=lf.hash().update(c).digest();for(let g=0;g<32;++g)t[g]=l[g]}else{a||(a=new Uint8Array(32));let c=f.getX().toArray("be",32);for(let _=0;_<32;++_)a[_]=c[_];o||(o=new Uint8Array(32));let l=f.getY().toArray("be",32);for(let _=0;_<32;++_)o[_]=l[_];let g=i(a,o,n);if(!(g instanceof Uint8Array&&g.length===t.length))return 2;t.set(g)}return 0}}});var jH=E((zze,kH)=>{h();p();kH.exports=Zj()(UH())});var L9=E((Xze,zH)=>{h();p();var hf=ro(),_i=C3().Buffer,uw=iN(),F9=Rp(),dle=Lie(),od=jH(),lle=_i.from("Bitcoin seed","utf8"),sw=2147483648,hle=78,HH={private:76066276,public:76067358};function Cr(t){this.versions=t||HH,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}Object.defineProperty(Cr.prototype,"fingerprint",{get:function(){return this._fingerprint}});Object.defineProperty(Cr.prototype,"identifier",{get:function(){return this._identifier}});Object.defineProperty(Cr.prototype,"pubKeyHash",{get:function(){return this.identifier}});Object.defineProperty(Cr.prototype,"privateKey",{get:function(){return this._privateKey},set:function(t){hf.equal(t.length,32,"Private key must be 32 bytes."),hf(od.privateKeyVerify(t)===!0,"Invalid private key"),this._privateKey=t,this._publicKey=_i.from(od.publicKeyCreate(t,!0)),this._identifier=GH(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}});function KH(t,e){t._publicKey=_i.from(e),t._identifier=GH(e),t._fingerprint=t._identifier.slice(0,4).readUInt32BE(0),t._privateKey=null}Object.defineProperty(Cr.prototype,"publicKey",{get:function(){return this._publicKey},set:function(t){hf(t.length===33||t.length===65,"Public key must be 33 or 65 bytes."),hf(od.publicKeyVerify(t)===!0,"Invalid public key");let e=t.length===65?od.publicKeyConvert(t,!0):t;KH(this,e)}});Object.defineProperty(Cr.prototype,"privateExtendedKey",{get:function(){return this._privateKey?F9.encode(VH(this,this.versions.private,_i.concat([_i.alloc(1,0),this.privateKey]))):null}});Object.defineProperty(Cr.prototype,"publicExtendedKey",{get:function(){return F9.encode(VH(this,this.versions.public,this.publicKey))}});Cr.prototype.derive=function(t){if(t==="m"||t==="M"||t==="m'"||t==="M'")return this;var e=t.split("/"),r=this;return e.forEach(function(n,i){if(i===0){hf(/^[mM]{1}/.test(n),'Path must start with "m" or "M"');return}var a=n.length>1&&n[n.length-1]==="'",o=parseInt(n,10);hf(o<sw,"Invalid index"),a&&(o+=sw),r=r.deriveChild(o)}),r};Cr.prototype.deriveChild=function(t){var e=t>=sw,r=_i.allocUnsafe(4);r.writeUInt32BE(t,0);var n;if(e){hf(this.privateKey,"Could not derive hardened child key");var i=this.privateKey,a=_i.alloc(1,0);i=_i.concat([a,i]),n=_i.concat([i,r])}else n=_i.concat([this.publicKey,r]);var o=uw.createHmac("sha512",this.chainCode).update(n).digest(),s=o.slice(0,32),u=o.slice(32),f=new Cr(this.versions);if(this.privateKey)try{f.privateKey=_i.from(od.privateKeyTweakAdd(_i.from(this.privateKey),s))}catch{return this.deriveChild(t+1)}else try{f.publicKey=_i.from(od.publicKeyTweakAdd(_i.from(this.publicKey),s,!0))}catch{return this.deriveChild(t+1)}return f.chainCode=u,f.depth=this.depth+1,f.parentFingerprint=this.fingerprint,f.index=t,f};Cr.prototype.sign=function(t){return _i.from(od.ecdsaSign(Uint8Array.from(t),Uint8Array.from(this.privateKey)).signature)};Cr.prototype.verify=function(t,e){return od.ecdsaVerify(Uint8Array.from(e),Uint8Array.from(t),Uint8Array.from(this.publicKey))};Cr.prototype.wipePrivateData=function(){return this._privateKey&&uw.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this};Cr.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}};Cr.fromMasterSeed=function(t,e){var r=uw.createHmac("sha512",lle).update(t).digest(),n=r.slice(0,32),i=r.slice(32),a=new Cr(e);return a.chainCode=i,a.privateKey=n,a};Cr.fromExtendedKey=function(t,e,r){e=e||HH,r=r||!1;var n=new Cr(e),i=F9.decode(t),a=i.readUInt32BE(0);hf(a===e.private||a===e.public,"Version mismatch: does not match private or public"),n.depth=i.readUInt8(4),n.parentFingerprint=i.readUInt32BE(5),n.index=i.readUInt32BE(9),n.chainCode=i.slice(13,45);var o=i.slice(45);return o.readUInt8(0)===0?(hf(a===e.private,"Version mismatch: version does not match private"),n.privateKey=o.slice(1)):(hf(a===e.public,"Version mismatch: version does not match public"),r?KH(n,o):n.publicKey=o),n};Cr.fromJSON=function(t){return Cr.fromExtendedKey(t.xpriv)};function VH(t,e,r){var n=_i.allocUnsafe(hle);n.writeUInt32BE(e,0),n.writeUInt8(t.depth,4);var i=t.depth?t.parentFingerprint:0;return n.writeUInt32BE(i,5),n.writeUInt32BE(t.index,9),t.chainCode.copy(n,13),r.copy(n,45),n}function GH(t){var e=uw.createHash("sha256").update(t).digest();return new dle().update(e).digest()}Cr.HARDENED_OFFSET=sw;zH.exports=Cr});var jm=E(ha=>{"use strict";h();p();Object.defineProperty(ha,"__esModule",{value:!0});ha.output=ha.exists=ha.hash=ha.bytes=ha.bool=ha.number=void 0;function fw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}ha.number=fw;function YH(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}ha.bool=YH;function U9(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}ha.bytes=U9;function WH(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");fw(t.outputLen),fw(t.blockLen)}ha.hash=WH;function XH(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}ha.exists=XH;function JH(t,e){U9(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}ha.output=JH;var ple={number:fw,bool:YH,bytes:U9,hash:WH,exists:XH,output:JH};ha.default=ple});var $H=E(cw=>{"use strict";h();p();Object.defineProperty(cw,"__esModule",{value:!0});cw.crypto=void 0;cw.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Rh=E(Ge=>{"use strict";h();p();Object.defineProperty(Ge,"__esModule",{value:!0});Ge.randomBytes=Ge.wrapConstructorWithOpts=Ge.wrapConstructor=Ge.checkOpts=Ge.Hash=Ge.concatBytes=Ge.toBytes=Ge.utf8ToBytes=Ge.asyncLoop=Ge.nextTick=Ge.hexToBytes=Ge.bytesToHex=Ge.isLE=Ge.rotr=Ge.createView=Ge.u32=Ge.u8=void 0;var dw=$H(),gle=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Ge.u8=gle;var yle=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Ge.u32=yle;var vle=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Ge.createView=vle;var mle=(t,e)=>t<<32-e|t>>>e;Ge.rotr=mle;Ge.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ge.isLE)throw new Error("Non little-endian hardware is not supported");var _le=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xle(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=_le[t[r]];return e}Ge.bytesToHex=xle;function ble(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[r]=a}return e}Ge.hexToBytes=ble;var wle=async()=>{};Ge.nextTick=wle;async function Ele(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let a=Date.now()-n;a>=0&&a<e||(await(0,Ge.nextTick)(),n+=a)}}Ge.asyncLoop=Ele;function ZH(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Ge.utf8ToBytes=ZH;function j9(t){if(typeof t=="string"&&(t=ZH(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Ge.toBytes=j9;function Sle(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let a=t[n];r.set(a,i),i+=a.length}return r}Ge.concatBytes=Sle;var k9=class{clone(){return this._cloneInto()}};Ge.Hash=k9;var Ile=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Tle(t,e){if(e!==void 0&&(typeof e!="object"||!Ile(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Ge.checkOpts=Tle;function Cle(t){let e=n=>t().update(j9(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Ge.wrapConstructor=Cle;function Ale(t){let e=(n,i)=>t(i).update(j9(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Ge.wrapConstructorWithOpts=Ale;function Ole(t=32){if(dw.crypto.web)return dw.crypto.web.getRandomValues(new Uint8Array(t));if(dw.crypto.node)return new Uint8Array(dw.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Ge.randomBytes=Ole});var QH=E(Hm=>{"use strict";h();p();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.hmac=void 0;var lw=jm(),H9=Rh(),hw=class extends H9.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,lw.default.hash(e);let n=(0,H9.toBytes)(r);if(this.iHash=e.create(),!(this.iHash instanceof H9.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");let i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;let a=new Uint8Array(i);a.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=e.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(e){return lw.default.exists(this),this.iHash.update(e),this}digestInto(e){lw.default.exists(this),lw.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:a,blockLen:o,outputLen:s}=this;return e=e,e.finished=i,e.destroyed=a,e.blockLen=o,e.outputLen=s,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Dle=(t,e,r)=>new hw(t,e).update(r).digest();Hm.hmac=Dle;Hm.hmac.create=(t,e)=>new hw(t,e)});var eK=E(pw=>{"use strict";h();p();Object.defineProperty(pw,"__esModule",{value:!0});pw.SHA2=void 0;var K9=jm(),Km=Rh();function Rle(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),a=BigInt(4294967295),o=Number(r>>i&a),s=Number(r&a),u=n?4:0,f=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+f,s,n)}var V9=class extends Km.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Km.createView)(this.buffer)}update(e){K9.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,Km.toBytes)(e);let a=e.length;for(let o=0;o<a;){let s=Math.min(i-this.pos,a-o);if(s===i){let u=(0,Km.createView)(e);for(;i<=a-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){K9.default.exists(this),K9.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:a}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let u=o;u<i;u++)r[u]=0;Rle(n,i-8,BigInt(this.length*8),a),this.process(n,0);let s=(0,Km.createView)(e);this.get().forEach((u,f)=>s.setUint32(4*f,u,a))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:a,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=a,e.destroyed=o,i%r&&e.buffer.set(n),e}};pw.SHA2=V9});var tK=E(gw=>{"use strict";h();p();Object.defineProperty(gw,"__esModule",{value:!0});gw.sha256=void 0;var Ple=eK(),du=Rh(),Ble=(t,e,r)=>t&e^~t&r,Mle=(t,e,r)=>t&e^t&r^e&r,Nle=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ud=new Uint32Array(64),G9=class extends Ple.SHA2{constructor(){super(64,32,8,!1),this.A=sd[0]|0,this.B=sd[1]|0,this.C=sd[2]|0,this.D=sd[3]|0,this.E=sd[4]|0,this.F=sd[5]|0,this.G=sd[6]|0,this.H=sd[7]|0}get(){let{A:e,B:r,C:n,D:i,E:a,F:o,G:s,H:u}=this;return[e,r,n,i,a,o,s,u]}set(e,r,n,i,a,o,s,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=u|0}process(e,r){for(let l=0;l<16;l++,r+=4)ud[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){let g=ud[l-15],y=ud[l-2],_=(0,du.rotr)(g,7)^(0,du.rotr)(g,18)^g>>>3,w=(0,du.rotr)(y,17)^(0,du.rotr)(y,19)^y>>>10;ud[l]=w+ud[l-7]+_+ud[l-16]|0}let{A:n,B:i,C:a,D:o,E:s,F:u,G:f,H:c}=this;for(let l=0;l<64;l++){let g=(0,du.rotr)(s,6)^(0,du.rotr)(s,11)^(0,du.rotr)(s,25),y=c+g+Ble(s,u,f)+Nle[l]+ud[l]|0,w=((0,du.rotr)(n,2)^(0,du.rotr)(n,13)^(0,du.rotr)(n,22))+Mle(n,i,a)|0;c=f,f=u,u=s,s=o+y|0,o=a,a=i,i=n,n=y+w|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,u=u+this.F|0,f=f+this.G|0,c=c+this.H|0,this.set(n,i,a,o,s,u,f,c)}roundClean(){ud.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};gw.sha256=(0,du.wrapConstructor)(()=>new G9)});var J9=E(Le=>{"use strict";h();p();Object.defineProperty(Le,"__esModule",{value:!0});Le.utils=Le.schnorr=Le.verify=Le.signSync=Le.sign=Le.getSharedSecret=Le.recoverPublicKey=Le.getPublicKey=Le.Signature=Le.Point=Le.CURVE=void 0;var qle=iN(),ut=BigInt(0),Rt=BigInt(1),Nr=BigInt(2),Gm=BigInt(3),Fle=BigInt(8),z9=Nr**BigInt(256),ct={a:ut,b:BigInt(7),P:z9-Nr**BigInt(32)-BigInt(977),n:z9-BigInt("432420386565659656852420866394968145599"),h:Rt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")};Le.CURVE=ct;function rK(t){let{a:e,b:r}=ct,n=ge(t*t),i=ge(n*t);return ge(i+e*t+r)}var yw=ct.a===ut,wt=class{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof Qe))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new wt(e.x,e.y,Rt)}static toAffineBatch(e){let r=jle(e.map(n=>n.z));return e.map((n,i)=>n.toAffine(r[i]))}static normalizeZ(e){return wt.toAffineBatch(e).map(wt.fromAffine)}equals(e){if(!(e instanceof wt))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:a,y:o,z:s}=e,u=ge(i**Nr),f=ge(s**Nr),c=ge(r*f),l=ge(a*u),g=ge(ge(n*s)*f),y=ge(ge(o*i)*u);return c===l&&g===y}negate(){return new wt(this.x,ge(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,i=ge(e**Nr),a=ge(r**Nr),o=ge(a**Nr),s=ge(Nr*(ge((e+a)**Nr)-i-o)),u=ge(Gm*i),f=ge(u**Nr),c=ge(f-Nr*s),l=ge(u*(s-c)-Fle*o),g=ge(Nr*r*n);return new wt(c,l,g)}add(e){if(!(e instanceof wt))throw new TypeError("JacobianPoint expected");let{x:r,y:n,z:i}=this,{x:a,y:o,z:s}=e;if(a===ut||o===ut)return this;if(r===ut||n===ut)return e;let u=ge(i**Nr),f=ge(s**Nr),c=ge(r*f),l=ge(a*u),g=ge(ge(n*s)*f),y=ge(ge(o*i)*u),_=ge(l-c),w=ge(y-g);if(_===ut)return w===ut?this.double():wt.ZERO;let S=ge(_**Nr),I=ge(_*S),O=ge(c*S),P=ge(w**Nr-I-Nr*O),q=ge(w*(O-P)-g*I),C=ge(i*s*_);return new wt(P,q,C)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=wt.ZERO;if(typeof e=="bigint"&&e===ut)return r;let n=aK(e);if(n===Rt)return this;if(!yw){let l=r,g=this;for(;n>ut;)n&Rt&&(l=l.add(g)),g=g.double(),n>>=Rt;return l}let{k1neg:i,k1:a,k2neg:o,k2:s}=sK(n),u=r,f=r,c=this;for(;a>ut||s>ut;)a&Rt&&(u=u.add(c)),s&Rt&&(f=f.add(c)),c=c.double(),a>>=Rt,s>>=Rt;return i&&(u=u.negate()),o&&(f=f.negate()),f=new wt(ge(f.x*ct.beta),f.y,f.z),u.add(f)}precomputeWindow(e){let r=yw?128/e+1:256/e+1,n=[],i=this,a=i;for(let o=0;o<r;o++){a=i,n.push(a);for(let s=1;s<2**(e-1);s++)a=a.add(i),n.push(a);i=a.double()}return n}wNAF(e,r){!r&&this.equals(wt.BASE)&&(r=Qe.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=r&&Y9.get(r);i||(i=this.precomputeWindow(n),r&&n!==1&&(i=wt.normalizeZ(i),Y9.set(r,i)));let a=wt.ZERO,o=wt.ZERO,s=1+(yw?128/n:256/n),u=2**(n-1),f=BigInt(2**n-1),c=2**n,l=BigInt(n);for(let g=0;g<s;g++){let y=g*u,_=Number(e&f);if(e>>=l,_>u&&(_-=c,e+=Rt),_===0){let w=i[y];g%2&&(w=w.negate()),o=o.add(w)}else{let w=i[y+Math.abs(_)-1];_<0&&(w=w.negate()),a=a.add(w)}}return{p:a,f:o}}multiply(e,r){let n=aK(e),i,a;if(yw){let{k1neg:o,k1:s,k2neg:u,k2:f}=sK(n),{p:c,f:l}=this.wNAF(s,r),{p:g,f:y}=this.wNAF(f,r);o&&(c=c.negate()),u&&(g=g.negate()),g=new wt(ge(g.x*ct.beta),g.y,g.z),i=c.add(g),a=l.add(y)}else{let{p:o,f:s}=this.wNAF(n,r);i=o,a=s}return wt.normalizeZ([i,a])[0]}toAffine(e=Mg(this.z)){let{x:r,y:n,z:i}=this,a=e,o=ge(a*a),s=ge(o*a),u=ge(r*o),f=ge(n*s);if(ge(i*a)!==Rt)throw new Error("invZ was invalid");return new Qe(u,f)}};wt.BASE=new wt(ct.Gx,ct.Gy,Rt);wt.ZERO=new wt(ut,Rt,ut);var Y9=new WeakMap,Qe=class{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Y9.delete(this)}static fromCompressedHex(e){let r=e.length===32,n=pa(r?e:e.subarray(1));if(!_w(n))throw new Error("Point is not on curve");let i=rK(n),a=kle(i),o=(a&Rt)===Rt;r?o&&(a=ge(-a)):(e[0]&1)===1!==o&&(a=ge(-a));let s=new Qe(n,a);return s.assertValidity(),s}static fromUncompressedHex(e){let r=pa(e.subarray(1,33)),n=pa(e.subarray(33,65)),i=new Qe(r,n);return i.assertValidity(),i}static fromHex(e){let r=hu(e),n=r.length,i=r[0];if(n===32||n===33&&(i===2||i===3))return this.fromCompressedHex(r);if(n===65&&i===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return Qe.BASE.multiply(pf(e))}static fromSignature(e,r,n){e=hu(e);let i=fK(e),{r:a,s:o}=dK(r);if(n!==0&&n!==1)throw new Error("Cannot recover signature: invalid recovery bit");let s=n&1?"03":"02",u=Qe.fromHex(s+yc(a)),{n:f}=ct,c=Mg(a,f),l=ge(-i*c,f),g=ge(o*c,f),y=Qe.BASE.multiplyAndAddUnsafe(u,l,g);if(!y)throw new Error("Cannot recover signature: point at infinify");return y.assertValidity(),y}toRawBytes(e=!1){return vc(this.toHex(e))}toHex(e=!1){let r=yc(this.x);return e?`${this.y&Rt?"03":"02"}${r}`:`04${r}${yc(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!_w(r)||!_w(n))throw new Error(e);let i=ge(n*n),a=rK(r);if(ge(i-a)!==ut)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Qe(this.x,ge(-this.y))}double(){return wt.fromAffine(this).double().toAffine()}add(e){return wt.fromAffine(this).add(wt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return wt.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let i=wt.fromAffine(this),a=r===ut||r===Rt||this!==Qe.BASE?i.multiplyUnsafe(r):i.multiply(r),o=wt.fromAffine(e).multiplyUnsafe(n),s=a.add(o);return s.equals(wt.ZERO)?void 0:s.toAffine()}};Le.Point=Qe;Qe.BASE=new Qe(ct.Gx,ct.Gy);Qe.ZERO=new Qe(ut,ut);function nK(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function iK(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Pg(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:pa(r),left:t.subarray(e+2)}}function Lle(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Pg(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=iK(t.subarray(2)),{data:n,left:i}=iK(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Pg(i)}`);return{r:e,s:n}}var lu=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=zm(e),n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let i=r?Pg(e):e;if(i.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new lu(xw(i.slice(0,64)),xw(i.slice(64,128)))}static fromDER(e){let r=zm(e);if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:i}=Lle(r?e:vc(e));return new lu(n,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!Bg(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Bg(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=ct.n>>Rt;return this.s>e}normalizeS(){return this.hasHighS()?new lu(this.r,ct.n-this.s):this}toDERRawBytes(e=!1){return vc(this.toDERHex(e))}toDERHex(e=!1){let r=nK(Vm(this.s));if(e)return r;let n=nK(Vm(this.r)),i=Vm(n.length/2),a=Vm(r.length/2);return`30${Vm(n.length/2+r.length/2+4)}02${i}${n}02${a}${r}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return vc(this.toCompactHex())}toCompactHex(){return yc(this.r)+yc(this.s)}};Le.Signature=lu;function Dg(...t){if(!t.every(zm))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let a=t[n];r.set(a,i),i+=a.length}return r}function zm(t){return t instanceof Uint8Array}var Ule=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Pg(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=Ule[t[r]];return e}function yc(t){if(t>z9)throw new Error("Expected number < 2^256");return t.toString(16).padStart(64,"0")}function Rg(t){return vc(yc(t))}function Vm(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function xw(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function vc(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[r]=a}return e}function pa(t){return xw(Pg(t))}function hu(t){return t instanceof Uint8Array?Uint8Array.from(t):vc(t)}function aK(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&Bg(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ge(t,e=ct.P){let r=t%e;return r>=ut?r:e+r}function zo(t,e){let{P:r}=ct,n=t;for(;e-- >ut;)n*=n,n%=r;return n}function kle(t){let{P:e}=ct,r=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),o=BigInt(44),s=BigInt(88),u=t*t*t%e,f=u*u*t%e,c=zo(f,Gm)*f%e,l=zo(c,Gm)*f%e,g=zo(l,Nr)*u%e,y=zo(g,n)*g%e,_=zo(y,i)*y%e,w=zo(_,o)*_%e,S=zo(w,s)*w%e,I=zo(S,o)*_%e,O=zo(I,Gm)*f%e,P=zo(O,a)*y%e,q=zo(P,r)*u%e;return zo(q,Nr)}function Mg(t,e=ct.P){if(t===ut||e<=ut)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ge(t,e),n=e,i=ut,a=Rt,o=Rt,s=ut;for(;r!==ut;){let f=n/r,c=n%r,l=i-o*f,g=a-s*f;n=r,r=c,i=o,a=s,o=l,s=g}if(n!==Rt)throw new Error("invert: does not exist");return ge(i,e)}function jle(t,e=ct.P){let r=new Array(t.length),n=t.reduce((a,o,s)=>o===ut?a:(r[s]=a,ge(a*o,e)),Rt),i=Mg(n,e);return t.reduceRight((a,o,s)=>o===ut?a:(r[s]=ge(a*r[s],e),ge(a*o,e)),i),r}var oK=(t,e)=>(t+e/Nr)/e,vw=Nr**BigInt(128);function sK(t){let{n:e}=ct,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Rt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=r,o=oK(a*t,e),s=oK(-n*t,e),u=ge(t-o*r-s*i,e),f=ge(-o*n-s*a,e),c=u>vw,l=f>vw;if(c&&(u=e-u),l&&(f=e-f),u>vw||f>vw)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:c,k1:u,k2neg:l,k2:f}}function fK(t){let{n:e}=ct,n=t.length*8-256,i=pa(t);return n>0&&(i=i>>BigInt(n)),i>=e&&(i-=e),i}var bw=class{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(...e){return Le.utils.hmacSha256(this.k,...e)}hmacSync(...e){if(typeof Le.utils.hmacSha256Sync!="function")throw new Error("utils.hmacSha256Sync is undefined, you need to set it");let r=Le.utils.hmacSha256Sync(this.k,...e);if(r instanceof Promise)throw new Error("To use sync sign(), ensure utils.hmacSha256 is sync");return r}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.incr(),this.v=this.hmacSync(this.v),this.v}};function Bg(t){return ut<t&&t<ct.n}function _w(t){return ut<t&&t<ct.P}function cK(t,e,r){let n=pa(t);if(!Bg(n))return;let{n:i}=ct,a=Qe.BASE.multiply(n),o=ge(a.x,i);if(o===ut)return;let s=ge(Mg(n,i)*ge(e+r*o,i),i);if(s===ut)return;let u=new lu(o,s),f=(a.x===u.r?0:2)|Number(a.y&Rt);return{sig:u,recovery:f}}function pf(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private key");e=xw(t)}else if(zm(t)){if(t.length!==32)throw new Error("Expected 32 bytes of private key");e=pa(t)}else throw new TypeError("Expected valid private key");if(!Bg(e))throw new Error("Expected private key: 0 < key < n");return e}function W9(t){return t instanceof Qe?(t.assertValidity(),t):Qe.fromHex(t)}function dK(t){if(t instanceof lu)return t.assertValidity(),t;try{return lu.fromDER(t)}catch{return lu.fromCompact(t)}}function Hle(t,e=!1){return Qe.fromPrivateKey(t).toRawBytes(e)}Le.getPublicKey=Hle;function Kle(t,e,r,n=!1){return Qe.fromSignature(t,e,r).toRawBytes(n)}Le.recoverPublicKey=Kle;function uK(t){let e=zm(t),r=typeof t=="string",n=(e||r)&&t.length;return e?n===33||n===65:r?n===66||n===130:t instanceof Qe}function Vle(t,e,r=!1){if(uK(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!uK(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=W9(e);return n.assertValidity(),n.multiply(pf(t)).toRawBytes(r)}Le.getSharedSecret=Vle;function lK(t){let e=t.length>32?t.slice(0,32):t;return pa(e)}function Gle(t){let e=lK(t),r=ge(e,ct.n);return hK(r<ut?e:r)}function hK(t){if(typeof t!="bigint")throw new Error("Expected bigint");let e=yc(t);return vc(e)}function pK(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=hu(t),i=pf(e),a=[hK(i),Gle(n)];if(r!=null){r===!0&&(r=Le.utils.randomBytes(32));let u=hu(r);if(u.length!==32)throw new Error("sign: Expected 32 bytes of extra data");a.push(u)}let o=Dg(...a),s=lK(n);return{seed:o,m:s,d:i}}function gK(t,e){let{sig:r,recovery:n}=t,{canonical:i,der:a,recovered:o}=Object.assign({canonical:!0,der:!0},e);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);let s=a?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}async function zle(t,e,r={}){let{seed:n,m:i,d:a}=pK(t,e,r.extraEntropy),o,s=new bw;for(await s.reseed(n);!(o=cK(await s.generate(),i,a));)await s.reseed();return gK(o,r)}Le.sign=zle;function Yle(t,e,r={}){let{seed:n,m:i,d:a}=pK(t,e,r.extraEntropy),o,s=new bw;for(s.reseedSync(n);!(o=cK(s.generateSync(),i,a));)s.reseedSync();return gK(o,r)}Le.signSync=Yle;var Wle={strict:!0};function Xle(t,e,r,n=Wle){let i;try{i=dK(t),e=hu(e)}catch{return!1}let{r:a,s:o}=i;if(n.strict&&i.hasHighS())return!1;let s=fK(e),u;try{u=W9(r)}catch{return!1}let{n:f}=ct,c=Mg(o,f),l=ge(s*c,f),g=ge(a*c,f),y=Qe.BASE.multiplyAndAddUnsafe(u,l,g);return y?ge(y.x,f)===a:!1}Le.verify=Xle;function ww(t){return ge(pa(t),ct.n)}function X9(t){return(t.y&Rt)===ut}var cd=class{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=hu(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=pa(r.subarray(0,32)),i=pa(r.subarray(32,64));return new cd(n,i)}assertValidity(){let{r:e,s:r}=this;if(!_w(e)||!Bg(r))throw new Error("Invalid signature")}toHex(){return yc(this.r)+yc(this.s)}toRawBytes(){return vc(this.toHex())}};function Jle(t){return Qe.fromPrivateKey(t).toRawX()}function yK(t,e,r){if(t==null)throw new TypeError(`sign: Expected valid message, not "${t}"`);let n=hu(t),i=pf(e),a=hu(r);if(a.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness");let o=Qe.fromPrivateKey(i),s=o.toRawX(),u=X9(o)?i:ct.n-i;return{m:n,P:o,px:s,d:u,rand:a}}function vK(t,e){return Rg(t^pa(e))}function mK(t){let e=ge(pa(t),ct.n);if(e===ut)throw new Error("sign: Creation of signature failed. k is zero");let r=Qe.fromPrivateKey(e),n=r.toRawX(),i=X9(r)?e:ct.n-e;return{R:r,rx:n,k:i}}function _K(t,e,r,n){return new cd(t.x,ge(e+r*n,ct.n)).toRawBytes()}async function $le(t,e,r=Le.utils.randomBytes()){let{m:n,px:i,d:a,rand:o}=yK(t,e,r),s=vK(a,await Le.utils.taggedHash(fd.aux,o)),{R:u,rx:f,k:c}=mK(await Le.utils.taggedHash(fd.nonce,s,i,n)),l=ww(await Le.utils.taggedHash(fd.challenge,f,i,n)),g=_K(u,c,l,a);if(!await wK(g,n,i))throw new Error("sign: Invalid signature produced");return g}function Zle(t,e,r=Le.utils.randomBytes()){let{m:n,px:i,d:a,rand:o}=yK(t,e,r),s=vK(a,Le.utils.taggedHashSync(fd.aux,o)),{R:u,rx:f,k:c}=mK(Le.utils.taggedHashSync(fd.nonce,s,i,n)),l=ww(Le.utils.taggedHashSync(fd.challenge,f,i,n)),g=_K(u,c,l,a);if(!EK(g,n,i))throw new Error("sign: Invalid signature produced");return g}function xK(t,e,r){let n=t instanceof cd,i=n?t:cd.fromHex(t);return n&&i.assertValidity(),{...i,m:hu(e),P:W9(r)}}function bK(t,e,r,n){let i=Qe.BASE.multiplyAndAddUnsafe(e,pf(r),ge(-n,ct.n));return!(!i||!X9(i)||i.x!==t)}async function wK(t,e,r){try{let{r:n,s:i,m:a,P:o}=xK(t,e,r),s=ww(await Le.utils.taggedHash(fd.challenge,Rg(n),o.toRawX(),a));return bK(n,o,i,s)}catch{return!1}}function EK(t,e,r){try{let{r:n,s:i,m:a,P:o}=xK(t,e,r),s=ww(Le.utils.taggedHashSync(fd.challenge,Rg(n),o.toRawX(),a));return bK(n,o,i,s)}catch{return!1}}Le.schnorr={Signature:cd,getPublicKey:Jle,sign:$le,verify:wK,signSync:Zle,verifySync:EK};Qe.BASE._setWindowSize(8);var so={node:qle,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},fd={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},mw={};Le.utils={isValidPrivateKey(t){try{return pf(t),!0}catch{return!1}},privateAdd:(t,e)=>{let r=pf(t),n=pf(e);return Rg(ge(r+n,ct.n))},privateNegate:t=>{let e=pf(t);return Rg(ct.n-e)},pointAddScalar:(t,e,r)=>{let n=Qe.fromHex(t),i=pf(e),a=Qe.BASE.multiplyAndAddUnsafe(n,i,Rt);if(!a)throw new Error("Tweaked point at infinity");return a.toRawBytes(r)},pointMultiply:(t,e,r)=>{let n=Qe.fromHex(t),i=pa(hu(e));return n.multiply(i).toRawBytes(r)},hashToPrivateKey:t=>{if(t=hu(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");let e=ge(pa(t),ct.n-Rt)+Rt;return Rg(e)},randomBytes:(t=32)=>{if(so.web)return so.web.getRandomValues(new Uint8Array(t));if(so.node){let{randomBytes:e}=so.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Le.utils.hashToPrivateKey(Le.utils.randomBytes(40)),bytesToHex:Pg,hexToBytes:vc,concatBytes:Dg,mod:ge,invert:Mg,sha256:async(...t)=>{if(so.web){let e=await so.web.subtle.digest("SHA-256",Dg(...t));return new Uint8Array(e)}else if(so.node){let{createHash:e}=so.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(so.web){let r=await so.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Dg(...e),i=await so.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}else if(so.node){let{createHmac:r}=so.node,n=r("sha256",t);return e.forEach(i=>n.update(i)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=mw[t];if(r===void 0){let n=await Le.utils.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Dg(n,n),mw[t]=r}return Le.utils.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Le.utils.sha256Sync!="function")throw new Error("utils.sha256Sync is undefined, you need to set it");let r=mw[t];if(r===void 0){let n=Le.utils.sha256Sync(Uint8Array.from(t,i=>i.charCodeAt(0)));r=Dg(n,n),mw[t]=r}return Le.utils.sha256Sync(r,...e)},precompute(t=8,e=Qe.BASE){let r=e===Qe.BASE?e:new Qe(e.x,e.y);return r._setWindowSize(t),r.multiply(Gm),r}}});var Ew=E(pr=>{"use strict";h();p();Object.defineProperty(pr,"__esModule",{value:!0});pr.schnorr=pr.Signature=pr.Point=pr.CURVE=pr.utils=pr.getSharedSecret=pr.recoverPublicKey=pr.verify=pr.signSync=pr.sign=pr.getPublicKey=void 0;var Qle=QH(),ehe=tK(),the=J9(),pu=J9();Object.defineProperty(pr,"getPublicKey",{enumerable:!0,get:function(){return pu.getPublicKey}});Object.defineProperty(pr,"sign",{enumerable:!0,get:function(){return pu.sign}});Object.defineProperty(pr,"signSync",{enumerable:!0,get:function(){return pu.signSync}});Object.defineProperty(pr,"verify",{enumerable:!0,get:function(){return pu.verify}});Object.defineProperty(pr,"recoverPublicKey",{enumerable:!0,get:function(){return pu.recoverPublicKey}});Object.defineProperty(pr,"getSharedSecret",{enumerable:!0,get:function(){return pu.getSharedSecret}});Object.defineProperty(pr,"utils",{enumerable:!0,get:function(){return pu.utils}});Object.defineProperty(pr,"CURVE",{enumerable:!0,get:function(){return pu.CURVE}});Object.defineProperty(pr,"Point",{enumerable:!0,get:function(){return pu.Point}});Object.defineProperty(pr,"Signature",{enumerable:!0,get:function(){return pu.Signature}});Object.defineProperty(pr,"schnorr",{enumerable:!0,get:function(){return pu.schnorr}});the.utils.hmacSha256Sync=(t,...e)=>{let r=Qle.hmac.create(ehe.sha256,t);return e.forEach(n=>r.update(n)),r.digest()}});var Iw=E(Et=>{"use strict";h();p();Object.defineProperty(Et,"__esModule",{value:!0});Et.RLP_EMPTY_STRING=Et.KECCAK256_RLP=Et.KECCAK256_RLP_S=Et.KECCAK256_RLP_ARRAY=Et.KECCAK256_RLP_ARRAY_S=Et.KECCAK256_NULL=Et.KECCAK256_NULL_S=Et.TWO_POW256=Et.SECP256K1_ORDER_DIV_2=Et.SECP256K1_ORDER=Et.MAX_INTEGER_BIGINT=Et.MAX_INTEGER=Et.MAX_UINT64=void 0;var Sw=ua(),SK=Ew();Et.MAX_UINT64=BigInt("0xffffffffffffffff");Et.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Et.MAX_INTEGER_BIGINT=BigInt(2)**BigInt(256)-BigInt(1);Et.SECP256K1_ORDER=SK.CURVE.n;Et.SECP256K1_ORDER_DIV_2=SK.CURVE.n/BigInt(2);Et.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");Et.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";Et.KECCAK256_NULL=Sw.Buffer.from(Et.KECCAK256_NULL_S,"hex");Et.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";Et.KECCAK256_RLP_ARRAY=Sw.Buffer.from(Et.KECCAK256_RLP_ARRAY_S,"hex");Et.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";Et.KECCAK256_RLP=Sw.Buffer.from(Et.KECCAK256_RLP_S,"hex");Et.RLP_EMPTY_STRING=Sw.Buffer.from([128])});var BK=E(gf=>{"use strict";h();p();Object.defineProperty(gf,"__esModule",{value:!0});gf.RLP=gf.utils=gf.decode=gf.encode=void 0;function Q9(t){if(Array.isArray(t)){let r=[];for(let i=0;i<t.length;i++)r.push(Q9(t[i]));let n=Tw(...r);return Tw(TK(n.length,192),n)}let e=PK(t);return e.length===1&&e[0]<128?e:Tw(TK(e.length,128),e)}gf.encode=Q9;function Ng(t,e,r){if(r>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(e,r)}function IK(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return OK(AK(t))}function TK(t,e){if(t<56)return Uint8Array.from([t+e]);let r=Z9(t),n=r.length/2,i=Z9(e+55+n);return Uint8Array.from(Cw(i+r))}function CK(t,e=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);let r=PK(t),n=$9(r);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return n.data}gf.decode=CK;function $9(t){let e,r,n,i,a,o=[],s=t[0];if(s<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(s<=183){if(e=s-127,s===128?n=Uint8Array.from([]):n=Ng(t,1,e),e===2&&n[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:n,remainder:t.slice(e)}}else if(s<=191){if(r=s-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=IK(Ng(t,1,r)),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return n=Ng(t,r,e+r),{data:n,remainder:t.slice(e+r)}}else if(s<=247){for(e=s-191,i=Ng(t,1,e);i.length;)a=$9(i),o.push(a.data),i=a.remainder;return{data:o,remainder:t.slice(e)}}else{if(r=s-246,e=IK(Ng(t,1,r)),e<56)throw new Error("invalid RLP: encoded list too short");let u=r+e;if(u>t.length)throw new Error("invalid RLP: total length is larger than the data");for(i=Ng(t,r,u);i.length;)a=$9(i),o.push(a.data),i=a.remainder;return{data:o,remainder:t.slice(u)}}}var rhe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function AK(t){let e="";for(let r=0;r<t.length;r++)e+=rhe[t[r]];return e}function OK(t){let e=Number.parseInt(t,16);if(Number.isNaN(e))throw new Error("Invalid byte sequence");return e}function Cw(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2;e[r]=OK(t.slice(n,n+2))}return e}function Tw(...t){if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let a=t[n];r.set(a,i),i+=a.length}return r}function DK(t){return new TextEncoder().encode(t)}function Z9(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");let e=t.toString(16);return e.length%2?`0${e}`:e}function nhe(t){return t.length%2?`0${t}`:t}function RK(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function ihe(t){return typeof t!="string"?t:RK(t)?t.slice(2):t}function PK(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return RK(t)?Cw(nhe(ihe(t))):DK(t);if(typeof t=="number"||typeof t=="bigint")return t?Cw(Z9(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}gf.utils={bytesToHex:AK,concatBytes:Tw,hexToBytes:Cw,utf8ToBytes:DK};gf.RLP={encode:Q9,decode:CK}});var qK=E(Yo=>{"use strict";h();p();Object.defineProperty(Yo,"__esModule",{value:!0});Yo.add=Yo.toBig=Yo.split=Yo.fromBig=void 0;var Aw=BigInt(2**32-1),eC=BigInt(32);function tC(t,e=!1){return e?{h:Number(t&Aw),l:Number(t>>eC&Aw)}:{h:Number(t>>eC&Aw)|0,l:Number(t&Aw)|0}}Yo.fromBig=tC;function MK(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:a,l:o}=tC(t[i],e);[r[i],n[i]]=[a,o]}return[r,n]}Yo.split=MK;var ahe=(t,e)=>BigInt(t>>>0)<<eC|BigInt(e>>>0);Yo.toBig=ahe;var ohe=(t,e,r)=>t>>>r,she=(t,e,r)=>t<<32-r|e>>>r,uhe=(t,e,r)=>t>>>r|e<<32-r,fhe=(t,e,r)=>t<<32-r|e>>>r,che=(t,e,r)=>t<<64-r|e>>>r-32,dhe=(t,e,r)=>t>>>r-32|e<<64-r,lhe=(t,e)=>e,hhe=(t,e)=>t,phe=(t,e,r)=>t<<r|e>>>32-r,ghe=(t,e,r)=>e<<r|t>>>32-r,yhe=(t,e,r)=>e<<r-32|t>>>64-r,vhe=(t,e,r)=>t<<r-32|e>>>64-r;function NK(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}Yo.add=NK;var mhe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),_he=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,xhe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),bhe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,whe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Ehe=(t,e,r,n,i,a)=>e+r+n+i+a+(t/2**32|0)|0,She={fromBig:tC,split:MK,toBig:Yo.toBig,shrSH:ohe,shrSL:she,rotrSH:uhe,rotrSL:fhe,rotrBH:che,rotrBL:dhe,rotr32H:lhe,rotr32L:hhe,rotlSH:phe,rotlSL:ghe,rotlBH:yhe,rotlBL:vhe,add:NK,add3L:mhe,add3H:_he,add4L:xhe,add4H:bhe,add5H:Ehe,add5L:whe};Yo.default=She});var VK=E($t=>{"use strict";h();p();Object.defineProperty($t,"__esModule",{value:!0});$t.shake256=$t.shake128=$t.keccak_512=$t.keccak_384=$t.keccak_256=$t.keccak_224=$t.sha3_512=$t.sha3_384=$t.sha3_256=$t.sha3_224=$t.Keccak=$t.keccakP=void 0;var qg=jm(),Xm=qK(),Wm=Rh(),[UK,kK,jK]=[[],[],[]],Ihe=BigInt(0),Ym=BigInt(1),The=BigInt(2),Che=BigInt(7),Ahe=BigInt(256),Ohe=BigInt(113);for(let t=0,e=Ym,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],UK.push(2*(5*n+r)),kK.push((t+1)*(t+2)/2%64);let i=Ihe;for(let a=0;a<7;a++)e=(e<<Ym^(e>>Che)*Ohe)%Ahe,e&The&&(i^=Ym<<(Ym<<BigInt(a))-Ym);jK.push(i)}var[Dhe,Rhe]=Xm.default.split(jK,!0),FK=(t,e,r)=>r>32?Xm.default.rotlBH(t,e,r):Xm.default.rotlSH(t,e,r),LK=(t,e,r)=>r>32?Xm.default.rotlBL(t,e,r):Xm.default.rotlSL(t,e,r);function HK(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let s=(o+8)%10,u=(o+2)%10,f=r[u],c=r[u+1],l=FK(f,c,1)^r[s],g=LK(f,c,1)^r[s+1];for(let y=0;y<50;y+=10)t[o+y]^=l,t[o+y+1]^=g}let i=t[2],a=t[3];for(let o=0;o<24;o++){let s=kK[o],u=FK(i,a,s),f=LK(i,a,s),c=UK[o];i=t[c],a=t[c+1],t[c]=u,t[c+1]=f}for(let o=0;o<50;o+=10){for(let s=0;s<10;s++)r[s]=t[o+s];for(let s=0;s<10;s++)t[o+s]^=~r[(s+2)%10]&r[(s+4)%10]}t[0]^=Dhe[n],t[1]^=Rhe[n]}r.fill(0)}$t.keccakP=HK;var Ph=class extends Wm.Hash{constructor(e,r,n,i=!1,a=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,qg.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Wm.u32)(this.state)}keccak(){HK(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){qg.default.exists(this);let{blockLen:r,state:n}=this;e=(0,Wm.toBytes)(e);let i=e.length;for(let a=0;a<i;){let o=Math.min(r-this.pos,i-a);for(let s=0;s<o;s++)n[this.pos++]^=e[a++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){qg.default.exists(this,!1),qg.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let i=0,a=e.length;i<a;){this.posOut>=n&&this.keccak();let o=Math.min(n-this.posOut,a-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return qg.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(qg.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:a,enableXOF:o}=this;return e||(e=new Ph(r,n,i,o,a)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=a,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};$t.Keccak=Ph;var dd=(t,e,r)=>(0,Wm.wrapConstructor)(()=>new Ph(e,t,r));$t.sha3_224=dd(6,144,224/8);$t.sha3_256=dd(6,136,256/8);$t.sha3_384=dd(6,104,384/8);$t.sha3_512=dd(6,72,512/8);$t.keccak_224=dd(1,144,224/8);$t.keccak_256=dd(1,136,256/8);$t.keccak_384=dd(1,104,384/8);$t.keccak_512=dd(1,72,512/8);var KK=(t,e,r)=>(0,Wm.wrapConstructorWithOpts)((n={})=>new Ph(e,t,n.dkLen===void 0?r:n.dkLen,!0));$t.shake128=KK(31,168,128/8);$t.shake256=KK(31,136,256/8)});var nC=E((Pt,Jm)=>{"use strict";h();p();var Phe=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.crypto=Pt.wrapHash=Pt.equalsBytes=Pt.hexToBytes=Pt.bytesToUtf8=Pt.utf8ToBytes=Pt.createView=Pt.concatBytes=Pt.toHex=Pt.bytesToHex=Pt.assertBytes=Pt.assertBool=void 0;var rC=Phe(jm()),Bhe=Rh(),Mhe=rC.default.bool;Pt.assertBool=Mhe;var Nhe=rC.default.bytes;Pt.assertBytes=Nhe;var $m=Rh();Object.defineProperty(Pt,"bytesToHex",{enumerable:!0,get:function(){return $m.bytesToHex}});Object.defineProperty(Pt,"toHex",{enumerable:!0,get:function(){return $m.bytesToHex}});Object.defineProperty(Pt,"concatBytes",{enumerable:!0,get:function(){return $m.concatBytes}});Object.defineProperty(Pt,"createView",{enumerable:!0,get:function(){return $m.createView}});Object.defineProperty(Pt,"utf8ToBytes",{enumerable:!0,get:function(){return $m.utf8ToBytes}});function qhe(t){if(!(t instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof t}`);return new TextDecoder().decode(t)}Pt.bytesToUtf8=qhe;function Fhe(t){let e=t.startsWith("0x")?t.substring(2):t;return(0,Bhe.hexToBytes)(e)}Pt.hexToBytes=Fhe;function Lhe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}Pt.equalsBytes=Lhe;function Uhe(t){return e=>(rC.default.bytes(e),t(e))}Pt.wrapHash=Uhe;Pt.crypto=(()=>{let t=typeof self=="object"&&"crypto"in self?self.crypto:void 0,e=typeof Jm<"u"&&typeof Jm.require=="function"&&Jm.require.bind(Jm);return{node:e&&!t?e("crypto"):void 0,web:t}})()});var iC=E(yf=>{"use strict";h();p();Object.defineProperty(yf,"__esModule",{value:!0});yf.keccak512=yf.keccak384=yf.keccak256=yf.keccak224=void 0;var Zm=VK(),Ow=nC();yf.keccak224=(0,Ow.wrapHash)(Zm.keccak_224);yf.keccak256=(()=>{let t=(0,Ow.wrapHash)(Zm.keccak_256);return t.create=Zm.keccak_256.create,t})();yf.keccak384=(0,Ow.wrapHash)(Zm.keccak_384);yf.keccak512=(0,Ow.wrapHash)(Zm.keccak_512)});var Fg=E(Ar=>{"use strict";h();p();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.isHexString=Ar.getKeys=Ar.fromAscii=Ar.fromUtf8=Ar.toAscii=Ar.arrayContainsArray=Ar.getBinarySize=Ar.padToEven=Ar.stripHexPrefix=Ar.isHexPrefixed=void 0;function GK(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t[0]==="0"&&t[1]==="x"}Ar.isHexPrefixed=GK;var khe=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return GK(t)?t.slice(2):t};Ar.stripHexPrefix=khe;function zK(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}Ar.padToEven=zK;function jhe(t){if(typeof t!="string")throw new Error(`[getBinarySize] method requires input type 'string', recieved ${typeof t}`);return v.Buffer.byteLength(t,"utf8")}Ar.getBinarySize=jhe;function Hhe(t,e,r){if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof t}'`);if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof e}'`);return e[r===!0?"some":"every"](n=>t.indexOf(n)>=0)}Ar.arrayContainsArray=Hhe;function Khe(t){let e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){let i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}Ar.toAscii=Khe;function Vhe(t){let e=v.Buffer.from(t,"utf8");return`0x${zK(e.toString("hex")).replace(/^0+|0+$/g,"")}`}Ar.fromUtf8=Vhe;function Ghe(t){let e="";for(let r=0;r<t.length;r++){let i=t.charCodeAt(r).toString(16);e+=i.length<2?`0${i}`:i}return`0x${e}`}Ar.fromAscii=Ghe;function zhe(t,e,r){if(!Array.isArray(t))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof t}`);if(typeof e!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof t}`);let n=[];for(let i=0;i<t.length;i++){let a=t[i][e];if(r===!0&&!a)a="";else if(typeof a!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof a}`);n.push(a)}return n}Ar.getKeys=zhe;function Yhe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}Ar.isHexString=Yhe});var Dw=E(vf=>{"use strict";h();p();Object.defineProperty(vf,"__esModule",{value:!0});vf.assertIsString=vf.assertIsArray=vf.assertIsBuffer=vf.assertIsHexString=void 0;var Whe=Fg(),Xhe=function(t){if(!(0,Whe.isHexString)(t)){let e=`This method only supports 0x-prefixed hex strings but input was: ${t}`;throw new Error(e)}};vf.assertIsHexString=Xhe;var Jhe=function(t){if(!v.Buffer.isBuffer(t)){let e=`This method only supports Buffer but input was: ${t}`;throw new Error(e)}};vf.assertIsBuffer=Jhe;var $he=function(t){if(!Array.isArray(t)){let e=`This method only supports number arrays but input was: ${t}`;throw new Error(e)}};vf.assertIsArray=$he;var Zhe=function(t){if(typeof t!="string"){let e=`This method only supports strings but input was: ${t}`;throw new Error(e)}};vf.assertIsString=Zhe});var Lg=E(Ae=>{"use strict";h();p();Object.defineProperty(Ae,"__esModule",{value:!0});Ae.bigIntToUnpaddedBuffer=Ae.bigIntToHex=Ae.bufArrToArr=Ae.arrToBufArr=Ae.validateNoLeadingZeroes=Ae.baToJSON=Ae.toUtf8=Ae.short=Ae.addHexPrefix=Ae.toUnsigned=Ae.fromSigned=Ae.bufferToInt=Ae.bigIntToBuffer=Ae.bufferToBigInt=Ae.bufferToHex=Ae.toBuffer=Ae.unpadHexString=Ae.unpadArray=Ae.unpadBuffer=Ae.setLengthRight=Ae.setLengthLeft=Ae.zeros=Ae.intToBuffer=Ae.intToHex=void 0;var Qm=Dw(),Bh=Fg(),Qhe=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};Ae.intToHex=Qhe;var e1e=function(t){let e=(0,Ae.intToHex)(t);return v.Buffer.from((0,Bh.padToEven)(e.slice(2)),"hex")};Ae.intToBuffer=e1e;var t1e=function(t){return v.Buffer.allocUnsafe(t).fill(0)};Ae.zeros=t1e;var YK=function(t,e,r){let n=(0,Ae.zeros)(e);return r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)},r1e=function(t,e){return(0,Qm.assertIsBuffer)(t),YK(t,e,!1)};Ae.setLengthLeft=r1e;var n1e=function(t,e){return(0,Qm.assertIsBuffer)(t),YK(t,e,!0)};Ae.setLengthRight=n1e;var aC=function(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t},i1e=function(t){return(0,Qm.assertIsBuffer)(t),aC(t)};Ae.unpadBuffer=i1e;var a1e=function(t){return(0,Qm.assertIsArray)(t),aC(t)};Ae.unpadArray=a1e;var o1e=function(t){return(0,Qm.assertIsHexString)(t),t=(0,Bh.stripHexPrefix)(t),"0x"+aC(t)};Ae.unpadHexString=o1e;var s1e=function(t){if(t==null)return v.Buffer.allocUnsafe(0);if(v.Buffer.isBuffer(t))return v.Buffer.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return v.Buffer.from(t);if(typeof t=="string"){if(!(0,Bh.isHexString)(t))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${t}`);return v.Buffer.from((0,Bh.padToEven)((0,Bh.stripHexPrefix)(t)),"hex")}if(typeof t=="number")return(0,Ae.intToBuffer)(t);if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),v.Buffer.from(e,"hex")}if(t.toArray)return v.Buffer.from(t.toArray());if(t.toBuffer)return v.Buffer.from(t.toBuffer());throw new Error("invalid type")};Ae.toBuffer=s1e;var u1e=function(t){return t=(0,Ae.toBuffer)(t),"0x"+t.toString("hex")};Ae.bufferToHex=u1e;function oC(t){let e=(0,Ae.bufferToHex)(t);return BigInt(e==="0x"?0:e)}Ae.bufferToBigInt=oC;function sC(t){return(0,Ae.toBuffer)("0x"+t.toString(16))}Ae.bigIntToBuffer=sC;var f1e=function(t){let e=Number(oC(t));if(!Number.isSafeInteger(e))throw new Error("Number exceeds 53 bits");return e};Ae.bufferToInt=f1e;var c1e=function(t){return BigInt.asIntN(256,oC(t))};Ae.fromSigned=c1e;var d1e=function(t){return sC(BigInt.asUintN(256,t))};Ae.toUnsigned=d1e;var l1e=function(t){return typeof t!="string"||(0,Bh.isHexPrefixed)(t)?t:"0x"+t};Ae.addHexPrefix=l1e;function h1e(t,e=50){let r=v.Buffer.isBuffer(t)?t.toString("hex"):t;return r.length<=e?r:r.slice(0,e)+"\u2026"}Ae.short=h1e;var p1e=function(t){let e=/^(00)+|(00)+$/g;if(t=(0,Bh.stripHexPrefix)(t),t.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return v.Buffer.from(t.replace(e,""),"hex").toString("utf8")};Ae.toUtf8=p1e;var g1e=function(t){if(v.Buffer.isBuffer(t))return`0x${t.toString("hex")}`;if(t instanceof Array){let e=[];for(let r=0;r<t.length;r++)e.push((0,Ae.baToJSON)(t[r]));return e}};Ae.baToJSON=g1e;var y1e=function(t){for(let[e,r]of Object.entries(t))if(r!==void 0&&r.length>0&&r[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${r.toString("hex")}`)};Ae.validateNoLeadingZeroes=y1e;function WK(t){return Array.isArray(t)?t.map(e=>WK(e)):v.Buffer.from(t)}Ae.arrToBufArr=WK;function XK(t){return Array.isArray(t)?t.map(e=>XK(e)):Uint8Array.from(t??[])}Ae.bufArrToArr=XK;var v1e=t=>"0x"+t.toString(16);Ae.bigIntToHex=v1e;function m1e(t){return(0,Ae.unpadBuffer)(sC(t))}Ae.bigIntToUnpaddedBuffer=m1e});var uC=E(je=>{"use strict";h();p();Object.defineProperty(je,"__esModule",{value:!0});je.accountBodyToRLP=je.accountBodyToSlim=je.accountBodyFromSlim=je.isZeroAddress=je.zeroAddress=je.importPublic=je.privateToAddress=je.privateToPublic=je.publicToAddress=je.pubToAddress=je.isValidPublic=je.isValidPrivate=je.generateAddress2=je.generateAddress=je.isValidChecksumAddress=je.toChecksumAddress=je.isValidAddress=je.Account=void 0;var e2=BK(),kg=iC(),jg=Ew(),_1e=nC(),ur=Lg(),ld=Iw(),Wo=Dw(),x1e=Fg(),Ug=BigInt(0),Hg=class{constructor(e=Ug,r=Ug,n=ld.KECCAK256_RLP,i=ld.KECCAK256_NULL){this.nonce=e,this.balance=r,this.storageRoot=n,this.codeHash=i,this._validate()}static fromAccountData(e){let{nonce:r,balance:n,storageRoot:i,codeHash:a}=e;return new Hg(r!==void 0?(0,ur.bufferToBigInt)((0,ur.toBuffer)(r)):void 0,n!==void 0?(0,ur.bufferToBigInt)((0,ur.toBuffer)(n)):void 0,i!==void 0?(0,ur.toBuffer)(i):void 0,a!==void 0?(0,ur.toBuffer)(a):void 0)}static fromRlpSerializedAccount(e){let r=(0,ur.arrToBufArr)(e2.RLP.decode(Uint8Array.from(e)));if(!Array.isArray(r))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(r)}static fromValuesArray(e){let[r,n,i,a]=e;return new Hg((0,ur.bufferToBigInt)(r),(0,ur.bufferToBigInt)(n),i,a)}_validate(){if(this.nonce<Ug)throw new Error("nonce must be greater than zero");if(this.balance<Ug)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,ur.bigIntToUnpaddedBuffer)(this.nonce),(0,ur.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return v.Buffer.from(e2.RLP.encode((0,ur.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(ld.KECCAK256_NULL)}isEmpty(){return this.balance===Ug&&this.nonce===Ug&&this.codeHash.equals(ld.KECCAK256_NULL)}};je.Account=Hg;var b1e=function(t){try{(0,Wo.assertIsString)(t)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(t)};je.isValidAddress=b1e;var w1e=function(t,e){(0,Wo.assertIsHexString)(t);let r=(0,x1e.stripHexPrefix)(t).toLowerCase(),n="";e!==void 0&&(n=(0,ur.bufferToBigInt)((0,ur.toBuffer)(e)).toString()+"0x");let i=v.Buffer.from(n+r,"utf8"),a=(0,_1e.bytesToHex)((0,kg.keccak256)(i)),o="0x";for(let s=0;s<r.length;s++)parseInt(a[s],16)>=8?o+=r[s].toUpperCase():o+=r[s];return o};je.toChecksumAddress=w1e;var E1e=function(t,e){return(0,je.isValidAddress)(t)&&(0,je.toChecksumAddress)(t,e)===t};je.isValidChecksumAddress=E1e;var S1e=function(t,e){return(0,Wo.assertIsBuffer)(t),(0,Wo.assertIsBuffer)(e),(0,ur.bufferToBigInt)(e)===BigInt(0)?v.Buffer.from((0,kg.keccak256)(e2.RLP.encode((0,ur.bufArrToArr)([t,null])))).slice(-20):v.Buffer.from((0,kg.keccak256)(e2.RLP.encode((0,ur.bufArrToArr)([t,e])))).slice(-20)};je.generateAddress=S1e;var I1e=function(t,e,r){if((0,Wo.assertIsBuffer)(t),(0,Wo.assertIsBuffer)(e),(0,Wo.assertIsBuffer)(r),t.length!==20)throw new Error("Expected from to be of length 20");if(e.length!==32)throw new Error("Expected salt to be of length 32");let n=(0,kg.keccak256)(v.Buffer.concat([v.Buffer.from("ff","hex"),t,e,(0,kg.keccak256)(r)]));return(0,ur.toBuffer)(n).slice(-20)};je.generateAddress2=I1e;var T1e=function(t){return jg.utils.isValidPrivateKey(t)};je.isValidPrivate=T1e;var C1e=function(t,e=!1){if((0,Wo.assertIsBuffer)(t),t.length===64)try{return jg.Point.fromHex(v.Buffer.concat([v.Buffer.from([4]),t])),!0}catch{return!1}if(!e)return!1;try{return jg.Point.fromHex(t),!0}catch{return!1}};je.isValidPublic=C1e;var A1e=function(t,e=!1){if((0,Wo.assertIsBuffer)(t),e&&t.length!==64&&(t=v.Buffer.from(jg.Point.fromHex(t).toRawBytes(!1).slice(1))),t.length!==64)throw new Error("Expected pubKey to be of length 64");return v.Buffer.from((0,kg.keccak256)(t)).slice(-20)};je.pubToAddress=A1e;je.publicToAddress=je.pubToAddress;var O1e=function(t){return(0,Wo.assertIsBuffer)(t),v.Buffer.from(jg.Point.fromPrivateKey(t).toRawBytes(!1).slice(1))};je.privateToPublic=O1e;var D1e=function(t){return(0,je.publicToAddress)((0,je.privateToPublic)(t))};je.privateToAddress=D1e;var R1e=function(t){return(0,Wo.assertIsBuffer)(t),t.length!==64&&(t=v.Buffer.from(jg.Point.fromHex(t).toRawBytes(!1).slice(1))),t};je.importPublic=R1e;var P1e=function(){let e=(0,ur.zeros)(20);return(0,ur.bufferToHex)(e)};je.zeroAddress=P1e;var B1e=function(t){try{(0,Wo.assertIsString)(t)}catch{return!1}return(0,je.zeroAddress)()===t};je.isZeroAddress=B1e;function $K(t){let[e,r,n,i]=t;return[e,r,(0,ur.arrToBufArr)(n).length===0?ld.KECCAK256_RLP:n,(0,ur.arrToBufArr)(i).length===0?ld.KECCAK256_NULL:i]}je.accountBodyFromSlim=$K;var JK=new Uint8Array(0);function M1e(t){let[e,r,n,i]=t;return[e,r,(0,ur.arrToBufArr)(n).equals(ld.KECCAK256_RLP)?JK:n,(0,ur.arrToBufArr)(i).equals(ld.KECCAK256_NULL)?JK:i]}je.accountBodyToSlim=M1e;function N1e(t,e=!0){let r=e?$K(t):t;return(0,ur.arrToBufArr)(e2.RLP.encode(r))}je.accountBodyToRLP=N1e});var ZK=E(Pw=>{"use strict";h();p();Object.defineProperty(Pw,"__esModule",{value:!0});Pw.Address=void 0;var t2=uC(),Rw=Lg(),gu=class{constructor(e){if(e.length!==20)throw new Error("Invalid address length");this.buf=e}static zero(){return new gu((0,Rw.zeros)(20))}static fromString(e){if(!(0,t2.isValidAddress)(e))throw new Error("Invalid address");return new gu((0,Rw.toBuffer)(e))}static fromPublicKey(e){if(!v.Buffer.isBuffer(e))throw new Error("Public key should be Buffer");let r=(0,t2.pubToAddress)(e);return new gu(r)}static fromPrivateKey(e){if(!v.Buffer.isBuffer(e))throw new Error("Private key should be Buffer");let r=(0,t2.privateToAddress)(e);return new gu(r)}static generate(e,r){if(typeof r!="bigint")throw new Error("Expected nonce to be a bigint");return new gu((0,t2.generateAddress)(e.buf,(0,Rw.bigIntToBuffer)(r)))}static generate2(e,r,n){if(!v.Buffer.isBuffer(r))throw new Error("Expected salt to be a Buffer");if(!v.Buffer.isBuffer(n))throw new Error("Expected initCode to be a Buffer");return new gu((0,t2.generateAddress2)(e.buf,r,n))}equals(e){return this.buf.equals(e.buf)}isZero(){return this.equals(gu.zero())}isPrecompileOrSystemAddress(){let e=(0,Rw.bufferToBigInt)(this.buf),r=BigInt(0),n=BigInt("0xffff");return e>=r&&e<=n}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return v.Buffer.from(this.buf)}};Pw.Address=gu});var eV=E(xi=>{"use strict";h();p();Object.defineProperty(xi,"__esModule",{value:!0});xi.hashPersonalMessage=xi.isValidSignature=xi.fromRpcSig=xi.toCompactSig=xi.toRpcSig=xi.ecrecover=xi.ecsign=void 0;var q1e=iC(),QK=Ew(),ka=Lg(),fC=Iw(),F1e=Dw();function L1e(t,e,r){let[n,i]=(0,QK.signSync)(t,e,{recovered:!0,der:!1}),a=v.Buffer.from(n.slice(0,32)),o=v.Buffer.from(n.slice(32,64)),s=r===void 0?BigInt(i+27):BigInt(i+35)+BigInt(r)*BigInt(2);return{r:a,s:o,v:s}}xi.ecsign=L1e;function Bw(t,e){return t===BigInt(0)||t===BigInt(1)?t:e===void 0?t-BigInt(27):t-(e*BigInt(2)+BigInt(35))}function Mw(t){return t===BigInt(0)||t===BigInt(1)}var U1e=function(t,e,r,n,i){let a=v.Buffer.concat([(0,ka.setLengthLeft)(r,32),(0,ka.setLengthLeft)(n,32)],64),o=Bw(e,i);if(!Mw(o))throw new Error("Invalid signature v value");let s=(0,QK.recoverPublicKey)(t,a,Number(o));return v.Buffer.from(s.slice(1))};xi.ecrecover=U1e;var k1e=function(t,e,r,n){let i=Bw(t,n);if(!Mw(i))throw new Error("Invalid signature v value");return(0,ka.bufferToHex)(v.Buffer.concat([(0,ka.setLengthLeft)(e,32),(0,ka.setLengthLeft)(r,32),(0,ka.toBuffer)(t)]))};xi.toRpcSig=k1e;var j1e=function(t,e,r,n){let i=Bw(t,n);if(!Mw(i))throw new Error("Invalid signature v value");let a=r;return(t>BigInt(28)&&t%BigInt(2)===BigInt(1)||t===BigInt(1)||t===BigInt(28))&&(a=v.Buffer.from(r),a[0]|=128),(0,ka.bufferToHex)(v.Buffer.concat([(0,ka.setLengthLeft)(e,32),(0,ka.setLengthLeft)(a,32)]))};xi.toCompactSig=j1e;var H1e=function(t){let e=(0,ka.toBuffer)(t),r,n,i;if(e.length>=65)r=e.slice(0,32),n=e.slice(32,64),i=(0,ka.bufferToBigInt)(e.slice(64));else if(e.length===64)r=e.slice(0,32),n=e.slice(32,64),i=BigInt((0,ka.bufferToInt)(e.slice(32,33))>>7),n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i=i+BigInt(27)),{v:i,r,s:n}};xi.fromRpcSig=H1e;var K1e=function(t,e,r,n=!0,i){if(e.length!==32||r.length!==32||!Mw(Bw(t,i)))return!1;let a=(0,ka.bufferToBigInt)(e),o=(0,ka.bufferToBigInt)(r);return!(a===BigInt(0)||a>=fC.SECP256K1_ORDER||o===BigInt(0)||o>=fC.SECP256K1_ORDER||n&&o>=fC.SECP256K1_ORDER_DIV_2)};xi.isValidSignature=K1e;var V1e=function(t){(0,F1e.assertIsBuffer)(t);let e=v.Buffer.from(`Ethereum Signed Message:
${t.length}`,"utf-8");return v.Buffer.from((0,q1e.keccak256)(v.Buffer.concat([e,t])))};xi.hashPersonalMessage=V1e});var tV=E(Mh=>{"use strict";h();p();Object.defineProperty(Mh,"__esModule",{value:!0});Mh.toType=Mh.TypeOutput=void 0;var Nw=Lg(),G1e=Fg(),r2;(function(t){t[t.Number=0]="Number",t[t.BigInt=1]="BigInt",t[t.Buffer=2]="Buffer",t[t.PrefixedHexString=3]="PrefixedHexString"})(r2=Mh.TypeOutput||(Mh.TypeOutput={}));function z1e(t,e){if(t===null)return null;if(t===void 0)return;if(typeof t=="string"&&!(0,G1e.isHexString)(t))throw new Error(`A string must be provided with a 0x-prefix, given: ${t}`);if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");let r=(0,Nw.toBuffer)(t);switch(e){case r2.Buffer:return r;case r2.BigInt:return(0,Nw.bufferToBigInt)(r);case r2.Number:{let n=(0,Nw.bufferToBigInt)(r);if(n>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(n)}case r2.PrefixedHexString:return(0,Nw.bufferToHex)(r);default:throw new Error("unknown outputType")}}Mh.toType=z1e});var nV=E((qw,rV)=>{h();p();(function(t,e){typeof qw=="object"&&typeof rV<"u"?e(qw):typeof define=="function"&&define.amd?define(["exports"],e):e(t.async={})})(qw,function(t){"use strict";function e(k,...N){return(...j)=>k(...N,...j)}function r(k){return function(...N){var j=N.pop();return k.call(this,N,j)}}var n=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,a=typeof process=="object"&&typeof process.nextTick=="function";function o(k){setTimeout(k,0)}function s(k){return(N,...j)=>k(()=>N(...j))}var u;n?u=queueMicrotask:i?u=setImmediate:a?u=process.nextTick:u=o;var f=s(u);function c(k){return y(k)?function(...N){let j=N.pop(),W=k.apply(this,N);return l(W,j)}:r(function(N,j){var W;try{W=k.apply(this,N)}catch(ee){return j(ee)}if(W&&typeof W.then=="function")return l(W,j);j(null,W)})}function l(k,N){return k.then(j=>{g(N,null,j)},j=>{g(N,j&&j.message?j:new Error(j))})}function g(k,N,j){try{k(N,j)}catch(W){f(ee=>{throw ee},W)}}function y(k){return k[Symbol.toStringTag]==="AsyncFunction"}function _(k){return k[Symbol.toStringTag]==="AsyncGenerator"}function w(k){return typeof k[Symbol.asyncIterator]=="function"}function S(k){if(typeof k!="function")throw new Error("expected a function");return y(k)?c(k):k}function I(k,N=k.length){if(!N)throw new Error("arity is undefined");function j(...W){return typeof W[N-1]=="function"?k.apply(this,W):new Promise((ee,te)=>{W[N-1]=(ie,...se)=>{if(ie)return te(ie);ee(se.length>1?se:se[0])},k.apply(this,W)})}return j}function O(k){return function(j,...W){return I(function(te){var ie=this;return k(j,(se,le)=>{S(se).apply(ie,W.concat(le))},te)})}}function P(k,N,j,W){N=N||[];var ee=[],te=0,ie=S(j);return k(N,(se,le,we)=>{var tt=te++;ie(se,(gt,at)=>{ee[tt]=at,we(gt)})},se=>{W(se,ee)})}function q(k){return k&&typeof k.length=="number"&&k.length>=0&&k.length%1===0}let C={};function d(k){function N(...j){if(k!==null){var W=k;k=null,W.apply(this,j)}}return Object.assign(N,k),N}function m(k){return k[Symbol.iterator]&&k[Symbol.iterator]()}function x(k){var N=-1,j=k.length;return function(){return++N<j?{value:k[N],key:N}:null}}function D(k){var N=-1;return function(){var W=k.next();return W.done?null:(N++,{value:W.value,key:N})}}function M(k){var N=k?Object.keys(k):[],j=-1,W=N.length;return function ee(){var te=N[++j];return te==="__proto__"?ee():j<W?{value:k[te],key:te}:null}}function oe(k){if(q(k))return x(k);var N=m(k);return N?D(N):M(k)}function L(k){return function(...N){if(k===null)throw new Error("Callback was already called.");var j=k;k=null,j.apply(this,N)}}function b(k,N,j,W){let ee=!1,te=!1,ie=!1,se=0,le=0;function we(){se>=N||ie||ee||(ie=!0,k.next().then(({value:at,done:No})=>{if(!(te||ee)){if(ie=!1,No){ee=!0,se<=0&&W(null);return}se++,j(at,le,tt),le++,we()}}).catch(gt))}function tt(at,No){if(se-=1,!te){if(at)return gt(at);if(at===!1){ee=!0,te=!0;return}if(No===C||ee&&se<=0)return ee=!0,W(null);we()}}function gt(at){te||(ie=!1,ee=!0,W(at))}we()}var A=k=>(N,j,W)=>{if(W=d(W),k<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!N)return W(null);if(_(N))return b(N,k,j,W);if(w(N))return b(N[Symbol.asyncIterator](),k,j,W);var ee=oe(N),te=!1,ie=!1,se=0,le=!1;function we(gt,at){if(!ie)if(se-=1,gt)te=!0,W(gt);else if(gt===!1)te=!0,ie=!0;else{if(at===C||te&&se<=0)return te=!0,W(null);le||tt()}}function tt(){for(le=!0;se<k&&!te;){var gt=ee();if(gt===null){te=!0,se<=0&&W(null);return}se+=1,j(gt.value,gt.key,L(we))}le=!1}tt()};function R(k,N,j,W){return A(N)(k,S(j),W)}var U=I(R,4);function V(k,N,j){j=d(j);var W=0,ee=0,{length:te}=k,ie=!1;te===0&&j(null);function se(le,we){le===!1&&(ie=!0),ie!==!0&&(le?j(le):(++ee===te||we===C)&&j(null))}for(;W<te;W++)N(k[W],W,L(se))}function Y(k,N,j){return U(k,1/0,N,j)}function $(k,N,j){var W=q(k)?V:Y;return W(k,S(N),j)}var K=I($,3);function T(k,N,j){return P(K,k,N,j)}var G=I(T,3),ye=O(G);function xe(k,N,j){return U(k,1,N,j)}var ve=I(xe,3);function qe(k,N,j){return P(ve,k,N,j)}var Je=I(qe,3),it=O(Je);let cn=Symbol("promiseCallback");function $e(){let k,N;function j(W,...ee){if(W)return N(W);k(ee.length>1?ee:ee[0])}return j[cn]=new Promise((W,ee)=>{k=W,N=ee}),j}function pt(k,N,j){typeof N!="number"&&(j=N,N=null),j=d(j||$e());var W=Object.keys(k).length;if(!W)return j(null);N||(N=W);var ee={},te=0,ie=!1,se=!1,le=Object.create(null),we=[],tt=[],gt={};Object.keys(k).forEach(be=>{var Be=k[be];if(!Array.isArray(Be)){at(be,[Be]),tt.push(be);return}var ot=Be.slice(0,Be.length-1),hr=ot.length;if(hr===0){at(be,Be),tt.push(be);return}gt[be]=hr,ot.forEach(dn=>{if(!k[dn])throw new Error("async.auto task `"+be+"` has a non-existent dependency `"+dn+"` in "+ot.join(", "));Ap(dn,()=>{hr--,hr===0&&at(be,Be)})})}),yt(),No();function at(be,Be){we.push(()=>sm(be,Be))}function No(){if(!ie){if(we.length===0&&te===0)return j(null,ee);for(;we.length&&te<N;){var be=we.shift();be()}}}function Ap(be,Be){var ot=le[be];ot||(ot=le[be]=[]),ot.push(Be)}function Bl(be){var Be=le[be]||[];Be.forEach(ot=>ot()),No()}function sm(be,Be){if(!se){var ot=L((dn,...qo)=>{if(te--,dn===!1){ie=!0;return}if(qo.length<2&&([qo]=qo),dn){var Op={};if(Object.keys(ee).forEach(Ml=>{Op[Ml]=ee[Ml]}),Op[be]=qo,se=!0,le=Object.create(null),ie)return;j(dn,Op)}else ee[be]=qo,Bl(be)});te++;var hr=S(Be[Be.length-1]);Be.length>1?hr(ee,ot):hr(ot)}}function yt(){for(var be,Be=0;tt.length;)be=tt.pop(),Be++,Pe(be).forEach(ot=>{--gt[ot]===0&&tt.push(ot)});if(Be!==W)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function Pe(be){var Be=[];return Object.keys(k).forEach(ot=>{let hr=k[ot];Array.isArray(hr)&&hr.indexOf(be)>=0&&Be.push(ot)}),Be}return j[cn]}var Dl=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,fr=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,cr=/,/,wp=/(=.+)?(\s*)$/;function rr(k){let N="",j=0,W=k.indexOf("*/");for(;j<k.length;)if(k[j]==="/"&&k[j+1]==="/"){let ee=k.indexOf(`
`,j);j=ee===-1?k.length:ee}else if(W!==-1&&k[j]==="/"&&k[j+1]==="*"){let ee=k.indexOf("*/",j);ee!==-1?(j=ee+2,W=k.indexOf("*/",j)):(N+=k[j],j++)}else N+=k[j],j++;return N}function dr(k){let N=rr(k.toString()),j=N.match(Dl);if(j||(j=N.match(fr)),!j)throw new Error(`could not parse args in autoInject
Source:
`+N);let[,W]=j;return W.replace(/\s/g,"").split(cr).map(ee=>ee.replace(wp,"").trim())}function iu(k,N){var j={};return Object.keys(k).forEach(W=>{var ee=k[W],te,ie=y(ee),se=!ie&&ee.length===1||ie&&ee.length===0;if(Array.isArray(ee))te=[...ee],ee=te.pop(),j[W]=te.concat(te.length>0?le:ee);else if(se)j[W]=ee;else{if(te=dr(ee),ee.length===0&&!ie&&te.length===0)throw new Error("autoInject task functions require explicit parameters.");ie||te.pop(),j[W]=te.concat(le)}function le(we,tt){var gt=te.map(at=>we[at]);gt.push(tt),S(ee)(...gt)}}),pt(j,N)}class nr{constructor(){this.head=this.tail=null,this.length=0}removeLink(N){return N.prev?N.prev.next=N.next:this.head=N.next,N.next?N.next.prev=N.prev:this.tail=N.prev,N.prev=N.next=null,this.length-=1,N}empty(){for(;this.head;)this.shift();return this}insertAfter(N,j){j.prev=N,j.next=N.next,N.next?N.next.prev=j:this.tail=j,N.next=j,this.length+=1}insertBefore(N,j){j.prev=N.prev,j.next=N,N.prev?N.prev.next=j:this.head=j,N.prev=j,this.length+=1}unshift(N){this.head?this.insertBefore(this.head,N):Gt(this,N)}push(N){this.tail?this.insertAfter(this.tail,N):Gt(this,N)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var N=this.head;N;)yield N.data,N=N.next}remove(N){for(var j=this.head;j;){var{next:W}=j;N(j)&&this.removeLink(j),j=W}return this}}function Gt(k,N){k.length=1,k.head=k.tail=N}function c0(k,N,j){if(N==null)N=1;else if(N===0)throw new RangeError("Concurrency must not be zero");var W=S(k),ee=0,te=[];let ie={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function se(Pe,be){ie[Pe].push(be)}function le(Pe,be){let Be=(...ot)=>{we(Pe,Be),be(...ot)};ie[Pe].push(Be)}function we(Pe,be){if(!Pe)return Object.keys(ie).forEach(Be=>ie[Be]=[]);if(!be)return ie[Pe]=[];ie[Pe]=ie[Pe].filter(Be=>Be!==be)}function tt(Pe,...be){ie[Pe].forEach(Be=>Be(...be))}var gt=!1;function at(Pe,be,Be,ot){if(ot!=null&&typeof ot!="function")throw new Error("task callback must be a function");yt.started=!0;var hr,dn;function qo(Ml,...um){if(Ml)return Be?dn(Ml):hr();if(um.length<=1)return hr(um[0]);hr(um)}var Op=yt._createTaskItem(Pe,Be?qo:ot||qo);if(be?yt._tasks.unshift(Op):yt._tasks.push(Op),gt||(gt=!0,f(()=>{gt=!1,yt.process()})),Be||!ot)return new Promise((Ml,um)=>{hr=Ml,dn=um})}function No(Pe){return function(be,...Be){ee-=1;for(var ot=0,hr=Pe.length;ot<hr;ot++){var dn=Pe[ot],qo=te.indexOf(dn);qo===0?te.shift():qo>0&&te.splice(qo,1),dn.callback(be,...Be),be!=null&&tt("error",be,dn.data)}ee<=yt.concurrency-yt.buffer&&tt("unsaturated"),yt.idle()&&tt("drain"),yt.process()}}function Ap(Pe){return Pe.length===0&&yt.idle()?(f(()=>tt("drain")),!0):!1}let Bl=Pe=>be=>{if(!be)return new Promise((Be,ot)=>{le(Pe,(hr,dn)=>{if(hr)return ot(hr);Be(dn)})});we(Pe),se(Pe,be)};var sm=!1,yt={_tasks:new nr,_createTaskItem(Pe,be){return{data:Pe,callback:be}},*[Symbol.iterator](){yield*yt._tasks[Symbol.iterator]()},concurrency:N,payload:j,buffer:N/4,started:!1,paused:!1,push(Pe,be){return Array.isArray(Pe)?Ap(Pe)?void 0:Pe.map(Be=>at(Be,!1,!1,be)):at(Pe,!1,!1,be)},pushAsync(Pe,be){return Array.isArray(Pe)?Ap(Pe)?void 0:Pe.map(Be=>at(Be,!1,!0,be)):at(Pe,!1,!0,be)},kill(){we(),yt._tasks.empty()},unshift(Pe,be){return Array.isArray(Pe)?Ap(Pe)?void 0:Pe.map(Be=>at(Be,!0,!1,be)):at(Pe,!0,!1,be)},unshiftAsync(Pe,be){return Array.isArray(Pe)?Ap(Pe)?void 0:Pe.map(Be=>at(Be,!0,!0,be)):at(Pe,!0,!0,be)},remove(Pe){yt._tasks.remove(Pe)},process(){if(!sm){for(sm=!0;!yt.paused&&ee<yt.concurrency&&yt._tasks.length;){var Pe=[],be=[],Be=yt._tasks.length;yt.payload&&(Be=Math.min(Be,yt.payload));for(var ot=0;ot<Be;ot++){var hr=yt._tasks.shift();Pe.push(hr),te.push(hr),be.push(hr.data)}ee+=1,yt._tasks.length===0&&tt("empty"),ee===yt.concurrency&&tt("saturated");var dn=L(No(Pe));W(be,dn)}sm=!1}},length(){return yt._tasks.length},running(){return ee},workersList(){return te},idle(){return yt._tasks.length+ee===0},pause(){yt.paused=!0},resume(){yt.paused!==!1&&(yt.paused=!1,f(yt.process))}};return Object.defineProperties(yt,{saturated:{writable:!1,value:Bl("saturated")},unsaturated:{writable:!1,value:Bl("unsaturated")},empty:{writable:!1,value:Bl("empty")},drain:{writable:!1,value:Bl("drain")},error:{writable:!1,value:Bl("error")}}),yt}function me(k,N){return c0(k,1,N)}function bt(k,N,j){return c0(k,N,j)}function B(k,N,j,W){W=d(W);var ee=S(j);return ve(k,(te,ie,se)=>{ee(N,te,(le,we)=>{N=we,se(le)})},te=>W(te,N))}var F=I(B,4);function z(...k){var N=k.map(S);return function(...j){var W=this,ee=j[j.length-1];return typeof ee=="function"?j.pop():ee=$e(),F(N,j,(te,ie,se)=>{ie.apply(W,te.concat((le,...we)=>{se(le,we)}))},(te,ie)=>ee(te,...ie)),ee[cn]}}function X(...k){return z(...k.reverse())}function Q(k,N,j,W){return P(A(N),k,j,W)}var J=I(Q,4);function ce(k,N,j,W){var ee=S(j);return J(k,N,(te,ie)=>{ee(te,(se,...le)=>se?ie(se):ie(se,le))},(te,ie)=>{for(var se=[],le=0;le<ie.length;le++)ie[le]&&(se=se.concat(...ie[le]));return W(te,se)})}var re=I(ce,4);function ue(k,N,j){return re(k,1/0,N,j)}var Re=I(ue,3);function Ce(k,N,j){return re(k,1,N,j)}var _e=I(Ce,3);function Ze(...k){return function(...N){var j=N.pop();return j(null,...k)}}function ke(k,N){return(j,W,ee,te)=>{var ie=!1,se;let le=S(ee);j(W,(we,tt,gt)=>{le(we,(at,No)=>{if(at||at===!1)return gt(at);if(k(No)&&!se)return ie=!0,se=N(!0,we),gt(null,C);gt()})},we=>{if(we)return te(we);te(null,ie?se:N(!1))})}}function We(k,N,j){return ke(W=>W,(W,ee)=>ee)(K,k,N,j)}var au=I(We,3);function zt(k,N,j,W){return ke(ee=>ee,(ee,te)=>te)(A(N),k,j,W)}var ir=I(zt,4);function y3(k,N,j){return ke(W=>W,(W,ee)=>ee)(A(1),k,N,j)}var ar=I(y3,3);function vr(k){return(N,...j)=>S(N)(...j,(W,...ee)=>{typeof console=="object"&&(W?console.error&&console.error(W):console[k]&&ee.forEach(te=>console[k](te)))})}var Jv=vr("dir");function br(k,N,j){j=L(j);var W=S(k),ee=S(N),te;function ie(le,...we){if(le)return j(le);le!==!1&&(te=we,ee(...we,se))}function se(le,we){if(le)return j(le);if(le!==!1){if(!we)return j(null,...te);W(ie)}}return se(null,!0)}var Yt=I(br,3);function $v(k,N,j){let W=S(N);return Yt(k,(...ee)=>{let te=ee.pop();W(...ee,(ie,se)=>te(ie,!se))},j)}function mr(k){return(N,j,W)=>k(N,W)}function wr(k,N,j){return K(k,mr(S(N)),j)}var Rl=I(wr,3);function Er(k,N,j,W){return A(N)(k,mr(S(j)),W)}var Wt=I(Er,4);function v3(k,N,j){return Wt(k,1,N,j)}var Xt=I(v3,3);function lr(k){return y(k)?k:function(...N){var j=N.pop(),W=!0;N.push((...ee)=>{W?f(()=>j(...ee)):j(...ee)}),k.apply(this,N),W=!1}}function m3(k,N,j){return ke(W=>!W,W=>!W)(K,k,N,j)}var or=I(m3,3);function Sr(k,N,j,W){return ke(ee=>!ee,ee=>!ee)(A(N),k,j,W)}var Pl=I(Sr,4);function Ir(k,N,j){return ke(W=>!W,W=>!W)(ve,k,N,j)}var sr=I(Ir,3);function Zv(k,N,j,W){var ee=new Array(N.length);k(N,(te,ie,se)=>{j(te,(le,we)=>{ee[ie]=!!we,se(le)})},te=>{if(te)return W(te);for(var ie=[],se=0;se<N.length;se++)ee[se]&&ie.push(N[se]);W(null,ie)})}function Qv(k,N,j,W){var ee=[];k(N,(te,ie,se)=>{j(te,(le,we)=>{if(le)return se(le);we&&ee.push({index:ie,value:te}),se(le)})},te=>{if(te)return W(te);W(null,ee.sort((ie,se)=>ie.index-se.index).map(ie=>ie.value))})}function d0(k,N,j,W){var ee=q(N)?Zv:Qv;return ee(k,N,S(j),W)}function em(k,N,j){return d0(K,k,N,j)}var l0=I(em,3);function tm(k,N,j,W){return d0(A(N),k,j,W)}var h0=I(tm,4);function rm(k,N,j){return d0(ve,k,N,j)}var p0=I(rm,3);function nm(k,N){var j=L(N),W=S(lr(k));function ee(te){if(te)return j(te);te!==!1&&W(ee)}return ee()}var Ep=I(nm,2);function im(k,N,j,W){var ee=S(j);return J(k,N,(te,ie)=>{ee(te,(se,le)=>se?ie(se):ie(se,{key:le,val:te}))},(te,ie)=>{for(var se={},{hasOwnProperty:le}=Object.prototype,we=0;we<ie.length;we++)if(ie[we]){var{key:tt}=ie[we],{val:gt}=ie[we];le.call(se,tt)?se[tt].push(gt):se[tt]=[gt]}return W(te,se)})}var g0=I(im,4);function Sp(k,N,j){return g0(k,1/0,N,j)}function Ip(k,N,j){return g0(k,1,N,j)}var Tp=vr("log");function am(k,N,j,W){W=d(W);var ee={},te=S(j);return A(N)(k,(ie,se,le)=>{te(ie,se,(we,tt)=>{if(we)return le(we);ee[se]=tt,le(we)})},ie=>W(ie,ee))}var y0=I(am,4);function Cp(k,N,j){return y0(k,1/0,N,j)}function RM(k,N,j){return y0(k,1,N,j)}function PM(k,N=j=>j){var j=Object.create(null),W=Object.create(null),ee=S(k),te=r((ie,se)=>{var le=N(...ie);le in j?f(()=>se(null,...j[le])):le in W?W[le].push(se):(W[le]=[se],ee(...ie,(we,...tt)=>{we||(j[le]=tt);var gt=W[le];delete W[le];for(var at=0,No=gt.length;at<No;at++)gt[at](we,...tt)}))});return te.memo=j,te.unmemoized=k,te}var _3;a?_3=process.nextTick:i?_3=setImmediate:_3=o;var BM=s(_3),z5=I((k,N,j)=>{var W=q(N)?[]:{};k(N,(ee,te,ie)=>{S(ee)((se,...le)=>{le.length<2&&([le]=le),W[te]=le,ie(se)})},ee=>j(ee,W))},3);function MM(k,N){return z5(K,k,N)}function NM(k,N,j){return z5(A(N),k,j)}function Y5(k,N){var j=S(k);return c0((W,ee)=>{j(W[0],ee)},N,1)}class bie{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(N){let j;for(;N>0&&W5(this.heap[N],this.heap[j=qM(N)]);){let W=this.heap[N];this.heap[N]=this.heap[j],this.heap[j]=W,N=j}}percDown(N){let j;for(;(j=wie(N))<this.heap.length&&(j+1<this.heap.length&&W5(this.heap[j+1],this.heap[j])&&(j=j+1),!W5(this.heap[N],this.heap[j]));){let W=this.heap[N];this.heap[N]=this.heap[j],this.heap[j]=W,N=j}}push(N){N.pushCount=++this.pushCount,this.heap.push(N),this.percUp(this.heap.length-1)}unshift(N){return this.heap.push(N)}shift(){let[N]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),N}toArray(){return[...this]}*[Symbol.iterator](){for(let N=0;N<this.heap.length;N++)yield this.heap[N].data}remove(N){let j=0;for(let W=0;W<this.heap.length;W++)N(this.heap[W])||(this.heap[j]=this.heap[W],j++);this.heap.splice(j);for(let W=qM(this.heap.length-1);W>=0;W--)this.percDown(W);return this}}function wie(k){return(k<<1)+1}function qM(k){return(k+1>>1)-1}function W5(k,N){return k.priority!==N.priority?k.priority<N.priority:k.pushCount<N.pushCount}function FM(k,N){var j=Y5(k,N),{push:W,pushAsync:ee}=j;j._tasks=new bie,j._createTaskItem=({data:ie,priority:se},le)=>({data:ie,priority:se,callback:le});function te(ie,se){return Array.isArray(ie)?ie.map(le=>({data:le,priority:se})):{data:ie,priority:se}}return j.push=function(ie,se=0,le){return W(te(ie,se),le)},j.pushAsync=function(ie,se=0,le){return ee(te(ie,se),le)},delete j.unshift,delete j.unshiftAsync,j}function Eie(k,N){if(N=d(N),!Array.isArray(k))return N(new TypeError("First argument to race must be an array of functions"));if(!k.length)return N();for(var j=0,W=k.length;j<W;j++)S(k[j])(N)}var LM=I(Eie,2);function x3(k,N,j,W){var ee=[...k].reverse();return F(ee,N,j,W)}function b3(k){var N=S(k);return r(function(W,ee){return W.push((te,...ie)=>{let se={};if(te&&(se.error=te),ie.length>0){var le=ie;ie.length<=1&&([le]=ie),se.value=le}ee(null,se)}),N.apply(this,W)})}function UM(k){var N;return Array.isArray(k)?N=k.map(b3):(N={},Object.keys(k).forEach(j=>{N[j]=b3.call(this,k[j])})),N}function X5(k,N,j,W){let ee=S(j);return d0(k,N,(te,ie)=>{ee(te,(se,le)=>{ie(se,!le)})},W)}function Sie(k,N,j){return X5(K,k,N,j)}var kM=I(Sie,3);function Iie(k,N,j,W){return X5(A(N),k,j,W)}var jM=I(Iie,4);function Tie(k,N,j){return X5(ve,k,N,j)}var HM=I(Tie,3);function KM(k){return function(){return k}}let J5=5,VM=0;function w3(k,N,j){var W={times:J5,intervalFunc:KM(VM)};if(arguments.length<3&&typeof k=="function"?(j=N||$e(),N=k):(Cie(W,k),j=j||$e()),typeof N!="function")throw new Error("Invalid arguments for async.retry");var ee=S(N),te=1;function ie(){ee((se,...le)=>{se!==!1&&(se&&te++<W.times&&(typeof W.errorFilter!="function"||W.errorFilter(se))?setTimeout(ie,W.intervalFunc(te-1)):j(se,...le))})}return ie(),j[cn]}function Cie(k,N){if(typeof N=="object")k.times=+N.times||J5,k.intervalFunc=typeof N.interval=="function"?N.interval:KM(+N.interval||VM),k.errorFilter=N.errorFilter;else if(typeof N=="number"||typeof N=="string")k.times=+N||J5;else throw new Error("Invalid arguments for async.retry")}function GM(k,N){N||(N=k,k=null);let j=k&&k.arity||N.length;y(N)&&(j+=1);var W=S(N);return r((ee,te)=>{(ee.length<j-1||te==null)&&(ee.push(te),te=$e());function ie(se){W(...ee,se)}return k?w3(k,ie,te):w3(ie,te),te[cn]})}function zM(k,N){return z5(ve,k,N)}function Aie(k,N,j){return ke(Boolean,W=>W)(K,k,N,j)}var E3=I(Aie,3);function Oie(k,N,j,W){return ke(Boolean,ee=>ee)(A(N),k,j,W)}var S3=I(Oie,4);function Die(k,N,j){return ke(Boolean,W=>W)(ve,k,N,j)}var I3=I(Die,3);function Rie(k,N,j){var W=S(N);return G(k,(te,ie)=>{W(te,(se,le)=>{if(se)return ie(se);ie(se,{value:te,criteria:le})})},(te,ie)=>{if(te)return j(te);j(null,ie.sort(ee).map(se=>se.value))});function ee(te,ie){var se=te.criteria,le=ie.criteria;return se<le?-1:se>le?1:0}}var YM=I(Rie,3);function WM(k,N,j){var W=S(k);return r((ee,te)=>{var ie=!1,se;function le(){var we=k.name||"anonymous",tt=new Error('Callback function "'+we+'" timed out.');tt.code="ETIMEDOUT",j&&(tt.info=j),ie=!0,te(tt)}ee.push((...we)=>{ie||(te(...we),clearTimeout(se))}),se=setTimeout(le,N),W(...ee)})}function Pie(k){for(var N=Array(k);k--;)N[k]=k;return N}function T3(k,N,j,W){var ee=S(j);return J(Pie(k),N,ee,W)}function XM(k,N,j){return T3(k,1/0,N,j)}function JM(k,N,j){return T3(k,1,N,j)}function $M(k,N,j,W){arguments.length<=3&&typeof N=="function"&&(W=j,j=N,N=Array.isArray(k)?[]:{}),W=d(W||$e());var ee=S(j);return K(k,(te,ie,se)=>{ee(N,te,ie,se)},te=>W(te,N)),W[cn]}function Bie(k,N){var j=null,W;return Xt(k,(ee,te)=>{S(ee)((ie,...se)=>{if(ie===!1)return te(ie);se.length<2?[W]=se:W=se,j=ie,te(ie?null:{})})},()=>N(j,W))}var ZM=I(Bie);function QM(k){return(...N)=>(k.unmemoized||k)(...N)}function Mie(k,N,j){j=L(j);var W=S(N),ee=S(k),te=[];function ie(le,...we){if(le)return j(le);te=we,le!==!1&&ee(se)}function se(le,we){if(le)return j(le);if(le!==!1){if(!we)return j(null,...te);W(ie)}}return ee(se)}var om=I(Mie,3);function eN(k,N,j){let W=S(k);return om(ee=>W((te,ie)=>ee(te,!ie)),N,j)}function Nie(k,N){if(N=d(N),!Array.isArray(k))return N(new Error("First argument to waterfall must be an array of functions"));if(!k.length)return N();var j=0;function W(te){var ie=S(k[j++]);ie(...te,L(ee))}function ee(te,...ie){if(te!==!1){if(te||j===k.length)return N(te,...ie);W(ie)}}W([])}var tN=I(Nie),qie={apply:e,applyEach:ye,applyEachSeries:it,asyncify:c,auto:pt,autoInject:iu,cargo:me,cargoQueue:bt,compose:X,concat:Re,concatLimit:re,concatSeries:_e,constant:Ze,detect:au,detectLimit:ir,detectSeries:ar,dir:Jv,doUntil:$v,doWhilst:Yt,each:Rl,eachLimit:Wt,eachOf:K,eachOfLimit:U,eachOfSeries:ve,eachSeries:Xt,ensureAsync:lr,every:or,everyLimit:Pl,everySeries:sr,filter:l0,filterLimit:h0,filterSeries:p0,forever:Ep,groupBy:Sp,groupByLimit:g0,groupBySeries:Ip,log:Tp,map:G,mapLimit:J,mapSeries:Je,mapValues:Cp,mapValuesLimit:y0,mapValuesSeries:RM,memoize:PM,nextTick:BM,parallel:MM,parallelLimit:NM,priorityQueue:FM,queue:Y5,race:LM,reduce:F,reduceRight:x3,reflect:b3,reflectAll:UM,reject:kM,rejectLimit:jM,rejectSeries:HM,retry:w3,retryable:GM,seq:z,series:zM,setImmediate:f,some:E3,someLimit:S3,someSeries:I3,sortBy:YM,timeout:WM,times:XM,timesLimit:T3,timesSeries:JM,transform:$M,tryEach:ZM,unmemoize:QM,until:eN,waterfall:tN,whilst:om,all:or,allLimit:Pl,allSeries:sr,any:E3,anyLimit:S3,anySeries:I3,find:au,findLimit:ir,findSeries:ar,flatMap:Re,flatMapLimit:re,flatMapSeries:_e,forEach:Rl,forEachSeries:Xt,forEachLimit:Wt,forEachOf:K,forEachOfSeries:ve,forEachOfLimit:U,inject:F,foldl:F,foldr:x3,select:l0,selectLimit:h0,selectSeries:p0,wrapSync:c,during:om,doDuring:Yt};t.default=qie,t.apply=e,t.applyEach=ye,t.applyEachSeries=it,t.asyncify=c,t.auto=pt,t.autoInject=iu,t.cargo=me,t.cargoQueue=bt,t.compose=X,t.concat=Re,t.concatLimit=re,t.concatSeries=_e,t.constant=Ze,t.detect=au,t.detectLimit=ir,t.detectSeries=ar,t.dir=Jv,t.doUntil=$v,t.doWhilst=Yt,t.each=Rl,t.eachLimit=Wt,t.eachOf=K,t.eachOfLimit=U,t.eachOfSeries=ve,t.eachSeries=Xt,t.ensureAsync=lr,t.every=or,t.everyLimit=Pl,t.everySeries=sr,t.filter=l0,t.filterLimit=h0,t.filterSeries=p0,t.forever=Ep,t.groupBy=Sp,t.groupByLimit=g0,t.groupBySeries=Ip,t.log=Tp,t.map=G,t.mapLimit=J,t.mapSeries=Je,t.mapValues=Cp,t.mapValuesLimit=y0,t.mapValuesSeries=RM,t.memoize=PM,t.nextTick=BM,t.parallel=MM,t.parallelLimit=NM,t.priorityQueue=FM,t.queue=Y5,t.race=LM,t.reduce=F,t.reduceRight=x3,t.reflect=b3,t.reflectAll=UM,t.reject=kM,t.rejectLimit=jM,t.rejectSeries=HM,t.retry=w3,t.retryable=GM,t.seq=z,t.series=zM,t.setImmediate=f,t.some=E3,t.someLimit=S3,t.someSeries=I3,t.sortBy=YM,t.timeout=WM,t.times=XM,t.timesLimit=T3,t.timesSeries=JM,t.transform=$M,t.tryEach=ZM,t.unmemoize=QM,t.until=eN,t.waterfall=tN,t.whilst=om,t.all=or,t.allLimit=Pl,t.allSeries=sr,t.any=E3,t.anyLimit=S3,t.anySeries=I3,t.find=au,t.findLimit=ir,t.findSeries=ar,t.flatMap=Re,t.flatMapLimit=re,t.flatMapSeries=_e,t.forEach=Rl,t.forEachSeries=Xt,t.forEachLimit=Wt,t.forEachOf=K,t.forEachOfSeries=ve,t.forEachOfLimit=U,t.inject=F,t.foldl=F,t.foldr=x3,t.select=l0,t.selectLimit=h0,t.selectSeries=p0,t.wrapSync=c,t.during=om,t.doDuring=Yt,Object.defineProperty(t,"__esModule",{value:!0})})});var iV=E(Fw=>{"use strict";h();p();Object.defineProperty(Fw,"__esModule",{value:!0});Fw.AsyncEventEmitter=void 0;var Y1e=nV(),W1e=Fie(),cC=class extends W1e.EventEmitter{emit(e,...r){let[n,i]=r,a=this,o=a._events[e]??[];return i===void 0&&typeof n=="function"&&(i=n,n=void 0),(e==="newListener"||e==="removeListener")&&(n={event:n,fn:i},i=void 0),o=Array.isArray(o)?o:[o],(0,Y1e.eachSeries)(o.slice(),function(s,u){let f;if(s.length<2){try{s.call(a,n)}catch(c){f=c}return u(f)}s.call(a,n,u)},i),a.listenerCount(e)>0}once(e,r){let n=this,i;if(typeof r!="function")throw new TypeError("listener must be a function");return r.length>=2?i=function(a,o){n.removeListener(e,i),r(a,o)}:i=function(a){n.removeListener(e,i),r(a,i)},n.on(e,i),n}first(e,r){let n=this._events[e]??[];if(typeof r!="function")throw new TypeError("listener must be a function");return Array.isArray(n)||(this._events[e]=n=[n]),n.unshift(r),this}before(e,r,n){return this.beforeOrAfter(e,r,n)}after(e,r,n){return this.beforeOrAfter(e,r,n,"after")}beforeOrAfter(e,r,n,i){let a=this._events[e]??[],o,s,u=i==="after"?1:0;if(typeof n!="function")throw new TypeError("listener must be a function");if(typeof r!="function")throw new TypeError("target must be a function");for(Array.isArray(a)||(this._events[e]=a=[a]),s=a.length,o=a.length;o--;)if(a[o]===r){s=o+u;break}return a.splice(s,0,n),this}on(e,r){return super.on(e,r)}addListener(e,r){return super.addListener(e,r)}prependListener(e,r){return super.prependListener(e,r)}prependOnceListener(e,r){return super.prependOnceListener(e,r)}removeAllListeners(e){return super.removeAllListeners(e)}removeListener(e,r){return super.removeListener(e,r)}eventNames(){return super.eventNames()}listeners(e){return super.listeners(e)}listenerCount(e){return super.listenerCount(e)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(e){return super.setMaxListeners(e)}};Fw.AsyncEventEmitter=cC});var aV=E(Lw=>{"use strict";h();p();Object.defineProperty(Lw,"__esModule",{value:!0});Lw.Lock=void 0;var dC=class{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(e=>this.promiseResolverQueue.push(e))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;let e=this.promiseResolverQueue.shift();e&&e(!0)}}};Lw.Lock=dC});var oV=E(ft=>{"use strict";h();p();var X1e=ft&&ft.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hd=ft&&ft.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&X1e(e,t,r)};Object.defineProperty(ft,"__esModule",{value:!0});ft.toAscii=ft.stripHexPrefix=ft.padToEven=ft.isHexString=ft.isHexPrefixed=ft.getKeys=ft.getBinarySize=ft.fromUtf8=ft.fromAscii=ft.arrayContainsArray=void 0;hd(Iw(),ft);hd(uC(),ft);hd(ZK(),ft);hd(eV(),ft);hd(Lg(),ft);hd(tV(),ft);hd(iV(),ft);var mf=Fg();Object.defineProperty(ft,"arrayContainsArray",{enumerable:!0,get:function(){return mf.arrayContainsArray}});Object.defineProperty(ft,"fromAscii",{enumerable:!0,get:function(){return mf.fromAscii}});Object.defineProperty(ft,"fromUtf8",{enumerable:!0,get:function(){return mf.fromUtf8}});Object.defineProperty(ft,"getBinarySize",{enumerable:!0,get:function(){return mf.getBinarySize}});Object.defineProperty(ft,"getKeys",{enumerable:!0,get:function(){return mf.getKeys}});Object.defineProperty(ft,"isHexPrefixed",{enumerable:!0,get:function(){return mf.isHexPrefixed}});Object.defineProperty(ft,"isHexString",{enumerable:!0,get:function(){return mf.isHexString}});Object.defineProperty(ft,"padToEven",{enumerable:!0,get:function(){return mf.padToEven}});Object.defineProperty(ft,"stripHexPrefix",{enumerable:!0,get:function(){return mf.stripHexPrefix}});Object.defineProperty(ft,"toAscii",{enumerable:!0,get:function(){return mf.toAscii}});hd(aV(),ft)});var fV=E(_f=>{"use strict";h();p();Object.defineProperty(_f,"__esModule",{value:!0});var n2,Hr=of(),J1e=(Jj(),m0(Xj)),$1e=(n2=L9())&&typeof n2=="object"&&"default"in n2?n2.default:n2,sV=oV(),Uw={ETH_SIGN_REQUEST:new Hr.RegistryType("eth-sign-request",401),ETH_SIGNATURE:new Hr.RegistryType("eth-signature",402),ETH_NFT_ITEM:new Hr.RegistryType("eth-nft-item",403)},{decodeToDataItem:Z1e,RegistryTypes:Q1e}=Hr.extend,jr,pd;(function(t){t[t.requestId=1]="requestId",t[t.signData=2]="signData",t[t.dataType=3]="dataType",t[t.chainId=4]="chainId",t[t.derivationPath=5]="derivationPath",t[t.address=6]="address",t[t.origin=7]="origin"})(jr||(jr={})),(pd=_f.DataType||(_f.DataType={}))[pd.transaction=1]="transaction",pd[pd.typedData=2]="typedData",pd[pd.personalMessage=3]="personalMessage",pd[pd.typedTransaction=4]="typedTransaction";var mc=class extends Hr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Uw.ETH_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSourceFingerprint=()=>this.derivationPath.getSourceFingerprint(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let r={};this.requestId&&(r[jr.requestId]=new Hr.DataItem(this.requestId,Q1e.UUID.getTag())),this.address&&(r[jr.address]=this.address),this.chainId&&(r[jr.chainId]=this.chainId),this.origin&&(r[jr.origin]=this.origin),r[jr.signData]=this.signData,r[jr.dataType]=this.dataType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),r[jr.derivationPath]=n,new Hr.DataItem(r)},this.requestId=e.requestId,this.signData=e.signData,this.dataType=e.dataType,this.chainId=e.chainId,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin}static constructETHRequest(e,r,n,i,a,o,s,u){let f=n.replace(/[m|M]\//,"").split("/"),c=new Hr.CryptoKeypath(f.map(l=>{let g=parseInt(l.replace("'","")),y=!1;return l.endsWith("'")&&(y=!0),new Hr.PathComponent({index:g,hardened:y})}),v.Buffer.from(i,"hex"));return new mc({requestId:a?v.Buffer.from(J1e.parse(a)):void 0,signData:e,dataType:r,derivationPath:c,chainId:o,address:s?v.Buffer.from(s.replace("0x",""),"hex"):void 0,origin:u||void 0})}};mc.fromDataItem=t=>{let e=t.getData(),r=e[jr.signData],n=e[jr.dataType],i=Hr.CryptoKeypath.fromDataItem(e[jr.derivationPath]),a=e[jr.chainId]?e[jr.chainId]:void 0,o=e[jr.address]?e[jr.address]:void 0,s=e[jr.requestId]?e[jr.requestId].getData():void 0;return new mc({requestId:s,signData:r,dataType:n,chainId:a,derivationPath:i,address:o,origin:e[jr.origin]?e[jr.origin]:void 0})},mc.fromCBOR=t=>{let e=Z1e(t);return mc.fromDataItem(e)};var{RegistryTypes:epe,decodeToDataItem:tpe}=Hr.extend,_c;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature",t[t.origin=3]="origin"})(_c||(_c={}));var Nh=class extends Hr.RegistryItem{constructor(e,r,n){super(),this.getRegistryType=()=>Uw.ETH_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let i={};return this.requestId&&(i[_c.requestId]=new Hr.DataItem(this.requestId,epe.UUID.getTag())),this.origin&&(i[_c.origin]=this.origin),i[_c.signature]=this.signature,new Hr.DataItem(i)},this.signature=e,this.requestId=r,this.origin=n}};Nh.fromDataItem=t=>{let e=t.getData(),r=e[_c.signature],n=e[_c.requestId]?e[_c.requestId].getData():void 0;return new Nh(r,n,e[_c.origin])},Nh.fromCBOR=t=>{let e=tpe(t);return Nh.fromDataItem(e)};var{decodeToDataItem:rpe}=Hr.extend,Xo;(function(t){t[t.chainId=1]="chainId",t[t.contractAddress=2]="contractAddress",t[t.contractName=3]="contractName",t[t.name=4]="name",t[t.mediaData=5]="mediaData"})(Xo||(Xo={}));var xc=class extends Hr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Uw.ETH_NFT_ITEM,this.getChainId=()=>this.chainId,this.getName=()=>this.name,this.getmediaData=()=>this.mediaData,this.getContractAddress=()=>this.contractAddress,this.getContractName=()=>this.contractName,this.toDataItem=()=>{let r={};return r[Xo.chainId]=this.chainId,r[Xo.name]=this.name,r[Xo.contractAddress]=this.contractAddress,r[Xo.contractName]=this.contractName,r[Xo.mediaData]=this.mediaData,new Hr.DataItem(r)},this.chainId=e.chainId,this.name=e.name,this.contractAddress=e.contractAddress,this.contractName=e.contractName,this.mediaData=e.mediaData}static constructETHNFTItem(e,r,n,i,a){return new xc({chainId:e,contractAddress:r,contractName:n,mediaData:a,name:i})}};xc.fromDataItem=t=>{let e=t.getData();return new xc({chainId:e[Xo.chainId],name:e[Xo.name],contractAddress:e[Xo.contractAddress],contractName:e[Xo.contractName],mediaData:e[Xo.mediaData]})},xc.fromCBOR=t=>{let e=rpe(t);return xc.fromDataItem(e)};var uV=(t,e)=>{let r=$1e.fromExtendedKey(t).derive(e),n="0x"+sV.publicToAddress(r.publicKey,!0).toString("hex");return sV.toChecksumAddress(n)};Hr.patchTags(Object.values(Uw).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(Hr).forEach(function(t){t!=="default"&&Object.defineProperty(_f,t,{enumerable:!0,get:function(){return Hr[t]}})}),_f.ETHNFTItem=xc,_f.ETHSignature=Nh,_f.EthSignRequest=mc,_f.findHDPathFromAddress=(t,e,r,n)=>{for(let i=0;i<r;i++){let a=uV(e,"M/0/"+i);if(t.toLowerCase()==a.toLowerCase())return`${n}/0/${i}`}return null},_f.generateAddressFromXpub=uV});var dV=E((xWe,cV)=>{"use strict";h();p();cV.exports=fV()});var lV=E(jw=>{"use strict";h();p();Object.defineProperty(jw,"__esModule",{value:!0});jw.KeystoneEthereumSDK=void 0;var i2=dV(),qh=Tn(),npe=qa(),kw=class{constructor(e){this.config=e}parseSignature(e){if(e.type!==npe.URType.EthSignature)throw new Error("type not match");let r=i2.ETHSignature.fromCBOR(e.cbor),n=r.getRequestId();return{requestId:n===void 0?void 0:(0,qh.uuidStringify)(n),signature:(0,qh.toHex)(r.getSignature()),origin:r.getOrigin()}}generateSignRequest({requestId:e,signData:r,dataType:n,path:i,xfp:a,chainId:o,address:s,origin:u}){var f;return new i2.EthSignRequest({requestId:(0,qh.uuidParse)(e),signData:(0,qh.toBuffer)(r),dataType:n,derivationPath:new i2.CryptoKeypath((0,qh.parsePath)(i).map(c=>new i2.PathComponent(c)),(0,qh.toBuffer)(a)),chainId:o,address:s!==void 0?(0,qh.toBuffer)(s):void 0,origin:u??((f=this.config)===null||f===void 0?void 0:f.origin)}).toUR()}};kw.DataType=i2.DataType;jw.KeystoneEthereumSDK=kw});function a2(){if(!Hw&&(Hw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Hw))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hw(ipe)}var Hw,ipe,lC=fe(()=>{h();p();ipe=new Uint8Array(16)});var hV,pV=fe(()=>{h();p();hV=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function ape(t){return typeof t=="string"&&hV.test(t)}var gd,o2=fe(()=>{h();p();pV();gd=ape});function ope(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Mn[t[e+0]]+Mn[t[e+1]]+Mn[t[e+2]]+Mn[t[e+3]]+"-"+Mn[t[e+4]]+Mn[t[e+5]]+"-"+Mn[t[e+6]]+Mn[t[e+7]]+"-"+Mn[t[e+8]]+Mn[t[e+9]]+"-"+Mn[t[e+10]]+Mn[t[e+11]]+Mn[t[e+12]]+Mn[t[e+13]]+Mn[t[e+14]]+Mn[t[e+15]]).toLowerCase();if(!gd(r))throw TypeError("Stringified UUID is invalid");return r}var Mn,Kw,yd,s2=fe(()=>{h();p();o2();Mn=[];for(Kw=0;Kw<256;++Kw)Mn.push((Kw+256).toString(16).substr(1));yd=ope});function spe(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var a=t.node||gV,o=t.clockseq!==void 0?t.clockseq:hC;if(a==null||o==null){var s=t.random||(t.rng||a2)();a==null&&(a=gV=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=hC=(s[6]<<8|s[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:gC+1,c=u-pC+(f-gC)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||u>pC)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");pC=u,gC=f,hC=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||yd(i)}var gV,hC,pC,gC,yV,vV=fe(()=>{h();p();lC();s2();pC=0,gC=0;yV=spe});function upe(t){if(!gd(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Vw,yC=fe(()=>{h();p();o2();Vw=upe});function fpe(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Gw(t,e,r){function n(i,a,o,s){if(typeof i=="string"&&(i=fpe(i)),typeof a=="string"&&(a=Vw(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return yd(u)}try{n.name=t}catch{}return n.DNS=cpe,n.URL=dpe,n}var cpe,dpe,vC=fe(()=>{h();p();s2();yC();cpe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",dpe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function lpe(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return hpe(ppe(gpe(t),t.length*8))}function hpe(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var a=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function mV(t){return(t+64>>>9<<4)+14+1}function ppe(t,e){t[e>>5]|=128<<e%32,t[mV(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=r,u=n,f=i,c=a;r=bi(r,n,i,a,t[o],7,-680876936),a=bi(a,r,n,i,t[o+1],12,-389564586),i=bi(i,a,r,n,t[o+2],17,606105819),n=bi(n,i,a,r,t[o+3],22,-1044525330),r=bi(r,n,i,a,t[o+4],7,-176418897),a=bi(a,r,n,i,t[o+5],12,1200080426),i=bi(i,a,r,n,t[o+6],17,-1473231341),n=bi(n,i,a,r,t[o+7],22,-45705983),r=bi(r,n,i,a,t[o+8],7,1770035416),a=bi(a,r,n,i,t[o+9],12,-1958414417),i=bi(i,a,r,n,t[o+10],17,-42063),n=bi(n,i,a,r,t[o+11],22,-1990404162),r=bi(r,n,i,a,t[o+12],7,1804603682),a=bi(a,r,n,i,t[o+13],12,-40341101),i=bi(i,a,r,n,t[o+14],17,-1502002290),n=bi(n,i,a,r,t[o+15],22,1236535329),r=wi(r,n,i,a,t[o+1],5,-165796510),a=wi(a,r,n,i,t[o+6],9,-1069501632),i=wi(i,a,r,n,t[o+11],14,643717713),n=wi(n,i,a,r,t[o],20,-373897302),r=wi(r,n,i,a,t[o+5],5,-701558691),a=wi(a,r,n,i,t[o+10],9,38016083),i=wi(i,a,r,n,t[o+15],14,-660478335),n=wi(n,i,a,r,t[o+4],20,-405537848),r=wi(r,n,i,a,t[o+9],5,568446438),a=wi(a,r,n,i,t[o+14],9,-1019803690),i=wi(i,a,r,n,t[o+3],14,-187363961),n=wi(n,i,a,r,t[o+8],20,1163531501),r=wi(r,n,i,a,t[o+13],5,-1444681467),a=wi(a,r,n,i,t[o+2],9,-51403784),i=wi(i,a,r,n,t[o+7],14,1735328473),n=wi(n,i,a,r,t[o+12],20,-1926607734),r=Ei(r,n,i,a,t[o+5],4,-378558),a=Ei(a,r,n,i,t[o+8],11,-2022574463),i=Ei(i,a,r,n,t[o+11],16,1839030562),n=Ei(n,i,a,r,t[o+14],23,-35309556),r=Ei(r,n,i,a,t[o+1],4,-1530992060),a=Ei(a,r,n,i,t[o+4],11,1272893353),i=Ei(i,a,r,n,t[o+7],16,-155497632),n=Ei(n,i,a,r,t[o+10],23,-1094730640),r=Ei(r,n,i,a,t[o+13],4,681279174),a=Ei(a,r,n,i,t[o],11,-358537222),i=Ei(i,a,r,n,t[o+3],16,-722521979),n=Ei(n,i,a,r,t[o+6],23,76029189),r=Ei(r,n,i,a,t[o+9],4,-640364487),a=Ei(a,r,n,i,t[o+12],11,-421815835),i=Ei(i,a,r,n,t[o+15],16,530742520),n=Ei(n,i,a,r,t[o+2],23,-995338651),r=Si(r,n,i,a,t[o],6,-198630844),a=Si(a,r,n,i,t[o+7],10,1126891415),i=Si(i,a,r,n,t[o+14],15,-1416354905),n=Si(n,i,a,r,t[o+5],21,-57434055),r=Si(r,n,i,a,t[o+12],6,1700485571),a=Si(a,r,n,i,t[o+3],10,-1894986606),i=Si(i,a,r,n,t[o+10],15,-1051523),n=Si(n,i,a,r,t[o+1],21,-2054922799),r=Si(r,n,i,a,t[o+8],6,1873313359),a=Si(a,r,n,i,t[o+15],10,-30611744),i=Si(i,a,r,n,t[o+6],15,-1560198380),n=Si(n,i,a,r,t[o+13],21,1309151649),r=Si(r,n,i,a,t[o+4],6,-145523070),a=Si(a,r,n,i,t[o+11],10,-1120210379),i=Si(i,a,r,n,t[o+2],15,718787259),n=Si(n,i,a,r,t[o+9],21,-343485551),r=vd(r,s),n=vd(n,u),i=vd(i,f),a=vd(a,c)}return[r,n,i,a]}function gpe(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(mV(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function vd(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function ype(t,e){return t<<e|t>>>32-e}function zw(t,e,r,n,i,a){return vd(ype(vd(vd(e,t),vd(n,a)),i),r)}function bi(t,e,r,n,i,a,o){return zw(e&r|~e&n,t,e,i,a,o)}function wi(t,e,r,n,i,a,o){return zw(e&n|r&~n,t,e,i,a,o)}function Ei(t,e,r,n,i,a,o){return zw(e^r^n,t,e,i,a,o)}function Si(t,e,r,n,i,a,o){return zw(r^(e|~n),t,e,i,a,o)}var _V,xV=fe(()=>{h();p();_V=lpe});var vpe,bV,wV=fe(()=>{h();p();vC();xV();vpe=Gw("v3",48,_V),bV=vpe});function mpe(t,e,r){t=t||{};var n=t.random||(t.rng||a2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return yd(n)}var EV,SV=fe(()=>{h();p();lC();s2();EV=mpe});function _pe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function mC(t,e){return t<<e|t>>>32-e}function xpe(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=t[u*64+c*4]<<24|t[u*64+c*4+1]<<16|t[u*64+c*4+2]<<8|t[u*64+c*4+3];s[u]=f}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=mC(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=r[0],S=r[1],I=r[2],O=r[3],P=r[4],q=0;q<80;++q){var C=Math.floor(q/20),d=mC(w,5)+_pe(C,S,I,O)+P+e[C]+g[q]>>>0;P=O,O=I,I=mC(S,30)>>>0,S=w,w=d}r[0]=r[0]+w>>>0,r[1]=r[1]+S>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var IV,TV=fe(()=>{h();p();IV=xpe});var bpe,CV,AV=fe(()=>{h();p();vC();TV();bpe=Gw("v5",80,IV),CV=bpe});var OV,DV=fe(()=>{h();p();OV="00000000-0000-0000-0000-000000000000"});function wpe(t){if(!gd(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var RV,PV=fe(()=>{h();p();o2();RV=wpe});var BV={};v0(BV,{NIL:()=>OV,parse:()=>Vw,stringify:()=>yd,v1:()=>yV,v3:()=>bV,v4:()=>EV,v5:()=>CV,validate:()=>gd,version:()=>RV});var MV=fe(()=>{h();p();vV();wV();SV();AV();DV();PV();o2();s2();yC()});var NV=E(md=>{"use strict";h();p();Object.defineProperty(md,"__esModule",{value:!0});var Kr=of(),Epe=(MV(),m0(BV)),Ww={SOL_SIGN_REQUEST:new Kr.RegistryType("sol-sign-request",1101),SOL_SIGNATURE:new Kr.RegistryType("sol-signature",1102),SOL_NFT_ITEM:new Kr.RegistryType("sol-nft-item",1104)},{decodeToDataItem:Spe,RegistryTypes:Ipe}=Kr.extend,Yw,Nn;(Yw=md.SignType||(md.SignType={}))[Yw.Transaction=1]="Transaction",Yw[Yw.Message=2]="Message",function(t){t[t.requestId=1]="requestId",t[t.signData=2]="signData",t[t.derivationPath=3]="derivationPath",t[t.address=4]="address",t[t.origin=5]="origin",t[t.signType=6]="signType"}(Nn||(Nn={}));var wc=class extends Kr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Ww.SOL_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{let r={};this.requestId&&(r[Nn.requestId]=new Kr.DataItem(this.requestId,Ipe.UUID.getTag())),this.address&&(r[Nn.address]=this.address),this.origin&&(r[Nn.origin]=this.origin),r[Nn.signData]=this.signData,r[Nn.signType]=this.signType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),r[Nn.derivationPath]=n,new Kr.DataItem(r)},this.requestId=e.requestId,this.signData=e.signData,this.derivationPath=e.derivationPath,this.address=e.address,this.origin=e.origin,this.signType=e.signType}static constructSOLRequest(e,r,n,i,a,o,s){let u=r.replace(/[m|M]\//,"").split("/"),f=new Kr.CryptoKeypath(u.map(c=>{let l=parseInt(c.replace("'","")),g=!1;return c.endsWith("'")&&(g=!0),new Kr.PathComponent({index:l,hardened:g})}),v.Buffer.from(n,"hex"));return new wc({requestId:a?v.Buffer.from(Epe.parse(a)):void 0,signData:e,derivationPath:f,address:o?v.Buffer.from(o.replace("0x",""),"hex"):void 0,origin:s||void 0,signType:i})}};wc.fromDataItem=t=>{let e=t.getData(),r=e[Nn.signData],n=Kr.CryptoKeypath.fromDataItem(e[Nn.derivationPath]),i=e[Nn.address]?e[Nn.address]:void 0,a=e[Nn.requestId]?e[Nn.requestId].getData():void 0;return new wc({requestId:a,signData:r,derivationPath:n,address:i,origin:e[Nn.origin]?e[Nn.origin]:void 0,signType:e[Nn.signType]})},wc.fromCBOR=t=>{let e=Spe(t);return wc.fromDataItem(e)};var{RegistryTypes:Tpe,decodeToDataItem:Cpe}=Kr.extend,Lh;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature"})(Lh||(Lh={}));var Fh=class extends Kr.RegistryItem{constructor(e,r){super(),this.getRegistryType=()=>Ww.SOL_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[Lh.requestId]=new Kr.DataItem(this.requestId,Tpe.UUID.getTag())),n[Lh.signature]=this.signature,new Kr.DataItem(n)},this.signature=e,this.requestId=r}};Fh.fromDataItem=t=>{let e=t.getData(),r=e[Lh.signature],n=e[Lh.requestId]?e[Lh.requestId].getData():void 0;return new Fh(r,n)},Fh.fromCBOR=t=>{let e=Cpe(t);return Fh.fromDataItem(e)};var{decodeToDataItem:Ape}=Kr.extend,xf;(function(t){t[t.mintAddress=1]="mintAddress",t[t.collectionName=2]="collectionName",t[t.name=3]="name",t[t.mediaData=4]="mediaData"})(xf||(xf={}));var bc=class extends Kr.RegistryItem{constructor(e){super(),this.getRegistryType=()=>Ww.SOL_NFT_ITEM,this.getName=()=>this.name,this.getMediaData=()=>this.mediaData,this.getMintAddress=()=>this.mintAddress,this.getCollectionName=()=>this.collectionName,this.toDataItem=()=>{let r={};return r[xf.name]=this.name,r[xf.mintAddress]=this.mintAddress,r[xf.collectionName]=this.collectionName,r[xf.mediaData]=this.mediaData,new Kr.DataItem(r)},this.name=e.name,this.mintAddress=e.mintAddress,this.collectionName=e.collectionName,this.mediaData=e.mediaData}static constructETHNFTItem(e,r,n,i){return new bc({mintAddress:e,collectionName:r,mediaData:i,name:n})}};bc.fromDataItem=t=>{let e=t.getData();return new bc({name:e[xf.name],mintAddress:e[xf.mintAddress],collectionName:e[xf.collectionName],mediaData:e[xf.mediaData]})},bc.fromCBOR=t=>{let e=Ape(t);return bc.fromDataItem(e)},Kr.patchTags(Object.values(Ww).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(Kr).forEach(function(t){t!=="default"&&Object.defineProperty(md,t,{enumerable:!0,get:function(){return Kr[t]}})}),md.SOLNFTItem=bc,md.SolSignRequest=wc,md.SolSignature=Fh});var FV=E((HXe,qV)=>{"use strict";h();p();qV.exports=NV()});var LV=E(Jw=>{"use strict";h();p();Object.defineProperty(Jw,"__esModule",{value:!0});Jw.KeystoneSolanaSDK=void 0;var u2=FV(),Uh=Tn(),Ope=qa(),Xw=class{parseSignature(e){if(e.type!==Ope.URType.SolSignature)throw new Error("type not match");let r=u2.SolSignature.fromCBOR(e.cbor),n=r.getRequestId();return{requestId:n===void 0?void 0:(0,Uh.uuidStringify)(n),signature:(0,Uh.toHex)(r.getSignature())}}generateSignRequest({requestId:e,signData:r,dataType:n,path:i,xfp:a,address:o,origin:s}){return new u2.SolSignRequest({requestId:(0,Uh.uuidParse)(e),signData:(0,Uh.toBuffer)(r),signType:n,derivationPath:new u2.CryptoKeypath((0,Uh.parsePath)(i).map(u=>new u2.PathComponent(u)),(0,Uh.toBuffer)(a)),address:o!==void 0?(0,Uh.toBuffer)(o):void 0,origin:s}).toUR()}};Xw.DataType=u2.SignType;Jw.KeystoneSolanaSDK=Xw});var KV=E(ga=>{"use strict";h();p();Object.defineProperty(ga,"__esModule",{value:!0});ga.output=ga.exists=ga.hash=ga.bytes=ga.bool=ga.number=void 0;function $w(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}ga.number=$w;function UV(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}ga.bool=UV;function _C(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}ga.bytes=_C;function kV(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");$w(t.outputLen),$w(t.blockLen)}ga.hash=kV;function jV(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}ga.exists=jV;function HV(t,e){_C(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}ga.output=HV;var Dpe={number:$w,bool:UV,bytes:_C,hash:kV,exists:jV,output:HV};ga.default=Dpe});var VV=E(Zw=>{"use strict";h();p();Object.defineProperty(Zw,"__esModule",{value:!0});Zw.crypto=void 0;Zw.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var EC=E(ze=>{"use strict";h();p();Object.defineProperty(ze,"__esModule",{value:!0});ze.randomBytes=ze.wrapConstructorWithOpts=ze.wrapConstructor=ze.checkOpts=ze.Hash=ze.concatBytes=ze.toBytes=ze.utf8ToBytes=ze.asyncLoop=ze.nextTick=ze.hexToBytes=ze.bytesToHex=ze.isLE=ze.rotr=ze.createView=ze.u32=ze.u8=void 0;var xC=VV(),Rpe=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);ze.u8=Rpe;var Ppe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));ze.u32=Ppe;var Bpe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);ze.createView=Bpe;var Mpe=(t,e)=>t<<32-e|t>>>e;ze.rotr=Mpe;ze.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ze.isLE)throw new Error("Non little-endian hardware is not supported");var Npe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function qpe(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Npe[t[r]];return e}ze.bytesToHex=qpe;function Fpe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),a=Number.parseInt(i,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[r]=a}return e}ze.hexToBytes=Fpe;var Lpe=async()=>{};ze.nextTick=Lpe;async function Upe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let a=Date.now()-n;a>=0&&a<e||(await(0,ze.nextTick)(),n+=a)}}ze.asyncLoop=Upe;function GV(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}ze.utf8ToBytes=GV;function wC(t){if(typeof t=="string"&&(t=GV(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}ze.toBytes=wC;function kpe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let a=t[n];r.set(a,i),i+=a.length}return r}ze.concatBytes=kpe;var bC=class{clone(){return this._cloneInto()}};ze.Hash=bC;var jpe=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Hpe(t,e){if(e!==void 0&&(typeof e!="object"||!jpe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}ze.checkOpts=Hpe;function Kpe(t){let e=n=>t().update(wC(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}ze.wrapConstructor=Kpe;function Vpe(t){let e=(n,i)=>t(i).update(wC(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}ze.wrapConstructorWithOpts=Vpe;function Gpe(t=32){if(xC.crypto&&typeof xC.crypto.getRandomValues=="function")return xC.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}ze.randomBytes=Gpe});var zV=E(Qw=>{"use strict";h();p();Object.defineProperty(Qw,"__esModule",{value:!0});Qw.SHA2=void 0;var SC=KV(),f2=EC();function zpe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),a=BigInt(4294967295),o=Number(r>>i&a),s=Number(r&a),u=n?4:0,f=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+f,s,n)}var IC=class extends f2.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,f2.createView)(this.buffer)}update(e){SC.default.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=(0,f2.toBytes)(e);let a=e.length;for(let o=0;o<a;){let s=Math.min(i-this.pos,a-o);if(s===i){let u=(0,f2.createView)(e);for(;i<=a-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){SC.default.exists(this),SC.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:a}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let l=o;l<i;l++)r[l]=0;zpe(n,i-8,BigInt(this.length*8),a),this.process(n,0);let s=(0,f2.createView)(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let f=u/4,c=this.get();if(f>c.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<f;l++)s.setUint32(4*l,c[l],a)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:a,destroyed:o,pos:s}=this;return e.length=i,e.pos=s,e.finished=a,e.destroyed=o,i%r&&e.buffer.set(n),e}};Qw.SHA2=IC});var YV=E(Kg=>{"use strict";h();p();Object.defineProperty(Kg,"__esModule",{value:!0});Kg.sha224=Kg.sha256=void 0;var Ype=zV(),Jo=EC(),Wpe=(t,e,r)=>t&e^~t&r,Xpe=(t,e,r)=>t&e^t&r^e&r,Jpe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),_d=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),xd=new Uint32Array(64),e6=class extends Ype.SHA2{constructor(){super(64,32,8,!1),this.A=_d[0]|0,this.B=_d[1]|0,this.C=_d[2]|0,this.D=_d[3]|0,this.E=_d[4]|0,this.F=_d[5]|0,this.G=_d[6]|0,this.H=_d[7]|0}get(){let{A:e,B:r,C:n,D:i,E:a,F:o,G:s,H:u}=this;return[e,r,n,i,a,o,s,u]}set(e,r,n,i,a,o,s,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=u|0}process(e,r){for(let l=0;l<16;l++,r+=4)xd[l]=e.getUint32(r,!1);for(let l=16;l<64;l++){let g=xd[l-15],y=xd[l-2],_=(0,Jo.rotr)(g,7)^(0,Jo.rotr)(g,18)^g>>>3,w=(0,Jo.rotr)(y,17)^(0,Jo.rotr)(y,19)^y>>>10;xd[l]=w+xd[l-7]+_+xd[l-16]|0}let{A:n,B:i,C:a,D:o,E:s,F:u,G:f,H:c}=this;for(let l=0;l<64;l++){let g=(0,Jo.rotr)(s,6)^(0,Jo.rotr)(s,11)^(0,Jo.rotr)(s,25),y=c+g+Wpe(s,u,f)+Jpe[l]+xd[l]|0,w=((0,Jo.rotr)(n,2)^(0,Jo.rotr)(n,13)^(0,Jo.rotr)(n,22))+Xpe(n,i,a)|0;c=f,f=u,u=s,s=o+y|0,o=a,a=i,i=n,n=y+w|0}n=n+this.A|0,i=i+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,u=u+this.F|0,f=f+this.G|0,c=c+this.H|0,this.set(n,i,a,o,s,u,f,c)}roundClean(){xd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},TC=class extends e6{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Kg.sha256=(0,Jo.wrapConstructor)(()=>new e6);Kg.sha224=(0,Jo.wrapConstructor)(()=>new TC)});var XV=E((fJe,WV)=>{"use strict";h();p();var CC=Qie();WV.exports=function(t){function e(a){var o=Uint8Array.from(a),s=t(o),u=o.length+4,f=new Uint8Array(u);return f.set(o,0),f.set(s.subarray(0,4),o.length),CC.encode(f,u)}function r(a){var o=a.slice(0,-4),s=a.slice(-4),u=t(o);if(!(s[0]^u[0]|s[1]^u[1]|s[2]^u[2]|s[3]^u[3]))return o}function n(a){var o=CC.decodeUnsafe(a);if(!!o)return r(o)}function i(a){var o=CC.decode(a),s=r(o,t);if(!s)throw new Error("Invalid checksum");return s}return{encode:e,decode:i,decodeUnsafe:n}}});var ZV=E((lJe,$V)=>{"use strict";h();p();var{sha256:JV}=YV(),$pe=XV();function Zpe(t){return JV(JV(t))}$V.exports=$pe(Zpe)});var yu=E(bf=>{"use strict";h();p();Object.defineProperty(bf,"__esModule",{value:!0});bf.assertFloat32=bf.assertUInt32=bf.assertInt32=bf.assert=void 0;function Qpe(t,e){if(!t)throw new Error(e)}bf.assert=Qpe;var ege=34028234663852886e22,tge=-34028234663852886e22,rge=4294967295,nge=2147483647,ige=-2147483648;function age(t){if(typeof t!="number")throw new Error("invalid int 32: "+typeof t);if(!Number.isInteger(t)||t>nge||t<ige)throw new Error("invalid int 32: "+t)}bf.assertInt32=age;function oge(t){if(typeof t!="number")throw new Error("invalid uint 32: "+typeof t);if(!Number.isInteger(t)||t>rge||t<0)throw new Error("invalid uint 32: "+t)}bf.assertUInt32=oge;function sge(t){if(typeof t!="number")throw new Error("invalid float 32: "+typeof t);if(!!Number.isFinite(t)&&(t>ege||t<tge))throw new Error("invalid float 32: "+t)}bf.assertFloat32=sge});var t6=E(wf=>{"use strict";h();p();Object.defineProperty(wf,"__esModule",{value:!0});wf.makeEnum=wf.makeEnumType=wf.setEnumType=wf.getEnumType=void 0;var uge=yu(),QV=Symbol("@bufbuild/protobuf/enum-type");function fge(t){let e=t[QV];return(0,uge.assert)(e,"missing enum type on enum object"),e}wf.getEnumType=fge;function eG(t,e,r,n){t[QV]=tG(e,r.map(i=>({no:i.no,name:i.name,localName:t[i.no]})),n)}wf.setEnumType=eG;function tG(t,e,r){let n=Object.create(null),i=Object.create(null),a=[];for(let o of e){let s=rG(o);a.push(s),n[o.name]=s,i[o.no]=s}return{typeName:t,values:a,findName(o){return n[o]},findNumber(o){return i[o]}}}wf.makeEnumType=tG;function cge(t,e,r){let n={};for(let i of e){let a=rG(i);n[a.localName]=a.no,n[a.no]=a.localName}return eG(n,t,e,r),n}wf.makeEnum=cge;function rG(t){return"localName"in t?t:Object.assign(Object.assign({},t),{localName:t.name})}});var rn=E(r6=>{"use strict";h();p();Object.defineProperty(r6,"__esModule",{value:!0});r6.Message=void 0;var AC=class{equals(e){return this.getType().runtime.util.equals(this.getType(),this,e)}clone(){return this.getType().runtime.util.clone(this)}fromBinary(e,r){let n=this.getType(),i=n.runtime.bin,a=i.makeReadOptions(r);return i.readMessage(this,a.readerFactory(e),e.byteLength,a),this}fromJson(e,r){let n=this.getType(),i=n.runtime.json,a=i.makeReadOptions(r);return i.readMessage(n,e,a,this),this}fromJsonString(e,r){let n;try{n=JSON.parse(e)}catch(i){throw new Error(`cannot decode ${this.getType().typeName} from JSON: ${i instanceof Error?i.message:String(i)}`)}return this.fromJson(n,r)}toBinary(e){let r=this.getType(),n=r.runtime.bin,i=n.makeWriteOptions(e),a=i.writerFactory();return n.writeMessage(this,a,i),a.finish()}toJson(e){let r=this.getType(),n=r.runtime.json,i=n.makeWriteOptions(e);return n.writeMessage(this,i)}toJsonString(e){var r;let n=this.toJson(e);return JSON.stringify(n,null,(r=e?.prettySpaces)!==null&&r!==void 0?r:0)}toJSON(){return this.toJson({emitDefaultValues:!0})}getType(){return Object.getPrototypeOf(this).constructor}};r6.Message=AC});var nG=E(n6=>{"use strict";h();p();Object.defineProperty(n6,"__esModule",{value:!0});n6.makeMessageType=void 0;var dge=rn();function lge(t,e,r,n){var i;let a=(i=n?.localName)!==null&&i!==void 0?i:e.substring(e.lastIndexOf(".")+1),o={[a]:function(s){t.util.initFields(this),t.util.initPartial(s,this)}}[a];return Object.setPrototypeOf(o.prototype,new dge.Message),Object.assign(o,{runtime:t,typeName:e,fields:t.util.newFieldList(r),fromBinary(s,u){return new o().fromBinary(s,u)},fromJson(s,u){return new o().fromJson(s,u)},fromJsonString(s,u){return new o().fromJsonString(s,u)},equals(s,u){return t.util.equals(o,s,u)}}),o}n6.makeMessageType=lge});var DC=E(i6=>{"use strict";h();p();Object.defineProperty(i6,"__esModule",{value:!0});i6.makeProtoRuntime=void 0;var OC=t6(),hge=nG();function pge(t,e,r,n){return{syntax:t,json:e,bin:r,util:n,makeMessageType(i,a,o){return(0,hge.makeMessageType)(this,i,a,o)},makeEnum:OC.makeEnum,makeEnumType:OC.makeEnumType,getEnumType:OC.getEnumType}}i6.makeProtoRuntime=pge});var uo=E(c2=>{"use strict";h();p();Object.defineProperty(c2,"__esModule",{value:!0});c2.ScalarType=void 0;var gge;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(gge=c2.ScalarType||(c2.ScalarType={}))});var PC=E(Ii=>{"use strict";h();p();Object.defineProperty(Ii,"__esModule",{value:!0});Ii.varint32read=Ii.varint32write=Ii.uInt64ToString=Ii.int64ToString=Ii.int64FromString=Ii.varint64write=Ii.varint64read=void 0;function yge(){let t=0,e=0;for(let n=0;n<28;n+=7){let i=this.buf[this.pos++];if(t|=(i&127)<<n,(i&128)==0)return this.assertBounds(),[t,e]}let r=this.buf[this.pos++];if(t|=(r&15)<<28,e=(r&112)>>4,(r&128)==0)return this.assertBounds(),[t,e];for(let n=3;n<=31;n+=7){let i=this.buf[this.pos++];if(e|=(i&127)<<n,(i&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}Ii.varint64read=yge;function vge(t,e,r){for(let a=0;a<28;a=a+7){let o=t>>>a,s=!(o>>>7==0&&e==0),u=(s?o|128:o)&255;if(r.push(u),!s)return}let n=t>>>28&15|(e&7)<<4,i=e>>3!=0;if(r.push((i?n|128:n)&255),!!i){for(let a=3;a<31;a=a+7){let o=e>>>a,s=o>>>7!=0,u=(s?o|128:o)&255;if(r.push(u),!s)return}r.push(e>>>31&1)}}Ii.varint64write=vge;var a6=4294967296;function mge(t){let e=t[0]==="-";e&&(t=t.slice(1));let r=1e6,n=0,i=0;function a(o,s){let u=Number(t.slice(o,s));i*=r,n=n*r+u,n>=a6&&(i=i+(n/a6|0),n=n%a6)}return a(-24,-18),a(-18,-12),a(-12,-6),a(-6),e?oG(n,i):RC(n,i)}Ii.int64FromString=mge;function _ge(t,e){let r=RC(t,e),n=r.hi&2147483648;n&&(r=oG(r.lo,r.hi));let i=aG(r.lo,r.hi);return n?"-"+i:i}Ii.int64ToString=_ge;function aG(t,e){if({lo:t,hi:e}=xge(t,e),e<=2097151)return String(a6*e+t);let r=t&16777215,n=(t>>>24|e<<8)&16777215,i=e>>16&65535,a=r+n*6777216+i*6710656,o=n+i*8147497,s=i*2,u=1e7;return a>=u&&(o+=Math.floor(a/u),a%=u),o>=u&&(s+=Math.floor(o/u),o%=u),s.toString()+iG(o)+iG(a)}Ii.uInt64ToString=aG;function xge(t,e){return{lo:t>>>0,hi:e>>>0}}function RC(t,e){return{lo:t|0,hi:e|0}}function oG(t,e){return e=~e,t?t=~t+1:e+=1,RC(t,e)}var iG=t=>{let e=String(t);return"0000000".slice(e.length)+e};function bge(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let r=0;r<9;r++)e.push(t&127|128),t=t>>7;e.push(1)}}Ii.varint32write=bge;function wge(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let r=5;(t&128)!==0&&r<10;r++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}Ii.varint32read=wge});var Ec=E(s6=>{"use strict";h();p();Object.defineProperty(s6,"__esModule",{value:!0});s6.protoInt64=void 0;var sG=yu(),o6=PC();function Ege(){let t=new DataView(new ArrayBuffer(8));if(globalThis.BigInt!==void 0&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let i=BigInt("-9223372036854775808"),a=BigInt("9223372036854775807"),o=BigInt("0"),s=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){let f=typeof u=="bigint"?u:BigInt(u);if(f>a||f<i)throw new Error(`int64 invalid: ${u}`);return f},uParse(u){let f=typeof u=="bigint"?u:BigInt(u);if(f>s||f<o)throw new Error(`uint64 invalid: ${u}`);return f},enc(u){return t.setBigInt64(0,this.parse(u),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(u){return t.setBigInt64(0,this.uParse(u),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(u,f){return t.setInt32(0,u,!0),t.setInt32(4,f,!0),t.getBigInt64(0,!0)},uDec(u,f){return t.setInt32(0,u,!0),t.setInt32(4,f,!0),t.getBigUint64(0,!0)}}}let r=i=>(0,sG.assert)(/^-?[0-9]+$/.test(i),`int64 invalid: ${i}`),n=i=>(0,sG.assert)(/^[0-9]+$/.test(i),`uint64 invalid: ${i}`);return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),r(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),n(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),r(i),(0,o6.int64FromString)(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),n(i),(0,o6.int64FromString)(i)},dec(i,a){return(0,o6.int64ToString)(i,a)},uDec(i,a){return(0,o6.uInt64ToString)(i,a)}}}s6.protoInt64=Ege()});var d2=E(Sc=>{"use strict";h();p();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.BinaryReader=Sc.BinaryWriter=Sc.WireType=void 0;var jh=PC(),Vg=yu(),Ef=Ec(),kh;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(kh=Sc.WireType||(Sc.WireType={}));var BC=class{constructor(e){this.stack=[],this.textEncoder=e??new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let i=0;i<this.chunks.length;i++)e+=this.chunks[i].length;let r=new Uint8Array(e),n=0;for(let i=0;i<this.chunks.length;i++)r.set(this.chunks[i],n),n+=this.chunks[i].length;return this.chunks=[],r}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),r=this.stack.pop();if(!r)throw new Error("invalid state, fork stack empty");return this.chunks=r.chunks,this.buf=r.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,r){return this.uint32((e<<3|r)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for((0,Vg.assertUInt32)(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return(0,Vg.assertInt32)(e),(0,jh.varint32write)(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let r=this.textEncoder.encode(e);return this.uint32(r.byteLength),this.raw(r)}float(e){(0,Vg.assertFloat32)(e);let r=new Uint8Array(4);return new DataView(r.buffer).setFloat32(0,e,!0),this.raw(r)}double(e){let r=new Uint8Array(8);return new DataView(r.buffer).setFloat64(0,e,!0),this.raw(r)}fixed32(e){(0,Vg.assertUInt32)(e);let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,e,!0),this.raw(r)}sfixed32(e){(0,Vg.assertInt32)(e);let r=new Uint8Array(4);return new DataView(r.buffer).setInt32(0,e,!0),this.raw(r)}sint32(e){return(0,Vg.assertInt32)(e),e=(e<<1^e>>31)>>>0,(0,jh.varint32write)(e,this.buf),this}sfixed64(e){let r=new Uint8Array(8),n=new DataView(r.buffer),i=Ef.protoInt64.enc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(r)}fixed64(e){let r=new Uint8Array(8),n=new DataView(r.buffer),i=Ef.protoInt64.uEnc(e);return n.setInt32(0,i.lo,!0),n.setInt32(4,i.hi,!0),this.raw(r)}int64(e){let r=Ef.protoInt64.enc(e);return(0,jh.varint64write)(r.lo,r.hi,this.buf),this}sint64(e){let r=Ef.protoInt64.enc(e),n=r.hi>>31,i=r.lo<<1^n,a=(r.hi<<1|r.lo>>>31)^n;return(0,jh.varint64write)(i,a,this.buf),this}uint64(e){let r=Ef.protoInt64.uEnc(e);return(0,jh.varint64write)(r.lo,r.hi,this.buf),this}};Sc.BinaryWriter=BC;var MC=class{constructor(e,r){this.varint64=jh.varint64read,this.uint32=jh.varint32read,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=r??new TextDecoder}tag(){let e=this.uint32(),r=e>>>3,n=e&7;if(r<=0||n<0||n>5)throw new Error("illegal tag: field no "+r+" wire type "+n);return[r,n]}skip(e){let r=this.pos;switch(e){case kh.Varint:for(;this.buf[this.pos++]&128;);break;case kh.Bit64:this.pos+=4;case kh.Bit32:this.pos+=4;break;case kh.LengthDelimited:let n=this.uint32();this.pos+=n;break;case kh.StartGroup:let i;for(;(i=this.tag()[1])!==kh.EndGroup;)this.skip(i);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return Ef.protoInt64.dec(...this.varint64())}uint64(){return Ef.protoInt64.uDec(...this.varint64())}sint64(){let[e,r]=this.varint64(),n=-(e&1);return e=(e>>>1|(r&1)<<31)^n,r=r>>>1^n,Ef.protoInt64.dec(e,r)}bool(){let[e,r]=this.varint64();return e!==0||r!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return Ef.protoInt64.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return Ef.protoInt64.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),r=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(r,r+e)}string(){return this.textDecoder.decode(this.bytes())}};Sc.BinaryReader=MC});var l2=E(Gg=>{"use strict";h();p();Object.defineProperty(Gg,"__esModule",{value:!0});Gg.getUnwrappedFieldType=Gg.wrapField=void 0;var Sge=rn(),Ic=uo();function Ige(t,e){return e instanceof Sge.Message||!t.fieldWrapper?e:t.fieldWrapper.wrapField(e)}Gg.wrapField=Ige;function Tge(t){if(t.fieldKind==="message"&&!t.repeated&&t.oneof==null)return Cge[t.message.typeName]}Gg.getUnwrappedFieldType=Tge;var Cge={"google.protobuf.DoubleValue":Ic.ScalarType.DOUBLE,"google.protobuf.FloatValue":Ic.ScalarType.FLOAT,"google.protobuf.Int64Value":Ic.ScalarType.INT64,"google.protobuf.UInt64Value":Ic.ScalarType.UINT64,"google.protobuf.Int32Value":Ic.ScalarType.INT32,"google.protobuf.UInt32Value":Ic.ScalarType.UINT32,"google.protobuf.BoolValue":Ic.ScalarType.BOOL,"google.protobuf.StringValue":Ic.ScalarType.STRING,"google.protobuf.BytesValue":Ic.ScalarType.BYTES}});var h2=E(bd=>{"use strict";h();p();Object.defineProperty(bd,"__esModule",{value:!0});bd.scalarTypeInfo=bd.scalarDefaultValue=bd.scalarEquals=void 0;var Ot=uo(),Tc=d2(),Age=Ec();function Oge(t,e,r){if(e===r)return!0;if(t==Ot.ScalarType.BYTES){if(!(e instanceof Uint8Array)||!(r instanceof Uint8Array)||e.length!==r.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==r[n])return!1;return!0}switch(t){case Ot.ScalarType.UINT64:case Ot.ScalarType.FIXED64:case Ot.ScalarType.INT64:case Ot.ScalarType.SFIXED64:case Ot.ScalarType.SINT64:return e==r}return!1}bd.scalarEquals=Oge;function Dge(t){switch(t){case Ot.ScalarType.BOOL:return!1;case Ot.ScalarType.UINT64:case Ot.ScalarType.FIXED64:case Ot.ScalarType.INT64:case Ot.ScalarType.SFIXED64:case Ot.ScalarType.SINT64:return Age.protoInt64.zero;case Ot.ScalarType.DOUBLE:case Ot.ScalarType.FLOAT:return 0;case Ot.ScalarType.BYTES:return new Uint8Array(0);case Ot.ScalarType.STRING:return"";default:return 0}}bd.scalarDefaultValue=Dge;function Rge(t,e){let r=e===void 0,n=Tc.WireType.Varint,i=e===0;switch(t){case Ot.ScalarType.STRING:i=r||!e.length,n=Tc.WireType.LengthDelimited;break;case Ot.ScalarType.BOOL:i=e===!1;break;case Ot.ScalarType.DOUBLE:n=Tc.WireType.Bit64;break;case Ot.ScalarType.FLOAT:n=Tc.WireType.Bit32;break;case Ot.ScalarType.INT64:i=r||e==0;break;case Ot.ScalarType.UINT64:i=r||e==0;break;case Ot.ScalarType.FIXED64:i=r||e==0,n=Tc.WireType.Bit64;break;case Ot.ScalarType.BYTES:i=r||!e.byteLength,n=Tc.WireType.LengthDelimited;break;case Ot.ScalarType.FIXED32:n=Tc.WireType.Bit32;break;case Ot.ScalarType.SFIXED32:n=Tc.WireType.Bit32;break;case Ot.ScalarType.SFIXED64:i=r||e==0,n=Tc.WireType.Bit64;break;case Ot.ScalarType.SINT64:i=r||e==0;break}let a=Ot.ScalarType[t].toLowerCase();return[n,a,r||i]}bd.scalarTypeInfo=Rge});var d6=E($o=>{"use strict";h();p();Object.defineProperty($o,"__esModule",{value:!0});$o.writePacked=$o.writeScalar=$o.writeMessageField=$o.writeMapEntry=$o.makeBinaryFormatCommon=void 0;var Yg=d2(),Pge=rn(),Zt=uo(),Bge=l2(),c6=h2(),Mge=yu(),zg=Symbol("@bufbuild/protobuf/unknown-fields"),uG={readUnknownFields:!0,readerFactory:t=>new Yg.BinaryReader(t)},fG={writeUnknownFields:!0,writerFactory:()=>new Yg.BinaryWriter};function Nge(t){return t?Object.assign(Object.assign({},uG),t):uG}function qge(t){return t?Object.assign(Object.assign({},fG),t):fG}function Fge(){return{makeReadOptions:Nge,makeWriteOptions:qge,listUnknownFields(t){var e;return(e=t[zg])!==null&&e!==void 0?e:[]},discardUnknownFields(t){delete t[zg]},writeUnknownFields(t,e){let n=t[zg];if(n)for(let i of n)e.tag(i.no,i.wireType).raw(i.data)},onUnknownField(t,e,r,n){let i=t;Array.isArray(i[zg])||(i[zg]=[]),i[zg].push({no:e,wireType:r,data:n})},readMessage(t,e,r,n){let i=t.getType(),a=r===void 0?e.len:e.pos+r;for(;e.pos<a;){let[o,s]=e.tag(),u=i.fields.find(o);if(!u){let g=e.skip(s);n.readUnknownFields&&this.onUnknownField(t,o,s,g);continue}let f=t,c=u.repeated,l=u.localName;switch(u.oneof&&(f=f[u.oneof.localName],f.case!=l&&delete f.value,f.case=l,l="value"),u.kind){case"scalar":case"enum":let g=u.kind=="enum"?Zt.ScalarType.INT32:u.T;if(c){let S=f[l];if(s==Yg.WireType.LengthDelimited&&g!=Zt.ScalarType.STRING&&g!=Zt.ScalarType.BYTES){let I=e.uint32()+e.pos;for(;e.pos<I;)S.push(p2(e,g))}else S.push(p2(e,g))}else f[l]=p2(e,g);break;case"message":let y=u.T;c?f[l].push(u6(e,new y,n)):f[l]instanceof Pge.Message?u6(e,f[l],n):(f[l]=u6(e,new y,n),y.fieldWrapper&&!u.oneof&&!u.repeated&&(f[l]=y.fieldWrapper.unwrapField(f[l])));break;case"map":let[_,w]=Lge(u,e,n);f[l][_]=w;break}}}}}$o.makeBinaryFormatCommon=Fge;function u6(t,e,r){return e.getType().runtime.bin.readMessage(e,t,t.uint32(),r),e}function Lge(t,e,r){let n=e.uint32(),i=e.pos+n,a,o;for(;e.pos<i;){let[s]=e.tag();switch(s){case 1:a=p2(e,t.K);break;case 2:switch(t.V.kind){case"scalar":o=p2(e,t.V.T);break;case"enum":o=e.int32();break;case"message":o=u6(e,new t.V.T,r);break}break}}if(a===void 0){let s=(0,c6.scalarDefaultValue)(t.K);a=t.K==Zt.ScalarType.BOOL?s.toString():s}if(typeof a!="string"&&typeof a!="number"&&(a=a.toString()),o===void 0)switch(t.V.kind){case"scalar":o=(0,c6.scalarDefaultValue)(t.V.T);break;case"enum":o=0;break;case"message":o=new t.V.T;break}return[a,o]}function p2(t,e){switch(e){case Zt.ScalarType.STRING:return t.string();case Zt.ScalarType.BOOL:return t.bool();case Zt.ScalarType.DOUBLE:return t.double();case Zt.ScalarType.FLOAT:return t.float();case Zt.ScalarType.INT32:return t.int32();case Zt.ScalarType.INT64:return t.int64();case Zt.ScalarType.UINT64:return t.uint64();case Zt.ScalarType.FIXED64:return t.fixed64();case Zt.ScalarType.BYTES:return t.bytes();case Zt.ScalarType.FIXED32:return t.fixed32();case Zt.ScalarType.SFIXED32:return t.sfixed32();case Zt.ScalarType.SFIXED64:return t.sfixed64();case Zt.ScalarType.SINT64:return t.sint64();case Zt.ScalarType.UINT32:return t.uint32();case Zt.ScalarType.SINT32:return t.sint32()}}function Uge(t,e,r,n,i){t.tag(r.no,Yg.WireType.LengthDelimited),t.fork();let a=n;switch(r.K){case Zt.ScalarType.INT32:case Zt.ScalarType.FIXED32:case Zt.ScalarType.UINT32:case Zt.ScalarType.SFIXED32:case Zt.ScalarType.SINT32:a=Number.parseInt(n);break;case Zt.ScalarType.BOOL:(0,Mge.assert)(n=="true"||n=="false"),a=n=="true";break}switch(f6(t,r.K,1,a,!0),r.V.kind){case"scalar":f6(t,r.V.T,2,i,!0);break;case"enum":f6(t,Zt.ScalarType.INT32,2,i,!0);break;case"message":cG(t,e,r.V.T,2,i);break}t.join()}$o.writeMapEntry=Uge;function cG(t,e,r,n,i){if(i!==void 0){let a=(0,Bge.wrapField)(r,i);t.tag(n,Yg.WireType.LengthDelimited).bytes(a.toBinary(e))}}$o.writeMessageField=cG;function f6(t,e,r,n,i){let[a,o,s]=(0,c6.scalarTypeInfo)(e,n);(!s||i)&&t.tag(r,a)[o](n)}$o.writeScalar=f6;function kge(t,e,r,n){if(!n.length)return;t.tag(r,Yg.WireType.LengthDelimited).fork();let[,i]=(0,c6.scalarTypeInfo)(e);for(let a=0;a<n.length;a++)t[i](n[a]);t.join()}$o.writePacked=kge});var dG=E(l6=>{"use strict";h();p();Object.defineProperty(l6,"__esModule",{value:!0});l6.makeBinaryFormatProto3=void 0;var jge=uo(),Hh=d6();function Hge(){return Object.assign(Object.assign({},(0,Hh.makeBinaryFormatCommon)()),{writeMessage(t,e,r){let n=t.getType();for(let i of n.fields.byNumber()){let a,o=i.repeated,s=i.localName;if(i.oneof){let u=t[i.oneof.localName];if(u.case!==s)continue;a=u.value}else a=t[s];switch(i.kind){case"scalar":case"enum":let u=i.kind=="enum"?jge.ScalarType.INT32:i.T;if(o)if(i.packed)(0,Hh.writePacked)(e,u,i.no,a);else for(let f of a)(0,Hh.writeScalar)(e,u,i.no,f,!0);else a!==void 0&&(0,Hh.writeScalar)(e,u,i.no,a,!!i.oneof||i.opt);break;case"message":if(o)for(let f of a)(0,Hh.writeMessageField)(e,r,i.T,i.no,f);else(0,Hh.writeMessageField)(e,r,i.T,i.no,a);break;case"map":for(let[f,c]of Object.entries(a))(0,Hh.writeMapEntry)(e,r,i,f,c);break}}return r.writeUnknownFields&&this.writeUnknownFields(t,e),e}})}l6.makeBinaryFormatProto3=Hge});var NC=E(p6=>{"use strict";h();p();Object.defineProperty(p6,"__esModule",{value:!0});p6.protoBase64=void 0;var Cc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),h6=[];for(let t=0;t<Cc.length;t++)h6[Cc[t].charCodeAt(0)]=t;h6["-".charCodeAt(0)]=Cc.indexOf("+");h6["_".charCodeAt(0)]=Cc.indexOf("/");p6.protoBase64={dec(t){let e=t.length*3/4;t[t.length-2]=="="?e-=2:t[t.length-1]=="="&&(e-=1);let r=new Uint8Array(e),n=0,i=0,a,o=0;for(let s=0;s<t.length;s++){if(a=h6[t.charCodeAt(s)],a===void 0)switch(t[s]){case"=":i=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string.")}switch(i){case 0:o=a,i=1;break;case 1:r[n++]=o<<2|(a&48)>>4,o=a,i=2;break;case 2:r[n++]=(o&15)<<4|(a&60)>>2,o=a,i=3;break;case 3:r[n++]=(o&3)<<6|a,i=0;break}}if(i==1)throw Error("invalid base64 string.");return r.subarray(0,n)},enc(t){let e="",r=0,n,i=0;for(let a=0;a<t.length;a++)switch(n=t[a],r){case 0:e+=Cc[n>>2],i=(n&3)<<4,r=1;break;case 1:e+=Cc[i|n>>4],i=(n&15)<<2,r=2;break;case 2:e+=Cc[i|n>>6],e+=Cc[n&63],r=0;break}return r&&(e+=Cc[i],e+="=",r==1&&(e+="=")),e}}});var FC=E(y6=>{"use strict";h();p();Object.defineProperty(y6,"__esModule",{value:!0});y6.makeJsonFormatCommon=void 0;var Kge=rn(),dt=uo(),Ac=yu(),g6=Ec(),gG=NC(),lG={ignoreUnknownFields:!1},hG={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0};function Vge(t){return t?Object.assign(Object.assign({},lG),t):lG}function Gge(t){return t?Object.assign(Object.assign({},hG),t):hG}function zge(t){let e=t(Yge,pG);return{makeReadOptions:Vge,makeWriteOptions:Gge,readMessage(r,n,i,a){if(n==null||Array.isArray(n)||typeof n!="object")throw new Error(`cannot decode message ${r.typeName} from JSON: ${this.debug(n)}`);a=a??new r;let o={};for(let[s,u]of Object.entries(n)){let f=r.fields.findJsonName(s);if(!f){if(!i.ignoreUnknownFields)throw new Error(`cannot decode message ${r.typeName} from JSON: key "${s}" is unknown`);continue}let c=f.localName,l=a;if(f.oneof){if(u===null&&f.kind=="scalar")continue;let g=o[f.oneof.localName];if(g)throw new Error(`cannot decode message ${r.typeName} from JSON: multiple keys for oneof "${f.oneof.name}" present: "${g}", "${s}"`);o[f.oneof.localName]=s,l=l[f.oneof.localName]={case:c},c="value"}if(f.repeated){if(u===null)continue;if(!Array.isArray(u))throw new Error(`cannot decode field ${r.typeName}.${f.name} from JSON: ${this.debug(u)}`);let g=l[c];for(let y of u){if(y===null)throw new Error(`cannot decode field ${r.typeName}.${f.name} from JSON: ${this.debug(y)}`);let _;switch(f.kind){case"message":_=f.T.fromJson(y,i);break;case"enum":if(_=qC(f.T,y,i.ignoreUnknownFields),_===void 0)continue;break;case"scalar":try{_=g2(f.T,y)}catch(w){let S=`cannot decode field ${r.typeName}.${f.name} from JSON: ${this.debug(y)}`;throw w instanceof Error&&w.message.length>0&&(S+=`: ${w.message}`),new Error(S)}break}g.push(_)}}else if(f.kind=="map"){if(u===null)continue;if(Array.isArray(u)||typeof u!="object")throw new Error(`cannot decode field ${r.typeName}.${f.name} from JSON: ${this.debug(u)}`);let g=l[c];for(let[y,_]of Object.entries(u)){if(_===null)throw new Error(`cannot decode field ${r.typeName}.${f.name} from JSON: map value null`);let w;switch(f.V.kind){case"message":w=f.V.T.fromJson(_,i);break;case"enum":if(w=qC(f.V.T,_,i.ignoreUnknownFields),w===void 0)continue;break;case"scalar":try{w=g2(f.V.T,_)}catch(S){let I=`cannot decode map value for field ${r.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw S instanceof Error&&S.message.length>0&&(I+=`: ${S.message}`),new Error(I)}break}try{g[g2(f.K,f.K==dt.ScalarType.BOOL?y=="true"?!0:y=="false"?!1:y:y).toString()]=w}catch(S){let I=`cannot decode map key for field ${r.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw S instanceof Error&&S.message.length>0&&(I+=`: ${S.message}`),new Error(I)}}}else switch(f.kind){case"message":let g=f.T;if(u===null&&g.typeName!="google.protobuf.Value"){if(f.oneof)throw new Error(`cannot decode field ${r.typeName}.${f.name} from JSON: null is invalid for oneof field "${s}"`);continue}l[c]instanceof Kge.Message?l[c].fromJson(u,i):(l[c]=g.fromJson(u,i),g.fieldWrapper&&!f.oneof&&(l[c]=g.fieldWrapper.unwrapField(l[c])));break;case"enum":let y=qC(f.T,u,i.ignoreUnknownFields);y!==void 0&&(l[c]=y);break;case"scalar":try{l[c]=g2(f.T,u)}catch(_){let w=`cannot decode field ${r.typeName}.${f.name} from JSON: ${this.debug(u)}`;throw _ instanceof Error&&_.message.length>0&&(w+=`: ${_.message}`),new Error(w)}break}}return a},writeMessage(r,n){let i=r.getType(),a={},o;try{for(let s of i.fields.byMember()){let u;if(s.kind=="oneof"){let f=r[s.localName];if(f.value===void 0)continue;if(o=s.findField(f.case),!o)throw"oneof case not found: "+f.case;u=e(o,f.value,n)}else o=s,u=e(o,r[o.localName],n);u!==void 0&&(a[n.useProtoFieldName?o.name:o.jsonName]=u)}}catch(s){let u=o?`cannot encode field ${i.typeName}.${o.name} to JSON`:`cannot encode message ${i.typeName} to JSON`,f=s instanceof Error?s.message:String(s);throw new Error(u+(f.length>0?`: ${f}`:""))}return a},readScalar:g2,writeScalar:pG,debug:yG}}y6.makeJsonFormatCommon=zge;function yG(t){if(t===null)return"null";switch(typeof t){case"object":return Array.isArray(t)?"array":"object";case"string":return t.length>100?"string":`"${t.split('"').join('\\"')}"`;default:return t.toString()}}function g2(t,e){switch(t){case dt.ScalarType.DOUBLE:case dt.ScalarType.FLOAT:if(e===null)return 0;if(e==="NaN")return Number.NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(e===""||typeof e=="string"&&e.trim().length!==e.length||typeof e!="string"&&typeof e!="number")break;let r=Number(e);if(Number.isNaN(r)||!Number.isFinite(r))break;return t==dt.ScalarType.FLOAT&&(0,Ac.assertFloat32)(r),r;case dt.ScalarType.INT32:case dt.ScalarType.FIXED32:case dt.ScalarType.SFIXED32:case dt.ScalarType.SINT32:case dt.ScalarType.UINT32:if(e===null)return 0;let n;if(typeof e=="number"?n=e:typeof e=="string"&&e.length>0&&e.trim().length===e.length&&(n=Number(e)),n===void 0)break;return t==dt.ScalarType.UINT32?(0,Ac.assertUInt32)(n):(0,Ac.assertInt32)(n),n;case dt.ScalarType.INT64:case dt.ScalarType.SFIXED64:case dt.ScalarType.SINT64:if(e===null)return g6.protoInt64.zero;if(typeof e!="number"&&typeof e!="string")break;return g6.protoInt64.parse(e);case dt.ScalarType.FIXED64:case dt.ScalarType.UINT64:if(e===null)return g6.protoInt64.zero;if(typeof e!="number"&&typeof e!="string")break;return g6.protoInt64.uParse(e);case dt.ScalarType.BOOL:if(e===null)return!1;if(typeof e!="boolean")break;return e;case dt.ScalarType.STRING:if(e===null)return"";if(typeof e!="string")break;try{encodeURIComponent(e)}catch{throw new Error("invalid UTF8")}return e;case dt.ScalarType.BYTES:if(e===null||e==="")return new Uint8Array(0);if(typeof e!="string")break;return gG.protoBase64.dec(e)}throw new Error}function qC(t,e,r){if(e===null)return 0;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":let n=t.findName(e);if(n||r)return n?.no;break}throw new Error(`cannot decode enum ${t.typeName} from JSON: ${yG(e)}`)}function Yge(t,e,r,n){var i;if(e===void 0)return e;if(e===0&&!r)return;if(n)return e;if(t.typeName=="google.protobuf.NullValue")return null;let a=t.findNumber(e);return(i=a?.name)!==null&&i!==void 0?i:e}function pG(t,e,r){if(e!==void 0)switch(t){case dt.ScalarType.INT32:case dt.ScalarType.SFIXED32:case dt.ScalarType.SINT32:case dt.ScalarType.FIXED32:case dt.ScalarType.UINT32:return(0,Ac.assert)(typeof e=="number"),e!=0||r?e:void 0;case dt.ScalarType.FLOAT:case dt.ScalarType.DOUBLE:return(0,Ac.assert)(typeof e=="number"),Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e!==0||r?e:void 0;case dt.ScalarType.STRING:return(0,Ac.assert)(typeof e=="string"),e.length>0||r?e:void 0;case dt.ScalarType.BOOL:return(0,Ac.assert)(typeof e=="boolean"),e||r?e:void 0;case dt.ScalarType.UINT64:case dt.ScalarType.FIXED64:case dt.ScalarType.INT64:case dt.ScalarType.SFIXED64:case dt.ScalarType.SINT64:return(0,Ac.assert)(typeof e=="bigint"||typeof e=="string"||typeof e=="number"),r||e!=0?e.toString(10):void 0;case dt.ScalarType.BYTES:return(0,Ac.assert)(e instanceof Uint8Array),r||e.byteLength>0?gG.protoBase64.enc(e):void 0}}});var mG=E(v6=>{"use strict";h();p();Object.defineProperty(v6,"__esModule",{value:!0});v6.makeJsonFormatProto3=void 0;var vG=l2(),LC=yu(),Wge=FC();function Xge(){return(0,Wge.makeJsonFormatCommon)((t,e)=>function(n,i,a){if(n.kind=="map"){let o={};switch(n.V.kind){case"scalar":for(let[u,f]of Object.entries(i)){let c=e(n.V.T,f,!0);(0,LC.assert)(c!==void 0),o[u.toString()]=c}break;case"message":for(let[u,f]of Object.entries(i))o[u.toString()]=f.toJson(a);break;case"enum":let s=n.V.T;for(let[u,f]of Object.entries(i)){(0,LC.assert)(f===void 0||typeof f=="number");let c=t(s,f,!0,a.enumAsInteger);(0,LC.assert)(c!==void 0),o[u.toString()]=c}break}return a.emitDefaultValues||Object.keys(o).length>0?o:void 0}else if(n.repeated){let o=[];switch(n.kind){case"scalar":for(let s=0;s<i.length;s++)o.push(e(n.T,i[s],!0));break;case"enum":for(let s=0;s<i.length;s++)o.push(t(n.T,i[s],!0,a.enumAsInteger));break;case"message":for(let s=0;s<i.length;s++)o.push((0,vG.wrapField)(n.T,i[s]).toJson(a));break}return a.emitDefaultValues||o.length>0?o:void 0}else switch(n.kind){case"scalar":return e(n.T,i,!!n.oneof||n.opt||a.emitDefaultValues);case"enum":return t(n.T,i,!!n.oneof||n.opt||a.emitDefaultValues,a.enumAsInteger);case"message":return i!==void 0?(0,vG.wrapField)(n.T,i).toJson(a):void 0}})}v6.makeJsonFormatProto3=Xge});var UC=E(x6=>{"use strict";h();p();Object.defineProperty(x6,"__esModule",{value:!0});x6.makeUtilCommon=void 0;var Jge=t6(),$ge=rn(),m6=uo(),wd=h2();function Zge(){return{setEnumType:Jge.setEnumType,initPartial(t,e){if(t===void 0)return;let r=e.getType();for(let n of r.fields.byMember()){let i=n.localName,a=e,o=t;if(o[i]!==void 0)switch(n.kind){case"oneof":let s=o[i].case;if(s===void 0)continue;let u=n.findField(s),f=o[i].value;u&&u.kind=="message"&&!(f instanceof u.T)&&(f=new u.T(f)),a[i]={case:s,value:f};break;case"scalar":case"enum":a[i]=o[i];break;case"map":switch(n.V.kind){case"scalar":case"enum":Object.assign(a[i],o[i]);break;case"message":let l=n.V.T;for(let g of Object.keys(o[i])){let y=o[i][g];l.fieldWrapper||(y=new l(y)),a[i][g]=y}break}break;case"message":let c=n.T;if(n.repeated)a[i]=o[i].map(l=>l instanceof c?l:new c(l));else if(o[i]!==void 0){let l=o[i];c.fieldWrapper?a[i]=l:a[i]=l instanceof c?l:new c(l)}break}}},equals(t,e,r){return e===r?!0:!e||!r?!1:t.fields.byMember().every(n=>{let i=e[n.localName],a=r[n.localName];if(n.repeated){if(i.length!==a.length)return!1;switch(n.kind){case"message":return i.every((o,s)=>n.T.equals(o,a[s]));case"scalar":return i.every((o,s)=>(0,wd.scalarEquals)(n.T,o,a[s]));case"enum":return i.every((o,s)=>(0,wd.scalarEquals)(m6.ScalarType.INT32,o,a[s]))}throw new Error(`repeated cannot contain ${n.kind}`)}switch(n.kind){case"message":return n.T.equals(i,a);case"enum":return(0,wd.scalarEquals)(m6.ScalarType.INT32,i,a);case"scalar":return(0,wd.scalarEquals)(n.T,i,a);case"oneof":if(i.case!==a.case)return!1;let o=n.findField(i.case);if(o===void 0)return!0;switch(o.kind){case"message":return o.T.equals(i.value,a.value);case"enum":return(0,wd.scalarEquals)(m6.ScalarType.INT32,i.value,a.value);case"scalar":return(0,wd.scalarEquals)(o.T,i.value,a.value)}throw new Error(`oneof cannot contain ${o.kind}`);case"map":let s=Object.keys(i).concat(Object.keys(a));switch(n.V.kind){case"message":let u=n.V.T;return s.every(c=>u.equals(i[c],a[c]));case"enum":return s.every(c=>(0,wd.scalarEquals)(m6.ScalarType.INT32,i[c],a[c]));case"scalar":let f=n.V.T;return s.every(c=>(0,wd.scalarEquals)(f,i[c],a[c]))}break}})},clone(t){let e=t.getType(),r=new e,n=r;for(let i of e.fields.byMember()){let a=t[i.localName],o;if(i.repeated)o=a.map(s=>_6(i,s));else if(i.kind=="map"){o=n[i.localName];for(let[s,u]of Object.entries(a))o[s]=_6(i.V,u)}else if(i.kind=="oneof"){let s=i.findField(a.case);o=s?{case:a.case,value:_6(s,a.value)}:{case:void 0}}else o=_6(i,a);n[i.localName]=o}return r}}}x6.makeUtilCommon=Zge;function _6(t,e){if(e===void 0)return e;if(e instanceof $ge.Message)return e.clone();if(e instanceof Uint8Array){let r=new Uint8Array(e.byteLength);return r.set(e),r}return e}});var jC=E(b6=>{"use strict";h();p();Object.defineProperty(b6,"__esModule",{value:!0});b6.InternalFieldList=void 0;var kC=class{constructor(e,r){this._fields=e,this._normalizer=r}findJsonName(e){if(!this.jsonNames){let r={};for(let n of this.list())r[n.jsonName]=r[n.name]=n;this.jsonNames=r}return this.jsonNames[e]}find(e){if(!this.numbers){let r={};for(let n of this.list())r[n.no]=n;this.numbers=r}return this.numbers[e]}list(){return this.all||(this.all=this._normalizer(this._fields)),this.all}byNumber(){return this.numbersAsc||(this.numbersAsc=this.list().concat().sort((e,r)=>e.no-r.no)),this.numbersAsc}byMember(){if(!this.members){this.members=[];let e=this.members,r;for(let n of this.list())n.oneof?n.oneof!==r&&(r=n.oneof,e.push(r)):e.push(n)}return this.members}};b6.InternalFieldList=kC});var Kh=E(qr=>{"use strict";h();p();Object.defineProperty(qr,"__esModule",{value:!0});qr.safeIdentifier=qr.safeObjectProperty=qr.findEnumSharedPrefix=qr.fieldJsonName=qr.localOneofName=qr.localFieldName=qr.localName=void 0;function Qge(t){switch(t.kind){case"field":return HC(t.name,t.oneof!==void 0);case"oneof":return _G(t.name);case"enum":case"message":case"service":{let e=t.file.proto.package,r=e===void 0?0:e.length+1,n=t.typeName.substring(r).replace(/\./g,"_");return(0,qr.safeObjectProperty)((0,qr.safeIdentifier)(n))}case"enum_value":{let e=t.parent.sharedPrefix;if(e===void 0)return t.name;let r=t.name.substring(e.length);return(0,qr.safeObjectProperty)(r)}case"rpc":{let e=t.name;return e.length==0?e:(e=e[0].toLowerCase()+e.substring(1),(0,qr.safeObjectProperty)(e))}}}qr.localName=Qge;function HC(t,e){let r=xG(t);return e?r:(0,qr.safeObjectProperty)(aye(r))}qr.localFieldName=HC;function _G(t){return HC(t,!1)}qr.localOneofName=_G;qr.fieldJsonName=xG;function eye(t,e){let r=tye(t)+"_";for(let n of e){if(!n.toLowerCase().startsWith(r))return;let i=n.substring(r.length);if(i.length==0||/^\d/.test(i))return}return r}qr.findEnumSharedPrefix=eye;function tye(t){return(t.substring(0,1)+t.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function xG(t){let e=!1,r=[];for(let n=0;n<t.length;n++){let i=t.charAt(n);switch(i){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r.push(i),e=!1;break;default:e&&(e=!1,i=i.toUpperCase()),r.push(i);break}}return r.join("")}var rye=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","Object","bigint","number","boolean","string","object","globalThis","Uint8Array","Partial"]),nye=new Set(["constructor","toString","toJSON","valueOf"]),iye=new Set(["getType","clone","equals","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","toObject"]),KC=t=>`${t}$`,aye=t=>iye.has(t)?KC(t):t,oye=t=>nye.has(t)?KC(t):t;qr.safeObjectProperty=oye;var sye=t=>rye.has(t)?KC(t):t;qr.safeIdentifier=sye});var GC=E(w6=>{"use strict";h();p();Object.defineProperty(w6,"__esModule",{value:!0});w6.InternalOneofInfo=void 0;var uye=Kh(),fye=yu(),VC=class{constructor(e){this.kind="oneof",this.repeated=!1,this.packed=!1,this.opt=!1,this.default=void 0,this.fields=[],this.name=e,this.localName=(0,uye.localOneofName)(e)}addField(e){(0,fye.assert)(e.oneof===this,`field ${e.name} not one of ${this.name}`),this.fields.push(e)}findField(e){if(!this._lookup){this._lookup=Object.create(null);for(let r=0;r<this.fields.length;r++)this._lookup[this.fields[r].localName]=this.fields[r]}return this._lookup[e]}};w6.InternalOneofInfo=VC});var fo=E(E6=>{"use strict";h();p();Object.defineProperty(E6,"__esModule",{value:!0});E6.proto3=void 0;var cye=DC(),dye=dG(),lye=mG(),hye=UC(),pye=jC(),gye=h2(),bG=uo(),yye=GC(),wG=Kh();E6.proto3=(0,cye.makeProtoRuntime)("proto3",(0,lye.makeJsonFormatProto3)(),(0,dye.makeBinaryFormatProto3)(),Object.assign(Object.assign({},(0,hye.makeUtilCommon)()),{newFieldList(t){return new pye.InternalFieldList(t,vye)},initFields(t){for(let e of t.getType().fields.byMember()){if(e.opt)continue;let r=e.localName,n=t;if(e.repeated){n[r]=[];continue}switch(e.kind){case"oneof":n[r]={case:void 0};break;case"enum":n[r]=0;break;case"map":n[r]={};break;case"scalar":n[r]=(0,gye.scalarDefaultValue)(e.T);break;case"message":break}}}}));function vye(t){var e,r,n;let i=[],a;for(let o of typeof t=="function"?t():t){let s=o;if(s.localName=(0,wG.localFieldName)(o.name,o.oneof!==void 0),s.jsonName=(e=o.jsonName)!==null&&e!==void 0?e:(0,wG.fieldJsonName)(o.name),s.repeated=(r=o.repeated)!==null&&r!==void 0?r:!1,s.packed=(n=o.packed)!==null&&n!==void 0?n:o.kind=="enum"||o.kind=="scalar"&&o.T!=bG.ScalarType.BYTES&&o.T!=bG.ScalarType.STRING,o.oneof!==void 0){let u=typeof o.oneof=="string"?o.oneof:o.oneof.name;(!a||a.name!=u)&&(a=new yye.InternalOneofInfo(u)),s.oneof=a,a.addField(s)}i.push(s)}return i}});var EG=E(S6=>{"use strict";h();p();Object.defineProperty(S6,"__esModule",{value:!0});S6.makeBinaryFormatProto2=void 0;var mye=uo(),Vh=d6();function _ye(){return Object.assign(Object.assign({},(0,Vh.makeBinaryFormatCommon)()),{writeMessage(t,e,r){let n=t.getType(),i;try{for(i of n.fields.byNumber()){let a,o=i.repeated,s=i.localName;if(i.oneof){let u=t[i.oneof.localName];if(u.case!==s)continue;a=u.value}else if(a=t[s],a===void 0&&!i.oneof&&!i.opt)throw new Error(`cannot encode field ${n.typeName}.${i.name} to binary: required field not set`);switch(i.kind){case"scalar":case"enum":let u=i.kind=="enum"?mye.ScalarType.INT32:i.T;if(o)if(i.packed)(0,Vh.writePacked)(e,u,i.no,a);else for(let f of a)(0,Vh.writeScalar)(e,u,i.no,f,!0);else a!==void 0&&(0,Vh.writeScalar)(e,u,i.no,a,!0);break;case"message":if(o)for(let f of a)(0,Vh.writeMessageField)(e,r,i.T,i.no,f);else(0,Vh.writeMessageField)(e,r,i.T,i.no,a);break;case"map":for(let[f,c]of Object.entries(a))(0,Vh.writeMapEntry)(e,r,i,f,c);break}}}catch(a){let o=i?`cannot encode field ${n.typeName}.${i?.name} to binary`:`cannot encode message ${n.typeName} to binary`,s=a instanceof Error?a.message:String(a);throw new Error(o+(s.length>0?`: ${s}`:""))}return r.writeUnknownFields&&this.writeUnknownFields(t,e),e}})}S6.makeBinaryFormatProto2=_ye});var SG=E(I6=>{"use strict";h();p();Object.defineProperty(I6,"__esModule",{value:!0});I6.makeJsonFormatProto2=void 0;var xye=l2(),zC=yu(),bye=FC();function wye(){return(0,bye.makeJsonFormatCommon)((t,e)=>function(n,i,a){if(n.kind=="map"){let o={};switch(n.V.kind){case"scalar":for(let[u,f]of Object.entries(i)){let c=e(n.V.T,f,!0);(0,zC.assert)(c!==void 0),o[u.toString()]=c}break;case"message":for(let[u,f]of Object.entries(i))o[u.toString()]=f.toJson(a);break;case"enum":let s=n.V.T;for(let[u,f]of Object.entries(i)){(0,zC.assert)(f===void 0||typeof f=="number");let c=t(s,f,!0,a.enumAsInteger);(0,zC.assert)(c!==void 0),o[u.toString()]=c}break}return a.emitDefaultValues||Object.keys(o).length>0?o:void 0}else if(n.repeated){let o=[];switch(n.kind){case"scalar":for(let s=0;s<i.length;s++)o.push(e(n.T,i[s],!0));break;case"enum":for(let s=0;s<i.length;s++)o.push(t(n.T,i[s],!0,a.enumAsInteger));break;case"message":for(let s=0;s<i.length;s++)o.push(i[s].toJson(a));break}return a.emitDefaultValues||o.length>0?o:void 0}else{if(i===void 0){if(!n.oneof&&!n.opt)throw"required field not set";return}switch(n.kind){case"scalar":return e(n.T,i,!0);case"enum":return t(n.T,i,!0,a.enumAsInteger);case"message":return(0,xye.wrapField)(n.T,i).toJson(a)}}})}I6.makeJsonFormatProto2=wye});var y2=E(T6=>{"use strict";h();p();Object.defineProperty(T6,"__esModule",{value:!0});T6.proto2=void 0;var Eye=DC(),Sye=EG(),Iye=UC(),Tye=jC(),Cye=GC(),IG=Kh(),Aye=SG();T6.proto2=(0,Eye.makeProtoRuntime)("proto2",(0,Aye.makeJsonFormatProto2)(),(0,Sye.makeBinaryFormatProto2)(),Object.assign(Object.assign({},(0,Iye.makeUtilCommon)()),{newFieldList(t){return new Tye.InternalFieldList(t,Oye)},initFields(t){for(let e of t.getType().fields.byMember()){let r=e.localName,n=t;if(e.repeated){n[r]=[];continue}switch(e.kind){case"oneof":n[r]={case:void 0};break;case"map":n[r]={};break;case"scalar":case"enum":case"message":break}}}}));function Oye(t){var e,r,n;let i=[],a;for(let o of typeof t=="function"?t():t){let s=o;if(s.localName=(0,IG.localFieldName)(o.name,o.oneof!==void 0),s.jsonName=(e=o.jsonName)!==null&&e!==void 0?e:(0,IG.fieldJsonName)(o.name),s.repeated=(r=o.repeated)!==null&&r!==void 0?r:!1,s.packed=(n=o.packed)!==null&&n!==void 0?n:!1,o.oneof!==void 0){let u=typeof o.oneof=="string"?o.oneof:o.oneof.name;(!a||a.name!=u)&&(a=new Cye.InternalOneofInfo(u)),s.oneof=a,a.addField(s)}i.push(s)}return i}});var CG=E(Zo=>{"use strict";h();p();var Dye=Zo&&Zo.__asyncValues||function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=t[a]&&function(o){return new Promise(function(s,u){o=t[a](o),i(s,u,o.done,o.value)})}}function i(a,o,s,u){Promise.resolve(u).then(function(f){a({value:f,done:s})},o)}},Wg=Zo&&Zo.__await||function(t){return this instanceof Wg?(this.v=t,this):new Wg(t)},Rye=Zo&&Zo.__asyncGenerator||function(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,a=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){n[g]&&(i[g]=function(y){return new Promise(function(_,w){a.push([g,y,_,w])>1||s(g,y)})})}function s(g,y){try{u(n[g](y))}catch(_){l(a[0][3],_)}}function u(g){g.value instanceof Wg?Promise.resolve(g.value.v).then(f,c):l(a[0][2],g)}function f(g){s("next",g)}function c(g){s("throw",g)}function l(g,y){g(y),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.protoDelimited=void 0;var TG=d6(),Pye=d2();Zo.protoDelimited={enc(t,e){let r=(0,TG.makeBinaryFormatCommon)().makeWriteOptions(e);return r.writerFactory().bytes(t.toBinary(r)).finish()},dec(t,e,r){let n=(0,TG.makeBinaryFormatCommon)().makeReadOptions(r);return t.fromBinary(n.readerFactory(e).bytes(),n)},decStream(t,e){return Rye(this,arguments,function*(){var n,i,a,o;function s(g,y){let _=new Uint8Array(g.byteLength+y.byteLength);return _.set(g),_.set(y,g.length),_}let u=new Uint8Array(0);try{for(var f=!0,c=Dye(e),l;l=yield Wg(c.next()),n=l.done,!n;){o=l.value,f=!1;try{for(u=s(u,o);;){let y=Zo.protoDelimited.peekSize(u);if(y.eof||y.offset+y.size>u.byteLength)break;yield yield Wg(Zo.protoDelimited.dec(t,u)),u=u.subarray(y.offset+y.size)}}finally{f=!0}}}catch(g){i={error:g}}finally{try{!f&&!n&&(a=c.return)&&(yield Wg(a.call(c)))}finally{if(i)throw i.error}}if(u.byteLength>0)throw new Error("incomplete data")})},peekSize(t){let e={eof:!0,size:null,offset:null};for(let r=0;r<10;r++){if(r>t.byteLength)return e;if((t[r]&128)==0){let n=new Pye.BinaryReader(t),i;try{i=n.uint32()}catch(a){if(a instanceof RangeError)return e;throw a}return{eof:!1,size:i,offset:n.pos}}}throw new Error("invalid varint")}}});var AG=E(C6=>{"use strict";h();p();Object.defineProperty(C6,"__esModule",{value:!0});C6.reifyWkt=void 0;var Sf=uo();function Bye(t){switch(t.typeName){case"google.protobuf.Any":{let e=t.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===Sf.ScalarType.STRING),r=t.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===Sf.ScalarType.BYTES);if(e&&r)return{typeName:t.typeName,typeUrl:e,value:r};break}case"google.protobuf.Timestamp":{let e=t.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===Sf.ScalarType.INT64),r=t.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===Sf.ScalarType.INT32);if(e&&r)return{typeName:t.typeName,seconds:e,nanos:r};break}case"google.protobuf.Duration":{let e=t.fields.find(n=>n.number==1&&n.fieldKind=="scalar"&&n.scalar===Sf.ScalarType.INT64),r=t.fields.find(n=>n.number==2&&n.fieldKind=="scalar"&&n.scalar===Sf.ScalarType.INT32);if(e&&r)return{typeName:t.typeName,seconds:e,nanos:r};break}case"google.protobuf.Struct":{let e=t.fields.find(r=>r.number==1&&!r.repeated);if(e?.fieldKind!=="map"||e.mapValue.kind!=="message"||e.mapValue.message.typeName!=="google.protobuf.Value")break;return{typeName:t.typeName,fields:e}}case"google.protobuf.Value":{let e=t.oneofs.find(u=>u.name==="kind"),r=t.fields.find(u=>u.number==1&&u.oneof===e);if(r?.fieldKind!=="enum"||r.enum.typeName!=="google.protobuf.NullValue")return;let n=t.fields.find(u=>u.number==2&&u.fieldKind=="scalar"&&u.scalar===Sf.ScalarType.DOUBLE&&u.oneof===e),i=t.fields.find(u=>u.number==3&&u.fieldKind=="scalar"&&u.scalar===Sf.ScalarType.STRING&&u.oneof===e),a=t.fields.find(u=>u.number==4&&u.fieldKind=="scalar"&&u.scalar===Sf.ScalarType.BOOL&&u.oneof===e),o=t.fields.find(u=>u.number==5&&u.oneof===e);if(o?.fieldKind!=="message"||o.message.typeName!=="google.protobuf.Struct")return;let s=t.fields.find(u=>u.number==6&&u.oneof===e);if(s?.fieldKind!=="message"||s.message.typeName!=="google.protobuf.ListValue")return;if(e&&n&&i&&a)return{typeName:t.typeName,kind:e,nullValue:r,numberValue:n,stringValue:i,boolValue:a,structValue:o,listValue:s};break}case"google.protobuf.ListValue":{let e=t.fields.find(r=>r.number==1&&r.repeated);if(e?.fieldKind!="message"||e.message.typeName!=="google.protobuf.Value")break;return{typeName:t.typeName,values:e}}case"google.protobuf.FieldMask":{let e=t.fields.find(r=>r.number==1&&r.fieldKind=="scalar"&&r.scalar===Sf.ScalarType.STRING&&r.repeated);if(e)return{typeName:t.typeName,paths:e};break}case"google.protobuf.DoubleValue":case"google.protobuf.FloatValue":case"google.protobuf.Int64Value":case"google.protobuf.UInt64Value":case"google.protobuf.Int32Value":case"google.protobuf.UInt32Value":case"google.protobuf.BoolValue":case"google.protobuf.StringValue":case"google.protobuf.BytesValue":{let e=t.fields.find(r=>r.number==1&&r.name=="value");if(!e||e.fieldKind!=="scalar")break;return{typeName:t.typeName,value:e}}}}C6.reifyWkt=Bye});var OG=E(A6=>{"use strict";h();p();Object.defineProperty(A6,"__esModule",{value:!0});A6.codegenInfo=void 0;var YC=Kh(),Mye=l2(),Nye=h2(),qye=AG(),nn="@bufbuild/protobuf";A6.codegenInfo={packageName:nn,localName:YC.localName,reifyWkt:qye.reifyWkt,getUnwrappedFieldType:Mye.getUnwrappedFieldType,scalarDefaultValue:Nye.scalarDefaultValue,safeIdentifier:YC.safeIdentifier,safeObjectProperty:YC.safeObjectProperty,symbols:{proto2:{typeOnly:!1,privateImportPath:"./proto2.js",publicImportPath:nn},proto3:{typeOnly:!1,privateImportPath:"./proto3.js",publicImportPath:nn},Message:{typeOnly:!1,privateImportPath:"./message.js",publicImportPath:nn},PartialMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:nn},PlainMessage:{typeOnly:!0,privateImportPath:"./message.js",publicImportPath:nn},FieldList:{typeOnly:!0,privateImportPath:"./field-list.js",publicImportPath:nn},MessageType:{typeOnly:!0,privateImportPath:"./message-type.js",publicImportPath:nn},BinaryReadOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:nn},BinaryWriteOptions:{typeOnly:!0,privateImportPath:"./binary-format.js",publicImportPath:nn},JsonReadOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:nn},JsonWriteOptions:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:nn},JsonValue:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:nn},JsonObject:{typeOnly:!0,privateImportPath:"./json-format.js",publicImportPath:nn},protoInt64:{typeOnly:!1,privateImportPath:"./proto-int64.js",publicImportPath:nn},ScalarType:{typeOnly:!1,privateImportPath:"./field.js",publicImportPath:nn},MethodKind:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:nn},MethodIdempotency:{typeOnly:!1,privateImportPath:"./service-type.js",publicImportPath:nn},IMessageTypeRegistry:{typeOnly:!0,privateImportPath:"./type-registry.js",publicImportPath:nn}},wktSourceFiles:["google/protobuf/compiler/plugin.proto","google/protobuf/any.proto","google/protobuf/api.proto","google/protobuf/descriptor.proto","google/protobuf/duration.proto","google/protobuf/empty.proto","google/protobuf/field_mask.proto","google/protobuf/source_context.proto","google/protobuf/struct.proto","google/protobuf/timestamp.proto","google/protobuf/type.proto","google/protobuf/wrappers.proto"]}});var WC=E(Ed=>{"use strict";h();p();Object.defineProperty(Ed,"__esModule",{value:!0});Ed.MethodIdempotency=Ed.MethodKind=void 0;var Fye;(function(t){t[t.Unary=0]="Unary",t[t.ServerStreaming=1]="ServerStreaming",t[t.ClientStreaming=2]="ClientStreaming",t[t.BiDiStreaming=3]="BiDiStreaming"})(Fye=Ed.MethodKind||(Ed.MethodKind={}));var Lye;(function(t){t[t.NoSideEffects=1]="NoSideEffects",t[t.Idempotent=2]="Idempotent"})(Lye=Ed.MethodIdempotency||(Ed.MethodIdempotency={}))});var v2=E(pe=>{"use strict";h();p();Object.defineProperty(pe,"__esModule",{value:!0});pe.GeneratedCodeInfo_Annotation_Semantic=pe.GeneratedCodeInfo_Annotation=pe.GeneratedCodeInfo=pe.SourceCodeInfo_Location=pe.SourceCodeInfo=pe.UninterpretedOption_NamePart=pe.UninterpretedOption=pe.MethodOptions_IdempotencyLevel=pe.MethodOptions=pe.ServiceOptions=pe.EnumValueOptions=pe.EnumOptions=pe.OneofOptions=pe.FieldOptions_OptionTargetType=pe.FieldOptions_OptionRetention=pe.FieldOptions_JSType=pe.FieldOptions_CType=pe.FieldOptions=pe.MessageOptions=pe.FileOptions_OptimizeMode=pe.FileOptions=pe.MethodDescriptorProto=pe.ServiceDescriptorProto=pe.EnumValueDescriptorProto=pe.EnumDescriptorProto_EnumReservedRange=pe.EnumDescriptorProto=pe.OneofDescriptorProto=pe.FieldDescriptorProto_Label=pe.FieldDescriptorProto_Type=pe.FieldDescriptorProto=pe.ExtensionRangeOptions_Declaration=pe.ExtensionRangeOptions_VerificationState=pe.ExtensionRangeOptions=pe.DescriptorProto_ReservedRange=pe.DescriptorProto_ExtensionRange=pe.DescriptorProto=pe.FileDescriptorProto=pe.FileDescriptorSet=void 0;var Bt=rn(),ne=y2(),vu=class extends Bt.Message{constructor(e){super(),this.file=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new vu().fromBinary(e,r)}static fromJson(e,r){return new vu().fromJson(e,r)}static fromJsonString(e,r){return new vu().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(vu,e,r)}};vu.runtime=ne.proto2;vu.typeName="google.protobuf.FileDescriptorSet";vu.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"file",kind:"message",T:Qo,repeated:!0}]);pe.FileDescriptorSet=vu;var Qo=class extends Bt.Message{constructor(e){super(),this.dependency=[],this.publicDependency=[],this.weakDependency=[],this.messageType=[],this.enumType=[],this.service=[],this.extension=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new Qo().fromBinary(e,r)}static fromJson(e,r){return new Qo().fromJson(e,r)}static fromJsonString(e,r){return new Qo().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(Qo,e,r)}};Qo.runtime=ne.proto2;Qo.typeName="google.protobuf.FileDescriptorProto";Qo.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"package",kind:"scalar",T:9,opt:!0},{no:3,name:"dependency",kind:"scalar",T:9,repeated:!0},{no:10,name:"public_dependency",kind:"scalar",T:5,repeated:!0},{no:11,name:"weak_dependency",kind:"scalar",T:5,repeated:!0},{no:4,name:"message_type",kind:"message",T:co,repeated:!0},{no:5,name:"enum_type",kind:"message",T:lo,repeated:!0},{no:6,name:"service",kind:"message",T:ss,repeated:!0},{no:7,name:"extension",kind:"message",T:ja,repeated:!0},{no:8,name:"options",kind:"message",T:fs,opt:!0},{no:9,name:"source_code_info",kind:"message",T:ms,opt:!0},{no:12,name:"syntax",kind:"scalar",T:9,opt:!0},{no:13,name:"edition",kind:"scalar",T:9,opt:!0}]);pe.FileDescriptorProto=Qo;var co=class extends Bt.Message{constructor(e){super(),this.field=[],this.extension=[],this.nestedType=[],this.enumType=[],this.extensionRange=[],this.oneofDecl=[],this.reservedRange=[],this.reservedName=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new co().fromBinary(e,r)}static fromJson(e,r){return new co().fromJson(e,r)}static fromJsonString(e,r){return new co().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(co,e,r)}};co.runtime=ne.proto2;co.typeName="google.protobuf.DescriptorProto";co.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"field",kind:"message",T:ja,repeated:!0},{no:6,name:"extension",kind:"message",T:ja,repeated:!0},{no:3,name:"nested_type",kind:"message",T:co,repeated:!0},{no:4,name:"enum_type",kind:"message",T:lo,repeated:!0},{no:5,name:"extension_range",kind:"message",T:es,repeated:!0},{no:8,name:"oneof_decl",kind:"message",T:is,repeated:!0},{no:7,name:"options",kind:"message",T:cs,opt:!0},{no:9,name:"reserved_range",kind:"message",T:ts,repeated:!0},{no:10,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);pe.DescriptorProto=co;var es=class extends Bt.Message{constructor(e){super(),ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new es().fromBinary(e,r)}static fromJson(e,r){return new es().fromJson(e,r)}static fromJsonString(e,r){return new es().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(es,e,r)}};es.runtime=ne.proto2;es.typeName="google.protobuf.DescriptorProto.ExtensionRange";es.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:rs,opt:!0}]);pe.DescriptorProto_ExtensionRange=es;var ts=class extends Bt.Message{constructor(e){super(),ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new ts().fromBinary(e,r)}static fromJson(e,r){return new ts().fromJson(e,r)}static fromJsonString(e,r){return new ts().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(ts,e,r)}};ts.runtime=ne.proto2;ts.typeName="google.protobuf.DescriptorProto.ReservedRange";ts.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);pe.DescriptorProto_ReservedRange=ts;var rs=class extends Bt.Message{constructor(e){super(),this.uninterpretedOption=[],this.declaration=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new rs().fromBinary(e,r)}static fromJson(e,r){return new rs().fromJson(e,r)}static fromJsonString(e,r){return new rs().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(rs,e,r)}};rs.runtime=ne.proto2;rs.typeName="google.protobuf.ExtensionRangeOptions";rs.fields=ne.proto2.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0},{no:2,name:"declaration",kind:"message",T:ns,repeated:!0},{no:3,name:"verification",kind:"enum",T:ne.proto2.getEnumType(O6),opt:!0,default:O6.UNVERIFIED}]);pe.ExtensionRangeOptions=rs;var O6;(function(t){t[t.DECLARATION=0]="DECLARATION",t[t.UNVERIFIED=1]="UNVERIFIED"})(O6=pe.ExtensionRangeOptions_VerificationState||(pe.ExtensionRangeOptions_VerificationState={}));ne.proto2.util.setEnumType(O6,"google.protobuf.ExtensionRangeOptions.VerificationState",[{no:0,name:"DECLARATION"},{no:1,name:"UNVERIFIED"}]);var ns=class extends Bt.Message{constructor(e){super(),ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new ns().fromBinary(e,r)}static fromJson(e,r){return new ns().fromJson(e,r)}static fromJsonString(e,r){return new ns().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(ns,e,r)}};ns.runtime=ne.proto2;ns.typeName="google.protobuf.ExtensionRangeOptions.Declaration";ns.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"number",kind:"scalar",T:5,opt:!0},{no:2,name:"full_name",kind:"scalar",T:9,opt:!0},{no:3,name:"type",kind:"scalar",T:9,opt:!0},{no:4,name:"is_repeated",kind:"scalar",T:8,opt:!0},{no:5,name:"reserved",kind:"scalar",T:8,opt:!0},{no:6,name:"repeated",kind:"scalar",T:8,opt:!0}]);pe.ExtensionRangeOptions_Declaration=ns;var ja=class extends Bt.Message{constructor(e){super(),ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new ja().fromBinary(e,r)}static fromJson(e,r){return new ja().fromJson(e,r)}static fromJsonString(e,r){return new ja().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(ja,e,r)}};ja.runtime=ne.proto2;ja.typeName="google.protobuf.FieldDescriptorProto";ja.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:3,name:"number",kind:"scalar",T:5,opt:!0},{no:4,name:"label",kind:"enum",T:ne.proto2.getEnumType(JC),opt:!0},{no:5,name:"type",kind:"enum",T:ne.proto2.getEnumType(XC),opt:!0},{no:6,name:"type_name",kind:"scalar",T:9,opt:!0},{no:2,name:"extendee",kind:"scalar",T:9,opt:!0},{no:7,name:"default_value",kind:"scalar",T:9,opt:!0},{no:9,name:"oneof_index",kind:"scalar",T:5,opt:!0},{no:10,name:"json_name",kind:"scalar",T:9,opt:!0},{no:8,name:"options",kind:"message",T:ds,opt:!0},{no:17,name:"proto3_optional",kind:"scalar",T:8,opt:!0}]);pe.FieldDescriptorProto=ja;var XC;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.GROUP=10]="GROUP",t[t.MESSAGE=11]="MESSAGE",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.ENUM=14]="ENUM",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(XC=pe.FieldDescriptorProto_Type||(pe.FieldDescriptorProto_Type={}));ne.proto2.util.setEnumType(XC,"google.protobuf.FieldDescriptorProto.Type",[{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var JC;(function(t){t[t.OPTIONAL=1]="OPTIONAL",t[t.REQUIRED=2]="REQUIRED",t[t.REPEATED=3]="REPEATED"})(JC=pe.FieldDescriptorProto_Label||(pe.FieldDescriptorProto_Label={}));ne.proto2.util.setEnumType(JC,"google.protobuf.FieldDescriptorProto.Label",[{no:1,name:"LABEL_OPTIONAL"},{no:2,name:"LABEL_REQUIRED"},{no:3,name:"LABEL_REPEATED"}]);var is=class extends Bt.Message{constructor(e){super(),ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new is().fromBinary(e,r)}static fromJson(e,r){return new is().fromJson(e,r)}static fromJsonString(e,r){return new is().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(is,e,r)}};is.runtime=ne.proto2;is.typeName="google.protobuf.OneofDescriptorProto";is.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"options",kind:"message",T:ls,opt:!0}]);pe.OneofDescriptorProto=is;var lo=class extends Bt.Message{constructor(e){super(),this.value=[],this.reservedRange=[],this.reservedName=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new lo().fromBinary(e,r)}static fromJson(e,r){return new lo().fromJson(e,r)}static fromJsonString(e,r){return new lo().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(lo,e,r)}};lo.runtime=ne.proto2;lo.typeName="google.protobuf.EnumDescriptorProto";lo.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"value",kind:"message",T:os,repeated:!0},{no:3,name:"options",kind:"message",T:hs,opt:!0},{no:4,name:"reserved_range",kind:"message",T:as,repeated:!0},{no:5,name:"reserved_name",kind:"scalar",T:9,repeated:!0}]);pe.EnumDescriptorProto=lo;var as=class extends Bt.Message{constructor(e){super(),ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new as().fromBinary(e,r)}static fromJson(e,r){return new as().fromJson(e,r)}static fromJsonString(e,r){return new as().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(as,e,r)}};as.runtime=ne.proto2;as.typeName="google.protobuf.EnumDescriptorProto.EnumReservedRange";as.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"start",kind:"scalar",T:5,opt:!0},{no:2,name:"end",kind:"scalar",T:5,opt:!0}]);pe.EnumDescriptorProto_EnumReservedRange=as;var os=class extends Bt.Message{constructor(e){super(),ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new os().fromBinary(e,r)}static fromJson(e,r){return new os().fromJson(e,r)}static fromJsonString(e,r){return new os().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(os,e,r)}};os.runtime=ne.proto2;os.typeName="google.protobuf.EnumValueDescriptorProto";os.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"number",kind:"scalar",T:5,opt:!0},{no:3,name:"options",kind:"message",T:ps,opt:!0}]);pe.EnumValueDescriptorProto=os;var ss=class extends Bt.Message{constructor(e){super(),this.method=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new ss().fromBinary(e,r)}static fromJson(e,r){return new ss().fromJson(e,r)}static fromJsonString(e,r){return new ss().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(ss,e,r)}};ss.runtime=ne.proto2;ss.typeName="google.protobuf.ServiceDescriptorProto";ss.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"method",kind:"message",T:us,repeated:!0},{no:3,name:"options",kind:"message",T:gs,opt:!0}]);pe.ServiceDescriptorProto=ss;var us=class extends Bt.Message{constructor(e){super(),ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new us().fromBinary(e,r)}static fromJson(e,r){return new us().fromJson(e,r)}static fromJsonString(e,r){return new us().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(us,e,r)}};us.runtime=ne.proto2;us.typeName="google.protobuf.MethodDescriptorProto";us.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"input_type",kind:"scalar",T:9,opt:!0},{no:3,name:"output_type",kind:"scalar",T:9,opt:!0},{no:4,name:"options",kind:"message",T:ys,opt:!0},{no:5,name:"client_streaming",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"server_streaming",kind:"scalar",T:8,opt:!0,default:!1}]);pe.MethodDescriptorProto=us;var fs=class extends Bt.Message{constructor(e){super(),this.uninterpretedOption=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new fs().fromBinary(e,r)}static fromJson(e,r){return new fs().fromJson(e,r)}static fromJsonString(e,r){return new fs().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(fs,e,r)}};fs.runtime=ne.proto2;fs.typeName="google.protobuf.FileOptions";fs.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"java_package",kind:"scalar",T:9,opt:!0},{no:8,name:"java_outer_classname",kind:"scalar",T:9,opt:!0},{no:10,name:"java_multiple_files",kind:"scalar",T:8,opt:!0,default:!1},{no:20,name:"java_generate_equals_and_hash",kind:"scalar",T:8,opt:!0},{no:27,name:"java_string_check_utf8",kind:"scalar",T:8,opt:!0,default:!1},{no:9,name:"optimize_for",kind:"enum",T:ne.proto2.getEnumType(D6),opt:!0,default:D6.SPEED},{no:11,name:"go_package",kind:"scalar",T:9,opt:!0},{no:16,name:"cc_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"java_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:18,name:"py_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:42,name:"php_generic_services",kind:"scalar",T:8,opt:!0,default:!1},{no:23,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:31,name:"cc_enable_arenas",kind:"scalar",T:8,opt:!0,default:!0},{no:36,name:"objc_class_prefix",kind:"scalar",T:9,opt:!0},{no:37,name:"csharp_namespace",kind:"scalar",T:9,opt:!0},{no:39,name:"swift_prefix",kind:"scalar",T:9,opt:!0},{no:40,name:"php_class_prefix",kind:"scalar",T:9,opt:!0},{no:41,name:"php_namespace",kind:"scalar",T:9,opt:!0},{no:44,name:"php_metadata_namespace",kind:"scalar",T:9,opt:!0},{no:45,name:"ruby_package",kind:"scalar",T:9,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);pe.FileOptions=fs;var D6;(function(t){t[t.SPEED=1]="SPEED",t[t.CODE_SIZE=2]="CODE_SIZE",t[t.LITE_RUNTIME=3]="LITE_RUNTIME"})(D6=pe.FileOptions_OptimizeMode||(pe.FileOptions_OptimizeMode={}));ne.proto2.util.setEnumType(D6,"google.protobuf.FileOptions.OptimizeMode",[{no:1,name:"SPEED"},{no:2,name:"CODE_SIZE"},{no:3,name:"LITE_RUNTIME"}]);var cs=class extends Bt.Message{constructor(e){super(),this.uninterpretedOption=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new cs().fromBinary(e,r)}static fromJson(e,r){return new cs().fromJson(e,r)}static fromJsonString(e,r){return new cs().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(cs,e,r)}};cs.runtime=ne.proto2;cs.typeName="google.protobuf.MessageOptions";cs.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"message_set_wire_format",kind:"scalar",T:8,opt:!0,default:!1},{no:2,name:"no_standard_descriptor_accessor",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:7,name:"map_entry",kind:"scalar",T:8,opt:!0},{no:11,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);pe.MessageOptions=cs;var ds=class extends Bt.Message{constructor(e){super(),this.targets=[],this.uninterpretedOption=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new ds().fromBinary(e,r)}static fromJson(e,r){return new ds().fromJson(e,r)}static fromJsonString(e,r){return new ds().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(ds,e,r)}};ds.runtime=ne.proto2;ds.typeName="google.protobuf.FieldOptions";ds.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"ctype",kind:"enum",T:ne.proto2.getEnumType(R6),opt:!0,default:R6.STRING},{no:2,name:"packed",kind:"scalar",T:8,opt:!0},{no:6,name:"jstype",kind:"enum",T:ne.proto2.getEnumType(P6),opt:!0,default:P6.JS_NORMAL},{no:5,name:"lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:15,name:"unverified_lazy",kind:"scalar",T:8,opt:!0,default:!1},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:10,name:"weak",kind:"scalar",T:8,opt:!0,default:!1},{no:16,name:"debug_redact",kind:"scalar",T:8,opt:!0,default:!1},{no:17,name:"retention",kind:"enum",T:ne.proto2.getEnumType($C),opt:!0},{no:18,name:"target",kind:"enum",T:ne.proto2.getEnumType(B6),opt:!0},{no:19,name:"targets",kind:"enum",T:ne.proto2.getEnumType(B6),repeated:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);pe.FieldOptions=ds;var R6;(function(t){t[t.STRING=0]="STRING",t[t.CORD=1]="CORD",t[t.STRING_PIECE=2]="STRING_PIECE"})(R6=pe.FieldOptions_CType||(pe.FieldOptions_CType={}));ne.proto2.util.setEnumType(R6,"google.protobuf.FieldOptions.CType",[{no:0,name:"STRING"},{no:1,name:"CORD"},{no:2,name:"STRING_PIECE"}]);var P6;(function(t){t[t.JS_NORMAL=0]="JS_NORMAL",t[t.JS_STRING=1]="JS_STRING",t[t.JS_NUMBER=2]="JS_NUMBER"})(P6=pe.FieldOptions_JSType||(pe.FieldOptions_JSType={}));ne.proto2.util.setEnumType(P6,"google.protobuf.FieldOptions.JSType",[{no:0,name:"JS_NORMAL"},{no:1,name:"JS_STRING"},{no:2,name:"JS_NUMBER"}]);var $C;(function(t){t[t.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",t[t.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",t[t.RETENTION_SOURCE=2]="RETENTION_SOURCE"})($C=pe.FieldOptions_OptionRetention||(pe.FieldOptions_OptionRetention={}));ne.proto2.util.setEnumType($C,"google.protobuf.FieldOptions.OptionRetention",[{no:0,name:"RETENTION_UNKNOWN"},{no:1,name:"RETENTION_RUNTIME"},{no:2,name:"RETENTION_SOURCE"}]);var B6;(function(t){t[t.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",t[t.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",t[t.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",t[t.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",t[t.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",t[t.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",t[t.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",t[t.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",t[t.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",t[t.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(B6=pe.FieldOptions_OptionTargetType||(pe.FieldOptions_OptionTargetType={}));ne.proto2.util.setEnumType(B6,"google.protobuf.FieldOptions.OptionTargetType",[{no:0,name:"TARGET_TYPE_UNKNOWN"},{no:1,name:"TARGET_TYPE_FILE"},{no:2,name:"TARGET_TYPE_EXTENSION_RANGE"},{no:3,name:"TARGET_TYPE_MESSAGE"},{no:4,name:"TARGET_TYPE_FIELD"},{no:5,name:"TARGET_TYPE_ONEOF"},{no:6,name:"TARGET_TYPE_ENUM"},{no:7,name:"TARGET_TYPE_ENUM_ENTRY"},{no:8,name:"TARGET_TYPE_SERVICE"},{no:9,name:"TARGET_TYPE_METHOD"}]);var ls=class extends Bt.Message{constructor(e){super(),this.uninterpretedOption=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new ls().fromBinary(e,r)}static fromJson(e,r){return new ls().fromJson(e,r)}static fromJsonString(e,r){return new ls().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(ls,e,r)}};ls.runtime=ne.proto2;ls.typeName="google.protobuf.OneofOptions";ls.fields=ne.proto2.util.newFieldList(()=>[{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);pe.OneofOptions=ls;var hs=class extends Bt.Message{constructor(e){super(),this.uninterpretedOption=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new hs().fromBinary(e,r)}static fromJson(e,r){return new hs().fromJson(e,r)}static fromJsonString(e,r){return new hs().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(hs,e,r)}};hs.runtime=ne.proto2;hs.typeName="google.protobuf.EnumOptions";hs.fields=ne.proto2.util.newFieldList(()=>[{no:2,name:"allow_alias",kind:"scalar",T:8,opt:!0},{no:3,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:6,name:"deprecated_legacy_json_field_conflicts",kind:"scalar",T:8,opt:!0},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);pe.EnumOptions=hs;var ps=class extends Bt.Message{constructor(e){super(),this.uninterpretedOption=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new ps().fromBinary(e,r)}static fromJson(e,r){return new ps().fromJson(e,r)}static fromJsonString(e,r){return new ps().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(ps,e,r)}};ps.runtime=ne.proto2;ps.typeName="google.protobuf.EnumValueOptions";ps.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);pe.EnumValueOptions=ps;var gs=class extends Bt.Message{constructor(e){super(),this.uninterpretedOption=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new gs().fromBinary(e,r)}static fromJson(e,r){return new gs().fromJson(e,r)}static fromJsonString(e,r){return new gs().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(gs,e,r)}};gs.runtime=ne.proto2;gs.typeName="google.protobuf.ServiceOptions";gs.fields=ne.proto2.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);pe.ServiceOptions=gs;var ys=class extends Bt.Message{constructor(e){super(),this.uninterpretedOption=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new ys().fromBinary(e,r)}static fromJson(e,r){return new ys().fromJson(e,r)}static fromJsonString(e,r){return new ys().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(ys,e,r)}};ys.runtime=ne.proto2;ys.typeName="google.protobuf.MethodOptions";ys.fields=ne.proto2.util.newFieldList(()=>[{no:33,name:"deprecated",kind:"scalar",T:8,opt:!0,default:!1},{no:34,name:"idempotency_level",kind:"enum",T:ne.proto2.getEnumType(M6),opt:!0,default:M6.IDEMPOTENCY_UNKNOWN},{no:999,name:"uninterpreted_option",kind:"message",T:Vr,repeated:!0}]);pe.MethodOptions=ys;var M6;(function(t){t[t.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",t[t.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",t[t.IDEMPOTENT=2]="IDEMPOTENT"})(M6=pe.MethodOptions_IdempotencyLevel||(pe.MethodOptions_IdempotencyLevel={}));ne.proto2.util.setEnumType(M6,"google.protobuf.MethodOptions.IdempotencyLevel",[{no:0,name:"IDEMPOTENCY_UNKNOWN"},{no:1,name:"NO_SIDE_EFFECTS"},{no:2,name:"IDEMPOTENT"}]);var Vr=class extends Bt.Message{constructor(e){super(),this.name=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new Vr().fromBinary(e,r)}static fromJson(e,r){return new Vr().fromJson(e,r)}static fromJsonString(e,r){return new Vr().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(Vr,e,r)}};Vr.runtime=ne.proto2;Vr.typeName="google.protobuf.UninterpretedOption";Vr.fields=ne.proto2.util.newFieldList(()=>[{no:2,name:"name",kind:"message",T:vs,repeated:!0},{no:3,name:"identifier_value",kind:"scalar",T:9,opt:!0},{no:4,name:"positive_int_value",kind:"scalar",T:4,opt:!0},{no:5,name:"negative_int_value",kind:"scalar",T:3,opt:!0},{no:6,name:"double_value",kind:"scalar",T:1,opt:!0},{no:7,name:"string_value",kind:"scalar",T:12,opt:!0},{no:8,name:"aggregate_value",kind:"scalar",T:9,opt:!0}]);pe.UninterpretedOption=Vr;var vs=class extends Bt.Message{constructor(e){super(),ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new vs().fromBinary(e,r)}static fromJson(e,r){return new vs().fromJson(e,r)}static fromJsonString(e,r){return new vs().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(vs,e,r)}};vs.runtime=ne.proto2;vs.typeName="google.protobuf.UninterpretedOption.NamePart";vs.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"name_part",kind:"scalar",T:9},{no:2,name:"is_extension",kind:"scalar",T:8}]);pe.UninterpretedOption_NamePart=vs;var ms=class extends Bt.Message{constructor(e){super(),this.location=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new ms().fromBinary(e,r)}static fromJson(e,r){return new ms().fromJson(e,r)}static fromJsonString(e,r){return new ms().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(ms,e,r)}};ms.runtime=ne.proto2;ms.typeName="google.protobuf.SourceCodeInfo";ms.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"location",kind:"message",T:_s,repeated:!0}]);pe.SourceCodeInfo=ms;var _s=class extends Bt.Message{constructor(e){super(),this.path=[],this.span=[],this.leadingDetachedComments=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new _s().fromBinary(e,r)}static fromJson(e,r){return new _s().fromJson(e,r)}static fromJsonString(e,r){return new _s().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(_s,e,r)}};_s.runtime=ne.proto2;_s.typeName="google.protobuf.SourceCodeInfo.Location";_s.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"span",kind:"scalar",T:5,repeated:!0,packed:!0},{no:3,name:"leading_comments",kind:"scalar",T:9,opt:!0},{no:4,name:"trailing_comments",kind:"scalar",T:9,opt:!0},{no:6,name:"leading_detached_comments",kind:"scalar",T:9,repeated:!0}]);pe.SourceCodeInfo_Location=_s;var mu=class extends Bt.Message{constructor(e){super(),this.annotation=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new mu().fromBinary(e,r)}static fromJson(e,r){return new mu().fromJson(e,r)}static fromJsonString(e,r){return new mu().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(mu,e,r)}};mu.runtime=ne.proto2;mu.typeName="google.protobuf.GeneratedCodeInfo";mu.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"annotation",kind:"message",T:xs,repeated:!0}]);pe.GeneratedCodeInfo=mu;var xs=class extends Bt.Message{constructor(e){super(),this.path=[],ne.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new xs().fromBinary(e,r)}static fromJson(e,r){return new xs().fromJson(e,r)}static fromJsonString(e,r){return new xs().fromJsonString(e,r)}static equals(e,r){return ne.proto2.util.equals(xs,e,r)}};xs.runtime=ne.proto2;xs.typeName="google.protobuf.GeneratedCodeInfo.Annotation";xs.fields=ne.proto2.util.newFieldList(()=>[{no:1,name:"path",kind:"scalar",T:5,repeated:!0,packed:!0},{no:2,name:"source_file",kind:"scalar",T:9,opt:!0},{no:3,name:"begin",kind:"scalar",T:5,opt:!0},{no:4,name:"end",kind:"scalar",T:5,opt:!0},{no:5,name:"semantic",kind:"enum",T:ne.proto2.getEnumType(ZC),opt:!0}]);pe.GeneratedCodeInfo_Annotation=xs;var ZC;(function(t){t[t.NONE=0]="NONE",t[t.SET=1]="SET",t[t.ALIAS=2]="ALIAS"})(ZC=pe.GeneratedCodeInfo_Annotation_Semantic||(pe.GeneratedCodeInfo_Annotation_Semantic={}));ne.proto2.util.setEnumType(ZC,"google.protobuf.GeneratedCodeInfo.Annotation.Semantic",[{no:0,name:"NONE"},{no:1,name:"SET"},{no:2,name:"ALIAS"}])});var rA=E($g=>{"use strict";h();p();Object.defineProperty($g,"__esModule",{value:!0});$g.isPackedFieldByDefault=$g.createDescriptorSet=void 0;var Ue=v2(),lt=yu(),et=uo(),Xg=WC(),PG=Kh(),QC=Ec();function Uye(t){let e={enums:new Map,messages:new Map,services:new Map,extensions:new Map,mapEntries:new Map},n=(t instanceof Ue.FileDescriptorSet?t.file:t instanceof Uint8Array?Ue.FileDescriptorSet.fromBinary(t).file:t).map(i=>kye(i,e));return Object.assign({files:n},e)}$g.createDescriptorSet=Uye;function kye(t,e){var r,n,i;(0,lt.assert)(t.name,"invalid FileDescriptorProto: missing name"),(0,lt.assert)(t.syntax===void 0||t.syntax==="proto3",`invalid FileDescriptorProto: unsupported syntax: ${(r=t.syntax)!==null&&r!==void 0?r:"undefined"}`);let a={kind:"file",proto:t,deprecated:(i=(n=t.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,syntax:t.syntax==="proto3"?"proto3":"proto2",name:t.name.replace(/\.proto/,""),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${this.proto.name}`},getSyntaxComments(){return If(this.proto.sourceCodeInfo,[ya.FileDescriptorProto_Syntax])},getPackageComments(){return If(this.proto.sourceCodeInfo,[ya.FileDescriptorProto_Package])}};e.mapEntries.clear();for(let o of t.enumType)BG(o,a,void 0,e);for(let o of t.messageType)MG(o,a,void 0,e);for(let o of t.service)jye(o,a,e);eA(a,e);for(let o of e.mapEntries.values())tA(o,e);for(let o of a.messages)tA(o,e),eA(o,e);return e.mapEntries.clear(),a}function eA(t,e){switch(t.kind){case"file":for(let r of t.proto.extension){let n=DG(r,t,void 0,e);t.extensions.push(n),e.extensions.set(n.typeName,n)}break;case"message":for(let r of t.proto.extension){let n=DG(r,t.file,t,e);t.nestedExtensions.push(n),e.extensions.set(n.typeName,n)}for(let r of t.nestedMessages)eA(r,e);break}}function tA(t,e){let r=t.proto.oneofDecl.map(i=>Kye(i,t)),n=new Set;for(let i of t.proto.field){let a=Gye(i,r),o=NG(i,t.file,t,a,e);t.fields.push(o),a===void 0?t.members.push(o):(a.fields.push(o),n.has(a)||(n.add(a),t.members.push(a)))}for(let i of r.filter(a=>n.has(a)))t.oneofs.push(i);for(let i of t.nestedMessages)tA(i,e)}function BG(t,e,r,n){var i,a,o;(0,lt.assert)(t.name,"invalid EnumDescriptorProto: missing name");let s={kind:"enum",proto:t,deprecated:(a=(i=t.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,file:e,parent:r,name:t.name,typeName:N6(t,r,e),values:[],sharedPrefix:(0,PG.findEnumSharedPrefix)(t.name,t.value.map(u=>{var f;return(f=u.name)!==null&&f!==void 0?f:""})),toString(){return`enum ${this.typeName}`},getComments(){let u=this.parent?[...this.parent.getComments().sourcePath,ya.DescriptorProto_EnumType,this.parent.proto.enumType.indexOf(this.proto)]:[ya.FileDescriptorProto_EnumType,this.file.proto.enumType.indexOf(this.proto)];return If(e.proto.sourceCodeInfo,u)}};n.enums.set(s.typeName,s),t.value.forEach(u=>{var f,c;(0,lt.assert)(u.name,"invalid EnumValueDescriptorProto: missing name"),(0,lt.assert)(u.number!==void 0,"invalid EnumValueDescriptorProto: missing number"),s.values.push({kind:"enum_value",proto:u,deprecated:(c=(f=u.options)===null||f===void 0?void 0:f.deprecated)!==null&&c!==void 0?c:!1,parent:s,name:u.name,number:u.number,toString(){return`enum value ${s.typeName}.${this.name}`},declarationString(){var l;let g=`${this.name} = ${this.number}`;return((l=this.proto.options)===null||l===void 0?void 0:l.deprecated)===!0&&(g+=" [deprecated = true]"),g},getComments(){let l=[...this.parent.getComments().sourcePath,ya.EnumDescriptorProto_Value,this.parent.proto.value.indexOf(this.proto)];return If(e.proto.sourceCodeInfo,l)}})}),((o=r?.nestedEnums)!==null&&o!==void 0?o:e.enums).push(s)}function MG(t,e,r,n){var i,a,o,s;(0,lt.assert)(t.name,"invalid DescriptorProto: missing name");let u={kind:"message",proto:t,deprecated:(a=(i=t.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,file:e,parent:r,name:t.name,typeName:N6(t,r,e),fields:[],oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`},getComments(){let f=this.parent?[...this.parent.getComments().sourcePath,ya.DescriptorProto_NestedType,this.parent.proto.nestedType.indexOf(this.proto)]:[ya.FileDescriptorProto_MessageType,this.file.proto.messageType.indexOf(this.proto)];return If(e.proto.sourceCodeInfo,f)}};((o=t.options)===null||o===void 0?void 0:o.mapEntry)===!0?n.mapEntries.set(u.typeName,u):(((s=r?.nestedMessages)!==null&&s!==void 0?s:e.messages).push(u),n.messages.set(u.typeName,u));for(let f of t.enumType)BG(f,e,u,n);for(let f of t.nestedType)MG(f,e,u,n)}function jye(t,e,r){var n,i;(0,lt.assert)(t.name,"invalid ServiceDescriptorProto: missing name");let a={kind:"service",proto:t,deprecated:(i=(n=t.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,file:e,name:t.name,typeName:N6(t,void 0,e),methods:[],toString(){return`service ${this.typeName}`},getComments(){let o=[ya.FileDescriptorProto_Service,this.file.proto.service.indexOf(this.proto)];return If(e.proto.sourceCodeInfo,o)}};e.services.push(a),r.services.set(a.typeName,a);for(let o of t.method)a.methods.push(Hye(o,a,r))}function Hye(t,e,r){var n,i,a;(0,lt.assert)(t.name,"invalid MethodDescriptorProto: missing name"),(0,lt.assert)(t.inputType,"invalid MethodDescriptorProto: missing input_type"),(0,lt.assert)(t.outputType,"invalid MethodDescriptorProto: missing output_type");let o;t.clientStreaming===!0&&t.serverStreaming===!0?o=Xg.MethodKind.BiDiStreaming:t.clientStreaming===!0?o=Xg.MethodKind.ClientStreaming:t.serverStreaming===!0?o=Xg.MethodKind.ServerStreaming:o=Xg.MethodKind.Unary;let s;switch((n=t.options)===null||n===void 0?void 0:n.idempotencyLevel){case Ue.MethodOptions_IdempotencyLevel.IDEMPOTENT:s=Xg.MethodIdempotency.Idempotent;break;case Ue.MethodOptions_IdempotencyLevel.NO_SIDE_EFFECTS:s=Xg.MethodIdempotency.NoSideEffects;break;case Ue.MethodOptions_IdempotencyLevel.IDEMPOTENCY_UNKNOWN:case void 0:s=void 0;break}let u=r.messages.get(Jg(t.inputType)),f=r.messages.get(Jg(t.outputType));(0,lt.assert)(u,`invalid MethodDescriptorProto: input_type ${t.inputType} not found`),(0,lt.assert)(f,`invalid MethodDescriptorProto: output_type ${t.inputType} not found`);let c=t.name;return{kind:"rpc",proto:t,deprecated:(a=(i=t.options)===null||i===void 0?void 0:i.deprecated)!==null&&a!==void 0?a:!1,parent:e,name:c,methodKind:o,input:u,output:f,idempotency:s,toString(){return`rpc ${e.typeName}.${c}`},getComments(){let l=[...this.parent.getComments().sourcePath,ya.ServiceDescriptorProto_Method,this.parent.proto.method.indexOf(this.proto)];return If(e.file.proto.sourceCodeInfo,l)}}}function Kye(t,e){return(0,lt.assert)(t.name,"invalid OneofDescriptorProto: missing name"),{kind:"oneof",proto:t,deprecated:!1,parent:e,fields:[],name:t.name,toString(){return`oneof ${e.typeName}.${this.name}`},getComments(){let r=[...this.parent.getComments().sourcePath,ya.DescriptorProto_OneofDecl,this.parent.proto.oneofDecl.indexOf(this.proto)];return If(e.file.proto.sourceCodeInfo,r)}}}function NG(t,e,r,n,i){var a,o,s,u;(0,lt.assert)(t.name,"invalid FieldDescriptorProto: missing name"),(0,lt.assert)(t.number,"invalid FieldDescriptorProto: missing number"),(0,lt.assert)(t.type,"invalid FieldDescriptorProto: missing type");let f=qG(t,e.syntax),c={proto:t,deprecated:(o=(a=t.options)===null||a===void 0?void 0:a.deprecated)!==null&&o!==void 0?o:!1,name:t.name,number:t.number,parent:r,oneof:n,optional:zye(t,e.syntax),packed:(u=(s=t.options)===null||s===void 0?void 0:s.packed)!==null&&u!==void 0?u:f,packedByDefault:f,jsonName:t.jsonName===(0,PG.fieldJsonName)(t.name)?void 0:t.jsonName,scalar:void 0,message:void 0,enum:void 0,mapKey:void 0,mapValue:void 0,toString(){return`field ${this.parent.typeName}.${this.name}`},declarationString:Wye,getComments(){let g=[...this.parent.getComments().sourcePath,ya.DescriptorProto_Field,this.parent.proto.field.indexOf(this.proto)];return If(e.proto.sourceCodeInfo,g)}},l=t.label===Ue.FieldDescriptorProto_Label.REPEATED;switch(t.type){case Ue.FieldDescriptorProto_Type.MESSAGE:case Ue.FieldDescriptorProto_Type.GROUP:{(0,lt.assert)(t.typeName,"invalid FieldDescriptorProto: missing type_name");let g=i.mapEntries.get(Jg(t.typeName));if(g!==void 0)return(0,lt.assert)(l,"invalid FieldDescriptorProto: expected map entry to be repeated"),Object.assign(Object.assign(Object.assign({},c),{kind:"field",fieldKind:"map",repeated:!1}),Vye(g));let y=i.messages.get(Jg(t.typeName));return(0,lt.assert)(y!==void 0,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),Object.assign(Object.assign({},c),{kind:"field",fieldKind:"message",repeated:l,message:y})}case Ue.FieldDescriptorProto_Type.ENUM:{(0,lt.assert)(t.typeName,"invalid FieldDescriptorProto: missing type_name");let g=i.enums.get(Jg(t.typeName));return(0,lt.assert)(g!==void 0,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),Object.assign(Object.assign({},c),{kind:"field",fieldKind:"enum",getDefaultValue:RG,repeated:l,enum:g})}default:{let g=Yye[t.type];return(0,lt.assert)(g,`invalid FieldDescriptorProto: unknown type ${t.type}`),Object.assign(Object.assign({},c),{kind:"field",fieldKind:"scalar",getDefaultValue:RG,repeated:l,scalar:g})}}}function DG(t,e,r,n){(0,lt.assert)(t.extendee,"invalid FieldDescriptorProto: missing extendee");let i=NG(t,e,null,void 0,n),a=n.messages.get(Jg(t.extendee));return(0,lt.assert)(a,`invalid FieldDescriptorProto: extendee ${t.extendee} not found`),Object.assign(Object.assign({},i),{kind:"extension",typeName:N6(t,r,e),parent:r,file:e,extendee:a,toString(){return`extension ${this.typeName}`},getComments(){let o=this.parent?[...this.parent.getComments().sourcePath,ya.DescriptorProto_Extension,this.parent.proto.extension.indexOf(t)]:[ya.FileDescriptorProto_Extension,this.file.proto.extension.indexOf(t)];return If(e.proto.sourceCodeInfo,o)}})}function N6(t,e,r){(0,lt.assert)(t.name,`invalid ${t.getType().typeName}: missing name`);let n;return e?n=`${e.typeName}.${t.name}`:r.proto.package!==void 0?n=`${r.proto.package}.${t.name}`:n=`${t.name}`,n}function Jg(t){return t.startsWith(".")?t.substring(1):t}function Vye(t){var e,r;(0,lt.assert)((e=t.proto.options)===null||e===void 0?void 0:e.mapEntry,`invalid DescriptorProto: expected ${t.toString()} to be a map entry`),(0,lt.assert)(t.fields.length===2,`invalid DescriptorProto: map entry ${t.toString()} has ${t.fields.length} fields`);let n=t.fields.find(o=>o.proto.number===1);(0,lt.assert)(n,`invalid DescriptorProto: map entry ${t.toString()} is missing key field`);let i=n.scalar;(0,lt.assert)(i!==void 0&&i!==et.ScalarType.BYTES&&i!==et.ScalarType.FLOAT&&i!==et.ScalarType.DOUBLE,`invalid DescriptorProto: map entry ${t.toString()} has unexpected key type ${(r=n.proto.type)!==null&&r!==void 0?r:-1}`);let a=t.fields.find(o=>o.proto.number===2);switch((0,lt.assert)(a,`invalid DescriptorProto: map entry ${t.toString()} is missing value field`),a.fieldKind){case"scalar":return{mapKey:i,mapValue:Object.assign(Object.assign({},a),{kind:"scalar"})};case"message":return{mapKey:i,mapValue:Object.assign(Object.assign({},a),{kind:"message"})};case"enum":return{mapKey:i,mapValue:Object.assign(Object.assign({},a),{kind:"enum"})};default:throw new Error("invalid DescriptorProto: unsupported map entry value field")}}function Gye(t,e){var r;let n=t.oneofIndex;if(n===void 0)return;let i;return t.proto3Optional!==!0&&(i=e[n],(0,lt.assert)(i,`invalid FieldDescriptorProto: oneof #${n} for field #${(r=t.number)!==null&&r!==void 0?r:-1} not found`)),i}function zye(t,e){switch(e){case"proto2":return t.oneofIndex===void 0&&t.label===Ue.FieldDescriptorProto_Label.OPTIONAL;case"proto3":return t.proto3Optional===!0}}function qG(t,e){if((0,lt.assert)(t.type,"invalid FieldDescriptorProto: missing type"),e==="proto3")switch(t.type){case Ue.FieldDescriptorProto_Type.DOUBLE:case Ue.FieldDescriptorProto_Type.FLOAT:case Ue.FieldDescriptorProto_Type.INT64:case Ue.FieldDescriptorProto_Type.UINT64:case Ue.FieldDescriptorProto_Type.INT32:case Ue.FieldDescriptorProto_Type.FIXED64:case Ue.FieldDescriptorProto_Type.FIXED32:case Ue.FieldDescriptorProto_Type.UINT32:case Ue.FieldDescriptorProto_Type.SFIXED32:case Ue.FieldDescriptorProto_Type.SFIXED64:case Ue.FieldDescriptorProto_Type.SINT32:case Ue.FieldDescriptorProto_Type.SINT64:case Ue.FieldDescriptorProto_Type.BOOL:case Ue.FieldDescriptorProto_Type.ENUM:return!0;default:return!1}return!1}$g.isPackedFieldByDefault=qG;var Yye={[Ue.FieldDescriptorProto_Type.DOUBLE]:et.ScalarType.DOUBLE,[Ue.FieldDescriptorProto_Type.FLOAT]:et.ScalarType.FLOAT,[Ue.FieldDescriptorProto_Type.INT64]:et.ScalarType.INT64,[Ue.FieldDescriptorProto_Type.UINT64]:et.ScalarType.UINT64,[Ue.FieldDescriptorProto_Type.INT32]:et.ScalarType.INT32,[Ue.FieldDescriptorProto_Type.FIXED64]:et.ScalarType.FIXED64,[Ue.FieldDescriptorProto_Type.FIXED32]:et.ScalarType.FIXED32,[Ue.FieldDescriptorProto_Type.BOOL]:et.ScalarType.BOOL,[Ue.FieldDescriptorProto_Type.STRING]:et.ScalarType.STRING,[Ue.FieldDescriptorProto_Type.GROUP]:void 0,[Ue.FieldDescriptorProto_Type.MESSAGE]:void 0,[Ue.FieldDescriptorProto_Type.BYTES]:et.ScalarType.BYTES,[Ue.FieldDescriptorProto_Type.UINT32]:et.ScalarType.UINT32,[Ue.FieldDescriptorProto_Type.ENUM]:void 0,[Ue.FieldDescriptorProto_Type.SFIXED32]:et.ScalarType.SFIXED32,[Ue.FieldDescriptorProto_Type.SFIXED64]:et.ScalarType.SFIXED64,[Ue.FieldDescriptorProto_Type.SINT32]:et.ScalarType.SINT32,[Ue.FieldDescriptorProto_Type.SINT64]:et.ScalarType.SINT64};function If(t,e){if(!t)return{leadingDetached:[],sourcePath:e};for(let r of t.location)if(r.path.length===e.length&&!r.path.some((n,i)=>e[i]!==n))return{leadingDetached:r.leadingDetachedComments,leading:r.leadingComments,trailing:r.trailingComments,sourcePath:e};return{leadingDetached:[],sourcePath:e}}var ya;(function(t){t[t.FileDescriptorProto_Package=2]="FileDescriptorProto_Package",t[t.FileDescriptorProto_MessageType=4]="FileDescriptorProto_MessageType",t[t.FileDescriptorProto_EnumType=5]="FileDescriptorProto_EnumType",t[t.FileDescriptorProto_Service=6]="FileDescriptorProto_Service",t[t.FileDescriptorProto_Extension=7]="FileDescriptorProto_Extension",t[t.FileDescriptorProto_Syntax=12]="FileDescriptorProto_Syntax",t[t.DescriptorProto_Field=2]="DescriptorProto_Field",t[t.DescriptorProto_NestedType=3]="DescriptorProto_NestedType",t[t.DescriptorProto_EnumType=4]="DescriptorProto_EnumType",t[t.DescriptorProto_Extension=6]="DescriptorProto_Extension",t[t.DescriptorProto_OneofDecl=8]="DescriptorProto_OneofDecl",t[t.EnumDescriptorProto_Value=2]="EnumDescriptorProto_Value",t[t.ServiceDescriptorProto_Method=2]="ServiceDescriptorProto_Method"})(ya||(ya={}));function Wye(){var t,e;let r=[];this.repeated&&r.push("repeated"),this.optional&&r.push("optional"),(this.kind==="extension"?this.file:this.parent.file).syntax=="proto2"&&this.proto.label===Ue.FieldDescriptorProto_Label.REQUIRED&&r.push("required");let i;switch(this.fieldKind){case"scalar":i=et.ScalarType[this.scalar].toLowerCase();break;case"enum":i=this.enum.typeName;break;case"message":i=this.message.typeName;break;case"map":{let s=et.ScalarType[this.mapKey].toLowerCase(),u;switch(this.mapValue.kind){case"scalar":u=et.ScalarType[this.mapValue.scalar].toLowerCase();break;case"enum":u=this.mapValue.enum.typeName;break;case"message":u=this.mapValue.message.typeName;break}i=`map<${s}, ${u}>`;break}}r.push(`${i} ${this.name} = ${this.number}`);let a=[];((t=this.proto.options)===null||t===void 0?void 0:t.packed)!==void 0&&a.push(`packed = ${this.proto.options.packed.toString()}`);let o=this.proto.defaultValue;return o!==void 0&&((this.proto.type==Ue.FieldDescriptorProto_Type.BYTES||this.proto.type==Ue.FieldDescriptorProto_Type.STRING)&&(o='"'+o.replace('"','\\"')+'"'),a.push(`default = ${o}`)),this.jsonName!==void 0&&a.push(`json_name = "${this.jsonName}"`),((e=this.proto.options)===null||e===void 0?void 0:e.deprecated)===!0&&a.push("deprecated = true"),a.length>0&&r.push("["+a.join(", ")+"]"),r.join(" ")}function RG(){let t=this.proto.defaultValue;if(t!==void 0)switch(this.fieldKind){case"enum":{let e=this.enum.values.find(r=>r.name===t);return(0,lt.assert)(e,`cannot parse ${this.toString()} default value: ${t}`),e.number}case"scalar":switch(this.scalar){case et.ScalarType.STRING:return t;case et.ScalarType.BYTES:{let e=Xye(t);if(e===!1)throw new Error(`cannot parse ${this.toString()} default value: ${t}`);return e}case et.ScalarType.INT64:case et.ScalarType.SFIXED64:case et.ScalarType.SINT64:return QC.protoInt64.parse(t);case et.ScalarType.UINT64:case et.ScalarType.FIXED64:return QC.protoInt64.uParse(t);case et.ScalarType.DOUBLE:case et.ScalarType.FLOAT:switch(t){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(t)}case et.ScalarType.BOOL:return t==="true";case et.ScalarType.INT32:case et.ScalarType.UINT32:case et.ScalarType.SINT32:case et.ScalarType.FIXED32:case et.ScalarType.SFIXED32:return parseInt(t,10)}break;default:return}}function Xye(t){let e=[],r={tail:t,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(n){if(this.tail.length>=n){let i=this.tail.substring(0,n);return this.tail=this.tail.substring(n),i}return!1}};for(;r.next();)switch(r.c){case"\\":if(r.next())switch(r.c){case"\\":e.push(r.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{let n=r.c,i=r.take(2);if(i===!1)return!1;let a=parseInt(n+i,8);if(isNaN(a))return!1;e.push(a);break}case"x":{let n=r.c,i=r.take(2);if(i===!1)return!1;let a=parseInt(n+i,16);if(isNaN(a))return!1;e.push(a);break}case"u":{let n=r.c,i=r.take(4);if(i===!1)return!1;let a=parseInt(n+i,16);if(isNaN(a))return!1;let o=new Uint8Array(4);new DataView(o.buffer).setInt32(0,a,!0),e.push(o[0],o[1],o[2],o[3]);break}case"U":{let n=r.c,i=r.take(8);if(i===!1)return!1;let a=QC.protoInt64.uEnc(n+i),o=new Uint8Array(8),s=new DataView(o.buffer);s.setInt32(0,a.lo,!0),s.setInt32(4,a.hi,!0),e.push(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7]);break}}break;default:e.push(r.c.charCodeAt(0))}return new Uint8Array(e)}});var FG=E(q6=>{"use strict";h();p();Object.defineProperty(q6,"__esModule",{value:!0});q6.createRegistry=void 0;function Jye(...t){let e={},r={},n={},i={add(a){if("fields"in a){if(!this.findMessage(a.typeName)){e[a.typeName]=a;for(let o of a.fields.list())o.kind=="message"?this.add(o.T):o.kind=="map"&&o.V.kind=="message"?this.add(o.V.T):o.kind=="enum"&&this.add(o.T)}}else if("methods"in a){if(!this.findService(a.typeName)){n[a.typeName]=a;for(let o of Object.values(a.methods))this.add(o.I),this.add(o.O)}}else r[a.typeName]=a},findMessage(a){return e[a]},findEnum(a){return r[a]},findService(a){return n[a]}};for(let a of t)i.add(a);return i}q6.createRegistry=Jye});var iA=E(F6=>{"use strict";h();p();Object.defineProperty(F6,"__esModule",{value:!0});F6.Timestamp=void 0;var $ye=rn(),nA=Ec(),m2=fo(),ho=class extends $ye.Message{constructor(e){super(),this.seconds=nA.protoInt64.zero,this.nanos=0,m2.proto3.util.initPartial(e,this)}fromJson(e,r){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Timestamp from JSON: ${m2.proto3.json.debug(e)}`);let n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");let i=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(i))throw new Error("cannot decode google.protobuf.Timestamp from JSON: invalid RFC 3339 string");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot decode message google.protobuf.Timestamp from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");return this.seconds=nA.protoInt64.parse(i/1e3),this.nanos=0,n[7]&&(this.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),this}toJson(e){let r=Number(this.seconds)*1e3;if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new Error("cannot encode google.protobuf.Timestamp to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive");if(this.nanos<0)throw new Error("cannot encode google.protobuf.Timestamp to JSON: nanos must not be negative");let n="Z";if(this.nanos>0){let i=(this.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?n="."+i.substring(0,3)+"Z":i.substring(6)==="000"?n="."+i.substring(0,6)+"Z":n="."+i+"Z"}return new Date(r).toISOString().replace(".000Z",n)}toDate(){return new Date(Number(this.seconds)*1e3+Math.ceil(this.nanos/1e6))}static now(){return ho.fromDate(new Date)}static fromDate(e){let r=e.getTime();return new ho({seconds:nA.protoInt64.parse(Math.floor(r/1e3)),nanos:r%1e3*1e6})}static fromBinary(e,r){return new ho().fromBinary(e,r)}static fromJson(e,r){return new ho().fromJson(e,r)}static fromJsonString(e,r){return new ho().fromJsonString(e,r)}static equals(e,r){return m2.proto3.util.equals(ho,e,r)}};ho.runtime=m2.proto3;ho.typeName="google.protobuf.Timestamp";ho.fields=m2.proto3.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);F6.Timestamp=ho});var oA=E(L6=>{"use strict";h();p();Object.defineProperty(L6,"__esModule",{value:!0});L6.Duration=void 0;var Zye=rn(),aA=Ec(),Gh=fo(),_u=class extends Zye.Message{constructor(e){super(),this.seconds=aA.protoInt64.zero,this.nanos=0,Gh.proto3.util.initPartial(e,this)}fromJson(e,r){if(typeof e!="string")throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Gh.proto3.json.debug(e)}`);let n=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Gh.proto3.json.debug(e)}`);let i=Number(n[1]);if(i>315576e6||i<-315576e6)throw new Error(`cannot decode google.protobuf.Duration from JSON: ${Gh.proto3.json.debug(e)}`);if(this.seconds=aA.protoInt64.parse(i),typeof n[2]=="string"){let a=n[2]+"0".repeat(9-n[2].length);this.nanos=parseInt(a),(i<0||Object.is(i,-0))&&(this.nanos=-this.nanos)}return this}toJson(e){if(Number(this.seconds)>315576e6||Number(this.seconds)<-315576e6)throw new Error("cannot encode google.protobuf.Duration to JSON: value out of range");let r=this.seconds.toString();if(this.nanos!==0){let n=Math.abs(this.nanos).toString();n="0".repeat(9-n.length)+n,n.substring(3)==="000000"?n=n.substring(0,3):n.substring(6)==="000"&&(n=n.substring(0,6)),r+="."+n,this.nanos<0&&this.seconds===aA.protoInt64.zero&&(r="-"+r)}return r+"s"}static fromBinary(e,r){return new _u().fromBinary(e,r)}static fromJson(e,r){return new _u().fromJson(e,r)}static fromJsonString(e,r){return new _u().fromJsonString(e,r)}static equals(e,r){return Gh.proto3.util.equals(_u,e,r)}};_u.runtime=Gh.proto3;_u.typeName="google.protobuf.Duration";_u.fields=Gh.proto3.util.newFieldList(()=>[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}]);L6.Duration=_u});var j6=E(k6=>{"use strict";h();p();Object.defineProperty(k6,"__esModule",{value:!0});k6.Any=void 0;var Qye=rn(),U6=fo(),bs=class extends Qye.Message{constructor(e){super(),this.typeUrl="",this.value=new Uint8Array(0),U6.proto3.util.initPartial(e,this)}toJson(e){var r;if(this.typeUrl==="")return{};let n=this.typeUrlToName(this.typeUrl),i=(r=e?.typeRegistry)===null||r===void 0?void 0:r.findMessage(n);if(!i)throw new Error(`cannot encode message google.protobuf.Any to JSON: "${this.typeUrl}" is not in the type registry`);let o=i.fromBinary(this.value).toJson(e);return(n.startsWith("google.protobuf.")||o===null||Array.isArray(o)||typeof o!="object")&&(o={value:o}),o["@type"]=this.typeUrl,o}fromJson(e,r){var n;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message google.protobuf.Any from JSON: expected object but got ${e===null?"null":Array.isArray(e)?"array":typeof e}`);if(Object.keys(e).length==0)return this;let i=e["@type"];if(typeof i!="string"||i=="")throw new Error('cannot decode message google.protobuf.Any from JSON: "@type" is empty');let a=this.typeUrlToName(i),o=(n=r?.typeRegistry)===null||n===void 0?void 0:n.findMessage(a);if(!o)throw new Error(`cannot decode message google.protobuf.Any from JSON: ${i} is not in the type registry`);let s;if(a.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value"))s=o.fromJson(e.value,r);else{let u=Object.assign({},e);delete u["@type"],s=o.fromJson(u,r)}return this.packFrom(s),this}packFrom(e){this.value=e.toBinary(),this.typeUrl=this.typeNameToUrl(e.getType().typeName)}unpackTo(e){return this.is(e.getType())?(e.fromBinary(this.value),!0):!1}unpack(e){if(this.typeUrl==="")return;let r=e.findMessage(this.typeUrlToName(this.typeUrl));if(!!r)return r.fromBinary(this.value)}is(e){if(this.typeUrl==="")return!1;let r=this.typeUrlToName(this.typeUrl),n="";return typeof e=="string"?n=e:n=e.typeName,r===n}typeNameToUrl(e){return`type.googleapis.com/${e}`}typeUrlToName(e){if(!e.length)throw new Error(`invalid type url: ${e}`);let r=e.lastIndexOf("/"),n=r>0?e.substring(r+1):e;if(!n.length)throw new Error(`invalid type url: ${e}`);return n}static pack(e){let r=new bs;return r.packFrom(e),r}static fromBinary(e,r){return new bs().fromBinary(e,r)}static fromJson(e,r){return new bs().fromJson(e,r)}static fromJsonString(e,r){return new bs().fromJsonString(e,r)}static equals(e,r){return U6.proto3.util.equals(bs,e,r)}};bs.runtime=U6.proto3;bs.typeName="google.protobuf.Any";bs.fields=U6.proto3.util.newFieldList(()=>[{no:1,name:"type_url",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:12}]);k6.Any=bs});var sA=E(K6=>{"use strict";h();p();Object.defineProperty(K6,"__esModule",{value:!0});K6.Empty=void 0;var eve=rn(),H6=fo(),xu=class extends eve.Message{constructor(e){super(),H6.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new xu().fromBinary(e,r)}static fromJson(e,r){return new xu().fromJson(e,r)}static fromJsonString(e,r){return new xu().fromJsonString(e,r)}static equals(e,r){return H6.proto3.util.equals(xu,e,r)}};xu.runtime=H6.proto3;xu.typeName="google.protobuf.Empty";xu.fields=H6.proto3.util.newFieldList(()=>[]);K6.Empty=xu});var uA=E(V6=>{"use strict";h();p();Object.defineProperty(V6,"__esModule",{value:!0});V6.FieldMask=void 0;var tve=rn(),_2=fo(),bu=class extends tve.Message{constructor(e){super(),this.paths=[],_2.proto3.util.initPartial(e,this)}toJson(e){function r(n){let i=!1,a=[];for(let o=0;o<n.length;o++){let s=n.charAt(o);switch(s){case"_":i=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":a.push(s),i=!1;break;default:i&&(i=!1,s=s.toUpperCase()),a.push(s);break}}return a.join("")}return this.paths.map(n=>{if(n.match(/_[0-9]?_/g)||n.match(/[A-Z]/g))throw new Error('cannot encode google.protobuf.FieldMask to JSON: lowerCamelCase of path name "'+n+'" is irreversible');return r(n)}).join(",")}fromJson(e,r){if(typeof e!="string")throw new Error("cannot decode google.protobuf.FieldMask from JSON: "+_2.proto3.json.debug(e));if(e==="")return this;function n(i){if(i.includes("_"))throw new Error("cannot decode google.protobuf.FieldMask from JSON: path names must be lowerCamelCase");let a=i.replace(/[A-Z]/g,o=>"_"+o.toLowerCase());return a[0]==="_"?a.substring(1):a}return this.paths=e.split(",").map(n),this}static fromBinary(e,r){return new bu().fromBinary(e,r)}static fromJson(e,r){return new bu().fromJson(e,r)}static fromJsonString(e,r){return new bu().fromJsonString(e,r)}static equals(e,r){return _2.proto3.util.equals(bu,e,r)}};bu.runtime=_2.proto3;bu.typeName="google.protobuf.FieldMask";bu.fields=_2.proto3.util.newFieldList(()=>[{no:1,name:"paths",kind:"scalar",T:9,repeated:!0}]);V6.FieldMask=bu});var cA=E(wu=>{"use strict";h();p();Object.defineProperty(wu,"__esModule",{value:!0});wu.ListValue=wu.Value=wu.Struct=wu.NullValue=void 0;var qn=fo(),fA=rn(),G6;(function(t){t[t.NULL_VALUE=0]="NULL_VALUE"})(G6=wu.NullValue||(wu.NullValue={}));qn.proto3.util.setEnumType(G6,"google.protobuf.NullValue",[{no:0,name:"NULL_VALUE"}]);var po=class extends fA.Message{constructor(e){super(),this.fields={},qn.proto3.util.initPartial(e,this)}toJson(e){let r={};for(let[n,i]of Object.entries(this.fields))r[n]=i.toJson(e);return r}fromJson(e,r){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error("cannot decode google.protobuf.Struct from JSON "+qn.proto3.json.debug(e));for(let[n,i]of Object.entries(e))this.fields[n]=va.fromJson(i);return this}static fromBinary(e,r){return new po().fromBinary(e,r)}static fromJson(e,r){return new po().fromJson(e,r)}static fromJsonString(e,r){return new po().fromJsonString(e,r)}static equals(e,r){return qn.proto3.util.equals(po,e,r)}};po.runtime=qn.proto3;po.typeName="google.protobuf.Struct";po.fields=qn.proto3.util.newFieldList(()=>[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:va}}]);wu.Struct=po;var va=class extends fA.Message{constructor(e){super(),this.kind={case:void 0},qn.proto3.util.initPartial(e,this)}toJson(e){switch(this.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(this.kind.value))throw new Error("google.protobuf.Value cannot be NaN or Infinity");return this.kind.value;case"boolValue":return this.kind.value;case"stringValue":return this.kind.value;case"structValue":case"listValue":return this.kind.value.toJson(Object.assign(Object.assign({},e),{emitDefaultValues:!0}))}throw new Error("google.protobuf.Value must have a value")}fromJson(e,r){switch(typeof e){case"number":this.kind={case:"numberValue",value:e};break;case"string":this.kind={case:"stringValue",value:e};break;case"boolean":this.kind={case:"boolValue",value:e};break;case"object":e===null?this.kind={case:"nullValue",value:G6.NULL_VALUE}:Array.isArray(e)?this.kind={case:"listValue",value:go.fromJson(e)}:this.kind={case:"structValue",value:po.fromJson(e)};break;default:throw new Error("cannot decode google.protobuf.Value from JSON "+qn.proto3.json.debug(e))}return this}static fromBinary(e,r){return new va().fromBinary(e,r)}static fromJson(e,r){return new va().fromJson(e,r)}static fromJsonString(e,r){return new va().fromJsonString(e,r)}static equals(e,r){return qn.proto3.util.equals(va,e,r)}};va.runtime=qn.proto3;va.typeName="google.protobuf.Value";va.fields=qn.proto3.util.newFieldList(()=>[{no:1,name:"null_value",kind:"enum",T:qn.proto3.getEnumType(G6),oneof:"kind"},{no:2,name:"number_value",kind:"scalar",T:1,oneof:"kind"},{no:3,name:"string_value",kind:"scalar",T:9,oneof:"kind"},{no:4,name:"bool_value",kind:"scalar",T:8,oneof:"kind"},{no:5,name:"struct_value",kind:"message",T:po,oneof:"kind"},{no:6,name:"list_value",kind:"message",T:go,oneof:"kind"}]);wu.Value=va;var go=class extends fA.Message{constructor(e){super(),this.values=[],qn.proto3.util.initPartial(e,this)}toJson(e){return this.values.map(r=>r.toJson())}fromJson(e,r){if(!Array.isArray(e))throw new Error("cannot decode google.protobuf.ListValue from JSON "+qn.proto3.json.debug(e));for(let n of e)this.values.push(va.fromJson(n));return this}static fromBinary(e,r){return new go().fromBinary(e,r)}static fromJson(e,r){return new go().fromJson(e,r)}static fromJsonString(e,r){return new go().fromJsonString(e,r)}static equals(e,r){return qn.proto3.util.equals(go,e,r)}};go.runtime=qn.proto3;go.typeName="google.protobuf.ListValue";go.fields=qn.proto3.util.newFieldList(()=>[{no:1,name:"values",kind:"message",T:va,repeated:!0}]);wu.ListValue=go});var dA=E(Gr=>{"use strict";h();p();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.BytesValue=Gr.StringValue=Gr.BoolValue=Gr.UInt32Value=Gr.Int32Value=Gr.UInt64Value=Gr.Int64Value=Gr.FloatValue=Gr.DoubleValue=void 0;var Oc=rn(),De=fo(),xn=uo(),LG=Ec(),yo=class extends Oc.Message{constructor(e){super(),this.value=0,De.proto3.util.initPartial(e,this)}toJson(e){return De.proto3.json.writeScalar(xn.ScalarType.DOUBLE,this.value,!0)}fromJson(e,r){try{this.value=De.proto3.json.readScalar(xn.ScalarType.DOUBLE,e)}catch(n){let i='cannot decode message google.protobuf.DoubleValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,r){return new yo().fromBinary(e,r)}static fromJson(e,r){return new yo().fromJson(e,r)}static fromJsonString(e,r){return new yo().fromJsonString(e,r)}static equals(e,r){return De.proto3.util.equals(yo,e,r)}};yo.runtime=De.proto3;yo.typeName="google.protobuf.DoubleValue";yo.fields=De.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:1}]);yo.fieldWrapper={wrapField(t){return new yo({value:t})},unwrapField(t){return t.value}};Gr.DoubleValue=yo;var vo=class extends Oc.Message{constructor(e){super(),this.value=0,De.proto3.util.initPartial(e,this)}toJson(e){return De.proto3.json.writeScalar(xn.ScalarType.FLOAT,this.value,!0)}fromJson(e,r){try{this.value=De.proto3.json.readScalar(xn.ScalarType.FLOAT,e)}catch(n){let i='cannot decode message google.protobuf.FloatValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,r){return new vo().fromBinary(e,r)}static fromJson(e,r){return new vo().fromJson(e,r)}static fromJsonString(e,r){return new vo().fromJsonString(e,r)}static equals(e,r){return De.proto3.util.equals(vo,e,r)}};vo.runtime=De.proto3;vo.typeName="google.protobuf.FloatValue";vo.fields=De.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:2}]);vo.fieldWrapper={wrapField(t){return new vo({value:t})},unwrapField(t){return t.value}};Gr.FloatValue=vo;var mo=class extends Oc.Message{constructor(e){super(),this.value=LG.protoInt64.zero,De.proto3.util.initPartial(e,this)}toJson(e){return De.proto3.json.writeScalar(xn.ScalarType.INT64,this.value,!0)}fromJson(e,r){try{this.value=De.proto3.json.readScalar(xn.ScalarType.INT64,e)}catch(n){let i='cannot decode message google.protobuf.Int64Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,r){return new mo().fromBinary(e,r)}static fromJson(e,r){return new mo().fromJson(e,r)}static fromJsonString(e,r){return new mo().fromJsonString(e,r)}static equals(e,r){return De.proto3.util.equals(mo,e,r)}};mo.runtime=De.proto3;mo.typeName="google.protobuf.Int64Value";mo.fields=De.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:3}]);mo.fieldWrapper={wrapField(t){return new mo({value:t})},unwrapField(t){return t.value}};Gr.Int64Value=mo;var _o=class extends Oc.Message{constructor(e){super(),this.value=LG.protoInt64.zero,De.proto3.util.initPartial(e,this)}toJson(e){return De.proto3.json.writeScalar(xn.ScalarType.UINT64,this.value,!0)}fromJson(e,r){try{this.value=De.proto3.json.readScalar(xn.ScalarType.UINT64,e)}catch(n){let i='cannot decode message google.protobuf.UInt64Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,r){return new _o().fromBinary(e,r)}static fromJson(e,r){return new _o().fromJson(e,r)}static fromJsonString(e,r){return new _o().fromJsonString(e,r)}static equals(e,r){return De.proto3.util.equals(_o,e,r)}};_o.runtime=De.proto3;_o.typeName="google.protobuf.UInt64Value";_o.fields=De.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:4}]);_o.fieldWrapper={wrapField(t){return new _o({value:t})},unwrapField(t){return t.value}};Gr.UInt64Value=_o;var xo=class extends Oc.Message{constructor(e){super(),this.value=0,De.proto3.util.initPartial(e,this)}toJson(e){return De.proto3.json.writeScalar(xn.ScalarType.INT32,this.value,!0)}fromJson(e,r){try{this.value=De.proto3.json.readScalar(xn.ScalarType.INT32,e)}catch(n){let i='cannot decode message google.protobuf.Int32Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,r){return new xo().fromBinary(e,r)}static fromJson(e,r){return new xo().fromJson(e,r)}static fromJsonString(e,r){return new xo().fromJsonString(e,r)}static equals(e,r){return De.proto3.util.equals(xo,e,r)}};xo.runtime=De.proto3;xo.typeName="google.protobuf.Int32Value";xo.fields=De.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:5}]);xo.fieldWrapper={wrapField(t){return new xo({value:t})},unwrapField(t){return t.value}};Gr.Int32Value=xo;var bo=class extends Oc.Message{constructor(e){super(),this.value=0,De.proto3.util.initPartial(e,this)}toJson(e){return De.proto3.json.writeScalar(xn.ScalarType.UINT32,this.value,!0)}fromJson(e,r){try{this.value=De.proto3.json.readScalar(xn.ScalarType.UINT32,e)}catch(n){let i='cannot decode message google.protobuf.UInt32Value from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,r){return new bo().fromBinary(e,r)}static fromJson(e,r){return new bo().fromJson(e,r)}static fromJsonString(e,r){return new bo().fromJsonString(e,r)}static equals(e,r){return De.proto3.util.equals(bo,e,r)}};bo.runtime=De.proto3;bo.typeName="google.protobuf.UInt32Value";bo.fields=De.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:13}]);bo.fieldWrapper={wrapField(t){return new bo({value:t})},unwrapField(t){return t.value}};Gr.UInt32Value=bo;var wo=class extends Oc.Message{constructor(e){super(),this.value=!1,De.proto3.util.initPartial(e,this)}toJson(e){return De.proto3.json.writeScalar(xn.ScalarType.BOOL,this.value,!0)}fromJson(e,r){try{this.value=De.proto3.json.readScalar(xn.ScalarType.BOOL,e)}catch(n){let i='cannot decode message google.protobuf.BoolValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,r){return new wo().fromBinary(e,r)}static fromJson(e,r){return new wo().fromJson(e,r)}static fromJsonString(e,r){return new wo().fromJsonString(e,r)}static equals(e,r){return De.proto3.util.equals(wo,e,r)}};wo.runtime=De.proto3;wo.typeName="google.protobuf.BoolValue";wo.fields=De.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:8}]);wo.fieldWrapper={wrapField(t){return new wo({value:t})},unwrapField(t){return t.value}};Gr.BoolValue=wo;var Eo=class extends Oc.Message{constructor(e){super(),this.value="",De.proto3.util.initPartial(e,this)}toJson(e){return De.proto3.json.writeScalar(xn.ScalarType.STRING,this.value,!0)}fromJson(e,r){try{this.value=De.proto3.json.readScalar(xn.ScalarType.STRING,e)}catch(n){let i='cannot decode message google.protobuf.StringValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,r){return new Eo().fromBinary(e,r)}static fromJson(e,r){return new Eo().fromJson(e,r)}static fromJsonString(e,r){return new Eo().fromJsonString(e,r)}static equals(e,r){return De.proto3.util.equals(Eo,e,r)}};Eo.runtime=De.proto3;Eo.typeName="google.protobuf.StringValue";Eo.fields=De.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:9}]);Eo.fieldWrapper={wrapField(t){return new Eo({value:t})},unwrapField(t){return t.value}};Gr.StringValue=Eo;var So=class extends Oc.Message{constructor(e){super(),this.value=new Uint8Array(0),De.proto3.util.initPartial(e,this)}toJson(e){return De.proto3.json.writeScalar(xn.ScalarType.BYTES,this.value,!0)}fromJson(e,r){try{this.value=De.proto3.json.readScalar(xn.ScalarType.BYTES,e)}catch(n){let i='cannot decode message google.protobuf.BytesValue from JSON"';throw n instanceof Error&&n.message.length>0&&(i+=`: ${n.message}`),new Error(i)}return this}static fromBinary(e,r){return new So().fromBinary(e,r)}static fromJson(e,r){return new So().fromJson(e,r)}static fromJsonString(e,r){return new So().fromJsonString(e,r)}static equals(e,r){return De.proto3.util.equals(So,e,r)}};So.runtime=De.proto3;So.typeName="google.protobuf.BytesValue";So.fields=De.proto3.util.newFieldList(()=>[{no:1,name:"value",kind:"scalar",T:12}]);So.fieldWrapper={wrapField(t){return new So({value:t})},unwrapField(t){return t.value}};Gr.BytesValue=So});var HG=E(Y6=>{"use strict";h();p();Object.defineProperty(Y6,"__esModule",{value:!0});Y6.createRegistryFromDescriptors=void 0;var Zg=yu(),UG=fo(),kG=y2(),lA=Kh(),rve=iA(),jG=oA(),nve=j6(),ive=sA(),ave=uA(),z6=cA(),ove=t6(),Dc=dA(),sve=v2(),uve=rA(),fve=[nve.Any,jG.Duration,ive.Empty,ave.FieldMask,z6.Struct,z6.Value,z6.ListValue,rve.Timestamp,jG.Duration,Dc.DoubleValue,Dc.FloatValue,Dc.Int64Value,Dc.Int32Value,Dc.UInt32Value,Dc.UInt64Value,Dc.BoolValue,Dc.StringValue,Dc.BytesValue],cve=[(0,ove.getEnumType)(z6.NullValue)];function dve(t,e=!0){let r=t instanceof Uint8Array||t instanceof sve.FileDescriptorSet?(0,uve.createDescriptorSet)(t):t,n={},i={},a={};if(e){for(let o of fve)i[o.typeName]=o;for(let o of cve)n[o.typeName]=o}return{findEnum(o){let s=n[o];if(s)return s;let u=r.enums.get(o);if(!u)return;let c=(u.file.syntax=="proto3"?UG.proto3:kG.proto2).makeEnumType(o,u.values.map(l=>({no:l.number,name:l.name,localName:(0,lA.localName)(l)})),{});return n[o]=c,c},findMessage(o){let s=i[o];if(s)return s;let u=r.messages.get(o);if(!u)return;let f=u.file.syntax=="proto3"?UG.proto3:kG.proto2,c=[],l=f.makeMessageType(o,()=>c,{localName:(0,lA.localName)(u)});i[o]=l;for(let g of u.fields){let y=lve(g,this);c.push(y)}return l},findService(o){let s=a[o];if(s)return s;let u=r.services.get(o);if(!u)return;let f={};for(let c of u.methods){let l=this.findMessage(c.input.typeName),g=this.findMessage(c.output.typeName);(0,Zg.assert)(l,`message "${c.input.typeName}" for ${c.toString()} not found`),(0,Zg.assert)(g,`output message "${c.output.typeName}" for ${c.toString()} not found`),f[(0,lA.localName)(c)]={name:c.name,I:l,O:g,kind:c.methodKind,idempotency:c.idempotency}}return a[o]={typeName:u.typeName,methods:f}}}}Y6.createRegistryFromDescriptors=dve;function lve(t,e){switch(t.fieldKind){case"map":return hve(t,e);case"message":return gve(t,e);case"enum":{let r=yve(t,e);return r.default=t.getDefaultValue(),r}case"scalar":{let r=pve(t);return r.default=t.getDefaultValue(),r}}}function hve(t,e){let r={kind:"map",no:t.number,name:t.name,jsonName:t.jsonName,K:t.mapKey};if(t.mapValue.message){let n=e.findMessage(t.mapValue.message.typeName);return(0,Zg.assert)(n,`message "${t.mapValue.message.typeName}" for ${t.toString()} not found`),Object.assign(Object.assign({},r),{V:{kind:"message",T:n}})}if(t.mapValue.enum){let n=e.findEnum(t.mapValue.enum.typeName);return(0,Zg.assert)(n,`enum "${t.mapValue.enum.typeName}" for ${t.toString()} not found`),Object.assign(Object.assign({},r),{V:{kind:"enum",T:n}})}return Object.assign(Object.assign({},r),{V:{kind:"scalar",T:t.mapValue.scalar}})}function pve(t){let e={kind:"scalar",no:t.number,name:t.name,jsonName:t.jsonName,T:t.scalar};return t.repeated?Object.assign(Object.assign({},e),{repeated:!0,packed:t.packed,oneof:void 0,T:t.scalar}):t.oneof?Object.assign(Object.assign({},e),{oneof:t.oneof.name}):t.optional?Object.assign(Object.assign({},e),{opt:!0}):e}function gve(t,e){let r=e.findMessage(t.message.typeName);(0,Zg.assert)(r,`message "${t.message.typeName}" for ${t.toString()} not found`);let n={kind:"message",no:t.number,name:t.name,jsonName:t.jsonName,T:r};return t.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:t.packed,oneof:void 0}):t.oneof?Object.assign(Object.assign({},n),{oneof:t.oneof.name}):t.optional?Object.assign(Object.assign({},n),{opt:!0}):n}function yve(t,e){let r=e.findEnum(t.enum.typeName);(0,Zg.assert)(r,`enum "${t.enum.typeName}" for ${t.toString()} not found`);let n={kind:"enum",no:t.number,name:t.name,jsonName:t.jsonName,T:r};return t.repeated?Object.assign(Object.assign({},n),{repeated:!0,packed:t.packed,oneof:void 0}):t.oneof?Object.assign(Object.assign({},n),{oneof:t.oneof.name}):t.optional?Object.assign(Object.assign({},n),{opt:!0}):n}});var GG=E(Io=>{"use strict";h();p();Object.defineProperty(Io,"__esModule",{value:!0});Io.CodeGeneratorResponse_File=Io.CodeGeneratorResponse_Feature=Io.CodeGeneratorResponse=Io.CodeGeneratorRequest=Io.Version=void 0;var W6=rn(),Fn=y2(),KG=v2(),ws=class extends W6.Message{constructor(e){super(),Fn.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new ws().fromBinary(e,r)}static fromJson(e,r){return new ws().fromJson(e,r)}static fromJsonString(e,r){return new ws().fromJsonString(e,r)}static equals(e,r){return Fn.proto2.util.equals(ws,e,r)}};ws.runtime=Fn.proto2;ws.typeName="google.protobuf.compiler.Version";ws.fields=Fn.proto2.util.newFieldList(()=>[{no:1,name:"major",kind:"scalar",T:5,opt:!0},{no:2,name:"minor",kind:"scalar",T:5,opt:!0},{no:3,name:"patch",kind:"scalar",T:5,opt:!0},{no:4,name:"suffix",kind:"scalar",T:9,opt:!0}]);Io.Version=ws;var Eu=class extends W6.Message{constructor(e){super(),this.fileToGenerate=[],this.protoFile=[],Fn.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new Eu().fromBinary(e,r)}static fromJson(e,r){return new Eu().fromJson(e,r)}static fromJsonString(e,r){return new Eu().fromJsonString(e,r)}static equals(e,r){return Fn.proto2.util.equals(Eu,e,r)}};Eu.runtime=Fn.proto2;Eu.typeName="google.protobuf.compiler.CodeGeneratorRequest";Eu.fields=Fn.proto2.util.newFieldList(()=>[{no:1,name:"file_to_generate",kind:"scalar",T:9,repeated:!0},{no:2,name:"parameter",kind:"scalar",T:9,opt:!0},{no:15,name:"proto_file",kind:"message",T:KG.FileDescriptorProto,repeated:!0},{no:3,name:"compiler_version",kind:"message",T:ws,opt:!0}]);Io.CodeGeneratorRequest=Eu;var Su=class extends W6.Message{constructor(e){super(),this.file=[],Fn.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new Su().fromBinary(e,r)}static fromJson(e,r){return new Su().fromJson(e,r)}static fromJsonString(e,r){return new Su().fromJsonString(e,r)}static equals(e,r){return Fn.proto2.util.equals(Su,e,r)}};Su.runtime=Fn.proto2;Su.typeName="google.protobuf.compiler.CodeGeneratorResponse";Su.fields=Fn.proto2.util.newFieldList(()=>[{no:1,name:"error",kind:"scalar",T:9,opt:!0},{no:2,name:"supported_features",kind:"scalar",T:4,opt:!0},{no:15,name:"file",kind:"message",T:Es,repeated:!0}]);Io.CodeGeneratorResponse=Su;var VG;(function(t){t[t.NONE=0]="NONE",t[t.PROTO3_OPTIONAL=1]="PROTO3_OPTIONAL"})(VG=Io.CodeGeneratorResponse_Feature||(Io.CodeGeneratorResponse_Feature={}));Fn.proto2.util.setEnumType(VG,"google.protobuf.compiler.CodeGeneratorResponse.Feature",[{no:0,name:"FEATURE_NONE"},{no:1,name:"FEATURE_PROTO3_OPTIONAL"}]);var Es=class extends W6.Message{constructor(e){super(),Fn.proto2.util.initPartial(e,this)}static fromBinary(e,r){return new Es().fromBinary(e,r)}static fromJson(e,r){return new Es().fromJson(e,r)}static fromJsonString(e,r){return new Es().fromJsonString(e,r)}static equals(e,r){return Fn.proto2.util.equals(Es,e,r)}};Es.runtime=Fn.proto2;Es.typeName="google.protobuf.compiler.CodeGeneratorResponse.File";Es.fields=Fn.proto2.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9,opt:!0},{no:2,name:"insertion_point",kind:"scalar",T:9,opt:!0},{no:15,name:"content",kind:"scalar",T:9,opt:!0},{no:16,name:"generated_code_info",kind:"message",T:KG.GeneratedCodeInfo,opt:!0}]);Io.CodeGeneratorResponse_File=Es});var $6=E(J6=>{"use strict";h();p();Object.defineProperty(J6,"__esModule",{value:!0});J6.SourceContext=void 0;var vve=rn(),X6=fo(),Iu=class extends vve.Message{constructor(e){super(),this.fileName="",X6.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Iu().fromBinary(e,r)}static fromJson(e,r){return new Iu().fromJson(e,r)}static fromJsonString(e,r){return new Iu().fromJsonString(e,r)}static equals(e,r){return X6.proto3.util.equals(Iu,e,r)}};Iu.runtime=X6.proto3;Iu.typeName="google.protobuf.SourceContext";Iu.fields=X6.proto3.util.newFieldList(()=>[{no:1,name:"file_name",kind:"scalar",T:9}]);J6.SourceContext=Iu});var hA=E(Fr=>{"use strict";h();p();Object.defineProperty(Fr,"__esModule",{value:!0});Fr.Option=Fr.EnumValue=Fr.Enum=Fr.Field_Cardinality=Fr.Field_Kind=Fr.Field=Fr.Type=Fr.Syntax=void 0;var kt=fo(),x2=rn(),zG=$6(),mve=j6(),Qg;(function(t){t[t.PROTO2=0]="PROTO2",t[t.PROTO3=1]="PROTO3",t[t.EDITIONS=2]="EDITIONS"})(Qg=Fr.Syntax||(Fr.Syntax={}));kt.proto3.util.setEnumType(Qg,"google.protobuf.Syntax",[{no:0,name:"SYNTAX_PROTO2"},{no:1,name:"SYNTAX_PROTO3"},{no:2,name:"SYNTAX_EDITIONS"}]);var Tu=class extends x2.Message{constructor(e){super(),this.name="",this.fields=[],this.oneofs=[],this.options=[],this.syntax=Qg.PROTO2,this.edition="",kt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Tu().fromBinary(e,r)}static fromJson(e,r){return new Tu().fromJson(e,r)}static fromJsonString(e,r){return new Tu().fromJsonString(e,r)}static equals(e,r){return kt.proto3.util.equals(Tu,e,r)}};Tu.runtime=kt.proto3;Tu.typeName="google.protobuf.Type";Tu.fields=kt.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"fields",kind:"message",T:Ss,repeated:!0},{no:3,name:"oneofs",kind:"scalar",T:9,repeated:!0},{no:4,name:"options",kind:"message",T:ma,repeated:!0},{no:5,name:"source_context",kind:"message",T:zG.SourceContext},{no:6,name:"syntax",kind:"enum",T:kt.proto3.getEnumType(Qg)},{no:7,name:"edition",kind:"scalar",T:9}]);Fr.Type=Tu;var Ss=class extends x2.Message{constructor(e){super(),this.kind=Z6.TYPE_UNKNOWN,this.cardinality=Q6.UNKNOWN,this.number=0,this.name="",this.typeUrl="",this.oneofIndex=0,this.packed=!1,this.options=[],this.jsonName="",this.defaultValue="",kt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Ss().fromBinary(e,r)}static fromJson(e,r){return new Ss().fromJson(e,r)}static fromJsonString(e,r){return new Ss().fromJsonString(e,r)}static equals(e,r){return kt.proto3.util.equals(Ss,e,r)}};Ss.runtime=kt.proto3;Ss.typeName="google.protobuf.Field";Ss.fields=kt.proto3.util.newFieldList(()=>[{no:1,name:"kind",kind:"enum",T:kt.proto3.getEnumType(Z6)},{no:2,name:"cardinality",kind:"enum",T:kt.proto3.getEnumType(Q6)},{no:3,name:"number",kind:"scalar",T:5},{no:4,name:"name",kind:"scalar",T:9},{no:6,name:"type_url",kind:"scalar",T:9},{no:7,name:"oneof_index",kind:"scalar",T:5},{no:8,name:"packed",kind:"scalar",T:8},{no:9,name:"options",kind:"message",T:ma,repeated:!0},{no:10,name:"json_name",kind:"scalar",T:9},{no:11,name:"default_value",kind:"scalar",T:9}]);Fr.Field=Ss;var Z6;(function(t){t[t.TYPE_UNKNOWN=0]="TYPE_UNKNOWN",t[t.TYPE_DOUBLE=1]="TYPE_DOUBLE",t[t.TYPE_FLOAT=2]="TYPE_FLOAT",t[t.TYPE_INT64=3]="TYPE_INT64",t[t.TYPE_UINT64=4]="TYPE_UINT64",t[t.TYPE_INT32=5]="TYPE_INT32",t[t.TYPE_FIXED64=6]="TYPE_FIXED64",t[t.TYPE_FIXED32=7]="TYPE_FIXED32",t[t.TYPE_BOOL=8]="TYPE_BOOL",t[t.TYPE_STRING=9]="TYPE_STRING",t[t.TYPE_GROUP=10]="TYPE_GROUP",t[t.TYPE_MESSAGE=11]="TYPE_MESSAGE",t[t.TYPE_BYTES=12]="TYPE_BYTES",t[t.TYPE_UINT32=13]="TYPE_UINT32",t[t.TYPE_ENUM=14]="TYPE_ENUM",t[t.TYPE_SFIXED32=15]="TYPE_SFIXED32",t[t.TYPE_SFIXED64=16]="TYPE_SFIXED64",t[t.TYPE_SINT32=17]="TYPE_SINT32",t[t.TYPE_SINT64=18]="TYPE_SINT64"})(Z6=Fr.Field_Kind||(Fr.Field_Kind={}));kt.proto3.util.setEnumType(Z6,"google.protobuf.Field.Kind",[{no:0,name:"TYPE_UNKNOWN"},{no:1,name:"TYPE_DOUBLE"},{no:2,name:"TYPE_FLOAT"},{no:3,name:"TYPE_INT64"},{no:4,name:"TYPE_UINT64"},{no:5,name:"TYPE_INT32"},{no:6,name:"TYPE_FIXED64"},{no:7,name:"TYPE_FIXED32"},{no:8,name:"TYPE_BOOL"},{no:9,name:"TYPE_STRING"},{no:10,name:"TYPE_GROUP"},{no:11,name:"TYPE_MESSAGE"},{no:12,name:"TYPE_BYTES"},{no:13,name:"TYPE_UINT32"},{no:14,name:"TYPE_ENUM"},{no:15,name:"TYPE_SFIXED32"},{no:16,name:"TYPE_SFIXED64"},{no:17,name:"TYPE_SINT32"},{no:18,name:"TYPE_SINT64"}]);var Q6;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.OPTIONAL=1]="OPTIONAL",t[t.REQUIRED=2]="REQUIRED",t[t.REPEATED=3]="REPEATED"})(Q6=Fr.Field_Cardinality||(Fr.Field_Cardinality={}));kt.proto3.util.setEnumType(Q6,"google.protobuf.Field.Cardinality",[{no:0,name:"CARDINALITY_UNKNOWN"},{no:1,name:"CARDINALITY_OPTIONAL"},{no:2,name:"CARDINALITY_REQUIRED"},{no:3,name:"CARDINALITY_REPEATED"}]);var Cu=class extends x2.Message{constructor(e){super(),this.name="",this.enumvalue=[],this.options=[],this.syntax=Qg.PROTO2,this.edition="",kt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Cu().fromBinary(e,r)}static fromJson(e,r){return new Cu().fromJson(e,r)}static fromJsonString(e,r){return new Cu().fromJsonString(e,r)}static equals(e,r){return kt.proto3.util.equals(Cu,e,r)}};Cu.runtime=kt.proto3;Cu.typeName="google.protobuf.Enum";Cu.fields=kt.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"enumvalue",kind:"message",T:Is,repeated:!0},{no:3,name:"options",kind:"message",T:ma,repeated:!0},{no:4,name:"source_context",kind:"message",T:zG.SourceContext},{no:5,name:"syntax",kind:"enum",T:kt.proto3.getEnumType(Qg)},{no:6,name:"edition",kind:"scalar",T:9}]);Fr.Enum=Cu;var Is=class extends x2.Message{constructor(e){super(),this.name="",this.number=0,this.options=[],kt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Is().fromBinary(e,r)}static fromJson(e,r){return new Is().fromJson(e,r)}static fromJsonString(e,r){return new Is().fromJsonString(e,r)}static equals(e,r){return kt.proto3.util.equals(Is,e,r)}};Is.runtime=kt.proto3;Is.typeName="google.protobuf.EnumValue";Is.fields=kt.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"options",kind:"message",T:ma,repeated:!0}]);Fr.EnumValue=Is;var ma=class extends x2.Message{constructor(e){super(),this.name="",kt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new ma().fromBinary(e,r)}static fromJson(e,r){return new ma().fromJson(e,r)}static fromJsonString(e,r){return new ma().fromJsonString(e,r)}static equals(e,r){return kt.proto3.util.equals(ma,e,r)}};ma.runtime=kt.proto3;ma.typeName="google.protobuf.Option";ma.fields=kt.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"value",kind:"message",T:mve.Any}]);Fr.Option=ma});var YG=E(Sd=>{"use strict";h();p();Object.defineProperty(Sd,"__esModule",{value:!0});Sd.Mixin=Sd.Method=Sd.Api=void 0;var pA=rn(),ey=hA(),_ve=$6(),Ha=fo(),Au=class extends pA.Message{constructor(e){super(),this.name="",this.methods=[],this.options=[],this.version="",this.mixins=[],this.syntax=ey.Syntax.PROTO2,Ha.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Au().fromBinary(e,r)}static fromJson(e,r){return new Au().fromJson(e,r)}static fromJsonString(e,r){return new Au().fromJsonString(e,r)}static equals(e,r){return Ha.proto3.util.equals(Au,e,r)}};Au.runtime=Ha.proto3;Au.typeName="google.protobuf.Api";Au.fields=Ha.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"methods",kind:"message",T:Ts,repeated:!0},{no:3,name:"options",kind:"message",T:ey.Option,repeated:!0},{no:4,name:"version",kind:"scalar",T:9},{no:5,name:"source_context",kind:"message",T:_ve.SourceContext},{no:6,name:"mixins",kind:"message",T:Cs,repeated:!0},{no:7,name:"syntax",kind:"enum",T:Ha.proto3.getEnumType(ey.Syntax)}]);Sd.Api=Au;var Ts=class extends pA.Message{constructor(e){super(),this.name="",this.requestTypeUrl="",this.requestStreaming=!1,this.responseTypeUrl="",this.responseStreaming=!1,this.options=[],this.syntax=ey.Syntax.PROTO2,Ha.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Ts().fromBinary(e,r)}static fromJson(e,r){return new Ts().fromJson(e,r)}static fromJsonString(e,r){return new Ts().fromJsonString(e,r)}static equals(e,r){return Ha.proto3.util.equals(Ts,e,r)}};Ts.runtime=Ha.proto3;Ts.typeName="google.protobuf.Method";Ts.fields=Ha.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"request_type_url",kind:"scalar",T:9},{no:3,name:"request_streaming",kind:"scalar",T:8},{no:4,name:"response_type_url",kind:"scalar",T:9},{no:5,name:"response_streaming",kind:"scalar",T:8},{no:6,name:"options",kind:"message",T:ey.Option,repeated:!0},{no:7,name:"syntax",kind:"enum",T:Ha.proto3.getEnumType(ey.Syntax)}]);Sd.Method=Ts;var Cs=class extends pA.Message{constructor(e){super(),this.name="",this.root="",Ha.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Cs().fromBinary(e,r)}static fromJson(e,r){return new Cs().fromJson(e,r)}static fromJsonString(e,r){return new Cs().fromJsonString(e,r)}static equals(e,r){return Ha.proto3.util.equals(Cs,e,r)}};Cs.runtime=Ha.proto3;Cs.typeName="google.protobuf.Mixin";Cs.fields=Ha.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"root",kind:"scalar",T:9}]);Sd.Mixin=Cs});var Os=E(Me=>{"use strict";h();p();var xve=Me&&Me.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),As=Me&&Me.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&xve(e,t,r)};Object.defineProperty(Me,"__esModule",{value:!0});Me.createRegistryFromDescriptors=Me.createRegistry=Me.createDescriptorSet=Me.BinaryReader=Me.BinaryWriter=Me.WireType=Me.MethodIdempotency=Me.MethodKind=Me.ScalarType=Me.Message=Me.codegenInfo=Me.protoDelimited=Me.protoBase64=Me.protoInt64=Me.proto2=Me.proto3=void 0;var bve=fo();Object.defineProperty(Me,"proto3",{enumerable:!0,get:function(){return bve.proto3}});var wve=y2();Object.defineProperty(Me,"proto2",{enumerable:!0,get:function(){return wve.proto2}});var Eve=Ec();Object.defineProperty(Me,"protoInt64",{enumerable:!0,get:function(){return Eve.protoInt64}});var Sve=NC();Object.defineProperty(Me,"protoBase64",{enumerable:!0,get:function(){return Sve.protoBase64}});var Ive=CG();Object.defineProperty(Me,"protoDelimited",{enumerable:!0,get:function(){return Ive.protoDelimited}});var Tve=OG();Object.defineProperty(Me,"codegenInfo",{enumerable:!0,get:function(){return Tve.codegenInfo}});var Cve=rn();Object.defineProperty(Me,"Message",{enumerable:!0,get:function(){return Cve.Message}});var Ave=uo();Object.defineProperty(Me,"ScalarType",{enumerable:!0,get:function(){return Ave.ScalarType}});var WG=WC();Object.defineProperty(Me,"MethodKind",{enumerable:!0,get:function(){return WG.MethodKind}});Object.defineProperty(Me,"MethodIdempotency",{enumerable:!0,get:function(){return WG.MethodIdempotency}});var gA=d2();Object.defineProperty(Me,"WireType",{enumerable:!0,get:function(){return gA.WireType}});Object.defineProperty(Me,"BinaryWriter",{enumerable:!0,get:function(){return gA.BinaryWriter}});Object.defineProperty(Me,"BinaryReader",{enumerable:!0,get:function(){return gA.BinaryReader}});var Ove=rA();Object.defineProperty(Me,"createDescriptorSet",{enumerable:!0,get:function(){return Ove.createDescriptorSet}});var Dve=FG();Object.defineProperty(Me,"createRegistry",{enumerable:!0,get:function(){return Dve.createRegistry}});var Rve=HG();Object.defineProperty(Me,"createRegistryFromDescriptors",{enumerable:!0,get:function(){return Rve.createRegistryFromDescriptors}});As(GG(),Me);As(YG(),Me);As(j6(),Me);As(v2(),Me);As(oA(),Me);As(sA(),Me);As(uA(),Me);As($6(),Me);As(cA(),Me);As(iA(),Me);As(hA(),Me);As(dA(),Me)});var XG=E(Id=>{"use strict";h();p();Object.defineProperty(Id,"__esModule",{value:!0});Id.TriggerSmartContract=Id.TransferAssetContract=Id.TransferContract=void 0;var zr=Os(),Ou=class extends zr.Message{constructor(e){super(),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=zr.protoInt64.zero,zr.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Ou().fromBinary(e,r)}static fromJson(e,r){return new Ou().fromJson(e,r)}static fromJsonString(e,r){return new Ou().fromJsonString(e,r)}static equals(e,r){return zr.proto3.util.equals(Ou,e,r)}};Ou.runtime=zr.proto3;Ou.typeName="protocol.TransferContract";Ou.fields=zr.proto3.util.newFieldList(()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"to_address",kind:"scalar",T:12},{no:3,name:"amount",kind:"scalar",T:3}]);Id.TransferContract=Ou;var Du=class extends zr.Message{constructor(e){super(),this.assetName=new Uint8Array(0),this.ownerAddress=new Uint8Array(0),this.toAddress=new Uint8Array(0),this.amount=zr.protoInt64.zero,zr.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Du().fromBinary(e,r)}static fromJson(e,r){return new Du().fromJson(e,r)}static fromJsonString(e,r){return new Du().fromJsonString(e,r)}static equals(e,r){return zr.proto3.util.equals(Du,e,r)}};Du.runtime=zr.proto3;Du.typeName="protocol.TransferAssetContract";Du.fields=zr.proto3.util.newFieldList(()=>[{no:1,name:"asset_name",kind:"scalar",T:12},{no:2,name:"owner_address",kind:"scalar",T:12},{no:3,name:"to_address",kind:"scalar",T:12},{no:4,name:"amount",kind:"scalar",T:3}]);Id.TransferAssetContract=Du;var Ru=class extends zr.Message{constructor(e){super(),this.ownerAddress=new Uint8Array(0),this.contractAddress=new Uint8Array(0),this.callValue=zr.protoInt64.zero,this.data=new Uint8Array(0),this.callTokenValue=zr.protoInt64.zero,this.tokenId=zr.protoInt64.zero,zr.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Ru().fromBinary(e,r)}static fromJson(e,r){return new Ru().fromJson(e,r)}static fromJsonString(e,r){return new Ru().fromJsonString(e,r)}static equals(e,r){return zr.proto3.util.equals(Ru,e,r)}};Ru.runtime=zr.proto3;Ru.typeName="protocol.TriggerSmartContract";Ru.fields=zr.proto3.util.newFieldList(()=>[{no:1,name:"owner_address",kind:"scalar",T:12},{no:2,name:"contract_address",kind:"scalar",T:12},{no:3,name:"call_value",kind:"scalar",T:3},{no:4,name:"data",kind:"scalar",T:12},{no:5,name:"call_token_value",kind:"scalar",T:3},{no:6,name:"token_id",kind:"scalar",T:3}]);Id.TriggerSmartContract=Ru});var yA=E(_a=>{"use strict";h();p();Object.defineProperty(_a,"__esModule",{value:!0});_a.Transaction_raw=_a.Transaction_Contract_ContractType=_a.Transaction_Contract=_a.Transaction=_a.authority=_a.AccountId=void 0;var mt=Os(),Ds=class extends mt.Message{constructor(e){super(),this.name=new Uint8Array(0),this.address=new Uint8Array(0),mt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Ds().fromBinary(e,r)}static fromJson(e,r){return new Ds().fromJson(e,r)}static fromJsonString(e,r){return new Ds().fromJsonString(e,r)}static equals(e,r){return mt.proto3.util.equals(Ds,e,r)}};Ds.runtime=mt.proto3;Ds.typeName="protocol.AccountId";Ds.fields=mt.proto3.util.newFieldList(()=>[{no:1,name:"name",kind:"scalar",T:12},{no:2,name:"address",kind:"scalar",T:12}]);_a.AccountId=Ds;var Rs=class extends mt.Message{constructor(e){super(),this.permissionName=new Uint8Array(0),mt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Rs().fromBinary(e,r)}static fromJson(e,r){return new Rs().fromJson(e,r)}static fromJsonString(e,r){return new Rs().fromJsonString(e,r)}static equals(e,r){return mt.proto3.util.equals(Rs,e,r)}};Rs.runtime=mt.proto3;Rs.typeName="protocol.authority";Rs.fields=mt.proto3.util.newFieldList(()=>[{no:1,name:"account",kind:"message",T:Ds},{no:2,name:"permission_name",kind:"scalar",T:12}]);_a.authority=Rs;var Pu=class extends mt.Message{constructor(e){super(),this.signature=[],mt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Pu().fromBinary(e,r)}static fromJson(e,r){return new Pu().fromJson(e,r)}static fromJsonString(e,r){return new Pu().fromJsonString(e,r)}static equals(e,r){return mt.proto3.util.equals(Pu,e,r)}};Pu.runtime=mt.proto3;Pu.typeName="protocol.Transaction";Pu.fields=mt.proto3.util.newFieldList(()=>[{no:1,name:"raw_data",kind:"message",T:Bs},{no:2,name:"signature",kind:"scalar",T:12,repeated:!0}]);_a.Transaction=Pu;var Ps=class extends mt.Message{constructor(e){super(),this.type=e8.AccountCreateContract,this.provider=new Uint8Array(0),this.ContractName=new Uint8Array(0),this.PermissionId=0,mt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Ps().fromBinary(e,r)}static fromJson(e,r){return new Ps().fromJson(e,r)}static fromJsonString(e,r){return new Ps().fromJsonString(e,r)}static equals(e,r){return mt.proto3.util.equals(Ps,e,r)}};Ps.runtime=mt.proto3;Ps.typeName="protocol.Transaction.Contract";Ps.fields=mt.proto3.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:mt.proto3.getEnumType(e8)},{no:2,name:"parameter",kind:"message",T:mt.Any},{no:3,name:"provider",kind:"scalar",T:12},{no:4,name:"ContractName",kind:"scalar",T:12},{no:5,name:"Permission_id",kind:"scalar",T:5}]);_a.Transaction_Contract=Ps;var e8;(function(t){t[t.AccountCreateContract=0]="AccountCreateContract",t[t.TransferContract=1]="TransferContract",t[t.TransferAssetContract=2]="TransferAssetContract",t[t.TriggerSmartContract=31]="TriggerSmartContract"})(e8=_a.Transaction_Contract_ContractType||(_a.Transaction_Contract_ContractType={}));mt.proto3.util.setEnumType(e8,"protocol.Transaction.Contract.ContractType",[{no:0,name:"AccountCreateContract"},{no:1,name:"TransferContract"},{no:2,name:"TransferAssetContract"},{no:31,name:"TriggerSmartContract"}]);var Bs=class extends mt.Message{constructor(e){super(),this.refBlockBytes=new Uint8Array(0),this.refBlockNum=mt.protoInt64.zero,this.refBlockHash=new Uint8Array(0),this.expiration=mt.protoInt64.zero,this.auths=[],this.data=new Uint8Array(0),this.contract=[],this.scripts=new Uint8Array(0),this.timestamp=mt.protoInt64.zero,this.feeLimit=mt.protoInt64.zero,mt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Bs().fromBinary(e,r)}static fromJson(e,r){return new Bs().fromJson(e,r)}static fromJsonString(e,r){return new Bs().fromJsonString(e,r)}static equals(e,r){return mt.proto3.util.equals(Bs,e,r)}};Bs.runtime=mt.proto3;Bs.typeName="protocol.Transaction.raw";Bs.fields=mt.proto3.util.newFieldList(()=>[{no:1,name:"ref_block_bytes",kind:"scalar",T:12},{no:3,name:"ref_block_num",kind:"scalar",T:3},{no:4,name:"ref_block_hash",kind:"scalar",T:12},{no:8,name:"expiration",kind:"scalar",T:3},{no:9,name:"auths",kind:"message",T:Rs,repeated:!0},{no:10,name:"data",kind:"scalar",T:12},{no:11,name:"contract",kind:"message",T:Ps,repeated:!0},{no:12,name:"scripts",kind:"scalar",T:12},{no:14,name:"timestamp",kind:"scalar",T:3},{no:18,name:"fee_limit",kind:"scalar",T:3}]);_a.Transaction_raw=Bs});var vA=E(Td=>{"use strict";h();p();Object.defineProperty(Td,"__esModule",{value:!0});Td.TronTx=Td.Override=Td.LatestBlock=void 0;var Ti=Os(),Ms=class extends Ti.Message{constructor(e){super(),this.hash="",this.number=0,this.timestamp=Ti.protoInt64.zero,Ti.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Ms().fromBinary(e,r)}static fromJson(e,r){return new Ms().fromJson(e,r)}static fromJsonString(e,r){return new Ms().fromJsonString(e,r)}static equals(e,r){return Ti.proto3.util.equals(Ms,e,r)}};Ms.runtime=Ti.proto3;Ms.typeName="protoc.LatestBlock";Ms.fields=Ti.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"number",kind:"scalar",T:5},{no:3,name:"timestamp",kind:"scalar",T:3}]);Td.LatestBlock=Ms;var Ns=class extends Ti.Message{constructor(e){super(),this.tokenShortName="",this.tokenFullName="",this.decimals=0,Ti.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Ns().fromBinary(e,r)}static fromJson(e,r){return new Ns().fromJson(e,r)}static fromJsonString(e,r){return new Ns().fromJsonString(e,r)}static equals(e,r){return Ti.proto3.util.equals(Ns,e,r)}};Ns.runtime=Ti.proto3;Ns.typeName="protoc.Override";Ns.fields=Ti.proto3.util.newFieldList(()=>[{no:1,name:"tokenShortName",kind:"scalar",T:9},{no:2,name:"tokenFullName",kind:"scalar",T:9},{no:3,name:"decimals",kind:"scalar",T:5}]);Td.Override=Ns;var Bu=class extends Ti.Message{constructor(e){super(),this.token="",this.contractAddress="",this.from="",this.to="",this.memo="",this.value="",this.fee=0,Ti.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Bu().fromBinary(e,r)}static fromJson(e,r){return new Bu().fromJson(e,r)}static fromJsonString(e,r){return new Bu().fromJsonString(e,r)}static equals(e,r){return Ti.proto3.util.equals(Bu,e,r)}};Bu.runtime=Ti.proto3;Bu.typeName="protoc.TronTx";Bu.fields=Ti.proto3.util.newFieldList(()=>[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"contractAddress",kind:"scalar",T:9},{no:3,name:"from",kind:"scalar",T:9},{no:4,name:"to",kind:"scalar",T:9},{no:5,name:"memo",kind:"scalar",T:9},{no:6,name:"value",kind:"scalar",T:9},{no:7,name:"latestBlock",kind:"message",T:Ms},{no:8,name:"override",kind:"message",T:Ns},{no:9,name:"fee",kind:"scalar",T:5}]);Td.TronTx=Bu});var $G=E(ty=>{"use strict";h();p();var Pve=ty&&ty.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ty,"__esModule",{value:!0});ty.raw2tx=void 0;var Bve=Pve(ZV()),mA=XG(),t8=yA(),JG=Tn(),r8=vA();function zh(t){return Bve.default.encode(t)}function Mve(t,e){let r;try{r=t8.Transaction_raw.fromBinary(t)}catch{throw new Error("Sign data is invalid")}let n=e!==void 0?{decimals:e.decimals,tokenFullName:e.name,tokenShortName:e.symbol}:null,i=v.Buffer.from([...new Uint8Array(8).fill(0),...r.refBlockHash,...new Uint8Array(16).fill(0)]),a=new r8.LatestBlock({hash:(0,JG.toHex)(i),number:Number(`0x${(0,JG.toHex)(r.refBlockBytes.slice(0,2))}`),timestamp:BigInt(Number(r.expiration)-600*5*1e3)}),o=r.contract[0];if(o.parameter===void 0)throw new Error("contract is invalid");let s;switch(o.type){case t8.Transaction_Contract_ContractType.TransferContract:try{s=mA.TransferContract.fromBinary(o.parameter.value)}catch{throw new Error("sign data is invalid")}return new r8.TronTx({fee:Number(r.feeLimit),from:zh(s.ownerAddress),latestBlock:a,to:zh(s.toAddress),token:"TRX",value:s.amount.toString()});case t8.Transaction_Contract_ContractType.TransferAssetContract:try{s=mA.TransferAssetContract.fromBinary(o.parameter.value)}catch{throw new Error("sign data is invalid")}if(n==null)throw new Error("token info is invalid");return new r8.TronTx({fee:Number(r.feeLimit),from:zh(s.ownerAddress),latestBlock:a,override:n,to:zh(s.toAddress),token:v.Buffer.from(s.assetName).toString(),value:s.amount.toString()});case t8.Transaction_Contract_ContractType.TriggerSmartContract:try{s=mA.TriggerSmartContract.fromBinary(o.parameter.value)}catch{throw new Error("sign data is invalid")}if(n==null)throw new Error("token info is invalid");return new r8.TronTx({contractAddress:zh(s.contractAddress),fee:Number(r.feeLimit),from:zh(s.ownerAddress),latestBlock:a,override:n,to:zh(v.Buffer.from([65,...s.data.slice(16,36)])),value:BigInt(`0x${v.Buffer.from(s.data.slice(36,68)).toString("hex")}`).toString()});default:throw new Error("contract is not supported")}}ty.raw2tx=Mve});var n8=E(qs=>{"use strict";h();p();Object.defineProperty(qs,"__esModule",{value:!0});qs.Output=qs.utxo=qs.Input=qs.Omni=qs.BtcTx=void 0;var Dt=Os(),Mu=class extends Dt.Message{constructor(e){super(),this.fee=Dt.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Dt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Mu().fromBinary(e,r)}static fromJson(e,r){return new Mu().fromJson(e,r)}static fromJsonString(e,r){return new Mu().fromJsonString(e,r)}static equals(e,r){return Dt.proto3.util.equals(Mu,e,r)}};Mu.runtime=Dt.proto3;Mu.typeName="protoc.BtcTx";Mu.fields=Dt.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Ls,repeated:!0},{no:5,name:"outputs",kind:"message",T:ks,repeated:!0},{no:6,name:"omni",kind:"message",T:Fs}]);qs.BtcTx=Mu;var Fs=class extends Dt.Message{constructor(e){super(),this.to="",this.changeAddress="",this.omniAmount=Dt.protoInt64.zero,this.propertyId=0,Dt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Fs().fromBinary(e,r)}static fromJson(e,r){return new Fs().fromJson(e,r)}static fromJsonString(e,r){return new Fs().fromJsonString(e,r)}static equals(e,r){return Dt.proto3.util.equals(Fs,e,r)}};Fs.runtime=Dt.proto3;Fs.typeName="protoc.Omni";Fs.fields=Dt.proto3.util.newFieldList(()=>[{no:5,name:"to",kind:"scalar",T:9},{no:6,name:"changeAddress",kind:"scalar",T:9},{no:7,name:"omniAmount",kind:"scalar",T:3},{no:8,name:"propertyId",kind:"scalar",T:5}]);qs.Omni=Fs;var Ls=class extends Dt.Message{constructor(e){super(),this.hash="",this.index=0,this.ownerKeyPath="",Dt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Ls().fromBinary(e,r)}static fromJson(e,r){return new Ls().fromJson(e,r)}static fromJsonString(e,r){return new Ls().fromJsonString(e,r)}static equals(e,r){return Dt.proto3.util.equals(Ls,e,r)}};Ls.runtime=Dt.proto3;Ls.typeName="protoc.Input";Ls.fields=Dt.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"utxo",kind:"message",T:Us},{no:4,name:"ownerKeyPath",kind:"scalar",T:9}]);qs.Input=Ls;var Us=class extends Dt.Message{constructor(e){super(),this.publicKey="",this.script="",this.value=Dt.protoInt64.zero,Dt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Us().fromBinary(e,r)}static fromJson(e,r){return new Us().fromJson(e,r)}static fromJsonString(e,r){return new Us().fromJsonString(e,r)}static equals(e,r){return Dt.proto3.util.equals(Us,e,r)}};Us.runtime=Dt.proto3;Us.typeName="protoc.utxo";Us.fields=Dt.proto3.util.newFieldList(()=>[{no:1,name:"publicKey",kind:"scalar",T:9},{no:2,name:"script",kind:"scalar",T:9},{no:3,name:"value",kind:"scalar",T:3}]);qs.utxo=Us;var ks=class extends Dt.Message{constructor(e){super(),this.address="",this.value=Dt.protoInt64.zero,this.isChange=!1,this.changeAddressPath="",Dt.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new ks().fromBinary(e,r)}static fromJson(e,r){return new ks().fromJson(e,r)}static fromJsonString(e,r){return new ks().fromJsonString(e,r)}static equals(e,r){return Dt.proto3.util.equals(ks,e,r)}};ks.runtime=Dt.proto3;ks.typeName="protoc.Output";ks.fields=Dt.proto3.util.newFieldList(()=>[{no:1,name:"address",kind:"scalar",T:9},{no:2,name:"value",kind:"scalar",T:3},{no:3,name:"isChange",kind:"scalar",T:8},{no:4,name:"changeAddressPath",kind:"scalar",T:9}]);qs.Output=ks});var _A=E(ry=>{"use strict";h();p();Object.defineProperty(ry,"__esModule",{value:!0});ry.BchTx_Input=ry.BchTx=void 0;var js=Os(),Nve=n8(),Nu=class extends js.Message{constructor(e){super(),this.fee=js.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],js.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Nu().fromBinary(e,r)}static fromJson(e,r){return new Nu().fromJson(e,r)}static fromJsonString(e,r){return new Nu().fromJsonString(e,r)}static equals(e,r){return js.proto3.util.equals(Nu,e,r)}};Nu.runtime=js.proto3;Nu.typeName="protoc.BchTx";Nu.fields=js.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Hs,repeated:!0},{no:5,name:"outputs",kind:"message",T:Nve.Output,repeated:!0}]);ry.BchTx=Nu;var Hs=class extends js.Message{constructor(e){super(),this.hash="",this.index=0,this.value=js.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",js.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Hs().fromBinary(e,r)}static fromJson(e,r){return new Hs().fromJson(e,r)}static fromJsonString(e,r){return new Hs().fromJsonString(e,r)}static equals(e,r){return js.proto3.util.equals(Hs,e,r)}};Hs.runtime=js.proto3;Hs.typeName="protoc.BchTx.Input";Hs.fields=js.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}]);ry.BchTx_Input=Hs});var xA=E(ny=>{"use strict";h();p();Object.defineProperty(ny,"__esModule",{value:!0});ny.DashTx_Input=ny.DashTx=void 0;var Ks=Os(),qve=n8(),qu=class extends Ks.Message{constructor(e){super(),this.fee=Ks.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],Ks.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new qu().fromBinary(e,r)}static fromJson(e,r){return new qu().fromJson(e,r)}static fromJsonString(e,r){return new qu().fromJsonString(e,r)}static equals(e,r){return Ks.proto3.util.equals(qu,e,r)}};qu.runtime=Ks.proto3;qu.typeName="protoc.DashTx";qu.fields=Ks.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:Vs,repeated:!0},{no:5,name:"outputs",kind:"message",T:qve.Output,repeated:!0}]);ny.DashTx=qu;var Vs=class extends Ks.Message{constructor(e){super(),this.hash="",this.index=0,this.value=Ks.protoInt64.zero,this.pubkey="",this.ownerKeyPath="",Ks.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Vs().fromBinary(e,r)}static fromJson(e,r){return new Vs().fromJson(e,r)}static fromJsonString(e,r){return new Vs().fromJsonString(e,r)}static equals(e,r){return Ks.proto3.util.equals(Vs,e,r)}};Vs.runtime=Ks.proto3;Vs.typeName="protoc.DashTx.Input";Vs.fields=Ks.proto3.util.newFieldList(()=>[{no:1,name:"hash",kind:"scalar",T:9},{no:2,name:"index",kind:"scalar",T:5},{no:3,name:"value",kind:"scalar",T:3},{no:4,name:"pubkey",kind:"scalar",T:9},{no:5,name:"ownerKeyPath",kind:"scalar",T:9}]);ny.DashTx_Input=Vs});var bA=E(i8=>{"use strict";h();p();Object.defineProperty(i8,"__esModule",{value:!0});i8.LtcTx=void 0;var iy=Os(),ZG=n8(),Fu=class extends iy.Message{constructor(e){super(),this.fee=iy.protoInt64.zero,this.dustThreshold=0,this.memo="",this.inputs=[],this.outputs=[],iy.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Fu().fromBinary(e,r)}static fromJson(e,r){return new Fu().fromJson(e,r)}static fromJsonString(e,r){return new Fu().fromJsonString(e,r)}static equals(e,r){return iy.proto3.util.equals(Fu,e,r)}};Fu.runtime=iy.proto3;Fu.typeName="protoc.LtcTx";Fu.fields=iy.proto3.util.newFieldList(()=>[{no:1,name:"fee",kind:"scalar",T:3},{no:2,name:"dustThreshold",kind:"scalar",T:5},{no:3,name:"memo",kind:"scalar",T:9},{no:4,name:"inputs",kind:"message",T:ZG.Input,repeated:!0},{no:5,name:"outputs",kind:"message",T:ZG.Output,repeated:!0}]);i8.LtcTx=Fu});var o8=E(a8=>{"use strict";h();p();Object.defineProperty(a8,"__esModule",{value:!0});a8.SignTransaction=void 0;var ay=Os(),Fve=vA(),Lve=_A(),Uve=xA(),kve=bA(),Lu=class extends ay.Message{constructor(e){super(),this.coinCode="",this.signId="",this.hdPath="",this.timestamp=ay.protoInt64.zero,this.decimal=0,this.Transaction={case:void 0},ay.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Lu().fromBinary(e,r)}static fromJson(e,r){return new Lu().fromJson(e,r)}static fromJsonString(e,r){return new Lu().fromJsonString(e,r)}static equals(e,r){return ay.proto3.util.equals(Lu,e,r)}};Lu.runtime=ay.proto3;Lu.typeName="protoc.SignTransaction";Lu.fields=ay.proto3.util.newFieldList(()=>[{no:1,name:"coinCode",kind:"scalar",T:9},{no:2,name:"signId",kind:"scalar",T:9},{no:3,name:"hdPath",kind:"scalar",T:9},{no:4,name:"timestamp",kind:"scalar",T:3},{no:5,name:"decimal",kind:"scalar",T:5},{no:8,name:"tronTx",kind:"message",T:Fve.TronTx,oneof:"Transaction"},{no:10,name:"bchTx",kind:"message",T:Lve.BchTx,oneof:"Transaction"},{no:11,name:"dashTx",kind:"message",T:Uve.DashTx,oneof:"Transaction"},{no:12,name:"ltcTx",kind:"message",T:kve.LtcTx,oneof:"Transaction"}]);a8.SignTransaction=Lu});var QG=E(s8=>{"use strict";h();p();Object.defineProperty(s8,"__esModule",{value:!0});s8.SignTransactionResult=void 0;var b2=Os(),Uu=class extends b2.Message{constructor(e){super(),this.signId="",this.txId="",this.rawTx="",b2.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new Uu().fromBinary(e,r)}static fromJson(e,r){return new Uu().fromJson(e,r)}static fromJsonString(e,r){return new Uu().fromJsonString(e,r)}static equals(e,r){return b2.proto3.util.equals(Uu,e,r)}};Uu.runtime=b2.proto3;Uu.typeName="protoc.SignTransactionResult";Uu.fields=b2.proto3.util.newFieldList(()=>[{no:1,name:"signId",kind:"scalar",T:9},{no:2,name:"txId",kind:"scalar",T:9},{no:3,name:"rawTx",kind:"scalar",T:9}]);s8.SignTransactionResult=Uu});var f8=E(Wh=>{"use strict";h();p();Object.defineProperty(Wh,"__esModule",{value:!0});Wh.Payload_Type=Wh.Payload=void 0;var Yh=Os(),jve=o8(),Hve=QG(),ku=class extends Yh.Message{constructor(e){super(),this.type=u8.RESERVE,this.xfp="",this.Content={case:void 0},Yh.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new ku().fromBinary(e,r)}static fromJson(e,r){return new ku().fromJson(e,r)}static fromJsonString(e,r){return new ku().fromJsonString(e,r)}static equals(e,r){return Yh.proto3.util.equals(ku,e,r)}};ku.runtime=Yh.proto3;ku.typeName="protoc.Payload";ku.fields=Yh.proto3.util.newFieldList(()=>[{no:1,name:"type",kind:"enum",T:Yh.proto3.getEnumType(u8)},{no:2,name:"xfp",kind:"scalar",T:9},{no:4,name:"signTx",kind:"message",T:jve.SignTransaction,oneof:"Content"},{no:7,name:"signTxResult",kind:"message",T:Hve.SignTransactionResult,oneof:"Content"}]);Wh.Payload=ku;var u8;(function(t){t[t.RESERVE=0]="RESERVE",t[t.SYNC=1]="SYNC",t[t.SIGN_TX=2]="SIGN_TX",t[t.SIGN_MSG=3]="SIGN_MSG",t[t.SIGN_MULTI_SIG=4]="SIGN_MULTI_SIG",t[t.SYNC_MULTI_SIG_MSG=5]="SYNC_MULTI_SIG_MSG",t[t.SIGN_ETH_MULTI_SIG_MSG=6]="SIGN_ETH_MULTI_SIG_MSG",t[t.VERIFY_ADDRESS=7]="VERIFY_ADDRESS",t[t.STAKING=8]="STAKING",t[t.SIGN_TX_RESULT=9]="SIGN_TX_RESULT"})(u8=Wh.Payload_Type||(Wh.Payload_Type={}));Yh.proto3.util.setEnumType(u8,"protoc.Payload.Type",[{no:0,name:"TYPE_RESERVE"},{no:1,name:"TYPE_SYNC"},{no:2,name:"TYPE_SIGN_TX"},{no:3,name:"TYPE_SIGN_MSG"},{no:4,name:"TYPE_SIGN_MULTI_SIG"},{no:5,name:"TYPE_SYNC_MULTI_SIG_MSG"},{no:6,name:"TYPE_SIGN_ETH_MULTI_SIG_MSG"},{no:7,name:"TYPE_VERIFY_ADDRESS"},{no:8,name:"TYPE_STAKING"},{no:9,name:"TYPE_SIGN_TX_RESULT"}])});var wA=E(c8=>{"use strict";h();p();Object.defineProperty(c8,"__esModule",{value:!0});c8.Base=void 0;var w2=Os(),Kve=f8(),ju=class extends w2.Message{constructor(e){super(),this.version=0,this.description="",this.Content={case:void 0},this.deviceType="",w2.proto3.util.initPartial(e,this)}static fromBinary(e,r){return new ju().fromBinary(e,r)}static fromJson(e,r){return new ju().fromJson(e,r)}static fromJsonString(e,r){return new ju().fromJsonString(e,r)}static equals(e,r){return w2.proto3.util.equals(ju,e,r)}};ju.runtime=w2.proto3;ju.typeName="protoc.Base";ju.fields=w2.proto3.util.newFieldList(()=>[{no:1,name:"version",kind:"scalar",T:5},{no:2,name:"description",kind:"scalar",T:9},{no:3,name:"data",kind:"message",T:Kve.Payload},{no:4,name:"hotVersion",kind:"scalar",T:5,oneof:"Content"},{no:5,name:"coldVersion",kind:"scalar",T:5,oneof:"Content"},{no:6,name:"deviceType",kind:"scalar",T:9}]);c8.Base=ju});var ez=E(E2=>{"use strict";h();p();Object.defineProperty(E2,"__esModule",{value:!0});var Hu=of(),EA={KEYSTONE_SIGN_REQUEST:new Hu.RegistryType("keystone-sign-request",6101),KEYSTONE_SIGN_RESULT:new Hu.RegistryType("keystone-sign-result",6102)},{decodeToDataItem:Vve}=Hu.extend,oy;(function(t){t[t.signData=1]="signData",t[t.origin=2]="origin"})(oy||(oy={}));var Rc=class extends Hu.RegistryItem{constructor(e){super(),this.getRegistryType=()=>EA.KEYSTONE_SIGN_REQUEST,this.getSignData=()=>this.signData,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let r={};return r[oy.signData]=this.signData,this.origin&&(r[oy.origin]=this.origin),new Hu.DataItem(r)},this.signData=e.signData,this.origin=e.origin}static constructKeystoneRequest(e,r){return new Rc({signData:e,origin:r})}};Rc.fromDataItem=t=>{let e=t.getData();return new Rc({signData:e[oy.signData],origin:e[oy.origin]})},Rc.fromCBOR=t=>{let e=Vve(t);return Rc.fromDataItem(e)};var{decodeToDataItem:Gve}=Hu.extend,d8;(function(t){t[t.signResult=1]="signResult"})(d8||(d8={}));var Xh=class extends Hu.RegistryItem{constructor(e){super(),this.getRegistryType=()=>EA.KEYSTONE_SIGN_RESULT,this.getSignResult=()=>this.signResult,this.toDataItem=()=>{let r={};return r[d8.signResult]=this.signResult,new Hu.DataItem(r)},this.signResult=e}};Xh.fromDataItem=t=>{let e=t.getData();return new Xh(e[d8.signResult])},Xh.fromCBOR=t=>{let e=Gve(t);return Xh.fromDataItem(e)},Hu.patchTags(Object.values(EA).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(Hu).forEach(function(t){t!=="default"&&Object.defineProperty(E2,t,{enumerable:!0,get:function(){return Hu[t]}})}),E2.KeystoneSignRequest=Rc,E2.KeystoneSignResult=Xh});var SA=E((SQe,tz)=>{"use strict";h();p();tz.exports=ez()});var oz=E(sy=>{"use strict";h();p();var zve=sy&&sy.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sy,"__esModule",{value:!0});sy.KeystoneTronSDK=void 0;var Yve=Tn(),Wve=qa(),Xve=$G(),Jve=yA(),rz=zve(hN()),nz=wA(),iz=f8(),$ve=o8(),az=SA(),IA=class{parseSignature(e){var r,n;if(e.type!==Wve.URType.KeystoneSignResult)throw new Error("type not match");let i=az.KeystoneSignResult.fromCBOR(e.cbor),a=nz.Base.fromBinary(rz.default.ungzip(i.getSignResult()));if(((r=a.data)===null||r===void 0?void 0:r.Content.case)!=="signTxResult")throw new Error("invalid sign result");let{signId:o,rawTx:s}=(n=a.data)===null||n===void 0?void 0:n.Content.value,u=Jve.Transaction.fromBinary(v.Buffer.from(s,"hex")),f=v.Buffer.from(u.signature[0]).toString("hex");return{requestId:o,signature:f}}generateSignRequest({requestId:e,signData:r,path:n,xfp:i,tokenInfo:a,origin:o}){let s=(0,Xve.raw2tx)((0,Yve.toBuffer)(r),a),u=rz.default.gzip(new nz.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new iz.Payload({xfp:i,type:iz.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new $ve.SignTransaction({coinCode:"TRON",hdPath:n,signId:e,timestamp:BigInt(Date.now()),decimal:6,Transaction:{case:"tronTx",value:s}})}})}).toBinary());return new az.KeystoneSignRequest({signData:v.Buffer.from(u),origin:o}).toUR()}};sy.KeystoneTronSDK=IA});function S2(){if(!l8&&(l8=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!l8))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l8(Zve)}var l8,Zve,TA=fe(()=>{h();p();Zve=new Uint8Array(16)});var sz,uz=fe(()=>{h();p();sz=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Qve(t){return typeof t=="string"&&sz.test(t)}var Cd,I2=fe(()=>{h();p();uz();Cd=Qve});function eme(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase();if(!Cd(r))throw TypeError("Stringified UUID is invalid");return r}var Ln,h8,Ad,T2=fe(()=>{h();p();I2();Ln=[];for(h8=0;h8<256;++h8)Ln.push((h8+256).toString(16).substr(1));Ad=eme});function tme(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var a=t.node||fz,o=t.clockseq!==void 0?t.clockseq:CA;if(a==null||o==null){var s=t.random||(t.rng||S2)();a==null&&(a=fz=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=CA=(s[6]<<8|s[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:OA+1,c=u-AA+(f-OA)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||u>AA)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");AA=u,OA=f,CA=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||Ad(i)}var fz,CA,AA,OA,cz,dz=fe(()=>{h();p();TA();T2();AA=0,OA=0;cz=tme});function rme(t){if(!Cd(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var p8,DA=fe(()=>{h();p();I2();p8=rme});function nme(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function g8(t,e,r){function n(i,a,o,s){if(typeof i=="string"&&(i=nme(i)),typeof a=="string"&&(a=p8(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return Ad(u)}try{n.name=t}catch{}return n.DNS=ime,n.URL=ame,n}var ime,ame,RA=fe(()=>{h();p();T2();DA();ime="6ba7b810-9dad-11d1-80b4-00c04fd430c8",ame="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function ome(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return sme(ume(fme(t),t.length*8))}function sme(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var a=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function lz(t){return(t+64>>>9<<4)+14+1}function ume(t,e){t[e>>5]|=128<<e%32,t[lz(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=r,u=n,f=i,c=a;r=Ci(r,n,i,a,t[o],7,-680876936),a=Ci(a,r,n,i,t[o+1],12,-389564586),i=Ci(i,a,r,n,t[o+2],17,606105819),n=Ci(n,i,a,r,t[o+3],22,-1044525330),r=Ci(r,n,i,a,t[o+4],7,-176418897),a=Ci(a,r,n,i,t[o+5],12,1200080426),i=Ci(i,a,r,n,t[o+6],17,-1473231341),n=Ci(n,i,a,r,t[o+7],22,-45705983),r=Ci(r,n,i,a,t[o+8],7,1770035416),a=Ci(a,r,n,i,t[o+9],12,-1958414417),i=Ci(i,a,r,n,t[o+10],17,-42063),n=Ci(n,i,a,r,t[o+11],22,-1990404162),r=Ci(r,n,i,a,t[o+12],7,1804603682),a=Ci(a,r,n,i,t[o+13],12,-40341101),i=Ci(i,a,r,n,t[o+14],17,-1502002290),n=Ci(n,i,a,r,t[o+15],22,1236535329),r=Ai(r,n,i,a,t[o+1],5,-165796510),a=Ai(a,r,n,i,t[o+6],9,-1069501632),i=Ai(i,a,r,n,t[o+11],14,643717713),n=Ai(n,i,a,r,t[o],20,-373897302),r=Ai(r,n,i,a,t[o+5],5,-701558691),a=Ai(a,r,n,i,t[o+10],9,38016083),i=Ai(i,a,r,n,t[o+15],14,-660478335),n=Ai(n,i,a,r,t[o+4],20,-405537848),r=Ai(r,n,i,a,t[o+9],5,568446438),a=Ai(a,r,n,i,t[o+14],9,-1019803690),i=Ai(i,a,r,n,t[o+3],14,-187363961),n=Ai(n,i,a,r,t[o+8],20,1163531501),r=Ai(r,n,i,a,t[o+13],5,-1444681467),a=Ai(a,r,n,i,t[o+2],9,-51403784),i=Ai(i,a,r,n,t[o+7],14,1735328473),n=Ai(n,i,a,r,t[o+12],20,-1926607734),r=Oi(r,n,i,a,t[o+5],4,-378558),a=Oi(a,r,n,i,t[o+8],11,-2022574463),i=Oi(i,a,r,n,t[o+11],16,1839030562),n=Oi(n,i,a,r,t[o+14],23,-35309556),r=Oi(r,n,i,a,t[o+1],4,-1530992060),a=Oi(a,r,n,i,t[o+4],11,1272893353),i=Oi(i,a,r,n,t[o+7],16,-155497632),n=Oi(n,i,a,r,t[o+10],23,-1094730640),r=Oi(r,n,i,a,t[o+13],4,681279174),a=Oi(a,r,n,i,t[o],11,-358537222),i=Oi(i,a,r,n,t[o+3],16,-722521979),n=Oi(n,i,a,r,t[o+6],23,76029189),r=Oi(r,n,i,a,t[o+9],4,-640364487),a=Oi(a,r,n,i,t[o+12],11,-421815835),i=Oi(i,a,r,n,t[o+15],16,530742520),n=Oi(n,i,a,r,t[o+2],23,-995338651),r=Di(r,n,i,a,t[o],6,-198630844),a=Di(a,r,n,i,t[o+7],10,1126891415),i=Di(i,a,r,n,t[o+14],15,-1416354905),n=Di(n,i,a,r,t[o+5],21,-57434055),r=Di(r,n,i,a,t[o+12],6,1700485571),a=Di(a,r,n,i,t[o+3],10,-1894986606),i=Di(i,a,r,n,t[o+10],15,-1051523),n=Di(n,i,a,r,t[o+1],21,-2054922799),r=Di(r,n,i,a,t[o+8],6,1873313359),a=Di(a,r,n,i,t[o+15],10,-30611744),i=Di(i,a,r,n,t[o+6],15,-1560198380),n=Di(n,i,a,r,t[o+13],21,1309151649),r=Di(r,n,i,a,t[o+4],6,-145523070),a=Di(a,r,n,i,t[o+11],10,-1120210379),i=Di(i,a,r,n,t[o+2],15,718787259),n=Di(n,i,a,r,t[o+9],21,-343485551),r=Od(r,s),n=Od(n,u),i=Od(i,f),a=Od(a,c)}return[r,n,i,a]}function fme(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(lz(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Od(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function cme(t,e){return t<<e|t>>>32-e}function y8(t,e,r,n,i,a){return Od(cme(Od(Od(e,t),Od(n,a)),i),r)}function Ci(t,e,r,n,i,a,o){return y8(e&r|~e&n,t,e,i,a,o)}function Ai(t,e,r,n,i,a,o){return y8(e&n|r&~n,t,e,i,a,o)}function Oi(t,e,r,n,i,a,o){return y8(e^r^n,t,e,i,a,o)}function Di(t,e,r,n,i,a,o){return y8(r^(e|~n),t,e,i,a,o)}var hz,pz=fe(()=>{h();p();hz=ome});var dme,gz,yz=fe(()=>{h();p();RA();pz();dme=g8("v3",48,hz),gz=dme});function lme(t,e,r){t=t||{};var n=t.random||(t.rng||S2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return Ad(n)}var vz,mz=fe(()=>{h();p();TA();T2();vz=lme});function hme(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function PA(t,e){return t<<e|t>>>32-e}function pme(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=t[u*64+c*4]<<24|t[u*64+c*4+1]<<16|t[u*64+c*4+2]<<8|t[u*64+c*4+3];s[u]=f}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=PA(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=r[0],S=r[1],I=r[2],O=r[3],P=r[4],q=0;q<80;++q){var C=Math.floor(q/20),d=PA(w,5)+hme(C,S,I,O)+P+e[C]+g[q]>>>0;P=O,O=I,I=PA(S,30)>>>0,S=w,w=d}r[0]=r[0]+w>>>0,r[1]=r[1]+S>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var _z,xz=fe(()=>{h();p();_z=pme});var gme,bz,wz=fe(()=>{h();p();RA();xz();gme=g8("v5",80,_z),bz=gme});var Ez,Sz=fe(()=>{h();p();Ez="00000000-0000-0000-0000-000000000000"});function yme(t){if(!Cd(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var Iz,Tz=fe(()=>{h();p();I2();Iz=yme});var Cz={};v0(Cz,{NIL:()=>Ez,parse:()=>p8,stringify:()=>Ad,v1:()=>cz,v3:()=>gz,v4:()=>vz,v5:()=>bz,validate:()=>Cd,version:()=>Iz});var Az=fe(()=>{h();p();dz();yz();mz();wz();Sz();Tz();I2();T2();DA()});var Oz=E(Rd=>{"use strict";h();p();Object.defineProperty(Rd,"__esModule",{value:!0});var Ri=of(),vme=(Az(),m0(Cz)),BA={APTOS_SIGN_REQUEST:new Ri.RegistryType("aptos-sign-request",3101),APTOS_SIGNATURE:new Ri.RegistryType("aptos-signature",3102)},{decodeToDataItem:mme,RegistryTypes:_me}=Ri.extend,v8,Un;(v8=Rd.SignType||(Rd.SignType={}))[v8.SingleSign=1]="SingleSign",v8[v8.MultiSign=2]="MultiSign",function(t){t[t.requestId=1]="requestId",t[t.signData=2]="signData",t[t.authenticationKeyDerivationPaths=3]="authenticationKeyDerivationPaths",t[t.accounts=4]="accounts",t[t.origin=5]="origin",t[t.signType=6]="signType"}(Un||(Un={}));var Pc=class extends Ri.RegistryItem{constructor(e){super(),this.getRegistryType=()=>BA.APTOS_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getAuthenticationKeyDerivationPaths=()=>this.authenticationKeyDerivationPaths.map(r=>r.getPath()),this.getSignRequestAccounts=()=>this.accounts,this.getOrigin=()=>this.origin,this.getSignType=()=>this.signType,this.toDataItem=()=>{let r={};return r[Un.requestId]=new Ri.DataItem(this.requestId,_me.UUID.getTag()),this.accounts&&(r[Un.accounts]=this.accounts),this.origin&&(r[Un.origin]=this.origin),r[Un.signData]=this.signData,r[Un.signType]=this.signType,r[Un.authenticationKeyDerivationPaths]=this.authenticationKeyDerivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new Ri.DataItem(r)},this.requestId=e.requestId,this.signData=e.signData,this.authenticationKeyDerivationPaths=e.authenticationKeyDerivationPaths,this.accounts=e.accounts,this.origin=e.origin,this.signType=e.signType}static constructAptosRequest(e,r,n,i,a,o,s){let u=r.map((f,c)=>{let l=f.replace(/[m|M]\//,"").split("/").map(g=>{let y=parseInt(g.replace("'","")),_=!1;return g.endsWith("'")&&(_=!0),new Ri.PathComponent({index:y,hardened:_})});return new Ri.CryptoKeypath(l,v.Buffer.from(n[c],"hex"))});return new Pc({requestId:v.Buffer.from(vme.parse(a)),signData:e,authenticationKeyDerivationPaths:u,accounts:o||void 0,origin:s||void 0,signType:i||Rd.SignType.SingleSign})}};Pc.fromDataItem=t=>{let e=t.getData(),r=e[Un.signData],n=e[Un.signType],i=e[Un.authenticationKeyDerivationPaths].map(s=>Ri.CryptoKeypath.fromDataItem(s)),a=e[Un.accounts]?e[Un.accounts]:void 0,o=e[Un.requestId]?e[Un.requestId].getData():void 0;return new Pc({requestId:o,signData:r,authenticationKeyDerivationPaths:i,accounts:a,origin:e[Un.origin]?e[Un.origin]:void 0,signType:n})},Pc.fromCBOR=t=>{let e=mme(t);return Pc.fromDataItem(e)};var{RegistryTypes:xme,decodeToDataItem:bme}=Ri.extend,Dd;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature",t[t.authenticationPublicKey=3]="authenticationPublicKey"})(Dd||(Dd={}));var Jh=class extends Ri.RegistryItem{constructor(e,r,n){super(),this.getRegistryType=()=>BA.APTOS_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getAuthenticationPublicKey=()=>this.authenticationPublicKey,this.toDataItem=()=>{let i={};return i[Dd.requestId]=new Ri.DataItem(this.requestId,xme.UUID.getTag()),i[Dd.signature]=this.signature,i[Dd.authenticationPublicKey]=this.authenticationPublicKey,new Ri.DataItem(i)},this.signature=e,this.requestId=r,this.authenticationPublicKey=n}};Jh.fromDataItem=t=>{let e=t.getData(),r=e[Dd.signature],n=e[Dd.requestId].getData();return new Jh(r,n,e[Dd.authenticationPublicKey])},Jh.fromCBOR=t=>{let e=bme(t);return Jh.fromDataItem(e)},Ri.patchTags(Object.values(BA).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(Ri).forEach(function(t){t!=="default"&&Object.defineProperty(Rd,t,{enumerable:!0,get:function(){return Ri[t]}})}),Rd.AptosSignRequest=Pc,Rd.AptosSignature=Jh});var Rz=E((Wet,Dz)=>{"use strict";h();p();Dz.exports=Oz()});var Pz=E(_8=>{"use strict";h();p();Object.defineProperty(_8,"__esModule",{value:!0});_8.KeystoneAptosSDK=void 0;var C2=Rz(),Pd=Tn(),wme=qa(),m8=class{parseSignature(e){if(e.type!==wme.URType.AptosSignature)throw new Error("type not match");let r=C2.AptosSignature.fromCBOR(e.cbor);return{requestId:(0,Pd.uuidStringify)(r.getRequestId()),signature:(0,Pd.toHex)(r.getSignature()),authenticationPublicKey:(0,Pd.toHex)(r.getAuthenticationPublicKey())}}generateSignRequest({requestId:e,signData:r,signType:n,accounts:i,origin:a}){let o=[],s=[];if(i.forEach(u=>{o.push(new C2.CryptoKeypath((0,Pd.parsePath)(u.path).map(f=>new C2.PathComponent(f)),(0,Pd.toBuffer)(u.xfp))),u.key!==void 0&&s.push((0,Pd.toBuffer)(u.key))}),s.length>0&&s.length!==o.length)throw new Error("account and path count must match");return new C2.AptosSignRequest({requestId:(0,Pd.uuidParse)(e),signData:(0,Pd.toBuffer)(r),signType:n,authenticationKeyDerivationPaths:o,accounts:s,origin:a}).toUR()}};m8.SignType=C2.SignType;_8.KeystoneAptosSDK=m8});var b8=E(Gs=>{"use strict";h();p();var Eme=Gs&&Gs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.Keystone=Gs.TXCase=Gs.Chain=void 0;var Bz=Eme(hN()),Sme=qa(),Mz=SA(),Nz=wA(),qz=f8(),Ime=o8(),Tme=bA(),Cme=_A(),Ame=xA(),$h;(function(t){t.LTC="LTC",t.BCH="BCH",t.DASH="DASH"})($h=Gs.Chain||(Gs.Chain={}));var x8;(function(t){t.LTC="ltcTx",t.BCH="bchTx",t.DASH="dashTx"})(x8=Gs.TXCase||(Gs.TXCase={}));var MA=class{generateSignData({chain:e,requestId:r,signData:n,xfp:i}){let a,o,s;switch(e){case $h.LTC:a=new Tme.LtcTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:5460})),s=$h.LTC,o=x8.LTC;break;case $h.BCH:a=new Cme.BchTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:546})),s=$h.BCH,o=x8.BCH;break;case $h.DASH:a=new Ame.DashTx(Object.assign(Object.assign({},n),{fee:BigInt(n.fee),dustThreshold:546})),s=$h.DASH,o=x8.DASH;break;default:throw new Error("chain not support")}return Bz.default.gzip(new Nz.Base({version:2,description:"QrCode Protocol",deviceType:"",data:new qz.Payload({xfp:i,type:qz.Payload_Type.SIGN_TX,Content:{case:"signTx",value:new Ime.SignTransaction({coinCode:s,hdPath:"",signId:r,timestamp:BigInt(Date.now()),decimal:8,Transaction:{case:o,value:a}})}})}).toBinary())}generateSignRequest(e){let r=v.Buffer.from(this.generateSignData(e));return new Mz.KeystoneSignRequest({signData:r,origin:e.origin}).toUR()}parseSignResult(e){var r,n;if(e.type!==Sme.URType.KeystoneSignResult)throw new Error("type not match");let i=Mz.KeystoneSignResult.fromCBOR(e.cbor),a=Nz.Base.fromBinary(Bz.default.ungzip(i.getSignResult()));if(((r=a.data)===null||r===void 0?void 0:r.Content.case)!=="signTxResult")throw new Error("invalid sign result");let o=(n=a.data)===null||n===void 0?void 0:n.Content.value;return{requestId:o.signId,rawData:o.rawTx}}};Gs.Keystone=MA});var Lz=E(w8=>{"use strict";h();p();Object.defineProperty(w8,"__esModule",{value:!0});w8.KeystoneBitcoinCashSDK=void 0;var Fz=b8(),NA=class extends Fz.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:Fz.Chain.BCH},e))}};w8.KeystoneBitcoinCashSDK=NA});var kz=E(E8=>{"use strict";h();p();Object.defineProperty(E8,"__esModule",{value:!0});E8.KeystoneDashSDK=void 0;var Uz=b8(),qA=class extends Uz.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:Uz.Chain.DASH},e))}};E8.KeystoneDashSDK=qA});var Hz=E(S8=>{"use strict";h();p();Object.defineProperty(S8,"__esModule",{value:!0});S8.KeystoneLitecoinSDK=void 0;var jz=b8(),FA=class extends jz.Keystone{generateSignRequest(e){return super.generateSignRequest(Object.assign({chain:jz.Chain.LTC},e))}};S8.KeystoneLitecoinSDK=FA});function A2(){if(!I8&&(I8=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!I8))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return I8(Ome)}var I8,Ome,LA=fe(()=>{h();p();Ome=new Uint8Array(16)});var Kz,Vz=fe(()=>{h();p();Kz=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Dme(t){return typeof t=="string"&&Kz.test(t)}var Bd,O2=fe(()=>{h();p();Vz();Bd=Dme});function Rme(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(kn[t[e+0]]+kn[t[e+1]]+kn[t[e+2]]+kn[t[e+3]]+"-"+kn[t[e+4]]+kn[t[e+5]]+"-"+kn[t[e+6]]+kn[t[e+7]]+"-"+kn[t[e+8]]+kn[t[e+9]]+"-"+kn[t[e+10]]+kn[t[e+11]]+kn[t[e+12]]+kn[t[e+13]]+kn[t[e+14]]+kn[t[e+15]]).toLowerCase();if(!Bd(r))throw TypeError("Stringified UUID is invalid");return r}var kn,T8,Md,D2=fe(()=>{h();p();O2();kn=[];for(T8=0;T8<256;++T8)kn.push((T8+256).toString(16).substr(1));Md=Rme});function Pme(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var a=t.node||Gz,o=t.clockseq!==void 0?t.clockseq:UA;if(a==null||o==null){var s=t.random||(t.rng||A2)();a==null&&(a=Gz=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=UA=(s[6]<<8|s[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:jA+1,c=u-kA+(f-jA)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||u>kA)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");kA=u,jA=f,UA=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||Md(i)}var Gz,UA,kA,jA,zz,Yz=fe(()=>{h();p();LA();D2();kA=0,jA=0;zz=Pme});function Bme(t){if(!Bd(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var C8,HA=fe(()=>{h();p();O2();C8=Bme});function Mme(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function A8(t,e,r){function n(i,a,o,s){if(typeof i=="string"&&(i=Mme(i)),typeof a=="string"&&(a=C8(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return Md(u)}try{n.name=t}catch{}return n.DNS=Nme,n.URL=qme,n}var Nme,qme,KA=fe(()=>{h();p();D2();HA();Nme="6ba7b810-9dad-11d1-80b4-00c04fd430c8",qme="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function Fme(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return Lme(Ume(kme(t),t.length*8))}function Lme(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var a=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function Wz(t){return(t+64>>>9<<4)+14+1}function Ume(t,e){t[e>>5]|=128<<e%32,t[Wz(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=r,u=n,f=i,c=a;r=Pi(r,n,i,a,t[o],7,-680876936),a=Pi(a,r,n,i,t[o+1],12,-389564586),i=Pi(i,a,r,n,t[o+2],17,606105819),n=Pi(n,i,a,r,t[o+3],22,-1044525330),r=Pi(r,n,i,a,t[o+4],7,-176418897),a=Pi(a,r,n,i,t[o+5],12,1200080426),i=Pi(i,a,r,n,t[o+6],17,-1473231341),n=Pi(n,i,a,r,t[o+7],22,-45705983),r=Pi(r,n,i,a,t[o+8],7,1770035416),a=Pi(a,r,n,i,t[o+9],12,-1958414417),i=Pi(i,a,r,n,t[o+10],17,-42063),n=Pi(n,i,a,r,t[o+11],22,-1990404162),r=Pi(r,n,i,a,t[o+12],7,1804603682),a=Pi(a,r,n,i,t[o+13],12,-40341101),i=Pi(i,a,r,n,t[o+14],17,-1502002290),n=Pi(n,i,a,r,t[o+15],22,1236535329),r=Bi(r,n,i,a,t[o+1],5,-165796510),a=Bi(a,r,n,i,t[o+6],9,-1069501632),i=Bi(i,a,r,n,t[o+11],14,643717713),n=Bi(n,i,a,r,t[o],20,-373897302),r=Bi(r,n,i,a,t[o+5],5,-701558691),a=Bi(a,r,n,i,t[o+10],9,38016083),i=Bi(i,a,r,n,t[o+15],14,-660478335),n=Bi(n,i,a,r,t[o+4],20,-405537848),r=Bi(r,n,i,a,t[o+9],5,568446438),a=Bi(a,r,n,i,t[o+14],9,-1019803690),i=Bi(i,a,r,n,t[o+3],14,-187363961),n=Bi(n,i,a,r,t[o+8],20,1163531501),r=Bi(r,n,i,a,t[o+13],5,-1444681467),a=Bi(a,r,n,i,t[o+2],9,-51403784),i=Bi(i,a,r,n,t[o+7],14,1735328473),n=Bi(n,i,a,r,t[o+12],20,-1926607734),r=Mi(r,n,i,a,t[o+5],4,-378558),a=Mi(a,r,n,i,t[o+8],11,-2022574463),i=Mi(i,a,r,n,t[o+11],16,1839030562),n=Mi(n,i,a,r,t[o+14],23,-35309556),r=Mi(r,n,i,a,t[o+1],4,-1530992060),a=Mi(a,r,n,i,t[o+4],11,1272893353),i=Mi(i,a,r,n,t[o+7],16,-155497632),n=Mi(n,i,a,r,t[o+10],23,-1094730640),r=Mi(r,n,i,a,t[o+13],4,681279174),a=Mi(a,r,n,i,t[o],11,-358537222),i=Mi(i,a,r,n,t[o+3],16,-722521979),n=Mi(n,i,a,r,t[o+6],23,76029189),r=Mi(r,n,i,a,t[o+9],4,-640364487),a=Mi(a,r,n,i,t[o+12],11,-421815835),i=Mi(i,a,r,n,t[o+15],16,530742520),n=Mi(n,i,a,r,t[o+2],23,-995338651),r=Ni(r,n,i,a,t[o],6,-198630844),a=Ni(a,r,n,i,t[o+7],10,1126891415),i=Ni(i,a,r,n,t[o+14],15,-1416354905),n=Ni(n,i,a,r,t[o+5],21,-57434055),r=Ni(r,n,i,a,t[o+12],6,1700485571),a=Ni(a,r,n,i,t[o+3],10,-1894986606),i=Ni(i,a,r,n,t[o+10],15,-1051523),n=Ni(n,i,a,r,t[o+1],21,-2054922799),r=Ni(r,n,i,a,t[o+8],6,1873313359),a=Ni(a,r,n,i,t[o+15],10,-30611744),i=Ni(i,a,r,n,t[o+6],15,-1560198380),n=Ni(n,i,a,r,t[o+13],21,1309151649),r=Ni(r,n,i,a,t[o+4],6,-145523070),a=Ni(a,r,n,i,t[o+11],10,-1120210379),i=Ni(i,a,r,n,t[o+2],15,718787259),n=Ni(n,i,a,r,t[o+9],21,-343485551),r=Nd(r,s),n=Nd(n,u),i=Nd(i,f),a=Nd(a,c)}return[r,n,i,a]}function kme(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(Wz(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Nd(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function jme(t,e){return t<<e|t>>>32-e}function O8(t,e,r,n,i,a){return Nd(jme(Nd(Nd(e,t),Nd(n,a)),i),r)}function Pi(t,e,r,n,i,a,o){return O8(e&r|~e&n,t,e,i,a,o)}function Bi(t,e,r,n,i,a,o){return O8(e&n|r&~n,t,e,i,a,o)}function Mi(t,e,r,n,i,a,o){return O8(e^r^n,t,e,i,a,o)}function Ni(t,e,r,n,i,a,o){return O8(r^(e|~n),t,e,i,a,o)}var Xz,Jz=fe(()=>{h();p();Xz=Fme});var Hme,$z,Zz=fe(()=>{h();p();KA();Jz();Hme=A8("v3",48,Xz),$z=Hme});function Kme(t,e,r){t=t||{};var n=t.random||(t.rng||A2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return Md(n)}var Qz,eY=fe(()=>{h();p();LA();D2();Qz=Kme});function Vme(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function VA(t,e){return t<<e|t>>>32-e}function Gme(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=t[u*64+c*4]<<24|t[u*64+c*4+1]<<16|t[u*64+c*4+2]<<8|t[u*64+c*4+3];s[u]=f}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=VA(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=r[0],S=r[1],I=r[2],O=r[3],P=r[4],q=0;q<80;++q){var C=Math.floor(q/20),d=VA(w,5)+Vme(C,S,I,O)+P+e[C]+g[q]>>>0;P=O,O=I,I=VA(S,30)>>>0,S=w,w=d}r[0]=r[0]+w>>>0,r[1]=r[1]+S>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var tY,rY=fe(()=>{h();p();tY=Gme});var zme,nY,iY=fe(()=>{h();p();KA();rY();zme=A8("v5",80,tY),nY=zme});var aY,oY=fe(()=>{h();p();aY="00000000-0000-0000-0000-000000000000"});function Yme(t){if(!Bd(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var sY,uY=fe(()=>{h();p();O2();sY=Yme});var fY={};v0(fY,{NIL:()=>aY,parse:()=>C8,stringify:()=>Md,v1:()=>zz,v3:()=>$z,v4:()=>Qz,v5:()=>nY,validate:()=>Bd,version:()=>sY});var cY=fe(()=>{h();p();Yz();Zz();eY();iY();oY();uY();O2();D2();HA()});var dY=E(R2=>{"use strict";h();p();Object.defineProperty(R2,"__esModule",{value:!0});var jn=of(),Wme=(cY(),m0(fY)),GA={NEAR_SIGN_REQUEST:new jn.RegistryType("near-sign-request",2101),NEAR_SIGNATURE:new jn.RegistryType("near-signature",2102),CRYPTO_MULTI_ACCOUNTS:new jn.RegistryType("crypto-multi-accounts",2103)},{decodeToDataItem:Xme,RegistryTypes:Jme}=jn.extend,xa;(function(t){t[t.requestId=1]="requestId",t[t.signData=2]="signData",t[t.derivationPath=3]="derivationPath",t[t.account=4]="account",t[t.origin=5]="origin"})(xa||(xa={}));var Bc=class extends jn.RegistryItem{constructor(e){super(),this.getRegistryType=()=>GA.NEAR_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAccount=()=>this.account,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let r={};this.requestId&&(r[xa.requestId]=new jn.DataItem(this.requestId,Jme.UUID.getTag())),this.account&&(r[xa.account]=this.account),this.origin&&(r[xa.origin]=this.origin),r[xa.signData]=this.signData;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),r[xa.derivationPath]=n,new jn.DataItem(r)},this.requestId=e.requestId,this.signData=e.signData,this.derivationPath=e.derivationPath,this.account=e.account,this.origin=e.origin}static constructNearRequest(e,r,n,i,a,o){let s=r.replace(/[m|M]\//,"").split("/"),u=new jn.CryptoKeypath(s.map(f=>{let c=parseInt(f.replace("'","")),l=!1;return f.endsWith("'")&&(l=!0),new jn.PathComponent({index:c,hardened:l})}),v.Buffer.from(n,"hex"));return new Bc({requestId:i?v.Buffer.from(Wme.parse(i)):void 0,signData:e,derivationPath:u,account:a||void 0,origin:o||void 0})}};Bc.fromDataItem=t=>{let e=t.getData(),r=e[xa.signData],n=jn.CryptoKeypath.fromDataItem(e[xa.derivationPath]),i=e[xa.account]?e[xa.account]:void 0,a=e[xa.requestId]?e[xa.requestId].getData():void 0;return new Bc({requestId:a,signData:r,derivationPath:n,account:i,origin:e[xa.origin]?e[xa.origin]:void 0})},Bc.fromCBOR=t=>{let e=Xme(t);return Bc.fromDataItem(e)};var{RegistryTypes:$me,decodeToDataItem:Zme}=jn.extend,Qh;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature"})(Qh||(Qh={}));var Zh=class extends jn.RegistryItem{constructor(e,r){super(),this.getRegistryType=()=>GA.NEAR_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[Qh.requestId]=new jn.DataItem(this.requestId,$me.UUID.getTag())),n[Qh.signature]=this.signature,new jn.DataItem(n)},this.signature=e,this.requestId=r}};Zh.fromDataItem=t=>{let e=t.getData(),r=e[Qh.signature],n=e[Qh.requestId]?e[Qh.requestId].getData():void 0;return new Zh(r,n)},Zh.fromCBOR=t=>{let e=Zme(t);return Zh.fromDataItem(e)},jn.patchTags(Object.values(GA).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(jn).forEach(function(t){t!=="default"&&Object.defineProperty(R2,t,{enumerable:!0,get:function(){return jn[t]}})}),R2.NearSignRequest=Bc,R2.NearSignature=Zh});var hY=E((Art,lY)=>{"use strict";h();p();lY.exports=dY()});var pY=E(R8=>{"use strict";h();p();Object.defineProperty(R8,"__esModule",{value:!0});R8.KeystoneNearSDK=void 0;var uy=Tn(),Qme=qa(),D8=hY(),zA=class{parseSignature(e){if(e.type!==Qme.URType.NearSignature)throw new Error("type not match");let r=D8.NearSignature.fromCBOR(e.cbor),n=r.getRequestId();return{requestId:n===void 0?void 0:(0,uy.uuidStringify)(n),signature:r.getSignature().map(i=>(0,uy.toHex)(i))}}generateSignRequest({requestId:e,signData:r,path:n,xfp:i,account:a,origin:o}){return new D8.NearSignRequest({requestId:(0,uy.uuidParse)(e),signData:r.map(s=>(0,uy.toBuffer)(s)),derivationPath:new D8.CryptoKeypath((0,uy.parsePath)(n).map(s=>new D8.PathComponent(s)),(0,uy.toBuffer)(i)),account:a,origin:o}).toUR()}};R8.KeystoneNearSDK=zA});var qY=E((Mrt,M8)=>{h();p();var gY,yY,vY,mY,_Y,xY,bY,wY,EY,P8,YA,SY,IY,TY,fy,CY,AY,OY,DY,RY,PY,BY,MY,NY,B8;(function(t){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof M8=="object"&&typeof M8.exports=="object"?t(r(e,r(M8.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};gY=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},yY=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},vY=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a},mY=function(n,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,a,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},_Y=function(n,i){return function(a,o){i(a,o,n)}},xY=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},bY=function(n,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function c(y){try{g(o.next(y))}catch(_){f(_)}}function l(y){try{g(o.throw(y))}catch(_){f(_)}}function g(y){y.done?u(y.value):s(y.value).then(c,l)}g((o=o.apply(n,i||[])).next())})},wY=function(n,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(y){return l([g,y])}}function l(g){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,s=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){a.label=g[1];break}if(g[0]===6&&a.label<u[1]){a.label=u[1],u=g;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(g);break}u[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(y){g=[6,y],s=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},EY=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&B8(i,n,a)},B8=Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},P8=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},YA=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(c){f={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},SY=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(YA(arguments[i]));return n},IY=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,c=u.length;f<c;f++,s++)o[s]=u[f];return o},TY=function(n,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return n.concat(u||Array.prototype.slice.call(i))},fy=function(n){return this instanceof fy?(this.v=n,this):new fy(n)},CY=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){o[w]&&(s[w]=function(S){return new Promise(function(I,O){u.push([w,S,I,O])>1||c(w,S)})})}function c(w,S){try{l(o[w](S))}catch(I){_(u[0][3],I)}}function l(w){w.value instanceof fy?Promise.resolve(w.value.v).then(g,y):_(u[0][2],w)}function g(w){c("next",w)}function y(w){c("throw",w)}function _(w,S){w(S),u.shift(),u.length&&c(u[0][0],u[0][1])}},AY=function(n){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=n[s]?function(f){return(a=!a)?{value:fy(n[s](f)),done:s==="return"}:u?u(f):f}:u}},OY=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof P8=="function"?P8(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(c,l){f=n[u](f),s(c,l,f.done,f.value)})}}function s(u,f,c,l){Promise.resolve(l).then(function(g){u({value:g,done:c})},f)}},DY=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};RY=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&B8(i,n,a);return r(i,n),i},PY=function(n){return n&&n.__esModule?n:{default:n}},BY=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},MY=function(n,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(n,a):s?s.value=a:i.set(n,a),a},NY=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},t("__extends",gY),t("__assign",yY),t("__rest",vY),t("__decorate",mY),t("__param",_Y),t("__metadata",xY),t("__awaiter",bY),t("__generator",wY),t("__exportStar",EY),t("__createBinding",B8),t("__values",P8),t("__read",YA),t("__spread",SY),t("__spreadArrays",IY),t("__spreadArray",TY),t("__await",fy),t("__asyncGenerator",CY),t("__asyncDelegator",AY),t("__asyncValues",OY),t("__makeTemplateObject",DY),t("__importStar",RY),t("__importDefault",PY),t("__classPrivateFieldGet",BY),t("__classPrivateFieldSet",MY),t("__classPrivateFieldIn",NY)})});var q8=E(N8=>{"use strict";h();p();Object.defineProperty(N8,"__esModule",{value:!0});N8.DataItem=void 0;var WA=class{constructor(e,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=r}};N8.DataItem=WA});var LY=E((FY,F8)=>{"use strict";h();p();(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof F8<"u"&&F8.exports?F8.exports=e():t.CBOR=e()})(FY,function(){let{DataItem:t}=q8();var e=function(){function r(d){this.$hex=d}r.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},r.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new r(m)},r.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new r(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var oe=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-oe:oe},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var oe;(oe=y(d))!==g;)R.push(oe);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(oe){l(3,oe,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(oe){l(2,oe,m)});else if(typeof d=="object")if(I.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],S=[],I={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?S.push(function(x){if(d===x)return m(x)}):S.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let oe=y(M);return oe instanceof t?oe:new t(oe)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this}};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function P(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}P.prototype=Object.create(s.prototype),P.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},P.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},P.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},P.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},P.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},P.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},P.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},P.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(I.addReader(function(d,m){if(v.Buffer.isBuffer(d))return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),I.addWriter(function(d){if(!d||d==="buffer")return new P;if(d==="hex"||d==="base64")return new P(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new r(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof r||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof r)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new r(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=r.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},I.addReader(function(d,m){if(d instanceof r||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),I.addWriter(function(d){if(d==="hex")return new C}),I}();return e.addSemanticEncode(0,function(r){if(r instanceof Date)return r.toISOString()}).addSemanticDecode(0,function(r){return new Date(r)}).addSemanticDecode(1,function(r){return new Date(r)}),e})});var Hn=E(qi=>{"use strict";h();p();Object.defineProperty(qi,"__esModule",{value:!0});qi.DataItem=qi.addWriter=qi.addReader=qi.addSemanticEncode=qi.addSemanticDecode=qi.decodeToDataItem=qi.encodeDataItem=void 0;var cy=LY();Object.defineProperty(qi,"encodeDataItem",{enumerable:!0,get:function(){return cy.encodeDataItem}});Object.defineProperty(qi,"decodeToDataItem",{enumerable:!0,get:function(){return cy.decodeToDataItem}});Object.defineProperty(qi,"addSemanticDecode",{enumerable:!0,get:function(){return cy.addSemanticDecode}});Object.defineProperty(qi,"addSemanticEncode",{enumerable:!0,get:function(){return cy.addSemanticEncode}});Object.defineProperty(qi,"addReader",{enumerable:!0,get:function(){return cy.addReader}});Object.defineProperty(qi,"addWriter",{enumerable:!0,get:function(){return cy.addWriter}});var e2e=q8();Object.defineProperty(qi,"DataItem",{enumerable:!0,get:function(){return e2e.DataItem}})});var k8=E(U8=>{"use strict";h();p();Object.defineProperty(U8,"__esModule",{value:!0});U8.patchTags=void 0;var L8=Hn(),UY=[],t2e=t=>{t.forEach(e=>{UY.find(r=>r===e)||(L8.addSemanticEncode(e,r=>{if(r instanceof L8.DataItem&&r.getTag()===e)return r.getData()}),L8.addSemanticDecode(e,r=>new L8.DataItem(r,e)),UY.push(e))})};U8.patchTags=t2e});var Kn=E(dy=>{"use strict";h();p();Object.defineProperty(dy,"__esModule",{value:!0});dy.RegistryTypes=dy.RegistryType=void 0;var ba=class{constructor(e,r){this.type=e,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};dy.RegistryType=ba;dy.RegistryTypes={UUID:new ba("uuid",37),BYTES:new ba("bytes",void 0),CRYPTO_HDKEY:new ba("crypto-hdkey",303),CRYPTO_KEYPATH:new ba("crypto-keypath",304),CRYPTO_COIN_INFO:new ba("crypto-coin-info",305),CRYPTO_ECKEY:new ba("crypto-eckey",306),CRYPTO_OUTPUT:new ba("crypto-output",308),CRYPTO_PSBT:new ba("crypto-psbt",310),CRYPTO_ACCOUNT:new ba("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new ba("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new ba("qr-hardware-call",1201),KEY_DERIVATION_CALL:new ba("key-derivation-call",1301)}});var j8=E(e1=>{"use strict";h();p();Object.defineProperty(e1,"__esModule",{value:!0});e1.ScriptExpressions=e1.ScriptExpression=void 0;var Ka=class{constructor(e,r){this.tag=e,this.expression=r,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};e1.ScriptExpression=Ka;Ka.fromTag=t=>Object.values(e1.ScriptExpressions).find(r=>r.getTag()===t);e1.ScriptExpressions={SCRIPT_HASH:new Ka(400,"sh"),WITNESS_SCRIPT_HASH:new Ka(401,"wsh"),PUBLIC_KEY:new Ka(402,"pk"),PUBLIC_KEY_HASH:new Ka(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Ka(404,"wpkh"),COMBO:new Ka(405,"combo"),MULTISIG:new Ka(406,"multi"),SORTED_MULTISIG:new Ka(407,"sortedmulti"),ADDRESS:new Ka(307,"addr"),RAW_SCRIPT:new Ka(408,"raw")}});var XA=E(kY=>{"use strict";h();p();Object.defineProperty(kY,"__esModule",{value:!0});var r2e=k8(),n2e=Kn(),i2e=j8(),a2e=Object.values(n2e.RegistryTypes).filter(t=>!!t.getTag()).map(t=>t.getTag()),o2e=Object.values(i2e.ScriptExpressions).map(t=>t.getTag());r2e.patchTags(a2e.concat(o2e))});var wa=E(H8=>{"use strict";h();p();Object.defineProperty(H8,"__esModule",{value:!0});H8.RegistryItem=void 0;var jY=gn(),s2e=Hn(),JA=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return s2e.encodeDataItem(this.toDataItem())},this.toUR=()=>new jY.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,r,n)=>{let i=this.toUR();return new jY.UREncoder(i,e,r,n)}}};H8.RegistryItem=JA});var K8=E(Tf=>{"use strict";h();p();Object.defineProperty(Tf,"__esModule",{value:!0});Tf.CryptoCoinInfo=Tf.Network=Tf.Type=void 0;var HY=Hn(),u2e=wa(),f2e=Kn(),ly;(function(t){t.type="1",t.network="2"})(ly||(ly={}));var KY;(function(t){t[t.bitcoin=0]="bitcoin"})(KY=Tf.Type||(Tf.Type={}));var VY;(function(t){t[t.mainnet=0]="mainnet",t[t.testnet=1]="testnet"})(VY=Tf.Network||(Tf.Network={}));var t1=class extends u2e.RegistryItem{constructor(e,r){super(),this.type=e,this.network=r,this.getRegistryType=()=>f2e.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||KY.bitcoin,this.getNetwork=()=>this.network||VY.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[ly.type]=this.type),this.network&&(n[ly.network]=this.network),new HY.DataItem(n)}}};Tf.CryptoCoinInfo=t1;t1.fromDataItem=t=>{let e=t.getData(),r=e[ly.type],n=e[ly.network];return new t1(r,n)};t1.fromCBOR=t=>{let e=HY.decodeToDataItem(t);return t1.fromDataItem(e)}});var G8=E(V8=>{"use strict";h();p();Object.defineProperty(V8,"__esModule",{value:!0});V8.PathComponent=void 0;var hy=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&hy.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};V8.PathComponent=hy;hy.HARDENED_BIT=2147483648});var P2=E(z8=>{"use strict";h();p();Object.defineProperty(z8,"__esModule",{value:!0});z8.CryptoKeypath=void 0;var zY=Hn(),GY=G8(),c2e=wa(),d2e=Kn(),qd;(function(t){t[t.components=1]="components",t[t.source_fingerprint=2]="source_fingerprint",t[t.depth=3]="depth"})(qd||(qd={}));var r1=class extends c2e.RegistryItem{constructor(e=[],r,n){super(),this.components=e,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>d2e.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(o.isHardened())}),i[qd.components]=a,this.sourceFingerprint&&(i[qd.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[qd.depth]=this.depth),new zY.DataItem(i)}}};z8.CryptoKeypath=r1;r1.fromDataItem=t=>{let e=t.getData(),r=[],n=e[qd.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?r.push(new GY.PathComponent({index:f,hardened:u})):r.push(new GY.PathComponent({hardened:u}))}let i=e[qd.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[qd.depth];return new r1(r,a,o)};r1.fromCBOR=t=>{let e=zY.decodeToDataItem(t);return r1.fromDataItem(e)}});var py=E(Y8=>{"use strict";h();p();Object.defineProperty(Y8,"__esModule",{value:!0});Y8.CryptoHDKey=void 0;var l2e=Rp(),h2e=K8(),YY=P2(),WY=Hn(),p2e=wa(),g2e=Kn(),jt;(function(t){t[t.is_master=1]="is_master",t[t.is_private=2]="is_private",t[t.key_data=3]="key_data",t[t.chain_code=4]="chain_code",t[t.use_info=5]="use_info",t[t.origin=6]="origin",t[t.children=7]="children",t[t.parent_fingerprint=8]="parent_fingerprint",t[t.name=9]="name",t[t.note=10]="note"})(jt||(jt={}));var n1=class extends p2e.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let a,o,s=0,u=v.Buffer.alloc(4).fill(0);if(this.isMaster())a=v.Buffer.from("0488ADE4","hex"),o=0,s=0;else{o=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=y[y.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?a=v.Buffer.from("0488ADE4","hex"):a=v.Buffer.from("0488B21E","hex")}let f=v.Buffer.alloc(1);f.writeUInt8(o,0);let c=v.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return l2e.encode(v.Buffer.concat([a,f,u,c,l,g]))},this.getRegistryType=()=>g2e.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,a,o,s,u;let f="";return this.getOrigin()&&((r=this.getOrigin())===null||r===void 0?void 0:r.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(a=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||a===void 0?void 0:a.toString("hex")}/${(o=this.getOrigin())===null||o===void 0?void 0:o.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{let r={};if(this.master)r[jt.is_master]=!0,r[jt.key_data]=this.key,r[jt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[jt.is_private]=this.privateKey),r[jt.key_data]=this.key,this.chainCode&&(r[jt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[jt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[jt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[jt.children]=n}this.parentFingerprint&&(r[jt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[jt.name]=this.name),this.note!==void 0&&(r[jt.note]=this.note)}return new WY.DataItem(r)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};Y8.CryptoHDKey=n1;n1.fromDataItem=t=>{let e=t.getData(),r=!!e[jt.is_master],n=e[jt.is_private],i=e[jt.key_data],a=e[jt.chain_code],o=e[jt.use_info]?h2e.CryptoCoinInfo.fromDataItem(e[jt.use_info]):void 0,s=e[jt.origin]?YY.CryptoKeypath.fromDataItem(e[jt.origin]):void 0,u=e[jt.children]?YY.CryptoKeypath.fromDataItem(e[jt.children]):void 0,f=e[jt.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[jt.name],g=e[jt.note];return new n1({isMaster:r,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};n1.fromCBOR=t=>{let e=WY.decodeToDataItem(t);return n1.fromDataItem(e)}});var B2=E(W8=>{"use strict";h();p();Object.defineProperty(W8,"__esModule",{value:!0});W8.CryptoECKey=void 0;var XY=Hn(),y2e=wa(),v2e=Kn(),Fd;(function(t){t[t.curve=1]="curve",t[t.private=2]="private",t[t.data=3]="data"})(Fd||(Fd={}));var i1=class extends y2e.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>v2e.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let r={};return this.curve&&(r[Fd.curve]=this.curve),this.privateKey!==void 0&&(r[Fd.private]=this.privateKey),r[Fd.data]=this.data,new XY.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};W8.CryptoECKey=i1;i1.fromDataItem=t=>{let e=t.getData(),r=e[Fd.curve],n=e[Fd.private],i=e[Fd.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${t}`);return new i1({data:i,curve:r,privateKey:n})};i1.fromCBOR=t=>{let e=XY.decodeToDataItem(t);return i1.fromDataItem(e)}});var $Y=E(X8=>{"use strict";h();p();Object.defineProperty(X8,"__esModule",{value:!0});X8.Bytes=void 0;var JY=Hn(),m2e=wa(),_2e=Kn(),a1=class extends m2e.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>_2e.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new JY.DataItem(this.bytes)}};X8.Bytes=a1;a1.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new a1(e)};a1.fromCBOR=t=>{let e=JY.decodeToDataItem(t);return a1.fromDataItem(e)}});var $8=E(J8=>{"use strict";h();p();Object.defineProperty(J8,"__esModule",{value:!0});J8.MultiKey=void 0;var x2e=B2(),b2e=py(),w2e=q8(),E2e=wa(),ZY=Kn(),gy;(function(t){t[t.threshold=1]="threshold",t[t.keys=2]="keys"})(gy||(gy={}));var M2=class extends E2e.RegistryItem{constructor(e,r){super(),this.threshold=e,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[gy.threshold]=this.threshold;let i=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o});return n[gy.keys]=i,new w2e.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};J8.MultiKey=M2;M2.fromDataItem=t=>{let e=t.getData(),r=e[gy.threshold],n=e[gy.keys],i=[];return n.forEach(a=>{a.getTag()===ZY.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(b2e.CryptoHDKey.fromDataItem(a)):a.getTag()===ZY.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(x2e.CryptoECKey.fromDataItem(a))}),new M2(r,i)}});var tO=E(Z8=>{"use strict";h();p();Object.defineProperty(Z8,"__esModule",{value:!0});Z8.CryptoOutput=void 0;var ZA=B2(),QA=py(),eO=Hn(),QY=$8(),S2e=wa(),eW=Kn(),$A=j8(),Mc=class extends S2e.RegistryItem{constructor(e,r){super(),this.scriptExpressions=e,this.cryptoKey=r,this.getRegistryType=()=>eW.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof QA.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof ZA.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof QY.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof ZA.CryptoECKey||this.cryptoKey instanceof QA.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new eO.DataItem(n,o)}),n}}};Z8.CryptoOutput=Mc;Mc.fromDataItem=t=>{let e=[],r=t;for(;;){let a=r.getTag(),o=$A.ScriptExpression.fromTag(a);if(o)if(e.push(o),r.getData()instanceof eO.DataItem)r=r.getData(),a=r.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===$A.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===$A.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=QY.MultiKey.fromDataItem(r);return new Mc(e,a)}if(r.getTag()===eW.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=QA.CryptoHDKey.fromDataItem(r);return new Mc(e,a)}else{let a=ZA.CryptoECKey.fromDataItem(r);return new Mc(e,a)}};Mc.fromCBOR=t=>{let e=eO.decodeToDataItem(t);return Mc.fromDataItem(e)}});var rO=E(Q8=>{"use strict";h();p();Object.defineProperty(Q8,"__esModule",{value:!0});Q8.CryptoPSBT=void 0;var tW=Hn(),I2e=wa(),T2e=Kn(),o1=class extends I2e.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>T2e.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new tW.DataItem(this.psbt)}};Q8.CryptoPSBT=o1;o1.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new o1(e)};o1.fromCBOR=t=>{let e=tW.decodeToDataItem(t);return o1.fromDataItem(e)}});var nO=E(eE=>{"use strict";h();p();Object.defineProperty(eE,"__esModule",{value:!0});eE.CryptoAccount=void 0;var C2e=tE(),rW=Hn(),A2e=wa(),O2e=Kn(),yy;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.outputDescriptors=2]="outputDescriptors"})(yy||(yy={}));var s1=class extends A2e.RegistryItem{constructor(e,r){super(),this.masterFingerprint=e,this.outputDescriptors=r,this.getRegistryType=()=>O2e.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[yy.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[yy.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new rW.DataItem(n)}}};eE.CryptoAccount=s1;s1.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[yy.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[yy.outputDescriptors].map(o=>C2e.CryptoOutput.fromDataItem(o));return new s1(r,a)};s1.fromCBOR=t=>{let e=rW.decodeToDataItem(t);return s1.fromDataItem(e)}});var aO=E(rE=>{"use strict";h();p();Object.defineProperty(rE,"__esModule",{value:!0});rE.UnknownURTypeError=void 0;var iO=class extends Error{constructor(e){super(e)}};rE.UnknownURTypeError=iO});var sO=E(nE=>{"use strict";h();p();Object.defineProperty(nE,"__esModule",{value:!0});nE.URRegistryDecoder=void 0;var D2e=gn(),Ld=tE(),Ud=Kn(),R2e=aO(),oO=class extends D2e.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case Ud.RegistryTypes.BYTES.getType():return Ld.Bytes.fromCBOR(e.cbor);case Ud.RegistryTypes.CRYPTO_HDKEY.getType():return Ld.CryptoHDKey.fromCBOR(e.cbor);case Ud.RegistryTypes.CRYPTO_KEYPATH.getType():return Ld.CryptoKeypath.fromCBOR(e.cbor);case Ud.RegistryTypes.CRYPTO_COIN_INFO.getType():return Ld.CryptoCoinInfo.fromCBOR(e.cbor);case Ud.RegistryTypes.CRYPTO_ECKEY.getType():return Ld.CryptoECKey.fromCBOR(e.cbor);case Ud.RegistryTypes.CRYPTO_OUTPUT.getType():return Ld.CryptoOutput.fromCBOR(e.cbor);case Ud.RegistryTypes.CRYPTO_PSBT.getType():return Ld.CryptoPSBT.fromCBOR(e.cbor);case Ud.RegistryTypes.CRYPTO_ACCOUNT.getType():return Ld.CryptoAccount.fromCBOR(e.cbor);default:throw new R2e.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};nE.URRegistryDecoder=oO});var uO=E(iE=>{"use strict";h();p();Object.defineProperty(iE,"__esModule",{value:!0});iE.CryptoMultiAccounts=void 0;var P2e=Kn(),B2e=py(),M2e=wa(),nW=Hn(),kd;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.keys=2]="keys",t[t.device=3]="device"})(kd||(kd={}));var u1=class extends M2e.RegistryItem{constructor(e,r,n){super(),this.masterFingerprint=e,this.keys=r,this.device=n,this.getRegistryType=()=>P2e.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[kd.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[kd.keys]=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o})),this.device&&(i[kd.device]=this.device),new nW.DataItem(i)}}};iE.CryptoMultiAccounts=u1;u1.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[kd.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[kd.keys].map(s=>B2e.CryptoHDKey.fromDataItem(s)),o=e[kd.device];return new u1(r,a,o)};u1.fromCBOR=t=>{let e=nW.decodeToDataItem(t);return u1.fromDataItem(e)}});var fO=E(Af=>{"use strict";h();p();Object.defineProperty(Af,"__esModule",{value:!0});Af.KeyDerivation=Af.DerivationAlgorithm=Af.Curve=void 0;var N2e=Kn(),q2e=wa(),iW=Hn(),F2e=P2(),Cf;(function(t){t[t.keyPaths=1]="keyPaths",t[t.curve=2]="curve",t[t.algo=3]="algo",t[t.origin=4]="origin"})(Cf||(Cf={}));var aW;(function(t){t.secp256k1="secp256k1",t.ed25519="ed25519"})(aW=Af.Curve||(Af.Curve={}));var oW;(function(t){t.slip10="slip10",t.bip32ed25519="bip32ed25519"})(oW=Af.DerivationAlgorithm||(Af.DerivationAlgorithm={}));var f1=class extends q2e.RegistryItem{constructor(e,r=aW.secp256k1,n=oW.slip10,i){super(),this.keypaths=e,this.curve=r,this.algo=n,this.origin=i,this.getRegistryType=()=>N2e.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let a={};return a[Cf.keyPaths]=this.keypaths.map(o=>{let s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s}),a[Cf.curve]=this.curve,a[Cf.algo]=this.algo,this.origin&&(a[Cf.origin]=this.origin),new iW.DataItem(a)}}};Af.KeyDerivation=f1;f1.fromDataItem=t=>{let e=t.getData(),r=e[Cf.keyPaths].map(o=>F2e.CryptoKeypath.fromDataItem(o)),n=e[Cf.curve],i=e[Cf.algo],a=e[Cf.origin];return new f1(r,n,i,a)};f1.fromCBOR=t=>{let e=iW.decodeToDataItem(t);return f1.fromDataItem(e)}});var uW=E(d1=>{"use strict";h();p();Object.defineProperty(d1,"__esModule",{value:!0});d1.QRHardwareCall=d1.QRHardwareCallName=void 0;var L2e=Kn(),U2e=wa(),sW=Hn(),k2e=fO(),vy;(function(t){t[t.name=1]="name",t[t.params=2]="params"})(vy||(vy={}));var cO;(function(t){t.KeyDerivation="key-derivation"})(cO=d1.QRHardwareCallName||(d1.QRHardwareCallName={}));var c1=class extends U2e.RegistryItem{constructor(e,r){super(),this.name=e,this.params=r,this.getRegistryType=()=>L2e.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[vy.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[vy.params]=i,new sW.DataItem(n)}}};d1.QRHardwareCall=c1;c1.fromDataItem=t=>{let e=t.getData(),r=e[vy.name]||cO.KeyDerivation,n;switch(r){case cO.KeyDerivation:n=k2e.KeyDerivation.fromDataItem(e[vy.params])}return new c1(r,n)};c1.fromCBOR=t=>{let e=sW.decodeToDataItem(t);return c1.fromDataItem(e)}});var cW=E(fW=>{"use strict";h();p();Object.defineProperty(fW,"__esModule",{value:!0})});var tE=E(Ie=>{"use strict";h();p();Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Buffer=Ie.extend=Ie.PathComponent=Ie.ScriptExpressions=Ie.MultiKey=Ie.CryptoPSBT=Ie.CryptoOutput=Ie.CryptoECKey=Ie.CryptoCoinInfoNetwork=Ie.CryptoCoinInfoType=Ie.CryptoCoinInfo=Ie.CryptoKeypath=Ie.CryptoMultiAccounts=Ie.CryptoHDKey=Ie.CryptoAccount=Ie.Bytes=Ie.URRegistryDecoder=Ie.DataItem=void 0;var Yr=qY();XA();var j2e=Up();Object.defineProperty(Ie,"Buffer",{enumerable:!0,get:function(){return j2e.Buffer}});var lW=py();Object.defineProperty(Ie,"CryptoHDKey",{enumerable:!0,get:function(){return lW.CryptoHDKey}});var hW=P2();Object.defineProperty(Ie,"CryptoKeypath",{enumerable:!0,get:function(){return hW.CryptoKeypath}});var _y=K8();Object.defineProperty(Ie,"CryptoCoinInfo",{enumerable:!0,get:function(){return _y.CryptoCoinInfo}});Object.defineProperty(Ie,"CryptoCoinInfoType",{enumerable:!0,get:function(){return _y.Type}});Object.defineProperty(Ie,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return _y.Network}});var pW=B2();Object.defineProperty(Ie,"CryptoECKey",{enumerable:!0,get:function(){return pW.CryptoECKey}});var gW=$Y();Object.defineProperty(Ie,"Bytes",{enumerable:!0,get:function(){return gW.Bytes}});var yW=tO();Object.defineProperty(Ie,"CryptoOutput",{enumerable:!0,get:function(){return yW.CryptoOutput}});var vW=rO();Object.defineProperty(Ie,"CryptoPSBT",{enumerable:!0,get:function(){return vW.CryptoPSBT}});var mW=nO();Object.defineProperty(Ie,"CryptoAccount",{enumerable:!0,get:function(){return mW.CryptoAccount}});var _W=sO();Object.defineProperty(Ie,"URRegistryDecoder",{enumerable:!0,get:function(){return _W.URRegistryDecoder}});var xW=$8();Object.defineProperty(Ie,"MultiKey",{enumerable:!0,get:function(){return xW.MultiKey}});var bW=j8();Object.defineProperty(Ie,"ScriptExpressions",{enumerable:!0,get:function(){return bW.ScriptExpressions}});var wW=G8();Object.defineProperty(Ie,"PathComponent",{enumerable:!0,get:function(){return wW.PathComponent}});var H2e=wa(),dW=Kn(),my=Hn(),K2e=Hn();Object.defineProperty(Ie,"DataItem",{enumerable:!0,get:function(){return K2e.DataItem}});var V2e=k8(),EW=uO();Object.defineProperty(Ie,"CryptoMultiAccounts",{enumerable:!0,get:function(){return EW.CryptoMultiAccounts}});var G2e={URRegistryDecoder:_W.URRegistryDecoder,Bytes:gW.Bytes,CryptoAccount:mW.CryptoAccount,CryptoHDKey:lW.CryptoHDKey,CryptoMultiAccounts:EW.CryptoMultiAccounts,CryptoKeypath:hW.CryptoKeypath,CryptoCoinInfo:_y.CryptoCoinInfo,CryptoCoinInfoType:_y.Type,CryptoCoinInfoNetwork:_y.Network,CryptoECKey:pW.CryptoECKey,CryptoOutput:yW.CryptoOutput,CryptoPSBT:vW.CryptoPSBT,MultiKey:xW.MultiKey,ScriptExpressions:bW.ScriptExpressions,PathComponent:wW.PathComponent},z2e={addReader:my.addReader,addSemanticDecode:my.addSemanticDecode,addSemanticEncode:my.addSemanticEncode,addWriter:my.addWriter,patchTags:V2e.patchTags},Y2e={RegistryTypes:dW.RegistryTypes,RegistryItem:H2e.RegistryItem,RegistryType:dW.RegistryType,decodeToDataItem:my.decodeToDataItem,encodeDataItem:my.encodeDataItem,cbor:z2e};Ie.extend=Y2e;Yr.__exportStar(aO(),Ie);Yr.__exportStar(sO(),Ie);Yr.__exportStar(Hn(),Ie);Yr.__exportStar(nO(),Ie);Yr.__exportStar(rO(),Ie);Yr.__exportStar(py(),Ie);Yr.__exportStar(uO(),Ie);Yr.__exportStar(uW(),Ie);Yr.__exportStar(fO(),Ie);Yr.__exportStar(tO(),Ie);Yr.__exportStar(K8(),Ie);Yr.__exportStar(B2(),Ie);Yr.__exportStar($8(),Ie);Yr.__exportStar(P2(),Ie);Yr.__exportStar(XA(),Ie);Yr.__exportStar(G8(),Ie);Yr.__exportStar(wa(),Ie);Yr.__exportStar(Kn(),Ie);Yr.__exportStar(cW(),Ie);Yr.__exportStar(k8(),Ie);Ie.default=G2e});function N2(){if(!aE&&(aE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!aE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return aE(W2e)}var aE,W2e,dO=fe(()=>{h();p();W2e=new Uint8Array(16)});var SW,IW=fe(()=>{h();p();SW=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function X2e(t){return typeof t=="string"&&SW.test(t)}var jd,q2=fe(()=>{h();p();IW();jd=X2e});function J2e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Vn[t[e+0]]+Vn[t[e+1]]+Vn[t[e+2]]+Vn[t[e+3]]+"-"+Vn[t[e+4]]+Vn[t[e+5]]+"-"+Vn[t[e+6]]+Vn[t[e+7]]+"-"+Vn[t[e+8]]+Vn[t[e+9]]+"-"+Vn[t[e+10]]+Vn[t[e+11]]+Vn[t[e+12]]+Vn[t[e+13]]+Vn[t[e+14]]+Vn[t[e+15]]).toLowerCase();if(!jd(r))throw TypeError("Stringified UUID is invalid");return r}var Vn,oE,Hd,F2=fe(()=>{h();p();q2();Vn=[];for(oE=0;oE<256;++oE)Vn.push((oE+256).toString(16).substr(1));Hd=J2e});function $2e(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var a=t.node||TW,o=t.clockseq!==void 0?t.clockseq:lO;if(a==null||o==null){var s=t.random||(t.rng||N2)();a==null&&(a=TW=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=lO=(s[6]<<8|s[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:pO+1,c=u-hO+(f-pO)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||u>hO)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");hO=u,pO=f,lO=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||Hd(i)}var TW,lO,hO,pO,CW,AW=fe(()=>{h();p();dO();F2();hO=0,pO=0;CW=$2e});function Z2e(t){if(!jd(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var sE,gO=fe(()=>{h();p();q2();sE=Z2e});function Q2e(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function uE(t,e,r){function n(i,a,o,s){if(typeof i=="string"&&(i=Q2e(i)),typeof a=="string"&&(a=sE(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return Hd(u)}try{n.name=t}catch{}return n.DNS=e_e,n.URL=t_e,n}var e_e,t_e,yO=fe(()=>{h();p();F2();gO();e_e="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t_e="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function r_e(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return n_e(i_e(a_e(t),t.length*8))}function n_e(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var a=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function OW(t){return(t+64>>>9<<4)+14+1}function i_e(t,e){t[e>>5]|=128<<e%32,t[OW(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=r,u=n,f=i,c=a;r=Fi(r,n,i,a,t[o],7,-680876936),a=Fi(a,r,n,i,t[o+1],12,-389564586),i=Fi(i,a,r,n,t[o+2],17,606105819),n=Fi(n,i,a,r,t[o+3],22,-1044525330),r=Fi(r,n,i,a,t[o+4],7,-176418897),a=Fi(a,r,n,i,t[o+5],12,1200080426),i=Fi(i,a,r,n,t[o+6],17,-1473231341),n=Fi(n,i,a,r,t[o+7],22,-45705983),r=Fi(r,n,i,a,t[o+8],7,1770035416),a=Fi(a,r,n,i,t[o+9],12,-1958414417),i=Fi(i,a,r,n,t[o+10],17,-42063),n=Fi(n,i,a,r,t[o+11],22,-1990404162),r=Fi(r,n,i,a,t[o+12],7,1804603682),a=Fi(a,r,n,i,t[o+13],12,-40341101),i=Fi(i,a,r,n,t[o+14],17,-1502002290),n=Fi(n,i,a,r,t[o+15],22,1236535329),r=Li(r,n,i,a,t[o+1],5,-165796510),a=Li(a,r,n,i,t[o+6],9,-1069501632),i=Li(i,a,r,n,t[o+11],14,643717713),n=Li(n,i,a,r,t[o],20,-373897302),r=Li(r,n,i,a,t[o+5],5,-701558691),a=Li(a,r,n,i,t[o+10],9,38016083),i=Li(i,a,r,n,t[o+15],14,-660478335),n=Li(n,i,a,r,t[o+4],20,-405537848),r=Li(r,n,i,a,t[o+9],5,568446438),a=Li(a,r,n,i,t[o+14],9,-1019803690),i=Li(i,a,r,n,t[o+3],14,-187363961),n=Li(n,i,a,r,t[o+8],20,1163531501),r=Li(r,n,i,a,t[o+13],5,-1444681467),a=Li(a,r,n,i,t[o+2],9,-51403784),i=Li(i,a,r,n,t[o+7],14,1735328473),n=Li(n,i,a,r,t[o+12],20,-1926607734),r=Ui(r,n,i,a,t[o+5],4,-378558),a=Ui(a,r,n,i,t[o+8],11,-2022574463),i=Ui(i,a,r,n,t[o+11],16,1839030562),n=Ui(n,i,a,r,t[o+14],23,-35309556),r=Ui(r,n,i,a,t[o+1],4,-1530992060),a=Ui(a,r,n,i,t[o+4],11,1272893353),i=Ui(i,a,r,n,t[o+7],16,-155497632),n=Ui(n,i,a,r,t[o+10],23,-1094730640),r=Ui(r,n,i,a,t[o+13],4,681279174),a=Ui(a,r,n,i,t[o],11,-358537222),i=Ui(i,a,r,n,t[o+3],16,-722521979),n=Ui(n,i,a,r,t[o+6],23,76029189),r=Ui(r,n,i,a,t[o+9],4,-640364487),a=Ui(a,r,n,i,t[o+12],11,-421815835),i=Ui(i,a,r,n,t[o+15],16,530742520),n=Ui(n,i,a,r,t[o+2],23,-995338651),r=ki(r,n,i,a,t[o],6,-198630844),a=ki(a,r,n,i,t[o+7],10,1126891415),i=ki(i,a,r,n,t[o+14],15,-1416354905),n=ki(n,i,a,r,t[o+5],21,-57434055),r=ki(r,n,i,a,t[o+12],6,1700485571),a=ki(a,r,n,i,t[o+3],10,-1894986606),i=ki(i,a,r,n,t[o+10],15,-1051523),n=ki(n,i,a,r,t[o+1],21,-2054922799),r=ki(r,n,i,a,t[o+8],6,1873313359),a=ki(a,r,n,i,t[o+15],10,-30611744),i=ki(i,a,r,n,t[o+6],15,-1560198380),n=ki(n,i,a,r,t[o+13],21,1309151649),r=ki(r,n,i,a,t[o+4],6,-145523070),a=ki(a,r,n,i,t[o+11],10,-1120210379),i=ki(i,a,r,n,t[o+2],15,718787259),n=ki(n,i,a,r,t[o+9],21,-343485551),r=Kd(r,s),n=Kd(n,u),i=Kd(i,f),a=Kd(a,c)}return[r,n,i,a]}function a_e(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(OW(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Kd(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function o_e(t,e){return t<<e|t>>>32-e}function fE(t,e,r,n,i,a){return Kd(o_e(Kd(Kd(e,t),Kd(n,a)),i),r)}function Fi(t,e,r,n,i,a,o){return fE(e&r|~e&n,t,e,i,a,o)}function Li(t,e,r,n,i,a,o){return fE(e&n|r&~n,t,e,i,a,o)}function Ui(t,e,r,n,i,a,o){return fE(e^r^n,t,e,i,a,o)}function ki(t,e,r,n,i,a,o){return fE(r^(e|~n),t,e,i,a,o)}var DW,RW=fe(()=>{h();p();DW=r_e});var s_e,PW,BW=fe(()=>{h();p();yO();RW();s_e=uE("v3",48,DW),PW=s_e});function u_e(t,e,r){t=t||{};var n=t.random||(t.rng||N2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return Hd(n)}var MW,NW=fe(()=>{h();p();dO();F2();MW=u_e});function f_e(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function vO(t,e){return t<<e|t>>>32-e}function c_e(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=t[u*64+c*4]<<24|t[u*64+c*4+1]<<16|t[u*64+c*4+2]<<8|t[u*64+c*4+3];s[u]=f}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=vO(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=r[0],S=r[1],I=r[2],O=r[3],P=r[4],q=0;q<80;++q){var C=Math.floor(q/20),d=vO(w,5)+f_e(C,S,I,O)+P+e[C]+g[q]>>>0;P=O,O=I,I=vO(S,30)>>>0,S=w,w=d}r[0]=r[0]+w>>>0,r[1]=r[1]+S>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var qW,FW=fe(()=>{h();p();qW=c_e});var d_e,LW,UW=fe(()=>{h();p();yO();FW();d_e=uE("v5",80,qW),LW=d_e});var kW,jW=fe(()=>{h();p();kW="00000000-0000-0000-0000-000000000000"});function l_e(t){if(!jd(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var HW,KW=fe(()=>{h();p();q2();HW=l_e});var VW={};v0(VW,{NIL:()=>kW,parse:()=>sE,stringify:()=>Hd,v1:()=>CW,v3:()=>PW,v4:()=>MW,v5:()=>LW,validate:()=>jd,version:()=>HW});var GW=fe(()=>{h();p();AW();BW();NW();UW();jW();KW();q2();F2();gO()});var zW=E(xy=>{"use strict";h();p();Object.defineProperty(xy,"__esModule",{value:!0});var Ht=tE(),h_e=(GW(),m0(VW)),L2={CARDANO_UTXO:new Ht.RegistryType("cardano-utxo",2201),CARDANO_SIGN_REQUEST:new Ht.RegistryType("cardano-sign-request",2202),CARDANO_SIGNATURE:new Ht.RegistryType("cardano-signature",2203),CARDANO_CERT_KEY:new Ht.RegistryType("cardano-cert-key",2204)},{decodeToDataItem:p_e}=Ht.extend,zs;(function(t){t[t.transactionHash=1]="transactionHash",t[t.index=2]="index",t[t.amount=3]="amount",t[t.keyPath=4]="keyPath",t[t.address=5]="address"})(zs||(zs={}));var Of=class extends Ht.RegistryItem{constructor(e){super(),this.getRegistryType=()=>L2.CARDANO_UTXO,this.getTransactionHash=()=>this.transactionHash,this.getIndex=()=>this.index,this.getKeyPath=()=>this.keyPath.getPath(),this.getAmount=()=>this.amount,this.getAddress=()=>this.address,this.toDataItem=()=>{let r={};this.transactionHash&&(r[zs.transactionHash]=this.transactionHash),r[zs.index]=this.index,r[zs.amount]=this.amount;let n=this.keyPath.toDataItem();return n.setTag(this.keyPath.getRegistryType().getTag()),r[zs.keyPath]=n,r[zs.address]=this.address,new Ht.DataItem(r)},this.transactionHash=e.transactionHash,this.index=e.index,this.amount=e.amount,this.keyPath=e.keyPath,this.address=e.address}static constructCardanoUtxo({transactionHash:e,index:r,amount:n,xfp:i,hdPath:a,address:o}){let s=a.replace(/[m|M]\//,"").split("/"),u=new Ht.CryptoKeypath(s.map(f=>{let c=parseInt(f.replace("'","")),l=f.endsWith("'");return new Ht.PathComponent({index:c,hardened:l})}),v.Buffer.from(i,"hex"));return new Of({transactionHash:v.Buffer.from(e,"hex"),index:r,amount:n,keyPath:u,address:o})}};Of.fromDataItem=t=>{let e=t.getData(),r=e[zs.transactionHash],n=e[zs.index],i=Ht.CryptoKeypath.fromDataItem(e[zs.keyPath]);return new Of({transactionHash:r,index:n,amount:e[zs.amount],keyPath:i,address:e[zs.address]})},Of.fromCBOR=t=>{let e=p_e(t);return Of.fromDataItem(e)};var{decodeToDataItem:g_e}=Ht.extend,by;(function(t){t[t.keyHash=1]="keyHash",t[t.keyPath=2]="keyPath"})(by||(by={}));var Ku=class extends Ht.RegistryItem{constructor(e){super(),this.getRegistryType=()=>L2.CARDANO_CERT_KEY,this.getKeyHash=()=>this.keyHash,this.getKeyPath=()=>this.keyPath.getPath(),this.toDataItem=()=>{let r={};r[by.keyHash]=this.keyHash;let n=this.keyPath.toDataItem();return n.setTag(this.keyPath.getRegistryType().getTag()),r[by.keyPath]=n,new Ht.DataItem(r)},this.keyHash=e.keyHash,this.keyPath=e.keyPath}static constructCardanoCertKey({keyHash:e,xfp:r,keyPath:n}){let i=n.replace(/[m|M]\//,"").split("/"),a=new Ht.CryptoKeypath(i.map(o=>{let s=parseInt(o.replace("'","")),u=o.endsWith("'");return new Ht.PathComponent({index:s,hardened:u})}),v.Buffer.from(r,"hex"));return new Ku({keyHash:v.Buffer.from(e,"hex"),keyPath:a})}};Ku.fromDataItem=t=>{let e=t.getData(),r=e[by.keyHash],n=Ht.CryptoKeypath.fromDataItem(e[by.keyPath]);return new Ku({keyHash:r,keyPath:n})},Ku.fromCBOR=t=>{let e=g_e(t);return Ku.fromDataItem(e)};var{decodeToDataItem:y_e,RegistryTypes:v_e}=Ht.extend,Va;(function(t){t[t.requestId=1]="requestId",t[t.signData=2]="signData",t[t.utxos=3]="utxos",t[t.extraSigners=4]="extraSigners",t[t.origin=5]="origin"})(Va||(Va={}));var Nc=class extends Ht.RegistryItem{constructor(e){super(),this.getRegistryType=()=>L2.CARDANO_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getUtxos=()=>this.utxos,this.getAdditionalSigners=()=>this.extraSigners,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let r={};return this.requestId&&(r[Va.requestId]=new Ht.DataItem(this.requestId,v_e.UUID.getTag())),r[Va.signData]=this.signData,r[Va.utxos]=this.utxos.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),r[Va.extraSigners]=this.extraSigners.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),this.origin&&(r[Va.origin]=this.origin),new Ht.DataItem(r)},this.requestId=e.requestId,this.signData=e.signData,this.utxos=e.utxos,this.extraSigners=e.extraSigners,this.origin=e.origin}static constructCardanoSignRequest(e,r,n,i,a){let o=r.map(u=>Of.constructCardanoUtxo(u)),s=n.map(u=>Ku.constructCardanoCertKey(u));return new Nc({requestId:i?v.Buffer.from(h_e.parse(i)):void 0,signData:e,utxos:o,extraSigners:s,origin:a||void 0})}};Nc.fromDataItem=t=>{let e=t.getData(),r=e[Va.signData],n=e[Va.utxos].map(o=>Of.fromDataItem(o)),i=e[Va.extraSigners].map(o=>Ku.fromDataItem(o)),a=e[Va.requestId]?e[Va.requestId].getData():void 0;return new Nc({requestId:a,signData:r,utxos:n,extraSigners:i,origin:e[Va.origin]?e[Va.origin]:void 0})},Nc.fromCBOR=t=>{let e=y_e(t);return Nc.fromDataItem(e)};var{RegistryTypes:m_e,decodeToDataItem:__e}=Ht.extend,h1;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature"})(h1||(h1={}));var l1=class extends Ht.RegistryItem{constructor(e,r){super(),this.getRegistryType=()=>L2.CARDANO_SIGNATURE,this.getRequestId=()=>this.requestId,this.getWitnessSet=()=>this.witnessSet,this.toDataItem=()=>{let n={};return this.requestId&&(n[h1.requestId]=new Ht.DataItem(this.requestId,m_e.UUID.getTag())),n[h1.signature]=this.witnessSet,new Ht.DataItem(n)},this.witnessSet=e,this.requestId=r}};l1.fromDataItem=t=>{let e=t.getData(),r=e[h1.signature],n=e[h1.requestId]?e[h1.requestId].getData():void 0;return new l1(r,n)},l1.fromCBOR=t=>{let e=__e(t);return l1.fromDataItem(e)},Ht.patchTags(Object.values(L2).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(Ht).forEach(function(t){t!=="default"&&Object.defineProperty(xy,t,{enumerable:!0,get:function(){return Ht[t]}})}),xy.CardanoCertKey=Ku,xy.CardanoSignRequest=Nc,xy.CardanoSignature=l1});var WW=E((_at,YW)=>{"use strict";h();p();YW.exports=zW()});var $W=E(cE=>{"use strict";h();p();Object.defineProperty(cE,"__esModule",{value:!0});cE.KeystoneCardanoSDK=void 0;var XW=WW(),JW=Tn(),x_e=qa(),mO=class{parseSignature(e){if(e.type!==x_e.URType.CardanoSignature)throw new Error("type not match");let r=XW.CardanoSignature.fromCBOR(e.cbor),n=r.getRequestId();return{requestId:v.Buffer.isBuffer(n)?(0,JW.uuidStringify)(n):"",witnessSet:(0,JW.toHex)(r.getWitnessSet())}}generateSignRequest({signData:e,utxos:r,extraSigners:n,requestId:i,origin:a}){return XW.CardanoSignRequest.constructCardanoSignRequest(e,r,n,i,a).toUR()}};cE.KeystoneCardanoSDK=mO});function U2(){if(!dE&&(dE=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!dE))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dE(b_e)}var dE,b_e,_O=fe(()=>{h();p();b_e=new Uint8Array(16)});var ZW,QW=fe(()=>{h();p();ZW=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function w_e(t){return typeof t=="string"&&ZW.test(t)}var Vd,k2=fe(()=>{h();p();QW();Vd=w_e});function E_e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Gn[t[e+0]]+Gn[t[e+1]]+Gn[t[e+2]]+Gn[t[e+3]]+"-"+Gn[t[e+4]]+Gn[t[e+5]]+"-"+Gn[t[e+6]]+Gn[t[e+7]]+"-"+Gn[t[e+8]]+Gn[t[e+9]]+"-"+Gn[t[e+10]]+Gn[t[e+11]]+Gn[t[e+12]]+Gn[t[e+13]]+Gn[t[e+14]]+Gn[t[e+15]]).toLowerCase();if(!Vd(r))throw TypeError("Stringified UUID is invalid");return r}var Gn,lE,Gd,j2=fe(()=>{h();p();k2();Gn=[];for(lE=0;lE<256;++lE)Gn.push((lE+256).toString(16).substr(1));Gd=E_e});function S_e(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var a=t.node||eX,o=t.clockseq!==void 0?t.clockseq:xO;if(a==null||o==null){var s=t.random||(t.rng||U2)();a==null&&(a=eX=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=xO=(s[6]<<8|s[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:wO+1,c=u-bO+(f-wO)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||u>bO)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");bO=u,wO=f,xO=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||Gd(i)}var eX,xO,bO,wO,tX,rX=fe(()=>{h();p();_O();j2();bO=0,wO=0;tX=S_e});function I_e(t){if(!Vd(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var hE,EO=fe(()=>{h();p();k2();hE=I_e});function T_e(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function pE(t,e,r){function n(i,a,o,s){if(typeof i=="string"&&(i=T_e(i)),typeof a=="string"&&(a=hE(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return Gd(u)}try{n.name=t}catch{}return n.DNS=C_e,n.URL=A_e,n}var C_e,A_e,SO=fe(()=>{h();p();j2();EO();C_e="6ba7b810-9dad-11d1-80b4-00c04fd430c8",A_e="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function O_e(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return D_e(R_e(P_e(t),t.length*8))}function D_e(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var a=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function nX(t){return(t+64>>>9<<4)+14+1}function R_e(t,e){t[e>>5]|=128<<e%32,t[nX(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=r,u=n,f=i,c=a;r=ji(r,n,i,a,t[o],7,-680876936),a=ji(a,r,n,i,t[o+1],12,-389564586),i=ji(i,a,r,n,t[o+2],17,606105819),n=ji(n,i,a,r,t[o+3],22,-1044525330),r=ji(r,n,i,a,t[o+4],7,-176418897),a=ji(a,r,n,i,t[o+5],12,1200080426),i=ji(i,a,r,n,t[o+6],17,-1473231341),n=ji(n,i,a,r,t[o+7],22,-45705983),r=ji(r,n,i,a,t[o+8],7,1770035416),a=ji(a,r,n,i,t[o+9],12,-1958414417),i=ji(i,a,r,n,t[o+10],17,-42063),n=ji(n,i,a,r,t[o+11],22,-1990404162),r=ji(r,n,i,a,t[o+12],7,1804603682),a=ji(a,r,n,i,t[o+13],12,-40341101),i=ji(i,a,r,n,t[o+14],17,-1502002290),n=ji(n,i,a,r,t[o+15],22,1236535329),r=Hi(r,n,i,a,t[o+1],5,-165796510),a=Hi(a,r,n,i,t[o+6],9,-1069501632),i=Hi(i,a,r,n,t[o+11],14,643717713),n=Hi(n,i,a,r,t[o],20,-373897302),r=Hi(r,n,i,a,t[o+5],5,-701558691),a=Hi(a,r,n,i,t[o+10],9,38016083),i=Hi(i,a,r,n,t[o+15],14,-660478335),n=Hi(n,i,a,r,t[o+4],20,-405537848),r=Hi(r,n,i,a,t[o+9],5,568446438),a=Hi(a,r,n,i,t[o+14],9,-1019803690),i=Hi(i,a,r,n,t[o+3],14,-187363961),n=Hi(n,i,a,r,t[o+8],20,1163531501),r=Hi(r,n,i,a,t[o+13],5,-1444681467),a=Hi(a,r,n,i,t[o+2],9,-51403784),i=Hi(i,a,r,n,t[o+7],14,1735328473),n=Hi(n,i,a,r,t[o+12],20,-1926607734),r=Ki(r,n,i,a,t[o+5],4,-378558),a=Ki(a,r,n,i,t[o+8],11,-2022574463),i=Ki(i,a,r,n,t[o+11],16,1839030562),n=Ki(n,i,a,r,t[o+14],23,-35309556),r=Ki(r,n,i,a,t[o+1],4,-1530992060),a=Ki(a,r,n,i,t[o+4],11,1272893353),i=Ki(i,a,r,n,t[o+7],16,-155497632),n=Ki(n,i,a,r,t[o+10],23,-1094730640),r=Ki(r,n,i,a,t[o+13],4,681279174),a=Ki(a,r,n,i,t[o],11,-358537222),i=Ki(i,a,r,n,t[o+3],16,-722521979),n=Ki(n,i,a,r,t[o+6],23,76029189),r=Ki(r,n,i,a,t[o+9],4,-640364487),a=Ki(a,r,n,i,t[o+12],11,-421815835),i=Ki(i,a,r,n,t[o+15],16,530742520),n=Ki(n,i,a,r,t[o+2],23,-995338651),r=Vi(r,n,i,a,t[o],6,-198630844),a=Vi(a,r,n,i,t[o+7],10,1126891415),i=Vi(i,a,r,n,t[o+14],15,-1416354905),n=Vi(n,i,a,r,t[o+5],21,-57434055),r=Vi(r,n,i,a,t[o+12],6,1700485571),a=Vi(a,r,n,i,t[o+3],10,-1894986606),i=Vi(i,a,r,n,t[o+10],15,-1051523),n=Vi(n,i,a,r,t[o+1],21,-2054922799),r=Vi(r,n,i,a,t[o+8],6,1873313359),a=Vi(a,r,n,i,t[o+15],10,-30611744),i=Vi(i,a,r,n,t[o+6],15,-1560198380),n=Vi(n,i,a,r,t[o+13],21,1309151649),r=Vi(r,n,i,a,t[o+4],6,-145523070),a=Vi(a,r,n,i,t[o+11],10,-1120210379),i=Vi(i,a,r,n,t[o+2],15,718787259),n=Vi(n,i,a,r,t[o+9],21,-343485551),r=zd(r,s),n=zd(n,u),i=zd(i,f),a=zd(a,c)}return[r,n,i,a]}function P_e(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(nX(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function zd(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function B_e(t,e){return t<<e|t>>>32-e}function gE(t,e,r,n,i,a){return zd(B_e(zd(zd(e,t),zd(n,a)),i),r)}function ji(t,e,r,n,i,a,o){return gE(e&r|~e&n,t,e,i,a,o)}function Hi(t,e,r,n,i,a,o){return gE(e&n|r&~n,t,e,i,a,o)}function Ki(t,e,r,n,i,a,o){return gE(e^r^n,t,e,i,a,o)}function Vi(t,e,r,n,i,a,o){return gE(r^(e|~n),t,e,i,a,o)}var iX,aX=fe(()=>{h();p();iX=O_e});var M_e,oX,sX=fe(()=>{h();p();SO();aX();M_e=pE("v3",48,iX),oX=M_e});function N_e(t,e,r){t=t||{};var n=t.random||(t.rng||U2)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return Gd(n)}var uX,fX=fe(()=>{h();p();_O();j2();uX=N_e});function q_e(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function IO(t,e){return t<<e|t>>>32-e}function F_e(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=t[u*64+c*4]<<24|t[u*64+c*4+1]<<16|t[u*64+c*4+2]<<8|t[u*64+c*4+3];s[u]=f}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=IO(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=r[0],S=r[1],I=r[2],O=r[3],P=r[4],q=0;q<80;++q){var C=Math.floor(q/20),d=IO(w,5)+q_e(C,S,I,O)+P+e[C]+g[q]>>>0;P=O,O=I,I=IO(S,30)>>>0,S=w,w=d}r[0]=r[0]+w>>>0,r[1]=r[1]+S>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var cX,dX=fe(()=>{h();p();cX=F_e});var L_e,lX,hX=fe(()=>{h();p();SO();dX();L_e=pE("v5",80,cX),lX=L_e});var pX,gX=fe(()=>{h();p();pX="00000000-0000-0000-0000-000000000000"});function U_e(t){if(!Vd(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var yX,vX=fe(()=>{h();p();k2();yX=U_e});var mX={};v0(mX,{NIL:()=>pX,parse:()=>hE,stringify:()=>Gd,v1:()=>tX,v3:()=>oX,v4:()=>uX,v5:()=>lX,validate:()=>Vd,version:()=>yX});var _X=fe(()=>{h();p();rX();sX();fX();hX();gX();vX();k2();j2();EO()});var xX=E(Df=>{"use strict";h();p();Object.defineProperty(Df,"__esModule",{value:!0});var zn=of(),k_e=(_X(),m0(mX)),vE={ARWEAVE_CRYPTO_ACCOUNT:new zn.RegistryType("arweave-crypto-account",5101),ARWEAVE_SIGN_REQUEST:new zn.RegistryType("arweave-sign-request",5102),ARWEAVE_SIGNATURE:new zn.RegistryType("arweave-signature",5103)},{decodeToDataItem:j_e,RegistryTypes:H_e}=zn.extend,wy,yE,an;(wy=Df.SignType||(Df.SignType={}))[wy.Transaction=1]="Transaction",wy[wy.DataItem=2]="DataItem",wy[wy.Message=3]="Message",(yE=Df.SaltLen||(Df.SaltLen={}))[yE.Zero=0]="Zero",yE[yE.Digest=32]="Digest",function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.requestId=2]="requestId",t[t.signData=3]="signData",t[t.signType=4]="signType",t[t.saltLen=5]="saltLen",t[t.origin=6]="origin",t[t.account=7]="account"}(an||(an={}));var qc=class extends zn.RegistryItem{constructor(e){super(),this.getRegistryType=()=>vE.ARWEAVE_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getSignType=()=>this.signType,this.getSaltLen=()=>this.saltLen,this.getOrigin=()=>this.origin,this.getAccount=()=>this.account,this.getMasterFingerprint=()=>this.masterFingerprint,this.toDataItem=()=>{let r={};return this.requestId&&(r[an.requestId]=new zn.DataItem(this.requestId,H_e.UUID.getTag())),this.account&&(r[an.account]=this.account),this.origin&&(r[an.origin]=this.origin),r[an.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),r[an.signData]=this.signData,r[an.signType]=this.signType,r[an.saltLen]=this.saltLen,new zn.DataItem(r)},this.masterFingerprint=e.masterFingerprint,this.requestId=e.requestId,this.signData=e.signData,this.signType=e.signType,this.saltLen=e.saltLen,this.origin=e.origin,this.account=e.account}static constructArweaveRequest(e,r,n,i,a,o,s){return new qc({masterFingerprint:v.Buffer.from(r,"hex"),requestId:a?v.Buffer.from(k_e.parse(a)):void 0,signData:e,signType:n,saltLen:i,account:o,origin:s})}};qc.fromDataItem=t=>{let e=t.getData(),r=e[an.signData],n=e[an.account]?e[an.account]:void 0,i=e[an.requestId]?e[an.requestId].getData():void 0,a=e[an.origin]?e[an.origin]:void 0,o=e[an.signType],s=e[an.saltLen],u=v.Buffer.alloc(4);return u.writeUInt32BE(e[an.masterFingerprint],0),new qc({masterFingerprint:u,requestId:i,signData:r,signType:o,saltLen:s,origin:a,account:n})},qc.fromCBOR=t=>{let e=j_e(t);return qc.fromDataItem(e)};var{RegistryTypes:K_e,decodeToDataItem:V_e}=zn.extend,y1;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature"})(y1||(y1={}));var g1=class extends zn.RegistryItem{constructor(e,r){super(),this.getRegistryType=()=>vE.ARWEAVE_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[y1.requestId]=new zn.DataItem(this.requestId,K_e.UUID.getTag())),n[y1.signature]=this.signature,new zn.DataItem(n)},this.signature=e,this.requestId=r}};g1.fromDataItem=t=>{let e=t.getData(),r=e[y1.signature],n=e[y1.requestId]?e[y1.requestId].getData():void 0;return new g1(r,n)},g1.fromCBOR=t=>{let e=V_e(t);return g1.fromDataItem(e)};var{decodeToDataItem:G_e}=zn.extend,Fc;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.keyData=2]="keyData",t[t.device=3]="device"})(Fc||(Fc={}));var p1=class extends zn.RegistryItem{constructor(e,r,n){super(),this.masterFingerprint=e,this.keyData=r,this.device=n,this.getRegistryType=()=>vE.ARWEAVE_CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeyData=()=>this.keyData,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return i[Fc.masterFingerprint]=this.masterFingerprint.readUInt32BE(0),i[Fc.keyData]=this.keyData,this.device&&(i[Fc.device]=this.device),new zn.DataItem(i)}}};p1.fromDataItem=t=>{let e=t.getData(),r=e[Fc.keyData],n=v.Buffer.alloc(4);return n.writeUInt32BE(e[Fc.masterFingerprint],0),new p1(n,r,e[Fc.device]?e[Fc.device]:void 0)},p1.fromCBOR=t=>{let e=G_e(t);return p1.fromDataItem(e)},zn.patchTags(Object.values(vE).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(zn).forEach(function(t){t!=="default"&&Object.defineProperty(Df,t,{enumerable:!0,get:function(){return zn[t]}})}),Df.ArweaveCryptoAccount=p1,Df.ArweaveSignRequest=qc,Df.ArweaveSignature=g1});var wX=E((jot,bX)=>{"use strict";h();p();bX.exports=xX()});var SX=E(mE=>{"use strict";h();p();Object.defineProperty(mE,"__esModule",{value:!0});mE.KeystoneArweaveSDK=void 0;var Yd=Tn(),EX=qa(),H2=wX(),K2=class{parseAccount(e){if(e.type!==EX.URType.ArweaveCryptoAccount)throw new Error("type not match");let r=H2.ArweaveCryptoAccount.fromCBOR(e.cbor);return{masterFingerprint:(0,Yd.toHex)(r.getMasterFingerprint()),keyData:(0,Yd.toHex)(r.getKeyData()),device:r.getDevice()}}parseSignature(e){if(e.type!==EX.URType.ArweaveSignature)throw new Error("type not match");let r=H2.ArweaveSignature.fromCBOR(e.cbor),n=r.getRequestId();return{requestId:(0,Yd.uuidStringify)(n),signature:(0,Yd.toHex)(r.getSignature())}}generateSignRequest({requestId:e,signData:r,signType:n,saltLen:i,masterFingerprint:a,account:o,origin:s}){return new H2.ArweaveSignRequest({requestId:(0,Yd.uuidParse)(e),signData:(0,Yd.toBuffer)(r),signType:n,saltLen:i,masterFingerprint:(0,Yd.toBuffer)(a),account:o!==void 0?(0,Yd.toBuffer)(o):void 0,origin:s}).toUR()}};K2.SignType=H2.SignType;K2.SaltLen=H2.SaltLen;mE.KeystoneArweaveSDK=K2});var zX=E((Yot,bE)=>{h();p();var IX,TX,CX,AX,OX,DX,RX,PX,BX,_E,TO,MX,NX,qX,Ey,FX,LX,UX,kX,jX,HX,KX,VX,GX,xE;(function(t){var e=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){t(r(e,r(n)))}):typeof bE=="object"&&typeof bE.exports=="object"?t(r(e,r(bE.exports))):t(r(e));function r(n,i){return n!==e&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(a,o){return n[a]=i?i(a,o):o}}})(function(t){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])};IX=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(n,i);function a(){this.constructor=n}n.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)},TX=Object.assign||function(n){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},CX=function(n,i){var a={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&i.indexOf(o)<0&&(a[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(n);s<o.length;s++)i.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(n,o[s])&&(a[o[s]]=n[o[s]]);return a},AX=function(n,i,a,o){var s=arguments.length,u=s<3?i:o===null?o=Object.getOwnPropertyDescriptor(i,a):o,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(n,i,a,o);else for(var c=n.length-1;c>=0;c--)(f=n[c])&&(u=(s<3?f(u):s>3?f(i,a,u):f(i,a))||u);return s>3&&u&&Object.defineProperty(i,a,u),u},OX=function(n,i){return function(a,o){i(a,o,n)}},DX=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},RX=function(n,i,a,o){function s(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function c(y){try{g(o.next(y))}catch(_){f(_)}}function l(y){try{g(o.throw(y))}catch(_){f(_)}}function g(y){y.done?u(y.value):s(y.value).then(c,l)}g((o=o.apply(n,i||[])).next())})},PX=function(n,i){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},o,s,u,f;return f={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function c(g){return function(y){return l([g,y])}}function l(g){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,s&&(u=g[0]&2?s.return:g[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,g[1])).done)return u;switch(s=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return a.label++,{value:g[1],done:!1};case 5:a.label++,s=g[1],g=[0];continue;case 7:g=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){a=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){a.label=g[1];break}if(g[0]===6&&a.label<u[1]){a.label=u[1],u=g;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(g);break}u[2]&&a.ops.pop(),a.trys.pop();continue}g=i.call(n,a)}catch(y){g=[6,y],s=0}finally{o=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},BX=function(n,i){for(var a in n)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&xE(i,n,a)},xE=Object.create?function(n,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(n,o,s)}:function(n,i,a,o){o===void 0&&(o=a),n[o]=i[a]},_E=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,a=i&&n[i],o=0;if(a)return a.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},TO=function(n,i){var a=typeof Symbol=="function"&&n[Symbol.iterator];if(!a)return n;var o=a.call(n),s,u=[],f;try{for(;(i===void 0||i-- >0)&&!(s=o.next()).done;)u.push(s.value)}catch(c){f={error:c}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(f)throw f.error}}return u},MX=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(TO(arguments[i]));return n},NX=function(){for(var n=0,i=0,a=arguments.length;i<a;i++)n+=arguments[i].length;for(var o=Array(n),s=0,i=0;i<a;i++)for(var u=arguments[i],f=0,c=u.length;f<c;f++,s++)o[s]=u[f];return o},qX=function(n,i,a){if(a||arguments.length===2)for(var o=0,s=i.length,u;o<s;o++)(u||!(o in i))&&(u||(u=Array.prototype.slice.call(i,0,o)),u[o]=i[o]);return n.concat(u||Array.prototype.slice.call(i))},Ey=function(n){return this instanceof Ey?(this.v=n,this):new Ey(n)},FX=function(n,i,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(n,i||[]),s,u=[];return s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s;function f(w){o[w]&&(s[w]=function(S){return new Promise(function(I,O){u.push([w,S,I,O])>1||c(w,S)})})}function c(w,S){try{l(o[w](S))}catch(I){_(u[0][3],I)}}function l(w){w.value instanceof Ey?Promise.resolve(w.value.v).then(g,y):_(u[0][2],w)}function g(w){c("next",w)}function y(w){c("throw",w)}function _(w,S){w(S),u.shift(),u.length&&c(u[0][0],u[0][1])}},LX=function(n){var i,a;return i={},o("next"),o("throw",function(s){throw s}),o("return"),i[Symbol.iterator]=function(){return this},i;function o(s,u){i[s]=n[s]?function(f){return(a=!a)?{value:Ey(n[s](f)),done:s==="return"}:u?u(f):f}:u}},UX=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],a;return i?i.call(n):(n=typeof _E=="function"?_E(n):n[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(u){a[u]=n[u]&&function(f){return new Promise(function(c,l){f=n[u](f),s(c,l,f.done,f.value)})}}function s(u,f,c,l){Promise.resolve(l).then(function(g){u({value:g,done:c})},f)}},kX=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};jX=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&xE(i,n,a);return r(i,n),i},HX=function(n){return n&&n.__esModule?n:{default:n}},KX=function(n,i,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!o:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(n):o?o.value:i.get(n)},VX=function(n,i,a,o,s){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?s.call(n,a):s?s.value=a:i.set(n,a),a},GX=function(n,i){if(i===null||typeof i!="object"&&typeof i!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?i===n:n.has(i)},t("__extends",IX),t("__assign",TX),t("__rest",CX),t("__decorate",AX),t("__param",OX),t("__metadata",DX),t("__awaiter",RX),t("__generator",PX),t("__exportStar",BX),t("__createBinding",xE),t("__values",_E),t("__read",TO),t("__spread",MX),t("__spreadArrays",NX),t("__spreadArray",qX),t("__await",Ey),t("__asyncGenerator",FX),t("__asyncDelegator",LX),t("__asyncValues",UX),t("__makeTemplateObject",kX),t("__importStar",jX),t("__importDefault",HX),t("__classPrivateFieldGet",KX),t("__classPrivateFieldSet",VX),t("__classPrivateFieldIn",GX)})});var EE=E(wE=>{"use strict";h();p();Object.defineProperty(wE,"__esModule",{value:!0});wE.DataItem=void 0;var CO=class{constructor(e,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=r}};wE.DataItem=CO});var WX=E((YX,SE)=>{"use strict";h();p();(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof SE<"u"&&SE.exports?SE.exports=e():t.CBOR=e()})(YX,function(){let{DataItem:t}=EE();var e=function(){function r(d){this.$hex=d}r.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},r.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new r(m)},r.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new r(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var oe=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-oe:oe},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var oe;(oe=y(d))!==g;)R.push(oe);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(oe){l(3,oe,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(oe){l(2,oe,m)});else if(typeof d=="object")if(I.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],S=[],I={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?S.push(function(x){if(d===x)return m(x)}):S.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let oe=y(M);return oe instanceof t?oe:new t(oe)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this}};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function P(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}P.prototype=Object.create(s.prototype),P.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},P.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},P.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},P.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},P.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},P.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},P.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},P.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(I.addReader(function(d,m){if(v.Buffer.isBuffer(d))return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),I.addWriter(function(d){if(!d||d==="buffer")return new P;if(d==="hex"||d==="base64")return new P(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new r(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof r||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof r)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new r(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=r.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},I.addReader(function(d,m){if(d instanceof r||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),I.addWriter(function(d){if(d==="hex")return new C}),I}();return e.addSemanticEncode(0,function(r){if(r instanceof Date)return r.toISOString()}).addSemanticDecode(0,function(r){return new Date(r)}).addSemanticDecode(1,function(r){return new Date(r)}),e})});var Yn=E(Gi=>{"use strict";h();p();Object.defineProperty(Gi,"__esModule",{value:!0});Gi.DataItem=Gi.addWriter=Gi.addReader=Gi.addSemanticEncode=Gi.addSemanticDecode=Gi.decodeToDataItem=Gi.encodeDataItem=void 0;var Sy=WX();Object.defineProperty(Gi,"encodeDataItem",{enumerable:!0,get:function(){return Sy.encodeDataItem}});Object.defineProperty(Gi,"decodeToDataItem",{enumerable:!0,get:function(){return Sy.decodeToDataItem}});Object.defineProperty(Gi,"addSemanticDecode",{enumerable:!0,get:function(){return Sy.addSemanticDecode}});Object.defineProperty(Gi,"addSemanticEncode",{enumerable:!0,get:function(){return Sy.addSemanticEncode}});Object.defineProperty(Gi,"addReader",{enumerable:!0,get:function(){return Sy.addReader}});Object.defineProperty(Gi,"addWriter",{enumerable:!0,get:function(){return Sy.addWriter}});var z_e=EE();Object.defineProperty(Gi,"DataItem",{enumerable:!0,get:function(){return z_e.DataItem}})});var CE=E(TE=>{"use strict";h();p();Object.defineProperty(TE,"__esModule",{value:!0});TE.patchTags=void 0;var IE=Yn(),XX=[],Y_e=t=>{t.forEach(e=>{XX.find(r=>r===e)||(IE.addSemanticEncode(e,r=>{if(r instanceof IE.DataItem&&r.getTag()===e)return r.getData()}),IE.addSemanticDecode(e,r=>new IE.DataItem(r,e)),XX.push(e))})};TE.patchTags=Y_e});var Wn=E(Iy=>{"use strict";h();p();Object.defineProperty(Iy,"__esModule",{value:!0});Iy.RegistryTypes=Iy.RegistryType=void 0;var Ea=class{constructor(e,r){this.type=e,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};Iy.RegistryType=Ea;Iy.RegistryTypes={UUID:new Ea("uuid",37),BYTES:new Ea("bytes",void 0),CRYPTO_HDKEY:new Ea("crypto-hdkey",303),CRYPTO_KEYPATH:new Ea("crypto-keypath",304),CRYPTO_COIN_INFO:new Ea("crypto-coin-info",305),CRYPTO_ECKEY:new Ea("crypto-eckey",306),CRYPTO_OUTPUT:new Ea("crypto-output",308),CRYPTO_PSBT:new Ea("crypto-psbt",310),CRYPTO_ACCOUNT:new Ea("crypto-account",311),CRYPTO_MULTI_ACCOUNTS:new Ea("crypto-multi-accounts",1103),QR_HARDWARE_CALL:new Ea("qr-hardware-call",1201),KEY_DERIVATION_CALL:new Ea("key-derivation-call",1301)}});var AE=E(v1=>{"use strict";h();p();Object.defineProperty(v1,"__esModule",{value:!0});v1.ScriptExpressions=v1.ScriptExpression=void 0;var Ga=class{constructor(e,r){this.tag=e,this.expression=r,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};v1.ScriptExpression=Ga;Ga.fromTag=t=>Object.values(v1.ScriptExpressions).find(r=>r.getTag()===t);v1.ScriptExpressions={SCRIPT_HASH:new Ga(400,"sh"),WITNESS_SCRIPT_HASH:new Ga(401,"wsh"),PUBLIC_KEY:new Ga(402,"pk"),PUBLIC_KEY_HASH:new Ga(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new Ga(404,"wpkh"),COMBO:new Ga(405,"combo"),MULTISIG:new Ga(406,"multi"),SORTED_MULTISIG:new Ga(407,"sortedmulti"),ADDRESS:new Ga(307,"addr"),RAW_SCRIPT:new Ga(408,"raw")}});var AO=E(JX=>{"use strict";h();p();Object.defineProperty(JX,"__esModule",{value:!0});var W_e=CE(),X_e=Wn(),J_e=AE(),$_e=Object.values(X_e.RegistryTypes).filter(t=>!!t.getTag()).map(t=>t.getTag()),Z_e=Object.values(J_e.ScriptExpressions).map(t=>t.getTag());W_e.patchTags($_e.concat(Z_e))});var Sa=E(OE=>{"use strict";h();p();Object.defineProperty(OE,"__esModule",{value:!0});OE.RegistryItem=void 0;var $X=gn(),Q_e=Yn(),OO=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return Q_e.encodeDataItem(this.toDataItem())},this.toUR=()=>new $X.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,r,n)=>{let i=this.toUR();return new $X.UREncoder(i,e,r,n)}}};OE.RegistryItem=OO});var DE=E(Rf=>{"use strict";h();p();Object.defineProperty(Rf,"__esModule",{value:!0});Rf.CryptoCoinInfo=Rf.Network=Rf.Type=void 0;var ZX=Yn(),exe=Sa(),txe=Wn(),Ty;(function(t){t.type="1",t.network="2"})(Ty||(Ty={}));var QX;(function(t){t[t.bitcoin=0]="bitcoin"})(QX=Rf.Type||(Rf.Type={}));var eJ;(function(t){t[t.mainnet=0]="mainnet",t[t.testnet=1]="testnet"})(eJ=Rf.Network||(Rf.Network={}));var m1=class extends exe.RegistryItem{constructor(e,r){super(),this.type=e,this.network=r,this.getRegistryType=()=>txe.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||QX.bitcoin,this.getNetwork=()=>this.network||eJ.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[Ty.type]=this.type),this.network&&(n[Ty.network]=this.network),new ZX.DataItem(n)}}};Rf.CryptoCoinInfo=m1;m1.fromDataItem=t=>{let e=t.getData(),r=e[Ty.type],n=e[Ty.network];return new m1(r,n)};m1.fromCBOR=t=>{let e=ZX.decodeToDataItem(t);return m1.fromDataItem(e)}});var PE=E(RE=>{"use strict";h();p();Object.defineProperty(RE,"__esModule",{value:!0});RE.PathComponent=void 0;var Cy=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&Cy.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};RE.PathComponent=Cy;Cy.HARDENED_BIT=2147483648});var V2=E(BE=>{"use strict";h();p();Object.defineProperty(BE,"__esModule",{value:!0});BE.CryptoKeypath=void 0;var rJ=Yn(),tJ=PE(),rxe=Sa(),nxe=Wn(),Wd;(function(t){t[t.components=1]="components",t[t.source_fingerprint=2]="source_fingerprint",t[t.depth=3]="depth"})(Wd||(Wd={}));var _1=class extends rxe.RegistryItem{constructor(e=[],r,n){super(),this.components=e,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>nxe.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(o.isHardened())}),i[Wd.components]=a,this.sourceFingerprint&&(i[Wd.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[Wd.depth]=this.depth),new rJ.DataItem(i)}}};BE.CryptoKeypath=_1;_1.fromDataItem=t=>{let e=t.getData(),r=[],n=e[Wd.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?r.push(new tJ.PathComponent({index:f,hardened:u})):r.push(new tJ.PathComponent({hardened:u}))}let i=e[Wd.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[Wd.depth];return new _1(r,a,o)};_1.fromCBOR=t=>{let e=rJ.decodeToDataItem(t);return _1.fromDataItem(e)}});var Ay=E(ME=>{"use strict";h();p();Object.defineProperty(ME,"__esModule",{value:!0});ME.CryptoHDKey=void 0;var ixe=Rp(),axe=DE(),nJ=V2(),iJ=Yn(),oxe=Sa(),sxe=Wn(),Kt;(function(t){t[t.is_master=1]="is_master",t[t.is_private=2]="is_private",t[t.key_data=3]="key_data",t[t.chain_code=4]="chain_code",t[t.use_info=5]="use_info",t[t.origin=6]="origin",t[t.children=7]="children",t[t.parent_fingerprint=8]="parent_fingerprint",t[t.name=9]="name",t[t.note=10]="note"})(Kt||(Kt={}));var x1=class extends oxe.RegistryItem{constructor(e){super(),this.isECKey=()=>!1,this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{var r,n,i;let a,o,s=0,u=v.Buffer.alloc(4).fill(0);if(this.isMaster())a=v.Buffer.from("0488ADE4","hex"),o=0,s=0;else{o=((r=this.getOrigin())===null||r===void 0?void 0:r.getComponents().length)||((n=this.getOrigin())===null||n===void 0?void 0:n.getDepth());let y=(i=this.getOrigin())===null||i===void 0?void 0:i.getComponents(),_=y[y.length-1];_&&(s=_.isHardened()?_.getIndex()+2147483648:_.getIndex(),this.getParentFingerprint()&&(u=this.getParentFingerprint())),this.isPrivateKey()?a=v.Buffer.from("0488ADE4","hex"):a=v.Buffer.from("0488B21E","hex")}let f=v.Buffer.alloc(1);f.writeUInt8(o,0);let c=v.Buffer.alloc(4);c.writeUInt32BE(s,0);let l=this.getChainCode(),g=this.getKey();return ixe.encode(v.Buffer.concat([a,f,u,c,l,g]))},this.getRegistryType=()=>sxe.RegistryTypes.CRYPTO_HDKEY,this.getOutputDescriptorContent=()=>{var r,n,i,a,o,s,u;let f="";return this.getOrigin()&&((r=this.getOrigin())===null||r===void 0?void 0:r.getSourceFingerprint())&&((n=this.getOrigin())===null||n===void 0?void 0:n.getPath())&&(f+=`${(a=(i=this.getOrigin())===null||i===void 0?void 0:i.getSourceFingerprint())===null||a===void 0?void 0:a.toString("hex")}/${(o=this.getOrigin())===null||o===void 0?void 0:o.getPath()}`),f+=this.getBip32Key(),this.getChildren()&&!((s=this.getChildren())===null||s===void 0)&&s.getPath()&&(f+=`/${(u=this.getChildren())===null||u===void 0?void 0:u.getPath()}`),f},this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{let r={};if(this.master)r[Kt.is_master]=!0,r[Kt.key_data]=this.key,r[Kt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[Kt.is_private]=this.privateKey),r[Kt.key_data]=this.key,this.chainCode&&(r[Kt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[Kt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[Kt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[Kt.children]=n}this.parentFingerprint&&(r[Kt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[Kt.name]=this.name),this.note!==void 0&&(r[Kt.note]=this.note)}return new iJ.DataItem(r)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};ME.CryptoHDKey=x1;x1.fromDataItem=t=>{let e=t.getData(),r=!!e[Kt.is_master],n=e[Kt.is_private],i=e[Kt.key_data],a=e[Kt.chain_code],o=e[Kt.use_info]?axe.CryptoCoinInfo.fromDataItem(e[Kt.use_info]):void 0,s=e[Kt.origin]?nJ.CryptoKeypath.fromDataItem(e[Kt.origin]):void 0,u=e[Kt.children]?nJ.CryptoKeypath.fromDataItem(e[Kt.children]):void 0,f=e[Kt.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[Kt.name],g=e[Kt.note];return new x1({isMaster:r,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};x1.fromCBOR=t=>{let e=iJ.decodeToDataItem(t);return x1.fromDataItem(e)}});var G2=E(NE=>{"use strict";h();p();Object.defineProperty(NE,"__esModule",{value:!0});NE.CryptoECKey=void 0;var aJ=Yn(),uxe=Sa(),fxe=Wn(),Xd;(function(t){t[t.curve=1]="curve",t[t.private=2]="private",t[t.data=3]="data"})(Xd||(Xd={}));var b1=class extends uxe.RegistryItem{constructor(e){super(),this.isECKey=()=>!0,this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>fxe.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let r={};return this.curve&&(r[Xd.curve]=this.curve),this.privateKey!==void 0&&(r[Xd.private]=this.privateKey),r[Xd.data]=this.data,new aJ.DataItem(r)},this.getOutputDescriptorContent=()=>this.data.toString("hex"),this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey||void 0}};NE.CryptoECKey=b1;b1.fromDataItem=t=>{let e=t.getData(),r=e[Xd.curve],n=e[Xd.private],i=e[Xd.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${t}`);return new b1({data:i,curve:r,privateKey:n})};b1.fromCBOR=t=>{let e=aJ.decodeToDataItem(t);return b1.fromDataItem(e)}});var sJ=E(qE=>{"use strict";h();p();Object.defineProperty(qE,"__esModule",{value:!0});qE.Bytes=void 0;var oJ=Yn(),cxe=Sa(),dxe=Wn(),w1=class extends cxe.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>dxe.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new oJ.DataItem(this.bytes)}};qE.Bytes=w1;w1.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new w1(e)};w1.fromCBOR=t=>{let e=oJ.decodeToDataItem(t);return w1.fromDataItem(e)}});var LE=E(FE=>{"use strict";h();p();Object.defineProperty(FE,"__esModule",{value:!0});FE.MultiKey=void 0;var lxe=G2(),hxe=Ay(),pxe=EE(),gxe=Sa(),uJ=Wn(),Oy;(function(t){t[t.threshold=1]="threshold",t[t.keys=2]="keys"})(Oy||(Oy={}));var z2=class extends gxe.RegistryItem{constructor(e,r){super(),this.threshold=e,this.keys=r,this.getThreshold=()=>this.threshold,this.getKeys=()=>this.keys,this.toDataItem=()=>{let n={};n[Oy.threshold]=this.threshold;let i=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o});return n[Oy.keys]=i,new pxe.DataItem(n)},this.getOutputDescriptorContent=()=>[this.getThreshold(),this.keys.map(n=>n.getOutputDescriptorContent()).join(",")].join(",")}};FE.MultiKey=z2;z2.fromDataItem=t=>{let e=t.getData(),r=e[Oy.threshold],n=e[Oy.keys],i=[];return n.forEach(a=>{a.getTag()===uJ.RegistryTypes.CRYPTO_HDKEY.getTag()?i.push(hxe.CryptoHDKey.fromDataItem(a)):a.getTag()===uJ.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(lxe.CryptoECKey.fromDataItem(a))}),new z2(r,i)}});var MO=E(UE=>{"use strict";h();p();Object.defineProperty(UE,"__esModule",{value:!0});UE.CryptoOutput=void 0;var RO=G2(),PO=Ay(),BO=Yn(),fJ=LE(),yxe=Sa(),cJ=Wn(),DO=AE(),Lc=class extends yxe.RegistryItem{constructor(e,r){super(),this.scriptExpressions=e,this.cryptoKey=r,this.getRegistryType=()=>cJ.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof PO.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof RO.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof fJ.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this._toOutputDescriptor=n=>n>=this.scriptExpressions.length?this.cryptoKey.getOutputDescriptorContent():`${this.scriptExpressions[n].getExpression()}(${this._toOutputDescriptor(n+1)})`,this.toString=()=>this._toOutputDescriptor(0),this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof RO.CryptoECKey||this.cryptoKey instanceof PO.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new BO.DataItem(n,o)}),n}}};UE.CryptoOutput=Lc;Lc.fromDataItem=t=>{let e=[],r=t;for(;;){let a=r.getTag(),o=DO.ScriptExpression.fromTag(a);if(o)if(e.push(o),r.getData()instanceof BO.DataItem)r=r.getData(),a=r.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===DO.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===DO.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=fJ.MultiKey.fromDataItem(r);return new Lc(e,a)}if(r.getTag()===cJ.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=PO.CryptoHDKey.fromDataItem(r);return new Lc(e,a)}else{let a=RO.CryptoECKey.fromDataItem(r);return new Lc(e,a)}};Lc.fromCBOR=t=>{let e=BO.decodeToDataItem(t);return Lc.fromDataItem(e)}});var NO=E(kE=>{"use strict";h();p();Object.defineProperty(kE,"__esModule",{value:!0});kE.CryptoPSBT=void 0;var dJ=Yn(),vxe=Sa(),mxe=Wn(),E1=class extends vxe.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>mxe.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new dJ.DataItem(this.psbt)}};kE.CryptoPSBT=E1;E1.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new E1(e)};E1.fromCBOR=t=>{let e=dJ.decodeToDataItem(t);return E1.fromDataItem(e)}});var qO=E(jE=>{"use strict";h();p();Object.defineProperty(jE,"__esModule",{value:!0});jE.CryptoAccount=void 0;var _xe=HE(),lJ=Yn(),xxe=Sa(),bxe=Wn(),Dy;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.outputDescriptors=2]="outputDescriptors"})(Dy||(Dy={}));var S1=class extends xxe.RegistryItem{constructor(e,r){super(),this.masterFingerprint=e,this.outputDescriptors=r,this.getRegistryType=()=>bxe.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[Dy.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[Dy.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new lJ.DataItem(n)}}};jE.CryptoAccount=S1;S1.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[Dy.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[Dy.outputDescriptors].map(o=>_xe.CryptoOutput.fromDataItem(o));return new S1(r,a)};S1.fromCBOR=t=>{let e=lJ.decodeToDataItem(t);return S1.fromDataItem(e)}});var LO=E(KE=>{"use strict";h();p();Object.defineProperty(KE,"__esModule",{value:!0});KE.UnknownURTypeError=void 0;var FO=class extends Error{constructor(e){super(e)}};KE.UnknownURTypeError=FO});var kO=E(VE=>{"use strict";h();p();Object.defineProperty(VE,"__esModule",{value:!0});VE.URRegistryDecoder=void 0;var wxe=gn(),Jd=HE(),$d=Wn(),Exe=LO(),UO=class extends wxe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case $d.RegistryTypes.BYTES.getType():return Jd.Bytes.fromCBOR(e.cbor);case $d.RegistryTypes.CRYPTO_HDKEY.getType():return Jd.CryptoHDKey.fromCBOR(e.cbor);case $d.RegistryTypes.CRYPTO_KEYPATH.getType():return Jd.CryptoKeypath.fromCBOR(e.cbor);case $d.RegistryTypes.CRYPTO_COIN_INFO.getType():return Jd.CryptoCoinInfo.fromCBOR(e.cbor);case $d.RegistryTypes.CRYPTO_ECKEY.getType():return Jd.CryptoECKey.fromCBOR(e.cbor);case $d.RegistryTypes.CRYPTO_OUTPUT.getType():return Jd.CryptoOutput.fromCBOR(e.cbor);case $d.RegistryTypes.CRYPTO_PSBT.getType():return Jd.CryptoPSBT.fromCBOR(e.cbor);case $d.RegistryTypes.CRYPTO_ACCOUNT.getType():return Jd.CryptoAccount.fromCBOR(e.cbor);default:throw new Exe.UnknownURTypeError(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};VE.URRegistryDecoder=UO});var jO=E(GE=>{"use strict";h();p();Object.defineProperty(GE,"__esModule",{value:!0});GE.CryptoMultiAccounts=void 0;var Sxe=Wn(),Ixe=Ay(),Txe=Sa(),hJ=Yn(),Zd;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.keys=2]="keys",t[t.device=3]="device"})(Zd||(Zd={}));var I1=class extends Txe.RegistryItem{constructor(e,r,n){super(),this.masterFingerprint=e,this.keys=r,this.device=n,this.getRegistryType=()=>Sxe.RegistryTypes.CRYPTO_MULTI_ACCOUNTS,this.getMasterFingerprint=()=>this.masterFingerprint,this.getKeys=()=>this.keys,this.getDevice=()=>this.device,this.toDataItem=()=>{let i={};return this.masterFingerprint&&(i[Zd.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.keys&&(i[Zd.keys]=this.keys.map(a=>{let o=a.toDataItem();return o.setTag(a.getRegistryType().getTag()),o})),this.device&&(i[Zd.device]=this.device),new hJ.DataItem(i)}}};GE.CryptoMultiAccounts=I1;I1.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[Zd.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[Zd.keys].map(s=>Ixe.CryptoHDKey.fromDataItem(s)),o=e[Zd.device];return new I1(r,a,o)};I1.fromCBOR=t=>{let e=hJ.decodeToDataItem(t);return I1.fromDataItem(e)}});var HO=E(Bf=>{"use strict";h();p();Object.defineProperty(Bf,"__esModule",{value:!0});Bf.KeyDerivation=Bf.DerivationAlgorithm=Bf.Curve=void 0;var Cxe=Wn(),Axe=Sa(),pJ=Yn(),Oxe=V2(),Pf;(function(t){t[t.keyPaths=1]="keyPaths",t[t.curve=2]="curve",t[t.algo=3]="algo",t[t.origin=4]="origin"})(Pf||(Pf={}));var gJ;(function(t){t.secp256k1="secp256k1",t.ed25519="ed25519"})(gJ=Bf.Curve||(Bf.Curve={}));var yJ;(function(t){t.slip10="slip10",t.bip32ed25519="bip32ed25519"})(yJ=Bf.DerivationAlgorithm||(Bf.DerivationAlgorithm={}));var T1=class extends Axe.RegistryItem{constructor(e,r=gJ.secp256k1,n=yJ.slip10,i){super(),this.keypaths=e,this.curve=r,this.algo=n,this.origin=i,this.getRegistryType=()=>Cxe.RegistryTypes.KEY_DERIVATION_CALL,this.getKeypaths=()=>this.keypaths,this.getCurve=()=>this.curve,this.getAlgo=()=>this.algo,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let a={};return a[Pf.keyPaths]=this.keypaths.map(o=>{let s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s}),a[Pf.curve]=this.curve,a[Pf.algo]=this.algo,this.origin&&(a[Pf.origin]=this.origin),new pJ.DataItem(a)}}};Bf.KeyDerivation=T1;T1.fromDataItem=t=>{let e=t.getData(),r=e[Pf.keyPaths].map(o=>Oxe.CryptoKeypath.fromDataItem(o)),n=e[Pf.curve],i=e[Pf.algo],a=e[Pf.origin];return new T1(r,n,i,a)};T1.fromCBOR=t=>{let e=pJ.decodeToDataItem(t);return T1.fromDataItem(e)}});var mJ=E(A1=>{"use strict";h();p();Object.defineProperty(A1,"__esModule",{value:!0});A1.QRHardwareCall=A1.QRHardwareCallName=void 0;var Dxe=Wn(),Rxe=Sa(),vJ=Yn(),Pxe=HO(),Ry;(function(t){t[t.name=1]="name",t[t.params=2]="params"})(Ry||(Ry={}));var KO;(function(t){t.KeyDerivation="key-derivation"})(KO=A1.QRHardwareCallName||(A1.QRHardwareCallName={}));var C1=class extends Rxe.RegistryItem{constructor(e,r){super(),this.name=e,this.params=r,this.getRegistryType=()=>Dxe.RegistryTypes.QR_HARDWARE_CALL,this.getName=()=>this.name,this.getParams=()=>this.params,this.toDataItem=()=>{let n={};n[Ry.name]=this.name;let i=this.params.toDataItem();return i.setTag(this.params.getRegistryType().getTag()),n[Ry.params]=i,new vJ.DataItem(n)}}};A1.QRHardwareCall=C1;C1.fromDataItem=t=>{let e=t.getData(),r=e[Ry.name]||KO.KeyDerivation,n;switch(r){case KO.KeyDerivation:n=Pxe.KeyDerivation.fromDataItem(e[Ry.params])}return new C1(r,n)};C1.fromCBOR=t=>{let e=vJ.decodeToDataItem(t);return C1.fromDataItem(e)}});var xJ=E(_J=>{"use strict";h();p();Object.defineProperty(_J,"__esModule",{value:!0})});var HE=E(Te=>{"use strict";h();p();Object.defineProperty(Te,"__esModule",{value:!0});Te.Buffer=Te.extend=Te.PathComponent=Te.ScriptExpressions=Te.MultiKey=Te.CryptoPSBT=Te.CryptoOutput=Te.CryptoECKey=Te.CryptoCoinInfoNetwork=Te.CryptoCoinInfoType=Te.CryptoCoinInfo=Te.CryptoKeypath=Te.CryptoMultiAccounts=Te.CryptoHDKey=Te.CryptoAccount=Te.Bytes=Te.URRegistryDecoder=Te.DataItem=void 0;var Wr=zX();AO();var Bxe=Up();Object.defineProperty(Te,"Buffer",{enumerable:!0,get:function(){return Bxe.Buffer}});var wJ=Ay();Object.defineProperty(Te,"CryptoHDKey",{enumerable:!0,get:function(){return wJ.CryptoHDKey}});var EJ=V2();Object.defineProperty(Te,"CryptoKeypath",{enumerable:!0,get:function(){return EJ.CryptoKeypath}});var By=DE();Object.defineProperty(Te,"CryptoCoinInfo",{enumerable:!0,get:function(){return By.CryptoCoinInfo}});Object.defineProperty(Te,"CryptoCoinInfoType",{enumerable:!0,get:function(){return By.Type}});Object.defineProperty(Te,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return By.Network}});var SJ=G2();Object.defineProperty(Te,"CryptoECKey",{enumerable:!0,get:function(){return SJ.CryptoECKey}});var IJ=sJ();Object.defineProperty(Te,"Bytes",{enumerable:!0,get:function(){return IJ.Bytes}});var TJ=MO();Object.defineProperty(Te,"CryptoOutput",{enumerable:!0,get:function(){return TJ.CryptoOutput}});var CJ=NO();Object.defineProperty(Te,"CryptoPSBT",{enumerable:!0,get:function(){return CJ.CryptoPSBT}});var AJ=qO();Object.defineProperty(Te,"CryptoAccount",{enumerable:!0,get:function(){return AJ.CryptoAccount}});var OJ=kO();Object.defineProperty(Te,"URRegistryDecoder",{enumerable:!0,get:function(){return OJ.URRegistryDecoder}});var DJ=LE();Object.defineProperty(Te,"MultiKey",{enumerable:!0,get:function(){return DJ.MultiKey}});var RJ=AE();Object.defineProperty(Te,"ScriptExpressions",{enumerable:!0,get:function(){return RJ.ScriptExpressions}});var PJ=PE();Object.defineProperty(Te,"PathComponent",{enumerable:!0,get:function(){return PJ.PathComponent}});var Mxe=Sa(),bJ=Wn(),Py=Yn(),Nxe=Yn();Object.defineProperty(Te,"DataItem",{enumerable:!0,get:function(){return Nxe.DataItem}});var qxe=CE(),BJ=jO();Object.defineProperty(Te,"CryptoMultiAccounts",{enumerable:!0,get:function(){return BJ.CryptoMultiAccounts}});var Fxe={URRegistryDecoder:OJ.URRegistryDecoder,Bytes:IJ.Bytes,CryptoAccount:AJ.CryptoAccount,CryptoHDKey:wJ.CryptoHDKey,CryptoMultiAccounts:BJ.CryptoMultiAccounts,CryptoKeypath:EJ.CryptoKeypath,CryptoCoinInfo:By.CryptoCoinInfo,CryptoCoinInfoType:By.Type,CryptoCoinInfoNetwork:By.Network,CryptoECKey:SJ.CryptoECKey,CryptoOutput:TJ.CryptoOutput,CryptoPSBT:CJ.CryptoPSBT,MultiKey:DJ.MultiKey,ScriptExpressions:RJ.ScriptExpressions,PathComponent:PJ.PathComponent},Lxe={addReader:Py.addReader,addSemanticDecode:Py.addSemanticDecode,addSemanticEncode:Py.addSemanticEncode,addWriter:Py.addWriter,patchTags:qxe.patchTags},Uxe={RegistryTypes:bJ.RegistryTypes,RegistryItem:Mxe.RegistryItem,RegistryType:bJ.RegistryType,decodeToDataItem:Py.decodeToDataItem,encodeDataItem:Py.encodeDataItem,cbor:Lxe};Te.extend=Uxe;Wr.__exportStar(LO(),Te);Wr.__exportStar(kO(),Te);Wr.__exportStar(Yn(),Te);Wr.__exportStar(qO(),Te);Wr.__exportStar(NO(),Te);Wr.__exportStar(Ay(),Te);Wr.__exportStar(jO(),Te);Wr.__exportStar(mJ(),Te);Wr.__exportStar(HO(),Te);Wr.__exportStar(MO(),Te);Wr.__exportStar(DE(),Te);Wr.__exportStar(G2(),Te);Wr.__exportStar(LE(),Te);Wr.__exportStar(V2(),Te);Wr.__exportStar(AO(),Te);Wr.__exportStar(PE(),Te);Wr.__exportStar(Sa(),Te);Wr.__exportStar(Wn(),Te);Wr.__exportStar(xJ(),Te);Wr.__exportStar(CE(),Te);Te.default=Fxe});var MJ=E(Y2=>{"use strict";h();p();Object.defineProperty(Y2,"__esModule",{value:!0});var zi=HE(),kxe=G3(),VO={SUI_SIGN_REQUEST:new zi.RegistryType("sui-sign-request",7101),SUI_SIGNATURE:new zi.RegistryType("sui-signature",7102)},{decodeToDataItem:jxe,RegistryTypes:Hxe}=zi.extend,Ia;(function(t){t[t.requestId=1]="requestId",t[t.intentMessage=2]="intentMessage",t[t.derivationPaths=3]="derivationPaths",t[t.addresses=4]="addresses",t[t.origin=5]="origin"})(Ia||(Ia={}));var Uc=class extends zi.RegistryItem{constructor(e){super(),this.getRegistryType=()=>VO.SUI_SIGN_REQUEST,this.getRequestId=()=>this.requestId,this.getIntentMessage=()=>this.intentMessage,this.getDerivationPaths=()=>this.derivationPaths.map(r=>r.getPath()),this.getAddresses=()=>this.addresses,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let r={};return this.requestId&&(r[Ia.requestId]=new zi.DataItem(this.requestId,Hxe.UUID.getTag())),this.addresses&&(r[Ia.addresses]=this.addresses),this.origin&&(r[Ia.origin]=this.origin),r[Ia.intentMessage]=this.intentMessage,r[Ia.derivationPaths]=this.derivationPaths.map(n=>{let i=n.toDataItem();return i.setTag(n.getRegistryType().getTag()),i}),new zi.DataItem(r)},this.requestId=e.requestId,this.intentMessage=e.intentMessage,this.derivationPaths=e.derivationPaths,this.addresses=e.addresses,this.origin=e.origin}static constructSuiRequest(e,r,n,i,a,o){let s=r.map((u,f)=>{let c=u.replace(/[m|M]\//,"").split("/").map(l=>{let g=parseInt(l.replace("'","")),y=!1;return l.endsWith("'")&&(y=!0),new zi.PathComponent({index:g,hardened:y})});return new zi.CryptoKeypath(c,v.Buffer.from(n[f],"hex"))});return new Uc({requestId:v.Buffer.from(kxe.parse(i)),intentMessage:e,derivationPaths:s,addresses:a||void 0,origin:o||void 0})}};Uc.fromDataItem=t=>{let e=t.getData(),r=e[Ia.intentMessage],n=e[Ia.derivationPaths].map(o=>zi.CryptoKeypath.fromDataItem(o)),i=e[Ia.addresses]?e[Ia.addresses]:void 0,a=e[Ia.requestId]?e[Ia.requestId].getData():void 0;return new Uc({requestId:a,intentMessage:r,derivationPaths:n,addresses:i,origin:e[Ia.origin]?e[Ia.origin]:void 0})},Uc.fromCBOR=t=>{let e=jxe(t);return Uc.fromDataItem(e)};var{RegistryTypes:Kxe,decodeToDataItem:Vxe}=zi.extend,Qd;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature",t[t.publicKey=3]="publicKey"})(Qd||(Qd={}));var O1=class extends zi.RegistryItem{constructor(e,r,n){super(),this.getRegistryType=()=>VO.SUI_SIGNATURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.getPublicKey=()=>this.publicKey,this.toDataItem=()=>{let i={};return this.requestId&&(i[Qd.requestId]=new zi.DataItem(this.requestId,Kxe.UUID.getTag())),i[Qd.signature]=this.signature,this.publicKey&&(i[Qd.publicKey]=this.publicKey),new zi.DataItem(i)},this.signature=e,this.requestId=r,this.publicKey=n}};O1.fromDataItem=t=>{let e=t.getData(),r=e[Qd.signature],n=e[Qd.requestId].getData();return new O1(r,n,e[Qd.publicKey])},O1.fromCBOR=t=>{let e=Vxe(t);return O1.fromDataItem(e)},zi.patchTags(Object.values(VO).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(zi).forEach(function(t){t!=="default"&&Object.defineProperty(Y2,t,{enumerable:!0,get:function(){return zi[t]}})}),Y2.SuiSignRequest=Uc,Y2.SuiSignature=O1});var qJ=E((_ut,NJ)=>{"use strict";h();p();NJ.exports=MJ()});var FJ=E(YE=>{"use strict";h();p();Object.defineProperty(YE,"__esModule",{value:!0});YE.KeystoneSuiSDK=void 0;var zE=qJ(),el=Tn(),Gxe=qa(),GO=class{parseSignature(e){if(e.type!==Gxe.URType.SuiSignature)throw new Error("type not match");let r=zE.SuiSignature.fromCBOR(e.cbor),n=r.getRequestId();return{requestId:v.Buffer.isBuffer(n)?(0,el.uuidStringify)(n):"",signature:(0,el.toHex)(r.getSignature()),publicKey:(0,el.toHex)(r.getPublicKey())}}generateSignRequest({requestId:e,intentMessage:r,accounts:n,origin:i}){let a=[],o=[];if(n.forEach(s=>{a.push(new zE.CryptoKeypath((0,el.parsePath)(s.path).map(u=>new zE.PathComponent(u)),(0,el.toBuffer)(s.xfp))),s.address!==void 0&&o.push((0,el.toBuffer)(s.address.startsWith("0x")?s.address.substring(2):s.address))}),o.length>0&&o.length!==a.length)throw new Error("address and path count must match");return new zE.SuiSignRequest({requestId:(0,el.uuidParse)(e),intentMessage:(0,el.toBuffer)(r),derivationPaths:a,addresses:o,origin:i}).toUR()}};YE.KeystoneSuiSDK=GO});var zO=E(Xr=>{"use strict";h();p();var zxe=Xr&&Xr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),za=Xr&&Xr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&zxe(e,t,r)};Object.defineProperty(Xr,"__esModule",{value:!0});za(UL(),Xr);za(gk(),Xr);za(Aj(),Xr);za(lV(),Xr);za(LV(),Xr);za(oz(),Xr);za(Pz(),Xr);za(Lz(),Xr);za(kz(),Xr);za(Hz(),Xr);za(pY(),Xr);za($W(),Xr);za(SX(),Xr);za(FJ(),Xr)});var YO=E(tl=>{"use strict";h();p();Object.defineProperty(tl,"__esModule",{value:!0});tl.generateKeyDerivationCall=tl.DerivationAlgorithm=tl.Curve=void 0;var Mf=R0();Object.defineProperty(tl,"Curve",{enumerable:!0,get:function(){return Mf.Curve}});Object.defineProperty(tl,"DerivationAlgorithm",{enumerable:!0,get:function(){return Mf.DerivationAlgorithm}});var Yxe=Tn(),Wxe=({schemas:t,origin:e})=>{let r=t.map(({path:a,curve:o=Mf.Curve.secp256k1,algo:s=Mf.DerivationAlgorithm.slip10})=>{if(o===Mf.Curve.secp256k1&&s===Mf.DerivationAlgorithm.bip32ed25519)throw new Error("the combination of the given curve and algo not supported");return new Mf.KeyDerivationSchema((0,Yxe.pathToKeypath)(a),o,s)}),n=new Mf.KeyDerivation(r);return new Mf.QRHardwareCall(Mf.QRHardwareCallType.KeyDerivation,n,e).toUR()};tl.generateKeyDerivationCall=Wxe});var LJ=E(W2=>{"use strict";h();p();Object.defineProperty(W2,"__esModule",{value:!0});W2.AccountNote=void 0;var Xxe;(function(t){t.Standard="account.standard",t.LedgerLegacy="account.ledger_legacy",t.LedgerLive="account.ledger_live"})(Xxe=W2.AccountNote||(W2.AccountNote={}))});var kJ=E(UJ=>{"use strict";h();p();Object.defineProperty(UJ,"__esModule",{value:!0})});var HJ=E(jJ=>{"use strict";h();p();Object.defineProperty(jJ,"__esModule",{value:!0})});var VJ=E(KJ=>{"use strict";h();p();Object.defineProperty(KJ,"__esModule",{value:!0})});var WE=E(Vu=>{"use strict";h();p();var Jxe=Vu&&Vu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),X2=Vu&&Vu.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Jxe(e,t,r)};Object.defineProperty(Vu,"__esModule",{value:!0});X2(LJ(),Vu);X2(kJ(),Vu);X2(HJ(),Vu);X2(VJ(),Vu);X2(qa(),Vu)});var WO=E(XE=>{"use strict";h();p();Object.defineProperty(XE,"__esModule",{value:!0});XE.generateExtraData=void 0;var $xe={60:1},Zxe=t=>{var e;return{okx:{chainId:(e=$xe[t])!==null&&e!==void 0?e:t}}};XE.generateExtraData=Zxe});var GJ=E(JE=>{"use strict";h();p();Object.defineProperty(JE,"__esModule",{value:!0});JE.parseMultiAccounts=void 0;var Qxe=WE(),e3e=R0(),J2=Tn(),t3e=WO(),r3e=t=>{if(t.type!==Qxe.URType.CryptoMultiAccounts)throw new Error("type not match");let e=e3e.CryptoMultiAccounts.fromCBOR(t.cbor),r=(0,J2.toHex)(e.getMasterFingerprint());return{device:e.getDevice(),masterFingerprint:r,keys:e.getKeys().map(n=>{let i=(0,J2.toHex)(n.getChainCode()),a=(0,J2.toHex)(n.getParentFingerprint()),o=n.getOrigin();if(o===void 0)throw new Error("multi accounts is invalid");let s;i.length!==0&&a.length!==0&&(s=n.getBip32Key());let u=o.getComponents()[1].getIndex();return{chain:(0,J2.getCoinSymbol)(u),path:`m/${o.getPath()}`,publicKey:(0,J2.toHex)(n.getKey()),name:n.getName(),chainCode:i,extendedPublicKey:s,note:n.getNote(),extra:(0,t3e.generateExtraData)(u)}}),deviceId:e.getDeviceId(),deviceVersion:e.getVersion()}};JE.parseMultiAccounts=r3e});var zJ=E(ZE=>{"use strict";h();p();Object.defineProperty(ZE,"__esModule",{value:!0});ZE.parseHDKey=void 0;var n3e=WE(),i3e=R0(),$E=Tn(),a3e=WO(),o3e=t=>{var e;if(t.type!==n3e.URType.CryptoHDKey)throw new Error("type not match");let r=i3e.CryptoHDKey.fromCBOR(t.cbor),n=(0,$E.toHex)(r.getChainCode()),i=(0,$E.toHex)(r.getParentFingerprint()),a=r.getOrigin();if(((e=r.getOrigin().getSourceFingerprint())===null||e===void 0?void 0:e.toString("hex"))===void 0)throw new Error("HDKey is invalid");let s;n.length!==0&&i.length!==0&&(s=r.getBip32Key());let u=a.getComponents()[1].getIndex();return{chain:(0,$E.getCoinSymbol)(u),path:`m/${a.getPath()}`,publicKey:(0,$E.toHex)(r.getKey()),name:r.getName(),xfp:a.getSourceFingerprint().toString("hex"),chainCode:n,extendedPublicKey:s,note:r.getNote(),extra:(0,a3e.generateExtraData)(u)}};ZE.parseHDKey=o3e});var YJ=E(kc=>{"use strict";h();p();var s3e=kc&&kc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),XO=kc&&kc.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&s3e(e,t,r)};Object.defineProperty(kc,"__esModule",{value:!0});XO(YO(),kc);XO(GJ(),kc);XO(zJ(),kc)});var WJ=E((ift,u3e)=>{u3e.exports={TYPES:{Done:-1,Unknown:-2,NotPresent:0,UInt16:1,UInt32:2,UInt64:3,Hash128:4,Hash256:5,Amount:6,Blob:7,AccountID:8,STObject:14,STArray:15,UInt8:16,Hash160:17,PathSet:18,Vector256:19,UInt96:20,UInt192:21,UInt384:22,UInt512:23,Transaction:10001,LedgerEntry:10002,Validation:10003,Metadata:10004},LEDGER_ENTRY_TYPES:{Invalid:-1,AccountRoot:97,DirectoryNode:100,RippleState:114,Ticket:84,SignerList:83,Offer:111,LedgerHashes:104,Amendments:102,FeeSettings:115,Escrow:117,PayChannel:120,Check:67,DepositPreauth:112,NegativeUNL:78,NFTokenPage:80,NFTokenOffer:55,Any:-3,Child:-2,Nickname:110,Contract:99,GeneratorMap:103},FIELDS:[["Generic",{nth:0,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["Invalid",{nth:-1,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Unknown"}],["ObjectEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ArrayEndMarker",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["hash",{nth:257,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["index",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Hash256"}],["taker_gets_funded",{nth:258,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["taker_pays_funded",{nth:259,isVLEncoded:!1,isSerialized:!1,isSigningField:!1,type:"Amount"}],["LedgerEntry",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"LedgerEntry"}],["Transaction",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"Transaction"}],["Validation",{nth:1,isVLEncoded:!1,isSerialized:!1,isSigningField:!0,type:"Validation"}],["Metadata",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Metadata"}],["CloseResolution",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["Method",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TransactionResult",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["TickSize",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["UNLModifyDisabling",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["HookResult",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt8"}],["LedgerEntryType",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransactionType",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["SignerWeight",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["TransferFee",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["Version",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookStateChangeCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookEmitCount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookExecutionIndex",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["HookApiVersion",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt16"}],["Flags",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SourceTag",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Sequence",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["PreviousTxnLgrSeq",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LedgerSequence",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CloseTime",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ParentCloseTime",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SigningTime",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["Expiration",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransferRate",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["WalletSize",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OwnerCount",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["DestinationTag",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityIn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HighQualityOut",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityIn",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LowQualityOut",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityIn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["QualityOut",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["StampEscrow",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BondAmount",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LoadFee",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OfferSequence",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FirstLedgerSequence",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["LastLedgerSequence",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TransactionIndex",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["OperationLimit",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReferenceFeeUnits",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveBase",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ReserveIncrement",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SetFlag",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["ClearFlag",{nth:34,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerQuorum",{nth:35,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["CancelAfter",{nth:36,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["FinishAfter",{nth:37,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SignerListID",{nth:38,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["SettleDelay",{nth:39,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketCount",{nth:40,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["TicketSequence",{nth:41,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["NFTokenTaxon",{nth:42,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["MintedNFTokens",{nth:43,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["BurnedNFTokens",{nth:44,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["HookStateCount",{nth:45,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["EmitGeneration",{nth:46,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt32"}],["IndexNext",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["IndexPrevious",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BookNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["OwnerNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["BaseFee",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ExchangeRate",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["LowNode",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HighNode",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["DestinationNode",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["Cookie",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ServerVersion",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["NFTokenOfferNode",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmitBurden",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookOn",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookInstructionCount",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["HookReturnCode",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["ReferenceCount",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"UInt64"}],["EmailHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash128"}],["TakerPaysCurrency",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerPaysIssuer",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsCurrency",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["TakerGetsIssuer",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash160"}],["LedgerHash",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ParentHash",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["TransactionHash",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountHash",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousTxnID",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["LedgerIndex",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["WalletLocator",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["RootIndex",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["AccountTxnID",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenID",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitParentTxnID",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitNonce",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["EmitHookHash",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["BookDirectory",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["InvoiceID",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Nickname",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amendment",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Digest",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Channel",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ConsensusHash",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["CheckID",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["ValidatedHash",{nth:25,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["PreviousPageMin",{nth:26,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NextPageMin",{nth:27,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenBuyOffer",{nth:28,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["NFTokenSellOffer",{nth:29,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookStateKey",{nth:30,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookHash",{nth:31,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookNamespace",{nth:32,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["HookSetTxnID",{nth:33,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Hash256"}],["Amount",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Balance",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LimitAmount",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerPays",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["TakerGets",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["LowLimit",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["HighLimit",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["Fee",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["SendMax",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliverMin",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["MinimumOffer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["RippleEscrow",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["DeliveredAmount",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["NFTokenBrokerFee",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"Amount"}],["PublicKey",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MessageKey",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["SigningPubKey",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["TxnSignature",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["URI",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Signature",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["Domain",{nth:7,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["FundCode",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["RemoveCode",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ExpireCode",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["CreateCode",{nth:11,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoType",{nth:12,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoData",{nth:13,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MemoFormat",{nth:14,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Fulfillment",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Condition",{nth:17,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["MasterSignature",{nth:18,isVLEncoded:!0,isSerialized:!0,isSigningField:!1,type:"Blob"}],["UNLModifyValidator",{nth:19,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToDisable",{nth:20,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["ValidatorToReEnable",{nth:21,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookStateData",{nth:22,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookReturnString",{nth:23,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterName",{nth:24,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["HookParameterValue",{nth:25,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Blob"}],["Account",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Owner",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Destination",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Issuer",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Authorize",{nth:5,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Unauthorize",{nth:6,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["RegularKey",{nth:8,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["NFTokenMinter",{nth:9,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["EmitCallback",{nth:10,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["HookAccount",{nth:16,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"AccountID"}],["Indexes",{nth:1,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Hashes",{nth:2,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Amendments",{nth:3,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["NFTokenOffers",{nth:4,isVLEncoded:!0,isSerialized:!0,isSigningField:!0,type:"Vector256"}],["Paths",{nth:1,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"PathSet"}],["TransactionMetaData",{nth:2,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["CreatedNode",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DeletedNode",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["ModifiedNode",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["PreviousFields",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["FinalFields",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NewFields",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["TemplateEntry",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Memo",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["SignerEntry",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["NFToken",{nth:12,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmitDetails",{nth:13,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Hook",{nth:14,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signer",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Majority",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["DisabledValidator",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["EmittedTxn",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookExecution",{nth:21,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookDefinition",{nth:22,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookParameter",{nth:23,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["HookGrant",{nth:24,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STObject"}],["Signers",{nth:3,isVLEncoded:!1,isSerialized:!0,isSigningField:!1,type:"STArray"}],["SignerEntries",{nth:4,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Template",{nth:5,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Necessary",{nth:6,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Sufficient",{nth:7,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["AffectedNodes",{nth:8,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Memos",{nth:9,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["NFTokens",{nth:10,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Hooks",{nth:11,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["Majorities",{nth:16,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["DisabledValidators",{nth:17,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookExecutions",{nth:18,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookParameters",{nth:19,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}],["HookGrants",{nth:20,isVLEncoded:!1,isSerialized:!0,isSigningField:!0,type:"STArray"}]],TRANSACTION_RESULTS:{telLOCAL_ERROR:-399,telBAD_DOMAIN:-398,telBAD_PATH_COUNT:-397,telBAD_PUBLIC_KEY:-396,telFAILED_PROCESSING:-395,telINSUF_FEE_P:-394,telNO_DST_PARTIAL:-393,telCAN_NOT_QUEUE:-392,telCAN_NOT_QUEUE_BALANCE:-391,telCAN_NOT_QUEUE_BLOCKS:-390,telCAN_NOT_QUEUE_BLOCKED:-389,telCAN_NOT_QUEUE_FEE:-388,telCAN_NOT_QUEUE_FULL:-387,temMALFORMED:-299,temBAD_AMOUNT:-298,temBAD_CURRENCY:-297,temBAD_EXPIRATION:-296,temBAD_FEE:-295,temBAD_ISSUER:-294,temBAD_LIMIT:-293,temBAD_OFFER:-292,temBAD_PATH:-291,temBAD_PATH_LOOP:-290,temBAD_REGKEY:-289,temBAD_SEND_XRP_LIMIT:-288,temBAD_SEND_XRP_MAX:-287,temBAD_SEND_XRP_NO_DIRECT:-286,temBAD_SEND_XRP_PARTIAL:-285,temBAD_SEND_XRP_PATHS:-284,temBAD_SEQUENCE:-283,temBAD_SIGNATURE:-282,temBAD_SRC_ACCOUNT:-281,temBAD_TRANSFER_RATE:-280,temDST_IS_SRC:-279,temDST_NEEDED:-278,temINVALID:-277,temINVALID_FLAG:-276,temREDUNDANT:-275,temRIPPLE_EMPTY:-274,temDISABLED:-273,temBAD_SIGNER:-272,temBAD_QUORUM:-271,temBAD_WEIGHT:-270,temBAD_TICK_SIZE:-269,temINVALID_ACCOUNT_ID:-268,temCANNOT_PREAUTH_SELF:-267,temINVALID_COUNT:-266,temUNCERTAIN:-265,temUNKNOWN:-264,temSEQ_AND_TICKET:-263,temBAD_NFTOKEN_TRANSFER_FEE:-262,tefFAILURE:-199,tefALREADY:-198,tefBAD_ADD_AUTH:-197,tefBAD_AUTH:-196,tefBAD_LEDGER:-195,tefCREATED:-194,tefEXCEPTION:-193,tefINTERNAL:-192,tefNO_AUTH_REQUIRED:-191,tefPAST_SEQ:-190,tefWRONG_PRIOR:-189,tefMASTER_DISABLED:-188,tefMAX_LEDGER:-187,tefBAD_SIGNATURE:-186,tefBAD_QUORUM:-185,tefNOT_MULTI_SIGNING:-184,tefBAD_AUTH_MASTER:-183,tefINVARIANT_FAILED:-182,tefTOO_BIG:-181,tefNO_TICKET:-180,tefNFTOKEN_IS_NOT_TRANSFERABLE:-179,terRETRY:-99,terFUNDS_SPENT:-98,terINSUF_FEE_B:-97,terNO_ACCOUNT:-96,terNO_AUTH:-95,terNO_LINE:-94,terOWNERS:-93,terPRE_SEQ:-92,terLAST:-91,terNO_RIPPLE:-90,terQUEUED:-89,terPRE_TICKET:-88,tesSUCCESS:0,tecCLAIM:100,tecPATH_PARTIAL:101,tecUNFUNDED_ADD:102,tecUNFUNDED_OFFER:103,tecUNFUNDED_PAYMENT:104,tecFAILED_PROCESSING:105,tecDIR_FULL:121,tecINSUF_RESERVE_LINE:122,tecINSUF_RESERVE_OFFER:123,tecNO_DST:124,tecNO_DST_INSUF_XRP:125,tecNO_LINE_INSUF_RESERVE:126,tecNO_LINE_REDUNDANT:127,tecPATH_DRY:128,tecUNFUNDED:129,tecNO_ALTERNATIVE_KEY:130,tecNO_REGULAR_KEY:131,tecOWNERS:132,tecNO_ISSUER:133,tecNO_AUTH:134,tecNO_LINE:135,tecINSUFF_FEE:136,tecFROZEN:137,tecNO_TARGET:138,tecNO_PERMISSION:139,tecNO_ENTRY:140,tecINSUFFICIENT_RESERVE:141,tecNEED_MASTER_KEY:142,tecDST_TAG_NEEDED:143,tecINTERNAL:144,tecOVERSIZE:145,tecCRYPTOCONDITION_ERROR:146,tecINVARIANT_FAILED:147,tecEXPIRED:148,tecDUPLICATE:149,tecKILLED:150,tecHAS_OBLIGATIONS:151,tecTOO_SOON:152,tecMAX_SEQUENCE_REACHED:154,tecNO_SUITABLE_NFTOKEN_PAGE:155,tecNFTOKEN_BUY_SELL_MISMATCH:156,tecNFTOKEN_OFFER_TYPE_MISMATCH:157,tecCANT_ACCEPT_OWN_NFTOKEN_OFFER:158,tecINSUFFICIENT_FUNDS:159,tecOBJECT_NOT_FOUND:160,tecINSUFFICIENT_PAYMENT:161},TRANSACTION_TYPES:{Invalid:-1,Payment:0,EscrowCreate:1,EscrowFinish:2,AccountSet:3,EscrowCancel:4,SetRegularKey:5,NickNameSet:6,OfferCreate:7,OfferCancel:8,Contract:9,TicketCreate:10,TicketCancel:11,SignerListSet:12,PaymentChannelCreate:13,PaymentChannelFund:14,PaymentChannelClaim:15,CheckCreate:16,CheckCash:17,CheckCancel:18,DepositPreauth:19,TrustSet:20,AccountDelete:21,SetHook:22,NFTokenMint:25,NFTokenBurn:26,NFTokenCreateOffer:27,NFTokenCancelOffer:28,NFTokenAcceptOffer:29,EnableAmendment:100,SetFee:101,UNLModify:102}}});var gr=E(Ny=>{"use strict";h();p();var JO=lN(),My=vT(),XJ=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ny.Buffer=de;Ny.SlowBuffer=h3e;Ny.INSPECT_MAX_BYTES=50;var QE=2147483647;Ny.kMaxLength=QE;de.TYPED_ARRAY_SUPPORT=f3e();!de.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f3e(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(de.prototype,"parent",{enumerable:!0,get:function(){if(!!de.isBuffer(this))return this.buffer}});Object.defineProperty(de.prototype,"offset",{enumerable:!0,get:function(){if(!!de.isBuffer(this))return this.byteOffset}});function jc(t){if(t>QE)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,de.prototype),e}function de(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return QO(t)}return QJ(t,e,r)}de.poolSize=8192;function QJ(t,e,r){if(typeof t=="string")return d3e(t,e);if(ArrayBuffer.isView(t))return $O(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Hc(t,ArrayBuffer)||t&&Hc(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Hc(t,SharedArrayBuffer)||t&&Hc(t.buffer,SharedArrayBuffer)))return JJ(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return de.from(n,e,r);var i=l3e(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return de.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}de.from=function(t,e,r){return QJ(t,e,r)};Object.setPrototypeOf(de.prototype,Uint8Array.prototype);Object.setPrototypeOf(de,Uint8Array);function e$(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function c3e(t,e,r){return e$(t),t<=0?jc(t):e!==void 0?typeof r=="string"?jc(t).fill(e,r):jc(t).fill(e):jc(t)}de.alloc=function(t,e,r){return c3e(t,e,r)};function QO(t){return e$(t),jc(t<0?0:eD(t)|0)}de.allocUnsafe=function(t){return QO(t)};de.allocUnsafeSlow=function(t){return QO(t)};function d3e(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!de.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=t$(t,e)|0,n=jc(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function $O(t){for(var e=t.length<0?0:eD(t.length)|0,r=jc(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function JJ(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,de.prototype),n}function l3e(t){if(de.isBuffer(t)){var e=eD(t.length)|0,r=jc(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||tD(t.length)?jc(0):$O(t);if(t.type==="Buffer"&&Array.isArray(t.data))return $O(t.data)}function eD(t){if(t>=QE)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+QE.toString(16)+" bytes");return t|0}function h3e(t){return+t!=t&&(t=0),de.alloc(+t)}de.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==de.prototype};de.compare=function(e,r){if(Hc(e,Uint8Array)&&(e=de.from(e,e.offset,e.byteLength)),Hc(r,Uint8Array)&&(r=de.from(r,r.offset,r.byteLength)),!de.isBuffer(e)||!de.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,a=0,o=Math.min(n,i);a<o;++a)if(e[a]!==r[a]){n=e[a],i=r[a];break}return n<i?-1:i<n?1:0};de.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};de.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return de.alloc(0);var n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;var i=de.allocUnsafe(r),a=0;for(n=0;n<e.length;++n){var o=e[n];if(Hc(o,Uint8Array)&&(o=de.from(o)),!de.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,a),a+=o.length}return i};function t$(t,e){if(de.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Hc(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ZO(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return u$(t).length;default:if(i)return n?-1:ZO(t).length;e=(""+e).toLowerCase(),i=!0}}de.byteLength=t$;function p3e(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return S3e(this,e,r);case"utf8":case"utf-8":return i$(this,e,r);case"ascii":return w3e(this,e,r);case"latin1":case"binary":return E3e(this,e,r);case"base64":return x3e(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I3e(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}de.prototype._isBuffer=!0;function D1(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}de.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e;r+=2)D1(this,r,r+1);return this};de.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e;r+=4)D1(this,r,r+3),D1(this,r+1,r+2);return this};de.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e;r+=8)D1(this,r,r+7),D1(this,r+1,r+6),D1(this,r+2,r+5),D1(this,r+3,r+4);return this};de.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?i$(this,0,e):p3e.apply(this,arguments)};de.prototype.toLocaleString=de.prototype.toString;de.prototype.equals=function(e){if(!de.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:de.compare(this,e)===0};de.prototype.inspect=function(){var e="",r=Ny.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};XJ&&(de.prototype[XJ]=de.prototype.inspect);de.prototype.compare=function(e,r,n,i,a){if(Hc(e,Uint8Array)&&(e=de.from(e,e.offset,e.byteLength)),!de.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),a===void 0&&(a=this.length),r<0||n>e.length||i<0||a>this.length)throw new RangeError("out of range index");if(i>=a&&r>=n)return 0;if(i>=a)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,a>>>=0,this===e)return 0;for(var o=a-i,s=n-r,u=Math.min(o,s),f=this.slice(i,a),c=e.slice(r,n),l=0;l<u;++l)if(f[l]!==c[l]){o=f[l],s=c[l];break}return o<s?-1:s<o?1:0};function r$(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,tD(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=de.from(e,n)),de.isBuffer(e))return e.length===0?-1:$J(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):$J(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function $J(t,e,r,n,i){var a=1,o=t.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;a=2,o/=2,s/=2,r/=2}function u(y,_){return a===1?y[_]:y.readUInt16BE(_*a)}var f;if(i){var c=-1;for(f=r;f<o;f++)if(u(t,f)===u(e,c===-1?0:f-c)){if(c===-1&&(c=f),f-c+1===s)return c*a}else c!==-1&&(f-=f-c),c=-1}else for(r+s>o&&(r=o-s),f=r;f>=0;f--){for(var l=!0,g=0;g<s;g++)if(u(t,f+g)!==u(e,g)){l=!1;break}if(l)return f}return-1}de.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};de.prototype.indexOf=function(e,r,n){return r$(this,e,r,n,!0)};de.prototype.lastIndexOf=function(e,r,n){return r$(this,e,r,n,!1)};function g3e(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var a=e.length;n>a/2&&(n=a/2);for(var o=0;o<n;++o){var s=parseInt(e.substr(o*2,2),16);if(tD(s))return o;t[r+o]=s}return o}function y3e(t,e,r,n){return eS(ZO(e,t.length-r),t,r,n)}function n$(t,e,r,n){return eS(A3e(e),t,r,n)}function v3e(t,e,r,n){return n$(t,e,r,n)}function m3e(t,e,r,n){return eS(u$(e),t,r,n)}function _3e(t,e,r,n){return eS(O3e(e,t.length-r),t,r,n)}de.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var a=this.length-r;if((n===void 0||n>a)&&(n=a),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return g3e(this,e,r,n);case"utf8":case"utf-8":return y3e(this,e,r,n);case"ascii":return n$(this,e,r,n);case"latin1":case"binary":return v3e(this,e,r,n);case"base64":return m3e(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _3e(this,e,r,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}};de.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x3e(t,e,r){return e===0&&r===t.length?JO.fromByteArray(t):JO.fromByteArray(t.slice(e,r))}function i$(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a=t[i],o=null,s=a>239?4:a>223?3:a>191?2:1;if(i+s<=r){var u,f,c,l;switch(s){case 1:a<128&&(o=a);break;case 2:u=t[i+1],(u&192)===128&&(l=(a&31)<<6|u&63,l>127&&(o=l));break;case 3:u=t[i+1],f=t[i+2],(u&192)===128&&(f&192)===128&&(l=(a&15)<<12|(u&63)<<6|f&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:u=t[i+1],f=t[i+2],c=t[i+3],(u&192)===128&&(f&192)===128&&(c&192)===128&&(l=(a&15)<<18|(u&63)<<12|(f&63)<<6|c&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|o&1023),n.push(o),i+=s}return b3e(n)}var ZJ=4096;function b3e(t){var e=t.length;if(e<=ZJ)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=ZJ));return r}function w3e(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function E3e(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function S3e(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=D3e[t[a]];return i}function I3e(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+n[a+1]*256);return i}de.prototype.slice=function(e,r){var n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);var i=this.subarray(e,r);return Object.setPrototypeOf(i,de.prototype),i};function bn(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}de.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||bn(e,r,this.length);for(var i=this[e],a=1,o=0;++o<r&&(a*=256);)i+=this[e+o]*a;return i};de.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||bn(e,r,this.length);for(var i=this[e+--r],a=1;r>0&&(a*=256);)i+=this[e+--r]*a;return i};de.prototype.readUInt8=function(e,r){return e=e>>>0,r||bn(e,1,this.length),this[e]};de.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||bn(e,2,this.length),this[e]|this[e+1]<<8};de.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||bn(e,2,this.length),this[e]<<8|this[e+1]};de.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||bn(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};de.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||bn(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};de.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||bn(e,r,this.length);for(var i=this[e],a=1,o=0;++o<r&&(a*=256);)i+=this[e+o]*a;return a*=128,i>=a&&(i-=Math.pow(2,8*r)),i};de.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||bn(e,r,this.length);for(var i=r,a=1,o=this[e+--i];i>0&&(a*=256);)o+=this[e+--i]*a;return a*=128,o>=a&&(o-=Math.pow(2,8*r)),o};de.prototype.readInt8=function(e,r){return e=e>>>0,r||bn(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};de.prototype.readInt16LE=function(e,r){e=e>>>0,r||bn(e,2,this.length);var n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};de.prototype.readInt16BE=function(e,r){e=e>>>0,r||bn(e,2,this.length);var n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};de.prototype.readInt32LE=function(e,r){return e=e>>>0,r||bn(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};de.prototype.readInt32BE=function(e,r){return e=e>>>0,r||bn(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};de.prototype.readFloatLE=function(e,r){return e=e>>>0,r||bn(e,4,this.length),My.read(this,e,!0,23,4)};de.prototype.readFloatBE=function(e,r){return e=e>>>0,r||bn(e,4,this.length),My.read(this,e,!1,23,4)};de.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||bn(e,8,this.length),My.read(this,e,!0,52,8)};de.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||bn(e,8,this.length),My.read(this,e,!1,52,8)};function Ya(t,e,r,n,i,a){if(!de.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}de.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var a=Math.pow(2,8*n)-1;Ya(this,e,r,n,a,0)}var o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};de.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){var a=Math.pow(2,8*n)-1;Ya(this,e,r,n,a,0)}var o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};de.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Ya(this,e,r,1,255,0),this[r]=e&255,r+1};de.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Ya(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};de.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Ya(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};de.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Ya(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};de.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Ya(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};de.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var a=Math.pow(2,8*n-1);Ya(this,e,r,n,a-1,-a)}var o=0,s=1,u=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&u===0&&this[r+o-1]!==0&&(u=1),this[r+o]=(e/s>>0)-u&255;return r+n};de.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){var a=Math.pow(2,8*n-1);Ya(this,e,r,n,a-1,-a)}var o=n-1,s=1,u=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&u===0&&this[r+o+1]!==0&&(u=1),this[r+o]=(e/s>>0)-u&255;return r+n};de.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Ya(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};de.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Ya(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};de.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Ya(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};de.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Ya(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};de.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Ya(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function a$(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function o$(t,e,r,n,i){return e=+e,r=r>>>0,i||a$(t,e,r,4,34028234663852886e22,-34028234663852886e22),My.write(t,e,r,n,23,4),r+4}de.prototype.writeFloatLE=function(e,r,n){return o$(this,e,r,!0,n)};de.prototype.writeFloatBE=function(e,r,n){return o$(this,e,r,!1,n)};function s$(t,e,r,n,i){return e=+e,r=r>>>0,i||a$(t,e,r,8,17976931348623157e292,-17976931348623157e292),My.write(t,e,r,n,52,8),r+8}de.prototype.writeDoubleLE=function(e,r,n){return s$(this,e,r,!0,n)};de.prototype.writeDoubleBE=function(e,r,n){return s$(this,e,r,!1,n)};de.prototype.copy=function(e,r,n,i){if(!de.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);var a=i-n;if(this===e&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(r,n,i);else if(this===e&&n<r&&r<i)for(var o=a-1;o>=0;--o)e[o+r]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),r);return a};de.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!de.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){var a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);var o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{var s=de.isBuffer(e)?e:de.from(e,i),u=s.length;if(u===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%u]}return this};var T3e=/[^+/0-9A-Za-z-_]/g;function C3e(t){if(t=t.split("=")[0],t=t.trim().replace(T3e,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function ZO(t,e){e=e||1/0;for(var r,n=t.length,i=null,a=[],o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}else if(o+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return a}function A3e(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function O3e(t,e){for(var r,n,i,a=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function u$(t){return JO.toByteArray(C3e(t))}function eS(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Hc(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function tD(t){return t!==t}var D3e=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,i=0;i<16;++i)e[n+i]=t[r]+t[i];return e}()});var qy=E(Ys=>{"use strict";h();p();var R3e=Ys&&Ys.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),P3e=Ys&&Ys.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),B3e=Ys&&Ys.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&R3e(e,t,r);return P3e(e,t),e};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.BinarySerializer=Ys.BytesList=void 0;var f$=B3e(ro()),tS=gr(),$2=class{constructor(){this.bytesArray=[]}getLength(){return tS.Buffer.concat(this.bytesArray).byteLength}put(e){let r=tS.Buffer.from(e);return this.bytesArray.push(r),this}toBytesSink(e){e.put(this.toBytes())}toBytes(){return tS.Buffer.concat(this.bytesArray)}toHex(){return this.toBytes().toString("hex").toUpperCase()}};Ys.BytesList=$2;var rD=class{constructor(e){this.sink=new $2,this.sink=e}write(e){e.toBytesSink(this.sink)}put(e){this.sink.put(e)}writeType(e,r){this.write(e.from(r))}writeBytesList(e){e.toBytesSink(this.sink)}encodeVariableLength(e){let r=tS.Buffer.alloc(3);if(e<=192)return r[0]=e,r.slice(0,1);if(e<=12480)return e-=193,r[0]=193+(e>>>8),r[1]=e&255,r.slice(0,2);if(e<=918744)return e-=12481,r[0]=241+(e>>>16),r[1]=e>>8&255,r[2]=e&255,r.slice(0,3);throw new Error("Overflow error")}writeFieldAndValue(e,r,n=!1){let i=e.associatedType.from(r);f$.ok(i.toBytesSink!==void 0),f$.ok(e.name!==void 0),this.sink.put(e.header),e.isVariableLengthEncoded?this.writeLengthEncoded(i,n):i.toBytesSink(this.sink)}writeLengthEncoded(e,r=!1){let n=new $2;r||e.toBytesSink(n),this.put(this.encodeVariableLength(n.getLength())),this.writeBytesList(n)}};Ys.BinarySerializer=rD});var Nf=E(Fy=>{"use strict";h();p();Object.defineProperty(Fy,"__esModule",{value:!0});Fy.Comparable=Fy.SerializedType=void 0;var M3e=qy(),c$=gr(),rS=class{constructor(e){this.bytes=c$.Buffer.alloc(0),this.bytes=e??c$.Buffer.alloc(0)}static fromParser(e,r){throw new Error("fromParser not implemented")}static from(e){throw new Error("from not implemented")}toBytesSink(e){e.put(this.bytes)}toHex(){return this.toBytes().toString("hex").toUpperCase()}toBytes(){if(this.bytes)return this.bytes;let e=new M3e.BytesList;return this.toBytesSink(e),e.toBytes()}toJSON(){return this.toHex()}toString(){return this.toHex()}};Fy.SerializedType=rS;var nD=class extends rS{lt(e){return this.compareTo(e)<0}eq(e){return this.compareTo(e)===0}gt(e){return this.compareTo(e)>0}gte(e){return this.compareTo(e)>-1}lte(e){return this.compareTo(e)<1}compareTo(e){throw new Error(`cannot compare ${this.toString()} and ${e.toString()}`)}};Fy.Comparable=nD});var ky=E(Or=>{"use strict";h();p();var N3e=Or&&Or.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q3e=Or&&Or.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),F3e=Or&&Or.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N3e(e,t,r);return q3e(e,t),e};Object.defineProperty(Or,"__esModule",{value:!0});Or.TransactionType=Or.TransactionResult=Or.LedgerEntryType=Or.Type=Or.Field=Or.Bytes=Or.TRANSACTION_TYPES=void 0;var R1=F3e(WJ()),L3e=Nf(),d$=gr();Or.TRANSACTION_TYPES=Object.entries(R1.TRANSACTION_TYPES).filter(([t,e])=>e>=0).map(([t,e])=>t);var l$=2,U3e=2,k3e=2,j3e=1;function H3e(t,e){let r=[];return t<16?e<16?r.push(t<<4|e):r.push(t<<4,e):e<16?r.push(e,t):r.push(0,t,e),d$.Buffer.from(r)}var Ly=class{constructor(e,r,n){this.name=e,this.ordinal=r,this.ordinalWidth=n,this.bytes=d$.Buffer.alloc(n);for(let i=0;i<n;i++)this.bytes[n-i-1]=r>>>i*8&255}toJSON(){return this.name}toBytesSink(e){e.put(this.bytes)}toBytes(){return this.bytes}};Or.Bytes=Ly;var Uy=class{constructor(e,r){this.ordinalWidth=r,Object.entries(e).forEach(([n,i])=>{this[n]=new Ly(n,i,r),this[i.toString()]=this[n]})}from(e){return e instanceof Ly?e:this[e]}fromParser(e){return this.from(e.readUIntN(this.ordinalWidth).toString())}};function K3e([t,e]){let r=R1.TYPES[e.type],n=H3e(r,e.nth);return{name:t,nth:e.nth,isVariableLengthEncoded:e.isVLEncoded,isSerialized:e.isSerialized,isSigningField:e.isSigningField,ordinal:r<<16|e.nth,type:new Ly(e.type,r,l$),header:n,associatedType:L3e.SerializedType}}var iD=class{constructor(e){e.forEach(([r,n])=>{this[r]=K3e([r,n]),this[this[r].ordinal.toString()]=this[r]})}fromString(e){return this[e]}},V3e=new Uy(R1.TYPES,l$);Or.Type=V3e;var G3e=new Uy(R1.LEDGER_ENTRY_TYPES,U3e);Or.LedgerEntryType=G3e;var z3e=new Uy(R1.TRANSACTION_TYPES,k3e);Or.TransactionType=z3e;var Y3e=new Uy(R1.TRANSACTION_RESULTS,j3e);Or.TransactionResult=Y3e;var W3e=new iD(R1.FIELDS);Or.Field=W3e});var p$=E((vft,h$)=>{"use strict";h();p();var nS=C3().Buffer;function X3e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),a=i.charCodeAt(0);if(e[a]!==255)throw new TypeError(i+" is ambiguous");e[a]=n}var o=t.length,s=t.charAt(0),u=Math.log(o)/Math.log(256),f=Math.log(256)/Math.log(o);function c(y){if((Array.isArray(y)||y instanceof Uint8Array)&&(y=nS.from(y)),!nS.isBuffer(y))throw new TypeError("Expected Buffer");if(y.length===0)return"";for(var _=0,w=0,S=0,I=y.length;S!==I&&y[S]===0;)S++,_++;for(var O=(I-S)*f+1>>>0,P=new Uint8Array(O);S!==I;){for(var q=y[S],C=0,d=O-1;(q!==0||C<w)&&d!==-1;d--,C++)q+=256*P[d]>>>0,P[d]=q%o>>>0,q=q/o>>>0;if(q!==0)throw new Error("Non-zero carry");w=C,S++}for(var m=O-w;m!==O&&P[m]===0;)m++;for(var x=s.repeat(_);m<O;++m)x+=t.charAt(P[m]);return x}function l(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return nS.alloc(0);for(var _=0,w=0,S=0;y[_]===s;)w++,_++;for(var I=(y.length-_)*u+1>>>0,O=new Uint8Array(I);y[_];){var P=e[y.charCodeAt(_)];if(P===255)return;for(var q=0,C=I-1;(P!==0||q<S)&&C!==-1;C--,q++)P+=o*O[C]>>>0,O[C]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");S=q,_++}for(var d=I-S;d!==I&&O[d]===0;)d++;var m=nS.allocUnsafe(w+(I-d));m.fill(0,0,w);for(var x=w;d!==I;)m[x++]=O[d++];return m}function g(y){var _=l(y);if(_)return _;throw new Error("Non-base"+o+" character")}return{encode:c,decodeUnsafe:l,decode:g}}h$.exports=X3e});var g$=E(jy=>{"use strict";h();p();Object.defineProperty(jy,"__esModule",{value:!0});jy.concatArgs=jy.seqEqual=void 0;function J3e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}jy.seqEqual=J3e;function $3e(t){return typeof t!="number"}function Z3e(...t){let e=[];return t.forEach(r=>{if($3e(r))for(let n of r)e.push(n);else e.push(r)}),e}jy.concatArgs=Z3e});var w$=E(Qt=>{"use strict";h();p();Object.defineProperty(Qt,"__esModule",{value:!0});Qt.isValidClassicAddress=Qt.decodeAccountPublic=Qt.encodeAccountPublic=Qt.encodeNodePublic=Qt.decodeNodePublic=Qt.decodeAddress=Qt.decodeAccountID=Qt.encodeAddress=Qt.encodeAccountID=Qt.decodeSeed=Qt.encodeSeed=Qt.codec=void 0;var Q3e=p$(),ebe=A3(),iS=g$(),aD=class{constructor(e){this._sha256=e.sha256,this._alphabet=e.alphabet,this._codec=Q3e(this._alphabet)}encode(e,r){let n=r.versions;return this._encodeVersioned(e,n,r.expectedLength)}decode(e,r){var n;let i=r.versions,a=r.versionTypes,o=this.decodeChecked(e);if(i.length>1&&!r.expectedLength)throw new Error("expectedLength is required because there are >= 2 possible versions");let s=typeof i[0]=="number"?1:i[0].length,u=(n=r.expectedLength)!==null&&n!==void 0?n:o.length-s,f=o.slice(0,-u),c=o.slice(-u);for(let l=0;l<i.length;l++){let g=Array.isArray(i[l])?i[l]:[i[l]];if((0,iS.seqEqual)(f,g))return{version:g,bytes:c,type:a?a[l]:null}}throw new Error("version_invalid: version bytes do not match any of the provided version(s)")}encodeChecked(e){let r=this._sha256(this._sha256(e)).slice(0,4);return this._encodeRaw(v.Buffer.from((0,iS.concatArgs)(e,r)))}decodeChecked(e){let r=this._decodeRaw(e);if(r.length<5)throw new Error("invalid_input_size: decoded data must have length >= 5");if(!this._verifyCheckSum(r))throw new Error("checksum_invalid");return r.slice(0,-4)}_encodeVersioned(e,r,n){if(n&&e.length!==n)throw new Error("unexpected_payload_length: bytes.length does not match expectedLength. Ensure that the bytes are a Buffer.");return this.encodeChecked(v.Buffer.from((0,iS.concatArgs)(r,e)))}_encodeRaw(e){return this._codec.encode(e)}_decodeRaw(e){return this._codec.decode(e)}_verifyCheckSum(e){let r=this._sha256(this._sha256(e.slice(0,-4))).slice(0,4),n=e.slice(-4);return(0,iS.seqEqual)(r,n)}},y$=0,v$=35,m$=33,_$=28,x$=[1,225,75],tbe={sha256(t){return ebe("sha256").update(v.Buffer.from(t)).digest()},alphabet:"rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"},Kc=new aD(tbe);Qt.codec=Kc;function rbe(t,e){if(t.length!==16)throw new Error("entropy must have length 16");let r={expectedLength:16,versions:e==="ed25519"?x$:[m$]};return Kc.encode(t,r)}Qt.encodeSeed=rbe;function nbe(t,e={versionTypes:["ed25519","secp256k1"],versions:[x$,m$],expectedLength:16}){return Kc.decode(t,e)}Qt.decodeSeed=nbe;function b$(t){let e={versions:[y$],expectedLength:20};return Kc.encode(t,e)}Qt.encodeAccountID=b$;Qt.encodeAddress=b$;function oD(t){let e={versions:[y$],expectedLength:20};return Kc.decode(t,e).bytes}Qt.decodeAccountID=oD;Qt.decodeAddress=oD;function ibe(t){let e={versions:[_$],expectedLength:33};return Kc.decode(t,e).bytes}Qt.decodeNodePublic=ibe;function abe(t){let e={versions:[_$],expectedLength:33};return Kc.encode(t,e)}Qt.encodeNodePublic=abe;function obe(t){let e={versions:[v$],expectedLength:33};return Kc.encode(t,e)}Qt.encodeAccountPublic=obe;function sbe(t){let e={versions:[v$],expectedLength:33};return Kc.decode(t,e).bytes}Qt.decodeAccountPublic=sbe;function ube(t){try{oD(t)}catch{return!1}return!0}Qt.isValidClassicAddress=ube});var uD=E(Ye=>{"use strict";h();p();var fbe=Ye&&Ye.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cbe=Ye&&Ye.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dbe=Ye&&Ye.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&fbe(e,t,r);return cbe(e,t),e};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.isValidXAddress=Ye.decodeXAddress=Ye.xAddressToClassicAddress=Ye.encodeXAddress=Ye.classicAddressToXAddress=Ye.isValidClassicAddress=Ye.decodeAccountPublic=Ye.encodeAccountPublic=Ye.decodeNodePublic=Ye.encodeNodePublic=Ye.decodeAccountID=Ye.encodeAccountID=Ye.decodeSeed=Ye.encodeSeed=Ye.codec=void 0;var E$=dbe(ro()),Wa=w$();Object.defineProperty(Ye,"codec",{enumerable:!0,get:function(){return Wa.codec}});Object.defineProperty(Ye,"encodeSeed",{enumerable:!0,get:function(){return Wa.encodeSeed}});Object.defineProperty(Ye,"decodeSeed",{enumerable:!0,get:function(){return Wa.decodeSeed}});Object.defineProperty(Ye,"encodeAccountID",{enumerable:!0,get:function(){return Wa.encodeAccountID}});Object.defineProperty(Ye,"decodeAccountID",{enumerable:!0,get:function(){return Wa.decodeAccountID}});Object.defineProperty(Ye,"encodeNodePublic",{enumerable:!0,get:function(){return Wa.encodeNodePublic}});Object.defineProperty(Ye,"decodeNodePublic",{enumerable:!0,get:function(){return Wa.decodeNodePublic}});Object.defineProperty(Ye,"encodeAccountPublic",{enumerable:!0,get:function(){return Wa.encodeAccountPublic}});Object.defineProperty(Ye,"decodeAccountPublic",{enumerable:!0,get:function(){return Wa.decodeAccountPublic}});Object.defineProperty(Ye,"isValidClassicAddress",{enumerable:!0,get:function(){return Wa.isValidClassicAddress}});var aS={main:v.Buffer.from([5,68]),test:v.Buffer.from([4,147])},lbe=4294967295;function hbe(t,e,r){let n=(0,Wa.decodeAccountID)(t);return S$(n,e,r)}Ye.classicAddressToXAddress=hbe;function S$(t,e,r){if(t.length!==20)throw new Error("Account ID must be 20 bytes");if(e>lbe)throw new Error("Invalid tag");let n=e||0,i=e===!1||e==null?0:1,a=v.Buffer.concat([r?aS.test:aS.main,t,v.Buffer.from([i,n&255,n>>8&255,n>>16&255,n>>24&255,0,0,0,0])]);return Wa.codec.encodeChecked(a)}Ye.encodeXAddress=S$;function pbe(t){let{accountId:e,tag:r,test:n}=sD(t);return{classicAddress:(0,Wa.encodeAccountID)(e),tag:r,test:n}}Ye.xAddressToClassicAddress=pbe;function sD(t){let e=Wa.codec.decodeChecked(t),r=gbe(e),n=e.slice(2,22),i=ybe(e);return{accountId:n,tag:i,test:r}}Ye.decodeXAddress=sD;function gbe(t){let e=t.slice(0,2);if(aS.main.equals(e))return!1;if(aS.test.equals(e))return!0;throw new Error("Invalid X-address: bad prefix")}function ybe(t){let e=t[22];if(e>=2)throw new Error("Unsupported X-address");return e===1?t[23]+t[24]*256+t[25]*65536+t[26]*16777216:(E$.strictEqual(e,0,"flag must be zero to indicate no tag"),E$.ok(v.Buffer.from("0000000000000000","hex").equals(t.slice(23,23+8)),"remaining bytes must be zero"),!1)}function vbe(t){try{sD(t)}catch{return!1}return!0}Ye.isValidXAddress=vbe});var sS=E(oS=>{"use strict";h();p();Object.defineProperty(oS,"__esModule",{value:!0});oS.Hash=void 0;var mbe=Nf(),_be=gr(),fD=class extends mbe.Comparable{constructor(e){if(super(e),this.bytes.byteLength!==this.constructor.width)throw new Error(`Invalid Hash length ${this.bytes.byteLength}`)}static from(e){if(e instanceof this)return e;if(typeof e=="string")return new this(_be.Buffer.from(e,"hex"));throw new Error("Cannot construct Hash from given value")}static fromParser(e,r){return new this(e.read(r??this.width))}compareTo(e){return this.bytes.compare(this.constructor.from(e).bytes)}toString(){return this.toHex()}nibblet(e){let r=e>0?e/2|0:0,n=this.bytes[r];return e%2===0?n=(n&240)>>>4:n=n&15,n}};oS.Hash=fD});var fS=E(uS=>{"use strict";h();p();Object.defineProperty(uS,"__esModule",{value:!0});uS.Hash160=void 0;var xbe=sS(),bbe=gr(),qf=class extends xbe.Hash{constructor(e){e&&e.byteLength===0&&(e=qf.ZERO_160.bytes),super(e??qf.ZERO_160.bytes)}};uS.Hash160=qf;qf.width=20;qf.ZERO_160=new qf(bbe.Buffer.alloc(qf.width))});var lS=E(dS=>{"use strict";h();p();Object.defineProperty(dS,"__esModule",{value:!0});dS.AccountID=void 0;var cS=uD(),wbe=fS(),cD=gr(),Ebe=/^[A-F0-9]{40}$/,Gu=class extends wbe.Hash160{constructor(e){super(e??Gu.defaultAccountID.bytes)}static from(e){if(e instanceof Gu)return e;if(typeof e=="string")return e===""?new Gu:Ebe.test(e)?new Gu(cD.Buffer.from(e,"hex")):this.fromBase58(e);throw new Error("Cannot construct AccountID from value given")}static fromBase58(e){if((0,cS.isValidXAddress)(e)){let r=(0,cS.xAddressToClassicAddress)(e);if(r.tag!==!1)throw new Error("Only allowed to have tag on Account or Destination");e=r.classicAddress}return new Gu(cD.Buffer.from((0,cS.decodeAccountID)(e)))}toJSON(){return this.toBase58()}toBase58(){return(0,cS.encodeAccountID)(this.bytes)}};dS.AccountID=Gu;Gu.defaultAccountID=new Gu(cD.Buffer.alloc(20))});var P1=E(Ff=>{"use strict";h();p();var Sbe=Ff&&Ff.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ibe=Ff&&Ff.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tbe=Ff&&Ff.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Sbe(e,t,r);return Ibe(e,t),e};Object.defineProperty(Ff,"__esModule",{value:!0});Ff.BinaryParser=void 0;var hS=Tbe(ro()),Cbe=ky(),Abe=gr(),dD=class{constructor(e){this.bytes=Abe.Buffer.from(e,"hex")}peek(){return hS.ok(this.bytes.byteLength!==0),this.bytes[0]}skip(e){hS.ok(e<=this.bytes.byteLength),this.bytes=this.bytes.slice(e)}read(e){hS.ok(e<=this.bytes.byteLength);let r=this.bytes.slice(0,e);return this.skip(e),r}readUIntN(e){return hS.ok(0<e&&e<=4,"invalid n"),this.read(e).reduce((r,n)=>r<<8|n)>>>0}readUInt8(){return this.readUIntN(1)}readUInt16(){return this.readUIntN(2)}readUInt32(){return this.readUIntN(4)}size(){return this.bytes.byteLength}end(e){let r=this.bytes.byteLength;return r===0||e!==void 0&&r<=e}readVariableLength(){return this.read(this.readVariableLengthLength())}readVariableLengthLength(){let e=this.readUInt8();if(e<=192)return e;if(e<=240){let r=this.readUInt8();return 193+(e-193)*256+r}else if(e<=254){let r=this.readUInt8(),n=this.readUInt8();return 12481+(e-241)*65536+r*256+n}throw new Error("Invalid variable length indicator")}readFieldOrdinal(){let e=this.readUInt8(),r=e&15;if(e>>=4,e===0&&(e=this.readUInt8(),e===0||e<16))throw new Error("Cannot read FieldOrdinal, type_code out of range");if(r===0&&(r=this.readUInt8(),r===0||r<16))throw new Error("Cannot read FieldOrdinal, field_code out of range");return e<<16|r}readField(){return Cbe.Field.fromString(this.readFieldOrdinal().toString())}readType(e){return e.fromParser(this)}typeForField(e){return e.associatedType}readFieldValue(e){let r=this.typeForField(e);if(!r)throw new Error(`unsupported: (${e.name}, ${e.type.name})`);let n=e.isVariableLengthEncoded?this.readVariableLengthLength():void 0,i=r.fromParser(this,n);if(i===void 0)throw new Error(`fromParser for (${e.name}, ${e.type.name}) -> undefined `);return i}readFieldAndValue(){let e=this.readField();return[e,this.readFieldValue(e)]}};Ff.BinaryParser=dD});var yS=E(gS=>{"use strict";h();p();Object.defineProperty(gS,"__esModule",{value:!0});gS.Currency=void 0;var Obe=fS(),pS=gr(),Dbe=/^0{40}$/,Rbe=/^[A-Z0-9a-z?!@#$%^&*(){}[\]|]{3}$/,Pbe=/^[A-F0-9]{40}$/,Bbe=/^0{24}[\x00-\x7F]{6}0{10}$/;function Mbe(t){let e=pS.Buffer.alloc(20);if(t!=="XRP"){let r=t.split("").map(n=>n.charCodeAt(0));e.set(r,12)}return e}function Nbe(t){return Rbe.test(t)}function qbe(t){let e=t.toString();return e==="XRP"?null:Nbe(e)?e:null}function Fbe(t){return Pbe.test(t)}function Lbe(t){return t.length===3||Fbe(t)}function Ube(t){return t.byteLength===20}function kbe(t){return t instanceof pS.Buffer?Ube(t):Lbe(t)}function jbe(t){if(!kbe(t))throw new Error(`Unsupported Currency representation: ${t}`);return t.length===3?Mbe(t):pS.Buffer.from(t,"hex")}var Vc=class extends Obe.Hash160{constructor(e){super(e??Vc.XRP.bytes);let r=this.bytes.toString("hex");Dbe.test(r)?this._iso="XRP":Bbe.test(r)?this._iso=qbe(this.bytes.slice(12,15)):this._iso=null}iso(){return this._iso}static from(e){if(e instanceof Vc)return e;if(typeof e=="string")return new Vc(jbe(e));throw new Error("Cannot construct Currency from value given")}toJSON(){let e=this.iso();return e!==null?e:this.bytes.toString("hex").toUpperCase()}};gS.Currency=Vc;Vc.XRP=new Vc(pS.Buffer.alloc(20))});var B1=E((Vft,vS)=>{h();p();var on=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=g(n),a="0123456789abcdefghijklmnopqrstuvwxyz",o=typeof BigInt=="function";function s(B,F,z,X){return typeof B>"u"?s[0]:typeof F<"u"?+F==10&&!z?me(B):wp(B,F,z,X):me(B)}function u(B,F){this.value=B,this.sign=F,this.isSmall=!1}u.prototype=Object.create(s.prototype);function f(B){this.value=B,this.sign=B<0,this.isSmall=!0}f.prototype=Object.create(s.prototype);function c(B){this.value=B}c.prototype=Object.create(s.prototype);function l(B){return-n<B&&B<n}function g(B){return B<1e7?[B]:B<1e14?[B%1e7,Math.floor(B/1e7)]:[B%1e7,Math.floor(B/1e7)%1e7,Math.floor(B/1e14)]}function y(B){_(B);var F=B.length;if(F<4&&Y(B,i)<0)switch(F){case 0:return 0;case 1:return B[0];case 2:return B[0]+B[1]*e;default:return B[0]+(B[1]+B[2]*e)*e}return B}function _(B){for(var F=B.length;B[--F]===0;);B.length=F+1}function w(B){for(var F=new Array(B),z=-1;++z<B;)F[z]=0;return F}function S(B){return B>0?Math.floor(B):Math.ceil(B)}function I(B,F){var z=B.length,X=F.length,Q=new Array(z),J=0,ce=e,re,ue;for(ue=0;ue<X;ue++)re=B[ue]+F[ue]+J,J=re>=ce?1:0,Q[ue]=re-J*ce;for(;ue<z;)re=B[ue]+J,J=re===ce?1:0,Q[ue++]=re-J*ce;return J>0&&Q.push(J),Q}function O(B,F){return B.length>=F.length?I(B,F):I(F,B)}function P(B,F){var z=B.length,X=new Array(z),Q=e,J,ce;for(ce=0;ce<z;ce++)J=B[ce]-Q+F,F=Math.floor(J/Q),X[ce]=J-F*Q,F+=1;for(;F>0;)X[ce++]=F%Q,F=Math.floor(F/Q);return X}u.prototype.add=function(B){var F=me(B);if(this.sign!==F.sign)return this.subtract(F.negate());var z=this.value,X=F.value;return F.isSmall?new u(P(z,Math.abs(X)),this.sign):new u(O(z,X),this.sign)},u.prototype.plus=u.prototype.add,f.prototype.add=function(B){var F=me(B),z=this.value;if(z<0!==F.sign)return this.subtract(F.negate());var X=F.value;if(F.isSmall){if(l(z+X))return new f(z+X);X=g(Math.abs(X))}return new u(P(X,Math.abs(z)),z<0)},f.prototype.plus=f.prototype.add,c.prototype.add=function(B){return new c(this.value+me(B).value)},c.prototype.plus=c.prototype.add;function q(B,F){var z=B.length,X=F.length,Q=new Array(z),J=0,ce=e,re,ue;for(re=0;re<X;re++)ue=B[re]-J-F[re],ue<0?(ue+=ce,J=1):J=0,Q[re]=ue;for(re=X;re<z;re++){if(ue=B[re]-J,ue<0)ue+=ce;else{Q[re++]=ue;break}Q[re]=ue}for(;re<z;re++)Q[re]=B[re];return _(Q),Q}function C(B,F,z){var X;return Y(B,F)>=0?X=q(B,F):(X=q(F,B),z=!z),X=y(X),typeof X=="number"?(z&&(X=-X),new f(X)):new u(X,z)}function d(B,F,z){var X=B.length,Q=new Array(X),J=-F,ce=e,re,ue;for(re=0;re<X;re++)ue=B[re]+J,J=Math.floor(ue/ce),ue%=ce,Q[re]=ue<0?ue+ce:ue;return Q=y(Q),typeof Q=="number"?(z&&(Q=-Q),new f(Q)):new u(Q,z)}u.prototype.subtract=function(B){var F=me(B);if(this.sign!==F.sign)return this.add(F.negate());var z=this.value,X=F.value;return F.isSmall?d(z,Math.abs(X),this.sign):C(z,X,this.sign)},u.prototype.minus=u.prototype.subtract,f.prototype.subtract=function(B){var F=me(B),z=this.value;if(z<0!==F.sign)return this.add(F.negate());var X=F.value;return F.isSmall?new f(z-X):d(X,Math.abs(z),z>=0)},f.prototype.minus=f.prototype.subtract,c.prototype.subtract=function(B){return new c(this.value-me(B).value)},c.prototype.minus=c.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},f.prototype.negate=function(){var B=this.sign,F=new f(-this.value);return F.sign=!B,F},c.prototype.negate=function(){return new c(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},f.prototype.abs=function(){return new f(Math.abs(this.value))},c.prototype.abs=function(){return new c(this.value>=0?this.value:-this.value)};function m(B,F){var z=B.length,X=F.length,Q=z+X,J=w(Q),ce=e,re,ue,Re,Ce,_e;for(Re=0;Re<z;++Re){Ce=B[Re];for(var Ze=0;Ze<X;++Ze)_e=F[Ze],re=Ce*_e+J[Re+Ze],ue=Math.floor(re/ce),J[Re+Ze]=re-ue*ce,J[Re+Ze+1]+=ue}return _(J),J}function x(B,F){var z=B.length,X=new Array(z),Q=e,J=0,ce,re;for(re=0;re<z;re++)ce=B[re]*F+J,J=Math.floor(ce/Q),X[re]=ce-J*Q;for(;J>0;)X[re++]=J%Q,J=Math.floor(J/Q);return X}function D(B,F){for(var z=[];F-- >0;)z.push(0);return z.concat(B)}function M(B,F){var z=Math.max(B.length,F.length);if(z<=30)return m(B,F);z=Math.ceil(z/2);var X=B.slice(z),Q=B.slice(0,z),J=F.slice(z),ce=F.slice(0,z),re=M(Q,ce),ue=M(X,J),Re=M(O(Q,X),O(ce,J)),Ce=O(O(re,D(q(q(Re,re),ue),z)),D(ue,2*z));return _(Ce),Ce}function oe(B,F){return-.012*B-.012*F+15e-6*B*F>0}u.prototype.multiply=function(B){var F=me(B),z=this.value,X=F.value,Q=this.sign!==F.sign,J;if(F.isSmall){if(X===0)return s[0];if(X===1)return this;if(X===-1)return this.negate();if(J=Math.abs(X),J<e)return new u(x(z,J),Q);X=g(J)}return oe(z.length,X.length)?new u(M(z,X),Q):new u(m(z,X),Q)},u.prototype.times=u.prototype.multiply;function L(B,F,z){return B<e?new u(x(F,B),z):new u(m(F,g(B)),z)}f.prototype._multiplyBySmall=function(B){return l(B.value*this.value)?new f(B.value*this.value):L(Math.abs(B.value),g(Math.abs(this.value)),this.sign!==B.sign)},u.prototype._multiplyBySmall=function(B){return B.value===0?s[0]:B.value===1?this:B.value===-1?this.negate():L(Math.abs(B.value),this.value,this.sign!==B.sign)},f.prototype.multiply=function(B){return me(B)._multiplyBySmall(this)},f.prototype.times=f.prototype.multiply,c.prototype.multiply=function(B){return new c(this.value*me(B).value)},c.prototype.times=c.prototype.multiply;function b(B){var F=B.length,z=w(F+F),X=e,Q,J,ce,re,ue;for(ce=0;ce<F;ce++){re=B[ce],J=0-re*re;for(var Re=ce;Re<F;Re++)ue=B[Re],Q=2*(re*ue)+z[ce+Re]+J,J=Math.floor(Q/X),z[ce+Re]=Q-J*X;z[ce+F]=J}return _(z),z}u.prototype.square=function(){return new u(b(this.value),!1)},f.prototype.square=function(){var B=this.value*this.value;return l(B)?new f(B):new u(b(g(Math.abs(this.value))),!1)},c.prototype.square=function(B){return new c(this.value*this.value)};function A(B,F){var z=B.length,X=F.length,Q=e,J=w(F.length),ce=F[X-1],re=Math.ceil(Q/(2*ce)),ue=x(B,re),Re=x(F,re),Ce,_e,Ze,ke,We,au,zt;for(ue.length<=z&&ue.push(0),Re.push(0),ce=Re[X-1],_e=z-X;_e>=0;_e--){for(Ce=Q-1,ue[_e+X]!==ce&&(Ce=Math.floor((ue[_e+X]*Q+ue[_e+X-1])/ce)),Ze=0,ke=0,au=Re.length,We=0;We<au;We++)Ze+=Ce*Re[We],zt=Math.floor(Ze/Q),ke+=ue[_e+We]-(Ze-zt*Q),Ze=zt,ke<0?(ue[_e+We]=ke+Q,ke=-1):(ue[_e+We]=ke,ke=0);for(;ke!==0;){for(Ce-=1,Ze=0,We=0;We<au;We++)Ze+=ue[_e+We]-Q+Re[We],Ze<0?(ue[_e+We]=Ze+Q,Ze=0):(ue[_e+We]=Ze,Ze=1);ke+=Ze}J[_e]=Ce}return ue=U(ue,re)[0],[y(J),y(ue)]}function R(B,F){for(var z=B.length,X=F.length,Q=[],J=[],ce=e,re,ue,Re,Ce,_e;z;){if(J.unshift(B[--z]),_(J),Y(J,F)<0){Q.push(0);continue}ue=J.length,Re=J[ue-1]*ce+J[ue-2],Ce=F[X-1]*ce+F[X-2],ue>X&&(Re=(Re+1)*ce),re=Math.ceil(Re/Ce);do{if(_e=x(F,re),Y(_e,J)<=0)break;re--}while(re);Q.push(re),J=q(J,_e)}return Q.reverse(),[y(Q),y(J)]}function U(B,F){var z=B.length,X=w(z),Q=e,J,ce,re,ue;for(re=0,J=z-1;J>=0;--J)ue=re*Q+B[J],ce=S(ue/F),re=ue-ce*F,X[J]=ce|0;return[X,re|0]}function V(B,F){var z,X=me(F);if(o)return[new c(B.value/X.value),new c(B.value%X.value)];var Q=B.value,J=X.value,ce;if(J===0)throw new Error("Cannot divide by zero");if(B.isSmall)return X.isSmall?[new f(S(Q/J)),new f(Q%J)]:[s[0],B];if(X.isSmall){if(J===1)return[B,s[0]];if(J==-1)return[B.negate(),s[0]];var re=Math.abs(J);if(re<e){z=U(Q,re),ce=y(z[0]);var ue=z[1];return B.sign&&(ue=-ue),typeof ce=="number"?(B.sign!==X.sign&&(ce=-ce),[new f(ce),new f(ue)]):[new u(ce,B.sign!==X.sign),new f(ue)]}J=g(re)}var Re=Y(Q,J);if(Re===-1)return[s[0],B];if(Re===0)return[s[B.sign===X.sign?1:-1],s[0]];Q.length+J.length<=200?z=A(Q,J):z=R(Q,J),ce=z[0];var Ce=B.sign!==X.sign,_e=z[1],Ze=B.sign;return typeof ce=="number"?(Ce&&(ce=-ce),ce=new f(ce)):ce=new u(ce,Ce),typeof _e=="number"?(Ze&&(_e=-_e),_e=new f(_e)):_e=new u(_e,Ze),[ce,_e]}u.prototype.divmod=function(B){var F=V(this,B);return{quotient:F[0],remainder:F[1]}},c.prototype.divmod=f.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(B){return V(this,B)[0]},c.prototype.over=c.prototype.divide=function(B){return new c(this.value/me(B).value)},f.prototype.over=f.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(B){return V(this,B)[1]},c.prototype.mod=c.prototype.remainder=function(B){return new c(this.value%me(B).value)},f.prototype.remainder=f.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(B){var F=me(B),z=this.value,X=F.value,Q,J,ce;if(X===0)return s[1];if(z===0)return s[0];if(z===1)return s[1];if(z===-1)return F.isEven()?s[1]:s[-1];if(F.sign)return s[0];if(!F.isSmall)throw new Error("The exponent "+F.toString()+" is too large.");if(this.isSmall&&l(Q=Math.pow(z,X)))return new f(S(Q));for(J=this,ce=s[1];X&!0&&(ce=ce.times(J),--X),X!==0;)X/=2,J=J.square();return ce},f.prototype.pow=u.prototype.pow,c.prototype.pow=function(B){var F=me(B),z=this.value,X=F.value,Q=BigInt(0),J=BigInt(1),ce=BigInt(2);if(X===Q)return s[1];if(z===Q)return s[0];if(z===J)return s[1];if(z===BigInt(-1))return F.isEven()?s[1]:s[-1];if(F.isNegative())return new c(Q);for(var re=this,ue=s[1];(X&J)===J&&(ue=ue.times(re),--X),X!==Q;)X/=ce,re=re.square();return ue},u.prototype.modPow=function(B,F){if(B=me(B),F=me(F),F.isZero())throw new Error("Cannot take modPow with modulus 0");var z=s[1],X=this.mod(F);for(B.isNegative()&&(B=B.multiply(s[-1]),X=X.modInv(F));B.isPositive();){if(X.isZero())return s[0];B.isOdd()&&(z=z.multiply(X).mod(F)),B=B.divide(2),X=X.square().mod(F)}return z},c.prototype.modPow=f.prototype.modPow=u.prototype.modPow;function Y(B,F){if(B.length!==F.length)return B.length>F.length?1:-1;for(var z=B.length-1;z>=0;z--)if(B[z]!==F[z])return B[z]>F[z]?1:-1;return 0}u.prototype.compareAbs=function(B){var F=me(B),z=this.value,X=F.value;return F.isSmall?1:Y(z,X)},f.prototype.compareAbs=function(B){var F=me(B),z=Math.abs(this.value),X=F.value;return F.isSmall?(X=Math.abs(X),z===X?0:z>X?1:-1):-1},c.prototype.compareAbs=function(B){var F=this.value,z=me(B).value;return F=F>=0?F:-F,z=z>=0?z:-z,F===z?0:F>z?1:-1},u.prototype.compare=function(B){if(B===1/0)return-1;if(B===-1/0)return 1;var F=me(B),z=this.value,X=F.value;return this.sign!==F.sign?F.sign?1:-1:F.isSmall?this.sign?-1:1:Y(z,X)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,f.prototype.compare=function(B){if(B===1/0)return-1;if(B===-1/0)return 1;var F=me(B),z=this.value,X=F.value;return F.isSmall?z==X?0:z>X?1:-1:z<0!==F.sign?z<0?-1:1:z<0?1:-1},f.prototype.compareTo=f.prototype.compare,c.prototype.compare=function(B){if(B===1/0)return-1;if(B===-1/0)return 1;var F=this.value,z=me(B).value;return F===z?0:F>z?1:-1},c.prototype.compareTo=c.prototype.compare,u.prototype.equals=function(B){return this.compare(B)===0},c.prototype.eq=c.prototype.equals=f.prototype.eq=f.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(B){return this.compare(B)!==0},c.prototype.neq=c.prototype.notEquals=f.prototype.neq=f.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(B){return this.compare(B)>0},c.prototype.gt=c.prototype.greater=f.prototype.gt=f.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(B){return this.compare(B)<0},c.prototype.lt=c.prototype.lesser=f.prototype.lt=f.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(B){return this.compare(B)>=0},c.prototype.geq=c.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(B){return this.compare(B)<=0},c.prototype.leq=c.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},f.prototype.isEven=function(){return(this.value&1)===0},c.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)===1},f.prototype.isOdd=function(){return(this.value&1)===1},c.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},f.prototype.isPositive=function(){return this.value>0},c.prototype.isPositive=f.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},f.prototype.isNegative=function(){return this.value<0},c.prototype.isNegative=f.prototype.isNegative,u.prototype.isUnit=function(){return!1},f.prototype.isUnit=function(){return Math.abs(this.value)===1},c.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},f.prototype.isZero=function(){return this.value===0},c.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(B){var F=me(B);return F.isZero()?!1:F.isUnit()?!0:F.compareAbs(2)===0?this.isEven():this.mod(F).isZero()},c.prototype.isDivisibleBy=f.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function $(B){var F=B.abs();if(F.isUnit())return!1;if(F.equals(2)||F.equals(3)||F.equals(5))return!0;if(F.isEven()||F.isDivisibleBy(3)||F.isDivisibleBy(5))return!1;if(F.lesser(49))return!0}function K(B,F){for(var z=B.prev(),X=z,Q=0,J,ce,re,ue;X.isEven();)X=X.divide(2),Q++;e:for(re=0;re<F.length;re++)if(!B.lesser(F[re])&&(ue=on(F[re]).modPow(X,B),!(ue.isUnit()||ue.equals(z)))){for(J=Q-1;J!=0;J--){if(ue=ue.square().mod(B),ue.isUnit())return!1;if(ue.equals(z))continue e}return!1}return!0}u.prototype.isPrime=function(B){var F=$(this);if(F!==t)return F;var z=this.abs(),X=z.bitLength();if(X<=64)return K(z,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var Q=Math.log(2)*X.toJSNumber(),J=Math.ceil(B===!0?2*Math.pow(Q,2):Q),ce=[],re=0;re<J;re++)ce.push(on(re+2));return K(z,ce)},c.prototype.isPrime=f.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(B,F){var z=$(this);if(z!==t)return z;for(var X=this.abs(),Q=B===t?5:B,J=[],ce=0;ce<Q;ce++)J.push(on.randBetween(2,X.minus(2),F));return K(X,J)},c.prototype.isProbablePrime=f.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(B){for(var F=on.zero,z=on.one,X=me(B),Q=this.abs(),J,ce,re;!Q.isZero();)J=X.divide(Q),ce=F,re=X,F=z,X=Q,z=ce.subtract(J.multiply(z)),Q=re.subtract(J.multiply(Q));if(!X.isUnit())throw new Error(this.toString()+" and "+B.toString()+" are not co-prime");return F.compare(0)===-1&&(F=F.add(B)),this.isNegative()?F.negate():F},c.prototype.modInv=f.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var B=this.value;return this.sign?d(B,1,this.sign):new u(P(B,1),this.sign)},f.prototype.next=function(){var B=this.value;return B+1<n?new f(B+1):new u(i,!1)},c.prototype.next=function(){return new c(this.value+BigInt(1))},u.prototype.prev=function(){var B=this.value;return this.sign?new u(P(B,1),!0):d(B,1,this.sign)},f.prototype.prev=function(){var B=this.value;return B-1>-n?new f(B-1):new u(i,!0)},c.prototype.prev=function(){return new c(this.value-BigInt(1))};for(var T=[1];2*T[T.length-1]<=e;)T.push(2*T[T.length-1]);var G=T.length,ye=T[G-1];function xe(B){return Math.abs(B)<=e}u.prototype.shiftLeft=function(B){var F=me(B).toJSNumber();if(!xe(F))throw new Error(String(F)+" is too large for shifting.");if(F<0)return this.shiftRight(-F);var z=this;if(z.isZero())return z;for(;F>=G;)z=z.multiply(ye),F-=G-1;return z.multiply(T[F])},c.prototype.shiftLeft=f.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(B){var F,z=me(B).toJSNumber();if(!xe(z))throw new Error(String(z)+" is too large for shifting.");if(z<0)return this.shiftLeft(-z);for(var X=this;z>=G;){if(X.isZero()||X.isNegative()&&X.isUnit())return X;F=V(X,ye),X=F[1].isNegative()?F[0].prev():F[0],z-=G-1}return F=V(X,T[z]),F[1].isNegative()?F[0].prev():F[0]},c.prototype.shiftRight=f.prototype.shiftRight=u.prototype.shiftRight;function ve(B,F,z){F=me(F);for(var X=B.isNegative(),Q=F.isNegative(),J=X?B.not():B,ce=Q?F.not():F,re=0,ue=0,Re=null,Ce=null,_e=[];!J.isZero()||!ce.isZero();)Re=V(J,ye),re=Re[1].toJSNumber(),X&&(re=ye-1-re),Ce=V(ce,ye),ue=Ce[1].toJSNumber(),Q&&(ue=ye-1-ue),J=Re[0],ce=Ce[0],_e.push(z(re,ue));for(var Ze=z(X?1:0,Q?1:0)!==0?on(-1):on(0),ke=_e.length-1;ke>=0;ke-=1)Ze=Ze.multiply(ye).add(on(_e[ke]));return Ze}u.prototype.not=function(){return this.negate().prev()},c.prototype.not=f.prototype.not=u.prototype.not,u.prototype.and=function(B){return ve(this,B,function(F,z){return F&z})},c.prototype.and=f.prototype.and=u.prototype.and,u.prototype.or=function(B){return ve(this,B,function(F,z){return F|z})},c.prototype.or=f.prototype.or=u.prototype.or,u.prototype.xor=function(B){return ve(this,B,function(F,z){return F^z})},c.prototype.xor=f.prototype.xor=u.prototype.xor;var qe=1<<30,Je=(e&-e)*(e&-e)|qe;function it(B){var F=B.value,z=typeof F=="number"?F|qe:typeof F=="bigint"?F|BigInt(qe):F[0]+F[1]*e|Je;return z&-z}function cn(B,F){if(F.compareTo(B)<=0){var z=cn(B,F.square(F)),X=z.p,Q=z.e,J=X.multiply(F);return J.compareTo(B)<=0?{p:J,e:Q*2+1}:{p:X,e:Q*2}}return{p:on(1),e:0}}u.prototype.bitLength=function(){var B=this;return B.compareTo(on(0))<0&&(B=B.negate().subtract(on(1))),B.compareTo(on(0))===0?on(0):on(cn(B,on(2)).e).add(on(1))},c.prototype.bitLength=f.prototype.bitLength=u.prototype.bitLength;function $e(B,F){return B=me(B),F=me(F),B.greater(F)?B:F}function pt(B,F){return B=me(B),F=me(F),B.lesser(F)?B:F}function Dl(B,F){if(B=me(B).abs(),F=me(F).abs(),B.equals(F))return B;if(B.isZero())return F;if(F.isZero())return B;for(var z=s[1],X,Q;B.isEven()&&F.isEven();)X=pt(it(B),it(F)),B=B.divide(X),F=F.divide(X),z=z.multiply(X);for(;B.isEven();)B=B.divide(it(B));do{for(;F.isEven();)F=F.divide(it(F));B.greater(F)&&(Q=F,F=B,B=Q),F=F.subtract(B)}while(!F.isZero());return z.isUnit()?B:B.multiply(z)}function fr(B,F){return B=me(B).abs(),F=me(F).abs(),B.divide(Dl(B,F)).multiply(F)}function cr(B,F,z){B=me(B),F=me(F);var X=z||Math.random,Q=pt(B,F),J=$e(B,F),ce=J.subtract(Q).add(1);if(ce.isSmall)return Q.add(Math.floor(X()*ce));for(var re=iu(ce,e).value,ue=[],Re=!0,Ce=0;Ce<re.length;Ce++){var _e=Re?re[Ce]+(Ce+1<re.length?re[Ce+1]/e:0):e,Ze=S(X()*_e);ue.push(Ze),Ze<re[Ce]&&(Re=!1)}return Q.add(s.fromArray(ue,e,!1))}var wp=function(B,F,z,X){z=z||a,B=String(B),X||(B=B.toLowerCase(),z=z.toLowerCase());var Q=B.length,J,ce=Math.abs(F),re={};for(J=0;J<z.length;J++)re[z[J]]=J;for(J=0;J<Q;J++){var ue=B[J];if(ue!=="-"&&ue in re&&re[ue]>=ce){if(ue==="1"&&ce===1)continue;throw new Error(ue+" is not a valid digit in base "+F+".")}}F=me(F);var Re=[],Ce=B[0]==="-";for(J=Ce?1:0;J<B.length;J++){var ue=B[J];if(ue in re)Re.push(me(re[ue]));else if(ue==="<"){var _e=J;do J++;while(B[J]!==">"&&J<B.length);Re.push(me(B.slice(_e+1,J)))}else throw new Error(ue+" is not a valid character")}return rr(Re,F,Ce)};function rr(B,F,z){var X=s[0],Q=s[1],J;for(J=B.length-1;J>=0;J--)X=X.add(B[J].times(Q)),Q=Q.times(F);return z?X.negate():X}function dr(B,F){return F=F||a,B<F.length?F[B]:"<"+B+">"}function iu(B,F){if(F=on(F),F.isZero()){if(B.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(F.equals(-1)){if(B.isZero())return{value:[0],isNegative:!1};if(B.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-B.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var z=Array.apply(null,Array(B.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return z.unshift([1]),{value:[].concat.apply([],z),isNegative:!1}}var X=!1;if(B.isNegative()&&F.isPositive()&&(X=!0,B=B.abs()),F.isUnit())return B.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(B.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:X};for(var Q=[],J=B,ce;J.isNegative()||J.compareAbs(F)>=0;){ce=J.divmod(F),J=ce.quotient;var re=ce.remainder;re.isNegative()&&(re=F.minus(re).abs(),J=J.next()),Q.push(re.toJSNumber())}return Q.push(J.toJSNumber()),{value:Q.reverse(),isNegative:X}}function nr(B,F,z){var X=iu(B,F);return(X.isNegative?"-":"")+X.value.map(function(Q){return dr(Q,z)}).join("")}u.prototype.toArray=function(B){return iu(this,B)},f.prototype.toArray=function(B){return iu(this,B)},c.prototype.toArray=function(B){return iu(this,B)},u.prototype.toString=function(B,F){if(B===t&&(B=10),B!==10)return nr(this,B,F);for(var z=this.value,X=z.length,Q=String(z[--X]),J="0000000",ce;--X>=0;)ce=String(z[X]),Q+=J.slice(ce.length)+ce;var re=this.sign?"-":"";return re+Q},f.prototype.toString=function(B,F){return B===t&&(B=10),B!=10?nr(this,B,F):String(this.value)},c.prototype.toString=f.prototype.toString,c.prototype.toJSON=u.prototype.toJSON=f.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,f.prototype.valueOf=function(){return this.value},f.prototype.toJSNumber=f.prototype.valueOf,c.prototype.valueOf=c.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Gt(B){if(l(+B)){var F=+B;if(F===S(F))return o?new c(BigInt(F)):new f(F);throw new Error("Invalid integer: "+B)}var z=B[0]==="-";z&&(B=B.slice(1));var X=B.split(/e/i);if(X.length>2)throw new Error("Invalid integer: "+X.join("e"));if(X.length===2){var Q=X[1];if(Q[0]==="+"&&(Q=Q.slice(1)),Q=+Q,Q!==S(Q)||!l(Q))throw new Error("Invalid integer: "+Q+" is not a valid exponent.");var J=X[0],ce=J.indexOf(".");if(ce>=0&&(Q-=J.length-ce-1,J=J.slice(0,ce)+J.slice(ce+1)),Q<0)throw new Error("Cannot include negative exponent part for integers");J+=new Array(Q+1).join("0"),B=J}var re=/^([0-9][0-9]*)$/.test(B);if(!re)throw new Error("Invalid integer: "+B);if(o)return new c(BigInt(z?"-"+B:B));for(var ue=[],Re=B.length,Ce=r,_e=Re-Ce;Re>0;)ue.push(+B.slice(_e,Re)),_e-=Ce,_e<0&&(_e=0),Re-=Ce;return _(ue),new u(ue,z)}function c0(B){if(o)return new c(BigInt(B));if(l(B)){if(B!==S(B))throw new Error(B+" is not an integer.");return new f(B)}return Gt(B.toString())}function me(B){return typeof B=="number"?c0(B):typeof B=="string"?Gt(B):typeof B=="bigint"?new c(B):B}for(var bt=0;bt<1e3;bt++)s[bt]=me(bt),bt>0&&(s[-bt]=me(-bt));return s.one=s[1],s.zero=s[0],s.minusOne=s[-1],s.max=$e,s.min=pt,s.gcd=Dl,s.lcm=fr,s.isInstance=function(B){return B instanceof u||B instanceof f||B instanceof c},s.randBetween=cr,s.fromArray=function(B,F,z){return rr(B.map(me),me(F||10),z)},s}();typeof vS<"u"&&vS.hasOwnProperty("exports")&&(vS.exports=on);typeof define=="function"&&define.amd&&define(function(){return on})});var D$=E(mS=>{"use strict";h();p();Object.defineProperty(mS,"__esModule",{value:!0});mS.Amount=void 0;var M1=dN(),Hbe=P1(),I$=lS(),T$=yS(),Kbe=Nf(),Z2=B1(),Gc=gr(),A$=-96,O$=80,lD=16,Vbe=new M1.Decimal("1e17"),Gbe=new M1.Decimal("1e-6"),C$=Z2(4294967295);M1.Decimal.config({toExpPos:O$+lD,toExpNeg:A$-lD});function zbe(t){let e=Object.keys(t).sort();return e.length===3&&e[0]==="currency"&&e[1]==="issuer"&&e[2]==="value"}var Xa=class extends Kbe.SerializedType{constructor(e){super(e??Xa.defaultAmount.bytes)}static from(e){if(e instanceof Xa)return e;let r=Gc.Buffer.alloc(8);if(typeof e=="string"){Xa.assertXrpIsValid(e);let n=Z2(e),i=[Gc.Buffer.alloc(4),Gc.Buffer.alloc(4)];return i[0].writeUInt32BE(Number(n.shiftRight(32)),0),i[1].writeUInt32BE(Number(n.and(C$)),0),r=Gc.Buffer.concat(i),r[0]|=64,new Xa(r)}if(zbe(e)){let n=new M1.Decimal(e.value);if(Xa.assertIouIsValid(n),n.isZero())r[0]|=128;else{let o=n.times(`1e${-(n.e-15)}`).abs().toString(),s=Z2(o),u=[Gc.Buffer.alloc(4),Gc.Buffer.alloc(4)];u[0].writeUInt32BE(Number(s.shiftRight(32)),0),u[1].writeUInt32BE(Number(s.and(C$)),0),r=Gc.Buffer.concat(u),r[0]|=128,n.gt(new M1.Decimal(0))&&(r[0]|=64);let c=97+(n.e-15);r[0]|=c>>>2,r[1]|=(c&3)<<6}let i=T$.Currency.from(e.currency).toBytes(),a=I$.AccountID.from(e.issuer).toBytes();return new Xa(Gc.Buffer.concat([r,i,a]))}throw new Error("Invalid type to construct an Amount")}static fromParser(e){let n=e.peek()&128?48:8;return new Xa(e.read(n))}toJSON(){if(this.isNative()){let e=this.bytes,n=e[0]&64?"":"-";e[0]&=63;let i=Z2(e.slice(0,4).readUInt32BE(0)),a=Z2(e.slice(4).readUInt32BE(0)),o=i.shiftLeft(32).or(a);return`${n}${o.toString()}`}else{let e=new Hbe.BinaryParser(this.toString()),r=e.read(8),n=T$.Currency.fromParser(e),i=I$.AccountID.fromParser(e),a=r[0],o=r[1],u=a&64?"":"-",f=((a&63)<<2)+((o&255)>>6)-97;r[0]=0,r[1]&=63;let c=new M1.Decimal(`${u}0x${r.toString("hex")}`).times(`1e${f}`);return Xa.assertIouIsValid(c),{value:c.toString(),currency:n.toJSON(),issuer:i.toJSON()}}}static assertXrpIsValid(e){if(e.indexOf(".")!==-1)throw new Error(`${e.toString()} is an illegal amount`);let r=new M1.Decimal(e);if(!r.isZero()&&(r.lt(Gbe)||r.gt(Vbe)))throw new Error(`${e.toString()} is an illegal amount`)}static assertIouIsValid(e){if(!e.isZero()){let r=e.precision(),n=e.e-15;if(r>lD||n>O$||n<A$)throw new Error("Decimal precision out of range");this.verifyNoDecimal(e)}}static verifyNoDecimal(e){if(e.times(`1e${-(e.e-15)}`).abs().toString().indexOf(".")!==-1)throw new Error("Decimal place found in integerNumberString")}isNative(){return(this.bytes[0]&128)===0}};mS.Amount=Xa;Xa.defaultAmount=new Xa(Gc.Buffer.from("4000000000000000","hex"))});var R$=E(_S=>{"use strict";h();p();Object.defineProperty(_S,"__esModule",{value:!0});_S.Blob=void 0;var Ybe=Nf(),Wbe=gr(),N1=class extends Ybe.SerializedType{constructor(e){super(e)}static fromParser(e,r){return new N1(e.read(r))}static from(e){if(e instanceof N1)return e;if(typeof e=="string")return new N1(Wbe.Buffer.from(e,"hex"));throw new Error("Cannot construct Blob from value given")}};_S.Blob=N1});var P$=E(xS=>{"use strict";h();p();Object.defineProperty(xS,"__esModule",{value:!0});xS.Hash128=void 0;var Xbe=sS(),Jbe=gr(),Lf=class extends Xbe.Hash{constructor(e){e&&e.byteLength===0&&(e=Lf.ZERO_128.bytes),super(e??Lf.ZERO_128.bytes)}toHex(){let e=this.toBytes().toString("hex").toUpperCase();return/^0+$/.exec(e)?"":e}};xS.Hash128=Lf;Lf.width=16;Lf.ZERO_128=new Lf(Jbe.Buffer.alloc(Lf.width))});var Q2=E(bS=>{"use strict";h();p();Object.defineProperty(bS,"__esModule",{value:!0});bS.Hash256=void 0;var $be=sS(),Zbe=gr(),zc=class extends $be.Hash{constructor(e){super(e??zc.ZERO_256.bytes)}};bS.Hash256=zc;zc.width=32;zc.ZERO_256=new zc(Zbe.Buffer.alloc(zc.width))});var M$=E(wS=>{"use strict";h();p();Object.defineProperty(wS,"__esModule",{value:!0});wS.PathSet=void 0;var Hy=lS(),hD=yS(),mD=P1(),_D=Nf(),Uf=gr(),vD=0,B$=255,pD=1,gD=16,yD=32;function Qbe(t){return t.issuer!==void 0||t.account!==void 0||t.currency!==void 0}function e4e(t){return Array.isArray(t)&&t.length===0||Array.isArray(t)&&Array.isArray(t[0])&&t[0].length===0||Array.isArray(t)&&Array.isArray(t[0])&&Qbe(t[0][0])}var Yc=class extends _D.SerializedType{static from(e){if(e instanceof Yc)return e;let r=[Uf.Buffer.from([0])];return e.account&&(r.push(Hy.AccountID.from(e.account).toBytes()),r[0][0]|=pD),e.currency&&(r.push(hD.Currency.from(e.currency).toBytes()),r[0][0]|=gD),e.issuer&&(r.push(Hy.AccountID.from(e.issuer).toBytes()),r[0][0]|=yD),new Yc(Uf.Buffer.concat(r))}static fromParser(e){let r=e.readUInt8(),n=[Uf.Buffer.from([r])];return r&pD&&n.push(e.read(Hy.AccountID.width)),r&gD&&n.push(e.read(hD.Currency.width)),r&yD&&n.push(e.read(Hy.AccountID.width)),new Yc(Uf.Buffer.concat(n))}toJSON(){let e=new mD.BinaryParser(this.bytes.toString("hex")),r=e.readUInt8(),n,i,a;r&pD&&(n=Hy.AccountID.fromParser(e).toJSON()),r&gD&&(i=hD.Currency.fromParser(e).toJSON()),r&yD&&(a=Hy.AccountID.fromParser(e).toJSON());let o={};return n&&(o.account=n),a&&(o.issuer=a),i&&(o.currency=i),o}type(){return this.bytes[0]}},Wc=class extends _D.SerializedType{static from(e){if(e instanceof Wc)return e;let r=[];return e.forEach(n=>{r.push(Yc.from(n).toBytes())}),new Wc(Uf.Buffer.concat(r))}static fromParser(e){let r=[];for(;!e.end()&&(r.push(Yc.fromParser(e).toBytes()),!(e.peek()===vD||e.peek()===B$)););return new Wc(Uf.Buffer.concat(r))}toJSON(){let e=[],r=new mD.BinaryParser(this.toString());for(;!r.end();)e.push(Yc.fromParser(r).toJSON());return e}},q1=class extends _D.SerializedType{static from(e){if(e instanceof q1)return e;if(e4e(e)){let r=[];return e.forEach(n=>{r.push(Wc.from(n).toBytes()),r.push(Uf.Buffer.from([B$]))}),r[r.length-1]=Uf.Buffer.from([vD]),new q1(Uf.Buffer.concat(r))}throw new Error("Cannot construct PathSet from given value")}static fromParser(e){let r=[];for(;!e.end()&&(r.push(Wc.fromParser(e).toBytes()),r.push(e.read(1)),r[r.length-1][0]!=vD););return new q1(Uf.Buffer.concat(r))}toJSON(){let e=[],r=new mD.BinaryParser(this.toString());for(;!r.end();)e.push(Wc.fromParser(r).toJSON()),r.skip(1);return e}};wS.PathSet=q1});var IS=E(SS=>{"use strict";h();p();Object.defineProperty(SS,"__esModule",{value:!0});SS.STObject=void 0;var t4e=ky(),r4e=Nf(),L$=uD(),n4e=P1(),ES=qy(),i4e=gr(),N$=i4e.Buffer.from([225]),q$="ObjectEndMarker",F$="STObject",a4e="Destination",o4e="Account",xD="SourceTag",bD="DestinationTag";function s4e(t,e){let r=(0,L$.xAddressToClassicAddress)(e),n;if(t===a4e)n=bD;else if(t===o4e)n=xD;else if(r.tag!==!1)throw new Error(`${t} cannot have an associated tag`);return r.tag!==!1?{[t]:r.classicAddress,[n]:r.tag}:{[t]:r.classicAddress}}function u4e(t,e){if(!(t[xD]===void 0||e[xD]===void 0))throw new Error("Cannot have Account X-Address and SourceTag");if(!(t[bD]===void 0||e[bD]===void 0))throw new Error("Cannot have Destination X-Address and DestinationTag")}var F1=class extends r4e.SerializedType{static fromParser(e){let r=new ES.BytesList,n=new ES.BinarySerializer(r);for(;!e.end();){let i=e.readField();if(i.name===q$)break;let a=e.readFieldValue(i);n.writeFieldAndValue(i,a),i.type.name===F$&&n.put(N$)}return new F1(r.toBytes())}static from(e,r){if(e instanceof F1)return e;let n=new ES.BytesList,i=new ES.BinarySerializer(n),a=!1,o=Object.entries(e).reduce((u,[f,c])=>{let l;return c&&(0,L$.isValidXAddress)(c.toString())&&(l=s4e(f,c.toString()),u4e(l,e)),Object.assign(u,l??{[f]:c})},{}),s=Object.keys(o).map(u=>t4e.Field[u]).filter(u=>u!==void 0&&o[u.name]!==void 0&&u.isSerialized).sort((u,f)=>u.ordinal-f.ordinal);return r!==void 0&&(s=s.filter(r)),s.forEach(u=>{let f=u.associatedType.from(o[u.name]);if(f==null)throw new TypeError(`Unable to interpret "${u.name}: ${o[u.name]}".`);f.name==="UNLModify"&&(a=!0);let c=u.name=="Account"&&a;i.writeFieldAndValue(u,f,c),u.type.name===F$&&i.put(N$)}),new F1(n.toBytes())}toJSON(){let e=new n4e.BinaryParser(this.toString()),r={};for(;!e.end();){let n=e.readField();if(n.name===q$)break;r[n.name]=e.readFieldValue(n).toJSON()}return r}};SS.STObject=F1});var H$=E(CS=>{"use strict";h();p();Object.defineProperty(CS,"__esModule",{value:!0});CS.STArray=void 0;var f4e=Nf(),U$=IS(),c4e=P1(),TS=gr(),k$=TS.Buffer.from([241]),j$="ArrayEndMarker",d4e=TS.Buffer.from([225]);function l4e(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="object")}var L1=class extends f4e.SerializedType{static fromParser(e){let r=[];for(;!e.end();){let n=e.readField();if(n.name===j$)break;r.push(n.header,e.readFieldValue(n).toBytes(),d4e)}return r.push(k$),new L1(TS.Buffer.concat(r))}static from(e){if(e instanceof L1)return e;if(l4e(e)){let r=[];return e.forEach(n=>{r.push(U$.STObject.from(n).toBytes())}),r.push(k$),new L1(TS.Buffer.concat(r))}throw new Error("Cannot construct STArray from value given")}toJSON(){let e=[],r=new c4e.BinaryParser(this.toString());for(;!r.end();){let n=r.readField();if(n.name===j$)break;let i={};i[n.name]=U$.STObject.fromParser(r).toJSON(),e.push(i)}return e}};CS.STArray=L1});var e_=E(AS=>{"use strict";h();p();Object.defineProperty(AS,"__esModule",{value:!0});AS.UInt=void 0;var h4e=Nf();function p4e(t,e){return t<e?-1:t==e?0:1}var wD=class extends h4e.Comparable{constructor(e){super(e)}compareTo(e){return p4e(this.valueOf(),e.valueOf())}toJSON(){let e=this.valueOf();return typeof e=="number"?e:e.toString()}};AS.UInt=wD});var V$=E(OS=>{"use strict";h();p();Object.defineProperty(OS,"__esModule",{value:!0});OS.UInt16=void 0;var g4e=e_(),K$=gr(),Ja=class extends g4e.UInt{constructor(e){super(e??Ja.defaultUInt16.bytes)}static fromParser(e){return new Ja(e.read(Ja.width))}static from(e){if(e instanceof Ja)return e;if(typeof e=="number"){let r=K$.Buffer.alloc(Ja.width);return r.writeUInt16BE(e,0),new Ja(r)}throw new Error("Can not construct UInt16 with given value")}valueOf(){return this.bytes.readUInt16BE(0)}};OS.UInt16=Ja;Ja.width=16/8;Ja.defaultUInt16=new Ja(K$.Buffer.alloc(Ja.width))});var ED=E(DS=>{"use strict";h();p();Object.defineProperty(DS,"__esModule",{value:!0});DS.UInt32=void 0;var y4e=e_(),G$=gr(),Ta=class extends y4e.UInt{constructor(e){super(e??Ta.defaultUInt32.bytes)}static fromParser(e){return new Ta(e.read(Ta.width))}static from(e){if(e instanceof Ta)return e;let r=G$.Buffer.alloc(Ta.width);if(typeof e=="string"){let n=Number.parseInt(e);return r.writeUInt32BE(n,0),new Ta(r)}if(typeof e=="number")return r.writeUInt32BE(e,0),new Ta(r);throw new Error("Cannot construct UInt32 from given value")}valueOf(){return this.bytes.readUInt32BE(0)}};DS.UInt32=Ta;Ta.width=32/8;Ta.defaultUInt32=new Ta(G$.Buffer.alloc(Ta.width))});var SD=E(RS=>{"use strict";h();p();Object.defineProperty(RS,"__esModule",{value:!0});RS.UInt64=void 0;var v4e=e_(),Ky=B1(),m4e=B1(),Xc=gr(),_4e=/^[a-fA-F0-9]{1,16}$/,z$=Ky(4294967295),Yi=class extends v4e.UInt{constructor(e){super(e??Yi.defaultUInt64.bytes)}static fromParser(e){return new Yi(e.read(Yi.width))}static from(e){if(e instanceof Yi)return e;let r=Xc.Buffer.alloc(Yi.width);if(typeof e=="number"){if(e<0)throw new Error("value must be an unsigned integer");let n=Ky(e),i=[Xc.Buffer.alloc(4),Xc.Buffer.alloc(4)];return i[0].writeUInt32BE(Number(n.shiftRight(32)),0),i[1].writeUInt32BE(Number(n.and(z$)),0),new Yi(Xc.Buffer.concat(i))}if(typeof e=="string"){if(!_4e.test(e))throw new Error(`${e} is not a valid hex-string`);let n=e.padStart(16,"0");return r=Xc.Buffer.from(n,"hex"),new Yi(r)}if((0,m4e.isInstance)(e)){let n=[Xc.Buffer.alloc(4),Xc.Buffer.alloc(4)];return n[0].writeUInt32BE(Number(e.shiftRight(Ky(32))),0),n[1].writeUInt32BE(Number(e.and(z$)),0),new Yi(Xc.Buffer.concat(n))}throw new Error("Cannot construct UInt64 from given value")}toJSON(){return this.bytes.toString("hex").toUpperCase()}valueOf(){let e=Ky(this.bytes.slice(0,4).readUInt32BE(0)),r=Ky(this.bytes.slice(4).readUInt32BE(0));return e.shiftLeft(Ky(32)).or(r)}toBytes(){return this.bytes}};RS.UInt64=Yi;Yi.width=64/8;Yi.defaultUInt64=new Yi(Xc.Buffer.alloc(Yi.width))});var ID=E(PS=>{"use strict";h();p();Object.defineProperty(PS,"__esModule",{value:!0});PS.UInt8=void 0;var x4e=e_(),Y$=gr(),$a=class extends x4e.UInt{constructor(e){super(e??$a.defaultUInt8.bytes)}static fromParser(e){return new $a(e.read($a.width))}static from(e){if(e instanceof $a)return e;if(typeof e=="number"){let r=Y$.Buffer.alloc($a.width);return r.writeUInt8(e,0),new $a(r)}throw new Error("Cannot construct UInt8 from given value")}valueOf(){return this.bytes.readUInt8(0)}};PS.UInt8=$a;$a.width=8/8;$a.defaultUInt8=new $a(Y$.Buffer.alloc($a.width))});var J$=E(BS=>{"use strict";h();p();Object.defineProperty(BS,"__esModule",{value:!0});BS.Vector256=void 0;var b4e=Nf(),W$=Q2(),X$=qy();function w4e(t){return Array.isArray(t)&&(t.length===0||typeof t[0]=="string")}var U1=class extends b4e.SerializedType{constructor(e){super(e)}static fromParser(e,r){let n=new X$.BytesList,a=(r??e.size())/32;for(let o=0;o<a;o++)W$.Hash256.fromParser(e).toBytesSink(n);return new U1(n.toBytes())}static from(e){if(e instanceof U1)return e;if(w4e(e)){let r=new X$.BytesList;return e.forEach(n=>{W$.Hash256.from(n).toBytesSink(r)}),new U1(r.toBytes())}throw new Error("Cannot construct Vector256 from given value")}toJSON(){if(this.bytes.byteLength%32!==0)throw new Error("Invalid bytes for Vector256");let e=[];for(let r=0;r<this.bytes.byteLength;r+=32)e.push(this.bytes.slice(r,r+32).toString("hex").toUpperCase());return e}};BS.Vector256=U1});var t_=E(MS=>{"use strict";h();p();Object.defineProperty(MS,"__esModule",{value:!0});MS.coreTypes=void 0;var k1=ky(),E4e=lS(),S4e=D$(),I4e=R$(),T4e=yS(),C4e=P$(),A4e=fS(),O4e=Q2(),D4e=M$(),R4e=H$(),P4e=IS(),B4e=V$(),M4e=ED(),N4e=SD(),q4e=ID(),F4e=J$(),$$={AccountID:E4e.AccountID,Amount:S4e.Amount,Blob:I4e.Blob,Currency:T4e.Currency,Hash128:C4e.Hash128,Hash160:A4e.Hash160,Hash256:O4e.Hash256,PathSet:D4e.PathSet,STArray:R4e.STArray,STObject:P4e.STObject,UInt8:q4e.UInt8,UInt16:B4e.UInt16,UInt32:M4e.UInt32,UInt64:N4e.UInt64,Vector256:F4e.Vector256};MS.coreTypes=$$;Object.values(k1.Field).forEach(t=>{t.associatedType=$$[t.type.name]});k1.Field.TransactionType.associatedType=k1.TransactionType;k1.Field.TransactionResult.associatedType=k1.TransactionResult;k1.Field.LedgerEntryType.associatedType=k1.LedgerEntryType});var Vy=E(NS=>{"use strict";h();p();Object.defineProperty(NS,"__esModule",{value:!0});NS.HashPrefix=void 0;var L4e=gr();function kf(t){let e=L4e.Buffer.alloc(4);return e.writeUInt32BE(t,0),e}var U4e={transactionID:kf(1415073280),transaction:kf(1397638144),accountStateEntry:kf(1296846336),innerNode:kf(1296649728),ledgerHeader:kf(1280791040),transactionSig:kf(1398036480),transactionMultiSig:kf(1397576704),validation:kf(1447119872),proposal:kf(1347571712),paymentChannelClaim:kf(1129073920)};NS.HashPrefix=U4e});var r_=E(rl=>{"use strict";h();p();Object.defineProperty(rl,"__esModule",{value:!0});rl.transactionID=rl.sha512Half=rl.Sha512Half=void 0;var k4e=Vy(),j4e=A3(),Z$=Q2(),H4e=qy(),K4e=gr(),Gy=class extends H4e.BytesList{constructor(){super(...arguments),this.hash=j4e("sha512")}static put(e){return new Gy().put(e)}put(e){return this.hash.update(e),this}finish256(){return K4e.Buffer.from(this.hash.digest().slice(0,32))}finish(){return new Z$.Hash256(this.finish256())}};rl.Sha512Half=Gy;function Q$(...t){let e=new Gy;return t.forEach(r=>e.put(r)),e.finish256()}rl.sha512Half=Q$;function V4e(t){return new Z$.Hash256(Q$(k4e.HashPrefix.transactionID,t))}rl.transactionID=V4e});var AD=E(er=>{"use strict";h();p();Object.defineProperty(er,"__esModule",{value:!0});er.transactionID=er.sha512Half=er.binaryToJSON=er.signingClaimData=er.signingData=er.multiSigningData=er.readJSON=er.serializeObject=er.makeParser=er.BytesList=er.BinarySerializer=er.BinaryParser=void 0;var n_=t_(),eZ=P1();Object.defineProperty(er,"BinaryParser",{enumerable:!0,get:function(){return eZ.BinaryParser}});var TD=Vy(),qS=qy();Object.defineProperty(er,"BinarySerializer",{enumerable:!0,get:function(){return qS.BinarySerializer}});Object.defineProperty(er,"BytesList",{enumerable:!0,get:function(){return qS.BytesList}});var tZ=r_();Object.defineProperty(er,"sha512Half",{enumerable:!0,get:function(){return tZ.sha512Half}});Object.defineProperty(er,"transactionID",{enumerable:!0,get:function(){return tZ.transactionID}});var G4e=B1(),rZ=t=>new eZ.BinaryParser(t);er.makeParser=rZ;var nZ=t=>t.readType(n_.coreTypes.STObject).toJSON();er.readJSON=nZ;var z4e=t=>nZ(rZ(t));er.binaryToJSON=z4e;function CD(t,e={}){let{prefix:r,suffix:n,signingFieldsOnly:i=!1}=e,a=new qS.BytesList;r&&a.put(r);let o=i?s=>s.isSigningField:void 0;return n_.coreTypes.STObject.from(t,o).toBytesSink(a),n&&a.put(n),a.toBytes()}er.serializeObject=CD;function Y4e(t,e=TD.HashPrefix.transactionSig){return CD(t,{prefix:e,signingFieldsOnly:!0})}er.signingData=Y4e;function W4e(t){let e=G4e(String(t.amount)),r=TD.HashPrefix.paymentChannelClaim,n=n_.coreTypes.Hash256.from(t.channel).toBytes(),i=n_.coreTypes.UInt64.from(e).toBytes(),a=new qS.BytesList;return a.put(r),a.put(n),a.put(i),a.toBytes()}er.signingClaimData=W4e;function X4e(t,e){let r=TD.HashPrefix.transactionMultiSig,n=n_.coreTypes.AccountID.from(e).toBytes();return CD(t,{prefix:r,suffix:n,signingFieldsOnly:!0})}er.multiSigningData=X4e});var DD=E(nl=>{"use strict";h();p();Object.defineProperty(nl,"__esModule",{value:!0});nl.ShaMapLeaf=nl.ShaMapNode=nl.ShaMap=void 0;var J4e=ro(),iZ=t_(),$4e=Vy(),aZ=r_(),Z4e=gr(),i_=class{};nl.ShaMapNode=i_;var a_=class extends i_{constructor(e,r){super(),this.index=e,this.item=r}isLeaf(){return!0}isInner(){return!1}hashPrefix(){return this.item===void 0?Z4e.Buffer.alloc(0):this.item.hashPrefix()}hash(){let e=aZ.Sha512Half.put(this.hashPrefix());return this.toBytesSink(e),e.finish()}toBytesSink(e){this.item!==void 0&&this.item.toBytesSink(e),this.index.toBytesSink(e)}};nl.ShaMapLeaf=a_;var zy=class extends i_{constructor(e=0){super(),this.depth=e,this.slotBits=0,this.branches=Array(16)}isInner(){return!0}isLeaf(){return!1}hashPrefix(){return $4e.HashPrefix.innerNode}setBranch(e,r){this.slotBits=this.slotBits|1<<e,this.branches[e]=r}empty(){return this.slotBits===0}hash(){if(this.empty())return iZ.coreTypes.Hash256.ZERO_256;let e=aZ.Sha512Half.put(this.hashPrefix());return this.toBytesSink(e),e.finish()}toBytesSink(e){for(let r=0;r<this.branches.length;r++){let n=this.branches[r];(n?n.hash():iZ.coreTypes.Hash256.ZERO_256).toBytesSink(e)}}addItem(e,r,n){if(J4e.strict.ok(e!==void 0),e!==void 0){let i=e.nibblet(this.depth),a=this.branches[i];if(a===void 0)this.setBranch(i,n||new a_(e,r));else if(a instanceof a_){let o=new zy(this.depth+1);o.addItem(a.index,void 0,a),o.addItem(e,r,n),this.setBranch(i,o)}else if(a instanceof zy)a.addItem(e,r,n);else throw new Error("invalid ShaMap.addItem call")}}},OD=class extends zy{};nl.ShaMap=OD});var BD=E(Wi=>{"use strict";h();p();var Q4e=Wi&&Wi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ewe=Wi&&Wi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),twe=Wi&&Wi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Q4e(e,t,r);return ewe(e,t),e};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.decodeLedgerData=Wi.ledgerHash=Wi.transactionTreeHash=Wi.accountStateHash=void 0;var FS=twe(ro()),rwe=DD(),PD=Vy(),nwe=r_(),uZ=AD(),il=Q2(),oZ=IS(),fZ=SD(),RD=ED(),sZ=ID(),iwe=P1(),awe=B1();function cZ(t,e){let r=new rwe.ShaMap;return e.forEach(n=>r.addItem(...t(n))),r.hash()}function owe(t){return FS.ok(t.hash),[il.Hash256.from(t.hash),{hashPrefix(){return PD.HashPrefix.transaction},toBytesSink(n){let i=new uZ.BinarySerializer(n);i.writeLengthEncoded(oZ.STObject.from(t)),i.writeLengthEncoded(oZ.STObject.from(t.metaData))}},void 0]}function swe(t){let e=il.Hash256.from(t.index),r=(0,uZ.serializeObject)(t);return[e,{hashPrefix(){return PD.HashPrefix.accountStateEntry},toBytesSink(i){i.put(r)}},void 0]}function uwe(t){return cZ(owe,t)}Wi.transactionTreeHash=uwe;function fwe(t){return cZ(swe,t)}Wi.accountStateHash=fwe;function cwe(t){let e=new nwe.Sha512Half;return e.put(PD.HashPrefix.ledgerHeader),FS.ok(t.parent_close_time!==void 0),FS.ok(t.close_flags!==void 0),RD.UInt32.from(t.ledger_index).toBytesSink(e),fZ.UInt64.from(awe(String(t.total_coins))).toBytesSink(e),il.Hash256.from(t.parent_hash).toBytesSink(e),il.Hash256.from(t.transaction_hash).toBytesSink(e),il.Hash256.from(t.account_hash).toBytesSink(e),RD.UInt32.from(t.parent_close_time).toBytesSink(e),RD.UInt32.from(t.close_time).toBytesSink(e),sZ.UInt8.from(t.close_time_resolution).toBytesSink(e),sZ.UInt8.from(t.close_flags).toBytesSink(e),e.finish()}Wi.ledgerHash=cwe;function dwe(t){FS.ok(typeof t=="string","binary must be a hex string");let e=new iwe.BinaryParser(t);return{ledger_index:e.readUInt32(),total_coins:e.readType(fZ.UInt64).valueOf().toString(),parent_hash:e.readType(il.Hash256).toHex(),transaction_hash:e.readType(il.Hash256).toHex(),account_hash:e.readType(il.Hash256).toHex(),parent_close_time:e.readUInt32(),close_time:e.readUInt32(),close_time_resolution:e.readUInt8(),close_flags:e.readUInt8()}}Wi.decodeLedgerData=dwe});var lZ=E(LS=>{"use strict";h();p();Object.defineProperty(LS,"__esModule",{value:!0});LS.quality=void 0;var lwe=t_(),dZ=dN(),hwe=B1(),pwe=gr(),MD=class{static encode(e){let r=new dZ.Decimal(e),n=r.e-15,i=r.times(`1e${-n}`).abs().toString(),a=lwe.coreTypes.UInt64.from(hwe(i)).toBytes();return a[0]=n+100,a}static decode(e){let r=pwe.Buffer.from(e,"hex").slice(-8),n=r[0]-100;return new dZ.Decimal(`0x${r.slice(1).toString("hex")}`).times(`1e${n}`)}};LS.quality=MD});var hZ=E(_t=>{"use strict";h();p();var gwe=_t&&_t.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ywe=_t&&_t.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),US=_t&&_t.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&gwe(e,t,r);return ywe(e,t),e};Object.defineProperty(_t,"__esModule",{value:!0});_t.types=_t.ShaMap=_t.HashPrefix=_t.quality=_t.TransactionResult=_t.Type=_t.LedgerEntryType=_t.TransactionType=_t.Field=_t.ledgerHashes=_t.binary=_t.hashes=void 0;var o_=ky();Object.defineProperty(_t,"Field",{enumerable:!0,get:function(){return o_.Field}});Object.defineProperty(_t,"TransactionType",{enumerable:!0,get:function(){return o_.TransactionType}});Object.defineProperty(_t,"LedgerEntryType",{enumerable:!0,get:function(){return o_.LedgerEntryType}});Object.defineProperty(_t,"Type",{enumerable:!0,get:function(){return o_.Type}});Object.defineProperty(_t,"TransactionResult",{enumerable:!0,get:function(){return o_.TransactionResult}});var vwe=US(t_());_t.types=vwe;var mwe=US(AD());_t.binary=mwe;var _we=DD();Object.defineProperty(_t,"ShaMap",{enumerable:!0,get:function(){return _we.ShaMap}});var xwe=US(BD());_t.ledgerHashes=xwe;var bwe=US(r_());_t.hashes=bwe;var wwe=lZ();Object.defineProperty(_t,"quality",{enumerable:!0,get:function(){return wwe.quality}});var Ewe=Vy();Object.defineProperty(_t,"HashPrefix",{enumerable:!0,get:function(){return Ewe.HashPrefix}})});var pZ=E(tr=>{"use strict";h();p();var Swe=tr&&tr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Iwe=tr&&tr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Twe=tr&&tr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Swe(e,t,r);return Iwe(e,t),e};Object.defineProperty(tr,"__esModule",{value:!0});tr.TRANSACTION_TYPES=tr.decodeLedgerData=tr.decodeQuality=tr.encodeQuality=tr.encodeForMultisigning=tr.encodeForSigningClaim=tr.encodeForSigning=tr.encode=tr.decode=void 0;var al=Twe(ro()),ND=hZ(),Cwe=BD();Object.defineProperty(tr,"decodeLedgerData",{enumerable:!0,get:function(){return Cwe.decodeLedgerData}});var Awe=ky();Object.defineProperty(tr,"TRANSACTION_TYPES",{enumerable:!0,get:function(){return Awe.TRANSACTION_TYPES}});var{signingData:Owe,signingClaimData:Dwe,multiSigningData:Rwe,binaryToJSON:Pwe,serializeObject:Bwe}=ND.binary;function Mwe(t){return al.ok(typeof t=="string","binary must be a hex string"),Pwe(t)}tr.decode=Mwe;function Nwe(t){return al.ok(typeof t=="object"),Bwe(t).toString("hex").toUpperCase()}tr.encode=Nwe;function qwe(t){return al.ok(typeof t=="object"),Owe(t).toString("hex").toUpperCase()}tr.encodeForSigning=qwe;function Fwe(t){return al.ok(typeof t=="object"),Dwe(t).toString("hex").toUpperCase()}tr.encodeForSigningClaim=Fwe;function Lwe(t,e){return al.ok(typeof t=="object"),al.equal(t.SigningPubKey,""),Rwe(t,e).toString("hex").toUpperCase()}tr.encodeForMultisigning=Lwe;function Uwe(t){return al.ok(typeof t=="string"),ND.quality.encode(t).toString("hex").toUpperCase()}tr.encodeQuality=Uwe;function kwe(t){return al.ok(typeof t=="string"),ND.quality.decode(t).toString()}tr.decodeQuality=kwe});var gZ=E(kS=>{"use strict";h();p();Object.defineProperty(kS,"__esModule",{value:!0});kS.KeystoneXrpSDK=void 0;var jwe=gn(),Hwe=pZ(),qD=class{parseAccount(e){let r=e.decodeCBOR().toString();return JSON.parse(r)}parseSignature(e){if(e.type!=="bytes")throw new Error("type not match");try{let r=e.decodeCBOR().toString("hex");return(0,Hwe.decode)(r).TxnSignature}catch{throw new Error("signature is invalid")}}generateSignRequest(e){let r=JSON.stringify(e);return jwe.UR.fromBuffer(v.Buffer.from(r))}};kS.KeystoneXrpSDK=qD});var yZ=E(j1=>{"use strict";h();p();var Kwe=j1&&j1.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vwe=j1&&j1.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Kwe(e,t,r)};Object.defineProperty(j1,"__esModule",{value:!0});Vwe(gZ(),j1)});var vZ=E(jS=>{"use strict";h();p();Object.defineProperty(jS,"__esModule",{value:!0});jS.KeystoneSDK=void 0;var Za=zO(),Yy=YJ(),Gwe=yZ(),Wy=class{constructor(e){this.parseMultiAccounts=Yy.parseMultiAccounts,this.parseHDKey=Yy.parseHDKey,this.generateKeyDerivationCall=Yy.generateKeyDerivationCall,this.config=e}get btc(){return this._btc===void 0&&(this._btc=new Za.KeystoneBitcoinSDK),this._btc}get eth(){return this._eth===void 0&&(this._eth=new Za.KeystoneEthereumSDK(this.config)),this._eth}get sol(){return this._sol===void 0&&(this._sol=new Za.KeystoneSolanaSDK),this._sol}get cosmos(){return this._cosmos===void 0&&(this._cosmos=new Za.KeystoneCosmosSDK(this.config)),this._cosmos}get evm(){return this._evm===void 0&&(this._evm=new Za.KeystoneEvmSDK(this.config)),this._evm}get tron(){return this._tron===void 0&&(this._tron=new Za.KeystoneTronSDK),this._tron}get ltc(){return this._ltc===void 0&&(this._ltc=new Za.KeystoneLitecoinSDK),this._ltc}get bch(){return this._bch===void 0&&(this._bch=new Za.KeystoneBitcoinCashSDK),this._bch}get dash(){return this._dash===void 0&&(this._dash=new Za.KeystoneDashSDK),this._dash}get aptos(){return this._aptos===void 0&&(this._aptos=new Za.KeystoneAptosSDK),this._aptos}get near(){return this._near===void 0&&(this._near=new Za.KeystoneNearSDK),this._near}get arweave(){return this._arweave===void 0&&(this._arweave=new Za.KeystoneArweaveSDK),this._arweave}get sui(){return this._sui===void 0&&(this._sui=new Za.KeystoneSuiSDK),this._sui}get cardano(){return this._cardano===void 0&&(this._cardano=new Za.KeystoneCardanoSDK),this._cardano}get xrp(){return this._xrp===void 0&&(this._xrp=new Gwe.KeystoneXrpSDK),this._xrp}};Wy.parseMultiAccounts=Yy.parseMultiAccounts;Wy.parseHDKey=Yy.parseHDKey;Wy.generateKeyDerivationCall=Yy.generateKeyDerivationCall;jS.KeystoneSDK=Wy});var HS=E(Dr=>{"use strict";h();p();var mZ=Dr&&Dr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zwe=Dr&&Dr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ywe=Dr&&Dr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mZ(e,t,r);return zwe(e,t),e},FD=Dr&&Dr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&mZ(e,t,r)};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.utils=Dr.KeystoneSDK=Dr.DerivationAlgorithm=Dr.Curve=void 0;var Wwe=Ywe(Tn());Dr.utils=Wwe;var _Z=vZ();Object.defineProperty(Dr,"KeystoneSDK",{enumerable:!0,get:function(){return _Z.KeystoneSDK}});FD(gn(),Dr);FD(WE(),Dr);FD(zO(),Dr);var xZ=YO();Object.defineProperty(Dr,"Curve",{enumerable:!0,get:function(){return xZ.Curve}});Object.defineProperty(Dr,"DerivationAlgorithm",{enumerable:!0,get:function(){return xZ.DerivationAlgorithm}});Dr.default=_Z.KeystoneSDK});var LZ=E((D0t,FZ)=>{h();p();var Jwe=Object.create,u_=Object.defineProperty,$we=Object.getOwnPropertyDescriptor,Zwe=Object.getOwnPropertyNames,KS=Object.getOwnPropertySymbols,Qwe=Object.getPrototypeOf,LD=Object.prototype.hasOwnProperty,EZ=Object.prototype.propertyIsEnumerable,wZ=(t,e,r)=>e in t?u_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,s_=(t,e)=>{for(var r in e||(e={}))LD.call(e,r)&&wZ(t,r,e[r]);if(KS)for(var r of KS(e))EZ.call(e,r)&&wZ(t,r,e[r]);return t},UD=(t,e)=>{var r={};for(var n in t)LD.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&KS)for(var n of KS(t))e.indexOf(n)<0&&EZ.call(t,n)&&(r[n]=t[n]);return r},e6e=(t,e)=>{for(var r in e)u_(t,r,{get:e[r],enumerable:!0})},SZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Zwe(e))!LD.call(t,i)&&i!==r&&u_(t,i,{get:()=>e[i],enumerable:!(n=$we(e,i))||n.enumerable});return t},t6e=(t,e,r)=>(r=t!=null?Jwe(Qwe(t)):{},SZ(e||!t||!t.__esModule?u_(r,"default",{value:t,enumerable:!0}):r,t)),r6e=t=>SZ(u_({},"__esModule",{value:!0}),t),IZ={};e6e(IZ,{QRCodeCanvas:()=>NZ,QRCodeSVG:()=>qZ,default:()=>a6e});FZ.exports=r6e(IZ);var Ca=t6e(oc());var H1;(t=>{let e=class{constructor(u,f,c,l){if(this.version=u,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version value out of range");if(l<-1||l>7)throw new RangeError("Mask value out of range");this.size=u*4+17;let g=[];for(let _=0;_<this.size;_++)g.push(!1);for(let _=0;_<this.size;_++)this.modules.push(g.slice()),this.isFunction.push(g.slice());this.drawFunctionPatterns();let y=this.addEccAndInterleave(c);if(this.drawCodewords(y),l==-1){let _=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);let S=this.getPenaltyScore();S<_&&(l=w,_=S),this.applyMask(w)}}a(0<=l&&l<=7),this.mask=l,this.applyMask(l),this.drawFormatBits(l),this.isFunction=[]}static encodeText(u,f){let c=t.QrSegment.makeSegments(u);return e.encodeSegments(c,f)}static encodeBinary(u,f){let c=t.QrSegment.makeBytes(u);return e.encodeSegments([c],f)}static encodeSegments(u,f,c=1,l=40,g=-1,y=!0){if(!(e.MIN_VERSION<=c&&c<=l&&l<=e.MAX_VERSION)||g<-1||g>7)throw new RangeError("Invalid value");let _,w;for(_=c;;_++){let P=e.getNumDataCodewords(_,f)*8,q=s.getTotalBits(u,_);if(q<=P){w=q;break}if(_>=l)throw new RangeError("Data too long")}for(let P of[e.Ecc.MEDIUM,e.Ecc.QUARTILE,e.Ecc.HIGH])y&&w<=e.getNumDataCodewords(_,P)*8&&(f=P);let S=[];for(let P of u){n(P.mode.modeBits,4,S),n(P.numChars,P.mode.numCharCountBits(_),S);for(let q of P.getData())S.push(q)}a(S.length==w);let I=e.getNumDataCodewords(_,f)*8;a(S.length<=I),n(0,Math.min(4,I-S.length),S),n(0,(8-S.length%8)%8,S),a(S.length%8==0);for(let P=236;S.length<I;P^=253)n(P,8,S);let O=[];for(;O.length*8<S.length;)O.push(0);return S.forEach((P,q)=>O[q>>>3]|=P<<7-(q&7)),new e(_,f,O,g)}getModule(u,f){return 0<=u&&u<this.size&&0<=f&&f<this.size&&this.modules[f][u]}getModules(){return this.modules}drawFunctionPatterns(){for(let c=0;c<this.size;c++)this.setFunctionModule(6,c,c%2==0),this.setFunctionModule(c,6,c%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let u=this.getAlignmentPatternPositions(),f=u.length;for(let c=0;c<f;c++)for(let l=0;l<f;l++)c==0&&l==0||c==0&&l==f-1||c==f-1&&l==0||this.drawAlignmentPattern(u[c],u[l]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(u){let f=this.errorCorrectionLevel.formatBits<<3|u,c=f;for(let g=0;g<10;g++)c=c<<1^(c>>>9)*1335;let l=(f<<10|c)^21522;a(l>>>15==0);for(let g=0;g<=5;g++)this.setFunctionModule(8,g,i(l,g));this.setFunctionModule(8,7,i(l,6)),this.setFunctionModule(8,8,i(l,7)),this.setFunctionModule(7,8,i(l,8));for(let g=9;g<15;g++)this.setFunctionModule(14-g,8,i(l,g));for(let g=0;g<8;g++)this.setFunctionModule(this.size-1-g,8,i(l,g));for(let g=8;g<15;g++)this.setFunctionModule(8,this.size-15+g,i(l,g));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let u=this.version;for(let c=0;c<12;c++)u=u<<1^(u>>>11)*7973;let f=this.version<<12|u;a(f>>>18==0);for(let c=0;c<18;c++){let l=i(f,c),g=this.size-11+c%3,y=Math.floor(c/3);this.setFunctionModule(g,y,l),this.setFunctionModule(y,g,l)}}drawFinderPattern(u,f){for(let c=-4;c<=4;c++)for(let l=-4;l<=4;l++){let g=Math.max(Math.abs(l),Math.abs(c)),y=u+l,_=f+c;0<=y&&y<this.size&&0<=_&&_<this.size&&this.setFunctionModule(y,_,g!=2&&g!=4)}}drawAlignmentPattern(u,f){for(let c=-2;c<=2;c++)for(let l=-2;l<=2;l++)this.setFunctionModule(u+l,f+c,Math.max(Math.abs(l),Math.abs(c))!=1)}setFunctionModule(u,f,c){this.modules[f][u]=c,this.isFunction[f][u]=!0}addEccAndInterleave(u){let f=this.version,c=this.errorCorrectionLevel;if(u.length!=e.getNumDataCodewords(f,c))throw new RangeError("Invalid argument");let l=e.NUM_ERROR_CORRECTION_BLOCKS[c.ordinal][f],g=e.ECC_CODEWORDS_PER_BLOCK[c.ordinal][f],y=Math.floor(e.getNumRawDataModules(f)/8),_=l-y%l,w=Math.floor(y/l),S=[],I=e.reedSolomonComputeDivisor(g);for(let P=0,q=0;P<l;P++){let C=u.slice(q,q+w-g+(P<_?0:1));q+=C.length;let d=e.reedSolomonComputeRemainder(C,I);P<_&&C.push(0),S.push(C.concat(d))}let O=[];for(let P=0;P<S[0].length;P++)S.forEach((q,C)=>{(P!=w-g||C>=_)&&O.push(q[P])});return a(O.length==y),O}drawCodewords(u){if(u.length!=Math.floor(e.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let c=this.size-1;c>=1;c-=2){c==6&&(c=5);for(let l=0;l<this.size;l++)for(let g=0;g<2;g++){let y=c-g,w=(c+1&2)==0?this.size-1-l:l;!this.isFunction[w][y]&&f<u.length*8&&(this.modules[w][y]=i(u[f>>>3],7-(f&7)),f++)}}a(f==u.length*8)}applyMask(u){if(u<0||u>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let c=0;c<this.size;c++){let l;switch(u){case 0:l=(c+f)%2==0;break;case 1:l=f%2==0;break;case 2:l=c%3==0;break;case 3:l=(c+f)%3==0;break;case 4:l=(Math.floor(c/3)+Math.floor(f/2))%2==0;break;case 5:l=c*f%2+c*f%3==0;break;case 6:l=(c*f%2+c*f%3)%2==0;break;case 7:l=((c+f)%2+c*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][c]&&l&&(this.modules[f][c]=!this.modules[f][c])}}getPenaltyScore(){let u=0;for(let g=0;g<this.size;g++){let y=!1,_=0,w=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[g][S]==y?(_++,_==5?u+=e.PENALTY_N1:_>5&&u++):(this.finderPenaltyAddHistory(_,w),y||(u+=this.finderPenaltyCountPatterns(w)*e.PENALTY_N3),y=this.modules[g][S],_=1);u+=this.finderPenaltyTerminateAndCount(y,_,w)*e.PENALTY_N3}for(let g=0;g<this.size;g++){let y=!1,_=0,w=[0,0,0,0,0,0,0];for(let S=0;S<this.size;S++)this.modules[S][g]==y?(_++,_==5?u+=e.PENALTY_N1:_>5&&u++):(this.finderPenaltyAddHistory(_,w),y||(u+=this.finderPenaltyCountPatterns(w)*e.PENALTY_N3),y=this.modules[S][g],_=1);u+=this.finderPenaltyTerminateAndCount(y,_,w)*e.PENALTY_N3}for(let g=0;g<this.size-1;g++)for(let y=0;y<this.size-1;y++){let _=this.modules[g][y];_==this.modules[g][y+1]&&_==this.modules[g+1][y]&&_==this.modules[g+1][y+1]&&(u+=e.PENALTY_N2)}let f=0;for(let g of this.modules)f=g.reduce((y,_)=>y+(_?1:0),f);let c=this.size*this.size,l=Math.ceil(Math.abs(f*20-c*10)/c)-1;return a(0<=l&&l<=9),u+=l*e.PENALTY_N4,a(0<=u&&u<=2568888),u}getAlignmentPatternPositions(){if(this.version==1)return[];{let u=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(u*2-2))*2,c=[6];for(let l=this.size-7;c.length<u;l-=f)c.splice(1,0,l);return c}}static getNumRawDataModules(u){if(u<e.MIN_VERSION||u>e.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*u+128)*u+64;if(u>=2){let c=Math.floor(u/7)+2;f-=(25*c-10)*c-55,u>=7&&(f-=36)}return a(208<=f&&f<=29648),f}static getNumDataCodewords(u,f){return Math.floor(e.getNumRawDataModules(u)/8)-e.ECC_CODEWORDS_PER_BLOCK[f.ordinal][u]*e.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][u]}static reedSolomonComputeDivisor(u){if(u<1||u>255)throw new RangeError("Degree out of range");let f=[];for(let l=0;l<u-1;l++)f.push(0);f.push(1);let c=1;for(let l=0;l<u;l++){for(let g=0;g<f.length;g++)f[g]=e.reedSolomonMultiply(f[g],c),g+1<f.length&&(f[g]^=f[g+1]);c=e.reedSolomonMultiply(c,2)}return f}static reedSolomonComputeRemainder(u,f){let c=f.map(l=>0);for(let l of u){let g=l^c.shift();c.push(0),f.forEach((y,_)=>c[_]^=e.reedSolomonMultiply(y,g))}return c}static reedSolomonMultiply(u,f){if(u>>>8!=0||f>>>8!=0)throw new RangeError("Byte out of range");let c=0;for(let l=7;l>=0;l--)c=c<<1^(c>>>7)*285,c^=(f>>>l&1)*u;return a(c>>>8==0),c}finderPenaltyCountPatterns(u){let f=u[1];a(f<=this.size*3);let c=f>0&&u[2]==f&&u[3]==f*3&&u[4]==f&&u[5]==f;return(c&&u[0]>=f*4&&u[6]>=f?1:0)+(c&&u[6]>=f*4&&u[0]>=f?1:0)}finderPenaltyTerminateAndCount(u,f,c){return u&&(this.finderPenaltyAddHistory(f,c),f=0),f+=this.size,this.finderPenaltyAddHistory(f,c),this.finderPenaltyCountPatterns(c)}finderPenaltyAddHistory(u,f){f[0]==0&&(u+=this.size),f.pop(),f.unshift(u)}},r=e;r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=r;function n(u,f,c){if(f<0||f>31||u>>>f!=0)throw new RangeError("Value out of range");for(let l=f-1;l>=0;l--)c.push(u>>>l&1)}function i(u,f){return(u>>>f&1)!=0}function a(u){if(!u)throw new Error("Assertion error")}let o=class{constructor(u,f,c){if(this.mode=u,this.numChars=f,this.bitData=c,f<0)throw new RangeError("Invalid argument");this.bitData=c.slice()}static makeBytes(u){let f=[];for(let c of u)n(c,8,f);return new o(o.Mode.BYTE,u.length,f)}static makeNumeric(u){if(!o.isNumeric(u))throw new RangeError("String contains non-numeric characters");let f=[];for(let c=0;c<u.length;){let l=Math.min(u.length-c,3);n(parseInt(u.substr(c,l),10),l*3+1,f),c+=l}return new o(o.Mode.NUMERIC,u.length,f)}static makeAlphanumeric(u){if(!o.isAlphanumeric(u))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],c;for(c=0;c+2<=u.length;c+=2){let l=o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c))*45;l+=o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c+1)),n(l,11,f)}return c<u.length&&n(o.ALPHANUMERIC_CHARSET.indexOf(u.charAt(c)),6,f),new o(o.Mode.ALPHANUMERIC,u.length,f)}static makeSegments(u){return u==""?[]:o.isNumeric(u)?[o.makeNumeric(u)]:o.isAlphanumeric(u)?[o.makeAlphanumeric(u)]:[o.makeBytes(o.toUtf8ByteArray(u))]}static makeEci(u){let f=[];if(u<0)throw new RangeError("ECI assignment value out of range");if(u<1<<7)n(u,8,f);else if(u<1<<14)n(2,2,f),n(u,14,f);else if(u<1e6)n(6,3,f),n(u,21,f);else throw new RangeError("ECI assignment value out of range");return new o(o.Mode.ECI,0,f)}static isNumeric(u){return o.NUMERIC_REGEX.test(u)}static isAlphanumeric(u){return o.ALPHANUMERIC_REGEX.test(u)}getData(){return this.bitData.slice()}static getTotalBits(u,f){let c=0;for(let l of u){let g=l.mode.numCharCountBits(f);if(l.numChars>=1<<g)return 1/0;c+=4+g+l.bitData.length}return c}static toUtf8ByteArray(u){u=encodeURI(u);let f=[];for(let c=0;c<u.length;c++)u.charAt(c)!="%"?f.push(u.charCodeAt(c)):(f.push(parseInt(u.substr(c+1,2),16)),c+=2);return f}},s=o;s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.QrSegment=s})(H1||(H1={}));(t=>{let e;(r=>{let n=class{constructor(a,o){this.ordinal=a,this.formatBits=o}},i=n;i.LOW=new n(0,1),i.MEDIUM=new n(1,0),i.QUARTILE=new n(2,3),i.HIGH=new n(3,2),r.Ecc=i})(e=t.QrCode||(t.QrCode={}))})(H1||(H1={}));(t=>{let e;(r=>{let n=class{constructor(a,o){this.modeBits=a,this.numBitsCharCount=o}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}},i=n;i.NUMERIC=new n(1,[10,12,14]),i.ALPHANUMERIC=new n(2,[9,11,13]),i.BYTE=new n(4,[8,16,16]),i.KANJI=new n(8,[8,10,12]),i.ECI=new n(7,[0,0,0]),r.Mode=i})(e=t.QrSegment||(t.QrSegment={}))})(H1||(H1={}));var $y=H1;var TZ={L:$y.QrCode.Ecc.LOW,M:$y.QrCode.Ecc.MEDIUM,Q:$y.QrCode.Ecc.QUARTILE,H:$y.QrCode.Ecc.HIGH},CZ=128,AZ="L",OZ="#FFFFFF",DZ="#000000",RZ=!1,kD=4,n6e=.1;function PZ(t,e=0){let r=[];return t.forEach(function(n,i){let a=null;n.forEach(function(o,s){if(!o&&a!==null){r.push(`M${a+e} ${i+e}h${s-a}v1H${a+e}z`),a=null;return}if(s===n.length-1){if(!o)return;a===null?r.push(`M${s+e},${i+e} h1v1H${s+e}z`):r.push(`M${a+e},${i+e} h${s+1-a}v1H${a+e}z`);return}o&&a===null&&(a=s)})}),r.join("")}function BZ(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((i,a)=>a<e.x||a>=e.x+e.w?i:!1))}function MZ(t,e,r,n){if(n==null)return null;let i=r?kD:0,a=t.length+i*2,o=Math.floor(e*n6e),s=a/e,u=(n.width||o)*s,f=(n.height||o)*s,c=n.x==null?t.length/2-u/2:n.x*s,l=n.y==null?t.length/2-f/2:n.y*s,g=null;if(n.excavate){let y=Math.floor(c),_=Math.floor(l),w=Math.ceil(u+c-y),S=Math.ceil(f+l-_);g={x:y,y:_,w,h:S}}return{x:c,y:l,h:f,w:u,excavation:g}}var i6e=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function NZ(t){let e=t,{value:r,size:n=CZ,level:i=AZ,bgColor:a=OZ,fgColor:o=DZ,includeMargin:s=RZ,style:u,imageSettings:f}=e,c=UD(e,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),l=f?.src,g=(0,Ca.useRef)(null),y=(0,Ca.useRef)(null),[_,w]=(0,Ca.useState)(!1);(0,Ca.useEffect)(()=>{if(g.current!=null){let O=g.current,P=O.getContext("2d");if(!P)return;let q=$y.QrCode.encodeText(r,TZ[i]).getModules(),C=s?kD:0,d=q.length+C*2,m=MZ(q,n,s,f),x=y.current,D=m!=null&&x!==null&&x.complete&&x.naturalHeight!==0&&x.naturalWidth!==0;D&&m.excavation!=null&&(q=BZ(q,m.excavation));let M=window.devicePixelRatio||1;O.height=O.width=n*M;let oe=n/d*M;P.scale(oe,oe),P.fillStyle=a,P.fillRect(0,0,d,d),P.fillStyle=o,i6e?P.fill(new Path2D(PZ(q,C))):q.forEach(function(L,b){L.forEach(function(A,R){A&&P.fillRect(R+C,b+C,1,1)})}),D&&P.drawImage(x,m.x+C,m.y+C,m.w,m.h)}}),(0,Ca.useEffect)(()=>{w(!1)},[l]);let S=s_({height:n,width:n},u),I=null;return l!=null&&(I=Ca.default.createElement("img",{src:l,key:l,style:{display:"none"},onLoad:()=>{w(!0)},ref:y})),Ca.default.createElement(Ca.default.Fragment,null,Ca.default.createElement("canvas",s_({style:S,height:n,width:n,ref:g},c)),I)}function qZ(t){let e=t,{value:r,size:n=CZ,level:i=AZ,bgColor:a=OZ,fgColor:o=DZ,includeMargin:s=RZ,imageSettings:u}=e,f=UD(e,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),c=$y.QrCode.encodeText(r,TZ[i]).getModules(),l=s?kD:0,g=c.length+l*2,y=MZ(c,n,s,u),_=null;u!=null&&y!=null&&(y.excavation!=null&&(c=BZ(c,y.excavation)),_=Ca.default.createElement("image",{xlinkHref:u.src,height:y.h,width:y.w,x:y.x+l,y:y.y+l,preserveAspectRatio:"none"}));let w=PZ(c,l);return Ca.default.createElement("svg",s_({height:n,width:n,viewBox:`0 0 ${g} ${g}`},f),Ca.default.createElement("path",{fill:a,d:`M0,0 h${g}v${g}H0z`,shapeRendering:"crispEdges"}),Ca.default.createElement("path",{fill:o,d:w,shapeRendering:"crispEdges"}),_)}var a6e=t=>{let e=t,{renderAs:r}=e,n=UD(e,["renderAs"]);return r==="svg"?Ca.default.createElement(qZ,s_({},n)):Ca.default.createElement(NZ,s_({},n))}});var Xi=E(f_=>{"use strict";h();p();var o6e=f_&&f_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(f_,"__esModule",{value:!0});var s6e=Wie(),u6e=function(t){o6e(e,t);function e(r){r===void 0&&(r=void 0);var n=t.call(this,r)||this;return n.message=r,n}return e.prototype.getKind=function(){var r=this.constructor;return r.kind},e.kind="Exception",e}(s6e.CustomError);f_.default=u6e});var VS=E(c_=>{"use strict";h();p();var f6e=c_&&c_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(c_,"__esModule",{value:!0});var c6e=Xi(),d6e=function(t){f6e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArgumentException",e}(c6e.default);c_.default=d6e});var St=E(d_=>{"use strict";h();p();var l6e=d_&&d_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(d_,"__esModule",{value:!0});var h6e=Xi(),p6e=function(t){l6e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalArgumentException",e}(h6e.default);d_.default=p6e});var HD=E(jD=>{"use strict";h();p();Object.defineProperty(jD,"__esModule",{value:!0});var g6e=St(),y6e=function(){function t(e){if(this.binarizer=e,e===null)throw new g6e.default("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(e,r){return this.binarizer.getBlackRow(e,r)},t.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,r,n,i){var a=this.binarizer.getLuminanceSource().crop(e,r,n,i);return new t(this.binarizer.createBinarizer(a))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},t}();jD.default=y6e});var zu=E(l_=>{"use strict";h();p();var v6e=l_&&l_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(l_,"__esModule",{value:!0});var m6e=Xi(),_6e=function(t){v6e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(m6e.default);l_.default=_6e});var VD=E(KD=>{"use strict";h();p();Object.defineProperty(KD,"__esModule",{value:!0});var x6e=function(){function t(e){this.source=e}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}();KD.default=x6e});var wn=E(GD=>{"use strict";h();p();Object.defineProperty(GD,"__esModule",{value:!0});var b6e=function(){function t(){}return t.arraycopy=function(e,r,n,i,a){for(;a--;)n[i++]=e[r++]},t.currentTimeMillis=function(){return Date.now()},t}();GD.default=b6e});var GS=E(h_=>{"use strict";h();p();var w6e=h_&&h_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(h_,"__esModule",{value:!0});var E6e=Xi(),S6e=function(t){w6e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IndexOutOfBoundsException",e}(E6e.default);h_.default=S6e});var UZ=E(p_=>{"use strict";h();p();var I6e=p_&&p_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(p_,"__esModule",{value:!0});var T6e=GS(),C6e=function(t){I6e(e,t);function e(r,n){r===void 0&&(r=void 0),n===void 0&&(n=void 0);var i=t.call(this,n)||this;return i.index=r,i.message=n,i}return e.kind="ArrayIndexOutOfBoundsException",e}(T6e.default);p_.default=C6e});var Yu=E(g_=>{"use strict";h();p();var A6e=g_&&g_.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(g_,"__esModule",{value:!0});var O6e=wn(),D6e=St(),kZ=UZ(),R6e=function(){function t(){}return t.fill=function(e,r){for(var n=0,i=e.length;n<i;n++)e[n]=r},t.fillWithin=function(e,r,n,i){t.rangeCheck(e.length,r,n);for(var a=r;a<n;a++)e[a]=i},t.rangeCheck=function(e,r,n){if(r>n)throw new D6e.default("fromIndex("+r+") > toIndex("+n+")");if(r<0)throw new kZ.default(r);if(n>e)throw new kZ.default(n)},t.asList=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e},t.create=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Array.from({length:r}).fill(n)})},t.createInt32Array=function(e,r,n){var i=Array.from({length:e});return i.map(function(a){return Int32Array.from({length:r}).fill(n)})},t.equals=function(e,r){if(!e||!r||!e.length||!r.length||e.length!==r.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]!==r[n])return!1;return!0},t.hashCode=function(e){var r,n;if(e===null)return 0;var i=1;try{for(var a=A6e(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=31*i+s}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.fillUint8Array=function(e,r){for(var n=0;n!==e.length;n++)e[n]=r},t.copyOf=function(e,r){return e.slice(0,r)},t.copyOfUint8Array=function(e,r){if(e.length<=r){var n=new Uint8Array(r);return n.set(e),n}return e.slice(0,r)},t.copyOfRange=function(e,r,n){var i=n-r,a=new Int32Array(i);return O6e.default.arraycopy(e,r,a,0,i),a},t.binarySearch=function(e,r,n){n===void 0&&(n=t.numberComparator);for(var i=0,a=e.length-1;i<=a;){var o=a+i>>1,s=n(r,e[o]);if(s>0)i=o+1;else if(s<0)a=o-1;else return o}return-i-1},t.numberComparator=function(e,r){return e-r},t}();g_.default=R6e});var Qa=E(zD=>{"use strict";h();p();Object.defineProperty(zD,"__esModule",{value:!0});var P6e=function(){function t(){}return t.numberOfTrailingZeros=function(e){var r;if(e===0)return 32;var n=31;return r=e<<16,r!==0&&(n-=16,e=r),r=e<<8,r!==0&&(n-=8,e=r),r=e<<4,r!==0&&(n-=4,e=r),r=e<<2,r!==0&&(n-=2,e=r),n-(e<<1>>>31)},t.numberOfLeadingZeros=function(e){if(e===0)return 32;var r=1;return e>>>16===0&&(r+=16,e<<=16),e>>>24===0&&(r+=8,e<<=8),e>>>28===0&&(r+=4,e<<=4),e>>>30===0&&(r+=2,e<<=2),r-=e>>>31,r},t.toHexString=function(e){return e.toString(16)},t.toBinaryString=function(e){return String(parseInt(String(e),2))},t.bitCount=function(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63},t.truncDivision=function(e,r){return Math.trunc(e/r)},t.parseInt=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}();zD.default=P6e});var jf=E(YD=>{"use strict";h();p();Object.defineProperty(YD,"__esModule",{value:!0});var zS=St(),jZ=Yu(),HZ=Qa(),B6e=wn(),M6e=function(){function t(e,r){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,r==null?this.bits=t.makeArray(e):this.bits=r)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>this.bits.length*32){var r=t.makeArray(e);B6e.default.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}},t.prototype.get=function(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0},t.prototype.set=function(e){this.bits[Math.floor(e/32)]|=1<<(e&31)},t.prototype.flip=function(e){this.bits[Math.floor(e/32)]^=1<<(e&31)},t.prototype.getNextSet=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=n[i]}var s=i*32+HZ.default.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.getNextUnset=function(e){var r=this.size;if(e>=r)return r;var n=this.bits,i=Math.floor(e/32),a=~n[i];a&=~((1<<(e&31))-1);for(var o=n.length;a===0;){if(++i===o)return r;a=~n[i]}var s=i*32+HZ.default.numberOfTrailingZeros(a);return s>r?r:s},t.prototype.setBulk=function(e,r){this.bits[Math.floor(e/32)]=r},t.prototype.setRange=function(e,r){if(r<e||e<0||r>this.size)throw new zS.default;if(r!==e){r--;for(var n=Math.floor(e/32),i=Math.floor(r/32),a=this.bits,o=n;o<=i;o++){var s=o>n?0:e&31,u=o<i?31:r&31,f=(2<<u)-(1<<s);a[o]|=f}}},t.prototype.clear=function(){for(var e=this.bits.length,r=this.bits,n=0;n<e;n++)r[n]=0},t.prototype.isRange=function(e,r,n){if(r<e||e<0||r>this.size)throw new zS.default;if(r===e)return!0;r--;for(var i=Math.floor(e/32),a=Math.floor(r/32),o=this.bits,s=i;s<=a;s++){var u=s>i?0:e&31,f=s<a?31:r&31,c=(2<<f)-(1<<u)&4294967295;if((o[s]&c)!==(n?c:0))return!1}return!0},t.prototype.appendBit=function(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},t.prototype.appendBits=function(e,r){if(r<0||r>32)throw new zS.default("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(var n=r;n>0;n--)this.appendBit((e>>n-1&1)===1)},t.prototype.appendBitArray=function(e){var r=e.size;this.ensureCapacity(this.size+r);for(var n=0;n<r;n++)this.appendBit(e.get(n))},t.prototype.xor=function(e){if(this.size!==e.size)throw new zS.default("Sizes don't match");for(var r=this.bits,n=0,i=r.length;n<i;n++)r[n]^=e.bits[n]},t.prototype.toBytes=function(e,r,n,i){for(var a=0;a<i;a++){for(var o=0,s=0;s<8;s++)this.get(e)&&(o|=1<<7-s),e++;r[n+a]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var e=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),n=r+1,i=this.bits,a=0;a<n;a++){var o=i[a];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,e[r-a]=o}if(this.size!==n*32){for(var s=n*32-this.size,u=e[0]>>>s,a=1;a<n;a++){var f=e[a];u|=f<<32-s,e[a-1]=u,u=f>>>s}e[n-1]=u}this.bits=e},t.makeArray=function(e){return new Int32Array(Math.floor((e+31)/32))},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.size===r.size&&jZ.default.equals(this.bits,r.bits)},t.prototype.hashCode=function(){return 31*this.size+jZ.default.hashCode(this.bits)},t.prototype.toString=function(){for(var e="",r=0,n=this.size;r<n;r++)(r&7)===0&&(e+=" "),e+=this.get(r)?"X":".";return e},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t}();YD.default=M6e});var Ji=E(XD=>{"use strict";h();p();Object.defineProperty(XD,"__esModule",{value:!0});var WD;(function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(WD||(WD={}));XD.default=WD});var Lr=E(y_=>{"use strict";h();p();var N6e=y_&&y_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(y_,"__esModule",{value:!0});var q6e=Xi(),F6e=function(t){N6e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(q6e.default);y_.default=F6e});var Jc=E(ol=>{"use strict";h();p();var L6e=ol&&ol.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ol,"__esModule",{value:!0});ol.CharacterSetValueIdentifiers=void 0;var JD=Lr(),Mt;(function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"})(Mt=ol.CharacterSetValueIdentifiers||(ol.CharacterSetValueIdentifiers={}));var U6e=function(){function t(e,r,n){for(var i,a,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];this.valueIdentifier=e,this.name=n,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(n,this);for(var u=this.values,f=0,c=u.length;f!==c;f++){var l=u[f];t.VALUES_TO_ECI.set(l,this)}try{for(var g=L6e(o),y=g.next();!y.done;y=g.next()){var _=y.value;t.NAME_TO_ECI.set(_,this)}}catch(w){i={error:w}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new JD.default("incorect value");var r=t.VALUES_TO_ECI.get(e);if(r===void 0)throw new JD.default("incorect value");return r},t.getCharacterSetECIByName=function(e){var r=t.NAME_TO_ECI.get(e);if(r===void 0)throw new JD.default("incorect value");return r},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.getName()===r.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(Mt.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(Mt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(Mt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(Mt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(Mt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(Mt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(Mt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(Mt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(Mt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(Mt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(Mt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(Mt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(Mt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(Mt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(Mt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(Mt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(Mt.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(Mt.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(Mt.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(Mt.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(Mt.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(Mt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(Mt.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(Mt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(Mt.Big5,28,"Big5"),t.GB18030=new t(Mt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(Mt.EUC_KR,30,"EUC_KR","EUC-KR"),t}();ol.default=U6e});var YS=E(v_=>{"use strict";h();p();var k6e=v_&&v_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(v_,"__esModule",{value:!0});var j6e=Xi(),H6e=function(t){k6e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="UnsupportedOperationException",e}(j6e.default);v_.default=H6e});var K1=E($D=>{"use strict";h();p();Object.defineProperty($D,"__esModule",{value:!0});var K6e=YS(),Zy=Jc(),V6e=function(){function t(){}return t.decode=function(e,r){var n=this.encodingName(r);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&e==="ISO-8859-1"},t.encode=function(e,r){var n=this.encodingName(r);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)},t.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},t.encodingName=function(e){return typeof e=="string"?e:e.getName()},t.encodingCharacterSet=function(e){return e instanceof Zy.default?e:Zy.default.getCharacterSetECIByName(e)},t.decodeFallback=function(e,r){var n=this.encodingCharacterSet(r);if(t.isDecodeFallbackSupported(n)){for(var i="",a=0,o=e.length;a<o;a++){var s=e[a].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(n.equals(Zy.default.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new K6e.default("Encoding "+this.encodingName(r)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(e){return e.equals(Zy.default.UTF8)||e.equals(Zy.default.ISO8859_1)||e.equals(Zy.default.ASCII)},t.encodeFallback=function(e){for(var r=btoa(unescape(encodeURIComponent(e))),n=r.split(""),i=[],a=0;a<n.length;a++)i.push(n[a].charCodeAt(0));return new Uint8Array(i)},t}();$D.default=V6e});var Wu=E(QD=>{"use strict";h();p();Object.defineProperty(QD,"__esModule",{value:!0});var KZ=Ji(),ZD=Jc(),VZ=K1(),G6e=function(){function t(){}return t.castAsNonUtf8Char=function(e,r){r===void 0&&(r=null);var n=r?r.getName():this.ISO88591;return VZ.default.decode(new Uint8Array([e]),n)},t.guessEncoding=function(e,r){if(r!=null&&r.get(KZ.default.CHARACTER_SET)!==void 0)return r.get(KZ.default.CHARACTER_SET).toString();for(var n=e.length,i=!0,a=!0,o=!0,s=0,u=0,f=0,c=0,l=0,g=0,y=0,_=0,w=0,S=0,I=0,O=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191,P=0;P<n&&(i||a||o);P++){var q=e[P]&255;o&&(s>0?(q&128)===0?o=!1:s--:(q&128)!==0&&((q&64)===0?o=!1:(s++,(q&32)===0?u++:(s++,(q&16)===0?f++:(s++,(q&8)===0?c++:o=!1))))),i&&(q>127&&q<160?i=!1:q>159&&(q<192||q===215||q===247)&&I++),a&&(l>0?q<64||q===127||q>252?a=!1:l--:q===128||q===160||q>239?a=!1:q>160&&q<224?(g++,_=0,y++,y>w&&(w=y)):q>127?(l++,y=0,_++,_>S&&(S=_)):(y=0,_=0))}return o&&s>0&&(o=!1),a&&l>0&&(a=!1),o&&(O||u+f+c>0)?t.UTF8:a&&(t.ASSUME_SHIFT_JIS||w>=3||S>=3)?t.SHIFT_JIS:i&&a?w===2&&g===2||I*10>=n?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:a?t.SHIFT_JIS:o?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=-1;function a(s,u,f,c,l,g){if(s==="%%")return"%";if(r[++i]!==void 0){s=c?parseInt(c.substr(1)):void 0;var y=l?parseInt(l.substr(1)):void 0,_;switch(g){case"s":_=r[i];break;case"c":_=r[i][0];break;case"f":_=parseFloat(r[i]).toFixed(s);break;case"p":_=parseFloat(r[i]).toPrecision(s);break;case"e":_=parseFloat(r[i]).toExponential(s);break;case"x":_=parseInt(r[i]).toString(y||16);break;case"d":_=parseFloat(parseInt(r[i],y||10).toPrecision(s)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(y);for(var w=parseInt(f),S=f&&f[0]+""=="0"?"0":" ";_.length<w;)_=u!==void 0?_+S:S+_;return _}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(o,a)},t.getBytes=function(e,r){return VZ.default.encode(e,r)},t.getCharCode=function(e,r){return r===void 0&&(r=0),e.charCodeAt(r)},t.getCharAt=function(e){return String.fromCharCode(e)},t.SHIFT_JIS=ZD.default.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=ZD.default.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=ZD.default.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}();QD.default=G6e});var Jr=E(eR=>{"use strict";h();p();Object.defineProperty(eR,"__esModule",{value:!0});var z6e=Wu(),Y6e=function(){function t(e){e===void 0&&(e=""),this.value=e}return t.prototype.enableDecoding=function(e){return this.encoding=e,this},t.prototype.append=function(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=z6e.default.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this},t.prototype.appendChars=function(e,r,n){for(var i=r;r<r+n;i++)this.append(e[i]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(e){return this.value.charAt(e)},t.prototype.deleteCharAt=function(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)},t.prototype.setCharAt=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+1)},t.prototype.substring=function(e,r){return this.value.substring(e,r)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(e,r){this.value=this.value.substr(0,e)+r+this.value.substr(e+r.length)},t}();eR.default=Y6e});var To=E(tR=>{"use strict";h();p();Object.defineProperty(tR,"__esModule",{value:!0});var WS=jf(),W6e=wn(),GZ=Yu(),X6e=Jr(),$c=St(),J6e=function(){function t(e,r,n,i){if(this.width=e,this.height=r,this.rowSize=n,this.bits=i,r==null&&(r=e),this.height=r,e<1||r<1)throw new $c.default("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var r=e.length,n=e[0].length,i=new t(n,r),a=0;a<r;a++)for(var o=e[a],s=0;s<n;s++)o[s]&&i.set(s,a);return i},t.parseFromString=function(e,r,n){if(e===null)throw new $c.default("stringRepresentation cannot be null");for(var i=new Array(e.length),a=0,o=0,s=-1,u=0,f=0;f<e.length;)if(e.charAt(f)===`
`||e.charAt(f)==="\r"){if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new $c.default("row lengths do not match");o=a,u++}f++}else if(e.substring(f,f+r.length)===r)f+=r.length,i[a]=!0,a++;else if(e.substring(f,f+n.length)===n)f+=n.length,i[a]=!1,a++;else throw new $c.default("illegal character encountered: "+e.substring(f));if(a>o){if(s===-1)s=a-o;else if(a-o!==s)throw new $c.default("row lengths do not match");u++}for(var c=new t(s,u),l=0;l<a;l++)i[l]&&c.set(Math.floor(l%s),Math.floor(l/s));return c},t.prototype.get=function(e,r){var n=r*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0},t.prototype.set=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295},t.prototype.unset=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)},t.prototype.flip=function(e,r){var n=r*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295},t.prototype.xor=function(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new $c.default("input matrix dimensions do not match");for(var r=new WS.default(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits,a=0,o=this.height;a<o;a++)for(var s=a*n,u=e.getRow(a,r).getBitArray(),f=0;f<n;f++)i[s+f]^=u[f]},t.prototype.clear=function(){for(var e=this.bits,r=e.length,n=0;n<r;n++)e[n]=0},t.prototype.setRegion=function(e,r,n,i){if(r<0||e<0)throw new $c.default("Left and top must be nonnegative");if(i<1||n<1)throw new $c.default("Height and width must be at least 1");var a=e+n,o=r+i;if(o>this.height||a>this.width)throw new $c.default("The region must fit inside the matrix");for(var s=this.rowSize,u=this.bits,f=r;f<o;f++)for(var c=f*s,l=e;l<a;l++)u[c+Math.floor(l/32)]|=1<<(l&31)&4294967295},t.prototype.getRow=function(e,r){r==null||r.getSize()<this.width?r=new WS.default(this.width):r.clear();for(var n=this.rowSize,i=this.bits,a=e*n,o=0;o<n;o++)r.setBulk(o*32,i[a+o]);return r},t.prototype.setRow=function(e,r){W6e.default.arraycopy(r.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var e=this.getWidth(),r=this.getHeight(),n=new WS.default(e),i=new WS.default(e),a=0,o=Math.floor((r+1)/2);a<o;a++)n=this.getRow(a,n),i=this.getRow(r-1-a,i),n.reverse(),i.reverse(),this.setRow(a,i),this.setRow(r-1-a,n)},t.prototype.getEnclosingRectangle=function(){for(var e=this.width,r=this.height,n=this.rowSize,i=this.bits,a=e,o=r,s=-1,u=-1,f=0;f<r;f++)for(var c=0;c<n;c++){var l=i[f*n+c];if(l!==0){if(f<o&&(o=f),f>u&&(u=f),c*32<a){for(var g=0;(l<<31-g&4294967295)===0;)g++;c*32+g<a&&(a=c*32+g)}if(c*32+31>s){for(var g=31;l>>>g===0;)g--;c*32+g>s&&(s=c*32+g)}}}return s<a||u<o?null:Int32Array.from([a,o,s-a+1,u-o+1])},t.prototype.getTopLeftOnBit=function(){for(var e=this.rowSize,r=this.bits,n=0;n<r.length&&r[n]===0;)n++;if(n===r.length)return null;for(var i=n/e,a=n%e*32,o=r[n],s=0;(o<<31-s&4294967295)===0;)s++;return a+=s,Int32Array.from([a,i])},t.prototype.getBottomRightOnBit=function(){for(var e=this.rowSize,r=this.bits,n=r.length-1;n>=0&&r[n]===0;)n--;if(n<0)return null;for(var i=Math.floor(n/e),a=Math.floor(n%e)*32,o=r[n],s=31;o>>>s===0;)s--;return a+=s,Int32Array.from([a,i])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&GZ.default.equals(this.bits,r.bits)},t.prototype.hashCode=function(){var e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+GZ.default.hashCode(this.bits),e},t.prototype.toString=function(e,r,n){return e===void 0&&(e="X "),r===void 0&&(r="  "),n===void 0&&(n=`
`),this.buildToString(e,r,n)},t.prototype.buildToString=function(e,r,n){for(var i=new X6e.default,a=0,o=this.height;a<o;a++){for(var s=0,u=this.width;s<u;s++)i.append(this.get(s,a)?e:r);i.append(n)}return i.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}();tR.default=J6e});var Ve=E(m_=>{"use strict";h();p();var $6e=m_&&m_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(m_,"__esModule",{value:!0});var Z6e=Xi(),Q6e=function(t){$6e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(Z6e.default);m_.default=Q6e});var rR=E(__=>{"use strict";h();p();var e8e=__&&__.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(__,"__esModule",{value:!0});var t8e=VD(),r8e=jf(),n8e=To(),i8e=Ve(),a8e=function(t){e8e(e,t);function e(r){var n=t.call(this,r)||this;return n.luminances=e.EMPTY,n.buckets=new Int32Array(e.LUMINANCE_BUCKETS),n}return e.prototype.getBlackRow=function(r,n){var i=this.getLuminanceSource(),a=i.getWidth();n==null||n.getSize()<a?n=new r8e.default(a):n.clear(),this.initArrays(a);for(var o=i.getRow(r,this.luminances),s=this.buckets,u=0;u<a;u++)s[(o[u]&255)>>e.LUMINANCE_SHIFT]++;var f=e.estimateBlackPoint(s);if(a<3)for(var u=0;u<a;u++)(o[u]&255)<f&&n.set(u);else for(var c=o[0]&255,l=o[1]&255,u=1;u<a-1;u++){var g=o[u+1]&255;(l*4-c-g)/2<f&&n.set(u),c=l,l=g}return n},e.prototype.getBlackMatrix=function(){var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight(),a=new n8e.default(n,i);this.initArrays(n);for(var o=this.buckets,s=1;s<5;s++)for(var u=Math.floor(i*s/5),f=r.getRow(u,this.luminances),c=Math.floor(n*4/5),l=Math.floor(n/5);l<c;l++){var g=f[l]&255;o[g>>e.LUMINANCE_SHIFT]++}for(var y=e.estimateBlackPoint(o),_=r.getMatrix(),s=0;s<i;s++)for(var w=s*n,l=0;l<n;l++){var g=_[w+l]&255;g<y&&a.set(l,s)}return a},e.prototype.createBinarizer=function(r){return new e(r)},e.prototype.initArrays=function(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));for(var n=this.buckets,i=0;i<e.LUMINANCE_BUCKETS;i++)n[i]=0},e.estimateBlackPoint=function(r){for(var n=r.length,i=0,a=0,o=0,s=0;s<n;s++)r[s]>o&&(a=s,o=r[s]),r[s]>i&&(i=r[s]);for(var u=0,f=0,s=0;s<n;s++){var c=s-a,l=r[s]*c*c;l>f&&(u=s,f=l)}if(a>u){var g=a;a=u,u=g}if(u-a<=n/16)throw new i8e.default;for(var y=u-1,_=-1,s=u-1;s>a;s--){var w=s-a,l=w*w*(u-s)*(i-r[s]);l>_&&(y=s,_=l)}return y<<e.LUMINANCE_SHIFT},e.LUMINANCE_BITS=5,e.LUMINANCE_SHIFT=8-e.LUMINANCE_BITS,e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(t8e.default);__.default=a8e});var nR=E(x_=>{"use strict";h();p();var o8e=x_&&x_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(x_,"__esModule",{value:!0});var s8e=rR(),u8e=To(),f8e=function(t){o8e(e,t);function e(r){var n=t.call(this,r)||this;return n.matrix=null,n}return e.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var r=this.getLuminanceSource(),n=r.getWidth(),i=r.getHeight();if(n>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var a=r.getMatrix(),o=n>>e.BLOCK_SIZE_POWER;(n&e.BLOCK_SIZE_MASK)!==0&&o++;var s=i>>e.BLOCK_SIZE_POWER;(i&e.BLOCK_SIZE_MASK)!==0&&s++;var u=e.calculateBlackPoints(a,o,s,n,i),f=new u8e.default(n,i);e.calculateThresholdForBlock(a,o,s,n,i,u,f),this.matrix=f}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(r){return new e(r)},e.calculateThresholdForBlock=function(r,n,i,a,o,s,u){for(var f=o-e.BLOCK_SIZE,c=a-e.BLOCK_SIZE,l=0;l<i;l++){var g=l<<e.BLOCK_SIZE_POWER;g>f&&(g=f);for(var y=e.cap(l,2,i-3),_=0;_<n;_++){var w=_<<e.BLOCK_SIZE_POWER;w>c&&(w=c);for(var S=e.cap(_,2,n-3),I=0,O=-2;O<=2;O++){var P=s[y+O];I+=P[S-2]+P[S-1]+P[S]+P[S+1]+P[S+2]}var q=I/25;e.thresholdBlock(r,w,g,q,a,u)}}},e.cap=function(r,n,i){return r<n?n:r>i?i:r},e.thresholdBlock=function(r,n,i,a,o,s){for(var u=0,f=i*o+n;u<e.BLOCK_SIZE;u++,f+=o)for(var c=0;c<e.BLOCK_SIZE;c++)(r[f+c]&255)<=a&&s.set(n+c,i+u)},e.calculateBlackPoints=function(r,n,i,a,o){for(var s=o-e.BLOCK_SIZE,u=a-e.BLOCK_SIZE,f=new Array(i),c=0;c<i;c++){f[c]=new Int32Array(n);var l=c<<e.BLOCK_SIZE_POWER;l>s&&(l=s);for(var g=0;g<n;g++){var y=g<<e.BLOCK_SIZE_POWER;y>u&&(y=u);for(var _=0,w=255,S=0,I=0,O=l*a+y;I<e.BLOCK_SIZE;I++,O+=a){for(var P=0;P<e.BLOCK_SIZE;P++){var q=r[O+P]&255;_+=q,q<w&&(w=q),q>S&&(S=q)}if(S-w>e.MIN_DYNAMIC_RANGE)for(I++,O+=a;I<e.BLOCK_SIZE;I++,O+=a)for(var P=0;P<e.BLOCK_SIZE;P++)_+=r[O+P]&255}var C=_>>e.BLOCK_SIZE_POWER*2;if(S-w<=e.MIN_DYNAMIC_RANGE&&(C=w/2,c>0&&g>0)){var d=(f[c-1][g]+2*f[c][g-1]+f[c-1][g-1])/4;w<d&&(C=d)}f[c][g]=C}}return f},e.BLOCK_SIZE_POWER=3,e.BLOCK_SIZE=1<<e.BLOCK_SIZE_POWER,e.BLOCK_SIZE_MASK=e.BLOCK_SIZE-1,e.MINIMUM_DIMENSION=e.BLOCK_SIZE*5,e.MIN_DYNAMIC_RANGE=24,e}(s8e.default);x_.default=f8e});var Qy=E(aR=>{"use strict";h();p();Object.defineProperty(aR,"__esModule",{value:!0});var c8e=Jr(),iR=YS(),d8e=function(){function t(e,r){this.width=e,this.height=r}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(e,r,n,i){throw new iR.default("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new iR.default("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new iR.default("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var e=new Uint8ClampedArray(this.width),r=new c8e.default,n=0;n<this.height;n++){for(var i=this.getRow(n,e),a=0;a<this.width;a++){var o=i[a]&255,s=void 0;o<64?s="#":o<128?s="+":o<192?s=".":s=" ",r.append(s)}r.append(`
`)}return r.toString()},t}();aR.default=d8e});var ev=E(b_=>{"use strict";h();p();var l8e=b_&&b_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(b_,"__esModule",{value:!0});var h8e=Qy(),p8e=function(t){l8e(e,t);function e(r){var n=t.call(this,r.getWidth(),r.getHeight())||this;return n.delegate=r,n}return e.prototype.getRow=function(r,n){for(var i=this.delegate.getRow(r,n),a=this.getWidth(),o=0;o<a;o++)i[o]=255-(i[o]&255);return i},e.prototype.getMatrix=function(){for(var r=this.delegate.getMatrix(),n=this.getWidth()*this.getHeight(),i=new Uint8ClampedArray(n),a=0;a<n;a++)i[a]=255-(r[a]&255);return i},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(r,n,i,a){return new e(this.delegate.crop(r,n,i,a))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(h8e.default);b_.default=p8e});var oR=E(tv=>{"use strict";h();p();var g8e=tv&&tv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(tv,"__esModule",{value:!0});tv.HTMLCanvasElementLuminanceSource=void 0;var y8e=ev(),v8e=Qy(),m8e=St(),_8e=function(t){g8e(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d").getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(n.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var a=new Uint8ClampedArray(n*i),o=0,s=0,u=r.length;o<u;o+=4,s++){var f=void 0,c=r[o+3];if(c===0)f=255;else{var l=r[o],g=r[o+1],y=r[o+2];f=306*l+601*g+117*y+512>>10}a[s]=f}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new m8e.default("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement(),i=n.getContext("2d"),a=r*e.DEGREE_TO_RADIANS,o=this.canvas.width,s=this.canvas.height,u=Math.ceil(Math.abs(Math.cos(a))*o+Math.abs(Math.sin(a))*s),f=Math.ceil(Math.abs(Math.sin(a))*o+Math.abs(Math.cos(a))*s);return n.width=u,n.height=f,i.translate(u/2,f/2),i.rotate(a),i.drawImage(this.canvas,o/-2,s/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new y8e.default(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(v8e.default);tv.HTMLCanvasElementLuminanceSource=_8e});var sR=E(XS=>{"use strict";h();p();Object.defineProperty(XS,"__esModule",{value:!0});XS.VideoInputDevice=void 0;var x8e=function(){function t(e,r,n){this.deviceId=e,this.label=r,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}();XS.VideoInputDevice=x8e});var sl=E(Kf=>{"use strict";h();p();var Aa=Kf&&Kf.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{f(n.next(c))}catch(l){o(l)}}function u(c){try{f(n.throw(c))}catch(l){o(l)}}function f(c){c.done?a(c.value):i(c.value).then(s,u)}f((n=n.apply(t,e||[])).next())})},Oa=Kf&&Kf.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(c){return u([f,c])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(c){f=[6,c],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},b8e=Kf&&Kf.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Kf,"__esModule",{value:!0});Kf.BrowserCodeReader=void 0;var Hf=VS(),w8e=HD(),zZ=zu(),E8e=nR(),YZ=Lr(),uR=Ve(),S8e=oR(),I8e=sR(),T8e=function(){function t(e,r,n){r===void 0&&(r=500),this.reader=e,this.timeBetweenScansMillis=r,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(e){this._timeBetweenDecodingAttempts=e<0?0:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(e){this._hints=e||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return Aa(this,void 0,void 0,function(){var e,r,n,i,a,o,s,u,f,c,l,g;return Oa(this,function(y){switch(y.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=y.sent(),r=[];try{for(n=b8e(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,u=a.label||"Video device "+(r.length+1),f=a.groupId,c={deviceId:s,label:u,kind:o,groupId:f},r.push(c))}catch(_){l={error:_}}finally{try{i&&!i.done&&(g=n.return)&&g.call(n)}finally{if(l)throw l.error}}return[2,r]}})})},t.prototype.getVideoInputDevices=function(){return Aa(this,void 0,void 0,function(){var e;return Oa(this,function(r){switch(r.label){case 0:return[4,this.listVideoInputDevices()];case 1:return e=r.sent(),[2,e.map(function(n){return new I8e.VideoInputDevice(n.deviceId,n.label)})]}})})},t.prototype.findDeviceById=function(e){return Aa(this,void 0,void 0,function(){var r;return Oa(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(e,r){return Aa(this,void 0,void 0,function(){return Oa(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(e,r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Aa(this,void 0,void 0,function(){var n,i;return Oa(this,function(a){switch(a.label){case 0:return this.reset(),e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Aa(this,void 0,void 0,function(){var n;return Oa(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Aa(this,void 0,void 0,function(){var n,i;return Oa(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return n=a.sent(),[4,this.decodeOnce(n)];case 2:return i=a.sent(),[2,i]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(e,r,n){return Aa(this,void 0,void 0,function(){return Oa(this,function(i){switch(i.label){case 0:return[4,this.decodeFromVideoDevice(e,r,n)];case 1:return[2,i.sent()]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Aa(this,void 0,void 0,function(){var i,a;return Oa(this,function(o){switch(o.label){case 0:return e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Aa(this,void 0,void 0,function(){var i;return Oa(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return i=a.sent(),[4,this.decodeFromStream(i,r,n)];case 2:return[2,a.sent()]}})})},t.prototype.decodeFromStream=function(e,r,n){return Aa(this,void 0,void 0,function(){var i;return Oa(this,function(a){switch(a.label){case 0:return this.reset(),[4,this.attachStreamToVideo(e,r)];case 1:return i=a.sent(),[4,this.decodeContinuously(i,n)];case 2:return[2,a.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(e,r){return Aa(this,void 0,void 0,function(){var n;return Oa(this,function(i){switch(i.label){case 0:return n=this.prepareVideoElement(r),this.addVideoSource(n,e),this.videoElement=n,this.stream=e,[4,this.playVideoOnLoadAsync(n)];case 1:return i.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(e){var r=this;return new Promise(function(n,i){return r.playVideoOnLoad(e,function(){return n()})})},t.prototype.playVideoOnLoad=function(e,r){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(e)},e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",r),this.tryPlayVideo(e)},t.prototype.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2},t.prototype.tryPlayVideo=function(e){return Aa(this,void 0,void 0,function(){var r;return Oa(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new Hf.default("element with id '"+e+"' not found");if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new Hf.default("element with id '"+e+"' must be an "+r+" element");return n},t.prototype.decodeFromImage=function(e,r){if(!e&&!r)throw new Hf.default("either imageElement with a src set or an url must be provided");return r&&!e?this.decodeFromImageUrl(r):this.decodeFromImageElement(e)},t.prototype.decodeFromVideo=function(e,r){if(!e&&!r)throw new Hf.default("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(e)},t.prototype.decodeFromVideoContinuously=function(e,r,n){if(e===void 0&&r===void 0)throw new Hf.default("Either an element with a src set or an URL must be provided");return r&&!e?this.decodeFromVideoUrlContinuously(r,n):this.decodeFromVideoElementContinuously(e,n)},t.prototype.decodeFromImageElement=function(e){if(!e)throw new Hf.default("An image element must be provided.");this.reset();var r=this.prepareImageElement(e);this.imageElement=r;var n;return this.isImageLoaded(r)?n=this.decodeOnce(r,!1,!0):n=this._decodeOnLoadImage(r),n},t.prototype.decodeFromVideoElement=function(e){var r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(r)},t.prototype.decodeFromVideoElementContinuously=function(e,r){var n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,r)},t.prototype._decodeFromVideoElementSetup=function(e){if(!e)throw new Hf.default("A video element must be provided.");this.reset();var r=this.prepareVideoElement(e);return this.videoElement=r,r},t.prototype.decodeFromImageUrl=function(e){if(!e)throw new Hf.default("An URL must be provided.");this.reset();var r=this.prepareImageElement();this.imageElement=r;var n=this._decodeOnLoadImage(r);return r.src=e,n},t.prototype.decodeFromVideoUrl=function(e){if(!e)throw new Hf.default("An URL must be provided.");this.reset();var r=this.prepareVideoElement(),n=this.decodeFromVideoElement(r);return r.src=e,n},t.prototype.decodeFromVideoUrlContinuously=function(e,r){if(!e)throw new Hf.default("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,r);return n.src=e,i},t.prototype._decodeOnLoadImage=function(e){var r=this;return new Promise(function(n,i){r.imageLoadedListener=function(){return r.decodeOnce(e,!1,!0).then(n,i)},e.addEventListener("load",r.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(e){return Aa(this,void 0,void 0,function(){return Oa(this,function(r){switch(r.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return r.sent(),[4,this.decodeOnce(e)];case 2:return[2,r.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(e,r){return Aa(this,void 0,void 0,function(){return Oa(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(e)];case 1:return n.sent(),this.decodeContinuously(e,r),[2]}})})},t.prototype.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.prototype.prepareImageElement=function(e){var r;return typeof e>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(r=e),r},t.prototype.prepareVideoElement=function(e){var r;return!e&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof e=="string"&&(r=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(r=e),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.prototype.decodeOnce=function(e,r,n){var i=this;r===void 0&&(r=!0),n===void 0&&(n=!0),this._stopAsyncDecode=!1;var a=function(o,s){if(i._stopAsyncDecode){s(new uR.default("Video stream has ended before any code could be detected.")),i._stopAsyncDecode=void 0;return}try{var u=i.decode(e);o(u)}catch(g){var f=r&&g instanceof uR.default,c=g instanceof zZ.default||g instanceof YZ.default,l=c&&n;if(f||l)return setTimeout(a,i._timeBetweenDecodingAttempts,o,s);s(g)}};return new Promise(function(o,s){return a(o,s)})},t.prototype.decodeContinuously=function(e,r){var n=this;this._stopContinuousDecode=!1;var i=function(){if(n._stopContinuousDecode){n._stopContinuousDecode=void 0;return}try{var a=n.decode(e);r(a,null),setTimeout(i,n.timeBetweenScansMillis)}catch(u){r(null,u);var o=u instanceof zZ.default||u instanceof YZ.default,s=u instanceof uR.default;(o||s)&&setTimeout(i,n._timeBetweenDecodingAttempts)}};i()},t.prototype.decode=function(e){var r=this.createBinaryBitmap(e);return this.decodeBitmap(r)},t.prototype._isHTMLVideoElement=function(e){var r=e;return r.videoWidth!==0},t.prototype.createBinaryBitmap=function(e){var r=this.getCaptureCanvasContext(e);this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);var n=this.getCaptureCanvas(e),i=new S8e.HTMLCanvasElementLuminanceSource(n),a=new E8e.default(i);return new w8e.default(a)},t.prototype.getCaptureCanvasContext=function(e){if(!this.captureCanvasContext){var r=this.getCaptureCanvas(e),n=void 0;try{n=r.getContext("2d",{willReadFrequently:!0})}catch{n=r.getContext("2d")}this.captureCanvasContext=n}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(e){if(!this.captureCanvas){var r=this.createCaptureCanvas(e);this.captureCanvas=r}return this.captureCanvas},t.prototype.drawFrameOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.drawImageOnCanvas=function(e,r,n){r===void 0&&(r={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),n===void 0&&(n=this.captureCanvasContext),n.drawImage(e,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this._hints)},t.prototype.createCaptureCanvas=function(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var r=document.createElement("canvas"),n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),r.style.width=n+"px",r.style.height=i+"px",r.width=n,r.height=i,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(e){return e.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){!this.videoElement||(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(e,r){try{e.srcObject=r}catch{e.src=URL.createObjectURL(r)}},t.prototype.cleanVideoSource=function(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")},t}();Kf.BrowserCodeReader=T8e});var $i=E(fR=>{"use strict";h();p();Object.defineProperty(fR,"__esModule",{value:!0});var JS=wn(),C8e=function(){function t(e,r,n,i,a,o){n===void 0&&(n=r==null?0:8*r.length),o===void 0&&(o=JS.default.currentTimeMillis()),this.text=e,this.rawBytes=r,this.numBits=n,this.resultPoints=i,this.format=a,this.timestamp=o,this.text=e,this.rawBytes=r,n==null?this.numBits=r==null?0:8*r.length:this.numBits=n,this.resultPoints=i,this.format=a,this.resultMetadata=null,o==null?this.timestamp=JS.default.currentTimeMillis():this.timestamp=o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(e,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,r)},t.prototype.putAllMetadata=function(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))},t.prototype.addResultPoints=function(e){var r=this.resultPoints;if(r===null)this.resultPoints=e;else if(e!==null&&e.length>0){var n=new Array(r.length+e.length);JS.default.arraycopy(r,0,n,0,r.length),JS.default.arraycopy(e,0,n,r.length,e.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}();fR.default=C8e});var yr=E(dR=>{"use strict";h();p();Object.defineProperty(dR,"__esModule",{value:!0});var cR;(function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(cR||(cR={}));dR.default=cR});var Vf=E(hR=>{"use strict";h();p();Object.defineProperty(hR,"__esModule",{value:!0});var lR;(function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(lR||(lR={}));hR.default=lR});var rv=E(pR=>{"use strict";h();p();Object.defineProperty(pR,"__esModule",{value:!0});var A8e=function(){function t(e,r,n,i,a,o){a===void 0&&(a=-1),o===void 0&&(o=-1),this.rawBytes=e,this.text=r,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=a,this.structuredAppendParity=o,this.numBits=e==null?0:8*e.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(e){this.numBits=e},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(e){this.errorsCorrected=e},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(e){this.erasures=e},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(e){this.other=e},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}();pR.default=A8e});var yR=E(gR=>{"use strict";h();p();Object.defineProperty(gR,"__esModule",{value:!0});var O8e=St(),D8e=function(){function t(){}return t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new O8e.default;return this.logTable[e]},t.addOrSubtract=function(e,r){return e^r},t}();gR.default=D8e});var w_=E(vR=>{"use strict";h();p();Object.defineProperty(vR,"__esModule",{value:!0});var $S=yR(),WZ=wn(),nv=St(),R8e=function(){function t(e,r){if(r.length===0)throw new nv.default;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),WZ.default.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){if(e===0)return this.getCoefficient(0);var r=this.coefficients,n;if(e===1){n=0;for(var i=0,a=r.length;i!==a;i++){var o=r[i];n=$S.default.addOrSubtract(n,o)}return n}n=r[0];for(var s=r.length,u=this.field,i=1;i<s;i++)n=$S.default.addOrSubtract(u.multiply(e,n),r[i]);return n},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new nv.default("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;WZ.default.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=$S.default.addOrSubtract(r[s-o],n[s]);return new t(this.field,a)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new nv.default("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=this.field,u=0;u<n;u++)for(var f=r[u],c=0;c<a;c++)o[u+c]=$S.default.addOrSubtract(o[u+c],s.multiply(f,i[c]));return new t(s,o)},t.prototype.multiplyScalar=function(e){if(e===0)return this.field.getZero();if(e===1)return this;for(var r=this.coefficients.length,n=this.field,i=new Int32Array(r),a=this.coefficients,o=0;o<r;o++)i[o]=n.multiply(a[o],e);return new t(n,i)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new nv.default;if(r===0)return this.field.getZero();for(var n=this.coefficients,i=n.length,a=new Int32Array(i+e),o=this.field,s=0;s<i;s++)a[s]=o.multiply(n[s],r);return new t(o,a)},t.prototype.divide=function(e){if(!this.field.equals(e.field))throw new nv.default("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new nv.default("Divide by 0");for(var r=this.field,n=r.getZero(),i=this,a=e.getCoefficient(e.getDegree()),o=r.inverse(a);i.getDegree()>=e.getDegree()&&!i.isZero();){var s=i.getDegree()-e.getDegree(),u=r.multiply(i.getCoefficient(i.getDegree()),o),f=e.multiplyByMonomial(s,u),c=r.buildMonomial(s,u);n=n.addOrSubtract(c),i=i.addOrSubtract(f)}return[n,i]},t.prototype.toString=function(){for(var e="",r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),r===0||n!==1){var i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}r!==0&&(r===1?e+="x":(e+="x^",e+=r))}}return e},t}();vR.default=R8e});var ZS=E(E_=>{"use strict";h();p();var P8e=E_&&E_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(E_,"__esModule",{value:!0});var B8e=Xi(),M8e=function(t){P8e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ArithmeticException",e}(B8e.default);E_.default=M8e});var Zc=E(S_=>{"use strict";h();p();var N8e=S_&&S_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(S_,"__esModule",{value:!0});var mR=w_(),q8e=yR(),F8e=Qa(),L8e=St(),U8e=ZS(),k8e=function(t){N8e(e,t);function e(r,n,i){var a=t.call(this)||this;a.primitive=r,a.size=n,a.generatorBase=i;for(var o=new Int32Array(n),s=1,u=0;u<n;u++)o[u]=s,s*=2,s>=n&&(s^=r,s&=n-1);a.expTable=o;for(var f=new Int32Array(n),u=0;u<n-1;u++)f[o[u]]=u;return a.logTable=f,a.zero=new mR.default(a,Int32Array.from([0])),a.one=new mR.default(a,Int32Array.from([1])),a}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new L8e.default;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new mR.default(this,i)},e.prototype.inverse=function(r){if(r===0)throw new U8e.default;return this.expTable[this.size-this.logTable[r]-1]},e.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+F8e.default.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(r){return r===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(q8e.default);S_.default=k8e});var _R=E(I_=>{"use strict";h();p();var j8e=I_&&I_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(I_,"__esModule",{value:!0});var H8e=Xi(),K8e=function(t){j8e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReedSolomonException",e}(H8e.default);I_.default=K8e});var Gf=E(T_=>{"use strict";h();p();var V8e=T_&&T_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(T_,"__esModule",{value:!0});var G8e=Xi(),z8e=function(t){V8e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="IllegalStateException",e}(G8e.default);T_.default=z8e});var iv=E(xR=>{"use strict";h();p();Object.defineProperty(xR,"__esModule",{value:!0});var Y8e=Zc(),XZ=w_(),QS=_R(),W8e=Gf(),X8e=function(){function t(e){this.field=e}return t.prototype.decode=function(e,r){for(var n=this.field,i=new XZ.default(n,e),a=new Int32Array(r),o=!0,s=0;s<r;s++){var u=i.evaluateAt(n.exp(s+n.getGeneratorBase()));a[a.length-1-s]=u,u!==0&&(o=!1)}if(!o)for(var f=new XZ.default(n,a),c=this.runEuclideanAlgorithm(n.buildMonomial(r,1),f,r),l=c[0],g=c[1],y=this.findErrorLocations(l),_=this.findErrorMagnitudes(g,y),s=0;s<y.length;s++){var w=e.length-1-n.log(y[s]);if(w<0)throw new QS.default("Bad error location");e[w]=Y8e.default.addOrSubtract(e[w],_[s])}},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=this.field,o=e,s=r,u=a.getZero(),f=a.getOne();s.getDegree()>=(n/2|0);){var c=o,l=u;if(o=s,u=f,o.isZero())throw new QS.default("r_{i-1} was zero");s=c;for(var g=a.getZero(),y=o.getCoefficient(o.getDegree()),_=a.inverse(y);s.getDegree()>=o.getDegree()&&!s.isZero();){var w=s.getDegree()-o.getDegree(),S=a.multiply(s.getCoefficient(s.getDegree()),_);g=g.addOrSubtract(a.buildMonomial(w,S)),s=s.addOrSubtract(o.multiplyByMonomial(w,S))}if(f=g.multiply(u).addOrSubtract(l),s.getDegree()>=o.getDegree())throw new W8e.default("Division algorithm failed to reduce polynomial?")}var I=f.getCoefficient(0);if(I===0)throw new QS.default("sigmaTilde(0) was zero");var O=a.inverse(I),P=f.multiplyScalar(O),q=s.multiplyScalar(O);return[P,q]},t.prototype.findErrorLocations=function(e){var r=e.getDegree();if(r===1)return Int32Array.from([e.getCoefficient(1)]);for(var n=new Int32Array(r),i=0,a=this.field,o=1;o<a.getSize()&&i<r;o++)e.evaluateAt(o)===0&&(n[i]=a.inverse(o),i++);if(i!==r)throw new QS.default("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(e,r){for(var n=r.length,i=new Int32Array(n),a=this.field,o=0;o<n;o++){for(var s=a.inverse(r[o]),u=1,f=0;f<n;f++)if(o!==f){var c=a.multiply(r[f],s),l=(c&1)===0?c|1:c&-2;u=a.multiply(u,l)}i[o]=a.multiply(e.evaluateAt(s),a.inverse(u)),a.getGeneratorBase()!==0&&(i[o]=a.multiply(i[o],s))}return i},t}();xR.default=X8e});var ER=E(wR=>{"use strict";h();p();Object.defineProperty(wR,"__esModule",{value:!0});var J8e=rv(),eI=Zc(),$8e=iv(),Z8e=Gf(),bR=Lr(),Q8e=Wu(),tI=Qa(),Xn;(function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"})(Xn||(Xn={}));var eEe=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var r=e.getBits(),n=this.extractBits(r),i=this.correctBits(n),a=t.convertBoolArrayToByteArray(i),o=t.getEncodedData(i),s=new J8e.default(a,o,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(e){return this.getEncodedData(e)},t.getEncodedData=function(e){for(var r=e.length,n=Xn.UPPER,i=Xn.UPPER,a="",o=0;o<r;)if(i===Xn.BINARY){if(r-o<5)break;var s=t.readCode(e,o,5);if(o+=5,s===0){if(r-o<11)break;s=t.readCode(e,o,11)+31,o+=11}for(var u=0;u<s;u++){if(r-o<8){o=r;break}var f=t.readCode(e,o,8);a+=Q8e.default.castAsNonUtf8Char(f),o+=8}i=n}else{var c=i===Xn.DIGIT?4:5;if(r-o<c)break;var f=t.readCode(e,o,c);o+=c;var l=t.getCharacter(i,f);l.startsWith("CTRL_")?(n=i,i=t.getTable(l.charAt(5)),l.charAt(6)==="L"&&(n=i)):(a+=l,i=n)}return a},t.getTable=function(e){switch(e){case"L":return Xn.LOWER;case"P":return Xn.PUNCT;case"M":return Xn.MIXED;case"D":return Xn.DIGIT;case"B":return Xn.BINARY;case"U":default:return Xn.UPPER}},t.getCharacter=function(e,r){switch(e){case Xn.UPPER:return t.UPPER_TABLE[r];case Xn.LOWER:return t.LOWER_TABLE[r];case Xn.MIXED:return t.MIXED_TABLE[r];case Xn.PUNCT:return t.PUNCT_TABLE[r];case Xn.DIGIT:return t.DIGIT_TABLE[r];default:throw new Z8e.default("Bad table")}},t.prototype.correctBits=function(e){var r,n;this.ddata.getNbLayers()<=2?(n=6,r=eI.default.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,r=eI.default.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,r=eI.default.AZTEC_DATA_10):(n=12,r=eI.default.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),a=e.length/n;if(a<i)throw new bR.default;for(var o=e.length%n,s=new Int32Array(a),u=0;u<a;u++,o+=n)s[u]=t.readCode(e,o,n);try{var f=new $8e.default(r);f.decode(s,a-i)}catch(S){throw new bR.default(S)}for(var c=(1<<n)-1,l=0,u=0;u<i;u++){var g=s[u];if(g===0||g===c)throw new bR.default;(g===1||g===c-1)&&l++}for(var y=new Array(i*n-l),_=0,u=0;u<i;u++){var g=s[u];if(g===1||g===c-1)y.fill(g>1,_,_+n-1),_+=n-1;else for(var w=n-1;w>=0;--w)y[_++]=(g&1<<w)!==0}return y},t.prototype.extractBits=function(e){var r=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(r?11:14)+n*4,a=new Int32Array(i),o=new Array(this.totalBitsInLayer(n,r));if(r)for(var s=0;s<a.length;s++)a[s]=s;else for(var u=i+1+2*tI.default.truncDivision(tI.default.truncDivision(i,2)-1,15),f=i/2,c=tI.default.truncDivision(u,2),s=0;s<f;s++){var l=s+tI.default.truncDivision(s,15);a[f-s-1]=c-l-1,a[f+s]=c+l+1}for(var s=0,g=0;s<n;s++){for(var y=(n-s)*4+(r?9:12),_=s*2,w=i-1-_,S=0;S<y;S++)for(var I=S*2,O=0;O<2;O++)o[g+I+O]=e.get(a[_+O],a[_+S]),o[g+2*y+I+O]=e.get(a[_+S],a[w-O]),o[g+4*y+I+O]=e.get(a[w-O],a[w-S]),o[g+6*y+I+O]=e.get(a[w-S],a[_+O]);g+=y*8}return o},t.readCode=function(e,r,n){for(var i=0,a=r;a<r+n;a++)i<<=1,e[a]&&(i|=1);return i},t.readByte=function(e,r){var n=e.length-r;return n>=8?t.readCode(e,r,8):t.readCode(e,r,n)<<8-n},t.convertBoolArrayToByteArray=function(e){for(var r=new Uint8Array((e.length+7)/8),n=0;n<r.length;n++)r[n]=t.readByte(e,8*n);return r},t.prototype.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}();wR.default=eEe});var Ws=E(SR=>{"use strict";h();p();Object.defineProperty(SR,"__esModule",{value:!0});var tEe=function(){function t(){}return t.round=function(e){return isNaN(e)?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0},t.distance=function(e,r,n,i){var a=e-n,o=r-i;return Math.sqrt(a*a+o*o)},t.sum=function(e){for(var r=0,n=0,i=e.length;n!==i;n++){var a=e[n];r+=a}return r},t}();SR.default=tEe});var TR=E(IR=>{"use strict";h();p();Object.defineProperty(IR,"__esModule",{value:!0});var rEe=function(){function t(){}return t.floatToIntBits=function(e){return e},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}();IR.default=rEe});var $r=E(CR=>{"use strict";h();p();Object.defineProperty(CR,"__esModule",{value:!0});var nEe=Ws(),JZ=TR(),iEe=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){if(e instanceof t){var r=e;return this.x===r.x&&this.y===r.y}return!1},t.prototype.hashCode=function(){return 31*JZ.default.floatToIntBits(this.x)+JZ.default.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(e){var r=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]),a,o,s;if(n>=r&&n>=i?(o=e[0],a=e[1],s=e[2]):i>=n&&i>=r?(o=e[1],a=e[0],s=e[2]):(o=e[2],a=e[0],s=e[1]),this.crossProductZ(a,o,s)<0){var u=a;a=s,s=u}e[0]=a,e[1]=o,e[2]=s},t.distance=function(e,r){return nEe.default.distance(e.x,e.y,r.x,r.y)},t.crossProductZ=function(e,r,n){var i=r.x,a=r.y;return(n.x-i)*(e.y-a)-(n.y-a)*(e.x-i)},t}();CR.default=iEe});var C_=E(AR=>{"use strict";h();p();Object.defineProperty(AR,"__esModule",{value:!0});var aEe=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}();AR.default=aEe});var OR=E(A_=>{"use strict";h();p();var oEe=A_&&A_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(A_,"__esModule",{value:!0});var sEe=C_(),uEe=function(t){oEe(e,t);function e(r,n,i,a,o){var s=t.call(this,r,n)||this;return s.compact=i,s.nbDatablocks=a,s.nbLayers=o,s}return e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(sEe.default);A_.default=uEe});var nI=E(DR=>{"use strict";h();p();Object.defineProperty(DR,"__esModule",{value:!0});var Qc=$r(),rI=Ws(),av=Ve(),fEe=function(){function t(e,r,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),r==null&&(r=t.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);var a=r/2|0;if(this.leftInit=n-a,this.rightInit=n+a,this.upInit=i-a,this.downInit=i+a,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new av.default}return t.prototype.detect=function(){for(var e=this.leftInit,r=this.rightInit,n=this.upInit,i=this.downInit,a=!1,o=!0,s=!1,u=!1,f=!1,c=!1,l=!1,g=this.width,y=this.height;o;){o=!1;for(var _=!0;(_||!u)&&r<g;)_=this.containsBlackPoint(n,i,r,!1),_?(r++,o=!0,u=!0):u||r++;if(r>=g){a=!0;break}for(var w=!0;(w||!f)&&i<y;)w=this.containsBlackPoint(e,r,i,!0),w?(i++,o=!0,f=!0):f||i++;if(i>=y){a=!0;break}for(var S=!0;(S||!c)&&e>=0;)S=this.containsBlackPoint(n,i,e,!1),S?(e--,o=!0,c=!0):c||e--;if(e<0){a=!0;break}for(var I=!0;(I||!l)&&n>=0;)I=this.containsBlackPoint(e,r,n,!0),I?(n--,o=!0,l=!0):l||n--;if(n<0){a=!0;break}o&&(s=!0)}if(!a&&s){for(var O=r-e,P=null,q=1;P===null&&q<O;q++)P=this.getBlackPointOnSegment(e,i-q,e+q,i);if(P==null)throw new av.default;for(var C=null,q=1;C===null&&q<O;q++)C=this.getBlackPointOnSegment(e,n+q,e+q,n);if(C==null)throw new av.default;for(var d=null,q=1;d===null&&q<O;q++)d=this.getBlackPointOnSegment(r,n+q,r-q,n);if(d==null)throw new av.default;for(var m=null,q=1;m===null&&q<O;q++)m=this.getBlackPointOnSegment(r,i-q,r-q,i);if(m==null)throw new av.default;return this.centerEdges(m,P,d,C)}else throw new av.default},t.prototype.getBlackPointOnSegment=function(e,r,n,i){for(var a=rI.default.round(rI.default.distance(e,r,n,i)),o=(n-e)/a,s=(i-r)/a,u=this.image,f=0;f<a;f++){var c=rI.default.round(e+f*o),l=rI.default.round(r+f*s);if(u.get(c,l))return new Qc.default(c,l)}return null},t.prototype.centerEdges=function(e,r,n,i){var a=e.getX(),o=e.getY(),s=r.getX(),u=r.getY(),f=n.getX(),c=n.getY(),l=i.getX(),g=i.getY(),y=t.CORR;return a<this.width/2?[new Qc.default(l-y,g+y),new Qc.default(s+y,u+y),new Qc.default(f-y,c-y),new Qc.default(a+y,o-y)]:[new Qc.default(l+y,g+y),new Qc.default(s+y,u-y),new Qc.default(f-y,c+y),new Qc.default(a-y,o-y)]},t.prototype.containsBlackPoint=function(e,r,n,i){var a=this.image;if(i){for(var o=e;o<=r;o++)if(a.get(o,n))return!0}else for(var s=e;s<=r;s++)if(a.get(n,s))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}();DR.default=fEe});var PR=E(RR=>{"use strict";h();p();Object.defineProperty(RR,"__esModule",{value:!0});var $Z=Ve(),cEe=function(){function t(){}return t.checkAndNudgePoints=function(e,r){for(var n=e.getWidth(),i=e.getHeight(),a=!0,o=0;o<r.length&&a;o+=2){var s=Math.floor(r[o]),u=Math.floor(r[o+1]);if(s<-1||s>n||u<-1||u>i)throw new $Z.default;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),u===-1?(r[o+1]=0,a=!0):u===i&&(r[o+1]=i-1,a=!0)}a=!0;for(var o=r.length-2;o>=0&&a;o-=2){var s=Math.floor(r[o]),u=Math.floor(r[o+1]);if(s<-1||s>n||u<-1||u>i)throw new $Z.default;a=!1,s===-1?(r[o]=0,a=!0):s===n&&(r[o]=n-1,a=!0),u===-1?(r[o+1]=0,a=!0):u===i&&(r[o+1]=i-1,a=!0)}},t}();RR.default=cEe});var iI=E(BR=>{"use strict";h();p();Object.defineProperty(BR,"__esModule",{value:!0});var dEe=function(){function t(e,r,n,i,a,o,s,u,f){this.a11=e,this.a21=r,this.a31=n,this.a12=i,this.a22=a,this.a32=o,this.a13=s,this.a23=u,this.a33=f}return t.quadrilateralToQuadrilateral=function(e,r,n,i,a,o,s,u,f,c,l,g,y,_,w,S){var I=t.quadrilateralToSquare(e,r,n,i,a,o,s,u),O=t.squareToQuadrilateral(f,c,l,g,y,_,w,S);return O.times(I)},t.prototype.transformPoints=function(e){for(var r=e.length,n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,f=this.a31,c=this.a32,l=this.a33,g=0;g<r;g+=2){var y=e[g],_=e[g+1],w=a*y+u*_+l;e[g]=(n*y+o*_+f)/w,e[g+1]=(i*y+s*_+c)/w}},t.prototype.transformPointsWithValues=function(e,r){for(var n=this.a11,i=this.a12,a=this.a13,o=this.a21,s=this.a22,u=this.a23,f=this.a31,c=this.a32,l=this.a33,g=e.length,y=0;y<g;y++){var _=e[y],w=r[y],S=a*_+u*w+l;e[y]=(n*_+o*w+f)/S,r[y]=(i*_+s*w+c)/S}},t.squareToQuadrilateral=function(e,r,n,i,a,o,s,u){var f=e-n+a-s,c=r-i+o-u;if(f===0&&c===0)return new t(n-e,a-n,e,i-r,o-i,r,0,0,1);var l=n-a,g=s-a,y=i-o,_=u-o,w=l*_-g*y,S=(f*_-g*c)/w,I=(l*c-f*y)/w;return new t(n-e+S*n,s-e+I*s,e,i-r+S*i,u-r+I*u,r,S,I,1)},t.quadrilateralToSquare=function(e,r,n,i,a,o,s,u){return t.squareToQuadrilateral(e,r,n,i,a,o,s,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}();BR.default=dEe});var MR=E(O_=>{"use strict";h();p();var lEe=O_&&O_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(O_,"__esModule",{value:!0});var ZZ=PR(),hEe=To(),pEe=iI(),QZ=Ve(),gEe=function(t){lEe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.sampleGrid=function(r,n,i,a,o,s,u,f,c,l,g,y,_,w,S,I,O,P,q){var C=pEe.default.quadrilateralToQuadrilateral(a,o,s,u,f,c,l,g,y,_,w,S,I,O,P,q);return this.sampleGridWithTransform(r,n,i,C)},e.prototype.sampleGridWithTransform=function(r,n,i,a){if(n<=0||i<=0)throw new QZ.default;for(var o=new hEe.default(n,i),s=new Float32Array(2*n),u=0;u<i;u++){for(var f=s.length,c=u+.5,l=0;l<f;l+=2)s[l]=l/2+.5,s[l+1]=c;a.transformPoints(s),ZZ.default.checkAndNudgePoints(r,s);try{for(var l=0;l<f;l+=2)r.get(Math.floor(s[l]),Math.floor(s[l+1]))&&o.set(l/2,u)}catch{throw new QZ.default}}return o},e}(ZZ.default);O_.default=gEe});var D_=E(NR=>{"use strict";h();p();Object.defineProperty(NR,"__esModule",{value:!0});var yEe=MR(),vEe=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new yEe.default,t}();NR.default=vEe});var oI=E(R_=>{"use strict";h();p();Object.defineProperty(R_,"__esModule",{value:!0});R_.Point=void 0;var e0=$r(),mEe=OR(),Xs=Ws(),eQ=nI(),_Ee=Zc(),xEe=iv(),aI=Ve(),bEe=D_(),tQ=Qa(),Da=function(){function t(e,r){this.x=e,this.y=r}return t.prototype.toResultPoint=function(){return new e0.default(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}();R_.Point=Da;var wEe=function(){function t(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(e){var r=this.getMatrixCenter(),n=this.getBullsEyeCorners(r);if(e){var i=n[0];n[0]=n[2],n[2]=i}this.extractParameters(n);var a=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new mEe.default(a,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new aI.default;var r=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],r),this.sampleLine(e[1],e[2],r),this.sampleLine(e[2],e[3],r),this.sampleLine(e[3],e[0],r)]);this.shift=this.getRotation(n,r);for(var i=0,a=0;a<4;a++){var o=n[(this.shift+a)%4];this.compact?(i<<=7,i+=o>>1&127):(i<<=10,i+=(o>>2&31<<5)+(o>>1&31))}var s=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)},t.prototype.getRotation=function(e,r){var n=0;e.forEach(function(a,o,s){var u=(a>>r-2<<1)+(a&1);n=(n<<3)+u}),n=((n&1)<<11)+(n>>1);for(var i=0;i<4;i++)if(tQ.default.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new aI.default},t.prototype.getCorrectedParameterData=function(e,r){var n,i;r?(n=7,i=2):(n=10,i=4);for(var a=n-i,o=new Int32Array(n),s=n-1;s>=0;--s)o[s]=e&15,e>>=4;try{var u=new xEe.default(_Ee.default.AZTEC_PARAM);u.decode(o,a)}catch{throw new aI.default}for(var f=0,s=0;s<i;s++)f=(f<<4)+o[s];return f},t.prototype.getBullsEyeCorners=function(e){var r=e,n=e,i=e,a=e,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var s=this.getFirstDifferent(r,o,1,-1),u=this.getFirstDifferent(n,o,1,1),f=this.getFirstDifferent(i,o,-1,1),c=this.getFirstDifferent(a,o,-1,-1);if(this.nbCenterLayers>2){var l=this.distancePoint(c,s)*this.nbCenterLayers/(this.distancePoint(a,r)*(this.nbCenterLayers+2));if(l<.75||l>1.25||!this.isWhiteOrBlackRectangle(s,u,f,c))break}r=s,n=u,i=f,a=c,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new aI.default;this.compact=this.nbCenterLayers===5;var g=new e0.default(r.getX()+.5,r.getY()-.5),y=new e0.default(n.getX()+.5,n.getY()+.5),_=new e0.default(i.getX()-.5,i.getY()+.5),w=new e0.default(a.getX()-.5,a.getY()-.5);return this.expandSquare([g,y,_,w],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var e,r,n,i;try{var a=new eQ.default(this.image).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{var o=this.image.getWidth()/2,s=this.image.getHeight()/2;e=this.getFirstDifferent(new Da(o+7,s-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Da(o+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Da(o-7,s+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Da(o-7,s-7),!1,-1,-1).toResultPoint()}var u=Xs.default.round((e.getX()+i.getX()+r.getX()+n.getX())/4),f=Xs.default.round((e.getY()+i.getY()+r.getY()+n.getY())/4);try{var a=new eQ.default(this.image,15,u,f).detect();e=a[0],r=a[1],n=a[2],i=a[3]}catch{e=this.getFirstDifferent(new Da(u+7,f-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Da(u+7,f+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Da(u-7,f+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Da(u-7,f-7),!1,-1,-1).toResultPoint()}return u=Xs.default.round((e.getX()+i.getX()+r.getX()+n.getX())/4),f=Xs.default.round((e.getY()+i.getY()+r.getY()+n.getY())/4),new Da(u,f)},t.prototype.getMatrixCornerPoints=function(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(e,r,n,i,a){var o=bEe.default.getInstance(),s=this.getDimension(),u=s/2-this.nbCenterLayers,f=s/2+this.nbCenterLayers;return o.sampleGrid(e,s,s,u,u,f,u,f,f,u,f,r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY(),a.getX(),a.getY())},t.prototype.sampleLine=function(e,r,n){for(var i=0,a=this.distanceResultPoint(e,r),o=a/n,s=e.getX(),u=e.getY(),f=o*(r.getX()-e.getX())/a,c=o*(r.getY()-e.getY())/a,l=0;l<n;l++)this.image.get(Xs.default.round(s+l*f),Xs.default.round(u+l*c))&&(i|=1<<n-l-1);return i},t.prototype.isWhiteOrBlackRectangle=function(e,r,n,i){var a=3;e=new Da(e.getX()-a,e.getY()+a),r=new Da(r.getX()-a,r.getY()-a),n=new Da(n.getX()+a,n.getY()-a),i=new Da(i.getX()+a,i.getY()+a);var o=this.getColor(i,e);if(o===0)return!1;var s=this.getColor(e,r);return s!==o||(s=this.getColor(r,n),s!==o)?!1:(s=this.getColor(n,i),s===o)},t.prototype.getColor=function(e,r){for(var n=this.distancePoint(e,r),i=(r.getX()-e.getX())/n,a=(r.getY()-e.getY())/n,o=0,s=e.getX(),u=e.getY(),f=this.image.get(e.getX(),e.getY()),c=Math.ceil(n),l=0;l<c;l++)s+=i,u+=a,this.image.get(Xs.default.round(s),Xs.default.round(u))!==f&&o++;var g=o/n;return g>.1&&g<.9?0:g<=.1===f?1:-1},t.prototype.getFirstDifferent=function(e,r,n,i){for(var a=e.getX()+n,o=e.getY()+i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n,o+=i;for(a-=n,o-=i;this.isValid(a,o)&&this.image.get(a,o)===r;)a+=n;for(a-=n;this.isValid(a,o)&&this.image.get(a,o)===r;)o+=i;return o-=i,new Da(a,o)},t.prototype.expandSquare=function(e,r,n){var i=n/(2*r),a=e[0].getX()-e[2].getX(),o=e[0].getY()-e[2].getY(),s=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,f=new e0.default(s+i*a,u+i*o),c=new e0.default(s-i*a,u-i*o);a=e[1].getX()-e[3].getX(),o=e[1].getY()-e[3].getY(),s=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;var l=new e0.default(s+i*a,u+i*o),g=new e0.default(s-i*a,u-i*o),y=[f,l,c,g];return y},t.prototype.isValid=function(e,r){return e>=0&&e<this.image.getWidth()&&r>0&&r<this.image.getHeight()},t.prototype.isValidPoint=function(e){var r=Xs.default.round(e.getX()),n=Xs.default.round(e.getY());return this.isValid(r,n)},t.prototype.distancePoint=function(e,r){return Xs.default.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.distanceResultPoint=function(e,r){return Xs.default.distance(e.getX(),e.getY(),r.getX(),r.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(tQ.default.truncDivision(this.nbLayers-4,8)+1)+15},t}();R_.default=wEe});var sI=E(qR=>{"use strict";h();p();Object.defineProperty(qR,"__esModule",{value:!0});var EEe=$i(),SEe=yr(),IEe=Ji(),rQ=Vf(),TEe=wn(),nQ=ER(),CEe=oI(),AEe=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=null,i=new CEe.default(e.getBlackMatrix()),a=null,o=null;try{var s=i.detectMirror(!1);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new nQ.default().decode(s)}catch(l){n=l}if(o==null)try{var s=i.detectMirror(!0);a=s.getPoints(),this.reportFoundResultPoints(r,a),o=new nQ.default().decode(s)}catch(l){throw n??l}var u=new EEe.default(o.getText(),o.getRawBytes(),o.getNumBits(),a,SEe.default.AZTEC,TEe.default.currentTimeMillis()),f=o.getByteSegments();f!=null&&u.putMetadata(rQ.default.BYTE_SEGMENTS,f);var c=o.getECLevel();return c!=null&&u.putMetadata(rQ.default.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reportFoundResultPoints=function(e,r){if(e!=null){var n=e.get(IEe.default.NEED_RESULT_POINT_CALLBACK);n!=null&&r.forEach(function(i,a,o){n.foundPossibleResultPoint(i)})}},t.prototype.reset=function(){},t}();qR.default=AEe});var iQ=E(ov=>{"use strict";h();p();var OEe=ov&&ov.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ov,"__esModule",{value:!0});ov.BrowserAztecCodeReader=void 0;var DEe=sl(),REe=sI(),PEe=function(t){OEe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new REe.default,r)||this}return e}(DEe.BrowserCodeReader);ov.BrowserAztecCodeReader=PEe});var zf=E(LR=>{"use strict";h();p();Object.defineProperty(LR,"__esModule",{value:!0});var BEe=jf(),uI=Ji(),fI=Vf(),FR=$r(),P_=Ve(),MEe=function(){function t(){}return t.prototype.decode=function(e,r){try{return this.doDecode(e,r)}catch{var n=r&&r.get(uI.default.TRY_HARDER)===!0;if(n&&e.isRotateSupported()){var i=e.rotateCounterClockwise(),a=this.doDecode(i,r),o=a.getResultMetadata(),s=270;o!==null&&o.get(fI.default.ORIENTATION)===!0&&(s=s+o.get(fI.default.ORIENTATION)%360),a.putMetadata(fI.default.ORIENTATION,s);var u=a.getResultPoints();if(u!==null)for(var f=i.getHeight(),c=0;c<u.length;c++)u[c]=new FR.default(f-u[c].getY()-1,u[c].getX());return a}else throw new P_.default}},t.prototype.reset=function(){},t.prototype.doDecode=function(e,r){var n=e.getWidth(),i=e.getHeight(),a=new BEe.default(n),o=r&&r.get(uI.default.TRY_HARDER)===!0,s=Math.max(1,i>>(o?8:5)),u;o?u=i:u=15;for(var f=Math.trunc(i/2),c=0;c<u;c++){var l=Math.trunc((c+1)/2),g=(c&1)===0,y=f+s*(g?l:-l);if(y<0||y>=i)break;try{a=e.getBlackRow(y,a)}catch{continue}for(var _=function(O){if(O===1&&(a.reverse(),r&&r.get(uI.default.NEED_RESULT_POINT_CALLBACK)===!0)){var P=new Map;r.forEach(function(d,m){return P.set(m,d)}),P.delete(uI.default.NEED_RESULT_POINT_CALLBACK),r=P}try{var q=w.decodeRow(y,a,r);if(O===1){q.putMetadata(fI.default.ORIENTATION,180);var C=q.getResultPoints();C!==null&&(C[0]=new FR.default(n-C[0].getX()-1,C[0].getY()),C[1]=new FR.default(n-C[1].getX()-1,C[1].getY()))}return{value:q}}catch{}},w=this,S=0;S<2;S++){var I=_(S);if(typeof I=="object")return I.value}}throw new P_.default},t.recordPattern=function(e,r,n){for(var i=n.length,a=0;a<i;a++)n[a]=0;var o=e.getSize();if(r>=o)throw new P_.default;for(var s=!e.get(r),u=0,f=r;f<o;){if(e.get(f)!==s)n[u]++;else{if(++u===i)break;n[u]=1,s=!s}f++}if(!(u===i||u===i-1&&f===o))throw new P_.default},t.recordPatternInReverse=function(e,r,n){for(var i=n.length,a=e.get(r);r>0&&i>=0;)e.get(--r)!==a&&(i--,a=!a);if(i>=0)throw new P_.default;t.recordPattern(e,r+1,n)},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return Number.POSITIVE_INFINITY;var u=a/o;n*=u;for(var f=0,c=0;c<i;c++){var l=e[c],g=r[c]*u,y=l>g?l-g:g-l;if(y>n)return Number.POSITIVE_INFINITY;f+=y}return f/a},t}();LR.default=MEe});var kR=E(B_=>{"use strict";h();p();var NEe=B_&&B_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(B_,"__esModule",{value:!0});var qEe=yr(),FEe=zu(),LEe=Ji(),aQ=Lr(),cI=Ve(),UEe=$i(),oQ=$r(),UR=zf(),kEe=function(t){NEe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.findStartPattern=function(r){for(var n=r.getSize(),i=r.getNextSet(0),a=0,o=Int32Array.from([0,0,0,0,0,0]),s=i,u=!1,f=6,c=i;c<n;c++)if(r.get(c)!==u)o[a]++;else{if(a===f-1){for(var l=e.MAX_AVG_VARIANCE,g=-1,y=e.CODE_START_A;y<=e.CODE_START_C;y++){var _=UR.default.patternMatchVariance(o,e.CODE_PATTERNS[y],e.MAX_INDIVIDUAL_VARIANCE);_<l&&(l=_,g=y)}if(g>=0&&r.isRange(Math.max(0,s-(c-s)/2),s,!1))return Int32Array.from([s,c,g]);s+=o[0]+o[1],o=o.slice(2,o.length-1),o[a-1]=0,o[a]=0,a--}else a++;o[a]=1,u=!u}throw new cI.default},e.decodeCode=function(r,n,i){UR.default.recordPattern(r,i,n);for(var a=e.MAX_AVG_VARIANCE,o=-1,s=0;s<e.CODE_PATTERNS.length;s++){var u=e.CODE_PATTERNS[s],f=this.patternMatchVariance(n,u,e.MAX_INDIVIDUAL_VARIANCE);f<a&&(a=f,o=s)}if(o>=0)return o;throw new cI.default},e.prototype.decodeRow=function(r,n,i){var a=i&&i.get(LEe.default.ASSUME_GS1)===!0,o=e.findStartPattern(n),s=o[2],u=0,f=new Uint8Array(20);f[u++]=s;var c;switch(s){case e.CODE_START_A:c=e.CODE_CODE_A;break;case e.CODE_START_B:c=e.CODE_CODE_B;break;case e.CODE_START_C:c=e.CODE_CODE_C;break;default:throw new aQ.default}for(var l=!1,g=!1,y="",_=o[0],w=o[1],S=Int32Array.from([0,0,0,0,0,0]),I=0,O=0,P=s,q=0,C=!0,d=!1,m=!1;!l;){var x=g;switch(g=!1,I=O,O=e.decodeCode(n,S,w),f[u++]=O,O!==e.CODE_STOP&&(C=!0),O!==e.CODE_STOP&&(q++,P+=q*O),_=w,w+=S.reduce(function(V,Y){return V+Y},0),O){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new aQ.default}switch(c){case e.CODE_CODE_A:if(O<64)m===d?y+=String.fromCharCode(" ".charCodeAt(0)+O):y+=String.fromCharCode(" ".charCodeAt(0)+O+128),m=!1;else if(O<96)m===d?y+=String.fromCharCode(O-64):y+=String.fromCharCode(O+64),m=!1;else switch(O!==e.CODE_STOP&&(C=!1),O){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!d&&m?(d=!0,m=!1):d&&m?(d=!1,m=!1):m=!0;break;case e.CODE_SHIFT:g=!0,c=e.CODE_CODE_B;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:l=!0;break}break;case e.CODE_CODE_B:if(O<96)m===d?y+=String.fromCharCode(" ".charCodeAt(0)+O):y+=String.fromCharCode(" ".charCodeAt(0)+O+128),m=!1;else switch(O!==e.CODE_STOP&&(C=!1),O){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!d&&m?(d=!0,m=!1):d&&m?(d=!1,m=!1):m=!0;break;case e.CODE_SHIFT:g=!0,c=e.CODE_CODE_A;break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_C:c=e.CODE_CODE_C;break;case e.CODE_STOP:l=!0;break}break;case e.CODE_CODE_C:if(O<100)O<10&&(y+="0"),y+=O;else switch(O!==e.CODE_STOP&&(C=!1),O){case e.CODE_FNC_1:a&&(y.length===0?y+="]C1":y+=String.fromCharCode(29));break;case e.CODE_CODE_A:c=e.CODE_CODE_A;break;case e.CODE_CODE_B:c=e.CODE_CODE_B;break;case e.CODE_STOP:l=!0;break}break}x&&(c=c===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var D=w-_;if(w=n.getNextUnset(w),!n.isRange(w,Math.min(n.getSize(),w+(w-_)/2),!1))throw new cI.default;if(P-=q*I,P%103!==I)throw new FEe.default;var M=y.length;if(M===0)throw new cI.default;M>0&&C&&(c===e.CODE_CODE_C?y=y.substring(0,M-2):y=y.substring(0,M-1));for(var oe=(o[1]+o[0])/2,L=_+D/2,b=f.length,A=new Uint8Array(b),R=0;R<b;R++)A[R]=f[R];var U=[new oQ.default(oe,r),new oQ.default(L,r)];return new UEe.default(y,A,0,U,qEe.default.CODE_128,new Date().getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(UR.default);B_.default=kEe});var HR=E(V1=>{"use strict";h();p();var jEe=V1&&V1.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),jR=V1&&V1.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(V1,"__esModule",{value:!0});var HEe=yr(),KEe=zu(),dI=Lr(),M_=Ve(),VEe=zf(),GEe=$i(),sQ=$r(),zEe=function(t){jEe(e,t);function e(r,n){r===void 0&&(r=!1),n===void 0&&(n=!1);var i=t.call(this)||this;return i.usingCheckDigit=r,i.extendedMode=n,i.decodeRowResult="",i.counters=new Int32Array(9),i}return e.prototype.decodeRow=function(r,n,i){var a,o,s,u,f=this.counters;f.fill(0),this.decodeRowResult="";var c=e.findAsteriskPattern(n,f),l=n.getNextSet(c[1]),g=n.getSize(),y,_;do{e.recordPattern(n,l,f);var w=e.toNarrowWidePattern(f);if(w<0)throw new M_.default;y=e.patternToChar(w),this.decodeRowResult+=y,_=l;try{for(var S=(a=void 0,jR(f)),I=S.next();!I.done;I=S.next()){var O=I.value;l+=O}}catch(b){a={error:b}}finally{try{I&&!I.done&&(o=S.return)&&o.call(S)}finally{if(a)throw a.error}}l=n.getNextSet(l)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var P=0;try{for(var q=jR(f),C=q.next();!C.done;C=q.next()){var O=C.value;P+=O}}catch(b){s={error:b}}finally{try{C&&!C.done&&(u=q.return)&&u.call(q)}finally{if(s)throw s.error}}var d=l-_-P;if(l!==g&&d*2<P)throw new M_.default;if(this.usingCheckDigit){for(var m=this.decodeRowResult.length-1,x=0,D=0;D<m;D++)x+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(D));if(this.decodeRowResult.charAt(m)!==e.ALPHABET_STRING.charAt(x%43))throw new KEe.default;this.decodeRowResult=this.decodeRowResult.substring(0,m)}if(this.decodeRowResult.length===0)throw new M_.default;var M;this.extendedMode?M=e.decodeExtended(this.decodeRowResult):M=this.decodeRowResult;var oe=(c[1]+c[0])/2,L=_+P/2;return new GEe.default(M,null,0,[new sQ.default(oe,r),new sQ.default(L,r)],HEe.default.CODE_39,new Date().getTime())},e.findAsteriskPattern=function(r,n){for(var i=r.getSize(),a=r.getNextSet(0),o=0,s=a,u=!1,f=n.length,c=a;c<i;c++)if(r.get(c)!==u)n[o]++;else{if(o===f-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&r.isRange(Math.max(0,s-Math.floor((c-s)/2)),s,!1))return[s,c];s+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,u=!u}throw new M_.default},e.toNarrowWidePattern=function(r){var n,i,a=r.length,o=0,s;do{var u=2147483647;try{for(var f=(n=void 0,jR(r)),c=f.next();!c.done;c=f.next()){var l=c.value;l<u&&l>o&&(u=l)}}catch(w){n={error:w}}finally{try{c&&!c.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}o=u,s=0;for(var g=0,y=0,_=0;_<a;_++){var l=r[_];l>o&&(y|=1<<a-1-_,s++,g+=l)}if(s===3){for(var _=0;_<a&&s>0;_++){var l=r[_];if(l>o&&(s--,l*2>=g))return-1}return y}}while(s>3);return-1},e.patternToChar=function(r){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===r)return e.ALPHABET_STRING.charAt(n);if(r===e.ASTERISK_ENCODING)return"*";throw new M_.default},e.decodeExtended=function(r){for(var n=r.length,i="",a=0;a<n;a++){var o=r.charAt(a);if(o==="+"||o==="$"||o==="%"||o==="/"){var s=r.charAt(a+1),u="\0";switch(o){case"+":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)+32);else throw new dI.default;break;case"$":if(s>="A"&&s<="Z")u=String.fromCharCode(s.charCodeAt(0)-64);else throw new dI.default;break;case"%":if(s>="A"&&s<="E")u=String.fromCharCode(s.charCodeAt(0)-38);else if(s>="F"&&s<="J")u=String.fromCharCode(s.charCodeAt(0)-11);else if(s>="K"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)+16);else if(s>="P"&&s<="T")u=String.fromCharCode(s.charCodeAt(0)+43);else if(s==="U")u="\0";else if(s==="V")u="@";else if(s==="W")u="`";else if(s==="X"||s==="Y"||s==="Z")u="\x7F";else throw new dI.default;break;case"/":if(s>="A"&&s<="O")u=String.fromCharCode(s.charCodeAt(0)-32);else if(s==="Z")u=":";else throw new dI.default;break}i+=u,a++}else i+=o}return i},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(VEe.default);V1.default=zEe});var KR=E(G1=>{"use strict";h();p();var YEe=G1&&G1.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WEe=G1&&G1.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(G1,"__esModule",{value:!0});var XEe=yr(),JEe=Ji(),$Ee=Lr(),N_=Ve(),ZEe=$i(),uQ=$r(),QEe=Jr(),eSe=wn(),lI=zf(),tSe=function(t){YEe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.narrowLineWidth=-1,r}return e.prototype.decodeRow=function(r,n,i){var a,o,s=this.decodeStart(n),u=this.decodeEnd(n),f=new QEe.default;e.decodeMiddle(n,s[1],u[0],f);var c=f.toString(),l=null;i!=null&&(l=i.get(JEe.default.ALLOWED_LENGTHS)),l==null&&(l=e.DEFAULT_ALLOWED_LENGTHS);var g=c.length,y=!1,_=0;try{for(var w=WEe(l),S=w.next();!S.done;S=w.next()){var I=S.value;if(g===I){y=!0;break}I>_&&(_=I)}}catch(q){a={error:q}}finally{try{S&&!S.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}if(!y&&g>_&&(y=!0),!y)throw new $Ee.default;var O=[new uQ.default(s[1],r),new uQ.default(u[0],r)],P=new ZEe.default(c,null,0,O,XEe.default.ITF,new Date().getTime());return P},e.decodeMiddle=function(r,n,i,a){var o=new Int32Array(10),s=new Int32Array(5),u=new Int32Array(5);for(o.fill(0),s.fill(0),u.fill(0);n<i;){lI.default.recordPattern(r,n,o);for(var f=0;f<5;f++){var c=2*f;s[f]=o[c],u[f]=o[c+1]}var l=e.decodeDigit(s);a.append(l.toString()),l=this.decodeDigit(u),a.append(l.toString()),o.forEach(function(g){n+=g})}},e.prototype.decodeStart=function(r){var n=e.skipWhiteSpace(r),i=e.findGuardPattern(r,n,e.START_PATTERN);return this.narrowLineWidth=(i[1]-i[0])/4,this.validateQuietZone(r,i[0]),i},e.prototype.validateQuietZone=function(r,n){var i=this.narrowLineWidth*10;i=i<n?i:n;for(var a=n-1;i>0&&a>=0&&!r.get(a);a--)i--;if(i!==0)throw new N_.default},e.skipWhiteSpace=function(r){var n=r.getSize(),i=r.getNextSet(0);if(i===n)throw new N_.default;return i},e.prototype.decodeEnd=function(r){r.reverse();try{var n=e.skipWhiteSpace(r),i=void 0;try{i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof N_.default&&(i=e.findGuardPattern(r,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,i[0]);var a=i[0];return i[0]=r.getSize()-i[1],i[1]=r.getSize()-a,i}finally{r.reverse()}},e.findGuardPattern=function(r,n,i){var a=i.length,o=new Int32Array(a),s=r.getSize(),u=!1,f=0,c=n;o.fill(0);for(var l=n;l<s;l++)if(r.get(l)!==u)o[f]++;else{if(f===a-1){if(lI.default.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,l];c+=o[0]+o[1],eSe.default.arraycopy(o,2,o,0,f-1),o[f-1]=0,o[f]=0,f--}else f++;o[f]=1,u=!u}throw new N_.default},e.decodeDigit=function(r){for(var n=e.MAX_AVG_VARIANCE,i=-1,a=e.PATTERNS.length,o=0;o<a;o++){var s=e.PATTERNS[o],u=lI.default.patternMatchVariance(r,s,e.MAX_INDIVIDUAL_VARIANCE);u<n?(n=u,i=o):u===n&&(i=-1)}if(i>=0)return i%10;throw new N_.default},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(lI.default);G1.default=tSe});var F_=E(q_=>{"use strict";h();p();var rSe=q_&&q_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(q_,"__esModule",{value:!0});var VR=zf(),fQ=Ve(),cQ=Lr(),nSe=function(t){rSe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.decodeRowStringBuffer="",r}return e.findStartGuardPattern=function(r){for(var n=!1,i,a=0,o=Int32Array.from([0,0,0]);!n;){o=Int32Array.from([0,0,0]),i=e.findGuardPattern(r,a,!1,this.START_END_PATTERN,o);var s=i[0];a=i[1];var u=s-(a-s);u>=0&&(n=r.isRange(u,s,!1))}return i},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new cQ.default;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new cQ.default;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(r,n,i,a){return this.findGuardPattern(r,n,i,a,new Int32Array(a.length))},e.findGuardPattern=function(r,n,i,a,o){var s=r.getSize();n=i?r.getNextUnset(n):r.getNextSet(n);for(var u=0,f=n,c=a.length,l=i,g=n;g<s;g++)if(r.get(g)!==l)o[u]++;else{if(u===c-1){if(VR.default.patternMatchVariance(o,a,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([f,g]);f+=o[0]+o[1];for(var y=o.slice(2,o.length-1),_=0;_<u-1;_++)o[_]=y[_];o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,l=!l}throw new fQ.default},e.decodeDigit=function(r,n,i,a){this.recordPattern(r,i,n);for(var o=this.MAX_AVG_VARIANCE,s=-1,u=a.length,f=0;f<u;f++){var c=a[f],l=VR.default.patternMatchVariance(n,c,e.MAX_INDIVIDUAL_VARIANCE);l<o&&(o=l,s=f)}if(s>=0)return s;throw new fQ.default},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(VR.default);q_.default=nSe});var hQ=E(L_=>{"use strict";h();p();var iSe=L_&&L_.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(L_,"__esModule",{value:!0});var aSe=yr(),dQ=F_(),oSe=$i(),lQ=$r(),sSe=Vf(),GR=Ve(),uSe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),u=[new lQ.default((n[0]+n[1])/2,e),new lQ.default(a,e)],f=new oSe.default(o,null,0,u,aSe.default.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=r[1],f=0,c=0;c<5&&u<s;c++){var l=dQ.default.decodeDigit(e,o,u,dQ.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);try{for(var g=(i=void 0,iSe(o)),y=g.next();!y.done;y=g.next()){var _=y.value;u+=_}}catch(S){i={error:S}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}l>=10&&(f|=1<<4-c),c!==4&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==5)throw new GR.default;var w=this.determineCheckDigit(f);if(t.extensionChecksum(n.toString())!==w)throw new GR.default;return u},t.extensionChecksum=function(e){for(var r=e.length,n=0,i=r-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var i=r-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10},t.prototype.determineCheckDigit=function(e){for(var r=0;r<10;r++)if(e===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new GR.default},t.parseExtensionString=function(e){if(e.length!==5)return null;var r=t.parseExtension5String(e);return r==null?null:new Map([[sSe.default.SUGGESTED_PRICE,r]])},t.parseExtension5String=function(e){var r;switch(e.charAt(0)){case"0":r="\xA3";break;case"5":r="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}var n=parseInt(e.substring(1)),i=(n/100).toString(),a=n%100,o=a<10?"0"+a:a.toString();return r+i+"."+o},t}();L_.default=uSe});var vQ=E(U_=>{"use strict";h();p();var fSe=U_&&U_.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(U_,"__esModule",{value:!0});var cSe=yr(),pQ=F_(),dSe=$i(),gQ=$r(),lSe=Vf(),yQ=Ve(),hSe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,r,n){var i=this.decodeRowStringBuffer,a=this.decodeMiddle(r,n,i),o=i.toString(),s=t.parseExtensionString(o),u=[new gQ.default((n[0]+n[1])/2,e),new gQ.default(a,e)],f=new dSe.default(o,null,0,u,cSe.default.UPC_EAN_EXTENSION,new Date().getTime());return s!=null&&f.putAllMetadata(s),f},t.prototype.decodeMiddle=function(e,r,n){var i,a,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var s=e.getSize(),u=r[1],f=0,c=0;c<2&&u<s;c++){var l=pQ.default.decodeDigit(e,o,u,pQ.default.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);try{for(var g=(i=void 0,fSe(o)),y=g.next();!y.done;y=g.next()){var _=y.value;u+=_}}catch(w){i={error:w}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}l>=10&&(f|=1<<1-c),c!==1&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(n.length!==2)throw new yQ.default;if(parseInt(n.toString())%4!==f)throw new yQ.default;return u},t.parseExtensionString=function(e){return e.length!==2?null:new Map([[lSe.default.ISSUE_NUMBER,parseInt(e)]])},t}();U_.default=hSe});var mQ=E(zR=>{"use strict";h();p();Object.defineProperty(zR,"__esModule",{value:!0});var pSe=F_(),gSe=hQ(),ySe=vQ(),vSe=function(){function t(){}return t.decodeRow=function(e,r,n){var i=pSe.default.findGuardPattern(r,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var a=new gSe.default;return a.decodeRow(e,r,i)}catch{var o=new ySe.default;return o.decodeRow(e,r,i)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}();zR.default=vSe});var H_=E(j_=>{"use strict";h();p();var mSe=j_&&j_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(j_,"__esModule",{value:!0});var _Q=yr(),xQ=Ji(),_Se=$i(),xSe=Vf(),k_=$r(),bSe=mQ(),wSe=F_(),bQ=Ve(),YR=Lr(),ESe=zu(),SSe=function(t){mSe(e,t);function e(){var r=t.call(this)||this;r.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(s){return Int32Array.from(s)});for(var n=10;n<20;n++){for(var i=e.L_PATTERNS[n-10],a=new Int32Array(i.length),o=0;o<i.length;o++)a[o]=i[i.length-o-1];e.L_AND_G_PATTERNS[n]=a}return r}return e.prototype.decodeRow=function(r,n,i){var a=e.findStartGuardPattern(n),o=i==null?null:i.get(xQ.default.NEED_RESULT_POINT_CALLBACK);if(o!=null){var s=new k_.default((a[0]+a[1])/2,r);o.foundPossibleResultPoint(s)}var u=this.decodeMiddle(n,a,this.decodeRowStringBuffer),f=u.rowOffset,c=u.resultString;if(o!=null){var l=new k_.default(f,r);o.foundPossibleResultPoint(l)}var g=e.decodeEnd(n,f);if(o!=null){var y=new k_.default((g[0]+g[1])/2,r);o.foundPossibleResultPoint(y)}var _=g[1],w=_+(_-g[0]);if(w>=n.getSize()||!n.isRange(_,w,!1))throw new bQ.default;var S=c.toString();if(S.length<8)throw new YR.default;if(!e.checkChecksum(S))throw new ESe.default;var I=(a[1]+a[0])/2,O=(g[1]+g[0])/2,P=this.getBarcodeFormat(),q=[new k_.default(I,r),new k_.default(O,r)],C=new _Se.default(S,null,0,q,P,new Date().getTime()),d=0;try{var m=bSe.default.decodeRow(r,n,g[1]);C.putMetadata(xSe.default.UPC_EAN_EXTENSION,m.getText()),C.putAllMetadata(m.getResultMetadata()),C.addResultPoints(m.getResultPoints()),d=m.getText().length}catch{}var x=i==null?null:i.get(xQ.default.ALLOWED_EAN_EXTENSIONS);if(x!=null){var D=!1;for(var M in x)if(d.toString()===M){D=!0;break}if(!D)throw new bQ.default}return P===_Q.default.EAN_13||_Q.default.UPC_A,C},e.checkChecksum=function(r){return e.checkStandardUPCEANChecksum(r)},e.checkStandardUPCEANChecksum=function(r){var n=r.length;if(n===0)return!1;var i=parseInt(r.charAt(n-1),10);return e.getStandardUPCEANChecksum(r.substring(0,n-1))===i},e.getStandardUPCEANChecksum=function(r){for(var n=r.length,i=0,a=n-1;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new YR.default;i+=o}i*=3;for(var a=n-2;a>=0;a-=2){var o=r.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(o<0||o>9)throw new YR.default;i+=o}return(1e3-i)%10},e.decodeEnd=function(r,n){return e.findGuardPattern(r,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(wSe.default);j_.default=SSe});var hI=E(z1=>{"use strict";h();p();var ISe=z1&&z1.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),wQ=z1&&z1.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(z1,"__esModule",{value:!0});var TSe=yr(),ul=H_(),CSe=Ve(),ASe=function(t){ISe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var c=r.getSize(),l=n[1],g=0,y=0;y<6&&l<c;y++){var _=ul.default.decodeDigit(r,f,l,ul.default.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+_%10);try{for(var w=(a=void 0,wQ(f)),S=w.next();!S.done;S=w.next()){var I=S.value;l+=I}}catch(C){a={error:C}}finally{try{S&&!S.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}_>=10&&(g|=1<<5-y)}i=e.determineFirstDigit(i,g);var O=ul.default.findGuardPattern(r,l,!0,ul.default.MIDDLE_PATTERN,new Int32Array(ul.default.MIDDLE_PATTERN.length).fill(0));l=O[1];for(var y=0;y<6&&l<c;y++){var _=ul.default.decodeDigit(r,f,l,ul.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+_);try{for(var P=(s=void 0,wQ(f)),q=P.next();!q.done;q=P.next()){var I=q.value;l+=I}}catch(m){s={error:m}}finally{try{q&&!q.done&&(u=P.return)&&u.call(P)}finally{if(s)throw s.error}}}return{rowOffset:l,resultString:i}},e.prototype.getBarcodeFormat=function(){return TSe.default.EAN_13},e.determineFirstDigit=function(r,n){for(var i=0;i<10;i++)if(n===this.FIRST_DIGIT_ENCODINGS[i])return r=String.fromCharCode("0".charCodeAt(0)+i)+r,r;throw new CSe.default},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(ul.default);z1.default=ASe});var SQ=E(Y1=>{"use strict";h();p();var OSe=Y1&&Y1.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),EQ=Y1&&Y1.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Y1,"__esModule",{value:!0});var DSe=yr(),fl=H_(),RSe=function(t){OSe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=Int32Array.from([0,0,0,0]),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s,u,f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;for(var c=r.getSize(),l=n[1],g=0;g<4&&l<c;g++){var y=fl.default.decodeDigit(r,f,l,fl.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+y);try{for(var _=(a=void 0,EQ(f)),w=_.next();!w.done;w=_.next()){var S=w.value;l+=S}}catch(q){a={error:q}}finally{try{w&&!w.done&&(o=_.return)&&o.call(_)}finally{if(a)throw a.error}}}var I=fl.default.findGuardPattern(r,l,!0,fl.default.MIDDLE_PATTERN,new Int32Array(fl.default.MIDDLE_PATTERN.length).fill(0));l=I[1];for(var g=0;g<4&&l<c;g++){var y=fl.default.decodeDigit(r,f,l,fl.default.L_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+y);try{for(var O=(s=void 0,EQ(f)),P=O.next();!P.done;P=O.next()){var S=P.value;l+=S}}catch(d){s={error:d}}finally{try{P&&!P.done&&(u=O.return)&&u.call(O)}finally{if(s)throw s.error}}}return{rowOffset:l,resultString:i}},e.prototype.getBarcodeFormat=function(){return DSe.default.EAN_8},e}(fl.default);Y1.default=RSe});var TQ=E(K_=>{"use strict";h();p();var PSe=K_&&K_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(K_,"__esModule",{value:!0});var IQ=yr(),BSe=$i(),MSe=Ve(),NSe=hI(),qSe=H_(),FSe=function(t){PSe(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.ean13Reader=new NSe.default,r}return e.prototype.getBarcodeFormat=function(){return IQ.default.UPC_A},e.prototype.decode=function(r,n){return this.maybeReturnResult(this.ean13Reader.decode(r))},e.prototype.decodeRow=function(r,n,i){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,n,i))},e.prototype.decodeMiddle=function(r,n,i){return this.ean13Reader.decodeMiddle(r,n,i)},e.prototype.maybeReturnResult=function(r){var n=r.getText();if(n.charAt(0)==="0"){var i=new BSe.default(n.substring(1),null,null,r.getResultPoints(),IQ.default.UPC_A);return r.getResultMetadata()!=null&&i.putAllMetadata(r.getResultMetadata()),i}else throw new MSe.default},e.prototype.reset=function(){this.ean13Reader.reset()},e}(qSe.default);K_.default=FSe});var OQ=E(W1=>{"use strict";h();p();var LSe=W1&&W1.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),USe=W1&&W1.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(W1,"__esModule",{value:!0});var CQ=H_(),AQ=Jr(),kSe=Ve(),jSe=yr(),HSe=function(t){LSe(e,t);function e(){var r=t.call(this)||this;return r.decodeMiddleCounters=new Int32Array(4),r}return e.prototype.decodeMiddle=function(r,n,i){var a,o,s=this.decodeMiddleCounters.map(function(S){return S});s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=r.getSize(),f=n[1],c=0,l=0;l<6&&f<u;l++){var g=e.decodeDigit(r,s,f,e.L_AND_G_PATTERNS);i+=String.fromCharCode("0".charCodeAt(0)+g%10);try{for(var y=(a=void 0,USe(s)),_=y.next();!_.done;_=y.next()){var w=_.value;f+=w}}catch(S){a={error:S}}finally{try{_&&!_.done&&(o=y.return)&&o.call(y)}finally{if(a)throw a.error}}g>=10&&(c|=1<<5-l)}return e.determineNumSysAndCheckDigit(new AQ.default(i),c),f},e.prototype.decodeEnd=function(r,n){return e.findGuardPatternWithoutCounters(r,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(r){return CQ.default.checkChecksum(e.convertUPCEtoUPCA(r))},e.determineNumSysAndCheckDigit=function(r,n){for(var i=0;i<=1;i++)for(var a=0;a<10;a++)if(n===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[i][a]){r.insert(0,"0"+i),r.append("0"+a);return}throw kSe.default.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return jSe.default.UPC_E},e.convertUPCEtoUPCA=function(r){var n=r.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),i=new AQ.default;i.append(r.charAt(0));var a=n[5];switch(a){case 0:case 1:case 2:i.appendChars(n,0,2),i.append(a),i.append("0000"),i.appendChars(n,2,3);break;case 3:i.appendChars(n,0,3),i.append("00000"),i.appendChars(n,3,2);break;case 4:i.appendChars(n,0,4),i.append("00000"),i.append(n[4]);break;default:i.appendChars(n,0,5),i.append("0000"),i.append(a);break}return r.length>=8&&i.append(r.charAt(7)),i.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(CQ.default);W1.default=HSe});var qQ=E(J1=>{"use strict";h();p();var KSe=J1&&J1.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),DQ=J1&&J1.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(J1,"__esModule",{value:!0});var X1=yr(),RQ=Ji(),VSe=$i(),GSe=zf(),PQ=hI(),BQ=SQ(),MQ=TQ(),zSe=Ve(),NQ=OQ(),YSe=function(t){KSe(e,t);function e(r){var n=t.call(this)||this,i=r==null?null:r.get(RQ.default.POSSIBLE_FORMATS),a=[];return i!=null&&(i.indexOf(X1.default.EAN_13)>-1&&a.push(new PQ.default),i.indexOf(X1.default.UPC_A)>-1&&a.push(new MQ.default),i.indexOf(X1.default.EAN_8)>-1&&a.push(new BQ.default),i.indexOf(X1.default.UPC_E)>-1&&a.push(new NQ.default)),a.length===0&&(a.push(new PQ.default),a.push(new MQ.default),a.push(new BQ.default),a.push(new NQ.default)),n.readers=a,n}return e.prototype.decodeRow=function(r,n,i){var a,o;try{for(var s=DQ(this.readers),u=s.next();!u.done;u=s.next()){var f=u.value;try{var c=f.decodeRow(r,n,i),l=c.getBarcodeFormat()===X1.default.EAN_13&&c.getText().charAt(0)==="0",g=i==null?null:i.get(RQ.default.POSSIBLE_FORMATS),y=g==null||g.includes(X1.default.UPC_A);if(l&&y){var _=c.getRawBytes(),w=new VSe.default(c.getText().substring(1),_,_?_.length:null,c.getResultPoints(),X1.default.UPC_A);return w.putAllMetadata(c.getResultMetadata()),w}return c}catch{}}}catch(S){a={error:S}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(a)throw a.error}}throw new zSe.default},e.prototype.reset=function(){var r,n;try{for(var i=DQ(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;o.reset()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e}(GSe.default);J1.default=YSe});var WR=E($1=>{"use strict";h();p();var WSe=$1&&$1.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),XSe=$1&&$1.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty($1,"__esModule",{value:!0});var JSe=Ws(),$Se=Ve(),FQ=zf(),ZSe=function(t){WSe(e,t);function e(){var r=t.call(this)||this;return r.decodeFinderCounters=new Int32Array(4),r.dataCharacterCounters=new Int32Array(8),r.oddRoundingErrors=new Array(4),r.evenRoundingErrors=new Array(4),r.oddCounts=new Array(r.dataCharacterCounters.length/2),r.evenCounts=new Array(r.dataCharacterCounters.length/2),r}return e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(r,n){for(var i=0;i<n.length;i++)if(FQ.default.patternMatchVariance(r,n[i],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return i;throw new $Se.default},e.count=function(r){return JSe.default.sum(new Int32Array(r))},e.increment=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]>a&&(a=n[o],i=o);r[i]++},e.decrement=function(r,n){for(var i=0,a=n[0],o=1;o<r.length;o++)n[o]<a&&(a=n[o],i=o);r[i]--},e.isFinderPattern=function(r){var n,i,a=r[0]+r[1],o=a+r[2]+r[3],s=a/o;if(s>=e.MIN_FINDER_PATTERN_RATIO&&s<=e.MAX_FINDER_PATTERN_RATIO){var u=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;try{for(var c=XSe(r),l=c.next();!l.done;l=c.next()){var g=l.value;g>f&&(f=g),g<u&&(u=g)}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}return f<10*u}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(FQ.default);$1.default=ZSe});var pI=E(XR=>{"use strict";h();p();Object.defineProperty(XR,"__esModule",{value:!0});var QSe=function(){function t(e,r){this.value=e,this.checksumPortion=r}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value&&this.checksumPortion===r.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}();XR.default=QSe});var $R=E(JR=>{"use strict";h();p();Object.defineProperty(JR,"__esModule",{value:!0});var LQ=$r(),eIe=function(){function t(e,r,n,i,a){this.value=e,this.startEnd=r,this.value=e,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new LQ.default(n,a)),this.resultPoints.push(new LQ.default(i,a))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.hashCode=function(){return this.value},t}();JR.default=eIe});var ZR=E(V_=>{"use strict";h();p();var tIe=V_&&V_.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(V_,"__esModule",{value:!0});var rIe=function(){function t(){}return t.getRSSvalue=function(e,r,n){var i,a,o=0;try{for(var s=tIe(e),u=s.next();!u.done;u=s.next()){var f=u.value;o+=f}}catch(O){i={error:O}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}for(var c=0,l=0,g=e.length,y=0;y<g-1;y++){var _=void 0;for(_=1,l|=1<<y;_<e[y];_++,l&=~(1<<y)){var w=t.combins(o-_-1,g-y-2);if(n&&l===0&&o-_-(g-y-1)>=g-y-1&&(w-=t.combins(o-_-(g-y),g-y-2)),g-y-1>1){for(var S=0,I=o-_-(g-y-2);I>r;I--)S+=t.combins(o-_-I-1,g-y-3);w-=S*(g-1-y)}else o-_>r&&w--;c+=w}o-=_}return c},t.combins=function(e,r){var n,i;e-r>r?(i=r,n=e-r):(i=e-r,n=r);for(var a=1,o=1,s=e;s>n;s--)a*=s,o<=i&&(a/=o,o++);for(;o<=i;)a/=o,o++;return a},t}();V_.default=rIe});var UQ=E(QR=>{"use strict";h();p();Object.defineProperty(QR,"__esModule",{value:!0});var nIe=jf(),iIe=function(){function t(){}return t.buildBitArray=function(e){var r=e.length*2-1;e[e.length-1].getRightChar()==null&&(r-=1);for(var n=12*r,i=new nIe.default(n),a=0,o=e[0],s=o.getRightChar().getValue(),u=11;u>=0;--u)(s&1<<u)!=0&&i.set(a),a++;for(var u=1;u<e.length;++u){for(var f=e[u],c=f.getLeftChar().getValue(),l=11;l>=0;--l)(c&1<<l)!=0&&i.set(a),a++;if(f.getRightChar()!=null)for(var g=f.getRightChar().getValue(),l=11;l>=0;--l)(g&1<<l)!=0&&i.set(a),a++}return i},t}();QR.default=iIe});var kQ=E(eP=>{"use strict";h();p();Object.defineProperty(eP,"__esModule",{value:!0});var aIe=function(){function t(e,r){r?this.decodedInformation=null:(this.finished=e,this.decodedInformation=r)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}();eP.default=aIe});var gI=E(tP=>{"use strict";h();p();Object.defineProperty(tP,"__esModule",{value:!0});var oIe=function(){function t(e){this.newPosition=e}return t.prototype.getNewPosition=function(){return this.newPosition},t}();tP.default=oIe});var jQ=E(G_=>{"use strict";h();p();var sIe=G_&&G_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(G_,"__esModule",{value:!0});var uIe=gI(),fIe=function(t){sIe(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(uIe.default);G_.default=fIe});var HQ=E(z_=>{"use strict";h();p();var cIe=z_&&z_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(z_,"__esModule",{value:!0});var dIe=gI(),lIe=function(t){cIe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return i?(a.remaining=!0,a.remainingValue=a.remainingValue):(a.remaining=!1,a.remainingValue=0),a.newString=n,a}return e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(dIe.default);z_.default=lIe});var KQ=E(Y_=>{"use strict";h();p();var hIe=Y_&&Y_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Y_,"__esModule",{value:!0});var pIe=Lr(),gIe=gI(),yIe=function(t){hIe(e,t);function e(r,n,i){var a=t.call(this,r)||this;if(n<0||n>10||i<0||i>10)throw new pIe.default;return a.firstDigit=n,a.secondDigit=i,a}return e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(gIe.default);Y_.default=yIe});var VQ=E(W_=>{"use strict";h();p();var yI=W_&&W_.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(W_,"__esModule",{value:!0});var sv=Ve(),vIe=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var r,n,i,a,o,s,u,f;if(!e)return null;if(e.length<2)throw new sv.default;var c=e.substring(0,2);try{for(var l=yI(t.TWO_DIGIT_DATA_LENGTH),g=l.next();!g.done;g=l.next()){var y=g.value;if(y[0]===c)return y[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,y[2],e):t.processFixedAI(2,y[1],e)}}catch(d){r={error:d}}finally{try{g&&!g.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}if(e.length<3)throw new sv.default;var _=e.substring(0,3);try{for(var w=yI(t.THREE_DIGIT_DATA_LENGTH),S=w.next();!S.done;S=w.next()){var y=S.value;if(y[0]===_)return y[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,y[2],e):t.processFixedAI(3,y[1],e)}}catch(d){i={error:d}}finally{try{S&&!S.done&&(a=w.return)&&a.call(w)}finally{if(i)throw i.error}}try{for(var I=yI(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),O=I.next();!O.done;O=I.next()){var y=O.value;if(y[0]===_)return y[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,y[2],e):t.processFixedAI(4,y[1],e)}}catch(d){o={error:d}}finally{try{O&&!O.done&&(s=I.return)&&s.call(I)}finally{if(o)throw o.error}}if(e.length<4)throw new sv.default;var P=e.substring(0,4);try{for(var q=yI(t.FOUR_DIGIT_DATA_LENGTH),C=q.next();!C.done;C=q.next()){var y=C.value;if(y[0]===P)return y[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,y[2],e):t.processFixedAI(4,y[1],e)}}catch(d){u={error:d}}finally{try{C&&!C.done&&(f=q.return)&&f.call(q)}finally{if(u)throw u.error}}throw new sv.default},t.processFixedAI=function(e,r,n){if(n.length<e)throw new sv.default;var i=n.substring(0,e);if(n.length<e+r)throw new sv.default;var a=n.substring(e,e+r),o=n.substring(e+r),s="("+i+")"+a,u=t.parseFieldsInGeneralPurpose(o);return u==null?s:s+u},t.processVariableAI=function(e,r,n){var i=n.substring(0,e),a;n.length<e+r?a=n.length:a=e+r;var o=n.substring(e,a),s=n.substring(a),u="("+i+")"+o,f=t.parseFieldsInGeneralPurpose(s);return f==null?u:u+f},t.VARIABLE_LENGTH=[],t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}();W_.default=vIe});var nP=E(rP=>{"use strict";h();p();Object.defineProperty(rP,"__esModule",{value:!0});var mIe=Lr(),_Ie=Gf(),xIe=Jr(),Z1=kQ(),Xu=jQ(),Q1=HQ(),uv=KQ(),bIe=VQ(),wIe=function(){function t(e){this.buffer=new xIe.default,this.information=e}return t.prototype.decodeAllCodes=function(e,r){var n=r,i=null;do{var a=this.decodeGeneralPurposeField(n,i),o=bIe.default.parseFieldsInGeneralPurpose(a.getNewString());if(o!=null&&e.append(o),a.isRemaining()?i=""+a.getRemainingValue():i=null,n===a.getNewPosition())break;n=a.getNewPosition()}while(!0);return e.toString()},t.prototype.isStillNumeric=function(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(var r=e;r<e+3;++r)if(this.information.get(r))return!0;return this.information.get(e+3)},t.prototype.decodeNumeric=function(e){if(e+7>this.information.getSize()){var r=this.extractNumericValueFromBitArray(e,4);return r===0?new uv.default(this.information.getSize(),uv.default.FNC1,uv.default.FNC1):new uv.default(this.information.getSize(),r-1,uv.default.FNC1)}var n=this.extractNumericValueFromBitArray(e,7),i=(n-8)/11,a=(n-8)%11;return new uv.default(e+7,i,a)},t.prototype.extractNumericValueFromBitArray=function(e,r){return t.extractNumericValueFromBitArray(this.information,e,r)},t.extractNumericValueFromBitArray=function(e,r,n){for(var i=0,a=0;a<n;++a)e.get(r+a)&&(i|=1<<n-a-1);return i},t.prototype.decodeGeneralPurposeField=function(e,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(e);var n=this.parseBlocks();return n!=null&&n.isRemaining()?new Q1.default(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Q1.default(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var e,r;do{var n=this.current.getPosition();this.current.isAlpha()?(r=this.parseAlphaBlock(),e=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),e=r.isFinished()):(r=this.parseNumericBlock(),e=r.isFinished());var i=n!==this.current.getPosition();if(!i&&!e)break}while(!e);return r.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){var r=void 0;return e.isSecondDigitFNC1()?r=new Q1.default(this.current.getPosition(),this.buffer.toString()):r=new Q1.default(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Z1.default(!0,r)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var r=new Q1.default(this.current.getPosition(),this.buffer.toString());return new Z1.default(!0,r)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Z1.default(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Q1.default(this.current.getPosition(),this.buffer.toString());return new Z1.default(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Z1.default(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){var r=new Q1.default(this.current.getPosition(),this.buffer.toString());return new Z1.default(!0,r)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Z1.default(!1)},t.prototype.isStillIsoIec646=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;var i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253},t.prototype.decodeIsoIec646=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Xu.default(e+5,Xu.default.FNC1);if(r>=5&&r<15)return new Xu.default(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Xu.default(e+7,""+(n+1));if(n>=90&&n<116)return new Xu.default(e+7,""+(n+7));var i=this.extractNumericValueFromBitArray(e,8),a;switch(i){case 232:a="!";break;case 233:a='"';break;case 234:a="%";break;case 235:a="&";break;case 236:a="'";break;case 237:a="(";break;case 238:a=")";break;case 239:a="*";break;case 240:a="+";break;case 241:a=",";break;case 242:a="-";break;case 243:a=".";break;case 244:a="/";break;case 245:a=":";break;case 246:a=";";break;case 247:a="<";break;case 248:a="=";break;case 249:a=">";break;case 250:a="?";break;case 251:a="_";break;case 252:a=" ";break;default:throw new mIe.default}return new Xu.default(e+8,a)},t.prototype.isStillAlpha=function(e){if(e+5>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(e,5);if(r>=5&&r<16)return!0;if(e+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(e){var r=this.extractNumericValueFromBitArray(e,5);if(r===15)return new Xu.default(e+5,Xu.default.FNC1);if(r>=5&&r<15)return new Xu.default(e+5,"0"+(r-5));var n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Xu.default(e+6,""+(n+33));var i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new _Ie.default("Decoding invalid alphanumeric value: "+n)}return new Xu.default(e+6,i)},t.prototype.isAlphaTo646ToAlphaLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<5&&r+e<this.information.getSize();++r)if(r===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+r))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(e){if(e+3>this.information.getSize())return!1;for(var r=e;r<e+3;++r)if(this.information.get(r))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(e){if(e+1>this.information.getSize())return!1;for(var r=0;r<4&&r+e<this.information.getSize();++r)if(this.information.get(e+r))return!1;return!0},t}();rP.default=wIe});var vI=E(iP=>{"use strict";h();p();Object.defineProperty(iP,"__esModule",{value:!0});var EIe=nP(),SIe=function(){function t(e){this.information=e,this.generalDecoder=new EIe.default(e)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}();iP.default=SIe});var J_=E(X_=>{"use strict";h();p();var IIe=X_&&X_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(X_,"__esModule",{value:!0});var TIe=vI(),CIe=function(t){IIe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedGtin=function(r,n){r.append("(01)");var i=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,n,i)},e.prototype.encodeCompressedGtinWithoutAI=function(r,n,i){for(var a=0;a<4;++a){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*a,10);o/100===0&&r.append("0"),o/10===0&&r.append("0"),r.append(o)}e.appendCheckDigit(r,i)},e.appendCheckDigit=function(r,n){for(var i=0,a=0;a<13;a++){var o=r.charAt(a+n).charCodeAt(0)-"0".charCodeAt(0);i+=(a&1)===0?3*o:o}i=10-i%10,i===10&&(i=0),r.append(i)},e.GTIN_SIZE=40,e}(TIe.default);X_.default=CIe});var GQ=E($_=>{"use strict";h();p();var AIe=$_&&$_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty($_,"__esModule",{value:!0});var OIe=J_(),DIe=Jr(),RIe=function(t){AIe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new DIe.default;r.append("(01)");var n=r.length(),i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return r.append(i),this.encodeCompressedGtinWithoutAI(r,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE+44)},e.HEADER_SIZE=1+1+2,e}(OIe.default);$_.default=RIe});var zQ=E(Z_=>{"use strict";h();p();var PIe=Z_&&Z_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Z_,"__esModule",{value:!0});var BIe=Jr(),MIe=vI(),NIe=function(t){PIe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){var r=new BIe.default;return this.getGeneralDecoder().decodeAllCodes(r,e.HEADER_SIZE)},e.HEADER_SIZE=2+1+2,e}(MIe.default);Z_.default=NIe});var aP=E(Q_=>{"use strict";h();p();var qIe=Q_&&Q_.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Q_,"__esModule",{value:!0});var FIe=J_(),LIe=function(t){qIe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.encodeCompressedWeight=function(r,n,i){var a=this.getGeneralDecoder().extractNumericValueFromBitArray(n,i);this.addWeightCode(r,a);for(var o=this.checkWeight(a),s=1e5,u=0;u<5;++u)o/s===0&&r.append("0"),s/=10;r.append(o)},e}(FIe.default);Q_.default=LIe});var sP=E(ex=>{"use strict";h();p();var UIe=ex&&ex.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ex,"__esModule",{value:!0});var oP=aP(),kIe=Jr(),jIe=Ve(),HIe=function(t){UIe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+oP.default.GTIN_SIZE+e.WEIGHT_SIZE)throw new jIe.default;var r=new kIe.default;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+oP.default.GTIN_SIZE,e.WEIGHT_SIZE),r.toString()},e.HEADER_SIZE=4+1,e.WEIGHT_SIZE=15,e}(oP.default);ex.default=HIe});var YQ=E(tx=>{"use strict";h();p();var KIe=tx&&tx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(tx,"__esModule",{value:!0});var VIe=sP(),GIe=function(t){KIe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){r.append("(3103)")},e.prototype.checkWeight=function(r){return r},e}(VIe.default);tx.default=GIe});var WQ=E(rx=>{"use strict";h();p();var zIe=rx&&rx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(rx,"__esModule",{value:!0});var YIe=sP(),WIe=function(t){zIe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.addWeightCode=function(r,n){n<1e4?r.append("(3202)"):r.append("(3203)")},e.prototype.checkWeight=function(r){return r<1e4?r:r-1e4},e}(YIe.default);rx.default=WIe});var XQ=E(nx=>{"use strict";h();p();var XIe=nx&&nx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(nx,"__esModule",{value:!0});var mI=J_(),JIe=Ve(),$Ie=Jr(),ZIe=function(t){XIe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+mI.default.GTIN_SIZE)throw new JIe.default;var r=new $Ie.default;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+mI.default.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(392"),r.append(n),r.append(")");var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+mI.default.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return r.append(i.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e}(mI.default);nx.default=ZIe});var JQ=E(ax=>{"use strict";h();p();var QIe=ax&&ax.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ax,"__esModule",{value:!0});var ix=J_(),e5e=Ve(),t5e=Jr(),r5e=function(t){QIe(e,t);function e(r){return t.call(this,r)||this}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+ix.default.GTIN_SIZE)throw new e5e.default;var r=new t5e.default;this.encodeCompressedGtin(r,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ix.default.GTIN_SIZE,e.LAST_DIGIT_SIZE);r.append("(393"),r.append(n),r.append(")");var i=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+ix.default.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);i/100==0&&r.append("0"),i/10==0&&r.append("0"),r.append(i);var a=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+ix.default.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return r.append(a.getNewString()),r.toString()},e.HEADER_SIZE=5+1+2,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(ix.default);ax.default=r5e});var $Q=E(ox=>{"use strict";h();p();var n5e=ox&&ox.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ox,"__esModule",{value:!0});var i5e=aP(),a5e=Ve(),o5e=Jr(),s5e=function(t){n5e(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.dateCode=i,a.firstAIdigits=n,a}return e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new a5e.default;var r=new o5e.default;return this.encodeCompressedGtin(r,e.HEADER_SIZE),this.encodeCompressedWeight(r,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(r,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),r.toString()},e.prototype.encodeCompressedDate=function(r,n){var i=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(i!=38400){r.append("("),r.append(this.dateCode),r.append(")");var a=i%32;i/=32;var o=i%12+1;i/=12;var s=i;s/10==0&&r.append("0"),r.append(s),o/10==0&&r.append("0"),r.append(o),a/10==0&&r.append("0"),r.append(a)}},e.prototype.addWeightCode=function(r,n){r.append("("),r.append(this.firstAIdigits),r.append(n/1e5),r.append(")")},e.prototype.checkWeight=function(r){return r%1e5},e.HEADER_SIZE=7+1,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(i5e.default);ox.default=s5e});var fP=E(_I=>{"use strict";h();p();Object.defineProperty(_I,"__esModule",{value:!0});_I.createDecoder=void 0;var u5e=Gf(),uP=nP(),f5e=GQ(),c5e=zQ(),d5e=YQ(),l5e=WQ(),h5e=XQ(),p5e=JQ(),cl=$Q();function g5e(t){try{if(t.get(1))return new f5e.default(t);if(!t.get(2))return new c5e.default(t);var e=uP.default.extractNumericValueFromBitArray(t,1,4);switch(e){case 4:return new d5e.default(t);case 5:return new l5e.default(t)}var r=uP.default.extractNumericValueFromBitArray(t,1,5);switch(r){case 12:return new h5e.default(t);case 13:return new p5e.default(t)}var n=uP.default.extractNumericValueFromBitArray(t,1,7);switch(n){case 56:return new cl.default(t,"310","11");case 57:return new cl.default(t,"320","11");case 58:return new cl.default(t,"310","13");case 59:return new cl.default(t,"320","13");case 60:return new cl.default(t,"310","15");case 61:return new cl.default(t,"320","15");case 62:return new cl.default(t,"310","17");case 63:return new cl.default(t,"320","17")}}catch(i){throw console.log(i),new u5e.default("unknown decoder: "+t)}}_I.createDecoder=g5e});var ZQ=E(cP=>{"use strict";h();p();Object.defineProperty(cP,"__esModule",{value:!0});var y5e=function(){function t(e,r,n,i){this.leftchar=e,this.rightchar=r,this.finderpattern=n,this.maybeLast=i}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return this.rightchar==null},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,r){return e instanceof t?t.equalsOrNull(e.leftchar,r.leftchar)&&t.equalsOrNull(e.rightchar,r.rightchar)&&t.equalsOrNull(e.finderpattern,r.finderpattern):!1},t.equalsOrNull=function(e,r){return e===null?r===null:t.equals(e,r)},t.prototype.hashCode=function(){var e=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return e},t}();cP.default=y5e});var QQ=E(dP=>{"use strict";h();p();Object.defineProperty(dP,"__esModule",{value:!0});var v5e=function(){function t(e,r,n){this.pairs=e,this.rowNumber=r,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(e){return this.checkEqualitity(this,e)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,r){return e instanceof t?this.checkEqualitity(e,r)&&e.wasReversed===r.wasReversed:!1},t.prototype.checkEqualitity=function(e,r){if(!(!e||!r)){var n;return e.forEach(function(i,a){r.forEach(function(o){i.getLeftChar().getValue()===o.getLeftChar().getValue()&&i.getRightChar().getValue()===o.getRightChar().getValue()&&i.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(n=!0)})}),n}},t}();dP.default=v5e});var hP=E(ep=>{"use strict";h();p();var m5e=ep&&ep.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dl=ep&&ep.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ep,"__esModule",{value:!0});var _5e=yr(),lP=Ws(),sn=Ve(),x5e=$i(),b5e=wn(),w5e=WR(),E5e=pI(),S5e=$R(),eee=ZR(),I5e=UQ(),T5e=fP(),tee=ZQ(),C5e=QQ(),A5e=function(t){m5e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.pairs=new Array(e.MAX_PAIRS),r.rows=new Array,r.startEnd=[2],r}return e.prototype.decodeRow=function(r,n,i){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(r,n))}catch{}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(r,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(r,n){for(var i=!1;!i;)try{this.pairs.push(this.retrieveNextPair(n,this.pairs,r))}catch(s){if(s instanceof sn.default){if(!this.pairs.length)throw new sn.default;i=!0}}if(this.checkChecksum())return this.pairs;var a;if(this.rows.length?a=!0:a=!1,this.storeRow(r,!1),a){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new sn.default},e.prototype.checkRowsBoolean=function(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());var n=null;try{n=this.checkRows(new Array,0)}catch(i){console.log(i)}return r&&(this.rows=this.rows.reverse()),n},e.prototype.checkRows=function(r,n){for(var i,a,o=n;o<this.rows.length;o++){var s=this.rows[o];this.pairs.length=0;try{for(var u=(i=void 0,dl(r)),f=u.next();!f.done;f=u.next()){var c=f.value;this.pairs.push(c.getPairs())}}catch(g){i={error:g}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}if(this.pairs.push(s.getPairs()),!!e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var l=new Array(r);l.push(s);try{return this.checkRows(l,o+1)}catch(g){console.log(g)}}}throw new sn.default},e.isValidSequence=function(r){var n,i;try{for(var a=dl(e.FINDER_PATTERN_SEQUENCES),o=a.next();!o.done;o=a.next()){var s=o.value;if(!(r.length>s.length)){for(var u=!0,f=0;f<r.length;f++)if(r[f].getFinderPattern().getValue()!=s[f]){u=!1;break}if(u)return!0}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(r,n){for(var i=0,a=!1,o=!1;i<this.rows.length;){var s=this.rows[i];if(s.getRowNumber()>r){o=s.isEquivalent(this.pairs);break}a=s.isEquivalent(this.pairs),i++}o||a||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(i,new C5e.default(this.pairs,r,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(r,n){var i,a,o,s,u,f;try{for(var c=dl(n),l=c.next();!l.done;l=c.next()){var g=l.value;if(g.getPairs().length!==r.length){var y=!0;try{for(var _=(o=void 0,dl(g.getPairs())),w=_.next();!w.done;w=_.next()){var S=w.value,I=!1;try{for(var O=(u=void 0,dl(r)),P=O.next();!P.done;P=O.next()){var q=P.value;if(tee.default.equals(S,q)){I=!0;break}}}catch(C){u={error:C}}finally{try{P&&!P.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}I||(y=!1)}}catch(C){o={error:C}}finally{try{w&&!w.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}}}}catch(C){i={error:C}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}},e.isPartialRow=function(r,n){var i,a,o,s,u,f;try{for(var c=dl(n),l=c.next();!l.done;l=c.next()){var g=l.value,y=!0;try{for(var _=(o=void 0,dl(r)),w=_.next();!w.done;w=_.next()){var S=w.value,I=!1;try{for(var O=(u=void 0,dl(g.getPairs())),P=O.next();!P.done;P=O.next()){var q=P.value;if(S.equals(q)){I=!0;break}}}catch(C){u={error:C}}finally{try{P&&!P.done&&(f=O.return)&&f.call(O)}finally{if(u)throw u.error}}if(!I){y=!1;break}}}catch(C){o={error:C}}finally{try{w&&!w.done&&(s=_.return)&&s.call(_)}finally{if(o)throw o.error}}if(y)return!0}}catch(C){i={error:C}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(r){var n=I5e.default.buildBitArray(r),i=T5e.createDecoder(n),a=i.parseInformation(),o=r[0].getFinderPattern().getResultPoints(),s=r[r.length-1].getFinderPattern().getResultPoints(),u=[o[0],o[1],s[0],s[1]];return new x5e.default(a,null,null,u,_5e.default.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var r=this.pairs.get(0),n=r.getLeftChar(),i=r.getRightChar();if(i==null)return!1;for(var a=i.getChecksumPortion(),o=2,s=1;s<this.pairs.size();++s){var u=this.pairs.get(s);a+=u.getLeftChar().getChecksumPortion(),o++;var f=u.getRightChar();f!=null&&(a+=f.getChecksumPortion(),o++)}a%=211;var c=211*(o-4)+a;return c==n.getValue()},e.getNextSecondBar=function(r,n){var i;return r.get(n)?(i=r.getNextUnset(n),i=r.getNextSet(i)):(i=r.getNextSet(n),i=r.getNextUnset(i)),i},e.prototype.retrieveNextPair=function(r,n,i){var a=n.length%2==0;this.startFromEven&&(a=!a);var o,s=!0,u=-1;do this.findNextPair(r,n,u),o=this.parseFoundFinderPattern(r,i,a),o==null?u=e.getNextSecondBar(r,this.startEnd[0]):s=!1;while(s);var f=this.decodeDataCharacter(r,o,a,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new sn.default;var c;try{c=this.decodeDataCharacter(r,o,a,!1)}catch(l){c=null,console.log(l)}return new tee.default(f,c,o,!0)},e.prototype.isEmptyPair=function(r){return r.length===0},e.prototype.findNextPair=function(r,n,i){var a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;var o=r.getSize(),s;if(i>=0)s=i;else if(this.isEmptyPair(n))s=0;else{var u=n[n.length-1];s=u.getFinderPattern().getStartEnd()[1]}var f=n.length%2!=0;this.startFromEven&&(f=!f);for(var c=!1;s<o&&(c=!r.get(s),!!c);)s++;for(var l=0,g=s,y=s;y<o;y++)if(r.get(y)!=c)a[l]++;else{if(l==3){if(f&&e.reverseCounters(a),e.isFinderPattern(a)){this.startEnd[0]=g,this.startEnd[1]=y;return}f&&e.reverseCounters(a),g+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,l--}else l++;a[l]=1,c=!c}throw new sn.default},e.reverseCounters=function(r){for(var n=r.length,i=0;i<n/2;++i){var a=r[i];r[i]=r[n-i-1],r[n-i-1]=a}},e.prototype.parseFoundFinderPattern=function(r,n,i){var a,o,s;if(i){for(var u=this.startEnd[0]-1;u>=0&&!r.get(u);)u--;u++,a=this.startEnd[0]-u,o=u,s=this.startEnd[1]}else o=this.startEnd[0],s=r.getNextUnset(this.startEnd[1]+1),a=s-this.startEnd[1];var f=this.getDecodeFinderCounters();b5e.default.arraycopy(f,0,f,1,f.length-1),f[0]=a;var c;try{c=this.parseFinderValue(f,e.FINDER_PATTERNS)}catch(l){return null}return new S5e.default(c,[o,s],o,s,n)},e.prototype.decodeDataCharacter=function(r,n,i,a){for(var o=this.getDataCharacterCounters(),s=0;s<o.length;s++)o[s]=0;if(a)e.recordPatternInReverse(r,n.getStartEnd()[0],o);else{e.recordPattern(r,n.getStartEnd()[1],o);for(var u=0,f=o.length-1;u<f;u++,f--){var c=o[u];o[u]=o[f],o[f]=c}}var l=17,g=lP.default.sum(new Int32Array(o))/l,y=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(g-y)/y>.3)throw new sn.default;for(var _=this.getOddCounts(),w=this.getEvenCounts(),S=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors(),u=0;u<o.length;u++){var O=1*o[u]/g,P=O+.5;if(P<1){if(O<.3)throw new sn.default;P=1}else if(P>8){if(O>8.7)throw new sn.default;P=8}var q=u/2;(u&1)==0?(_[q]=P,S[q]=O-P):(w[q]=P,I[q]=O-P)}this.adjustOddEvenCounts(l);for(var C=4*n.getValue()+(i?0:2)+(a?0:1)-1,d=0,m=0,u=_.length-1;u>=0;u--){if(e.isNotA1left(n,i,a)){var x=e.WEIGHTS[C][2*u];m+=_[u]*x}d+=_[u]}for(var D=0,u=w.length-1;u>=0;u--)if(e.isNotA1left(n,i,a)){var x=e.WEIGHTS[C][2*u+1];D+=w[u]*x}var M=m+D;if((d&1)!=0||d>13||d<4)throw new sn.default;var oe=(13-d)/2,L=e.SYMBOL_WIDEST[oe],b=9-L,A=eee.default.getRSSvalue(_,L,!0),R=eee.default.getRSSvalue(w,b,!1),U=e.EVEN_TOTAL_SUBSET[oe],V=e.GSUM[oe],Y=A*U+R+V;return new E5e.default(Y,M)},e.isNotA1left=function(r,n,i){return!(r.getValue()==0&&n&&i)},e.prototype.adjustOddEvenCounts=function(r){var n=lP.default.sum(new Int32Array(this.getOddCounts())),i=lP.default.sum(new Int32Array(this.getEvenCounts())),a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);var s=!1,u=!1;i>13?u=!0:i<4&&(s=!0);var f=n+i-r,c=(n&1)==1,l=(i&1)==0;if(f==1)if(c){if(l)throw new sn.default;o=!0}else{if(!l)throw new sn.default;u=!0}else if(f==-1)if(c){if(l)throw new sn.default;a=!0}else{if(!l)throw new sn.default;s=!0}else if(f==0){if(c){if(!l)throw new sn.default;n<i?(a=!0,u=!0):(o=!0,s=!0)}else if(l)throw new sn.default}else throw new sn.default;if(a){if(o)throw new sn.default;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),s){if(u)throw new sn.default;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PAT_A=0,e.FINDER_PAT_B=1,e.FINDER_PAT_C=2,e.FINDER_PAT_D=3,e.FINDER_PAT_E=4,e.FINDER_PAT_F=5,e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C,e.FINDER_PAT_B,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(w5e.default);ep.default=A5e});var ree=E(sx=>{"use strict";h();p();var O5e=sx&&sx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(sx,"__esModule",{value:!0});var D5e=pI(),R5e=function(t){O5e(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.count=0,a.finderPattern=i,a}return e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(D5e.default);sx.default=R5e});var yP=E(tp=>{"use strict";h();p();var P5e=tp&&tp.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),pP=tp&&tp.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(tp,"__esModule",{value:!0});var fv=WR(),B5e=ree(),M5e=$i(),N5e=Ji(),Co=Ve(),q5e=Jr(),F5e=yr(),L5e=$r(),U5e=$R(),nee=pI(),gP=Ws(),xI=ZR(),k5e=wn(),iee=zf(),j5e=function(t){P5e(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.possibleLeftPairs=[],r.possibleRightPairs=[],r}return e.prototype.decodeRow=function(r,n,i){var a,o,s,u,f=this.decodePair(n,!1,r,i);e.addOrTally(this.possibleLeftPairs,f),n.reverse();var c=this.decodePair(n,!0,r,i);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var l=pP(this.possibleLeftPairs),g=l.next();!g.done;g=l.next()){var y=g.value;if(y.getCount()>1)try{for(var _=(s=void 0,pP(this.possibleRightPairs)),w=_.next();!w.done;w=_.next()){var S=w.value;if(S.getCount()>1&&e.checkChecksum(y,S))return e.constructResult(y,S)}}catch(I){s={error:I}}finally{try{w&&!w.done&&(u=_.return)&&u.call(_)}finally{if(s)throw s.error}}}}catch(I){a={error:I}}finally{try{g&&!g.done&&(o=l.return)&&o.call(l)}finally{if(a)throw a.error}}throw new Co.default},e.addOrTally=function(r,n){var i,a;if(n!=null){var o=!1;try{for(var s=pP(r),u=s.next();!u.done;u=s.next()){var f=u.value;if(f.getValue()===n.getValue()){f.incrementCount(),o=!0;break}}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}o||r.push(n)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(r,n){for(var i=4537077*r.getValue()+n.getValue(),a=new String(i).toString(),o=new q5e.default,s=13-a.length;s>0;s--)o.append("0");o.append(a);for(var u=0,s=0;s<13;s++){var f=o.charAt(s).charCodeAt(0)-"0".charCodeAt(0);u+=(s&1)===0?3*f:f}u=10-u%10,u===10&&(u=0),o.append(u.toString());var c=r.getFinderPattern().getResultPoints(),l=n.getFinderPattern().getResultPoints();return new M5e.default(o.toString(),null,0,[c[0],c[1],l[0],l[1]],F5e.default.RSS_14,new Date().getTime())},e.checkChecksum=function(r,n){var i=(r.getChecksumPortion()+16*n.getChecksumPortion())%79,a=9*r.getFinderPattern().getValue()+n.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,i===a},e.prototype.decodePair=function(r,n,i,a){try{var o=this.findFinderPattern(r,n),s=this.parseFoundFinderPattern(r,i,n,o),u=a==null?null:a.get(N5e.default.NEED_RESULT_POINT_CALLBACK);if(u!=null){var f=(o[0]+o[1])/2;n&&(f=r.getSize()-1-f),u.foundPossibleResultPoint(new L5e.default(f,i))}var c=this.decodeDataCharacter(r,s,!0),l=this.decodeDataCharacter(r,s,!1);return new B5e.default(1597*c.getValue()+l.getValue(),c.getChecksumPortion()+4*l.getChecksumPortion(),s)}catch{return null}},e.prototype.decodeDataCharacter=function(r,n,i){for(var a=this.getDataCharacterCounters(),o=0;o<a.length;o++)a[o]=0;if(i)iee.default.recordPatternInReverse(r,n.getStartEnd()[0],a);else{iee.default.recordPattern(r,n.getStartEnd()[1]+1,a);for(var s=0,u=a.length-1;s<u;s++,u--){var f=a[s];a[s]=a[u],a[u]=f}}for(var c=i?16:15,l=gP.default.sum(new Int32Array(a))/c,g=this.getOddCounts(),y=this.getEvenCounts(),_=this.getOddRoundingErrors(),w=this.getEvenRoundingErrors(),s=0;s<a.length;s++){var S=a[s]/l,I=Math.floor(S+.5);I<1?I=1:I>8&&(I=8);var O=Math.floor(s/2);(s&1)===0?(g[O]=I,_[O]=S-I):(y[O]=I,w[O]=S-I)}this.adjustOddEvenCounts(i,c);for(var P=0,q=0,s=g.length-1;s>=0;s--)q*=9,q+=g[s],P+=g[s];for(var C=0,d=0,s=y.length-1;s>=0;s--)C*=9,C+=y[s],d+=y[s];var m=q+3*C;if(i){if((P&1)!==0||P>12||P<4)throw new Co.default;var x=(12-P)/2,D=e.OUTSIDE_ODD_WIDEST[x],M=9-D,oe=xI.default.getRSSvalue(g,D,!1),L=xI.default.getRSSvalue(y,M,!0),b=e.OUTSIDE_EVEN_TOTAL_SUBSET[x],A=e.OUTSIDE_GSUM[x];return new nee.default(oe*b+L+A,m)}else{if((d&1)!==0||d>10||d<4)throw new Co.default;var x=(10-d)/2,D=e.INSIDE_ODD_WIDEST[x],M=9-D,oe=xI.default.getRSSvalue(g,D,!0),L=xI.default.getRSSvalue(y,M,!1),R=e.INSIDE_ODD_TOTAL_SUBSET[x],A=e.INSIDE_GSUM[x];return new nee.default(L*R+oe+A,m)}},e.prototype.findFinderPattern=function(r,n){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var a=r.getSize(),o=!1,s=0;s<a&&(o=!r.get(s),n!==o);)s++;for(var u=0,f=s,c=s;c<a;c++)if(r.get(c)!==o)i[u]++;else{if(u===3){if(fv.default.isFinderPattern(i))return[f,c];f+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,u--}else u++;i[u]=1,o=!o}throw new Co.default},e.prototype.parseFoundFinderPattern=function(r,n,i,a){for(var o=r.get(a[0]),s=a[0]-1;s>=0&&o!==r.get(s);)s--;s++;var u=a[0]-s,f=this.getDecodeFinderCounters(),c=new Int32Array(f.length);k5e.default.arraycopy(f,0,c,1,f.length-1),c[0]=u;var l=this.parseFinderValue(c,e.FINDER_PATTERNS),g=s,y=a[1];return i&&(g=r.getSize()-1-g,y=r.getSize()-1-y),new U5e.default(l,[s,a[1]],g,y,n)},e.prototype.adjustOddEvenCounts=function(r,n){var i=gP.default.sum(new Int32Array(this.getOddCounts())),a=gP.default.sum(new Int32Array(this.getEvenCounts())),o=!1,s=!1,u=!1,f=!1;r?(i>12?s=!0:i<4&&(o=!0),a>12?f=!0:a<4&&(u=!0)):(i>11?s=!0:i<5&&(o=!0),a>10?f=!0:a<4&&(u=!0));var c=i+a-n,l=(i&1)===(r?1:0),g=(a&1)===1;if(c===1)if(l){if(g)throw new Co.default;s=!0}else{if(!g)throw new Co.default;f=!0}else if(c===-1)if(l){if(g)throw new Co.default;o=!0}else{if(!g)throw new Co.default;u=!0}else if(c===0){if(l){if(!g)throw new Co.default;i<a?(o=!0,f=!0):(s=!0,u=!0)}else if(g)throw new Co.default}else throw new Co.default;if(o){if(s)throw new Co.default;fv.default.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&fv.default.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new Co.default;fv.default.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&fv.default.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(fv.default);tp.default=j5e});var bI=E(ux=>{"use strict";h();p();var H5e=ux&&ux.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ux,"__esModule",{value:!0});var t0=yr(),aee=Ji(),K5e=Ve(),oee=kR(),see=HR(),uee=KR(),vP=qQ(),V5e=zf(),G5e=hP(),fee=yP(),z5e=function(t){H5e(e,t);function e(r){var n=t.call(this)||this;n.readers=[];var i=r?r.get(aee.default.POSSIBLE_FORMATS):null,a=r&&r.get(aee.default.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;return i&&((i.includes(t0.default.EAN_13)||i.includes(t0.default.UPC_A)||i.includes(t0.default.EAN_8)||i.includes(t0.default.UPC_E))&&n.readers.push(new vP.default(r)),i.includes(t0.default.CODE_39)&&n.readers.push(new see.default(a)),i.includes(t0.default.CODE_128)&&n.readers.push(new oee.default),i.includes(t0.default.ITF)&&n.readers.push(new uee.default),i.includes(t0.default.RSS_14)&&n.readers.push(new fee.default),i.includes(t0.default.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),n.readers.push(new G5e.default))),n.readers.length===0&&(n.readers.push(new vP.default(r)),n.readers.push(new see.default),n.readers.push(new vP.default(r)),n.readers.push(new oee.default),n.readers.push(new uee.default),n.readers.push(new fee.default)),n}return e.prototype.decodeRow=function(r,n,i){for(var a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(r,n,i)}catch{}throw new K5e.default},e.prototype.reset=function(){this.readers.forEach(function(r){return r.reset()})},e}(V5e.default);ux.default=z5e});var cee=E(cv=>{"use strict";h();p();var Y5e=cv&&cv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(cv,"__esModule",{value:!0});cv.BrowserBarcodeReader=void 0;var W5e=sl(),X5e=bI(),J5e=function(t){Y5e(e,t);function e(r,n){return r===void 0&&(r=500),t.call(this,new X5e.default(n),r,n)||this}return e}(W5e.BrowserCodeReader);cv.BrowserBarcodeReader=J5e});var hee=E(r0=>{"use strict";h();p();var dee=r0&&r0.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r0,"__esModule",{value:!0});r0.ECB=r0.ECBlocks=void 0;var lee=Lr(),It=function(){function t(e,r,n){this.ecCodewords=e,this.ecBlocks=[r],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}();r0.ECBlocks=It;var xt=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}();r0.ECB=xt;var $5e=function(){function t(e,r,n,i,a,o){var s,u;this.versionNumber=e,this.symbolSizeRows=r,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=a,this.ecBlocks=o;var f=0,c=o.getECCodewords(),l=o.getECBlocks();try{for(var g=dee(l),y=g.next();!y.done;y=g.next()){var _=y.value;f+=_.getCount()*(_.getDataCodewords()+c)}}catch(w){s={error:w}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}this.totalCodewords=f}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,r){var n,i;if((e&1)!==0||(r&1)!==0)throw new lee.default;try{for(var a=dee(t.VERSIONS),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===r)return s}}catch(u){n={error:u}}finally{try{o&&!o.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}throw new lee.default},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new It(5,new xt(1,3))),new t(2,12,12,10,10,new It(7,new xt(1,5))),new t(3,14,14,12,12,new It(10,new xt(1,8))),new t(4,16,16,14,14,new It(12,new xt(1,12))),new t(5,18,18,16,16,new It(14,new xt(1,18))),new t(6,20,20,18,18,new It(18,new xt(1,22))),new t(7,22,22,20,20,new It(20,new xt(1,30))),new t(8,24,24,22,22,new It(24,new xt(1,36))),new t(9,26,26,24,24,new It(28,new xt(1,44))),new t(10,32,32,14,14,new It(36,new xt(1,62))),new t(11,36,36,16,16,new It(42,new xt(1,86))),new t(12,40,40,18,18,new It(48,new xt(1,114))),new t(13,44,44,20,20,new It(56,new xt(1,144))),new t(14,48,48,22,22,new It(68,new xt(1,174))),new t(15,52,52,24,24,new It(42,new xt(2,102))),new t(16,64,64,14,14,new It(56,new xt(2,140))),new t(17,72,72,16,16,new It(36,new xt(4,92))),new t(18,80,80,18,18,new It(48,new xt(4,114))),new t(19,88,88,20,20,new It(56,new xt(4,144))),new t(20,96,96,22,22,new It(68,new xt(4,174))),new t(21,104,104,24,24,new It(56,new xt(6,136))),new t(22,120,120,18,18,new It(68,new xt(6,175))),new t(23,132,132,20,20,new It(62,new xt(8,163))),new t(24,144,144,22,22,new It(62,new xt(8,156),new xt(2,155))),new t(25,8,18,6,16,new It(7,new xt(1,5))),new t(26,8,32,6,14,new It(11,new xt(1,10))),new t(27,12,26,10,24,new It(14,new xt(1,16))),new t(28,12,36,10,16,new It(18,new xt(1,22))),new t(29,16,36,14,16,new It(24,new xt(1,32))),new t(30,16,48,14,22,new It(28,new xt(1,49)))]},t.VERSIONS=t.buildVersions(),t}();r0.default=$5e});var yee=E(mP=>{"use strict";h();p();Object.defineProperty(mP,"__esModule",{value:!0});var pee=To(),Z5e=hee(),gee=Lr(),Q5e=St(),eTe=function(){function t(e){var r=e.getHeight();if(r<8||r>144||(r&1)!==0)throw new gee.default;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new pee.default(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(e){var r=e.getHeight(),n=e.getWidth();return Z5e.default.getVersionForDimensions(r,n)},t.prototype.readCodewords=function(){var e=new Int8Array(this.version.getTotalCodewords()),r=0,n=4,i=0,a=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),s=!1,u=!1,f=!1,c=!1;do if(n===a&&i===0&&!s)e[r++]=this.readCorner1(a,o)&255,n-=2,i+=2,s=!0;else if(n===a-2&&i===0&&(o&3)!==0&&!u)e[r++]=this.readCorner2(a,o)&255,n-=2,i+=2,u=!0;else if(n===a+4&&i===2&&(o&7)===0&&!f)e[r++]=this.readCorner3(a,o)&255,n-=2,i+=2,f=!0;else if(n===a-2&&i===0&&(o&7)===4&&!c)e[r++]=this.readCorner4(a,o)&255,n-=2,i+=2,c=!0;else{do n<a&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n-=2,i+=2;while(n>=0&&i<o);n+=1,i+=3;do n>=0&&i<o&&!this.readMappingMatrix.get(i,n)&&(e[r++]=this.readUtah(n,i,a,o)&255),n+=2,i-=2;while(n<a&&i>=0);n+=3,i+=1}while(n<a||i<o);if(r!==this.version.getTotalCodewords())throw new gee.default;return e},t.prototype.readModule=function(e,r,n,i){return e<0&&(e+=n,r+=4-(n+4&7)),r<0&&(r+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(r,e),this.mappingBitMatrix.get(r,e)},t.prototype.readUtah=function(e,r,n,i){var a=0;return this.readModule(e-2,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-2,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e-1,r,n,i)&&(a|=1),a<<=1,this.readModule(e,r-2,n,i)&&(a|=1),a<<=1,this.readModule(e,r-1,n,i)&&(a|=1),a<<=1,this.readModule(e,r,n,i)&&(a|=1),a},t.prototype.readCorner1=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,1,e,r)&&(n|=1),n<<=1,this.readModule(e-1,2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.readCorner2=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-4,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner3=function(e,r){var n=0;return this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(0,r-3,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-3,e,r)&&(n|=1),n<<=1,this.readModule(1,r-2,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n},t.prototype.readCorner4=function(e,r){var n=0;return this.readModule(e-3,0,e,r)&&(n|=1),n<<=1,this.readModule(e-2,0,e,r)&&(n|=1),n<<=1,this.readModule(e-1,0,e,r)&&(n|=1),n<<=1,this.readModule(0,r-2,e,r)&&(n|=1),n<<=1,this.readModule(0,r-1,e,r)&&(n|=1),n<<=1,this.readModule(1,r-1,e,r)&&(n|=1),n<<=1,this.readModule(2,r-1,e,r)&&(n|=1),n<<=1,this.readModule(3,r-1,e,r)&&(n|=1),n},t.prototype.extractDataRegion=function(e){var r=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==r)throw new Q5e.default("Dimension of bitMatrix must match the version size");for(var i=this.version.getDataRegionSizeRows(),a=this.version.getDataRegionSizeColumns(),o=r/i|0,s=n/a|0,u=o*i,f=s*a,c=new pee.default(f,u),l=0;l<o;++l)for(var g=l*i,y=0;y<s;++y)for(var _=y*a,w=0;w<i;++w)for(var S=l*(i+2)+1+w,I=g+w,O=0;O<a;++O){var P=y*(a+2)+1+O;if(e.get(P,S)){var q=_+O;c.set(q,I)}}return c},t}();mP.default=eTe});var mee=E(fx=>{"use strict";h();p();var vee=fx&&fx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(fx,"__esModule",{value:!0});var tTe=St(),rTe=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r){var n,i,a,o,s=r.getECBlocks(),u=0,f=s.getECBlocks();try{for(var c=vee(f),l=c.next();!l.done;l=c.next()){var g=l.value;u+=g.getCount()}}catch(A){n={error:A}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}var y=new Array(u),_=0;try{for(var w=vee(f),S=w.next();!S.done;S=w.next())for(var g=S.value,I=0;I<g.getCount();I++){var O=g.getDataCodewords(),P=s.getECCodewords()+O;y[_++]=new t(O,new Uint8Array(P))}}catch(A){a={error:A}}finally{try{S&&!S.done&&(o=w.return)&&o.call(w)}finally{if(a)throw a.error}}for(var q=y[0].codewords.length,C=q-s.getECCodewords(),d=C-1,m=0,I=0;I<d;I++)for(var x=0;x<_;x++)y[x].codewords[I]=e[m++];for(var D=r.getVersionNumber()===24,M=D?8:_,x=0;x<M;x++)y[x].codewords[C-1]=e[m++];for(var oe=y[0].codewords.length,I=C;I<oe;I++)for(var x=0;x<_;x++){var L=D?(x+8)%_:x,b=D&&L>7?I-1:I;y[L].codewords[b]=e[m++]}if(m!==e.length)throw new tTe.default;return y},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();fx.default=rTe});var wI=E(_P=>{"use strict";h();p();Object.defineProperty(_P,"__esModule",{value:!0});var nTe=St(),iTe=function(){function t(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new nTe.default(""+e);var r=0,n=this.bitOffset,i=this.byteOffset,a=this.bytes;if(n>0){var o=8-n,s=e<o?e:o,u=o-s,f=255>>8-s<<u;r=(a[i]&f)>>u,e-=s,n+=s,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)r=r<<8|a[i]&255,i++,e-=8;if(e>0){var u=8-e,f=255>>u<<u;r=r<<e|(a[i]&f)>>u,n+=e}}return this.bitOffset=n,this.byteOffset=i,r},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}();_P.default=iTe});var bP=E(xP=>{"use strict";h();p();Object.defineProperty(xP,"__esModule",{value:!0});var aTe=rv(),oTe=wI(),_ee=Jr(),sTe=K1(),uTe=Wu(),Ao=Lr(),fTe=Gf(),un;(function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"})(un||(un={}));var cTe=function(){function t(){}return t.decode=function(e){var r=new oTe.default(e),n=new _ee.default,i=new _ee.default,a=new Array,o=un.ASCII_ENCODE;do if(o===un.ASCII_ENCODE)o=this.decodeAsciiSegment(r,n,i);else{switch(o){case un.C40_ENCODE:this.decodeC40Segment(r,n);break;case un.TEXT_ENCODE:this.decodeTextSegment(r,n);break;case un.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,n);break;case un.EDIFACT_ENCODE:this.decodeEdifactSegment(r,n);break;case un.BASE256_ENCODE:this.decodeBase256Segment(r,n,a);break;default:throw new Ao.default}o=un.ASCII_ENCODE}while(o!==un.PAD_ENCODE&&r.available()>0);return i.length()>0&&n.append(i.toString()),new aTe.default(e,n.toString(),a.length===0?null:a,null)},t.decodeAsciiSegment=function(e,r,n){var i=!1;do{var a=e.readBits(8);if(a===0)throw new Ao.default;if(a<=128)return i&&(a+=128),r.append(String.fromCharCode(a-1)),un.ASCII_ENCODE;if(a===129)return un.PAD_ENCODE;if(a<=229){var o=a-130;o<10&&r.append("0"),r.append(""+o)}else switch(a){case 230:return un.C40_ENCODE;case 231:return un.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:r.append("[)>05"),n.insert(0,"");break;case 237:r.append("[)>06"),n.insert(0,"");break;case 238:return un.ANSIX12_ENCODE;case 239:return un.TEXT_ENCODE;case 240:return un.EDIFACT_ENCODE;case 241:break;default:if(a!==254||e.available()!==0)throw new Ao.default;break}}while(e.available()>0);return un.ASCII_ENCODE},t.decodeC40Segment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){var f=this.C40_BASIC_SET_CHARS[u];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else throw new Ao.default;break;case 1:n?(r.append(String.fromCharCode(u+128)),n=!1):r.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){var f=this.C40_SHIFT2_SET_CHARS[u];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else switch(u){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Ao.default}a=0;break;case 3:n?(r.append(String.fromCharCode(u+224)),n=!1):r.append(String.fromCharCode(u+96)),a=0;break;default:throw new Ao.default}}}while(e.available()>0)},t.decodeTextSegment=function(e,r){var n=!1,i=[],a=0;do{if(e.available()===8)return;var o=e.readBits(8);if(o===254)return;this.parseTwoBytes(o,e.readBits(8),i);for(var s=0;s<3;s++){var u=i[s];switch(a){case 0:if(u<3)a=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){var f=this.TEXT_BASIC_SET_CHARS[u];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else throw new Ao.default;break;case 1:n?(r.append(String.fromCharCode(u+128)),n=!1):r.append(String.fromCharCode(u)),a=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){var f=this.TEXT_SHIFT2_SET_CHARS[u];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f)}else switch(u){case 27:r.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new Ao.default}a=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){var f=this.TEXT_SHIFT3_SET_CHARS[u];n?(r.append(String.fromCharCode(f.charCodeAt(0)+128)),n=!1):r.append(f),a=0}else throw new Ao.default;break;default:throw new Ao.default}}}while(e.available()>0)},t.decodeAnsiX12Segment=function(e,r){var n=[];do{if(e.available()===8)return;var i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(var a=0;a<3;a++){var o=n[a];switch(o){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(o<14)r.append(String.fromCharCode(o+44));else if(o<40)r.append(String.fromCharCode(o+51));else throw new Ao.default;break}}}while(e.available()>0)},t.parseTwoBytes=function(e,r,n){var i=(e<<8)+r-1,a=Math.floor(i/1600);n[0]=a,i-=a*1600,a=Math.floor(i/40),n[1]=a,n[2]=i-a*40},t.decodeEdifactSegment=function(e,r){do{if(e.available()<=16)return;for(var n=0;n<4;n++){var i=e.readBits(6);if(i===31){var a=8-e.getBitOffset();a!==8&&e.readBits(a);return}(i&32)===0&&(i|=64),r.append(String.fromCharCode(i))}}while(e.available()>0)},t.decodeBase256Segment=function(e,r,n){var i=1+e.getByteOffset(),a=this.unrandomize255State(e.readBits(8),i++),o;if(a===0?o=e.available()/8|0:a<250?o=a:o=250*(a-249)+this.unrandomize255State(e.readBits(8),i++),o<0)throw new Ao.default;for(var s=new Uint8Array(o),u=0;u<o;u++){if(e.available()<8)throw new Ao.default;s[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(s);try{r.append(sTe.default.decode(s,uTe.default.ISO88591))}catch(f){throw new fTe.default("Platform does not support required encoding: "+f.message)}},t.unrandomize255State=function(e,r){var n=149*r%255+1,i=e-n;return i>=0?i:i+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}();xP.default=cTe});var xee=E(cx=>{"use strict";h();p();var dTe=cx&&cx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(cx,"__esModule",{value:!0});var lTe=zu(),hTe=Zc(),pTe=iv(),gTe=yee(),yTe=mee(),vTe=bP(),mTe=function(){function t(){this.rsDecoder=new pTe.default(hTe.default.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(e){var r,n,i=new gTe.default(e),a=i.getVersion(),o=i.readCodewords(),s=yTe.default.getDataBlocks(o,a),u=0;try{for(var f=dTe(s),c=f.next();!c.done;c=f.next()){var l=c.value;u+=l.getNumDataCodewords()}}catch(P){r={error:P}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}for(var g=new Uint8Array(u),y=s.length,_=0;_<y;_++){var w=s[_],S=w.getCodewords(),I=w.getNumDataCodewords();this.correctErrors(S,I);for(var O=0;O<I;O++)g[O*y+_]=S[O]}return vTe.default.decode(g)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new lTe.default}for(var i=0;i<r;i++)e[i]=n[i]},t}();cx.default=mTe});var bee=E(wP=>{"use strict";h();p();Object.defineProperty(wP,"__esModule",{value:!0});var _Te=nI(),xTe=C_(),bTe=D_(),wTe=Ve(),EI=$r(),ETe=function(){function t(e){this.image=e,this.rectangleDetector=new _Te.default(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),r=this.detectSolid1(e);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new wTe.default;r=this.shiftToModuleCenter(r);var n=r[0],i=r[1],a=r[2],o=r[3],s=this.transitionsBetween(n,o)+1,u=this.transitionsBetween(a,o)+1;(s&1)===1&&(s+=1),(u&1)===1&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var f=t.sampleGrid(this.image,n,i,a,o,s,u);return new xTe.default(f,[n,i,a,o])},t.shiftPoint=function(e,r,n){var i=(r.getX()-e.getX())/(n+1),a=(r.getY()-e.getY())/(n+1);return new EI.default(e.getX()+i,e.getY()+a)},t.moveAway=function(e,r,n){var i=e.getX(),a=e.getY();return i<r?i-=1:i+=1,a<n?a-=1:a+=1,new EI.default(i,a)},t.prototype.detectSolid1=function(e){var r=e[0],n=e[1],i=e[3],a=e[2],o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),u=this.transitionsBetween(i,a),f=this.transitionsBetween(a,r),c=o,l=[a,r,n,i];return c>s&&(c=s,l[0]=r,l[1]=n,l[2]=i,l[3]=a),c>u&&(c=u,l[0]=n,l[1]=i,l[2]=a,l[3]=r),c>f&&(l[0]=i,l[1]=a,l[2]=r,l[3]=n),l},t.prototype.detectSolid2=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=t.shiftPoint(n,i,(o+1)*4),u=t.shiftPoint(i,n,(o+1)*4),f=this.transitionsBetween(s,r),c=this.transitionsBetween(u,a);return f<c?(e[0]=r,e[1]=n,e[2]=i,e[3]=a):(e[0]=n,e[1]=i,e[2]=a,e[3]=r),e},t.prototype.correctTopRight=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a),s=this.transitionsBetween(n,a),u=t.shiftPoint(r,n,(s+1)*4),f=t.shiftPoint(i,n,(o+1)*4);o=this.transitionsBetween(u,a),s=this.transitionsBetween(f,a);var c=new EI.default(a.getX()+(i.getX()-n.getX())/(o+1),a.getY()+(i.getY()-n.getY())/(o+1)),l=new EI.default(a.getX()+(r.getX()-n.getX())/(s+1),a.getY()+(r.getY()-n.getY())/(s+1));if(!this.isValid(c))return this.isValid(l)?l:null;if(!this.isValid(l))return c;var g=this.transitionsBetween(u,c)+this.transitionsBetween(f,c),y=this.transitionsBetween(u,l)+this.transitionsBetween(f,l);return g>y?c:l},t.prototype.shiftToModuleCenter=function(e){var r=e[0],n=e[1],i=e[2],a=e[3],o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1,u=t.shiftPoint(r,n,s*4),f=t.shiftPoint(i,n,o*4);o=this.transitionsBetween(u,a)+1,s=this.transitionsBetween(f,a)+1,(o&1)===1&&(o+=1),(s&1)===1&&(s+=1);var c=(r.getX()+n.getX()+i.getX()+a.getX())/4,l=(r.getY()+n.getY()+i.getY()+a.getY())/4;r=t.moveAway(r,c,l),n=t.moveAway(n,c,l),i=t.moveAway(i,c,l),a=t.moveAway(a,c,l);var g,y;return u=t.shiftPoint(r,n,s*4),u=t.shiftPoint(u,a,o*4),g=t.shiftPoint(n,r,s*4),g=t.shiftPoint(g,i,o*4),f=t.shiftPoint(i,a,s*4),f=t.shiftPoint(f,n,o*4),y=t.shiftPoint(a,i,s*4),y=t.shiftPoint(y,r,o*4),[u,g,f,y]},t.prototype.isValid=function(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()},t.sampleGrid=function(e,r,n,i,a,o,s){var u=bTe.default.getInstance();return u.sampleGrid(e,o,s,.5,.5,o-.5,.5,o-.5,s-.5,.5,s-.5,r.getX(),r.getY(),a.getX(),a.getY(),i.getX(),i.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(e,r){var n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),a=Math.trunc(r.getX()),o=Math.trunc(r.getY()),s=Math.abs(o-i)>Math.abs(a-n);if(s){var u=n;n=i,i=u,u=a,a=o,o=u}for(var f=Math.abs(a-n),c=Math.abs(o-i),l=-f/2,g=i<o?1:-1,y=n<a?1:-1,_=0,w=this.image.get(s?i:n,s?n:i),S=n,I=i;S!==a;S+=y){var O=this.image.get(s?I:S,s?S:I);if(O!==w&&(_++,w=O),l+=c,l>0){if(I===o)break;I+=g,l-=f}}return _},t}();wP.default=ETe});var II=E(EP=>{"use strict";h();p();Object.defineProperty(EP,"__esModule",{value:!0});var STe=yr(),ITe=To(),TTe=Ji(),SI=Ve(),CTe=$i(),wee=Vf(),ATe=wn(),OTe=xee(),DTe=bee(),RTe=function(){function t(){this.decoder=new OTe.default}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n,i;if(r!=null&&r.has(TTe.default.PURE_BARCODE)){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(a),i=t.NO_POINTS}else{var o=new DTe.default(e.getBlackMatrix()).detect();n=this.decoder.decode(o.getBits()),i=o.getPoints()}var s=n.getRawBytes(),u=new CTe.default(n.getText(),s,8*s.length,i,STe.default.DATA_MATRIX,ATe.default.currentTimeMillis()),f=n.getByteSegments();f!=null&&u.putMetadata(wee.default.BYTE_SEGMENTS,f);var c=n.getECLevel();return c!=null&&u.putMetadata(wee.default.ERROR_CORRECTION_LEVEL,c),u},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r==null||n==null)throw new SI.default;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],u=n[0],f=(u-s+1)/i,c=(o-a+1)/i;if(f<=0||c<=0)throw new SI.default;var l=i/2;a+=l,s+=l;for(var g=new ITe.default(f,c),y=0;y<c;y++)for(var _=a+y*i,w=0;w<f;w++)e.get(s+w*i,_)&&g.set(w,y);return g},t.moduleSize=function(e,r){for(var n=r.getWidth(),i=e[0],a=e[1];i<n&&r.get(i,a);)i++;if(i===n)throw new SI.default;var o=i-e[0];if(o===0)throw new SI.default;return o},t.NO_POINTS=[],t}();EP.default=RTe});var Eee=E(dv=>{"use strict";h();p();var PTe=dv&&dv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(dv,"__esModule",{value:!0});dv.BrowserDatamatrixCodeReader=void 0;var BTe=sl(),MTe=II(),NTe=function(t){PTe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new MTe.default,r)||this}return e}(BTe.BrowserCodeReader);dv.BrowserDatamatrixCodeReader=NTe});var lx=E(lv=>{"use strict";h();p();Object.defineProperty(lv,"__esModule",{value:!0});lv.ErrorCorrectionLevelValues=void 0;var qTe=VS(),FTe=St(),dx;(function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"})(dx=lv.ErrorCorrectionLevelValues||(lv.ErrorCorrectionLevelValues={}));var LTe=function(){function t(e,r,n){this.value=e,this.stringValue=r,this.bits=n,t.FOR_BITS.set(n,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new qTe.default(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new FTe.default;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(dx.L,"L",1),t.M=new t(dx.M,"M",0),t.Q=new t(dx.Q,"Q",3),t.H=new t(dx.H,"H",2),t}();lv.default=LTe});var TI=E(hx=>{"use strict";h();p();var UTe=hx&&hx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(hx,"__esModule",{value:!0});var kTe=lx(),jTe=Qa(),HTe=function(){function t(e){this.errorCorrectionLevel=kTe.default.forBits(e>>3&3),this.dataMask=e&7}return t.numBitsDiffering=function(e,r){return jTe.default.bitCount(e^r)},t.decodeFormatInformation=function(e,r){var n=t.doDecodeFormatInformation(e,r);return n!==null?n:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,r^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,r){var n,i,a=Number.MAX_SAFE_INTEGER,o=0;try{for(var s=UTe(t.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var f=u.value,c=f[0];if(c===e||c===r)return new t(f[1]);var l=t.numBitsDiffering(e,c);l<a&&(o=f[1],a=l),e!==r&&(l=t.numBitsDiffering(r,c),l<a&&(o=f[1],a=l))}}catch(g){n={error:g}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a<=3?new t(o):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}();hx.default=HTe});var See=E(px=>{"use strict";h();p();var KTe=px&&px.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(px,"__esModule",{value:!0});var VTe=function(){function t(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.ecCodewordsPerBlock=e,this.ecBlocks=r}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var e,r,n=0,i=this.ecBlocks;try{for(var a=KTe(i),o=a.next();!o.done;o=a.next()){var s=o.value;n+=s.getCount()}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}();px.default=VTe});var Iee=E(SP=>{"use strict";h();p();Object.defineProperty(SP,"__esModule",{value:!0});var GTe=function(){function t(e,r){this.count=e,this.dataCodewords=r}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}();SP.default=GTe});var yx=E(gx=>{"use strict";h();p();var zTe=gx&&gx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(gx,"__esModule",{value:!0});var YTe=To(),WTe=TI(),Z=See(),H=Iee(),Tee=Lr(),XTe=St(),JTe=function(){function t(e,r){for(var n,i,a=[],o=2;o<arguments.length;o++)a[o-2]=arguments[o];this.versionNumber=e,this.alignmentPatternCenters=r,this.ecBlocks=a;var s=0,u=a[0].getECCodewordsPerBlock(),f=a[0].getECBlocks();try{for(var c=zTe(f),l=c.next();!l.done;l=c.next()){var g=l.value;s+=g.getCount()*(g.getDataCodewords()+u)}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}this.totalCodewords=s}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.getValue()]},t.getProvisionalVersionForDimension=function(e){if(e%4!==1)throw new Tee.default;try{return this.getVersionForNumber((e-17)/4)}catch{throw new Tee.default}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new XTe.default;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var r=Number.MAX_SAFE_INTEGER,n=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var a=t.VERSION_DECODE_INFO[i];if(a===e)return t.getVersionForNumber(i+7);var o=WTe.default.numBitsDiffering(e,a);o<r&&(n=i+7,r=o)}return r<=3?t.getVersionForNumber(n):null},t.prototype.buildFunctionPattern=function(){var e=this.getDimensionForVersion(),r=new YTe.default(e);r.setRegion(0,0,9,9),r.setRegion(e-8,0,8,9),r.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var a=this.alignmentPatternCenters[i]-2,o=0;o<n;o++)i===0&&(o===0||o===n-1)||i===n-1&&o===0||r.setRegion(this.alignmentPatternCenters[o]-2,a,5,5);return r.setRegion(6,9,1,e-17),r.setRegion(9,6,e-17,1),this.versionNumber>6&&(r.setRegion(e-11,0,3,6),r.setRegion(0,e-11,6,3)),r},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new Z.default(7,new H.default(1,19)),new Z.default(10,new H.default(1,16)),new Z.default(13,new H.default(1,13)),new Z.default(17,new H.default(1,9))),new t(2,Int32Array.from([6,18]),new Z.default(10,new H.default(1,34)),new Z.default(16,new H.default(1,28)),new Z.default(22,new H.default(1,22)),new Z.default(28,new H.default(1,16))),new t(3,Int32Array.from([6,22]),new Z.default(15,new H.default(1,55)),new Z.default(26,new H.default(1,44)),new Z.default(18,new H.default(2,17)),new Z.default(22,new H.default(2,13))),new t(4,Int32Array.from([6,26]),new Z.default(20,new H.default(1,80)),new Z.default(18,new H.default(2,32)),new Z.default(26,new H.default(2,24)),new Z.default(16,new H.default(4,9))),new t(5,Int32Array.from([6,30]),new Z.default(26,new H.default(1,108)),new Z.default(24,new H.default(2,43)),new Z.default(18,new H.default(2,15),new H.default(2,16)),new Z.default(22,new H.default(2,11),new H.default(2,12))),new t(6,Int32Array.from([6,34]),new Z.default(18,new H.default(2,68)),new Z.default(16,new H.default(4,27)),new Z.default(24,new H.default(4,19)),new Z.default(28,new H.default(4,15))),new t(7,Int32Array.from([6,22,38]),new Z.default(20,new H.default(2,78)),new Z.default(18,new H.default(4,31)),new Z.default(18,new H.default(2,14),new H.default(4,15)),new Z.default(26,new H.default(4,13),new H.default(1,14))),new t(8,Int32Array.from([6,24,42]),new Z.default(24,new H.default(2,97)),new Z.default(22,new H.default(2,38),new H.default(2,39)),new Z.default(22,new H.default(4,18),new H.default(2,19)),new Z.default(26,new H.default(4,14),new H.default(2,15))),new t(9,Int32Array.from([6,26,46]),new Z.default(30,new H.default(2,116)),new Z.default(22,new H.default(3,36),new H.default(2,37)),new Z.default(20,new H.default(4,16),new H.default(4,17)),new Z.default(24,new H.default(4,12),new H.default(4,13))),new t(10,Int32Array.from([6,28,50]),new Z.default(18,new H.default(2,68),new H.default(2,69)),new Z.default(26,new H.default(4,43),new H.default(1,44)),new Z.default(24,new H.default(6,19),new H.default(2,20)),new Z.default(28,new H.default(6,15),new H.default(2,16))),new t(11,Int32Array.from([6,30,54]),new Z.default(20,new H.default(4,81)),new Z.default(30,new H.default(1,50),new H.default(4,51)),new Z.default(28,new H.default(4,22),new H.default(4,23)),new Z.default(24,new H.default(3,12),new H.default(8,13))),new t(12,Int32Array.from([6,32,58]),new Z.default(24,new H.default(2,92),new H.default(2,93)),new Z.default(22,new H.default(6,36),new H.default(2,37)),new Z.default(26,new H.default(4,20),new H.default(6,21)),new Z.default(28,new H.default(7,14),new H.default(4,15))),new t(13,Int32Array.from([6,34,62]),new Z.default(26,new H.default(4,107)),new Z.default(22,new H.default(8,37),new H.default(1,38)),new Z.default(24,new H.default(8,20),new H.default(4,21)),new Z.default(22,new H.default(12,11),new H.default(4,12))),new t(14,Int32Array.from([6,26,46,66]),new Z.default(30,new H.default(3,115),new H.default(1,116)),new Z.default(24,new H.default(4,40),new H.default(5,41)),new Z.default(20,new H.default(11,16),new H.default(5,17)),new Z.default(24,new H.default(11,12),new H.default(5,13))),new t(15,Int32Array.from([6,26,48,70]),new Z.default(22,new H.default(5,87),new H.default(1,88)),new Z.default(24,new H.default(5,41),new H.default(5,42)),new Z.default(30,new H.default(5,24),new H.default(7,25)),new Z.default(24,new H.default(11,12),new H.default(7,13))),new t(16,Int32Array.from([6,26,50,74]),new Z.default(24,new H.default(5,98),new H.default(1,99)),new Z.default(28,new H.default(7,45),new H.default(3,46)),new Z.default(24,new H.default(15,19),new H.default(2,20)),new Z.default(30,new H.default(3,15),new H.default(13,16))),new t(17,Int32Array.from([6,30,54,78]),new Z.default(28,new H.default(1,107),new H.default(5,108)),new Z.default(28,new H.default(10,46),new H.default(1,47)),new Z.default(28,new H.default(1,22),new H.default(15,23)),new Z.default(28,new H.default(2,14),new H.default(17,15))),new t(18,Int32Array.from([6,30,56,82]),new Z.default(30,new H.default(5,120),new H.default(1,121)),new Z.default(26,new H.default(9,43),new H.default(4,44)),new Z.default(28,new H.default(17,22),new H.default(1,23)),new Z.default(28,new H.default(2,14),new H.default(19,15))),new t(19,Int32Array.from([6,30,58,86]),new Z.default(28,new H.default(3,113),new H.default(4,114)),new Z.default(26,new H.default(3,44),new H.default(11,45)),new Z.default(26,new H.default(17,21),new H.default(4,22)),new Z.default(26,new H.default(9,13),new H.default(16,14))),new t(20,Int32Array.from([6,34,62,90]),new Z.default(28,new H.default(3,107),new H.default(5,108)),new Z.default(26,new H.default(3,41),new H.default(13,42)),new Z.default(30,new H.default(15,24),new H.default(5,25)),new Z.default(28,new H.default(15,15),new H.default(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new Z.default(28,new H.default(4,116),new H.default(4,117)),new Z.default(26,new H.default(17,42)),new Z.default(28,new H.default(17,22),new H.default(6,23)),new Z.default(30,new H.default(19,16),new H.default(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new Z.default(28,new H.default(2,111),new H.default(7,112)),new Z.default(28,new H.default(17,46)),new Z.default(30,new H.default(7,24),new H.default(16,25)),new Z.default(24,new H.default(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new Z.default(30,new H.default(4,121),new H.default(5,122)),new Z.default(28,new H.default(4,47),new H.default(14,48)),new Z.default(30,new H.default(11,24),new H.default(14,25)),new Z.default(30,new H.default(16,15),new H.default(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new Z.default(30,new H.default(6,117),new H.default(4,118)),new Z.default(28,new H.default(6,45),new H.default(14,46)),new Z.default(30,new H.default(11,24),new H.default(16,25)),new Z.default(30,new H.default(30,16),new H.default(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new Z.default(26,new H.default(8,106),new H.default(4,107)),new Z.default(28,new H.default(8,47),new H.default(13,48)),new Z.default(30,new H.default(7,24),new H.default(22,25)),new Z.default(30,new H.default(22,15),new H.default(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new Z.default(28,new H.default(10,114),new H.default(2,115)),new Z.default(28,new H.default(19,46),new H.default(4,47)),new Z.default(28,new H.default(28,22),new H.default(6,23)),new Z.default(30,new H.default(33,16),new H.default(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new Z.default(30,new H.default(8,122),new H.default(4,123)),new Z.default(28,new H.default(22,45),new H.default(3,46)),new Z.default(30,new H.default(8,23),new H.default(26,24)),new Z.default(30,new H.default(12,15),new H.default(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new Z.default(30,new H.default(3,117),new H.default(10,118)),new Z.default(28,new H.default(3,45),new H.default(23,46)),new Z.default(30,new H.default(4,24),new H.default(31,25)),new Z.default(30,new H.default(11,15),new H.default(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new Z.default(30,new H.default(7,116),new H.default(7,117)),new Z.default(28,new H.default(21,45),new H.default(7,46)),new Z.default(30,new H.default(1,23),new H.default(37,24)),new Z.default(30,new H.default(19,15),new H.default(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new Z.default(30,new H.default(5,115),new H.default(10,116)),new Z.default(28,new H.default(19,47),new H.default(10,48)),new Z.default(30,new H.default(15,24),new H.default(25,25)),new Z.default(30,new H.default(23,15),new H.default(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new Z.default(30,new H.default(13,115),new H.default(3,116)),new Z.default(28,new H.default(2,46),new H.default(29,47)),new Z.default(30,new H.default(42,24),new H.default(1,25)),new Z.default(30,new H.default(23,15),new H.default(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new Z.default(30,new H.default(17,115)),new Z.default(28,new H.default(10,46),new H.default(23,47)),new Z.default(30,new H.default(10,24),new H.default(35,25)),new Z.default(30,new H.default(19,15),new H.default(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new Z.default(30,new H.default(17,115),new H.default(1,116)),new Z.default(28,new H.default(14,46),new H.default(21,47)),new Z.default(30,new H.default(29,24),new H.default(19,25)),new Z.default(30,new H.default(11,15),new H.default(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new Z.default(30,new H.default(13,115),new H.default(6,116)),new Z.default(28,new H.default(14,46),new H.default(23,47)),new Z.default(30,new H.default(44,24),new H.default(7,25)),new Z.default(30,new H.default(59,16),new H.default(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new Z.default(30,new H.default(12,121),new H.default(7,122)),new Z.default(28,new H.default(12,47),new H.default(26,48)),new Z.default(30,new H.default(39,24),new H.default(14,25)),new Z.default(30,new H.default(22,15),new H.default(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new Z.default(30,new H.default(6,121),new H.default(14,122)),new Z.default(28,new H.default(6,47),new H.default(34,48)),new Z.default(30,new H.default(46,24),new H.default(10,25)),new Z.default(30,new H.default(2,15),new H.default(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new Z.default(30,new H.default(17,122),new H.default(4,123)),new Z.default(28,new H.default(29,46),new H.default(14,47)),new Z.default(30,new H.default(49,24),new H.default(10,25)),new Z.default(30,new H.default(24,15),new H.default(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new Z.default(30,new H.default(4,122),new H.default(18,123)),new Z.default(28,new H.default(13,46),new H.default(32,47)),new Z.default(30,new H.default(48,24),new H.default(14,25)),new Z.default(30,new H.default(42,15),new H.default(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new Z.default(30,new H.default(20,117),new H.default(4,118)),new Z.default(28,new H.default(40,47),new H.default(7,48)),new Z.default(30,new H.default(43,24),new H.default(22,25)),new Z.default(30,new H.default(10,15),new H.default(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new Z.default(30,new H.default(19,118),new H.default(6,119)),new Z.default(28,new H.default(18,47),new H.default(31,48)),new Z.default(30,new H.default(34,24),new H.default(34,25)),new Z.default(30,new H.default(20,15),new H.default(61,16)))],t}();gx.default=JTe});var IP=E(hv=>{"use strict";h();p();Object.defineProperty(hv,"__esModule",{value:!0});hv.DataMaskValues=void 0;var Jn;(function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"})(Jn=hv.DataMaskValues||(hv.DataMaskValues={}));var $Te=function(){function t(e,r){this.value=e,this.isMasked=r}return t.prototype.unmaskBitMatrix=function(e,r){for(var n=0;n<r;n++)for(var i=0;i<r;i++)this.isMasked(n,i)&&e.flip(i,n)},t.values=new Map([[Jn.DATA_MASK_000,new t(Jn.DATA_MASK_000,function(e,r){return(e+r&1)===0})],[Jn.DATA_MASK_001,new t(Jn.DATA_MASK_001,function(e,r){return(e&1)===0})],[Jn.DATA_MASK_010,new t(Jn.DATA_MASK_010,function(e,r){return r%3===0})],[Jn.DATA_MASK_011,new t(Jn.DATA_MASK_011,function(e,r){return(e+r)%3===0})],[Jn.DATA_MASK_100,new t(Jn.DATA_MASK_100,function(e,r){return(Math.floor(e/2)+Math.floor(r/3)&1)===0})],[Jn.DATA_MASK_101,new t(Jn.DATA_MASK_101,function(e,r){return e*r%6===0})],[Jn.DATA_MASK_110,new t(Jn.DATA_MASK_110,function(e,r){return e*r%6<3})],[Jn.DATA_MASK_111,new t(Jn.DATA_MASK_111,function(e,r){return(e+r+e*r%3&1)===0})]]),t}();hv.default=$Te});var Aee=E(CP=>{"use strict";h();p();Object.defineProperty(CP,"__esModule",{value:!0});var TP=yx(),ZTe=TI(),Cee=IP(),CI=Lr(),QTe=function(){function t(e){var r=e.getHeight();if(r<21||(r&3)!==1)throw new CI.default;this.bitMatrix=e}return t.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var e=0,r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);for(var i=this.bitMatrix.getHeight(),a=0,o=i-7,n=i-1;n>=o;n--)a=this.copyBit(8,n,a);for(var r=i-8;r<i;r++)a=this.copyBit(r,8,a);if(this.parsedFormatInfo=ZTe.default.decodeFormatInformation(e,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new CI.default},t.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var e=this.bitMatrix.getHeight(),r=Math.floor((e-17)/4);if(r<=6)return TP.default.getVersionForNumber(r);for(var n=0,i=e-11,a=5;a>=0;a--)for(var o=e-9;o>=i;o--)n=this.copyBit(o,a,n);var s=TP.default.decodeVersionInformation(n);if(s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;n=0;for(var o=5;o>=0;o--)for(var a=e-9;a>=i;a--)n=this.copyBit(o,a,n);if(s=TP.default.decodeVersionInformation(n),s!==null&&s.getDimensionForVersion()===e)return this.parsedVersion=s,s;throw new CI.default},t.prototype.copyBit=function(e,r,n){var i=this.isMirror?this.bitMatrix.get(r,e):this.bitMatrix.get(e,r);return i?n<<1|1:n<<1},t.prototype.readCodewords=function(){var e=this.readFormatInformation(),r=this.readVersion(),n=Cee.default.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);for(var a=r.buildFunctionPattern(),o=!0,s=new Uint8Array(r.getTotalCodewords()),u=0,f=0,c=0,l=i-1;l>0;l-=2){l===6&&l--;for(var g=0;g<i;g++)for(var y=o?i-1-g:g,_=0;_<2;_++)a.get(l-_,y)||(c++,f<<=1,this.bitMatrix.get(l-_,y)&&(f|=1),c===8&&(s[u++]=f,c=0,f=0));o=!o}if(u!==r.getTotalCodewords())throw new CI.default;return s},t.prototype.remask=function(){if(this.parsedFormatInfo!==null){var e=Cee.default.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,r)}},t.prototype.setMirror=function(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e},t.prototype.mirror=function(){for(var e=this.bitMatrix,r=0,n=e.getWidth();r<n;r++)for(var i=r+1,a=e.getHeight();i<a;i++)e.get(r,i)!==e.get(i,r)&&(e.flip(i,r),e.flip(r,i))},t}();CP.default=QTe});var Dee=E(vx=>{"use strict";h();p();var Oee=vx&&vx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(vx,"__esModule",{value:!0});var e7e=St(),t7e=function(){function t(e,r){this.numDataCodewords=e,this.codewords=r}return t.getDataBlocks=function(e,r,n){var i,a,o,s;if(e.length!==r.getTotalCodewords())throw new e7e.default;var u=r.getECBlocksForLevel(n),f=0,c=u.getECBlocks();try{for(var l=Oee(c),g=l.next();!g.done;g=l.next()){var y=g.value;f+=y.getCount()}}catch(b){i={error:b}}finally{try{g&&!g.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}var _=new Array(f),w=0;try{for(var S=Oee(c),I=S.next();!I.done;I=S.next())for(var y=I.value,O=0;O<y.getCount();O++){var P=y.getDataCodewords(),q=u.getECCodewordsPerBlock()+P;_[w++]=new t(P,new Uint8Array(q))}}catch(b){o={error:b}}finally{try{I&&!I.done&&(s=S.return)&&s.call(S)}finally{if(o)throw o.error}}for(var C=_[0].codewords.length,d=_.length-1;d>=0;){var m=_[d].codewords.length;if(m===C)break;d--}d++;for(var x=C-u.getECCodewordsPerBlock(),D=0,O=0;O<x;O++)for(var M=0;M<w;M++)_[M].codewords[O]=e[D++];for(var M=d;M<w;M++)_[M].codewords[x]=e[D++];for(var oe=_[0].codewords.length,O=x;O<oe;O++)for(var M=0;M<w;M++){var L=M<d?O:O+1;_[M].codewords[L]=e[D++]}return _},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();vx.default=t7e});var AI=E(pv=>{"use strict";h();p();Object.defineProperty(pv,"__esModule",{value:!0});pv.ModeValues=void 0;var r7e=St(),Ju;(function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"})(Ju=pv.ModeValues||(pv.ModeValues={}));var n7e=function(){function t(e,r,n,i){this.value=e,this.stringValue=r,this.characterCountBitsForVersions=n,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var r=t.FOR_BITS.get(e);if(r===void 0)throw new r7e.default;return r},t.prototype.getCharacterCountBits=function(e){var r=e.getVersionNumber(),n;return r<=9?n=0:r<=26?n=1:n=2,this.characterCountBitsForVersions[n]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;return this.value===r.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Ju.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Ju.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Ju.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Ju.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Ju.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Ju.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Ju.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Ju.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Ju.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Ju.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}();pv.default=n7e});var RP=E(DP=>{"use strict";h();p();Object.defineProperty(DP,"__esModule",{value:!0});var i7e=wI(),a7e=Jc(),o7e=rv(),AP=Wu(),Zr=Lr(),s7e=Jr(),OP=K1(),Oo=AI(),u7e=function(){function t(){}return t.decode=function(e,r,n,i){var a=new i7e.default(e),o=new s7e.default,s=new Array,u=-1,f=-1;try{var c=null,l=!1,g=void 0;do{if(a.available()<4)g=Oo.default.TERMINATOR;else{var y=a.readBits(4);g=Oo.default.forBits(y)}switch(g){case Oo.default.TERMINATOR:break;case Oo.default.FNC1_FIRST_POSITION:case Oo.default.FNC1_SECOND_POSITION:l=!0;break;case Oo.default.STRUCTURED_APPEND:if(a.available()<16)throw new Zr.default;u=a.readBits(8),f=a.readBits(8);break;case Oo.default.ECI:var _=t.parseECIValue(a);if(c=a7e.default.getCharacterSetECIByValue(_),c===null)throw new Zr.default;break;case Oo.default.HANZI:var w=a.readBits(4),S=a.readBits(g.getCharacterCountBits(r));w===t.GB2312_SUBSET&&t.decodeHanziSegment(a,o,S);break;default:var I=a.readBits(g.getCharacterCountBits(r));switch(g){case Oo.default.NUMERIC:t.decodeNumericSegment(a,o,I);break;case Oo.default.ALPHANUMERIC:t.decodeAlphanumericSegment(a,o,I,l);break;case Oo.default.BYTE:t.decodeByteSegment(a,o,I,c,s,i);break;case Oo.default.KANJI:t.decodeKanjiSegment(a,o,I);break;default:throw new Zr.default}break}}while(g!==Oo.default.TERMINATOR)}catch{throw new Zr.default}return new o7e.default(e,o.toString(),s.length===0?null:s,n===null?null:n.toString(),u,f)},t.decodeHanziSegment=function(e,r,n){if(n*13>e.available())throw new Zr.default;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/96<<8&4294967295|o%96;s<959?s+=41377:s+=42657,i[a]=s>>8&255,i[a+1]=s&255,a+=2,n--}try{r.append(OP.default.decode(i,AP.default.GB2312))}catch(u){throw new Zr.default(u)}},t.decodeKanjiSegment=function(e,r,n){if(n*13>e.available())throw new Zr.default;for(var i=new Uint8Array(2*n),a=0;n>0;){var o=e.readBits(13),s=o/192<<8&4294967295|o%192;s<7936?s+=33088:s+=49472,i[a]=s>>8,i[a+1]=s,a+=2,n--}try{r.append(OP.default.decode(i,AP.default.SHIFT_JIS))}catch(u){throw new Zr.default(u)}},t.decodeByteSegment=function(e,r,n,i,a,o){if(8*n>e.available())throw new Zr.default;for(var s=new Uint8Array(n),u=0;u<n;u++)s[u]=e.readBits(8);var f;i===null?f=AP.default.guessEncoding(s,o):f=i.getName();try{r.append(OP.default.decode(s,f))}catch(c){throw new Zr.default(c)}a.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new Zr.default;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,r,n,i){for(var a=r.length();n>1;){if(e.available()<11)throw new Zr.default;var o=e.readBits(11);r.append(t.toAlphaNumericChar(Math.floor(o/45))),r.append(t.toAlphaNumericChar(o%45)),n-=2}if(n===1){if(e.available()<6)throw new Zr.default;r.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=a;s<r.length();s++)r.charAt(s)==="%"&&(s<r.length()-1&&r.charAt(s+1)==="%"?r.deleteCharAt(s+1):r.setCharAt(s,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,r,n){for(;n>=3;){if(e.available()<10)throw new Zr.default;var i=e.readBits(10);if(i>=1e3)throw new Zr.default;r.append(t.toAlphaNumericChar(Math.floor(i/100))),r.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),r.append(t.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new Zr.default;var a=e.readBits(7);if(a>=100)throw new Zr.default;r.append(t.toAlphaNumericChar(Math.floor(a/10))),r.append(t.toAlphaNumericChar(a%10))}else if(n===1){if(e.available()<4)throw new Zr.default;var o=e.readBits(4);if(o>=10)throw new Zr.default;r.append(t.toAlphaNumericChar(o))}},t.parseECIValue=function(e){var r=e.readBits(8);if((r&128)===0)return r&127;if((r&192)===128){var n=e.readBits(8);return(r&63)<<8&4294967295|n}if((r&224)===192){var i=e.readBits(16);return(r&31)<<16&4294967295|i}throw new Zr.default},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}();DP.default=u7e});var BP=E(PP=>{"use strict";h();p();Object.defineProperty(PP,"__esModule",{value:!0});var f7e=function(){function t(e){this.mirrored=e}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(e){if(!(!this.mirrored||e===null||e.length<3)){var r=e[0];e[0]=e[2],e[2]=r}},t}();PP.default=f7e});var Pee=E(mx=>{"use strict";h();p();var Ree=mx&&mx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(mx,"__esModule",{value:!0});var c7e=zu(),d7e=To(),l7e=Zc(),h7e=iv(),p7e=Aee(),g7e=Dee(),y7e=RP(),v7e=BP(),m7e=function(){function t(){this.rsDecoder=new h7e.default(l7e.default.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(e,r){return this.decodeBitMatrix(d7e.default.parseFromBooleanArray(e),r)},t.prototype.decodeBitMatrix=function(e,r){var n=new p7e.default(e),i=null;try{return this.decodeBitMatrixParser(n,r)}catch(o){i=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var a=this.decodeBitMatrixParser(n,r);return a.setOther(new v7e.default(!0)),a}catch(o){throw i!==null?i:o}},t.prototype.decodeBitMatrixParser=function(e,r){var n,i,a,o,s=e.readVersion(),u=e.readFormatInformation().getErrorCorrectionLevel(),f=e.readCodewords(),c=g7e.default.getDataBlocks(f,s,u),l=0;try{for(var g=Ree(c),y=g.next();!y.done;y=g.next()){var _=y.value;l+=_.getNumDataCodewords()}}catch(d){n={error:d}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var w=new Uint8Array(l),S=0;try{for(var I=Ree(c),O=I.next();!O.done;O=I.next()){var _=O.value,P=_.getCodewords(),q=_.getNumDataCodewords();this.correctErrors(P,q);for(var C=0;C<q;C++)w[S++]=P[C]}}catch(d){a={error:d}}finally{try{O&&!O.done&&(o=I.return)&&o.call(I)}finally{if(a)throw a.error}}return y7e.default.decode(w,s,u,r)},t.prototype.correctErrors=function(e,r){var n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-r)}catch{throw new c7e.default}for(var i=0;i<r;i++)e[i]=n[i]},t}();mx.default=m7e});var Bee=E(_x=>{"use strict";h();p();var _7e=_x&&_x.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(_x,"__esModule",{value:!0});var x7e=$r(),b7e=function(t){_7e(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.estimatedModuleSize=i,a}return e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=(this.getX()+n)/2,o=(this.getY()+r)/2,s=(this.estimatedModuleSize+i)/2;return new e(a,o,s)},e}(x7e.default);_x.default=b7e});var Mee=E(xx=>{"use strict";h();p();var w7e=xx&&xx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xx,"__esModule",{value:!0});var E7e=Bee(),S7e=Ve(),I7e=function(){function t(e,r,n,i,a,o,s){this.image=e,this.startX=r,this.startY=n,this.width=i,this.height=a,this.moduleSize=o,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var e=this.startX,r=this.height,n=this.width,i=e+n,a=this.startY+r/2,o=new Int32Array(3),s=this.image,u=0;u<r;u++){var f=a+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var c=e;c<i&&!s.get(c,f);)c++;for(var l=0;c<i;){if(s.get(c,f))if(l===1)o[1]++;else if(l===2){if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,f,c);if(g!==null)return g}o[0]=o[2],o[1]=1,o[2]=0,l=1}else o[++l]++;else l===1&&l++,o[l]++;c++}if(this.foundPatternCross(o)){var g=this.handlePossibleCenter(o,f,i);if(g!==null)return g}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new S7e.default},t.centerFromEnd=function(e,r){return r-e[2]-e[1]/2},t.prototype.foundPatternCross=function(e){for(var r=this.moduleSize,n=r/2,i=0;i<3;i++)if(Math.abs(r-e[i])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,r,n,i){var a=this.image,o=a.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&a.get(r,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&!a.get(r,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(r,u)&&s[1]<=n;)s[1]++,u++;if(u===o||s[1]>n)return NaN;for(;u<o&&!a.get(r,u)&&s[2]<=n;)s[2]++,u++;if(s[2]>n)return NaN;var f=s[0]+s[1]+s[2];return 5*Math.abs(f-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,r,n){var i,a,o=e[0]+e[1]+e[2],s=t.centerFromEnd(e,n),u=this.crossCheckVertical(r,s,2*e[1],o);if(!isNaN(u)){var f=(e[0]+e[1]+e[2])/3;try{for(var c=w7e(this.possibleCenters),l=c.next();!l.done;l=c.next()){var g=l.value;if(g.aboutEquals(f,u,s))return g.combineEstimate(u,s,f)}}catch(_){i={error:_}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}var y=new E7e.default(s,u,f);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null},t}();xx.default=I7e});var Nee=E(bx=>{"use strict";h();p();var T7e=bx&&bx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(bx,"__esModule",{value:!0});var C7e=$r(),A7e=function(t){T7e(e,t);function e(r,n,i,a){var o=t.call(this,r,n)||this;return o.estimatedModuleSize=i,o.count=a,a===void 0&&(o.count=1),o}return e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(r,n,i){if(Math.abs(n-this.getY())<=r&&Math.abs(i-this.getX())<=r){var a=Math.abs(r-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(r,n,i){var a=this.count+1,o=(this.count*this.getX()+n)/a,s=(this.count*this.getY()+r)/a,u=(this.count*this.estimatedModuleSize+i)/a;return new e(o,s,u,a)},e}(C7e.default);bx.default=A7e});var qee=E(MP=>{"use strict";h();p();Object.defineProperty(MP,"__esModule",{value:!0});var O7e=function(){function t(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}();MP.default=O7e});var Lee=E(Ex=>{"use strict";h();p();var wx=Ex&&Ex.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ex,"__esModule",{value:!0});var Fee=Ji(),D7e=$r(),R7e=Nee(),P7e=qee(),B7e=Ve(),M7e=function(){function t(e,r){this.image=e,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var r=e!=null&&e.get(Fee.default.TRY_HARDER)!==void 0,n=e!=null&&e.get(Fee.default.PURE_BARCODE)!==void 0,i=this.image,a=i.getHeight(),o=i.getWidth(),s=Math.floor(3*a/(4*t.MAX_MODULES));(s<t.MIN_SKIP||r)&&(s=t.MIN_SKIP);for(var u=!1,f=new Int32Array(5),c=s-1;c<a&&!u;c+=s){f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0;for(var l=0,g=0;g<o;g++)if(i.get(g,c))(l&1)===1&&l++,f[l]++;else if((l&1)===0)if(l===4)if(t.foundPatternCross(f)){var y=this.handlePossibleCenter(f,c,g,n);if(y===!0)if(s=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{var _=this.findRowSkip();_>f[2]&&(c+=_-f[2]-s,g=o-1)}else{f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,l=3;continue}l=0,f[0]=0,f[1]=0,f[2]=0,f[3]=0,f[4]=0}else f[0]=f[2],f[1]=f[3],f[2]=f[4],f[3]=1,f[4]=0,l=3;else f[++l]++;else f[l]++;if(t.foundPatternCross(f)){var y=this.handlePossibleCenter(f,c,o,n);y===!0&&(s=f[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}}var w=this.selectBestPatterns();return D7e.default.orderBestPatterns(w),new P7e.default(w)},t.centerFromEnd=function(e,r){return r-e[4]-e[3]-e[2]/2},t.foundPatternCross=function(e){for(var r=0,n=0;n<5;n++){var i=e[n];if(i===0)return!1;r+=i}if(r<7)return!1;var a=r/7,o=a/2;return Math.abs(a-e[0])<o&&Math.abs(a-e[1])<o&&Math.abs(3*a-e[2])<3*o&&Math.abs(a-e[3])<o&&Math.abs(a-e[4])<o},t.prototype.getCrossCheckStateCount=function(){var e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e},t.prototype.crossCheckDiagonal=function(e,r,n,i){for(var a=this.getCrossCheckStateCount(),o=0,s=this.image;e>=o&&r>=o&&s.get(r-o,e-o);)a[2]++,o++;if(e<o||r<o)return!1;for(;e>=o&&r>=o&&!s.get(r-o,e-o)&&a[1]<=n;)a[1]++,o++;if(e<o||r<o||a[1]>n)return!1;for(;e>=o&&r>=o&&s.get(r-o,e-o)&&a[0]<=n;)a[0]++,o++;if(a[0]>n)return!1;var u=s.getHeight(),f=s.getWidth();for(o=1;e+o<u&&r+o<f&&s.get(r+o,e+o);)a[2]++,o++;if(e+o>=u||r+o>=f)return!1;for(;e+o<u&&r+o<f&&!s.get(r+o,e+o)&&a[3]<n;)a[3]++,o++;if(e+o>=u||r+o>=f||a[3]>=n)return!1;for(;e+o<u&&r+o<f&&s.get(r+o,e+o)&&a[4]<n;)a[4]++,o++;if(a[4]>=n)return!1;var c=a[0]+a[1]+a[2]+a[3]+a[4];return Math.abs(c-i)<2*i&&t.foundPatternCross(a)},t.prototype.crossCheckVertical=function(e,r,n,i){for(var a=this.image,o=a.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(r,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(r,u)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&a.get(r,u)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(r,u);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(r,u)&&s[3]<n;)s[3]++,u++;if(u===o||s[3]>=n)return NaN;for(;u<o&&a.get(r,u)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.crossCheckHorizontal=function(e,r,n,i){for(var a=this.image,o=a.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&a.get(u,r);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!a.get(u,r)&&s[1]<=n;)s[1]++,u--;if(u<0||s[1]>n)return NaN;for(;u>=0&&a.get(u,r)&&s[0]<=n;)s[0]++,u--;if(s[0]>n)return NaN;for(u=e+1;u<o&&a.get(u,r);)s[2]++,u++;if(u===o)return NaN;for(;u<o&&!a.get(u,r)&&s[3]<n;)s[3]++,u++;if(u===o||s[3]>=n)return NaN;for(;u<o&&a.get(u,r)&&s[4]<n;)s[4]++,u++;if(s[4]>=n)return NaN;var f=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(f-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,r,n,i){var a=e[0]+e[1]+e[2]+e[3]+e[4],o=t.centerFromEnd(e,n),s=this.crossCheckVertical(r,Math.floor(o),e[2],a);if(!isNaN(s)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(s),e[2],a),!isNaN(o)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(o),e[2],a)))){for(var u=a/7,f=!1,c=this.possibleCenters,l=0,g=c.length;l<g;l++){var y=c[l];if(y.aboutEquals(u,s,o)){c[l]=y.combineEstimate(s,o,u),f=!0;break}}if(!f){var _=new R7e.default(o,s,u);c.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return!0}return!1},t.prototype.findRowSkip=function(){var e,r,n=this.possibleCenters.length;if(n<=1)return 0;var i=null;try{for(var a=wx(this.possibleCenters),o=a.next();!o.done;o=a.next()){var s=o.value;if(s.getCount()>=t.CENTER_QUORUM)if(i==null)i=s;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-s.getX())-Math.abs(i.getY()-s.getY()))/2)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,r,n,i,a=0,o=0,s=this.possibleCenters.length;try{for(var u=wx(this.possibleCenters),f=u.next();!f.done;f=u.next()){var c=f.value;c.getCount()>=t.CENTER_QUORUM&&(a++,o+=c.getEstimatedModuleSize())}}catch(w){e={error:w}}finally{try{f&&!f.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}if(a<3)return!1;var l=o/s,g=0;try{for(var y=wx(this.possibleCenters),_=y.next();!_.done;_=y.next()){var c=_.value;g+=Math.abs(c.getEstimatedModuleSize()-l)}}catch(w){n={error:w}}finally{try{_&&!_.done&&(i=y.return)&&i.call(y)}finally{if(n)throw n.error}}return g<=.05*o},t.prototype.selectBestPatterns=function(){var e,r,n,i,a=this.possibleCenters.length;if(a<3)throw new B7e.default;var o=this.possibleCenters,s;if(a>3){var u=0,f=0;try{for(var c=wx(this.possibleCenters),l=c.next();!l.done;l=c.next()){var g=l.value,y=g.getEstimatedModuleSize();u+=y,f+=y*y}}catch(C){e={error:C}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(e)throw e.error}}s=u/a;var _=Math.sqrt(f/a-s*s);o.sort(function(C,d){var m=Math.abs(d.getEstimatedModuleSize()-s),x=Math.abs(C.getEstimatedModuleSize()-s);return m<x?-1:m>x?1:0});for(var w=Math.max(.2*s,_),S=0;S<o.length&&o.length>3;S++){var I=o[S];Math.abs(I.getEstimatedModuleSize()-s)>w&&(o.splice(S,1),S--)}}if(o.length>3){var u=0;try{for(var O=wx(o),P=O.next();!P.done;P=O.next()){var q=P.value;u+=q.getEstimatedModuleSize()}}catch(d){n={error:d}}finally{try{P&&!P.done&&(i=O.return)&&i.call(O)}finally{if(n)throw n.error}}s=u/o.length,o.sort(function(d,m){if(m.getCount()===d.getCount()){var x=Math.abs(m.getEstimatedModuleSize()-s),D=Math.abs(d.getEstimatedModuleSize()-s);return x<D?1:x>D?-1:0}else return m.getCount()-d.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}();Ex.default=M7e});var kee=E(NP=>{"use strict";h();p();Object.defineProperty(NP,"__esModule",{value:!0});var OI=Ws(),N7e=C_(),q7e=D_(),F7e=iI(),L7e=Ji(),Sx=Ve(),Uee=$r(),U7e=yx(),k7e=Mee(),j7e=Lee(),H7e=function(){function t(e){this.image=e}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(e){this.resultPointCallback=e==null?null:e.get(L7e.default.NEED_RESULT_POINT_CALLBACK);var r=new j7e.default(this.image,this.resultPointCallback),n=r.find(e);return this.processFinderPatternInfo(n)},t.prototype.processFinderPatternInfo=function(e){var r=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),a=this.calculateModuleSize(r,n,i);if(a<1)throw new Sx.default("No pattern found in proccess finder.");var o=t.computeDimension(r,n,i,a),s=U7e.default.getProvisionalVersionForDimension(o),u=s.getDimensionForVersion()-7,f=null;if(s.getAlignmentPatternCenters().length>0)for(var c=n.getX()-r.getX()+i.getX(),l=n.getY()-r.getY()+i.getY(),g=1-3/u,y=Math.floor(r.getX()+g*(c-r.getX())),_=Math.floor(r.getY()+g*(l-r.getY())),w=4;w<=16;w<<=1)try{f=this.findAlignmentInRegion(a,y,_,w);break}catch(P){if(!(P instanceof Sx.default))throw P}var S=t.createTransform(r,n,i,f,o),I=t.sampleGrid(this.image,S,o),O;return f===null?O=[i,r,n]:O=[i,r,n,f],new N7e.default(I,O)},t.createTransform=function(e,r,n,i,a){var o=a-3.5,s,u,f,c;return i!==null?(s=i.getX(),u=i.getY(),f=o-3,c=f):(s=r.getX()-e.getX()+n.getX(),u=r.getY()-e.getY()+n.getY(),f=o,c=o),F7e.default.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,f,c,3.5,o,e.getX(),e.getY(),r.getX(),r.getY(),s,u,n.getX(),n.getY())},t.sampleGrid=function(e,r,n){var i=q7e.default.getInstance();return i.sampleGridWithTransform(e,n,n,r)},t.computeDimension=function(e,r,n,i){var a=OI.default.round(Uee.default.distance(e,r)/i),o=OI.default.round(Uee.default.distance(e,n)/i),s=Math.floor((a+o)/2)+7;switch(s&3){case 0:s++;break;case 2:s--;break;case 3:throw new Sx.default("Dimensions could be not found.")}return s},t.prototype.calculateModuleSize=function(e,r,n){return(this.calculateModuleSizeOneWay(e,r)+this.calculateModuleSizeOneWay(e,n))/2},t.prototype.calculateModuleSizeOneWay=function(e,r){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(r.getX()),Math.floor(r.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,r,n,i){var a=this.sizeOfBlackWhiteBlackRun(e,r,n,i),o=1,s=e-(n-e);s<0?(o=e/(e-s),s=0):s>=this.image.getWidth()&&(o=(this.image.getWidth()-1-e)/(s-e),s=this.image.getWidth()-1);var u=Math.floor(r-(i-r)*o);return o=1,u<0?(o=r/(r-u),u=0):u>=this.image.getHeight()&&(o=(this.image.getHeight()-1-r)/(u-r),u=this.image.getHeight()-1),s=Math.floor(e+(s-e)*o),a+=this.sizeOfBlackWhiteBlackRun(e,r,s,u),a-1},t.prototype.sizeOfBlackWhiteBlackRun=function(e,r,n,i){var a=Math.abs(i-r)>Math.abs(n-e);if(a){var o=e;e=r,r=o,o=n,n=i,i=o}for(var s=Math.abs(n-e),u=Math.abs(i-r),f=-s/2,c=e<n?1:-1,l=r<i?1:-1,g=0,y=n+c,_=e,w=r;_!==y;_+=c){var S=a?w:_,I=a?_:w;if(g===1===this.image.get(S,I)){if(g===2)return OI.default.distance(_,w,e,r);g++}if(f+=u,f>0){if(w===i)break;w+=l,f-=s}}return g===2?OI.default.distance(n+c,i,e,r):NaN},t.prototype.findAlignmentInRegion=function(e,r,n,i){var a=Math.floor(i*e),o=Math.max(0,r-a),s=Math.min(this.image.getWidth()-1,r+a);if(s-o<e*3)throw new Sx.default("Alignment top exceeds estimated module size.");var u=Math.max(0,n-a),f=Math.min(this.image.getHeight()-1,n+a);if(f-u<e*3)throw new Sx.default("Alignment bottom exceeds estimated module size.");var c=new k7e.default(this.image,o,u,s-o,f-u,e,this.resultPointCallback);return c.find()},t}();NP.default=H7e});var RI=E(qP=>{"use strict";h();p();Object.defineProperty(qP,"__esModule",{value:!0});var K7e=yr(),V7e=To(),G7e=Ji(),ll=Ve(),z7e=$i(),DI=Vf(),Y7e=Pee(),W7e=BP(),X7e=kee(),J7e=function(){function t(){this.decoder=new Y7e.default}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,r){var n,i;if(r!=null&&r.get(G7e.default.PURE_BARCODE)!==void 0){var a=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(a,r),i=t.NO_POINTS}else{var o=new X7e.default(e.getBlackMatrix()).detect(r);n=this.decoder.decodeBitMatrix(o.getBits(),r),i=o.getPoints()}n.getOther()instanceof W7e.default&&n.getOther().applyMirroredCorrection(i);var s=new z7e.default(n.getText(),n.getRawBytes(),void 0,i,K7e.default.QR_CODE,void 0),u=n.getByteSegments();u!==null&&s.putMetadata(DI.default.BYTE_SEGMENTS,u);var f=n.getECLevel();return f!==null&&s.putMetadata(DI.default.ERROR_CORRECTION_LEVEL,f),n.hasStructuredAppend()&&(s.putMetadata(DI.default.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),s.putMetadata(DI.default.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(e){var r=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(r===null||n===null)throw new ll.default;var i=this.moduleSize(r,e),a=r[1],o=n[1],s=r[0],u=n[0];if(s>=u||a>=o)throw new ll.default;if(o-a!==u-s&&(u=s+(o-a),u>=e.getWidth()))throw new ll.default;var f=Math.round((u-s+1)/i),c=Math.round((o-a+1)/i);if(f<=0||c<=0)throw new ll.default;if(c!==f)throw new ll.default;var l=Math.floor(i/2);a+=l,s+=l;var g=s+Math.floor((f-1)*i)-u;if(g>0){if(g>l)throw new ll.default;s-=g}var y=a+Math.floor((c-1)*i)-o;if(y>0){if(y>l)throw new ll.default;a-=y}for(var _=new V7e.default(f,c),w=0;w<c;w++)for(var S=a+Math.floor(w*i),I=0;I<f;I++)e.get(s+Math.floor(I*i),S)&&_.set(I,w);return _},t.moduleSize=function(e,r){for(var n=r.getHeight(),i=r.getWidth(),a=e[0],o=e[1],s=!0,u=0;a<i&&o<n;){if(s!==r.get(a,o)){if(++u===5)break;s=!s}a++,o++}if(a===i||o===n)throw new ll.default;return(a-e[0])/7},t.NO_POINTS=new Array,t}();qP.default=J7e});var hl=E(Ix=>{"use strict";h();p();var $7e=Ix&&Ix.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ix,"__esModule",{value:!0});var Z7e=Yu(),Q7e=Ws(),e9e=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(e){return Q7e.default.sum(e)},t.toIntArray=function(e){var r,n;if(e==null||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),a=0;try{for(var o=$7e(e),s=o.next();!s.done;s=o.next()){var u=s.value;i[a++]=u}}catch(f){r={error:f}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return i},t.getCodeword=function(e){var r=Z7e.default.binarySearch(t.SYMBOL_TABLE,e&262143);return r<0?-1:(t.CODEWORD_TABLE[r]-1)%t.NUMBER_OF_CODEWORDS},t.NUMBER_OF_CODEWORDS=929,t.MAX_CODEWORDS_IN_BARCODE=t.NUMBER_OF_CODEWORDS-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}();Ix.default=e9e});var jee=E(FP=>{"use strict";h();p();Object.defineProperty(FP,"__esModule",{value:!0});var t9e=function(){function t(e,r){this.bits=e,this.points=r}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}();FP.default=t9e});var Kee=E(Tx=>{"use strict";h();p();var r9e=Tx&&Tx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Tx,"__esModule",{value:!0});var PI=$r(),n9e=wn(),Hee=Yu(),i9e=jee(),a9e=function(){function t(){}return t.detectMultiple=function(e,r,n){var i=e.getBlackMatrix(),a=t.detect(n,i);return a.length||(i=i.clone(),i.rotate180(),a=t.detect(n,i)),new i9e.default(i,a)},t.detect=function(e,r){for(var n,i,a=new Array,o=0,s=0,u=!1;o<r.getHeight();){var f=t.findVertices(r,o,s);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,s=0;try{for(var c=(n=void 0,r9e(a)),l=c.next();!l.done;l=c.next()){var g=l.value;g[1]!=null&&(o=Math.trunc(Math.max(o,g[1].getY()))),g[3]!=null&&(o=Math.max(o,Math.trunc(g[3].getY())))}}catch(y){n={error:y}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}o+=t.ROW_STEP;continue}if(u=!0,a.push(f),!e)break;f[2]!=null?(s=Math.trunc(f[2].getX()),o=Math.trunc(f[2].getY())):(s=Math.trunc(f[4].getX()),o=Math.trunc(f[4].getY()))}return a},t.findVertices=function(e,r,n){var i=e.getHeight(),a=e.getWidth(),o=new Array(8);return t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.START_PATTERN),t.INDEXES_START_PATTERN),o[4]!=null&&(n=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())),t.copyToResult(o,t.findRowsWithPattern(e,i,a,r,n,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),o},t.copyToResult=function(e,r,n){for(var i=0;i<n.length;i++)e[n[i]]=r[i]},t.findRowsWithPattern=function(e,r,n,i,a,o){for(var s=new Array(4),u=!1,f=new Int32Array(o.length);i<r;i+=t.ROW_STEP){var c=t.findGuardPattern(e,a,i,n,!1,o,f);if(c!=null){for(;i>0;){var l=t.findGuardPattern(e,a,--i,n,!1,o,f);if(l!=null)c=l;else{i++;break}}s[0]=new PI.default(c[0],i),s[1]=new PI.default(c[1],i),u=!0;break}}var g=i+1;if(u){for(var y=0,l=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);g<r;g++){var c=t.findGuardPattern(e,l[0],g,n,!1,o,f);if(c!=null&&Math.abs(l[0]-c[0])<t.MAX_PATTERN_DRIFT&&Math.abs(l[1]-c[1])<t.MAX_PATTERN_DRIFT)l=c,y=0;else{if(y>t.SKIPPED_ROW_COUNT_MAX)break;y++}}g-=y+1,s[2]=new PI.default(l[0],g),s[3]=new PI.default(l[1],g)}return g-i<t.BARCODE_MIN_HEIGHT&&Hee.default.fill(s,null),s},t.findGuardPattern=function(e,r,n,i,a,o,s){Hee.default.fillWithin(s,0,s.length,0);for(var u=r,f=0;e.get(u,n)&&u>0&&f++<t.MAX_PIXEL_DRIFT;)u--;for(var c=u,l=0,g=o.length,y=a;c<i;c++){var _=e.get(c,n);if(_!==y)s[l]++;else{if(l===g-1){if(t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,c]);u+=s[0]+s[1],n9e.default.arraycopy(s,2,s,0,l-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,y=!y}}return l===g-1&&t.patternMatchVariance(s,o,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,c-1]):null},t.patternMatchVariance=function(e,r,n){for(var i=e.length,a=0,o=0,s=0;s<i;s++)a+=e[s],o+=r[s];if(a<o)return 1/0;var u=a/o;n*=u;for(var f=0,c=0;c<i;c++){var l=e[c],g=r[c]*u,y=l>g?l-g:g-l;if(y>n)return 1/0;f+=y}return f/a},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}();Tx.default=a9e});var LP=E(Ax=>{"use strict";h();p();var o9e=Ax&&Ax.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ax,"__esModule",{value:!0});var Cx=St(),Vee=wn(),s9e=Jr(),u9e=function(){function t(e,r){if(r.length===0)throw new Cx.default;this.field=e;var n=r.length;if(n>1&&r[0]===0){for(var i=1;i<n&&r[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),Vee.default.arraycopy(r,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return this.coefficients[0]===0},t.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},t.prototype.evaluateAt=function(e){var r,n;if(e===0)return this.getCoefficient(0);if(e===1){var i=0;try{for(var a=o9e(this.coefficients),o=a.next();!o.done;o=a.next()){var s=o.value;i=this.field.add(i,s)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}for(var u=this.coefficients[0],f=this.coefficients.length,c=1;c<f;c++)u=this.field.add(this.field.multiply(e,u),this.coefficients[c]);return u},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new Cx.default("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var r=this.coefficients,n=e.coefficients;if(r.length>n.length){var i=r;r=n,n=i}var a=new Int32Array(n.length),o=n.length-r.length;Vee.default.arraycopy(n,0,a,0,o);for(var s=o;s<n.length;s++)a[s]=this.field.add(r[s-o],n[s]);return new t(this.field,a)},t.prototype.subtract=function(e){if(!this.field.equals(e.field))throw new Cx.default("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new Cx.default("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var r=this.coefficients,n=r.length,i=e.coefficients,a=i.length,o=new Int32Array(n+a-1),s=0;s<n;s++)for(var u=r[s],f=0;f<a;f++)o[s+f]=this.field.add(o[s+f],this.field.multiply(u,i[f]));return new t(this.field,o)},t.prototype.negative=function(){for(var e=this.coefficients.length,r=new Int32Array(e),n=0;n<e;n++)r[n]=this.field.subtract(0,this.coefficients[n]);return new t(this.field,r)},t.prototype.multiplyScalar=function(e){if(e===0)return new t(this.field,new Int32Array([0]));if(e===1)return this;for(var r=this.coefficients.length,n=new Int32Array(r),i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,n)},t.prototype.multiplyByMonomial=function(e,r){if(e<0)throw new Cx.default;if(r===0)return new t(this.field,new Int32Array([0]));for(var n=this.coefficients.length,i=new Int32Array(n+e),a=0;a<n;a++)i[a]=this.field.multiply(this.coefficients[a],r);return new t(this.field,i)},t.prototype.toString=function(){for(var e=new s9e.default,r=this.getDegree();r>=0;r--){var n=this.getCoefficient(r);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(r===0||n!==1)&&e.append(n),r!==0&&(r===1?e.append("x"):(e.append("x^"),e.append(r))))}return e.toString()},t}();Ax.default=u9e});var Gee=E(UP=>{"use strict";h();p();Object.defineProperty(UP,"__esModule",{value:!0});var f9e=St(),c9e=ZS(),d9e=function(){function t(){}return t.prototype.add=function(e,r){return(e+r)%this.modulus},t.prototype.subtract=function(e,r){return(this.modulus+e-r)%this.modulus},t.prototype.exp=function(e){return this.expTable[e]},t.prototype.log=function(e){if(e===0)throw new f9e.default;return this.logTable[e]},t.prototype.inverse=function(e){if(e===0)throw new c9e.default;return this.expTable[this.modulus-this.logTable[e]-1]},t.prototype.multiply=function(e,r){return e===0||r===0?0:this.expTable[(this.logTable[e]+this.logTable[r])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(e){return e===this},t}();UP.default=d9e});var zee=E(Ox=>{"use strict";h();p();var l9e=Ox&&Ox.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ox,"__esModule",{value:!0});var h9e=hl(),kP=LP(),p9e=St(),g9e=Gee(),y9e=function(t){l9e(e,t);function e(r,n){var i=t.call(this)||this;i.modulus=r,i.expTable=new Int32Array(r),i.logTable=new Int32Array(r);for(var a=1,o=0;o<r;o++)i.expTable[o]=a,a=a*n%r;for(var o=0;o<r-1;o++)i.logTable[i.expTable[o]]=o;return i.zero=new kP.default(i,new Int32Array([0])),i.one=new kP.default(i,new Int32Array([1])),i}return e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(r,n){if(r<0)throw new p9e.default;if(n===0)return this.zero;var i=new Int32Array(r+1);return i[0]=n,new kP.default(this,i)},e.PDF417_GF=new e(h9e.default.NUMBER_OF_CODEWORDS,3),e}(g9e.default);Ox.default=y9e});var jP=E(Dx=>{"use strict";h();p();var v9e=Dx&&Dx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Dx,"__esModule",{value:!0});var BI=zu(),MI=LP(),m9e=zee(),_9e=function(){function t(){this.field=m9e.default.PDF417_GF}return t.prototype.decode=function(e,r,n){for(var i,a,o=new MI.default(this.field,e),s=new Int32Array(r),u=!1,f=r;f>0;f--){var c=o.evaluateAt(this.field.exp(f));s[r-f]=c,c!==0&&(u=!0)}if(!u)return 0;var l=this.field.getOne();if(n!=null)try{for(var g=v9e(n),y=g.next();!y.done;y=g.next()){var _=y.value,w=this.field.exp(e.length-1-_),S=new MI.default(this.field,new Int32Array([this.field.subtract(0,w),1]));l=l.multiply(S)}}catch(x){i={error:x}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}for(var I=new MI.default(this.field,s),O=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),I,r),P=O[0],q=O[1],C=this.findErrorLocations(P),d=this.findErrorMagnitudes(q,P,C),f=0;f<C.length;f++){var m=e.length-1-this.field.log(C[f]);if(m<0)throw BI.default.getChecksumInstance();e[m]=this.field.subtract(e[m],d[f])}return C.length},t.prototype.runEuclideanAlgorithm=function(e,r,n){if(e.getDegree()<r.getDegree()){var i=e;e=r,r=i}for(var a=e,o=r,s=this.field.getZero(),u=this.field.getOne();o.getDegree()>=Math.round(n/2);){var f=a,c=s;if(a=o,s=u,a.isZero())throw BI.default.getChecksumInstance();o=f;for(var l=this.field.getZero(),g=a.getCoefficient(a.getDegree()),y=this.field.inverse(g);o.getDegree()>=a.getDegree()&&!o.isZero();){var _=o.getDegree()-a.getDegree(),w=this.field.multiply(o.getCoefficient(o.getDegree()),y);l=l.add(this.field.buildMonomial(_,w)),o=o.subtract(a.multiplyByMonomial(_,w))}u=l.multiply(s).subtract(c).negative()}var S=u.getCoefficient(0);if(S===0)throw BI.default.getChecksumInstance();var I=this.field.inverse(S),O=u.multiply(I),P=o.multiply(I);return[O,P]},t.prototype.findErrorLocations=function(e){for(var r=e.getDegree(),n=new Int32Array(r),i=0,a=1;a<this.field.getSize()&&i<r;a++)e.evaluateAt(a)===0&&(n[i]=this.field.inverse(a),i++);if(i!==r)throw BI.default.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(e,r,n){for(var i=r.getDegree(),a=new Int32Array(i),o=1;o<=i;o++)a[i-o]=this.field.multiply(o,r.getCoefficient(o));for(var s=new MI.default(this.field,a),u=n.length,f=new Int32Array(u),o=0;o<u;o++){var c=this.field.inverse(n[o]),l=this.field.subtract(0,e.evaluateAt(c)),g=this.field.inverse(s.evaluateAt(c));f[o]=this.field.multiply(l,g)}return f},t}();Dx.default=_9e});var KP=E(HP=>{"use strict";h();p();Object.defineProperty(HP,"__esModule",{value:!0});var x9e=Ve(),gv=$r(),b9e=function(){function t(e,r,n,i,a){e instanceof t?this.constructor_2(e):this.constructor_1(e,r,n,i,a)}return t.prototype.constructor_1=function(e,r,n,i,a){var o=r==null||n==null,s=i==null||a==null;if(o&&s)throw new x9e.default;o?(r=new gv.default(0,i.getY()),n=new gv.default(0,a.getY())):s&&(i=new gv.default(e.getWidth()-1,r.getY()),a=new gv.default(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=r,this.bottomLeft=n,this.topRight=i,this.bottomRight=a,this.minX=Math.trunc(Math.min(r.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),a.getX())),this.minY=Math.trunc(Math.min(r.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),a.getY()))},t.prototype.constructor_2=function(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()},t.merge=function(e,r){return e==null?r:r==null?e:new t(e.image,e.topLeft,e.bottomLeft,r.topRight,r.bottomRight)},t.prototype.addMissingRows=function(e,r,n){var i=this.topLeft,a=this.bottomLeft,o=this.topRight,s=this.bottomRight;if(e>0){var u=n?this.topLeft:this.topRight,f=Math.trunc(u.getY()-e);f<0&&(f=0);var c=new gv.default(u.getX(),f);n?i=c:o=c}if(r>0){var l=n?this.bottomLeft:this.bottomRight,g=Math.trunc(l.getY()+r);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);var y=new gv.default(l.getX(),g);n?a=y:s=y}return new t(this.image,i,a,o,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}();HP.default=b9e});var Yee=E(VP=>{"use strict";h();p();Object.defineProperty(VP,"__esModule",{value:!0});var w9e=function(){function t(e,r,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=r,this.rowCountLowerPart=n,this.rowCount=r+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}();VP.default=w9e});var NI=E(GP=>{"use strict";h();p();Object.defineProperty(GP,"__esModule",{value:!0});var E9e=function(){function t(){this.buffer=""}return t.form=function(e,r){var n=-1;function i(o,s,u,f,c,l){if(o==="%%")return"%";if(r[++n]!==void 0){o=f?parseInt(f.substr(1)):void 0;var g=c?parseInt(c.substr(1)):void 0,y;switch(l){case"s":y=r[n];break;case"c":y=r[n][0];break;case"f":y=parseFloat(r[n]).toFixed(o);break;case"p":y=parseFloat(r[n]).toPrecision(o);break;case"e":y=parseFloat(r[n]).toExponential(o);break;case"x":y=parseInt(r[n]).toString(g||16);break;case"d":y=parseFloat(parseInt(r[n],g||10).toPrecision(o)).toFixed(0);break}y=typeof y=="object"?JSON.stringify(y):(+y).toString(g);for(var _=parseInt(u),w=u&&u[0]+""=="0"?"0":" ";y.length<_;)y=s!==void 0?y+w:w+y;return y}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(a,i)},t.prototype.format=function(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];this.buffer+=t.form(e,r)},t.prototype.toString=function(){return this.buffer},t}();GP.default=E9e});var zP=E(Rx=>{"use strict";h();p();var S9e=Rx&&Rx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Rx,"__esModule",{value:!0});var I9e=NI(),T9e=KP(),C9e=function(){function t(e){this.boundingBox=new T9e.default(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var r=this.getCodeword(e);if(r!=null)return r;for(var n=1;n<t.MAX_NEARBY_DISTANCE;n++){var i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(r=this.codewords[i],r!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(r=this.codewords[i],r!=null)))return r}return null},t.prototype.imageRowToCodewordIndex=function(e){return e-this.boundingBox.getMinY()},t.prototype.setCodeword=function(e,r){this.codewords[this.imageRowToCodewordIndex(e)]=r},t.prototype.getCodeword=function(e){return this.codewords[this.imageRowToCodewordIndex(e)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var e,r,n=new I9e.default,i=0;try{for(var a=S9e(this.codewords),o=a.next();!o.done;o=a.next()){var s=o.value;if(s==null){n.format("%3d:    |   %n",i++);continue}n.format("%3d: %3d|%3d%n",i++,s.getRowNumber(),s.getValue())}}catch(u){e={error:u}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}();Rx.default=C9e});var YP=E(rp=>{"use strict";h();p();var A9e=rp&&rp.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},O9e=rp&&rp.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a};Object.defineProperty(rp,"__esModule",{value:!0});var D9e=hl(),R9e=function(){function t(){this.values=new Map}return t.prototype.setValue=function(e){e=Math.trunc(e);var r=this.values.get(e);r==null&&(r=0),r++,this.values.set(e,r)},t.prototype.getValue=function(){var e,r,n=-1,i=new Array,a=function(l,g){var y={getKey:function(){return l},getValue:function(){return g}};y.getValue()>n?(n=y.getValue(),i=[],i.push(y.getKey())):y.getValue()===n&&i.push(y.getKey())};try{for(var o=A9e(this.values.entries()),s=o.next();!s.done;s=o.next()){var u=O9e(s.value,2),f=u[0],c=u[1];a(f,c)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(e)throw e.error}}return D9e.default.toIntArray(i)},t.prototype.getConfidence=function(e){return this.values.get(e)},t}();rp.default=R9e});var Xee=E(np=>{"use strict";h();p();var P9e=np&&np.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),WP=np&&np.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(np,"__esModule",{value:!0});var Wee=hl(),B9e=Yee(),M9e=zP(),qI=YP(),N9e=function(t){P9e(e,t);function e(r,n){var i=t.call(this,r)||this;return i._isLeft=n,i}return e.prototype.setRowNumbers=function(){var r,n;try{for(var i=WP(this.getCodewords()),a=i.next();!a.done;a=i.next()){var o=a.value;o?.setRowNumberAsRowIndicatorColumn()}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(r){var n=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(n,r);for(var i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),o=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),f=-1,c=1,l=0,g=s;g<u;g++)if(n[g]!=null){var y=n[g],_=y.getRowNumber()-f;if(_===0)l++;else if(_===1)c=Math.max(c,l),l=1,f=y.getRowNumber();else if(_<0||y.getRowNumber()>=r.getRowCount()||_>g)n[g]=null;else{var w=void 0;c>2?w=(c-2)*_:w=_;for(var S=w>=g,I=1;I<=w&&!S;I++)S=n[g-I]!=null;S?n[g]=null:(f=y.getRowNumber(),l=1)}}},e.prototype.getRowHeights=function(){var r,n,i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);var a=new Int32Array(i.getRowCount());try{for(var o=WP(this.getCodewords()),s=o.next();!s.done;s=o.next()){var u=s.value;if(u!=null){var f=u.getRowNumber();if(f>=a.length)continue;a[f]++}}}catch(c){r={error:c}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(r){for(var n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),a=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.getCodewords(),f=-1,c=1,l=0,g=o;g<s;g++)if(u[g]!=null){var y=u[g];y.setRowNumberAsRowIndicatorColumn();var _=y.getRowNumber()-f;_===0?l++:_===1?(c=Math.max(c,l),l=1,f=y.getRowNumber()):y.getRowNumber()>=r.getRowCount()?u[g]=null:(f=y.getRowNumber(),l=1)}},e.prototype.getBarcodeMetadata=function(){var r,n,i=this.getCodewords(),a=new qI.default,o=new qI.default,s=new qI.default,u=new qI.default;try{for(var f=WP(i),c=f.next();!c.done;c=f.next()){var l=c.value;if(l!=null){l.setRowNumberAsRowIndicatorColumn();var g=l.getValue()%30,y=l.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:o.setValue(g*3+1);break;case 1:u.setValue(g/3),s.setValue(g%3);break;case 2:a.setValue(g+1);break}}}}catch(w){r={error:w}}finally{try{c&&!c.done&&(n=f.return)&&n.call(f)}finally{if(r)throw r.error}}if(a.getValue().length===0||o.getValue().length===0||s.getValue().length===0||u.getValue().length===0||a.getValue()[0]<1||o.getValue()[0]+s.getValue()[0]<Wee.default.MIN_ROWS_IN_BARCODE||o.getValue()[0]+s.getValue()[0]>Wee.default.MAX_ROWS_IN_BARCODE)return null;var _=new B9e.default(a.getValue()[0],o.getValue()[0],s.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(i,_),_},e.prototype.removeIncorrectCodewords=function(r,n){for(var i=0;i<r.length;i++){var a=r[i];if(r[i]!=null){var o=a.getValue()%30,s=a.getRowNumber();if(s>n.getRowCount()){r[i]=null;continue}switch(this._isLeft||(s+=2),s%3){case 0:o*3+1!==n.getRowCountUpperPart()&&(r[i]=null);break;case 1:(Math.trunc(o/3)!==n.getErrorCorrectionLevel()||o%3!==n.getRowCountLowerPart())&&(r[i]=null);break;case 2:o+1!==n.getColumnCount()&&(r[i]=null);break}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+t.prototype.toString.call(this)},e}(M9e.default);np.default=N9e});var Jee=E(Px=>{"use strict";h();p();var q9e=Px&&Px.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Px,"__esModule",{value:!0});var F9e=hl(),L9e=NI(),U9e=function(){function t(e,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var e=F9e.default.MAX_CODEWORDS_IN_BARCODE,r;do r=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<r);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var e=this.adjustRowNumbersByRow();if(e===0)return 0;for(var r=1;r<this.barcodeColumnCount+1;r++)for(var n=this.detectionResultColumns[r].getCodewords(),i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(r,i,n));return e},t.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var e=this.adjustRowNumbersFromLRI();return e+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var e=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<e.length;n++)if(e[n]!=null&&r[n]!=null&&e[n].getRowNumber()===r[n].getRowNumber())for(var i=1;i<=this.barcodeColumnCount;i++){var a=this.detectionResultColumns[i].getCodewords()[n];a!=null&&(a.setRowNumber(e[n].getRowNumber()),a.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}},t.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var e=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=this.barcodeColumnCount+1;o>0&&a<this.ADJUST_ROW_NUMBER_SKIP;o--){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var e=0,r=this.detectionResultColumns[0].getCodewords(),n=0;n<r.length;n++)if(r[n]!=null)for(var i=r[n].getRowNumber(),a=0,o=1;o<this.barcodeColumnCount+1&&a<this.ADJUST_ROW_NUMBER_SKIP;o++){var s=this.detectionResultColumns[o].getCodewords()[n];s!=null&&(a=t.adjustRowNumberIfValid(i,a,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(e,r,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),r=0):++r),r},t.prototype.adjustRowNumbers=function(e,r,n){var i,a;if(this.detectionResultColumns[e-1]!=null){var o=n[r],s=this.detectionResultColumns[e-1].getCodewords(),u=s;this.detectionResultColumns[e+1]!=null&&(u=this.detectionResultColumns[e+1].getCodewords());var f=new Array(14);f[2]=s[r],f[3]=u[r],r>0&&(f[0]=n[r-1],f[4]=s[r-1],f[5]=u[r-1]),r>1&&(f[8]=n[r-2],f[10]=s[r-2],f[11]=u[r-2]),r<n.length-1&&(f[1]=n[r+1],f[6]=s[r+1],f[7]=u[r+1]),r<n.length-2&&(f[9]=n[r+2],f[12]=s[r+2],f[13]=u[r+2]);try{for(var c=q9e(f),l=c.next();!l.done;l=c.next()){var g=l.value;if(t.adjustRowNumber(o,g))return}}catch(y){i={error:y}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(i)throw i.error}}}},t.adjustRowNumber=function(e,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===e.getBucket()?(e.setRowNumber(r.getRowNumber()),!0):!1},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(e){this.boundingBox=e},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(e,r){this.detectionResultColumns[e]=r},t.prototype.getDetectionResultColumn=function(e){return this.detectionResultColumns[e]},t.prototype.toString=function(){var e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var r=new L9e.default,n=0;n<e.getCodewords().length;n++){r.format("CW %3d:",n);for(var i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){r.format("    |   ");continue}var a=this.detectionResultColumns[i].getCodewords()[n];if(a==null){r.format("    |   ");continue}r.format(" %3d|%3d",a.getRowNumber(),a.getValue())}r.format("%n")}return r.toString()},t}();Px.default=U9e});var $ee=E(XP=>{"use strict";h();p();Object.defineProperty(XP,"__esModule",{value:!0});var k9e=function(){function t(e,r,n,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(r),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(e){this.rowNumber=e},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}();XP.default=k9e});var Qee=E(JP=>{"use strict";h();p();Object.defineProperty(JP,"__esModule",{value:!0});var Zee=Ws(),Zi=hl(),j9e=TR(),H9e=function(){function t(){}return t.initialize=function(){for(var e=0;e<Zi.default.SYMBOL_TABLE.length;e++)for(var r=Zi.default.SYMBOL_TABLE[e],n=r&1,i=0;i<Zi.default.BARS_IN_MODULE;i++){for(var a=0;(r&1)===n;)a+=1,r>>=1;n=r&1,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(Zi.default.BARS_IN_MODULE)),t.RATIOS_TABLE[e][Zi.default.BARS_IN_MODULE-i-1]=Math.fround(a/Zi.default.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var r=t.getDecodedCodewordValue(t.sampleBitCounts(e));return r!==-1?r:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(e){for(var r=Zee.default.sum(e),n=new Int32Array(Zi.default.BARS_IN_MODULE),i=0,a=0,o=0;o<Zi.default.MODULES_IN_CODEWORD;o++){var s=r/(2*Zi.default.MODULES_IN_CODEWORD)+o*r/Zi.default.MODULES_IN_CODEWORD;a+e[i]<=s&&(a+=e[i],i++),n[i]++}return n},t.getDecodedCodewordValue=function(e){var r=t.getBitValue(e);return Zi.default.getCodeword(r)===-1?-1:r},t.getBitValue=function(e){for(var r=0,n=0;n<e.length;n++)for(var i=0;i<e[n];i++)r=r<<1|(n%2===0?1:0);return Math.trunc(r)},t.getClosestDecodedValue=function(e){var r=Zee.default.sum(e),n=new Array(Zi.default.BARS_IN_MODULE);if(r>1)for(var i=0;i<n.length;i++)n[i]=Math.fround(e[i]/r);var a=j9e.default.MAX_VALUE,o=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var u=0,f=t.RATIOS_TABLE[s],c=0;c<Zi.default.BARS_IN_MODULE;c++){var l=Math.fround(f[c]-n[c]);if(u+=Math.fround(l*l),u>=a)break}u<a&&(a=u,o=Zi.default.SYMBOL_TABLE[s])}return o},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(Zi.default.SYMBOL_TABLE.length).map(function(e){return e=new Array(Zi.default.BARS_IN_MODULE)}),t}();JP.default=H9e});var ZP=E($P=>{"use strict";h();p();Object.defineProperty($P,"__esModule",{value:!0});var K9e=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(e){this.segmentIndex=e},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(e){this.fileId=e},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(e){this.optionalData=e},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(e){this.lastSegment=e},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(e){this.segmentCount=e},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(e){this.sender=e},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(e){this.addressee=e},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(e){this.fileName=e},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(e){this.fileSize=e},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(e){this.checksum=e},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(e){this.timestamp=e},t}();$P.default=K9e});var ete=E(QP=>{"use strict";h();p();Object.defineProperty(QP,"__esModule",{value:!0});var V9e=function(){function t(){}return t.parseLong=function(e,r){return r===void 0&&(r=void 0),parseInt(e,r)},t}();QP.default=V9e});var tte=E(Bx=>{"use strict";h();p();var G9e=Bx&&Bx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Bx,"__esModule",{value:!0});var z9e=Xi(),Y9e=function(t){G9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="NullPointerException",e}(z9e.default);Bx.default=Y9e});var rte=E(eB=>{"use strict";h();p();Object.defineProperty(eB,"__esModule",{value:!0});var W9e=GS(),X9e=tte(),J9e=function(){function t(){}return t.prototype.writeBytes=function(e){this.writeBytesOffset(e,0,e.length)},t.prototype.writeBytesOffset=function(e,r,n){if(e==null)throw new X9e.default;if(r<0||r>e.length||n<0||r+n>e.length||r+n<0)throw new W9e.default;if(n===0)return;for(var i=0;i<n;i++)this.write(e[r+i])},t.prototype.flush=function(){},t.prototype.close=function(){},t}();eB.default=J9e});var nte=E(Mx=>{"use strict";h();p();var $9e=Mx&&Mx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Mx,"__esModule",{value:!0});var Z9e=Xi(),Q9e=function(t){$9e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(Z9e.default);Mx.default=Q9e});var ate=E(Nx=>{"use strict";h();p();var eCe=Nx&&Nx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Nx,"__esModule",{value:!0});var ite=Yu(),tCe=rte(),rCe=Qa(),nCe=St(),iCe=nte(),aCe=wn(),oCe=GS(),sCe=function(t){eCe(e,t);function e(r){r===void 0&&(r=32);var n=t.call(this)||this;if(n.count=0,r<0)throw new nCe.default("Negative initial size: "+r);return n.buf=new Uint8Array(r),n}return e.prototype.ensureCapacity=function(r){r-this.buf.length>0&&this.grow(r)},e.prototype.grow=function(r){var n=this.buf.length,i=n<<1;if(i-r<0&&(i=r),i<0){if(r<0)throw new iCe.default;i=rCe.default.MAX_VALUE}this.buf=ite.default.copyOfUint8Array(this.buf,i)},e.prototype.write=function(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1},e.prototype.writeBytesOffset=function(r,n,i){if(n<0||n>r.length||i<0||n+i-r.length>0)throw new oCe.default;this.ensureCapacity(this.count+i),aCe.default.arraycopy(r,n,this.buf,this.count,i),this.count+=i},e.prototype.writeTo=function(r){r.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return ite.default.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(r){return new String(this.buf).toString()},e.prototype.toString_number=function(r){return new String(this.buf).toString()},e.prototype.close=function(){},e}(tCe.default);Nx.default=sCe});var nB=E(rB=>{"use strict";h();p();Object.defineProperty(rB,"__esModule",{value:!0});var ip=Lr(),ote=Jc(),uCe=rv(),fCe=ZP(),cCe=Yu(),n0=Jr(),tB=Qa(),ste=ete(),dCe=ate(),lCe=K1(),Nt;(function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Nt||(Nt={}));function ute(){if(typeof window<"u")return window.BigInt||null;if(typeof globalThis<"u")return globalThis.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var FI;function pl(t){if(typeof FI>"u"&&(FI=ute()),FI===null)throw new Error("BigInt is not supported!");return FI(t)}function hCe(){var t=[];t[0]=pl(1);var e=pl(900);t[1]=e;for(var r=2;r<16;r++)t[r]=t[r-1]*e;return t}var pCe=function(){function t(){}return t.decode=function(e,r){var n=new n0.default(""),i=ote.default.ISO8859_1;n.enableDecoding(i);for(var a=1,o=e[a++],s=new fCe.default;a<e[0];){switch(o){case t.TEXT_COMPACTION_MODE_LATCH:a=t.textCompaction(e,a,n);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:a=t.byteCompaction(o,e,i,a,n);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[a++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:a=t.numericCompaction(e,a,n);break;case t.ECI_CHARSET:var u=ote.default.getCharacterSetECIByValue(e[a++]);break;case t.ECI_GENERAL_PURPOSE:a+=2;break;case t.ECI_USER_DEFINED:a++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:a=t.decodeMacroBlock(e,a,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new ip.default;default:a--,a=t.textCompaction(e,a,n);break}if(a<e.length)o=e[a++];else throw ip.default.getFormatInstance()}if(n.length()===0)throw ip.default.getFormatInstance();var f=new uCe.default(null,n.toString(),null,r);return f.setOther(s),f},t.decodeMacroBlock=function(e,r,n){if(r+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw ip.default.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),a=0;a<t.NUMBER_OF_SEQUENCE_CODEWORDS;a++,r++)i[a]=e[r];n.setSegmentIndex(tB.default.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new n0.default;r=t.textCompaction(e,r,o),n.setFileId(o.toString());var s=-1;for(e[r]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=r+1);r<e[0];)switch(e[r]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,e[r]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new n0.default;r=t.textCompaction(e,r+1,u),n.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var f=new n0.default;r=t.textCompaction(e,r+1,f),n.setSender(f.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var c=new n0.default;r=t.textCompaction(e,r+1,c),n.setAddressee(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var l=new n0.default;r=t.numericCompaction(e,r+1,l),n.setSegmentCount(tB.default.parseInt(l.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var g=new n0.default;r=t.numericCompaction(e,r+1,g),n.setTimestamp(ste.default.parseLong(g.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var y=new n0.default;r=t.numericCompaction(e,r+1,y),n.setChecksum(tB.default.parseInt(y.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var _=new n0.default;r=t.numericCompaction(e,r+1,_),n.setFileSize(ste.default.parseLong(_.toString()));break;default:throw ip.default.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:r++,n.setLastSegment(!0);break;default:throw ip.default.getFormatInstance()}if(s!==-1){var w=r-s;n.isLastSegment()&&w--,n.setOptionalData(cCe.default.copyOfRange(e,s,s+w))}return r},t.textCompaction=function(e,r,n){for(var i=new Int32Array((e[0]-r)*2),a=new Int32Array((e[0]-r)*2),o=0,s=!1;r<e[0]&&!s;){var u=e[r++];if(u<t.TEXT_COMPACTION_MODE_LATCH)i[o]=u/30,i[o+1]=u%30,o+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:i[o++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[o]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[r++],a[o]=u,o++;break}}return t.decodeTextCompaction(i,a,o,n),r},t.decodeTextCompaction=function(e,r,n,i){for(var a=Nt.ALPHA,o=Nt.ALPHA,s=0;s<n;){var u=e[s],f="";switch(a){case Nt.ALPHA:if(u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case t.LL:a=Nt.LOWER;break;case t.ML:a=Nt.MIXED;break;case t.PS:o=a,a=Nt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break;case Nt.LOWER:if(u<26)f=String.fromCharCode(97+u);else switch(u){case 26:f=" ";break;case t.AS:o=a,a=Nt.ALPHA_SHIFT;break;case t.ML:a=Nt.MIXED;break;case t.PS:o=a,a=Nt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break;case Nt.MIXED:if(u<t.PL)f=t.MIXED_CHARS[u];else switch(u){case t.PL:a=Nt.PUNCT;break;case 26:f=" ";break;case t.LL:a=Nt.LOWER;break;case t.AL:a=Nt.ALPHA;break;case t.PS:o=a,a=Nt.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break;case Nt.PUNCT:if(u<t.PAL)f=t.PUNCT_CHARS[u];else switch(u){case t.PAL:a=Nt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break;case Nt.ALPHA_SHIFT:if(a=o,u<26)f=String.fromCharCode(65+u);else switch(u){case 26:f=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break;case Nt.PUNCT_SHIFT:if(a=o,u<t.PAL)f=t.PUNCT_CHARS[u];else switch(u){case t.PAL:a=Nt.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(r[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:a=Nt.ALPHA;break}break}f!==""&&i.append(f),s++}},t.byteCompaction=function(e,r,n,i,a){var o=new dCe.default,s=0,u=0,f=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var c=new Int32Array(6),l=r[i++];i<r[0]&&!f;)switch(c[s++]=l,u=900*u+l,l=r[i++],l){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break;default:if(s%5===0&&s>0){for(var g=0;g<6;++g)o.write(Number(pl(u)>>pl(8*(5-g))));u=0,s=0}break}i===r[0]&&l<t.TEXT_COMPACTION_MODE_LATCH&&(c[s++]=l);for(var y=0;y<s;y++)o.write(c[y]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<r[0]&&!f;){var _=r[i++];if(_<t.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+_;else switch(_){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,f=!0;break}if(s%5===0&&s>0){for(var g=0;g<6;++g)o.write(Number(pl(u)>>pl(8*(5-g))));u=0,s=0}}break}return a.append(lCe.default.decode(o.toByteArray(),n)),i},t.numericCompaction=function(e,r,n){for(var i=0,a=!1,o=new Int32Array(t.MAX_NUMERIC_CODEWORDS);r<e[0]&&!a;){var s=e[r++];if(r===e[0]&&(a=!0),s<t.TEXT_COMPACTION_MODE_LATCH)o[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:r--,a=!0;break}(i%t.MAX_NUMERIC_CODEWORDS===0||s===t.NUMERIC_COMPACTION_MODE_LATCH||a)&&i>0&&(n.append(t.decodeBase900toBase10(o,i)),i=0)}return r},t.decodeBase900toBase10=function(e,r){for(var n=pl(0),i=0;i<r;i++)n+=t.EXP900[r-i-1]*pl(e[i]);var a=n.toString();if(a.charAt(0)!=="1")throw new ip.default;return a.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,t.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",t.EXP900=ute()?hCe():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}();rB.default=pCe});var lte=E(Lx=>{"use strict";h();p();var qx=Lx&&Lx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Lx,"__esModule",{value:!0});var Fx=zu(),LI=Lr(),fte=Ve(),gCe=Ws(),UI=hl(),yCe=jP(),cte=KP(),dte=Xee(),vCe=Jee(),mCe=zP(),_Ce=$ee(),xCe=YP(),bCe=Qee(),wCe=nB(),ECe=NI(),SCe=function(){function t(){}return t.decode=function(e,r,n,i,a,o,s){for(var u=new cte.default(e,r,n,i,a),f=null,c=null,l,g=!0;;g=!1){if(r!=null&&(f=t.getRowIndicatorColumn(e,u,r,!0,o,s)),i!=null&&(c=t.getRowIndicatorColumn(e,u,i,!1,o,s)),l=t.merge(f,c),l==null)throw fte.default.getNotFoundInstance();var y=l.getBoundingBox();if(g&&y!=null&&(y.getMinY()<u.getMinY()||y.getMaxY()>u.getMaxY()))u=y;else break}l.setBoundingBox(u);var _=l.getBarcodeColumnCount()+1;l.setDetectionResultColumn(0,f),l.setDetectionResultColumn(_,c);for(var w=f!=null,S=1;S<=_;S++){var I=w?S:_-S;if(l.getDetectionResultColumn(I)===void 0){var O=void 0;I===0||I===_?O=new dte.default(u,I===0):O=new mCe.default(u),l.setDetectionResultColumn(I,O);for(var P=-1,q=P,C=u.getMinY();C<=u.getMaxY();C++){if(P=t.getStartColumn(l,I,C,w),P<0||P>u.getMaxX()){if(q===-1)continue;P=q}var d=t.detectCodeword(e,u.getMinX(),u.getMaxX(),w,P,C,o,s);d!=null&&(O.setCodeword(C,d),q=P,o=Math.min(o,d.getWidth()),s=Math.max(s,d.getWidth()))}}}return t.createDecoderResult(l)},t.merge=function(e,r){if(e==null&&r==null)return null;var n=t.getBarcodeMetadata(e,r);if(n==null)return null;var i=cte.default.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(r));return new vCe.default(n,i)},t.adjustBoundingBox=function(e){var r,n;if(e==null)return null;var i=e.getRowHeights();if(i==null)return null;var a=t.getMax(i),o=0;try{for(var s=qx(i),u=s.next();!u.done;u=s.next()){var f=u.value;if(o+=a-f,f>0)break}}catch(y){r={error:y}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}for(var c=e.getCodewords(),l=0;o>0&&c[l]==null;l++)o--;for(var g=0,l=i.length-1;l>=0&&(g+=a-i[l],!(i[l]>0));l--);for(var l=c.length-1;g>0&&c[l]==null;l--)g--;return e.getBoundingBox().addMissingRows(o,g,e.isLeft())},t.getMax=function(e){var r,n,i=-1;try{for(var a=qx(e),o=a.next();!o.done;o=a.next()){var s=o.value;i=Math.max(i,s)}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i},t.getBarcodeMetadata=function(e,r){var n;if(e==null||(n=e.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();var i;return r==null||(i=r.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,r,n,i,a,o){for(var s=new dte.default(r,i),u=0;u<2;u++)for(var f=u===0?1:-1,c=Math.trunc(Math.trunc(n.getX())),l=Math.trunc(Math.trunc(n.getY()));l<=r.getMaxY()&&l>=r.getMinY();l+=f){var g=t.detectCodeword(e,0,e.getWidth(),i,c,l,a,o);g!=null&&(s.setCodeword(l,g),i?c=g.getStartX():c=g.getEndX())}return s},t.adjustCodewordCount=function(e,r){var n=r[0][1],i=n.getValue(),a=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(a<1||a>UI.default.MAX_CODEWORDS_IN_BARCODE)throw fte.default.getNotFoundInstance();n.setValue(a)}else i[0]!==a&&n.setValue(a)},t.createDecoderResult=function(e){var r=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,r);for(var n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),a=[],o=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var f=r[s][u+1].getValue(),c=s*e.getBarcodeColumnCount()+u;f.length===0?n.push(c):f.length===1?i[c]=f[0]:(o.push(c),a.push(f))}for(var l=new Array(a.length),g=0;g<l.length;g++)l[g]=a[g];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,UI.default.toIntArray(n),UI.default.toIntArray(o),l)},t.createDecoderResultFromAmbiguousValues=function(e,r,n,i,a){for(var o=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<o.length;u++)r[i[u]]=a[u][o[u]];try{return t.decodeCodewords(r,e,n)}catch(c){var f=c instanceof Fx.default;if(!f)throw c}if(o.length===0)throw Fx.default.getChecksumInstance();for(var u=0;u<o.length;u++)if(o[u]<a[u].length-1){o[u]++;break}else if(o[u]=0,u===o.length-1)throw Fx.default.getChecksumInstance()}throw Fx.default.getChecksumInstance()},t.createBarcodeMatrix=function(e){for(var r,n,i,a,o=Array.from({length:e.getBarcodeRowCount()},function(){return new Array(e.getBarcodeColumnCount()+2)}),s=0;s<o.length;s++)for(var u=0;u<o[s].length;u++)o[s][u]=new xCe.default;var f=0;try{for(var c=qx(e.getDetectionResultColumns()),l=c.next();!l.done;l=c.next()){var g=l.value;if(g!=null)try{for(var y=(i=void 0,qx(g.getCodewords())),_=y.next();!_.done;_=y.next()){var w=_.value;if(w!=null){var S=w.getRowNumber();if(S>=0){if(S>=o.length)continue;o[S][f].setValue(w.getValue())}}}}catch(I){i={error:I}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(i)throw i.error}}f++}}catch(I){r={error:I}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return o},t.isValidBarcodeColumn=function(e,r){return r>=0&&r<=e.getBarcodeColumnCount()+1},t.getStartColumn=function(e,r,n,i){var a,o,s=i?1:-1,u=null;if(t.isValidBarcodeColumn(e,r-s)&&(u=e.getDetectionResultColumn(r-s).getCodeword(n)),u!=null)return i?u.getEndX():u.getStartX();if(u=e.getDetectionResultColumn(r).getCodewordNearby(n),u!=null)return i?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,r-s)&&(u=e.getDetectionResultColumn(r-s).getCodewordNearby(n)),u!=null)return i?u.getEndX():u.getStartX();for(var f=0;t.isValidBarcodeColumn(e,r-s);){r-=s;try{for(var c=(a=void 0,qx(e.getDetectionResultColumn(r).getCodewords())),l=c.next();!l.done;l=c.next()){var g=l.value;if(g!=null)return(i?g.getEndX():g.getStartX())+s*f*(g.getEndX()-g.getStartX())}}catch(y){a={error:y}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(a)throw a.error}}f++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,r,n,i,a,o,s,u){a=t.adjustCodewordStartColumn(e,r,n,i,a,o);var f=t.getModuleBitCount(e,r,n,i,a,o);if(f==null)return null;var c,l=gCe.default.sum(f);if(i)c=a+l;else{for(var g=0;g<f.length/2;g++){var y=f[g];f[g]=f[f.length-1-g],f[f.length-1-g]=y}c=a,a=c-l}if(!t.checkCodewordSkew(l,s,u))return null;var _=bCe.default.getDecodedValue(f),w=UI.default.getCodeword(_);return w===-1?null:new _Ce.default(a,c,t.getCodewordBucketNumber(_),w)},t.getModuleBitCount=function(e,r,n,i,a,o){for(var s=a,u=new Int32Array(8),f=0,c=i?1:-1,l=i;(i?s<n:s>=r)&&f<u.length;)e.get(s,o)===l?(u[f]++,s+=c):(f++,l=!l);return f===u.length||s===(i?n:r)&&f===u.length-1?u:null},t.getNumberOfECCodeWords=function(e){return 2<<e},t.adjustCodewordStartColumn=function(e,r,n,i,a,o){for(var s=a,u=i?-1:1,f=0;f<2;f++){for(;(i?s>=r:s<n)&&i===e.get(s,o);){if(Math.abs(a-s)>t.CODEWORD_SKEW_SIZE)return a;s+=u}u=-u,i=!i}return s},t.checkCodewordSkew=function(e,r,n){return r-t.CODEWORD_SKEW_SIZE<=e&&e<=n+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,r,n){if(e.length===0)throw LI.default.getFormatInstance();var i=1<<r+1,a=t.correctErrors(e,n,i);t.verifyCodewordCount(e,i);var o=wCe.default.decode(e,""+r);return o.setErrorsCorrected(a),o.setErasures(n.length),o},t.correctErrors=function(e,r,n){if(r!=null&&r.length>n/2+t.MAX_ERRORS||n<0||n>t.MAX_EC_CODEWORDS)throw Fx.default.getChecksumInstance();return t.errorCorrection.decode(e,n,r)},t.verifyCodewordCount=function(e,r){if(e.length<4)throw LI.default.getFormatInstance();var n=e[0];if(n>e.length)throw LI.default.getFormatInstance();if(n===0)if(r<e.length)e[0]=e.length-r;else throw LI.default.getFormatInstance()},t.getBitCountForCodeword=function(e){for(var r=new Int32Array(8),n=0,i=r.length-1;!((e&1)!==n&&(n=e&1,i--,i<0));)r[i]++,e>>=1;return r},t.getCodewordBucketNumber=function(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(e){return(e[0]-e[2]+e[4]-e[6]+9)%9},t.toString=function(e){for(var r=new ECe.default,n=0;n<e.length;n++){r.format("Row %2d: ",n);for(var i=0;i<e[n].length;i++){var a=e[n][i];a.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",a.getValue()[0],a.getConfidence(a.getValue()[0]))}r.format("%n")}return r.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new yCe.default,t}();Lx.default=SCe});var kI=E(Ux=>{"use strict";h();p();var ICe=Ux&&Ux.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ux,"__esModule",{value:!0});var TCe=yr(),CCe=zu(),ACe=Lr(),hte=Ve(),OCe=$i(),gl=hl(),DCe=Qa(),pte=Vf(),RCe=Kee(),PCe=lte(),BCe=function(){function t(){}return t.prototype.decode=function(e,r){r===void 0&&(r=null);var n=t.decode(e,r,!1);if(n==null||n.length===0||n[0]==null)throw hte.default.getNotFoundInstance();return n[0]},t.prototype.decodeMultiple=function(e,r){r===void 0&&(r=null);try{return t.decode(e,r,!0)}catch(n){throw n instanceof ACe.default||n instanceof CCe.default?hte.default.getNotFoundInstance():n}},t.decode=function(e,r,n){var i,a,o=new Array,s=RCe.default.detectMultiple(e,r,n);try{for(var u=ICe(s.getPoints()),f=u.next();!f.done;f=u.next()){var c=f.value,l=PCe.default.decode(s.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),g=new OCe.default(l.getText(),l.getRawBytes(),void 0,c,TCe.default.PDF_417);g.putMetadata(pte.default.ERROR_CORRECTION_LEVEL,l.getECLevel());var y=l.getOther();y!=null&&g.putMetadata(pte.default.PDF417_EXTRA_METADATA,y),o.push(g)}}catch(_){i={error:_}}finally{try{f&&!f.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return o.map(function(_){return _})},t.getMaxWidth=function(e,r){return e==null||r==null?0:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMinWidth=function(e,r){return e==null||r==null?DCe.default.MAX_VALUE:Math.trunc(Math.abs(e.getX()-r.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*gl.default.MODULES_IN_CODEWORD/gl.default.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*gl.default.MODULES_IN_CODEWORD/gl.default.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*gl.default.MODULES_IN_CODEWORD/gl.default.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*gl.default.MODULES_IN_CODEWORD/gl.default.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}();Ux.default=BCe});var iB=E(kx=>{"use strict";h();p();var MCe=kx&&kx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(kx,"__esModule",{value:!0});var NCe=Xi(),qCe=function(t){MCe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="ReaderException",e}(NCe.default);kx.default=qCe});var aB=E(jx=>{"use strict";h();p();var gte=jx&&jx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(jx,"__esModule",{value:!0});var yte=Ji(),Ra=yr(),vte=RI(),mte=sI(),jI=bI(),_te=II(),FCe=Ve(),xte=kI(),bte=iB(),LCe=function(){function t(){}return t.prototype.decode=function(e,r){return this.setHints(r),this.decodeInternal(e)},t.prototype.decodeWithState=function(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)},t.prototype.setHints=function(e){this.hints=e;var r=e!=null&&e.get(yte.default.TRY_HARDER)!==void 0,n=e==null?null:e.get(yte.default.POSSIBLE_FORMATS),i=new Array;if(n!=null){var a=n.some(function(o){return o===Ra.default.UPC_A||o===Ra.default.UPC_E||o===Ra.default.EAN_13||o===Ra.default.EAN_8||o===Ra.default.CODABAR||o===Ra.default.CODE_39||o===Ra.default.CODE_93||o===Ra.default.CODE_128||o===Ra.default.ITF||o===Ra.default.RSS_14||o===Ra.default.RSS_EXPANDED});a&&!r&&i.push(new jI.default(e)),n.includes(Ra.default.QR_CODE)&&i.push(new vte.default),n.includes(Ra.default.DATA_MATRIX)&&i.push(new _te.default),n.includes(Ra.default.AZTEC)&&i.push(new mte.default),n.includes(Ra.default.PDF_417)&&i.push(new xte.default),a&&r&&i.push(new jI.default(e))}i.length===0&&(r||i.push(new jI.default(e)),i.push(new vte.default),i.push(new _te.default),i.push(new mte.default),i.push(new xte.default),r&&i.push(new jI.default(e))),this.readers=i},t.prototype.reset=function(){var e,r;if(this.readers!==null)try{for(var n=gte(this.readers),i=n.next();!i.done;i=n.next()){var a=i.value;a.reset()}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.decodeInternal=function(e){var r,n;if(this.readers===null)throw new bte.default("No readers where selected, nothing can be read.");try{for(var i=gte(this.readers),a=i.next();!a.done;a=i.next()){var o=a.value;try{return o.decode(e,this.hints)}catch(s){if(s instanceof bte.default)continue}}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}throw new FCe.default("No MultiFormat Readers were able to detect the code.")},t}();jx.default=LCe});var wte=E(yv=>{"use strict";h();p();var UCe=yv&&yv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(yv,"__esModule",{value:!0});yv.BrowserMultiFormatReader=void 0;var kCe=sl(),jCe=aB(),HCe=function(t){UCe(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=500);var i=this,a=new jCe.default;return a.setHints(r),i=t.call(this,a,n)||this,i}return e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e}(kCe.BrowserCodeReader);yv.BrowserMultiFormatReader=HCe});var Ete=E(vv=>{"use strict";h();p();var KCe=vv&&vv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(vv,"__esModule",{value:!0});vv.BrowserPDF417Reader=void 0;var VCe=sl(),GCe=kI(),zCe=function(t){KCe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new GCe.default,r)||this}return e}(VCe.BrowserCodeReader);vv.BrowserPDF417Reader=zCe});var Ste=E(mv=>{"use strict";h();p();var YCe=mv&&mv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(mv,"__esModule",{value:!0});mv.BrowserQRCodeReader=void 0;var WCe=sl(),XCe=RI(),JCe=function(t){YCe(e,t);function e(r){return r===void 0&&(r=500),t.call(this,new XCe.default,r)||this}return e}(WCe.BrowserCodeReader);mv.BrowserQRCodeReader=JCe});var _v=E(sB=>{"use strict";h();p();Object.defineProperty(sB,"__esModule",{value:!0});var oB;(function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.MIN_SIZE=3]="MIN_SIZE",t[t.MAX_SIZE=4]="MAX_SIZE",t[t.MARGIN=5]="MARGIN",t[t.PDF417_COMPACT=6]="PDF417_COMPACT",t[t.PDF417_COMPACTION=7]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=9]="AZTEC_LAYERS",t[t.QR_VERSION=10]="QR_VERSION"})(oB||(oB={}));sB.default=oB});var HI=E(fB=>{"use strict";h();p();Object.defineProperty(fB,"__esModule",{value:!0});var uB=w_(),Ite=wn(),Tte=St(),$Ce=function(){function t(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new uB.default(e,Int32Array.from([1])))}return t.prototype.buildGenerator=function(e){var r=this.cachedGenerators;if(e>=r.length)for(var n=r[r.length-1],i=this.field,a=r.length;a<=e;a++){var o=n.multiply(new uB.default(i,Int32Array.from([1,i.exp(a-1+i.getGeneratorBase())])));r.push(o),n=o}return r[e]},t.prototype.encode=function(e,r){if(r===0)throw new Tte.default("No error correction bytes");var n=e.length-r;if(n<=0)throw new Tte.default("No data bytes provided");var i=this.buildGenerator(r),a=new Int32Array(n);Ite.default.arraycopy(e,0,a,0,n);var o=new uB.default(this.field,a);o=o.multiplyByMonomial(r,1);for(var s=o.divide(i)[1],u=s.getCoefficients(),f=r-u.length,c=0;c<f;c++)e[n+c]=0;Ite.default.arraycopy(u,0,e,n+f,u.length)},t}();fB.default=$Ce});var KI=E(cB=>{"use strict";h();p();Object.defineProperty(cB,"__esModule",{value:!0});var ZCe=St(),QCe=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a-1;o++)for(var s=n[o],u=0;u<i-1;u++){var f=s[u];f===s[u+1]&&f===n[o+1][u]&&f===n[o+1][u+1]&&r++}return t.N2*r},t.applyMaskPenaltyRule3=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=0;s<i;s++){var u=n[o];s+6<i&&u[s]===1&&u[s+1]===0&&u[s+2]===1&&u[s+3]===1&&u[s+4]===1&&u[s+5]===0&&u[s+6]===1&&(t.isWhiteHorizontal(u,s-4,s)||t.isWhiteHorizontal(u,s+7,s+11))&&r++,o+6<a&&n[o][s]===1&&n[o+1][s]===0&&n[o+2][s]===1&&n[o+3][s]===1&&n[o+4][s]===1&&n[o+5][s]===0&&n[o+6][s]===1&&(t.isWhiteVertical(n,s,o-4,o)||t.isWhiteVertical(n,s,o+7,o+11))&&r++}return r*t.N3},t.isWhiteHorizontal=function(e,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(var i=r;i<n;i++)if(e[i]===1)return!1;return!0},t.isWhiteVertical=function(e,r,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(var a=n;a<i;a++)if(e[a][r]===1)return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var r=0,n=e.getArray(),i=e.getWidth(),a=e.getHeight(),o=0;o<a;o++)for(var s=n[o],u=0;u<i;u++)s[u]===1&&r++;var f=e.getHeight()*e.getWidth(),c=Math.floor(Math.abs(r*2-f)*10/f);return c*t.N4},t.getDataMaskBit=function(e,r,n){var i,a;switch(e){case 0:i=n+r&1;break;case 1:i=n&1;break;case 2:i=r%3;break;case 3:i=(n+r)%3;break;case 4:i=Math.floor(n/2)+Math.floor(r/3)&1;break;case 5:a=n*r,i=(a&1)+a%3;break;case 6:a=n*r,i=(a&1)+a%3&1;break;case 7:a=n*r,i=a%3+(n+r&1)&1;break;default:throw new ZCe.default("Invalid mask pattern: "+e)}return i===0},t.applyMaskPenaltyRule1Internal=function(e,r){for(var n=0,i=r?e.getHeight():e.getWidth(),a=r?e.getWidth():e.getHeight(),o=e.getArray(),s=0;s<i;s++){for(var u=0,f=-1,c=0;c<a;c++){var l=r?o[s][c]:o[c][s];l===f?u++:(u>=5&&(n+=t.N1+(u-5)),u=1,f=l)}u>=5&&(n+=t.N1+(u-5))}return n},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}();cB.default=QCe});var dB=E(Hx=>{"use strict";h();p();var eAe=Hx&&Hx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Hx,"__esModule",{value:!0});var tAe=Yu(),rAe=Jr(),nAe=function(){function t(e,r){this.width=e,this.height=r;for(var n=new Array(r),i=0;i!==r;i++)n[i]=new Uint8Array(e);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(e,r){return this.bytes[r][e]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(e,r,n){this.bytes[r][e]=n},t.prototype.setBoolean=function(e,r,n){this.bytes[r][e]=n?1:0},t.prototype.clear=function(e){var r,n;try{for(var i=eAe(this.bytes),a=i.next();!a.done;a=i.next()){var o=a.value;tAe.default.fill(o,e)}}catch(s){r={error:s}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var r=e;if(this.width!==r.width||this.height!==r.height)return!1;for(var n=0,i=this.height;n<i;++n)for(var a=this.bytes[n],o=r.bytes[n],s=0,u=this.width;s<u;++s)if(a[s]!==o[s])return!1;return!0},t.prototype.toString=function(){for(var e=new rAe.default,r=0,n=this.height;r<n;++r){for(var i=this.bytes[r],a=0,o=this.width;a<o;++a)switch(i[a]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()},t}();Hx.default=nAe});var VI=E(lB=>{"use strict";h();p();Object.defineProperty(lB,"__esModule",{value:!0});var iAe=Jr(),aAe=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var e=new iAe.default;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()},t.prototype.setMode=function(e){this.mode=e},t.prototype.setECLevel=function(e){this.ecLevel=e},t.prototype.setVersion=function(e){this.version=e},t.prototype.setMaskPattern=function(e){this.maskPattern=e},t.prototype.setMatrix=function(e){this.matrix=e},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}();lB.default=aAe});var GI=E(Kx=>{"use strict";h();p();var oAe=Kx&&Kx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Kx,"__esModule",{value:!0});var sAe=Xi(),uAe=function(t){oAe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.kind="WriterException",e}(sAe.default);Kx.default=uAe});var gB=E(pB=>{"use strict";h();p();Object.defineProperty(pB,"__esModule",{value:!0});var hB=jf(),fAe=Qa(),cAe=VI(),dAe=KI(),ap=GI(),lAe=St(),hAe=function(){function t(){}return t.clearMatrix=function(e){e.clear(255)},t.buildMatrix=function(e,r,n,i,a){t.clearMatrix(a),t.embedBasicPatterns(n,a),t.embedTypeInfo(r,i,a),t.maybeEmbedVersionInfo(n,a),t.embedDataBits(e,i,a)},t.embedBasicPatterns=function(e,r){t.embedPositionDetectionPatternsAndSeparators(r),t.embedDarkDotAtLeftBottomCorner(r),t.maybeEmbedPositionAdjustmentPatterns(e,r),t.embedTimingPatterns(r)},t.embedTypeInfo=function(e,r,n){var i=new hB.default;t.makeTypeInfoBits(e,r,i);for(var a=0,o=i.getSize();a<o;++a){var s=i.get(i.getSize()-1-a),u=t.TYPE_INFO_COORDINATES[a],f=u[0],c=u[1];if(n.setBoolean(f,c,s),a<8){var l=n.getWidth()-a-1,g=8;n.setBoolean(l,g,s)}else{var l=8,g=n.getHeight()-7+(a-8);n.setBoolean(l,g,s)}}},t.maybeEmbedVersionInfo=function(e,r){if(!(e.getVersionNumber()<7)){var n=new hB.default;t.makeVersionInfoBits(e,n);for(var i=6*3-1,a=0;a<6;++a)for(var o=0;o<3;++o){var s=n.get(i);i--,r.setBoolean(a,r.getHeight()-11+o,s),r.setBoolean(r.getHeight()-11+o,a,s)}}},t.embedDataBits=function(e,r,n){for(var i=0,a=-1,o=n.getWidth()-1,s=n.getHeight()-1;o>0;){for(o===6&&(o-=1);s>=0&&s<n.getHeight();){for(var u=0;u<2;++u){var f=o-u;if(!!t.isEmpty(n.get(f,s))){var c=void 0;i<e.getSize()?(c=e.get(i),++i):c=!1,r!==255&&dAe.default.getDataMaskBit(r,f,s)&&(c=!c),n.setBoolean(f,s,c)}}s+=a}a=-a,s+=a,o-=2}if(i!==e.getSize())throw new ap.default("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(e){return 32-fAe.default.numberOfLeadingZeros(e)},t.calculateBCHCode=function(e,r){if(r===0)throw new lAe.default("0 polynomial");var n=t.findMSBSet(r);for(e<<=n-1;t.findMSBSet(e)>=n;)e^=r<<t.findMSBSet(e)-n;return e},t.makeTypeInfoBits=function(e,r,n){if(!cAe.default.isValidMaskPattern(r))throw new ap.default("Invalid mask pattern");var i=e.getBits()<<3|r;n.appendBits(i,5);var a=t.calculateBCHCode(i,t.TYPE_INFO_POLY);n.appendBits(a,10);var o=new hB.default;if(o.appendBits(t.TYPE_INFO_MASK_PATTERN,15),n.xor(o),n.getSize()!==15)throw new ap.default("should not happen but we got: "+n.getSize())},t.makeVersionInfoBits=function(e,r){r.appendBits(e.getVersionNumber(),6);var n=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(r.appendBits(n,12),r.getSize()!==18)throw new ap.default("should not happen but we got: "+r.getSize())},t.isEmpty=function(e){return e===255},t.embedTimingPatterns=function(e){for(var r=8;r<e.getWidth()-8;++r){var n=(r+1)%2;t.isEmpty(e.get(r,6))&&e.setNumber(r,6,n),t.isEmpty(e.get(6,r))&&e.setNumber(6,r,n)}},t.embedDarkDotAtLeftBottomCorner=function(e){if(e.get(8,e.getHeight()-8)===0)throw new ap.default;e.setNumber(8,e.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,r,n){for(var i=0;i<8;++i){if(!t.isEmpty(n.get(e+i,r)))throw new ap.default;n.setNumber(e+i,r,0)}},t.embedVerticalSeparationPattern=function(e,r,n){for(var i=0;i<7;++i){if(!t.isEmpty(n.get(e,r+i)))throw new ap.default;n.setNumber(e,r+i,0)}},t.embedPositionAdjustmentPattern=function(e,r,n){for(var i=0;i<5;++i)for(var a=t.POSITION_ADJUSTMENT_PATTERN[i],o=0;o<5;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPattern=function(e,r,n){for(var i=0;i<7;++i)for(var a=t.POSITION_DETECTION_PATTERN[i],o=0;o<7;++o)n.setNumber(e+o,r+i,a[o])},t.embedPositionDetectionPatternsAndSeparators=function(e){var r=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-r,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-r,e);var n=8;t.embedHorizontalSeparationPattern(0,n-1,e),t.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);var i=7;t.embedVerticalSeparationPattern(i,0,e),t.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),t.embedVerticalSeparationPattern(i,e.getHeight()-i,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,r){if(!(e.getVersionNumber()<2))for(var n=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n],a=0,o=i.length;a!==o;a++){var s=i[a];if(s>=0)for(var u=0;u!==o;u++){var f=i[u];f>=0&&t.isEmpty(r.get(f,s))&&t.embedPositionAdjustmentPattern(f-2,s-2,r)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}();pB.default=hAe});var Cte=E(yB=>{"use strict";h();p();Object.defineProperty(yB,"__esModule",{value:!0});var pAe=function(){function t(e,r){this.dataBytes=e,this.errorCorrectionBytes=r}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}();yB.default=pAe});var XI=E(Gx=>{"use strict";h();p();var Ate=Gx&&Gx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Gx,"__esModule",{value:!0});var zI=_v(),YI=jf(),Vx=Jc(),gAe=Zc(),yAe=HI(),Js=AI(),vB=yx(),WI=KI(),vAe=dB(),Ote=VI(),Dte=gB(),mB=K1(),mAe=Cte(),En=GI(),_Ae=function(){function t(){}return t.calculateMaskPenalty=function(e){return WI.default.applyMaskPenaltyRule1(e)+WI.default.applyMaskPenaltyRule2(e)+WI.default.applyMaskPenaltyRule3(e)+WI.default.applyMaskPenaltyRule4(e)},t.encode=function(e,r,n){n===void 0&&(n=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,a=n!==null&&n.get(zI.default.CHARACTER_SET)!==void 0;a&&(i=n.get(zI.default.CHARACTER_SET).toString());var o=this.chooseMode(e,i),s=new YI.default;if(o===Js.default.BYTE&&(a||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=Vx.default.getCharacterSetECIByName(i);u!==void 0&&this.appendECI(u,s)}this.appendModeInfo(o,s);var f=new YI.default;this.appendBytes(e,o,f,i);var c;if(n!==null&&n.get(zI.default.QR_VERSION)!==void 0){var l=Number.parseInt(n.get(zI.default.QR_VERSION).toString(),10);c=vB.default.getVersionForNumber(l);var g=this.calculateBitsNeeded(o,s,f,c);if(!this.willFit(g,c,r))throw new En.default("Data too big for requested version")}else c=this.recommendVersion(r,o,s,f);var y=new YI.default;y.appendBitArray(s);var _=o===Js.default.BYTE?f.getSizeInBytes():e.length;this.appendLengthInfo(_,c,o,y),y.appendBitArray(f);var w=c.getECBlocksForLevel(r),S=c.getTotalCodewords()-w.getTotalECCodewords();this.terminateBits(S,y);var I=this.interleaveWithECBytes(y,c.getTotalCodewords(),S,w.getNumBlocks()),O=new Ote.default;O.setECLevel(r),O.setMode(o),O.setVersion(c);var P=c.getDimensionForVersion(),q=new vAe.default(P,P),C=this.chooseMaskPattern(I,r,c,q);return O.setMaskPattern(C),Dte.default.buildMatrix(I,r,c,C,q),O.setMatrix(q),O},t.recommendVersion=function(e,r,n,i){var a=this.calculateBitsNeeded(r,n,i,vB.default.getVersionForNumber(1)),o=this.chooseVersion(a,e),s=this.calculateBitsNeeded(r,n,i,o);return this.chooseVersion(s,e)},t.calculateBitsNeeded=function(e,r,n,i){return r.getSize()+e.getCharacterCountBits(i)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,r){if(r===void 0&&(r=null),Vx.default.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(e))return Js.default.KANJI;for(var n=!1,i=!1,a=0,o=e.length;a<o;++a){var s=e.charAt(a);if(t.isDigit(s))n=!0;else if(this.getAlphanumericCode(s.charCodeAt(0))!==-1)i=!0;else return Js.default.BYTE}return i?Js.default.ALPHANUMERIC:n?Js.default.NUMERIC:Js.default.BYTE},t.isOnlyDoubleByteKanji=function(e){var r;try{r=mB.default.encode(e,Vx.default.SJIS)}catch{return!1}var n=r.length;if(n%2!==0)return!1;for(var i=0;i<n;i+=2){var a=r[i]&255;if((a<129||a>159)&&(a<224||a>235))return!1}return!0},t.chooseMaskPattern=function(e,r,n,i){for(var a=Number.MAX_SAFE_INTEGER,o=-1,s=0;s<Ote.default.NUM_MASK_PATTERNS;s++){Dte.default.buildMatrix(e,r,n,s,i);var u=this.calculateMaskPenalty(i);u<a&&(a=u,o=s)}return o},t.chooseVersion=function(e,r){for(var n=1;n<=40;n++){var i=vB.default.getVersionForNumber(n);if(t.willFit(e,i,r))return i}throw new En.default("Data too big")},t.willFit=function(e,r,n){var i=r.getTotalCodewords(),a=r.getECBlocksForLevel(n),o=a.getTotalECCodewords(),s=i-o,u=(e+7)/8;return s>=u},t.terminateBits=function(e,r){var n=e*8;if(r.getSize()>n)throw new En.default("data bits cannot fit in the QR Code"+r.getSize()+" > "+n);for(var i=0;i<4&&r.getSize()<n;++i)r.appendBit(!1);var a=r.getSize()&7;if(a>0)for(var i=a;i<8;i++)r.appendBit(!1);for(var o=e-r.getSizeInBytes(),i=0;i<o;++i)r.appendBits((i&1)===0?236:17,8);if(r.getSize()!==n)throw new En.default("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(e,r,n,i,a,o){if(i>=n)throw new En.default("Block ID too large");var s=e%n,u=n-s,f=Math.floor(e/n),c=f+1,l=Math.floor(r/n),g=l+1,y=f-l,_=c-g;if(y!==_)throw new En.default("EC bytes mismatch");if(n!==u+s)throw new En.default("RS blocks mismatch");if(e!==(l+y)*u+(g+_)*s)throw new En.default("Total bytes mismatch");i<u?(a[0]=l,o[0]=y):(a[0]=g,o[0]=_)},t.interleaveWithECBytes=function(e,r,n,i){var a,o,s,u;if(e.getSizeInBytes()!==n)throw new En.default("Number of bits and data bytes does not match");for(var f=0,c=0,l=0,g=new Array,y=0;y<i;++y){var _=new Int32Array(1),w=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(r,n,i,y,_,w);var S=_[0],I=new Uint8Array(S);e.toBytes(8*f,I,0,S);var O=t.generateECBytes(I,w[0]);g.push(new mAe.default(I,O)),c=Math.max(c,S),l=Math.max(l,O.length),f+=_[0]}if(n!==f)throw new En.default("Data bytes does not match offset");for(var P=new YI.default,y=0;y<c;++y)try{for(var q=(a=void 0,Ate(g)),C=q.next();!C.done;C=q.next()){var d=C.value,I=d.getDataBytes();y<I.length&&P.appendBits(I[y],8)}}catch(M){a={error:M}}finally{try{C&&!C.done&&(o=q.return)&&o.call(q)}finally{if(a)throw a.error}}for(var y=0;y<l;++y)try{for(var m=(s=void 0,Ate(g)),x=m.next();!x.done;x=m.next()){var d=x.value,O=d.getErrorCorrectionBytes();y<O.length&&P.appendBits(O[y],8)}}catch(M){s={error:M}}finally{try{x&&!x.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}if(r!==P.getSizeInBytes())throw new En.default("Interleaving error: "+r+" and "+P.getSizeInBytes()+" differ.");return P},t.generateECBytes=function(e,r){for(var n=e.length,i=new Int32Array(n+r),a=0;a<n;a++)i[a]=e[a]&255;new yAe.default(gAe.default.QR_CODE_FIELD_256).encode(i,r);for(var o=new Uint8Array(r),a=0;a<r;a++)o[a]=i[n+a];return o},t.appendModeInfo=function(e,r){r.appendBits(e.getBits(),4)},t.appendLengthInfo=function(e,r,n,i){var a=n.getCharacterCountBits(r);if(e>=1<<a)throw new En.default(e+" is bigger than "+((1<<a)-1));i.appendBits(e,a)},t.appendBytes=function(e,r,n,i){switch(r){case Js.default.NUMERIC:t.appendNumericBytes(e,n);break;case Js.default.ALPHANUMERIC:t.appendAlphanumericBytes(e,n);break;case Js.default.BYTE:t.append8BitBytes(e,n,i);break;case Js.default.KANJI:t.appendKanjiBytes(e,n);break;default:throw new En.default("Invalid mode: "+r)}},t.getDigit=function(e){return e.charCodeAt(0)-48},t.isDigit=function(e){var r=t.getDigit(e);return r>=0&&r<=9},t.appendNumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getDigit(e.charAt(i));if(i+2<n){var o=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));r.appendBits(a*100+o*10+s,10),i+=3}else if(i+1<n){var o=t.getDigit(e.charAt(i+1));r.appendBits(a*10+o,7),i+=2}else r.appendBits(a,4),i++}},t.appendAlphanumericBytes=function(e,r){for(var n=e.length,i=0;i<n;){var a=t.getAlphanumericCode(e.charCodeAt(i));if(a===-1)throw new En.default;if(i+1<n){var o=t.getAlphanumericCode(e.charCodeAt(i+1));if(o===-1)throw new En.default;r.appendBits(a*45+o,11),i+=2}else r.appendBits(a,6),i++}},t.append8BitBytes=function(e,r,n){var i;try{i=mB.default.encode(e,n)}catch(u){throw new En.default(u)}for(var a=0,o=i.length;a!==o;a++){var s=i[a];r.appendBits(s,8)}},t.appendKanjiBytes=function(e,r){var n;try{n=mB.default.encode(e,Vx.default.SJIS)}catch(l){throw new En.default(l)}for(var i=n.length,a=0;a<i;a+=2){var o=n[a]&255,s=n[a+1]&255,u=o<<8&4294967295|s,f=-1;if(u>=33088&&u<=40956?f=u-33088:u>=57408&&u<=60351&&(f=u-49472),f===-1)throw new En.default("Invalid byte sequence");var c=(f>>8)*192+(f&255);r.appendBits(c,13)}},t.appendECI=function(e,r){r.appendBits(Js.default.ECI.getBits(),4),r.appendBits(e.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=Vx.default.UTF8.getName(),t}();Gx.default=_Ae});var Bte=E($I=>{"use strict";h();p();Object.defineProperty($I,"__esModule",{value:!0});$I.BrowserQRCodeSvgWriter=void 0;var JI=_v(),xAe=XI(),Rte=lx(),Pte=St(),bAe=Gf(),wAe=function(){function t(){}return t.prototype.write=function(e,r,n,i){if(i===void 0&&(i=null),e.length===0)throw new Pte.default("Found empty contents");if(r<0||n<0)throw new Pte.default("Requested dimensions are too small: "+r+"x"+n);var a=Rte.default.L,o=t.QUIET_ZONE_SIZE;i!==null&&(i.get(JI.default.ERROR_CORRECTION)!==void 0&&(a=Rte.default.fromString(i.get(JI.default.ERROR_CORRECTION).toString())),i.get(JI.default.MARGIN)!==void 0&&(o=Number.parseInt(i.get(JI.default.MARGIN).toString(),10)));var s=xAe.default.encode(e,a,i);return this.renderResult(s,r,n,o)},t.prototype.writeToDom=function(e,r,n,i,a){a===void 0&&(a=null),typeof e=="string"&&(e=document.querySelector(e));var o=this.write(r,n,i,a);e&&e.appendChild(o)},t.prototype.renderResult=function(e,r,n,i){var a=e.getMatrix();if(a===null)throw new bAe.default;for(var o=a.getWidth(),s=a.getHeight(),u=o+i*2,f=s+i*2,c=Math.max(r,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-o*g)/2),_=Math.floor((l-s*g)/2),w=this.createSVGElement(c,l),S=0,I=_;S<s;S++,I+=g)for(var O=0,P=y;O<o;O++,P+=g)if(a.get(O,S)===1){var q=this.createSvgRectElement(P,I,g,g);w.appendChild(q)}return w},t.prototype.createSVGElement=function(e,r){var n=document.createElementNS(t.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",r.toString()),n},t.prototype.createSvgRectElement=function(e,r,n,i){var a=document.createElementNS(t.SVG_NS,"rect");return a.setAttributeNS(null,"x",e.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"height",n.toString()),a.setAttributeNS(null,"width",i.toString()),a.setAttributeNS(null,"fill","#000000"),a},t.QUIET_ZONE_SIZE=4,t.SVG_NS="http://www.w3.org/2000/svg",t}();$I.BrowserQRCodeSvgWriter=wAe});var Nte=E(Mte=>{"use strict";h();p();Object.defineProperty(Mte,"__esModule",{value:!0})});var Fte=E(qte=>{"use strict";h();p();Object.defineProperty(qte,"__esModule",{value:!0})});var Lte=E(Sn=>{"use strict";h();p();var EAe=Sn&&Sn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$s=Sn&&Sn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&EAe(e,t,r)};Object.defineProperty(Sn,"__esModule",{value:!0});$s(iQ(),Sn);$s(cee(),Sn);$s(sl(),Sn);$s(Eee(),Sn);$s(wte(),Sn);$s(Ete(),Sn);$s(Ste(),Sn);$s(Bte(),Sn);$s(Nte(),Sn);$s(oR(),Sn);$s(Fte(),Sn);$s(sR(),Sn)});var bB=E(xB=>{"use strict";h();p();Object.defineProperty(xB,"__esModule",{value:!0});var SAe=yr(),ZI=_v(),IAe=To(),Ute=lx(),TAe=XI(),_B=St(),CAe=Gf(),AAe=function(){function t(){}return t.prototype.encode=function(e,r,n,i,a){if(e.length===0)throw new _B.default("Found empty contents");if(r!==SAe.default.QR_CODE)throw new _B.default("Can only encode QR_CODE, but got "+r);if(n<0||i<0)throw new _B.default("Requested dimensions are too small: "+n+"x"+i);var o=Ute.default.L,s=t.QUIET_ZONE_SIZE;a!==null&&(a.get(ZI.default.ERROR_CORRECTION)!==void 0&&(o=Ute.default.fromString(a.get(ZI.default.ERROR_CORRECTION).toString())),a.get(ZI.default.MARGIN)!==void 0&&(s=Number.parseInt(a.get(ZI.default.MARGIN).toString(),10)));var u=TAe.default.encode(e,o,a);return t.renderResult(u,n,i,s)},t.renderResult=function(e,r,n,i){var a=e.getMatrix();if(a===null)throw new CAe.default;for(var o=a.getWidth(),s=a.getHeight(),u=o+i*2,f=s+i*2,c=Math.max(r,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-o*g)/2),_=Math.floor((l-s*g)/2),w=new IAe.default(c,l),S=0,I=_;S<s;S++,I+=g)for(var O=0,P=y;O<o;O++,P+=g)a.get(O,S)===1&&w.setRegion(P,I,g,g);return w},t.QUIET_ZONE_SIZE=4,t}();xB.default=AAe});var kte=E(wB=>{"use strict";h();p();Object.defineProperty(wB,"__esModule",{value:!0});var OAe=bB(),DAe=yr(),RAe=St(),PAe=function(){function t(){}return t.prototype.encode=function(e,r,n,i,a){var o;switch(r){case DAe.default.QR_CODE:o=new OAe.default;break;default:throw new RAe.default("No encoder available for format "+r)}return o.encode(e,r,n,i,a)},t}();wB.default=PAe});var Hte=E(zx=>{"use strict";h();p();var BAe=zx&&zx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(zx,"__esModule",{value:!0});var EB=wn(),MAe=Qy(),NAe=ev(),jte=St(),qAe=function(t){BAe(e,t);function e(r,n,i,a,o,s,u,f){var c=t.call(this,s,u)||this;if(c.yuvData=r,c.dataWidth=n,c.dataHeight=i,c.left=a,c.top=o,a+s>n||o+u>i)throw new jte.default("Crop rectangle does not fit within image data.");return f&&c.reverseHorizontal(s,u),c}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new jte.default("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return EB.default.arraycopy(this.yuvData,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.yuvData;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return EB.default.arraycopy(this.yuvData,o,a,0,i),a;for(var s=0;s<n;s++){var u=s*r;EB.default.arraycopy(this.yuvData,o,a,u,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+n,i,a,!1)},e.prototype.renderThumbnail=function(){for(var r=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,i=new Int32Array(r*n),a=this.yuvData,o=this.top*this.dataWidth+this.left,s=0;s<n;s++){for(var u=s*r,f=0;f<r;f++){var c=a[o+f*e.THUMBNAIL_SCALE_FACTOR]&255;i[u+f]=4278190080|c*65793}o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return i},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(r,n){for(var i=this.yuvData,a=0,o=this.top*this.dataWidth+this.left;a<n;a++,o+=this.dataWidth)for(var s=o+r/2,u=o,f=o+r-1;u<s;u++,f--){var c=i[u];i[u]=i[f],i[f]=c}},e.prototype.invert=function(){return new NAe.default(this)},e.THUMBNAIL_SCALE_FACTOR=2,e}(MAe.default);zx.default=qAe});var Vte=E(Yx=>{"use strict";h();p();var FAe=Yx&&Yx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Yx,"__esModule",{value:!0});ev();var LAe=ev(),UAe=Qy(),SB=wn(),Kte=St(),kAe=function(t){FAe(e,t);function e(r,n,i,a,o,s,u){var f=t.call(this,n,i)||this;if(f.dataWidth=a,f.dataHeight=o,f.left=s,f.top=u,r.BYTES_PER_ELEMENT===4){for(var c=n*i,l=new Uint8ClampedArray(c),g=0;g<c;g++){var y=r[g],_=y>>16&255,w=y>>7&510,S=y&255;l[g]=(_+w+S)/4&255}f.luminances=l}else f.luminances=r;if(a===void 0&&(f.dataWidth=n),o===void 0&&(f.dataHeight=i),s===void 0&&(f.left=0),u===void 0&&(f.top=0),f.left+n>f.dataWidth||f.top+i>f.dataHeight)throw new Kte.default("Crop rectangle does not fit within image data.");return f}return e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new Kte.default("Requested row is outside the image: "+r);var i=this.getWidth();(n==null||n.length<i)&&(n=new Uint8ClampedArray(i));var a=(r+this.top)*this.dataWidth+this.left;return SB.default.arraycopy(this.luminances,a,n,0,i),n},e.prototype.getMatrix=function(){var r=this.getWidth(),n=this.getHeight();if(r===this.dataWidth&&n===this.dataHeight)return this.luminances;var i=r*n,a=new Uint8ClampedArray(i),o=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return SB.default.arraycopy(this.luminances,o,a,0,i),a;for(var s=0;s<n;s++){var u=s*r;SB.default.arraycopy(this.luminances,o,a,u,r),o+=this.dataWidth}return a},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return new e(this.luminances,i,a,this.dataWidth,this.dataHeight,this.left+r,this.top+n)},e.prototype.invert=function(){return new LAe.default(this)},e}(UAe.default);Yx.default=kAe});var IB=E(Wx=>{"use strict";h();p();var jAe=Wx&&Wx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Wx,"__esModule",{value:!0});var HAe=Jc(),KAe=function(t){jAe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.forName=function(r){return this.getCharacterSetECIByName(r)},e}(HAe.default);Wx.default=KAe});var CB=E(TB=>{"use strict";h();p();Object.defineProperty(TB,"__esModule",{value:!0});var VAe=Jc(),GAe=function(){function t(){}return t.ISO_8859_1=VAe.default.ISO8859_1,t}();TB.default=GAe});var OB=E(AB=>{"use strict";h();p();Object.defineProperty(AB,"__esModule",{value:!0});var zAe=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(e){this.compact=e},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(e){this.size=e},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(e){this.layers=e},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(e){this.codeWords=e},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(e){this.matrix=e},t}();AB.default=zAe});var Gte=E(DB=>{"use strict";h();p();Object.defineProperty(DB,"__esModule",{value:!0});var YAe=function(){function t(){}return t.singletonList=function(e){return[e]},t.min=function(e,r){return e.sort(r)[0]},t}();DB.default=YAe});var zte=E(RB=>{"use strict";h();p();Object.defineProperty(RB,"__esModule",{value:!0});var WAe=function(){function t(e){this.previous=e}return t.prototype.getPrevious=function(){return this.previous},t}();RB.default=WAe});var QI=E(Xx=>{"use strict";h();p();var XAe=Xx&&Xx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Xx,"__esModule",{value:!0});var JAe=zte(),$Ae=Qa(),ZAe=function(t){XAe(e,t);function e(r,n,i){var a=t.call(this,r)||this;return a.value=n,a.bitCount=i,a}return e.prototype.appendTo=function(r,n){r.appendBits(this.value,this.bitCount)},e.prototype.add=function(r,n){return new e(this,r,n)},e.prototype.addBinaryShift=function(r,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,r,n)},e.prototype.toString=function(){var r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+$Ae.default.toBinaryString(r|1<<this.bitCount).substring(1)+">"},e}(JAe.default);Xx.default=ZAe});var Yte=E(Jx=>{"use strict";h();p();var QAe=Jx&&Jx.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Jx,"__esModule",{value:!0});var eOe=QI(),tOe=function(t){QAe(e,t);function e(r,n,i){var a=t.call(this,r,0,0)||this;return a.binaryShiftStart=n,a.binaryShiftByteCount=i,a}return e.prototype.appendTo=function(r,n){for(var i=0;i<this.binaryShiftByteCount;i++)(i===0||i===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):i===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(n[this.binaryShiftStart+i],8)},e.prototype.addBinaryShift=function(r,n){return new e(this,r,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(eOe.default);Jx.default=tOe});var Wte=E(xv=>{"use strict";h();p();Object.defineProperty(xv,"__esModule",{value:!0});xv.add=xv.addBinaryShift=void 0;var rOe=QI(),nOe=Yte();function iOe(t,e,r){return new nOe.default(t,e,r)}xv.addBinaryShift=iOe;function aOe(t,e,r){return new rOe.default(t,e,r)}xv.add=aOe});var $x=E(Qi=>{"use strict";h();p();Object.defineProperty(Qi,"__esModule",{value:!0});Qi.EMPTY_TOKEN=Qi.MODE_PUNCT=Qi.MODE_MIXED=Qi.MODE_DIGIT=Qi.MODE_LOWER=Qi.MODE_UPPER=Qi.MODE_NAMES=void 0;var oOe=QI();Qi.MODE_NAMES=["UPPER","LOWER","DIGIT","MIXED","PUNCT"];Qi.MODE_UPPER=0;Qi.MODE_LOWER=1;Qi.MODE_DIGIT=2;Qi.MODE_MIXED=3;Qi.MODE_PUNCT=4;Qi.EMPTY_TOKEN=new oOe.default(null,0,0)});var Xte=E(e5=>{"use strict";h();p();Object.defineProperty(e5,"__esModule",{value:!0});e5.LATCH_TABLE=void 0;e5.LATCH_TABLE=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])]});var PB=E(yl=>{"use strict";h();p();var sOe=yl&&yl.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(yl,"__esModule",{value:!0});yl.SHIFT_TABLE=yl.static_SHIFT_TABLE=void 0;var Jte=Yu(),Zs=$x();function $te(t){var e,r;try{for(var n=sOe(t),i=n.next();!i.done;i=n.next()){var a=i.value;Jte.default.fill(a,-1)}}catch(o){e={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}return t[Zs.MODE_UPPER][Zs.MODE_PUNCT]=0,t[Zs.MODE_LOWER][Zs.MODE_PUNCT]=0,t[Zs.MODE_LOWER][Zs.MODE_UPPER]=28,t[Zs.MODE_MIXED][Zs.MODE_PUNCT]=0,t[Zs.MODE_DIGIT][Zs.MODE_PUNCT]=0,t[Zs.MODE_DIGIT][Zs.MODE_UPPER]=15,t}yl.static_SHIFT_TABLE=$te;yl.SHIFT_TABLE=$te(Jte.default.createInt32Array(6,6))});var Zte=E(Zx=>{"use strict";h();p();var uOe=Zx&&Zx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Zx,"__esModule",{value:!0});var fOe=jf(),bv=Wte(),i0=$x(),BB=Xte(),cOe=PB(),dOe=Wu(),lOe=function(){function t(e,r,n,i){this.token=e,this.mode=r,this.binaryShiftByteCount=n,this.bitCount=i}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,r){var n=this.bitCount,i=this.token;if(e!==this.mode){var a=BB.LATCH_TABLE[this.mode][e];i=bv.add(i,a&65535,a>>16),n+=a>>16}var o=e===i0.MODE_DIGIT?4:5;return i=bv.add(i,r,o),new t(i,e,0,n+o)},t.prototype.shiftAndAppend=function(e,r){var n=this.token,i=this.mode===i0.MODE_DIGIT?4:5;return n=bv.add(n,cOe.SHIFT_TABLE[this.mode][e],i),n=bv.add(n,r,5),new t(n,this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var r=this.token,n=this.mode,i=this.bitCount;if(this.mode===i0.MODE_PUNCT||this.mode===i0.MODE_DIGIT){var a=BB.LATCH_TABLE[n][i0.MODE_UPPER];r=bv.add(r,a&65535,a>>16),i+=a>>16,n=i0.MODE_UPPER}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,s=new t(r,n,this.binaryShiftByteCount+1,i+o);return s.binaryShiftByteCount===2047+31&&(s=s.endBinaryShift(e+1)),s},t.prototype.endBinaryShift=function(e){if(this.binaryShiftByteCount===0)return this;var r=this.token;return r=bv.addBinaryShift(r,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new t(r,this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var r=this.bitCount+(BB.LATCH_TABLE[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?r+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(r+=10),r<=e.bitCount},t.prototype.toBitArray=function(e){for(var r,n,i=[],a=this.endBinaryShift(e.length).token;a!==null;a=a.getPrevious())i.unshift(a);var o=new fOe.default;try{for(var s=uOe(i),u=s.next();!u.done;u=s.next()){var f=u.value;f.appendTo(o,e)}}catch(c){r={error:c}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t.prototype.toString=function(){return dOe.default.format("%s bits=%d bytes=%d",i0.MODE_NAMES[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(i0.EMPTY_TOKEN,i0.MODE_UPPER,0,0),t}();Zx.default=lOe});var ere=E(wv=>{"use strict";h();p();Object.defineProperty(wv,"__esModule",{value:!0});wv.CHAR_MAP=wv.static_CHAR_MAP=void 0;var Yf=$x(),hOe=Yu(),Qs=Wu();function Qte(t){var e=Qs.default.getCharCode(" "),r=Qs.default.getCharCode("."),n=Qs.default.getCharCode(",");t[Yf.MODE_UPPER][e]=1;for(var i=Qs.default.getCharCode("Z"),a=Qs.default.getCharCode("A"),o=a;o<=i;o++)t[Yf.MODE_UPPER][o]=o-a+2;t[Yf.MODE_LOWER][e]=1;for(var s=Qs.default.getCharCode("z"),u=Qs.default.getCharCode("a"),o=u;o<=s;o++)t[Yf.MODE_LOWER][o]=o-u+2;t[Yf.MODE_DIGIT][e]=1;for(var f=Qs.default.getCharCode("9"),c=Qs.default.getCharCode("0"),o=c;o<=f;o++)t[Yf.MODE_DIGIT][o]=o-c+2;t[Yf.MODE_DIGIT][n]=12,t[Yf.MODE_DIGIT][r]=13;for(var l=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"],g=0;g<l.length;g++)t[Yf.MODE_MIXED][Qs.default.getCharCode(l[g])]=g;for(var y=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],g=0;g<y.length;g++)Qs.default.getCharCode(y[g])>0&&(t[Yf.MODE_PUNCT][Qs.default.getCharCode(y[g])]=g);return t}wv.static_CHAR_MAP=Qte;wv.CHAR_MAP=Qte(hOe.default.createInt32Array(5,256))});var NB=E(Qx=>{"use strict";h();p();var t5=Qx&&Qx.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Qx,"__esModule",{value:!0});var tre=Gte(),pOe=Zte(),op=$x(),MB=ere(),gOe=PB(),Ev=Wu(),yOe=function(){function t(e){this.text=e}return t.prototype.encode=function(){for(var e=Ev.default.getCharCode(" "),r=Ev.default.getCharCode(`
`),n=tre.default.singletonList(pOe.default.INITIAL_STATE),i=0;i<this.text.length;i++){var a=void 0,o=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case Ev.default.getCharCode("\r"):a=o===r?2:0;break;case Ev.default.getCharCode("."):a=o===e?3:0;break;case Ev.default.getCharCode(","):a=o===e?4:0;break;case Ev.default.getCharCode(":"):a=o===e?5:0;break;default:a=0}a>0?(n=t.updateStateListForPair(n,i,a),i++):n=this.updateStateListForChar(n,i)}var s=tre.default.min(n,function(u,f){return u.getBitCount()-f.getBitCount()});return s.toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,r){var n,i,a=[];try{for(var o=t5(e),s=o.next();!s.done;s=o.next()){var u=s.value;this.updateStateForChar(u,r,a)}}catch(f){n={error:f}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return t.simplifyStates(a)},t.prototype.updateStateForChar=function(e,r,n){for(var i=this.text[r]&255,a=MB.CHAR_MAP[e.getMode()][i]>0,o=null,s=0;s<=op.MODE_PUNCT;s++){var u=MB.CHAR_MAP[s][i];if(u>0){if(o==null&&(o=e.endBinaryShift(r)),!a||s===e.getMode()||s===op.MODE_DIGIT){var f=o.latchAndAppend(s,u);n.push(f)}if(!a&&gOe.SHIFT_TABLE[e.getMode()][s]>=0){var c=o.shiftAndAppend(s,u);n.push(c)}}}if(e.getBinaryShiftByteCount()>0||MB.CHAR_MAP[e.getMode()][i]===0){var l=e.addBinaryShiftChar(r);n.push(l)}},t.updateStateListForPair=function(e,r,n){var i,a,o=[];try{for(var s=t5(e),u=s.next();!u.done;u=s.next()){var f=u.value;this.updateStateForPair(f,r,n,o)}}catch(c){i={error:c}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return this.simplifyStates(o)},t.updateStateForPair=function(e,r,n,i){var a=e.endBinaryShift(r);if(i.push(a.latchAndAppend(op.MODE_PUNCT,n)),e.getMode()!==op.MODE_PUNCT&&i.push(a.shiftAndAppend(op.MODE_PUNCT,n)),n===3||n===4){var o=a.latchAndAppend(op.MODE_DIGIT,16-n).latchAndAppend(op.MODE_DIGIT,1);i.push(o)}if(e.getBinaryShiftByteCount()>0){var s=e.addBinaryShiftChar(r).addBinaryShiftChar(r+1);i.push(s)}},t.simplifyStates=function(e){var r,n,i,a,o=[];try{for(var s=t5(e),u=s.next();!u.done;u=s.next()){var f=u.value,c=!0,l=function(S){if(S.isBetterThanOrEqualTo(f))return c=!1,"break";f.isBetterThanOrEqualTo(S)&&(o=o.filter(function(I){return I!==S}))};try{for(var g=(i=void 0,t5(o)),y=g.next();!y.done;y=g.next()){var _=y.value,w=l(_);if(w==="break")break}}catch(S){i={error:S}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}c&&o.push(f)}}catch(S){r={error:S}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return o},t}();Qx.default=yOe});var FB=E(r3=>{"use strict";h();p();var vOe=r3&&r3.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(r3,"__esModule",{value:!0});var qB=jf(),e3=St(),mOe=Wu(),_Oe=To(),xOe=OB(),bOe=HI(),t3=Zc(),wOe=NB(),$n=Qa(),EOe=function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,r,n){var i=new wOe.default(e).encode(),a=$n.default.truncDivision(i.getSize()*r,100)+11,o=i.getSize()+a,s,u,f,c,l;if(n!==t.DEFAULT_AZTEC_LAYERS){if(s=n<0,u=Math.abs(n),u>(s?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new e3.default(mOe.default.format("Illegal value %s for layers",n));f=t.totalBitsInLayer(u,s),c=t.WORD_SIZE[u];var g=f-f%c;if(l=t.stuffBits(i,c),l.getSize()+a>g)throw new e3.default("Data to large for user specified layer");if(s&&l.getSize()>c*64)throw new e3.default("Data to large for user specified layer")}else{c=0,l=null;for(var y=0;;y++){if(y>t.MAX_NB_BITS)throw new e3.default("Data too large for an Aztec code");if(s=y<=3,u=s?y+1:y,f=t.totalBitsInLayer(u,s),!(o>f)){(l==null||c!==t.WORD_SIZE[u])&&(c=t.WORD_SIZE[u],l=t.stuffBits(i,c));var g=f-f%c;if(!(s&&l.getSize()>c*64)&&l.getSize()+a<=g)break}}}var _=t.generateCheckWords(l,f,c),w=l.getSize()/c,S=t.generateModeMessage(s,u,w),I=(s?11:14)+u*4,O=new Int32Array(I),P;if(s){P=I;for(var y=0;y<O.length;y++)O[y]=y}else{P=I+1+2*$n.default.truncDivision($n.default.truncDivision(I,2)-1,15);for(var q=$n.default.truncDivision(I,2),C=$n.default.truncDivision(P,2),y=0;y<q;y++){var d=y+$n.default.truncDivision(y,15);O[q-y-1]=C-d-1,O[q+y]=C+d+1}}for(var m=new _Oe.default(P),y=0,x=0;y<u;y++){for(var D=(u-y)*4+(s?9:12),M=0;M<D;M++)for(var oe=M*2,L=0;L<2;L++)_.get(x+oe+L)&&m.set(O[y*2+L],O[y*2+M]),_.get(x+D*2+oe+L)&&m.set(O[y*2+M],O[I-1-y*2-L]),_.get(x+D*4+oe+L)&&m.set(O[I-1-y*2-L],O[I-1-y*2-M]),_.get(x+D*6+oe+L)&&m.set(O[I-1-y*2-M],O[y*2+L]);x+=D*8}if(t.drawModeMessage(m,s,P,S),s)t.drawBullsEye(m,$n.default.truncDivision(P,2),5);else{t.drawBullsEye(m,$n.default.truncDivision(P,2),7);for(var y=0,M=0;y<$n.default.truncDivision(I,2)-1;y+=15,M+=16)for(var L=$n.default.truncDivision(P,2)&1;L<P;L+=2)m.set($n.default.truncDivision(P,2)-M,L),m.set($n.default.truncDivision(P,2)+M,L),m.set(L,$n.default.truncDivision(P,2)-M),m.set(L,$n.default.truncDivision(P,2)+M)}var b=new xOe.default;return b.setCompact(s),b.setSize(P),b.setLayers(u),b.setCodeWords(w),b.setMatrix(m),b},t.drawBullsEye=function(e,r,n){for(var i=0;i<n;i+=2)for(var a=r-i;a<=r+i;a++)e.set(a,r-i),e.set(a,r+i),e.set(r-i,a),e.set(r+i,a);e.set(r-n,r-n),e.set(r-n+1,r-n),e.set(r-n,r-n+1),e.set(r+n,r-n),e.set(r+n,r-n+1),e.set(r+n,r+n-1)},t.generateModeMessage=function(e,r,n){var i=new qB.default;return e?(i.appendBits(r-1,2),i.appendBits(n-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(r-1,5),i.appendBits(n-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(e,r,n,i){var a=$n.default.truncDivision(n,2);if(r)for(var o=0;o<7;o++){var s=a-3+o;i.get(o)&&e.set(s,a-5),i.get(o+7)&&e.set(a+5,s),i.get(20-o)&&e.set(s,a+5),i.get(27-o)&&e.set(a-5,s)}else for(var o=0;o<10;o++){var s=a-5+o+$n.default.truncDivision(o,5);i.get(o)&&e.set(s,a-7),i.get(o+10)&&e.set(a+7,s),i.get(29-o)&&e.set(s,a+7),i.get(39-o)&&e.set(a-7,s)}},t.generateCheckWords=function(e,r,n){var i,a,o=e.getSize()/n,s=new bOe.default(t.getGF(n)),u=$n.default.truncDivision(r,n),f=t.bitsToWords(e,n,u);s.encode(f,u-o);var c=r%n,l=new qB.default;l.appendBits(0,c);try{for(var g=vOe(Array.from(f)),y=g.next();!y.done;y=g.next()){var _=y.value;l.appendBits(_,n)}}catch(w){i={error:w}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(i)throw i.error}}return l},t.bitsToWords=function(e,r,n){var i=new Int32Array(n),a,o;for(a=0,o=e.getSize()/r;a<o;a++){for(var s=0,u=0;u<r;u++)s|=e.get(a*r+u)?1<<r-u-1:0;i[a]=s}return i},t.getGF=function(e){switch(e){case 4:return t3.default.AZTEC_PARAM;case 6:return t3.default.AZTEC_DATA_6;case 8:return t3.default.AZTEC_DATA_8;case 10:return t3.default.AZTEC_DATA_10;case 12:return t3.default.AZTEC_DATA_12;default:throw new e3.default("Unsupported word size "+e)}},t.stuffBits=function(e,r){for(var n=new qB.default,i=e.getSize(),a=(1<<r)-2,o=0;o<i;o+=r){for(var s=0,u=0;u<r;u++)(o+u>=i||e.get(o+u))&&(s|=1<<r-1-u);(s&a)===a?(n.appendBits(s&a,r),o--):(s&a)===0?(n.appendBits(s|1,r),o--):n.appendBits(s,r)}return n},t.totalBitsInLayer=function(e,r){return((r?88:112)+16*e)*e},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t}();r3.default=EOe});var nre=E(UB=>{"use strict";h();p();Object.defineProperty(UB,"__esModule",{value:!0});var SOe=yr(),Sv=_v(),LB=FB(),IOe=To(),TOe=IB(),COe=CB(),rre=Qa(),AOe=Gf(),OOe=St(),DOe=Wu(),ROe=function(){function t(){}return t.prototype.encode=function(e,r,n,i){return this.encodeWithHints(e,r,n,i,null)},t.prototype.encodeWithHints=function(e,r,n,i,a){var o=COe.default.ISO_8859_1,s=LB.default.DEFAULT_EC_PERCENT,u=LB.default.DEFAULT_AZTEC_LAYERS;return a!=null&&(a.has(Sv.default.CHARACTER_SET)&&(o=TOe.default.forName(a.get(Sv.default.CHARACTER_SET).toString())),a.has(Sv.default.ERROR_CORRECTION)&&(s=rre.default.parseInt(a.get(Sv.default.ERROR_CORRECTION).toString())),a.has(Sv.default.AZTEC_LAYERS)&&(u=rre.default.parseInt(a.get(Sv.default.AZTEC_LAYERS).toString()))),t.encodeLayers(e,r,n,i,o,s,u)},t.encodeLayers=function(e,r,n,i,a,o,s){if(r!==SOe.default.AZTEC)throw new OOe.default("Can only encode AZTEC, but got "+r);var u=LB.default.encode(DOe.default.getBytes(e,a),o,s);return t.renderResult(u,n,i)},t.renderResult=function(e,r,n){var i=e.getMatrix();if(i==null)throw new AOe.default;for(var a=i.getWidth(),o=i.getHeight(),s=Math.max(r,a),u=Math.max(n,o),f=Math.min(s/a,u/o),c=(s-a*f)/2,l=(u-o*f)/2,g=new IOe.default(s,u),y=0,_=l;y<o;y++,_+=f)for(var w=0,S=c;w<a;w++,S+=f)i.get(w,y)&&g.setRegion(S,_,f,f);return g},t}();UB.default=ROe});var Do=E(he=>{"use strict";h();p();var POe=he&&he.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),BOe=he&&he.__exportStar||function(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&POe(e,t,r)};Object.defineProperty(he,"__esModule",{value:!0});BOe(Lte(),he);var MOe=VS();Object.defineProperty(he,"ArgumentException",{enumerable:!0,get:function(){return MOe.default}});var NOe=ZS();Object.defineProperty(he,"ArithmeticException",{enumerable:!0,get:function(){return NOe.default}});var qOe=zu();Object.defineProperty(he,"ChecksumException",{enumerable:!0,get:function(){return qOe.default}});var FOe=Xi();Object.defineProperty(he,"Exception",{enumerable:!0,get:function(){return FOe.default}});var LOe=Lr();Object.defineProperty(he,"FormatException",{enumerable:!0,get:function(){return LOe.default}});var UOe=St();Object.defineProperty(he,"IllegalArgumentException",{enumerable:!0,get:function(){return UOe.default}});var kOe=Gf();Object.defineProperty(he,"IllegalStateException",{enumerable:!0,get:function(){return kOe.default}});var jOe=Ve();Object.defineProperty(he,"NotFoundException",{enumerable:!0,get:function(){return jOe.default}});var HOe=iB();Object.defineProperty(he,"ReaderException",{enumerable:!0,get:function(){return HOe.default}});var KOe=_R();Object.defineProperty(he,"ReedSolomonException",{enumerable:!0,get:function(){return KOe.default}});var VOe=YS();Object.defineProperty(he,"UnsupportedOperationException",{enumerable:!0,get:function(){return VOe.default}});var GOe=GI();Object.defineProperty(he,"WriterException",{enumerable:!0,get:function(){return GOe.default}});var zOe=yr();Object.defineProperty(he,"BarcodeFormat",{enumerable:!0,get:function(){return zOe.default}});var YOe=VD();Object.defineProperty(he,"Binarizer",{enumerable:!0,get:function(){return YOe.default}});var WOe=HD();Object.defineProperty(he,"BinaryBitmap",{enumerable:!0,get:function(){return WOe.default}});var XOe=Ji();Object.defineProperty(he,"DecodeHintType",{enumerable:!0,get:function(){return XOe.default}});var JOe=ev();Object.defineProperty(he,"InvertedLuminanceSource",{enumerable:!0,get:function(){return JOe.default}});var $Oe=Qy();Object.defineProperty(he,"LuminanceSource",{enumerable:!0,get:function(){return $Oe.default}});var ZOe=aB();Object.defineProperty(he,"MultiFormatReader",{enumerable:!0,get:function(){return ZOe.default}});var QOe=kte();Object.defineProperty(he,"MultiFormatWriter",{enumerable:!0,get:function(){return QOe.default}});var eDe=Hte();Object.defineProperty(he,"PlanarYUVLuminanceSource",{enumerable:!0,get:function(){return eDe.default}});var tDe=$i();Object.defineProperty(he,"Result",{enumerable:!0,get:function(){return tDe.default}});var rDe=Vf();Object.defineProperty(he,"ResultMetadataType",{enumerable:!0,get:function(){return rDe.default}});var nDe=Vte();Object.defineProperty(he,"RGBLuminanceSource",{enumerable:!0,get:function(){return nDe.default}});var iDe=$r();Object.defineProperty(he,"ResultPoint",{enumerable:!0,get:function(){return iDe.default}});var aDe=wn();Object.defineProperty(he,"ZXingSystem",{enumerable:!0,get:function(){return aDe.default}});var oDe=Jr();Object.defineProperty(he,"ZXingStringBuilder",{enumerable:!0,get:function(){return oDe.default}});var sDe=K1();Object.defineProperty(he,"ZXingStringEncoding",{enumerable:!0,get:function(){return sDe.default}});var uDe=IB();Object.defineProperty(he,"ZXingCharset",{enumerable:!0,get:function(){return uDe.default}});var fDe=Yu();Object.defineProperty(he,"ZXingArrays",{enumerable:!0,get:function(){return fDe.default}});var cDe=CB();Object.defineProperty(he,"ZXingStandardCharsets",{enumerable:!0,get:function(){return cDe.default}});var dDe=Qa();Object.defineProperty(he,"ZXingInteger",{enumerable:!0,get:function(){return dDe.default}});var lDe=jf();Object.defineProperty(he,"BitArray",{enumerable:!0,get:function(){return lDe.default}});var hDe=To();Object.defineProperty(he,"BitMatrix",{enumerable:!0,get:function(){return hDe.default}});var pDe=wI();Object.defineProperty(he,"BitSource",{enumerable:!0,get:function(){return pDe.default}});var gDe=Jc();Object.defineProperty(he,"CharacterSetECI",{enumerable:!0,get:function(){return gDe.default}});var yDe=rv();Object.defineProperty(he,"DecoderResult",{enumerable:!0,get:function(){return yDe.default}});var vDe=MR();Object.defineProperty(he,"DefaultGridSampler",{enumerable:!0,get:function(){return vDe.default}});var mDe=C_();Object.defineProperty(he,"DetectorResult",{enumerable:!0,get:function(){return mDe.default}});var _De=_v();Object.defineProperty(he,"EncodeHintType",{enumerable:!0,get:function(){return _De.default}});var xDe=rR();Object.defineProperty(he,"GlobalHistogramBinarizer",{enumerable:!0,get:function(){return xDe.default}});var bDe=PR();Object.defineProperty(he,"GridSampler",{enumerable:!0,get:function(){return bDe.default}});var wDe=D_();Object.defineProperty(he,"GridSamplerInstance",{enumerable:!0,get:function(){return wDe.default}});var EDe=nR();Object.defineProperty(he,"HybridBinarizer",{enumerable:!0,get:function(){return EDe.default}});var SDe=iI();Object.defineProperty(he,"PerspectiveTransform",{enumerable:!0,get:function(){return SDe.default}});var IDe=Wu();Object.defineProperty(he,"StringUtils",{enumerable:!0,get:function(){return IDe.default}});var TDe=Ws();Object.defineProperty(he,"MathUtils",{enumerable:!0,get:function(){return TDe.default}});var CDe=nI();Object.defineProperty(he,"WhiteRectangleDetector",{enumerable:!0,get:function(){return CDe.default}});var ADe=Zc();Object.defineProperty(he,"GenericGF",{enumerable:!0,get:function(){return ADe.default}});var ODe=w_();Object.defineProperty(he,"GenericGFPoly",{enumerable:!0,get:function(){return ODe.default}});var DDe=iv();Object.defineProperty(he,"ReedSolomonDecoder",{enumerable:!0,get:function(){return DDe.default}});var RDe=HI();Object.defineProperty(he,"ReedSolomonEncoder",{enumerable:!0,get:function(){return RDe.default}});var PDe=II();Object.defineProperty(he,"DataMatrixReader",{enumerable:!0,get:function(){return PDe.default}});var BDe=bP();Object.defineProperty(he,"DataMatrixDecodedBitStreamParser",{enumerable:!0,get:function(){return BDe.default}});var MDe=kI();Object.defineProperty(he,"PDF417Reader",{enumerable:!0,get:function(){return MDe.default}});var NDe=ZP();Object.defineProperty(he,"PDF417ResultMetadata",{enumerable:!0,get:function(){return NDe.default}});var qDe=nB();Object.defineProperty(he,"PDF417DecodedBitStreamParser",{enumerable:!0,get:function(){return qDe.default}});var FDe=jP();Object.defineProperty(he,"PDF417DecoderErrorCorrection",{enumerable:!0,get:function(){return FDe.default}});var LDe=RI();Object.defineProperty(he,"QRCodeReader",{enumerable:!0,get:function(){return LDe.default}});var UDe=bB();Object.defineProperty(he,"QRCodeWriter",{enumerable:!0,get:function(){return UDe.default}});var kDe=lx();Object.defineProperty(he,"QRCodeDecoderErrorCorrectionLevel",{enumerable:!0,get:function(){return kDe.default}});var jDe=TI();Object.defineProperty(he,"QRCodeDecoderFormatInformation",{enumerable:!0,get:function(){return jDe.default}});var HDe=yx();Object.defineProperty(he,"QRCodeVersion",{enumerable:!0,get:function(){return HDe.default}});var KDe=AI();Object.defineProperty(he,"QRCodeMode",{enumerable:!0,get:function(){return KDe.default}});var VDe=RP();Object.defineProperty(he,"QRCodeDecodedBitStreamParser",{enumerable:!0,get:function(){return VDe.default}});var GDe=IP();Object.defineProperty(he,"QRCodeDataMask",{enumerable:!0,get:function(){return GDe.default}});var zDe=XI();Object.defineProperty(he,"QRCodeEncoder",{enumerable:!0,get:function(){return zDe.default}});var YDe=VI();Object.defineProperty(he,"QRCodeEncoderQRCode",{enumerable:!0,get:function(){return YDe.default}});var WDe=gB();Object.defineProperty(he,"QRCodeMatrixUtil",{enumerable:!0,get:function(){return WDe.default}});var XDe=dB();Object.defineProperty(he,"QRCodeByteMatrix",{enumerable:!0,get:function(){return XDe.default}});var JDe=KI();Object.defineProperty(he,"QRCodeMaskUtil",{enumerable:!0,get:function(){return JDe.default}});var $De=sI();Object.defineProperty(he,"AztecCodeReader",{enumerable:!0,get:function(){return $De.default}});var ZDe=nre();Object.defineProperty(he,"AztecCodeWriter",{enumerable:!0,get:function(){return ZDe.default}});var QDe=OR();Object.defineProperty(he,"AztecDetectorResult",{enumerable:!0,get:function(){return QDe.default}});var eRe=FB();Object.defineProperty(he,"AztecEncoder",{enumerable:!0,get:function(){return eRe.default}});var tRe=NB();Object.defineProperty(he,"AztecHighLevelEncoder",{enumerable:!0,get:function(){return tRe.default}});var rRe=OB();Object.defineProperty(he,"AztecCode",{enumerable:!0,get:function(){return rRe.default}});var nRe=ER();Object.defineProperty(he,"AztecDecoder",{enumerable:!0,get:function(){return nRe.default}});var iRe=oI();Object.defineProperty(he,"AztecDetector",{enumerable:!0,get:function(){return iRe.default}});var aRe=oI();Object.defineProperty(he,"AztecPoint",{enumerable:!0,get:function(){return aRe.Point}});var oRe=zf();Object.defineProperty(he,"OneDReader",{enumerable:!0,get:function(){return oRe.default}});var sRe=hI();Object.defineProperty(he,"EAN13Reader",{enumerable:!0,get:function(){return sRe.default}});var uRe=kR();Object.defineProperty(he,"Code128Reader",{enumerable:!0,get:function(){return uRe.default}});var fRe=KR();Object.defineProperty(he,"ITFReader",{enumerable:!0,get:function(){return fRe.default}});var cRe=HR();Object.defineProperty(he,"Code39Reader",{enumerable:!0,get:function(){return cRe.default}});var dRe=yP();Object.defineProperty(he,"RSS14Reader",{enumerable:!0,get:function(){return dRe.default}});var lRe=hP();Object.defineProperty(he,"RSSExpandedReader",{enumerable:!0,get:function(){return lRe.default}});var hRe=vI();Object.defineProperty(he,"AbstractExpandedDecoder",{enumerable:!0,get:function(){return hRe.default}});var pRe=fP();Object.defineProperty(he,"createAbstractExpandedDecoder",{enumerable:!0,get:function(){return pRe.createDecoder}});var gRe=bI();Object.defineProperty(he,"MultiFormatOneDReader",{enumerable:!0,get:function(){return gRe.default}})});var jB=E(Iv=>{"use strict";h();p();var yRe=Iv&&Iv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Iv,"__esModule",{value:!0});Iv.HTMLCanvasElementLuminanceSource=void 0;var kB=Do(),vRe=function(t){yRe(e,t);function e(r){var n=t.call(this,r.width,r.height)||this;return n.canvas=r,n.tempCanvasElement=null,n.buffer=e.makeBufferFromCanvasImageData(r),n}return e.makeBufferFromCanvasImageData=function(r){var n=r.getContext("2d");if(!n)throw new Error("Couldn't get canvas context.");var i=n.getImageData(0,0,r.width,r.height);return e.toGrayscaleBuffer(i.data,r.width,r.height)},e.toGrayscaleBuffer=function(r,n,i){for(var a=new Uint8ClampedArray(n*i),o=0,s=0,u=r.length;o<u;o+=4,s++){var f=void 0,c=r[o+3];if(c===0)f=255;else{var l=r[o],g=r[o+1],y=r[o+2];f=306*l+601*g+117*y+512>>10}a[s]=f}return a},e.prototype.getRow=function(r,n){if(r<0||r>=this.getHeight())throw new kB.IllegalArgumentException("Requested row is outside the image: "+r);var i=this.getWidth(),a=r*i;return n===null?n=this.buffer.slice(a,a+i):(n.length<i&&(n=new Uint8ClampedArray(i)),n.set(this.buffer.slice(a,a+i))),n},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(r,n,i,a){return t.prototype.crop.call(this,r,n,i,a),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.invert=function(){return new kB.InvertedLuminanceSource(this)},e.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement},e.prototype.rotate=function(r){var n=this.getTempCanvasElement();if(!n)throw new Error("Could not create a Canvas element.");var i=r*e.DEGREE_TO_RADIANS,a=this.canvas.width,o=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*a+Math.abs(Math.sin(i))*o),u=Math.ceil(Math.abs(Math.sin(i))*a+Math.abs(Math.cos(i))*o);n.width=s,n.height=u;var f=n.getContext("2d");if(!f)throw new Error("Could not create a Canvas Context element.");return f.translate(s/2,u/2),f.rotate(i),f.drawImage(this.canvas,a/-2,o/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.DEGREE_TO_RADIANS=Math.PI/180,e}(kB.LuminanceSource);Iv.HTMLCanvasElementLuminanceSource=vRe});var are=E(ire=>{"use strict";h();p();Object.defineProperty(ire,"__esModule",{value:!0})});var sre=E(ore=>{"use strict";h();p();Object.defineProperty(ore,"__esModule",{value:!0})});var fre=E(Tv=>{"use strict";h();p();Object.defineProperty(Tv,"__esModule",{value:!0});Tv.canEnumerateDevices=Tv.hasNavigator=void 0;function ure(){return typeof navigator<"u"}Tv.hasNavigator=ure;function mRe(){return ure()&&!!navigator.mediaDevices}function _Re(){return!!(mRe()&&navigator.mediaDevices.enumerateDevices)}Tv.canEnumerateDevices=_Re});var vl=E(eu=>{"use strict";h();p();var Cv=eu&&eu.__assign||function(){return Cv=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cv.apply(this,arguments)},Rr=eu&&eu.__awaiter||function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(c){try{f(n.next(c))}catch(l){o(l)}}function u(c){try{f(n.throw(c))}catch(l){o(l)}}function f(c){c.done?a(c.value):i(c.value).then(s,u)}f((n=n.apply(t,e||[])).next())})},Pr=eu&&eu.__generator||function(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(f){return function(c){return u([f,c])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(c){f=[6,c],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},HB=eu&&eu.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(eu,"__esModule",{value:!0});eu.BrowserCodeReader=void 0;var fn=Do(),xRe=jB(),cre=fre(),bRe={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},wRe=function(){function t(e,r,n){r===void 0&&(r=new Map),n===void 0&&(n={}),this.reader=e,this.hints=r,this.options=Cv(Cv({},bRe),n)}return Object.defineProperty(t.prototype,"possibleFormats",{set:function(e){this.hints.set(fn.DecodeHintType.POSSIBLE_FORMATS,e)},enumerable:!1,configurable:!0}),t.addVideoSource=function(e,r){try{e.srcObject=r}catch{console.error("got interrupted by new loading request")}},t.mediaStreamSetTorch=function(e,r){return Rr(this,void 0,void 0,function(){return Pr(this,function(n){switch(n.label){case 0:return[4,e.applyConstraints({advanced:[{fillLightMode:r?"flash":"off",torch:!!r}]})];case 1:return n.sent(),[2]}})})},t.mediaStreamIsTorchCompatible=function(e){var r,n,i=e.getVideoTracks();try{for(var a=HB(i),o=a.next();!o.done;o=a.next()){var s=o.value;if(t.mediaStreamIsTorchCompatibleTrack(s))return!0}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return!1},t.mediaStreamIsTorchCompatibleTrack=function(e){try{var r=e.getCapabilities();return"torch"in r}catch(n){return console.error(n),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}},t.isVideoPlaying=function(e){return e.currentTime>0&&!e.paused&&e.readyState>2},t.getMediaElement=function(e,r){var n=document.getElementById(e);if(!n)throw new fn.ArgumentException("element with id '".concat(e,"' not found"));if(n.nodeName.toLowerCase()!==r.toLowerCase())throw new fn.ArgumentException("element with id '".concat(e,"' must be an ").concat(r," element"));return n},t.createVideoElement=function(e){if(e instanceof HTMLVideoElement)return e;if(typeof e=="string")return t.getMediaElement(e,"video");if(!e&&typeof document<"u"){var r=document.createElement("video");return r.width=200,r.height=200,r}throw new Error("Couldn't get videoElement from videoSource!")},t.prepareImageElement=function(e){if(e instanceof HTMLImageElement)return e;if(typeof e=="string")return t.getMediaElement(e,"img");if(typeof e>"u"){var r=document.createElement("img");return r.width=200,r.height=200,r}throw new Error("Couldn't get imageElement from imageSource!")},t.prepareVideoElement=function(e){var r=t.createVideoElement(e);return r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r},t.isImageLoaded=function(e){return!(!e.complete||e.naturalWidth===0)},t.createBinaryBitmapFromCanvas=function(e){var r=new xRe.HTMLCanvasElementLuminanceSource(e),n=new fn.HybridBinarizer(r);return new fn.BinaryBitmap(n)},t.drawImageOnCanvas=function(e,r){e.drawImage(r,0,0)},t.getMediaElementDimensions=function(e){if(e instanceof HTMLVideoElement)return{height:e.videoHeight,width:e.videoWidth};if(e instanceof HTMLImageElement)return{height:e.naturalHeight||e.height,width:e.naturalWidth||e.width};throw new Error("Couldn't find the Source's dimensions!")},t.createCaptureCanvas=function(e){if(!e)throw new fn.ArgumentException("Cannot create a capture canvas without a media element.");if(typeof document>"u")throw new Error(`The page "Document" is undefined, make sure you're running in a browser.`);var r=document.createElement("canvas"),n=t.getMediaElementDimensions(e),i=n.width,a=n.height;return r.style.width=i+"px",r.style.height=a+"px",r.width=i,r.height=a,r},t.tryPlayVideo=function(e){return Rr(this,void 0,void 0,function(){var r;return Pr(this,function(n){switch(n.label){case 0:if(e?.ended)return console.error("Trying to play video that has ended."),[2,!1];if(t.isVideoPlaying(e))return console.warn("Trying to play video that is already playing."),[2,!0];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.play()];case 2:return n.sent(),[2,!0];case 3:return r=n.sent(),console.warn("It was not possible to play the video.",r),[2,!1];case 4:return[2]}})})},t.createCanvasFromMediaElement=function(e){var r=t.createCaptureCanvas(e),n=r.getContext("2d");if(!n)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(n,e),r},t.createBinaryBitmapFromMediaElem=function(e){var r=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(r)},t.destroyImageElement=function(e){e.src="",e.removeAttribute("src"),e=void 0},t.listVideoInputDevices=function(){return Rr(this,void 0,void 0,function(){var e,r,n,i,a,o,s,u,f,c,l,g;return Pr(this,function(y){switch(y.label){case 0:if(!(0,cre.hasNavigator)())throw new Error("Can't enumerate devices, navigator is not present.");if(!(0,cre.canEnumerateDevices)())throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:e=y.sent(),r=[];try{for(n=HB(e),i=n.next();!i.done;i=n.next())a=i.value,o=a.kind==="video"?"videoinput":a.kind,o==="videoinput"&&(s=a.deviceId||a.id,u=a.label||"Video device ".concat(r.length+1),f=a.groupId,c={deviceId:s,label:u,kind:o,groupId:f},r.push(c))}catch(_){l={error:_}}finally{try{i&&!i.done&&(g=n.return)&&g.call(n)}finally{if(l)throw l.error}}return[2,r]}})})},t.findDeviceById=function(e){return Rr(this,void 0,void 0,function(){var r;return Pr(this,function(n){switch(n.label){case 0:return[4,t.listVideoInputDevices()];case 1:return r=n.sent(),r?[2,r.find(function(i){return i.deviceId===e})]:[2]}})})},t.cleanVideoSource=function(e){if(!!e){try{e.srcObject=null}catch{e.src=""}e&&e.removeAttribute("src")}},t.releaseAllStreams=function(){t.streamTracker.length!==0&&t.streamTracker.forEach(function(e){e.getTracks().forEach(function(r){return r.stop()})}),t.streamTracker=[]},t.playVideoOnLoadAsync=function(e,r){return Rr(this,void 0,void 0,function(){var n;return Pr(this,function(i){switch(i.label){case 0:return[4,t.tryPlayVideo(e)];case 1:return n=i.sent(),n?[2,!0]:[2,new Promise(function(a,o){var s=setTimeout(function(){t.isVideoPlaying(e)||(o(!1),e.removeEventListener("canplay",u))},r),u=function(){t.tryPlayVideo(e).then(function(f){clearTimeout(s),e.removeEventListener("canplay",u),a(f)})};e.addEventListener("canplay",u)})]}})})},t.attachStreamToVideo=function(e,r,n){return n===void 0&&(n=5e3),Rr(this,void 0,void 0,function(){var i;return Pr(this,function(a){switch(a.label){case 0:return i=t.prepareVideoElement(r),t.addVideoSource(i,e),[4,t.playVideoOnLoadAsync(i,n)];case 1:return a.sent(),[2,i]}})})},t._waitImageLoad=function(e){return new Promise(function(r,n){var i=1e4,a=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),n())},i),o=function(){clearTimeout(a),e.removeEventListener("load",o),r()};e.addEventListener("load",o)})},t.checkCallbackFnOrThrow=function(e){if(!e)throw new fn.ArgumentException("`callbackFn` is a required parameter, you cannot capture results without it.")},t.disposeMediaStream=function(e){e.getVideoTracks().forEach(function(r){return r.stop()}),e=void 0},t.prototype.decode=function(e){var r=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(r)},t.prototype.decodeBitmap=function(e){return this.reader.decode(e,this.hints)},t.prototype.decodeFromCanvas=function(e){var r=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(r)},t.prototype.decodeFromImageElement=function(e){return Rr(this,void 0,void 0,function(){var r;return Pr(this,function(n){switch(n.label){case 0:if(!e)throw new fn.ArgumentException("An image element must be provided.");return r=t.prepareImageElement(e),[4,this._decodeOnLoadImage(r)];case 1:return[2,n.sent()]}})})},t.prototype.decodeFromImageUrl=function(e){return Rr(this,void 0,void 0,function(){var r;return Pr(this,function(n){switch(n.label){case 0:if(!e)throw new fn.ArgumentException("An URL must be provided.");r=t.prepareImageElement(),r.src=e,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.decodeFromImageElement(r)];case 2:return[2,n.sent()];case 3:return t.destroyImageElement(r),[7];case 4:return[2]}})})},t.prototype.decodeFromConstraints=function(e,r,n){return Rr(this,void 0,void 0,function(){var i,a;return Pr(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),[4,this.getUserMedia(e)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.decodeFromStream(i,r,n)];case 3:return[2,o.sent()];case 4:throw a=o.sent(),t.disposeMediaStream(i),a;case 5:return[2]}})})},t.prototype.decodeFromStream=function(e,r,n){return Rr(this,void 0,void 0,function(){var i,a,o,s,u,f,c,l,g,y,_=this;return Pr(this,function(w){switch(w.label){case 0:return t.checkCallbackFnOrThrow(n),i=this.options.tryPlayVideoTimeout,[4,t.attachStreamToVideo(e,r,i)];case 1:return a=w.sent(),o=function(){t.disposeMediaStream(e),t.cleanVideoSource(a)},s=this.scan(a,n,o),u=e.getVideoTracks(),f=Cv(Cv({},s),{stop:function(){s.stop()},streamVideoConstraintsApply:function(S,I){return Rr(this,void 0,void 0,function(){var O,P,q,C,d,m,x;return Pr(this,function(D){switch(D.label){case 0:O=I?u.filter(I):u,D.label=1;case 1:D.trys.push([1,6,7,8]),P=HB(O),q=P.next(),D.label=2;case 2:return q.done?[3,5]:(C=q.value,[4,C.applyConstraints(S)]);case 3:D.sent(),D.label=4;case 4:return q=P.next(),[3,2];case 5:return[3,8];case 6:return d=D.sent(),m={error:d},[3,8];case 7:try{q&&!q.done&&(x=P.return)&&x.call(P)}finally{if(m)throw m.error}return[7];case 8:return[2]}})})},streamVideoConstraintsGet:function(S){return u.find(S).getConstraints()},streamVideoSettingsGet:function(S){return u.find(S).getSettings()},streamVideoCapabilitiesGet:function(S){return u.find(S).getCapabilities()}}),c=t.mediaStreamIsTorchCompatible(e),c&&(l=u?.find(function(S){return t.mediaStreamIsTorchCompatibleTrack(S)}),g=function(S){return Rr(_,void 0,void 0,function(){return Pr(this,function(I){switch(I.label){case 0:return[4,t.mediaStreamSetTorch(l,S)];case 1:return I.sent(),[2]}})})},f.switchTorch=g,y=function(){s.stop(),g(!1)},f.stop=y),[2,f]}})})},t.prototype.decodeFromVideoDevice=function(e,r,n){return Rr(this,void 0,void 0,function(){var i,a;return Pr(this,function(o){switch(o.label){case 0:return t.checkCallbackFnOrThrow(n),e?i={deviceId:{exact:e}}:i={facingMode:"environment"},a={video:i},[4,this.decodeFromConstraints(a,r,n)];case 1:return[2,o.sent()]}})})},t.prototype.decodeFromVideoElement=function(e,r){return Rr(this,void 0,void 0,function(){var n,i;return Pr(this,function(a){switch(a.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new fn.ArgumentException("A video element must be provided.");return n=t.prepareVideoElement(e),i=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,i)];case 1:return a.sent(),[2,this.scan(n,r)]}})})},t.prototype.decodeFromVideoUrl=function(e,r){return Rr(this,void 0,void 0,function(){var n,i,a,o;return Pr(this,function(s){switch(s.label){case 0:if(t.checkCallbackFnOrThrow(r),!e)throw new fn.ArgumentException("An URL must be provided.");return n=t.prepareVideoElement(),n.src=e,i=function(){t.cleanVideoSource(n)},a=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(n,a)];case 1:return s.sent(),o=this.scan(n,r,i),[2,o]}})})},t.prototype.decodeOnceFromConstraints=function(e,r){return Rr(this,void 0,void 0,function(){var n;return Pr(this,function(i){switch(i.label){case 0:return[4,this.getUserMedia(e)];case 1:return n=i.sent(),[4,this.decodeOnceFromStream(n,r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromStream=function(e,r){return Rr(this,void 0,void 0,function(){var n,i,a;return Pr(this,function(o){switch(o.label){case 0:return n=Boolean(r),[4,t.attachStreamToVideo(e,r)];case 1:i=o.sent(),o.label=2;case 2:return o.trys.push([2,,4,5]),[4,this.scanOneResult(i)];case 3:return a=o.sent(),[2,a];case 4:return n||t.cleanVideoSource(i),[7];case 5:return[2]}})})},t.prototype.decodeOnceFromVideoDevice=function(e,r){return Rr(this,void 0,void 0,function(){var n,i;return Pr(this,function(a){switch(a.label){case 0:return e?n={deviceId:{exact:e}}:n={facingMode:"environment"},i={video:n},[4,this.decodeOnceFromConstraints(i,r)];case 1:return[2,a.sent()]}})})},t.prototype.decodeOnceFromVideoElement=function(e){return Rr(this,void 0,void 0,function(){var r,n;return Pr(this,function(i){switch(i.label){case 0:if(!e)throw new fn.ArgumentException("A video element must be provided.");return r=t.prepareVideoElement(e),n=this.options.tryPlayVideoTimeout,[4,t.playVideoOnLoadAsync(r,n)];case 1:return i.sent(),[4,this.scanOneResult(r)];case 2:return[2,i.sent()]}})})},t.prototype.decodeOnceFromVideoUrl=function(e){return Rr(this,void 0,void 0,function(){var r,n;return Pr(this,function(i){switch(i.label){case 0:if(!e)throw new fn.ArgumentException("An URL must be provided.");r=t.prepareVideoElement(),r.src=e,n=this.decodeOnceFromVideoElement(r),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,n];case 2:return[2,i.sent()];case 3:return t.cleanVideoSource(r),[7];case 4:return[2]}})})},t.prototype.scanOneResult=function(e,r,n,i){var a=this;return r===void 0&&(r=!0),n===void 0&&(n=!0),i===void 0&&(i=!0),new Promise(function(o,s){a.scan(e,function(u,f,c){if(u){o(u),c.stop();return}if(f){if(f instanceof fn.NotFoundException&&r||f instanceof fn.ChecksumException&&n||f instanceof fn.FormatException&&i)return;c.stop(),s(f)}})})},t.prototype.scan=function(e,r,n){var i=this;t.checkCallbackFnOrThrow(r);var a=t.createCaptureCanvas(e),o=a.getContext("2d");if(!o)throw new Error("Couldn't create canvas for visual element scan.");var s=function(){o=void 0,a=void 0},u=!1,f,c=function(){u=!0,clearTimeout(f),s(),n&&n()},l={stop:c},g=function(){if(!u)try{t.drawImageOnCanvas(o,e);var y=i.decodeFromCanvas(a);r(y,void 0,l),f=setTimeout(g,i.options.delayBetweenScanSuccess)}catch(I){r(void 0,I,l);var _=I instanceof fn.ChecksumException,w=I instanceof fn.FormatException,S=I instanceof fn.NotFoundException;if(_||w||S){f=setTimeout(g,i.options.delayBetweenScanAttempts);return}s(),n&&n(I)}};return g(),l},t.prototype._decodeOnLoadImage=function(e){return Rr(this,void 0,void 0,function(){var r;return Pr(this,function(n){switch(n.label){case 0:return r=t.isImageLoaded(e),r?[3,2]:[4,t._waitImageLoad(e)];case 1:n.sent(),n.label=2;case 2:return[2,this.decode(e)]}})})},t.prototype.getUserMedia=function(e){return Rr(this,void 0,void 0,function(){var r;return Pr(this,function(n){switch(n.label){case 0:return[4,navigator.mediaDevices.getUserMedia(e)];case 1:return r=n.sent(),t.streamTracker.push(r),[2,r]}})})},t.streamTracker=[],t}();eu.BrowserCodeReader=wRe});var dre=E(Av=>{"use strict";h();p();var ERe=Av&&Av.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Av,"__esModule",{value:!0});Av.BrowserAztecCodeReader=void 0;var SRe=Do(),IRe=vl(),TRe=function(t){ERe(e,t);function e(r,n){return t.call(this,new SRe.AztecCodeReader,r,n)||this}return e}(IRe.BrowserCodeReader);Av.BrowserAztecCodeReader=TRe});var lre=E(Ov=>{"use strict";h();p();var CRe=Ov&&Ov.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ov,"__esModule",{value:!0});Ov.BrowserMultiFormatOneDReader=void 0;var ARe=Do(),ORe=vl(),DRe=function(t){CRe(e,t);function e(r,n){return t.call(this,new ARe.MultiFormatOneDReader(r),r,n)||this}return e}(ORe.BrowserCodeReader);Ov.BrowserMultiFormatOneDReader=DRe});var hre=E(Dv=>{"use strict";h();p();var RRe=Dv&&Dv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Dv,"__esModule",{value:!0});Dv.BrowserDatamatrixCodeReader=void 0;var PRe=Do(),BRe=vl(),MRe=function(t){RRe(e,t);function e(r,n){return t.call(this,new PRe.DataMatrixReader,r,n)||this}return e}(BRe.BrowserCodeReader);Dv.BrowserDatamatrixCodeReader=MRe});var gre=E(Rv=>{"use strict";h();p();var NRe=Rv&&Rv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Rv,"__esModule",{value:!0});Rv.BrowserMultiFormatReader=void 0;var pre=Do(),qRe=vl(),FRe=function(t){NRe(e,t);function e(r,n){var i=this,a=new pre.MultiFormatReader;return a.setHints(r),i=t.call(this,a,r,n)||this,i.reader=a,i}return Object.defineProperty(e.prototype,"possibleFormats",{set:function(r){this.hints.set(pre.DecodeHintType.POSSIBLE_FORMATS,r),this.reader.setHints(this.hints)},enumerable:!1,configurable:!0}),e.prototype.decodeBitmap=function(r){return this.reader.decodeWithState(r)},e.prototype.setHints=function(r){this.hints=r,this.reader.setHints(this.hints)},e}(qRe.BrowserCodeReader);Rv.BrowserMultiFormatReader=FRe});var yre=E(Pv=>{"use strict";h();p();var LRe=Pv&&Pv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Pv,"__esModule",{value:!0});Pv.BrowserPDF417Reader=void 0;var URe=Do(),kRe=vl(),jRe=function(t){LRe(e,t);function e(r,n){return t.call(this,new URe.PDF417Reader,r,n)||this}return e}(kRe.BrowserCodeReader);Pv.BrowserPDF417Reader=jRe});var vre=E(Bv=>{"use strict";h();p();var HRe=Bv&&Bv.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Bv,"__esModule",{value:!0});Bv.BrowserQRCodeReader=void 0;var KRe=Do(),VRe=vl(),GRe=function(t){HRe(e,t);function e(r,n){return t.call(this,new KRe.QRCodeReader,r,n)||this}return e}(VRe.BrowserCodeReader);Bv.BrowserQRCodeReader=GRe});var _re=E(mre=>{"use strict";h();p();Object.defineProperty(mre,"__esModule",{value:!0})});var xre=E(r5=>{"use strict";h();p();Object.defineProperty(r5,"__esModule",{value:!0});r5.BrowserCodeSvgWriter=void 0;var Wf=Do(),a0="http://www.w3.org/2000/svg",zRe=function(){function t(e){if(typeof e=="string"){var r=document.getElementById(e);if(!r)throw new Error("Could not find a Container element with '".concat(e,"'."));this.containerElement=r}else this.containerElement=e}return t.prototype.write=function(e,r,n,i){if(e.length===0)throw new Wf.IllegalArgumentException("Found empty contents");if(r<0||n<0)throw new Wf.IllegalArgumentException("Requested dimensions are too small: "+r+"x"+n);var a=i&&i.get(Wf.EncodeHintType.MARGIN)!==void 0?Number.parseInt(i.get(Wf.EncodeHintType.MARGIN).toString(),10):t.QUIET_ZONE_SIZE,o=this.encode(i,e);return this.renderResult(o,r,n,a)},t.prototype.createSVGElement=function(e,r){var n=document.createElementNS(t.SVG_NS,"svg");return n.setAttributeNS(a0,"width",r.toString()),n.setAttributeNS(a0,"height",e.toString()),n},t.prototype.createSvgPathPlaceholderElement=function(e,r){var n=document.createElementNS(t.SVG_NS,"path");return n.setAttributeNS(a0,"d","M0 0h".concat(e,"v").concat(r,"H0z")),n.setAttributeNS(a0,"fill","none"),n},t.prototype.createSvgRectElement=function(e,r,n,i){var a=document.createElementNS(t.SVG_NS,"rect");return a.setAttributeNS(a0,"x",e.toString()),a.setAttributeNS(a0,"y",r.toString()),a.setAttributeNS(a0,"height",n.toString()),a.setAttributeNS(a0,"width",i.toString()),a.setAttributeNS(a0,"fill","#000000"),a},t.prototype.encode=function(e,r){var n=Wf.QRCodeDecoderErrorCorrectionLevel.L;if(e&&e.get(Wf.EncodeHintType.ERROR_CORRECTION)!==void 0){var i=e.get(Wf.EncodeHintType.ERROR_CORRECTION).toString();n=Wf.QRCodeDecoderErrorCorrectionLevel.fromString(i)}var a=Wf.QRCodeEncoder.encode(r,n,e);return a},t.prototype.renderResult=function(e,r,n,i){var a=e.getMatrix();if(a===null)throw new Wf.IllegalStateException;var o=a.getWidth(),s=a.getHeight(),u=o+i*2,f=s+i*2,c=Math.max(r,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-o*g)/2),_=Math.floor((l-s*g)/2),w=this.createSVGElement(c,l),S=this.createSvgPathPlaceholderElement(r,n);w.appendChild(S),this.containerElement.appendChild(w);for(var I=0,O=_;I<s;I++,O+=g)for(var P=0,q=y;P<o;P++,q+=g)if(a.get(P,I)===1){var C=this.createSvgRectElement(q,O,g,g);w.appendChild(C)}return w},t.QUIET_ZONE_SIZE=4,t.SVG_NS="http://www.w3.org/2000/svg",t}();r5.BrowserCodeSvgWriter=zRe});var wre=E(n5=>{"use strict";h();p();Object.defineProperty(n5,"__esModule",{value:!0});n5.BrowserQRCodeSvgWriter=void 0;var Xf=Do(),bre="http://www.w3.org/2000/svg",YRe=function(){function t(){}return t.prototype.write=function(e,r,n,i){if(e.length===0)throw new Xf.IllegalArgumentException("Found empty contents");if(r<0||n<0)throw new Xf.IllegalArgumentException("Requested dimensions are too small: "+r+"x"+n);var a=Xf.QRCodeDecoderErrorCorrectionLevel.L,o=t.QUIET_ZONE_SIZE;if(i){if(i.get(Xf.EncodeHintType.ERROR_CORRECTION)!==void 0){var s=i.get(Xf.EncodeHintType.ERROR_CORRECTION).toString();a=Xf.QRCodeDecoderErrorCorrectionLevel.fromString(s)}i.get(Xf.EncodeHintType.MARGIN)!==void 0&&(o=Number.parseInt(i.get(Xf.EncodeHintType.MARGIN).toString(),10))}var u=Xf.QRCodeEncoder.encode(e,a,i);return this.renderResult(u,r,n,o)},t.prototype.writeToDom=function(e,r,n,i,a){if(typeof e=="string"){var o=document.querySelector(e);if(!o)throw new Error("Could no find the target HTML element.");e=o}var s=this.write(r,n,i,a);e instanceof HTMLElement&&e.appendChild(s)},t.prototype.renderResult=function(e,r,n,i){var a=e.getMatrix();if(a===null)throw new Xf.IllegalStateException;for(var o=a.getWidth(),s=a.getHeight(),u=o+i*2,f=s+i*2,c=Math.max(r,u),l=Math.max(n,f),g=Math.min(Math.floor(c/u),Math.floor(l/f)),y=Math.floor((c-o*g)/2),_=Math.floor((l-s*g)/2),w=this.createSVGElement(c,l),S=0,I=_;S<s;S++,I+=g)for(var O=0,P=y;O<o;O++,P+=g)if(a.get(O,S)===1){var q=this.createSvgRectElement(P,I,g,g);w.appendChild(q)}return w},t.prototype.createSVGElement=function(e,r){var n=document.createElementNS(bre,"svg"),i=e.toString(),a=r.toString();return n.setAttribute("height",a),n.setAttribute("width",i),n.setAttribute("viewBox","0 0 "+i+" "+a),n},t.prototype.createSvgRectElement=function(e,r,n,i){var a=document.createElementNS(bre,"rect");return a.setAttribute("x",e.toString()),a.setAttribute("y",r.toString()),a.setAttribute("height",n.toString()),a.setAttribute("width",i.toString()),a.setAttribute("fill","#000000"),a},t.QUIET_ZONE_SIZE=4,t}();n5.BrowserQRCodeSvgWriter=YRe});var Ere=E(Ur=>{"use strict";h();p();var WRe=Ur&&Ur.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ro=Ur&&Ur.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&WRe(e,t,r)};Object.defineProperty(Ur,"__esModule",{value:!0});Ur.BarcodeFormat=void 0;var XRe=Do();Object.defineProperty(Ur,"BarcodeFormat",{enumerable:!0,get:function(){return XRe.BarcodeFormat}});Ro(jB(),Ur);Ro(are(),Ur);Ro(sre(),Ur);Ro(dre(),Ur);Ro(lre(),Ur);Ro(vl(),Ur);Ro(hre(),Ur);Ro(gre(),Ur);Ro(yre(),Ur);Ro(vre(),Ur);Ro(_re(),Ur);Ro(xre(),Ur);Ro(wre(),Ur)});var a5=E(i5=>{"use strict";h();p();Object.defineProperty(i5,"__esModule",{value:!0});i5.DataItem=void 0;var KB=class{constructor(e,r){this.setTag=n=>{this.tag=n},this.clearTag=()=>{this.tag=void 0},this.getTag=()=>this.tag,this.getData=()=>this.data,this.data=e,this.tag=r}};i5.DataItem=KB});var Ire=E((Sre,o5)=>{"use strict";h();p();(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof o5<"u"&&o5.exports?o5.exports=e():t.CBOR=e()})(Sre,function(){let{DataItem:t}=a5();var e=function(){function r(d){this.$hex=d}r.prototype={length:function(){return this.$hex.length/2},toString:function(d){if(!d||d==="hex"||d===16)return this.$hex;if(d==="utf-8"){for(var m="",x=0;x<this.$hex.length;x+=2)m+="%"+this.$hex.substring(x,x+2);return decodeURIComponent(m)}if(d==="latin"){for(var m=[],x=0;x<this.$hex.length;x+=2)m.push(parseInt(this.$hex.substring(x,x+2),16));return String.fromCharCode.apply(String,m)}throw new Error("Unrecognised format: "+d)}},r.fromLatinString=function(d){for(var m="",x=0;x<d.length;x++){var D=d.charCodeAt(x).toString(16);D.length===1&&(D="0"+D),m+=D}return new r(m)},r.fromUtf8String=function(d){for(var m=encodeURIComponent(d),x="",D=0;D<m.length;D++)if(m.charAt(D)==="%")x+=m.substring(D+1,D+3),D+=2;else{var M=m.charCodeAt(D).toString(16);M.length<2&&(M="0"+M),x+=M}return new r(x)};var n=[],i={},a=function(d){return function(){throw new Error(d+" not implemented")}};function o(){}o.prototype={peekByte:a("peekByte"),readByte:a("readByte"),readChunk:a("readChunk"),readFloat16:function(){var d=this.readUint16(),m=(d&32767)>>10,x=d&1023,D=d&32768;if(m===31)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-25)*(1024+x):Math.pow(2,-24)*x;return D?-M:M},readFloat32:function(){var d=this.readUint32(),m=(d&2147483647)>>23,x=d&8388607,D=d&2147483648;if(m===255)return x===0?D?-1/0:1/0:NaN;var M=m?Math.pow(2,m-23-127)*(8388608+x):Math.pow(2,-23-126)*x;return D?-M:M},readFloat64:function(){var d=this.readUint32(),m=this.readUint32(),x=d>>20&2047,D=(d&1048575)*4294967296+m,M=d&2147483648;if(x===2047)return D===0?M?-1/0:1/0:NaN;var oe=x?Math.pow(2,x-52-1023)*(4503599627370496+D):Math.pow(2,-52-1022)*D;return M?-oe:oe},readUint16:function(){return this.readByte()*256+this.readByte()},readUint32:function(){return this.readUint16()*65536+this.readUint16()},readUint64:function(){return this.readUint32()*4294967296+this.readUint32()}};function s(){}s.prototype={writeByte:a("writeByte"),result:a("result"),writeFloat16:a("writeFloat16"),writeFloat32:a("writeFloat32"),writeFloat64:a("writeFloat64"),writeUint16:function(d){this.writeByte(d>>8&255),this.writeByte(d&255)},writeUint32:function(d){this.writeUint16(d>>16&65535),this.writeUint16(d&65535)},writeUint64:function(d){if(d>=9007199254740992||d<=-9007199254740992)throw new Error("Cannot encode Uint64 of: "+d+" magnitude to big (floating point errors)");this.writeUint32(Math.floor(d/4294967296)),this.writeUint32(d%4294967296)},writeString:a("writeString"),canWriteBinary:function(d){return!1},writeBinary:a("writeChunk")};function u(d){var m=d.readByte(),x=m>>5,D=m&31;return{type:x,value:D}}function f(d,m){var x=d.value;if(x<24)return x;if(x==24)return m.readByte();if(x==25)return m.readUint16();if(x==26)return m.readUint32();if(x==27)return m.readUint64();if(x==31)return null;a("Additional info: "+x)()}function c(d,m,x){x.writeByte(d<<5|m)}function l(d,m,x){var D=d<<5;m<24?x.writeByte(D|m):m<256?(x.writeByte(D|24),x.writeByte(m)):m<65536?(x.writeByte(D|25),x.writeUint16(m)):m<4294967296?(x.writeByte(D|26),x.writeUint32(m)):(x.writeByte(D|27),x.writeUint64(m))}var g=new Error;function y(d){var m=u(d);switch(m.type){case 0:return f(m,d);case 1:return-1-f(m,d);case 2:return d.readChunk(f(m,d));case 3:var x=d.readChunk(f(m,d));return x.toString("utf-8");case 4:case 5:var D=f(m,d),R=[];if(D!==null){m.type===5&&(D*=2);for(var M=0;M<D;M++)R[M]=y(d)}else for(var oe;(oe=y(d))!==g;)R.push(oe);if(m.type===5){for(var L={},M=0;M<R.length;M+=2)L[R[M]]=R[M+1];return L}else return R;case 6:var b=f(m,d),A=i[b],R=y(d);return A?A(R):R;case 7:if(m.value===25)return d.readFloat16();if(m.value===26)return d.readFloat32();if(m.value===27)return d.readFloat64();switch(f(m,d)){case 20:return!1;case 21:return!0;case 22:return null;case 23:return;case null:return g;default:throw new Error("Unknown fixed value: "+m.value)}default:throw new Error("Unsupported header: "+JSON.stringify(m))}throw new Error("not implemented yet")}function _(d,m){for(var x=0;x<n.length;x++){var D=n[x].fn(d);if(D!==void 0)return l(6,n[x].tag,m),_(D,m)}if(d&&typeof d.toCBOR=="function"&&(d=d.toCBOR()),d===!1)l(7,20,m);else if(d===!0)l(7,21,m);else if(d===null)l(7,22,m);else if(d===void 0)l(7,23,m);else if(typeof d=="number")Math.floor(d)===d&&d<9007199254740992&&d>-9007199254740992?d<0?l(1,-1-d,m):l(0,d,m):(c(7,27,m),m.writeFloat64(d));else if(typeof d=="string")m.writeString(d,function(oe){l(3,oe,m)});else if(m.canWriteBinary(d))m.writeBinary(d,function(oe){l(2,oe,m)});else if(typeof d=="object")if(I.config.useToJSON&&typeof d.toJSON=="function"&&(d=d.toJSON()),Array.isArray(d)){l(4,d.length,m);for(var x=0;x<d.length;x++)_(d[x],m)}else{var M=Object.keys(d);l(5,M.length,m);for(var x=0;x<M.length;x++){let L=parseInt(M[x]);isNaN(L)?(_(M[x],m),_(d[M[x]],m)):(_(L,m),_(d[M[x]],m))}}else throw new Error("CBOR encoding not supported: "+d)}var w=[],S=[],I={config:{useToJSON:!0},addWriter:function(d,m){typeof d=="string"?S.push(function(x){if(d===x)return m(x)}):S.push(d)},addReader:function(d,m){typeof d=="string"?w.push(function(x,D){if(d===D)return m(x,D)}):w.push(d)},encode:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return _(d,M),M.result()}throw new Error("Unsupported output format: "+m)},encodeDataItem:function(d,m){for(var x=0;x<S.length;x++){var D=S[x],M=D(m);if(M)return d.getTag()!==void 0?(_(d,M),M.result()):(_(d.getData(),M),M.result())}throw new Error("Unsupported output format: "+m)},decode:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M)return y(M)}throw new Error("Unsupported input format: "+m)},decodeToDataItem:function(d,m){for(var x=0;x<w.length;x++){var D=w[x],M=D(d,m);if(M){let oe=y(M);return oe instanceof t?oe:new t(oe)}}throw new Error("Unsupported input format: "+m)},addSemanticEncode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return n.push({tag:d,fn:m}),this},addSemanticDecode:function(d,m){if(typeof d!="number"||d%1!==0||d<0)throw new Error("Tag must be a positive integer");return i[d]=m,this},Reader:o,Writer:s};function O(d){this.buffer=d,this.pos=0}O.prototype=Object.create(o.prototype),O.prototype.peekByte=function(){return this.buffer[this.pos]},O.prototype.readByte=function(){return this.buffer[this.pos++]},O.prototype.readUint16=function(){var d=this.buffer.readUInt16BE(this.pos);return this.pos+=2,d},O.prototype.readUint32=function(){var d=this.buffer.readUInt32BE(this.pos);return this.pos+=4,d},O.prototype.readFloat32=function(){var d=this.buffer.readFloatBE(this.pos);return this.pos+=4,d},O.prototype.readFloat64=function(){var d=this.buffer.readDoubleBE(this.pos);return this.pos+=8,d},O.prototype.readChunk=function(d){var m=v.Buffer.alloc(d);return this.buffer.copy(m,0,this.pos,this.pos+=d),m};function P(d){this.byteLength=0,this.defaultBufferLength=16384,this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0,this.completeBuffers=[],this.stringFormat=d}P.prototype=Object.create(s.prototype),P.prototype.writeByte=function(d){this.latestBuffer[this.latestBufferOffset++]=d,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0),this.byteLength++},P.prototype.writeFloat32=function(d){var m=v.Buffer.alloc(4);m.writeFloatBE(d,0),this.writeBuffer(m)},P.prototype.writeFloat64=function(d){var m=v.Buffer.alloc(8);m.writeDoubleBE(d,0),this.writeBuffer(m)},P.prototype.writeString=function(d,m){var x=v.Buffer.from(d,"utf-8");m(x.length),this.writeBuffer(x)},P.prototype.canWriteBinary=function(d){return d instanceof v.Buffer},P.prototype.writeBinary=function(d,m){m(d.length),this.writeBuffer(d)},P.prototype.writeBuffer=function(d){if(!(d instanceof v.Buffer))throw new TypeError("BufferWriter only accepts Buffers");this.latestBufferOffset?this.latestBuffer.length-this.latestBufferOffset>=d.length?(d.copy(this.latestBuffer,this.latestBufferOffset),this.latestBufferOffset+=d.length,this.latestBufferOffset>=this.latestBuffer.length&&(this.completeBuffers.push(this.latestBuffer),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0)):(this.completeBuffers.push(this.latestBuffer.slice(0,this.latestBufferOffset)),this.completeBuffers.push(d),this.latestBuffer=v.Buffer.alloc(this.defaultBufferLength),this.latestBufferOffset=0):this.completeBuffers.push(d),this.byteLength+=d.length},P.prototype.result=function(){for(var d=v.Buffer.alloc(this.byteLength),m=0,x=0;x<this.completeBuffers.length;x++){var D=this.completeBuffers[x];D.copy(d,m,0,D.length),m+=D.length}return this.latestBufferOffset&&this.latestBuffer.copy(d,m,0,this.latestBufferOffset),this.stringFormat?d.toString(this.stringFormat):d},typeof v.Buffer=="function"&&(I.addReader(function(d,m){if(d instanceof v.Buffer)return new O(d);if(m==="hex"||m==="base64"){var x=v.Buffer.from(d,m);return new O(x)}}),I.addWriter(function(d){if(!d||d==="buffer")return new P;if(d==="hex"||d==="base64")return new P(d)}));function q(d){this.hex=d,this.pos=0}q.prototype=Object.create(o.prototype),q.prototype.peekByte=function(){var d=this.hex.substring(this.pos,2);return parseInt(d,16)},q.prototype.readByte=function(){var d=this.hex.substring(this.pos,this.pos+2);return this.pos+=2,parseInt(d,16)},q.prototype.readChunk=function(d){var m=this.hex.substring(this.pos,this.pos+d*2);return this.pos+=d*2,typeof v.Buffer=="function"?v.Buffer.from(m,"hex"):new r(m)};function C(d){this.$hex="",this.finalFormat=d||"hex"}return C.prototype=Object.create(s.prototype),C.prototype.writeByte=function(d){if(d<0||d>255)throw new Error("Byte value out of range: "+d);var m=d.toString(16);m.length==1&&(m="0"+m),this.$hex+=m},C.prototype.canWriteBinary=function(d){return d instanceof r||typeof v.Buffer=="function"&&d instanceof v.Buffer},C.prototype.writeBinary=function(d,m){if(d instanceof r)m(d.length()),this.$hex+=d.$hex;else if(typeof v.Buffer=="function"&&d instanceof v.Buffer)m(d.length),this.$hex+=d.toString("hex");else throw new TypeError("HexWriter only accepts BinaryHex or Buffers")},C.prototype.result=function(){return this.finalFormat==="buffer"&&typeof v.Buffer=="function"?v.Buffer.from(this.$hex,"hex"):new r(this.$hex).toString(this.finalFormat)},C.prototype.writeString=function(d,m){var x=r.fromUtf8String(d);m(x.length()),this.$hex+=x.$hex},I.addReader(function(d,m){if(d instanceof r||d.$hex)return new q(d.$hex);if(m==="hex")return new q(d)}),I.addWriter(function(d){if(d==="hex")return new C}),I}();return e.addSemanticEncode(0,function(r){if(r instanceof Date)return r.toISOString()}).addSemanticDecode(0,function(r){return new Date(r)}).addSemanticDecode(1,function(r){return new Date(r)}),e})});var Po=E(ea=>{"use strict";h();p();Object.defineProperty(ea,"__esModule",{value:!0});ea.DataItem=ea.addWriter=ea.addReader=ea.addSemanticEncode=ea.addSemanticDecode=ea.decodeToDataItem=ea.encodeDataItem=void 0;var Mv=Ire();Object.defineProperty(ea,"encodeDataItem",{enumerable:!0,get:function(){return Mv.encodeDataItem}});Object.defineProperty(ea,"decodeToDataItem",{enumerable:!0,get:function(){return Mv.decodeToDataItem}});Object.defineProperty(ea,"addSemanticDecode",{enumerable:!0,get:function(){return Mv.addSemanticDecode}});Object.defineProperty(ea,"addSemanticEncode",{enumerable:!0,get:function(){return Mv.addSemanticEncode}});Object.defineProperty(ea,"addReader",{enumerable:!0,get:function(){return Mv.addReader}});Object.defineProperty(ea,"addWriter",{enumerable:!0,get:function(){return Mv.addWriter}});var JRe=a5();Object.defineProperty(ea,"DataItem",{enumerable:!0,get:function(){return JRe.DataItem}})});var VB=E(u5=>{"use strict";h();p();Object.defineProperty(u5,"__esModule",{value:!0});u5.patchTags=void 0;var s5=Po(),Tre=[],$Re=t=>{t.forEach(e=>{Tre.find(r=>r===e)||(s5.addSemanticEncode(e,r=>{if(r instanceof s5.DataItem&&r.getTag()===e)return r.getData()}),s5.addSemanticDecode(e,r=>new s5.DataItem(r,e)),Tre.push(e))})};u5.patchTags=$Re});var Bo=E(Nv=>{"use strict";h();p();Object.defineProperty(Nv,"__esModule",{value:!0});Nv.RegistryTypes=Nv.RegistryType=void 0;var tu=class{constructor(e,r){this.type=e,this.tag=r,this.getTag=()=>this.tag,this.getType=()=>this.type}};Nv.RegistryType=tu;Nv.RegistryTypes={UUID:new tu("uuid",37),BYTES:new tu("bytes",void 0),CRYPTO_HDKEY:new tu("crypto-hdkey",303),CRYPTO_KEYPATH:new tu("crypto-keypath",304),CRYPTO_COIN_INFO:new tu("crypto-coin-info",305),CRYPTO_ECKEY:new tu("crypto-eckey",306),CRYPTO_OUTPUT:new tu("crypto-output",308),CRYPTO_PSBT:new tu("crypto-psbt",310),CRYPTO_ACCOUNT:new tu("crypto-account",311)}});var f5=E(sp=>{"use strict";h();p();Object.defineProperty(sp,"__esModule",{value:!0});sp.ScriptExpressions=sp.ScriptExpression=void 0;var eo=class{constructor(e,r){this.tag=e,this.expression=r,this.getTag=()=>this.tag,this.getExpression=()=>this.expression}};sp.ScriptExpression=eo;eo.fromTag=t=>Object.values(sp.ScriptExpressions).find(r=>r.getTag()===t);sp.ScriptExpressions={SCRIPT_HASH:new eo(400,"sh"),WITNESS_SCRIPT_HASH:new eo(401,"wsh"),PUBLIC_KEY:new eo(402,"pk"),PUBLIC_KEY_HASH:new eo(403,"pkh"),WITNESS_PUBLIC_KEY_HASH:new eo(404,"wpkh"),COMBO:new eo(405,"combo"),MULTISIG:new eo(406,"multi"),SORTED_MULTISIG:new eo(407,"sorted"),ADDRESS:new eo(307,"addr"),RAW_SCRIPT:new eo(408,"raw")}});var Are=E(Cre=>{"use strict";h();p();Object.defineProperty(Cre,"__esModule",{value:!0});var ZRe=VB(),QRe=Bo(),ePe=f5(),tPe=Object.values(QRe.RegistryTypes).filter(t=>!!t.getTag()).map(t=>t.getTag()),rPe=Object.values(ePe.ScriptExpressions).map(t=>t.getTag());ZRe.patchTags(tPe.concat(rPe))});var $u=E(c5=>{"use strict";h();p();Object.defineProperty(c5,"__esModule",{value:!0});c5.RegistryItem=void 0;var Ore=gn(),nPe=Po(),GB=class{constructor(){this.toCBOR=()=>{if(this.toDataItem()===void 0)throw new Error(`#[ur-registry][RegistryItem][fn.toCBOR]: registry ${this.getRegistryType()}'s method toDataItem returns undefined`);return nPe.encodeDataItem(this.toDataItem())},this.toUR=()=>new Ore.UR(this.toCBOR(),this.getRegistryType().getType()),this.toUREncoder=(e,r,n)=>{let i=this.toUR();return new Ore.UREncoder(i,e,r,n)}}};c5.RegistryItem=GB});var zB=E(Jf=>{"use strict";h();p();Object.defineProperty(Jf,"__esModule",{value:!0});Jf.CryptoCoinInfo=Jf.Network=Jf.Type=void 0;var Dre=Po(),iPe=$u(),aPe=Bo(),qv;(function(t){t.type="1",t.network="2"})(qv||(qv={}));var Rre;(function(t){t[t.bitcoin=0]="bitcoin"})(Rre=Jf.Type||(Jf.Type={}));var Pre;(function(t){t[t.mainnet=0]="mainnet",t[t.testnet=1]="testnet"})(Pre=Jf.Network||(Jf.Network={}));var up=class extends iPe.RegistryItem{constructor(e,r){super(),this.type=e,this.network=r,this.getRegistryType=()=>aPe.RegistryTypes.CRYPTO_COIN_INFO,this.getType=()=>this.type||Rre.bitcoin,this.getNetwork=()=>this.network||Pre.mainnet,this.toDataItem=()=>{let n={};return this.type&&(n[qv.type]=this.type),this.network&&(n[qv.network]=this.network),new Dre.DataItem(n)}}};Jf.CryptoCoinInfo=up;up.fromDataItem=t=>{let e=t.getData(),r=e[qv.type],n=e[qv.network];return new up(r,n)};up.fromCBOR=t=>{let e=Dre.decodeToDataItem(t);return up.fromDataItem(e)}});var YB=E(d5=>{"use strict";h();p();Object.defineProperty(d5,"__esModule",{value:!0});d5.PathComponent=void 0;var Fv=class{constructor(e){if(this.getIndex=()=>this.index,this.isWildcard=()=>this.wildcard,this.isHardened=()=>this.hardened,this.index=e.index,this.hardened=e.hardened,this.index!==void 0?this.wildcard=!1:this.wildcard=!0,this.index&&(this.index&Fv.HARDENED_BIT)!==0)throw new Error(`#[ur-registry][PathComponent][fn.constructor]: Invalid index ${this.index} - most significant bit cannot be set`)}};d5.PathComponent=Fv;Fv.HARDENED_BIT=2147483648});var WB=E(l5=>{"use strict";h();p();Object.defineProperty(l5,"__esModule",{value:!0});l5.CryptoKeypath=void 0;var Mre=Po(),Bre=YB(),oPe=$u(),sPe=Bo(),ml;(function(t){t[t.components=1]="components",t[t.source_fingerprint=2]="source_fingerprint",t[t.depth=3]="depth"})(ml||(ml={}));var fp=class extends oPe.RegistryItem{constructor(e=[],r,n){super(),this.components=e,this.sourceFingerprint=r,this.depth=n,this.getRegistryType=()=>sPe.RegistryTypes.CRYPTO_KEYPATH,this.getPath=()=>this.components.length===0?void 0:this.components.map(a=>`${a.isWildcard()?"*":a.getIndex()}${a.isHardened()?"'":""}`).join("/"),this.getComponents=()=>this.components,this.getSourceFingerprint=()=>this.sourceFingerprint,this.getDepth=()=>this.depth,this.toDataItem=()=>{let i={},a=[];return this.components&&this.components.forEach(o=>{o.isWildcard()?a.push([]):a.push(o.getIndex()),a.push(!!o.isHardened())}),i[ml.components]=a,this.sourceFingerprint&&(i[ml.source_fingerprint]=this.sourceFingerprint.readUInt32BE(0)),this.depth!==void 0&&(i[ml.depth]=this.depth),new Mre.DataItem(i)}}};l5.CryptoKeypath=fp;fp.fromDataItem=t=>{let e=t.getData(),r=[],n=e[ml.components];if(n)for(let s=0;s<n.length;s+=2){let u=n[s+1],f=n[s];typeof f=="number"?r.push(new Bre.PathComponent({index:f,hardened:u})):r.push(new Bre.PathComponent({hardened:u}))}let i=e[ml.source_fingerprint],a;i&&(a=v.Buffer.alloc(4),a.writeUInt32BE(i,0));let o=e[ml.depth];return new fp(r,a,o)};fp.fromCBOR=t=>{let e=Mre.decodeToDataItem(t);return fp.fromDataItem(e)}});var p5=E(h5=>{"use strict";h();p();Object.defineProperty(h5,"__esModule",{value:!0});h5.CryptoHDKey=void 0;var uPe=Rp(),fPe=zB(),Nre=WB(),qre=Po(),cPe=$u(),dPe=Bo(),Vt;(function(t){t[t.is_master=1]="is_master",t[t.is_private=2]="is_private",t[t.key_data=3]="key_data",t[t.chain_code=4]="chain_code",t[t.use_info=5]="use_info",t[t.origin=6]="origin",t[t.children=7]="children",t[t.parent_fingerprint=8]="parent_fingerprint",t[t.name=9]="name",t[t.note=10]="note"})(Vt||(Vt={}));var cp=class extends cPe.RegistryItem{constructor(e){super(),this.getKey=()=>this.key,this.getChainCode=()=>this.chainCode,this.isMaster=()=>this.master,this.isPrivateKey=()=>!!this.privateKey,this.getUseInfo=()=>this.useInfo,this.getOrigin=()=>this.origin,this.getChildren=()=>this.children,this.getParentFingerprint=()=>this.parentFingerprint,this.getName=()=>this.name,this.getNote=()=>this.note,this.getBip32Key=()=>{let r,n,i,a=v.Buffer.alloc(4).fill(0);if(this.isMaster())r=v.Buffer.from("0488ADE4","hex"),n=0,i=0;else{n=this.getOrigin().getComponents().length||this.getOrigin().getDepth();let c=this.getOrigin().getComponents(),l=c[c.length-1];l&&(i=l.isHardened()?l.getIndex()+2147483648:l.getIndex(),a=this.getParentFingerprint()),this.isPrivateKey()?r=v.Buffer.from("0488ADE4","hex"):r=v.Buffer.from("0488B21E","hex")}let o=v.Buffer.alloc(1);o.writeUInt8(n,0);let s=v.Buffer.alloc(4);s.writeUInt32BE(i,0);let u=this.getChainCode(),f=this.getKey();return uPe.encode(v.Buffer.concat([r,o,a,s,u,f]))},this.getRegistryType=()=>dPe.RegistryTypes.CRYPTO_HDKEY,this.setupMasterKey=r=>{this.master=!0,this.key=r.key,this.chainCode=r.chainCode},this.setupDeriveKey=r=>{this.master=!1,this.privateKey=r.isPrivateKey,this.key=r.key,this.chainCode=r.chainCode,this.useInfo=r.useInfo,this.origin=r.origin,this.children=r.children,this.parentFingerprint=r.parentFingerprint,this.name=r.name,this.note=r.note},this.toDataItem=()=>{let r={};if(this.master)r[Vt.is_master]=!0,r[Vt.key_data]=this.key,r[Vt.chain_code]=this.chainCode;else{if(this.privateKey!==void 0&&(r[Vt.is_private]=this.privateKey),r[Vt.key_data]=this.key,this.chainCode&&(r[Vt.chain_code]=this.chainCode),this.useInfo){let n=this.useInfo.toDataItem();n.setTag(this.useInfo.getRegistryType().getTag()),r[Vt.use_info]=n}if(this.origin){let n=this.origin.toDataItem();n.setTag(this.origin.getRegistryType().getTag()),r[Vt.origin]=n}if(this.children){let n=this.children.toDataItem();n.setTag(this.children.getRegistryType().getTag()),r[Vt.children]=n}this.parentFingerprint&&(r[Vt.parent_fingerprint]=this.parentFingerprint.readUInt32BE(0)),this.name!==void 0&&(r[Vt.name]=this.name),this.note!==void 0&&(r[Vt.note]=this.note)}return new qre.DataItem(r)},e.isMaster?this.setupMasterKey(e):this.setupDeriveKey(e)}};h5.CryptoHDKey=cp;cp.fromDataItem=t=>{let e=t.getData(),r=!!e[Vt.is_master],n=e[Vt.is_private],i=e[Vt.key_data],a=e[Vt.chain_code],o=e[Vt.use_info]?fPe.CryptoCoinInfo.fromDataItem(e[Vt.use_info]):void 0,s=e[Vt.origin]?Nre.CryptoKeypath.fromDataItem(e[Vt.origin]):void 0,u=e[Vt.children]?Nre.CryptoKeypath.fromDataItem(e[Vt.children]):void 0,f=e[Vt.parent_fingerprint],c;f&&(c=v.Buffer.alloc(4),c.writeUInt32BE(f,0));let l=e[Vt.name],g=e[Vt.note];return new cp({isMaster:r,isPrivateKey:n,key:i,chainCode:a,useInfo:o,origin:s,children:u,parentFingerprint:c,name:l,note:g})};cp.fromCBOR=t=>{let e=qre.decodeToDataItem(t);return cp.fromDataItem(e)}});var y5=E(g5=>{"use strict";h();p();Object.defineProperty(g5,"__esModule",{value:!0});g5.CryptoECKey=void 0;var Fre=Po(),lPe=$u(),hPe=Bo(),_l;(function(t){t[t.curve=1]="curve",t[t.private=2]="private",t[t.data=3]="data"})(_l||(_l={}));var dp=class extends lPe.RegistryItem{constructor(e){super(),this.getCurve=()=>this.curve||0,this.isPrivateKey=()=>this.privateKey||!1,this.getData=()=>this.data,this.getRegistryType=()=>hPe.RegistryTypes.CRYPTO_ECKEY,this.toDataItem=()=>{let r={};return this.curve&&(r[_l.curve]=this.curve),this.privateKey!==void 0&&(r[_l.private]=this.privateKey),r[_l.data]=this.data,new Fre.DataItem(r)},this.data=e.data,this.curve=e.curve,this.privateKey=e.privateKey}};g5.CryptoECKey=dp;dp.fromDataItem=t=>{let e=t.getData(),r=e[_l.curve],n=e[_l.private],i=e[_l.data];if(!i)throw new Error(`#[ur-registry][CryptoECKey][fn.fromDataItem]: decoded [dataItem][#data.data] is undefined: ${t}`);return new dp({data:i,curve:r,privateKey:n})};dp.fromCBOR=t=>{let e=Fre.decodeToDataItem(t);return dp.fromDataItem(e)}});var Ure=E(v5=>{"use strict";h();p();Object.defineProperty(v5,"__esModule",{value:!0});v5.Bytes=void 0;var Lre=Po(),pPe=$u(),gPe=Bo(),lp=class extends pPe.RegistryItem{constructor(e){super(),this.bytes=e,this.getRegistryType=()=>gPe.RegistryTypes.BYTES,this.getData=()=>this.bytes,this.toDataItem=()=>new Lre.DataItem(this.bytes)}};v5.Bytes=lp;lp.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][Bytes][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new lp(e)};lp.fromCBOR=t=>{let e=Lre.decodeToDataItem(t);return lp.fromDataItem(e)}});var XB=E(m5=>{"use strict";h();p();Object.defineProperty(m5,"__esModule",{value:!0});m5.MultiKey=void 0;var yPe=y5(),vPe=p5(),mPe=a5(),_Pe=$u(),kre=Bo(),Lv;(function(t){t[t.threshold=1]="threshold",t[t.keys=2]="keys"})(Lv||(Lv={}));var n3=class extends _Pe.RegistryItem{constructor(e,r,n){super(),this.threshold=e,this.ecKeys=r,this.hdKeys=n,this.getThreshold=()=>this.threshold,this.getEcKeys=()=>this.ecKeys,this.getHdKeys=()=>this.hdKeys,this.toDataItem=()=>{let i={};i[Lv.threshold]=this.threshold;let a=[...this.ecKeys,...this.hdKeys].map(o=>{let s=o.toDataItem();return s.setTag(o.getRegistryType().getTag()),s});return i[Lv.keys]=a,new mPe.DataItem(i)}}};m5.MultiKey=n3;n3.fromDataItem=t=>{let e=t.getData(),r=e[Lv.threshold],n=e[Lv.keys],i=[],a=[];return n.forEach(o=>{o.getTag()===kre.RegistryTypes.CRYPTO_HDKEY.getTag()?a.push(vPe.CryptoHDKey.fromDataItem(o)):o.getTag()===kre.RegistryTypes.CRYPTO_ECKEY.getTag()&&i.push(yPe.CryptoECKey.fromDataItem(o))}),new n3(r,i,a)}});var Kre=E(_5=>{"use strict";h();p();Object.defineProperty(_5,"__esModule",{value:!0});_5.CryptoOutput=void 0;var $B=y5(),ZB=p5(),QB=Po(),jre=XB(),xPe=$u(),Hre=Bo(),JB=f5(),o0=class extends xPe.RegistryItem{constructor(e,r){super(),this.scriptExpressions=e,this.cryptoKey=r,this.getRegistryType=()=>Hre.RegistryTypes.CRYPTO_OUTPUT,this.getCryptoKey=()=>this.cryptoKey,this.getHDKey=()=>{if(this.cryptoKey instanceof ZB.CryptoHDKey)return this.cryptoKey},this.getECKey=()=>{if(this.cryptoKey instanceof $B.CryptoECKey)return this.cryptoKey},this.getMultiKey=()=>{if(this.cryptoKey instanceof jre.MultiKey)return this.cryptoKey},this.getScriptExpressions=()=>this.scriptExpressions,this.toDataItem=()=>{let n=this.cryptoKey.toDataItem();return(this.cryptoKey instanceof $B.CryptoECKey||this.cryptoKey instanceof ZB.CryptoHDKey)&&n.setTag(this.cryptoKey.getRegistryType().getTag()),[...this.scriptExpressions].reverse().forEach(a=>{let o=a.getTag();n.getTag()===void 0?n.setTag(o):n=new QB.DataItem(n,o)}),n}}};_5.CryptoOutput=o0;o0.fromDataItem=t=>{let e=[],r=t;for(;;){let a=r.getTag()||void 0,o=JB.ScriptExpression.fromTag(a);if(o)if(e.push(o),r.getData()instanceof QB.DataItem)r=r.getData(),a=r.getTag();else break;else break}let n=e.length;if(n>0&&(e[n-1].getExpression()===JB.ScriptExpressions.MULTISIG.getExpression()||e[n-1].getExpression()===JB.ScriptExpressions.SORTED_MULTISIG.getExpression())){let a=jre.MultiKey.fromDataItem(r);return new o0(e,a)}if(r.getTag()===Hre.RegistryTypes.CRYPTO_HDKEY.getTag()){let a=ZB.CryptoHDKey.fromDataItem(r);return new o0(e,a)}else{let a=$B.CryptoECKey.fromDataItem(r);return new o0(e,a)}};o0.fromCBOR=t=>{let e=QB.decodeToDataItem(t);return o0.fromDataItem(e)}});var Gre=E(x5=>{"use strict";h();p();Object.defineProperty(x5,"__esModule",{value:!0});x5.CryptoPSBT=void 0;var Vre=Po(),bPe=$u(),wPe=Bo(),hp=class extends bPe.RegistryItem{constructor(e){super(),this.psbt=e,this.getRegistryType=()=>wPe.RegistryTypes.CRYPTO_PSBT,this.getPSBT=()=>this.psbt,this.toDataItem=()=>new Vre.DataItem(this.psbt)}};x5.CryptoPSBT=hp;hp.fromDataItem=t=>{let e=t.getData();if(!e)throw new Error(`#[ur-registry][CryptoPSBT][fn.fromDataItem]: decoded [dataItem][#data] is undefined: ${t}`);return new hp(e)};hp.fromCBOR=t=>{let e=Vre.decodeToDataItem(t);return hp.fromDataItem(e)}});var Yre=E(b5=>{"use strict";h();p();Object.defineProperty(b5,"__esModule",{value:!0});b5.CryptoAccount=void 0;var EPe=w5(),zre=Po(),SPe=$u(),IPe=Bo(),Uv;(function(t){t[t.masterFingerprint=1]="masterFingerprint",t[t.outputDescriptors=2]="outputDescriptors"})(Uv||(Uv={}));var pp=class extends SPe.RegistryItem{constructor(e,r){super(),this.masterFingerprint=e,this.outputDescriptors=r,this.getRegistryType=()=>IPe.RegistryTypes.CRYPTO_ACCOUNT,this.getMasterFingerprint=()=>this.masterFingerprint,this.getOutputDescriptors=()=>this.outputDescriptors,this.toDataItem=()=>{let n={};return this.masterFingerprint&&(n[Uv.masterFingerprint]=this.masterFingerprint.readUInt32BE(0)),this.outputDescriptors&&(n[Uv.outputDescriptors]=this.outputDescriptors.map(i=>i.toDataItem())),new zre.DataItem(n)}}};b5.CryptoAccount=pp;pp.fromDataItem=t=>{let e=t.getData(),r=v.Buffer.alloc(4),n=e[Uv.masterFingerprint];n&&r.writeUInt32BE(n,0);let a=e[Uv.outputDescriptors].map(o=>EPe.CryptoOutput.fromDataItem(o));return new pp(r,a)};pp.fromCBOR=t=>{let e=zre.decodeToDataItem(t);return pp.fromDataItem(e)}});var Wre=E(E5=>{"use strict";h();p();Object.defineProperty(E5,"__esModule",{value:!0});E5.URRegistryDecoder=void 0;var TPe=gn(),xl=w5(),bl=Bo(),eM=class extends TPe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let e=this.resultUR();switch(e.type){case bl.RegistryTypes.BYTES.getType():return xl.Bytes.fromCBOR(e.cbor);case bl.RegistryTypes.CRYPTO_HDKEY.getType():return xl.CryptoHDKey.fromCBOR(e.cbor);case bl.RegistryTypes.CRYPTO_KEYPATH.getType():return xl.CryptoKeypath.fromCBOR(e.cbor);case bl.RegistryTypes.CRYPTO_COIN_INFO.getType():return xl.CryptoCoinInfo.fromCBOR(e.cbor);case bl.RegistryTypes.CRYPTO_ECKEY.getType():return xl.CryptoECKey.fromCBOR(e.cbor);case bl.RegistryTypes.CRYPTO_OUTPUT.getType():return xl.CryptoOutput.fromCBOR(e.cbor);case bl.RegistryTypes.CRYPTO_PSBT.getType():return xl.CryptoPSBT.fromCBOR(e.cbor);case bl.RegistryTypes.CRYPTO_ACCOUNT.getType():return xl.CryptoAccount.fromCBOR(e.cbor);default:throw new Error(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${e.type} is not supported now`)}}}};E5.URRegistryDecoder=eM});var w5=E(Xe=>{"use strict";h();p();Object.defineProperty(Xe,"__esModule",{value:!0});Xe.extend=Xe.PathComponent=Xe.ScriptExpressions=Xe.MultiKey=Xe.CryptoPSBT=Xe.CryptoOutput=Xe.CryptoECKey=Xe.CryptoCoinInfoNetwork=Xe.CryptoCoinInfoType=Xe.CryptoCoinInfo=Xe.CryptoKeypath=Xe.CryptoHDKey=Xe.CryptoAccount=Xe.Bytes=Xe.URRegistryDecoder=Xe.RegistryItem=Xe.DataItem=void 0;Are();var Jre=p5();Object.defineProperty(Xe,"CryptoHDKey",{enumerable:!0,get:function(){return Jre.CryptoHDKey}});var $re=WB();Object.defineProperty(Xe,"CryptoKeypath",{enumerable:!0,get:function(){return $re.CryptoKeypath}});var jv=zB();Object.defineProperty(Xe,"CryptoCoinInfo",{enumerable:!0,get:function(){return jv.CryptoCoinInfo}});Object.defineProperty(Xe,"CryptoCoinInfoType",{enumerable:!0,get:function(){return jv.Type}});Object.defineProperty(Xe,"CryptoCoinInfoNetwork",{enumerable:!0,get:function(){return jv.Network}});var Zre=y5();Object.defineProperty(Xe,"CryptoECKey",{enumerable:!0,get:function(){return Zre.CryptoECKey}});var Qre=Ure();Object.defineProperty(Xe,"Bytes",{enumerable:!0,get:function(){return Qre.Bytes}});var ene=Kre();Object.defineProperty(Xe,"CryptoOutput",{enumerable:!0,get:function(){return ene.CryptoOutput}});var tne=Gre();Object.defineProperty(Xe,"CryptoPSBT",{enumerable:!0,get:function(){return tne.CryptoPSBT}});var rne=Yre();Object.defineProperty(Xe,"CryptoAccount",{enumerable:!0,get:function(){return rne.CryptoAccount}});var nne=Wre();Object.defineProperty(Xe,"URRegistryDecoder",{enumerable:!0,get:function(){return nne.URRegistryDecoder}});var ine=XB();Object.defineProperty(Xe,"MultiKey",{enumerable:!0,get:function(){return ine.MultiKey}});var ane=f5();Object.defineProperty(Xe,"ScriptExpressions",{enumerable:!0,get:function(){return ane.ScriptExpressions}});var one=YB();Object.defineProperty(Xe,"PathComponent",{enumerable:!0,get:function(){return one.PathComponent}});var Xre=Bo(),kv=Po(),CPe=Po();Object.defineProperty(Xe,"DataItem",{enumerable:!0,get:function(){return CPe.DataItem}});var APe=$u();Object.defineProperty(Xe,"RegistryItem",{enumerable:!0,get:function(){return APe.RegistryItem}});var OPe=VB(),DPe={URRegistryDecoder:nne.URRegistryDecoder,Bytes:Qre.Bytes,CryptoAccount:rne.CryptoAccount,CryptoHDKey:Jre.CryptoHDKey,CryptoKeypath:$re.CryptoKeypath,CryptoCoinInfo:jv.CryptoCoinInfo,CryptoCoinInfoType:jv.Type,CryptoCoinInfoNetwork:jv.Network,CryptoECKey:Zre.CryptoECKey,CryptoOutput:ene.CryptoOutput,CryptoPSBT:tne.CryptoPSBT,MultiKey:ine.MultiKey,ScriptExpressions:ane.ScriptExpressions,PathComponent:one.PathComponent},RPe={addReader:kv.addReader,addSemanticDecode:kv.addSemanticDecode,addSemanticEncode:kv.addSemanticEncode,addWriter:kv.addWriter,patchTags:OPe.patchTags},PPe={RegistryTypes:Xre.RegistryTypes,RegistryType:Xre.RegistryType,decodeToDataItem:kv.decodeToDataItem,encodeDataItem:kv.encodeDataItem,cbor:RPe};Xe.extend=PPe;Xe.default=DPe});function i3(){if(!S5&&(S5=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!S5))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return S5(BPe)}var S5,BPe,tM=fe(()=>{h();p();BPe=new Uint8Array(16)});var sne,une=fe(()=>{h();p();sne=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function MPe(t){return typeof t=="string"&&sne.test(t)}var wl,a3=fe(()=>{h();p();une();wl=MPe});function NPe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Zn[t[e+0]]+Zn[t[e+1]]+Zn[t[e+2]]+Zn[t[e+3]]+"-"+Zn[t[e+4]]+Zn[t[e+5]]+"-"+Zn[t[e+6]]+Zn[t[e+7]]+"-"+Zn[t[e+8]]+Zn[t[e+9]]+"-"+Zn[t[e+10]]+Zn[t[e+11]]+Zn[t[e+12]]+Zn[t[e+13]]+Zn[t[e+14]]+Zn[t[e+15]]).toLowerCase();if(!wl(r))throw TypeError("Stringified UUID is invalid");return r}var Zn,I5,El,o3=fe(()=>{h();p();a3();Zn=[];for(I5=0;I5<256;++I5)Zn.push((I5+256).toString(16).substr(1));El=NPe});function qPe(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var a=t.node||fne,o=t.clockseq!==void 0?t.clockseq:rM;if(a==null||o==null){var s=t.random||(t.rng||i3)();a==null&&(a=fne=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),o==null&&(o=rM=(s[6]<<8|s[7])&16383)}var u=t.msecs!==void 0?t.msecs:Date.now(),f=t.nsecs!==void 0?t.nsecs:iM+1,c=u-nM+(f-iM)/1e4;if(c<0&&t.clockseq===void 0&&(o=o+1&16383),(c<0||u>nM)&&t.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");nM=u,iM=f,rM=o,u+=122192928e5;var l=((u&268435455)*1e4+f)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;var g=u/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var y=0;y<6;++y)i[n+y]=a[y];return e||El(i)}var fne,rM,nM,iM,cne,dne=fe(()=>{h();p();tM();o3();nM=0,iM=0;cne=qPe});function FPe(t){if(!wl(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var T5,aM=fe(()=>{h();p();a3();T5=FPe});function LPe(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function C5(t,e,r){function n(i,a,o,s){if(typeof i=="string"&&(i=LPe(i)),typeof a=="string"&&(a=T5(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+i.length);if(u.set(a),u.set(i,a.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,o){s=s||0;for(var f=0;f<16;++f)o[s+f]=u[f];return o}return El(u)}try{n.name=t}catch{}return n.DNS=UPe,n.URL=kPe,n}var UPe,kPe,oM=fe(()=>{h();p();o3();aM();UPe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",kPe="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function jPe(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return HPe(KPe(VPe(t),t.length*8))}function HPe(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var a=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(a>>>4&15)+n.charAt(a&15),16);e.push(o)}return e}function lne(t){return(t+64>>>9<<4)+14+1}function KPe(t,e){t[e>>5]|=128<<e%32,t[lne(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,a=271733878,o=0;o<t.length;o+=16){var s=r,u=n,f=i,c=a;r=ta(r,n,i,a,t[o],7,-680876936),a=ta(a,r,n,i,t[o+1],12,-389564586),i=ta(i,a,r,n,t[o+2],17,606105819),n=ta(n,i,a,r,t[o+3],22,-1044525330),r=ta(r,n,i,a,t[o+4],7,-176418897),a=ta(a,r,n,i,t[o+5],12,1200080426),i=ta(i,a,r,n,t[o+6],17,-1473231341),n=ta(n,i,a,r,t[o+7],22,-45705983),r=ta(r,n,i,a,t[o+8],7,1770035416),a=ta(a,r,n,i,t[o+9],12,-1958414417),i=ta(i,a,r,n,t[o+10],17,-42063),n=ta(n,i,a,r,t[o+11],22,-1990404162),r=ta(r,n,i,a,t[o+12],7,1804603682),a=ta(a,r,n,i,t[o+13],12,-40341101),i=ta(i,a,r,n,t[o+14],17,-1502002290),n=ta(n,i,a,r,t[o+15],22,1236535329),r=ra(r,n,i,a,t[o+1],5,-165796510),a=ra(a,r,n,i,t[o+6],9,-1069501632),i=ra(i,a,r,n,t[o+11],14,643717713),n=ra(n,i,a,r,t[o],20,-373897302),r=ra(r,n,i,a,t[o+5],5,-701558691),a=ra(a,r,n,i,t[o+10],9,38016083),i=ra(i,a,r,n,t[o+15],14,-660478335),n=ra(n,i,a,r,t[o+4],20,-405537848),r=ra(r,n,i,a,t[o+9],5,568446438),a=ra(a,r,n,i,t[o+14],9,-1019803690),i=ra(i,a,r,n,t[o+3],14,-187363961),n=ra(n,i,a,r,t[o+8],20,1163531501),r=ra(r,n,i,a,t[o+13],5,-1444681467),a=ra(a,r,n,i,t[o+2],9,-51403784),i=ra(i,a,r,n,t[o+7],14,1735328473),n=ra(n,i,a,r,t[o+12],20,-1926607734),r=na(r,n,i,a,t[o+5],4,-378558),a=na(a,r,n,i,t[o+8],11,-2022574463),i=na(i,a,r,n,t[o+11],16,1839030562),n=na(n,i,a,r,t[o+14],23,-35309556),r=na(r,n,i,a,t[o+1],4,-1530992060),a=na(a,r,n,i,t[o+4],11,1272893353),i=na(i,a,r,n,t[o+7],16,-155497632),n=na(n,i,a,r,t[o+10],23,-1094730640),r=na(r,n,i,a,t[o+13],4,681279174),a=na(a,r,n,i,t[o],11,-358537222),i=na(i,a,r,n,t[o+3],16,-722521979),n=na(n,i,a,r,t[o+6],23,76029189),r=na(r,n,i,a,t[o+9],4,-640364487),a=na(a,r,n,i,t[o+12],11,-421815835),i=na(i,a,r,n,t[o+15],16,530742520),n=na(n,i,a,r,t[o+2],23,-995338651),r=ia(r,n,i,a,t[o],6,-198630844),a=ia(a,r,n,i,t[o+7],10,1126891415),i=ia(i,a,r,n,t[o+14],15,-1416354905),n=ia(n,i,a,r,t[o+5],21,-57434055),r=ia(r,n,i,a,t[o+12],6,1700485571),a=ia(a,r,n,i,t[o+3],10,-1894986606),i=ia(i,a,r,n,t[o+10],15,-1051523),n=ia(n,i,a,r,t[o+1],21,-2054922799),r=ia(r,n,i,a,t[o+8],6,1873313359),a=ia(a,r,n,i,t[o+15],10,-30611744),i=ia(i,a,r,n,t[o+6],15,-1560198380),n=ia(n,i,a,r,t[o+13],21,1309151649),r=ia(r,n,i,a,t[o+4],6,-145523070),a=ia(a,r,n,i,t[o+11],10,-1120210379),i=ia(i,a,r,n,t[o+2],15,718787259),n=ia(n,i,a,r,t[o+9],21,-343485551),r=Sl(r,s),n=Sl(n,u),i=Sl(i,f),a=Sl(a,c)}return[r,n,i,a]}function VPe(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(lne(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Sl(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function GPe(t,e){return t<<e|t>>>32-e}function A5(t,e,r,n,i,a){return Sl(GPe(Sl(Sl(e,t),Sl(n,a)),i),r)}function ta(t,e,r,n,i,a,o){return A5(e&r|~e&n,t,e,i,a,o)}function ra(t,e,r,n,i,a,o){return A5(e&n|r&~n,t,e,i,a,o)}function na(t,e,r,n,i,a,o){return A5(e^r^n,t,e,i,a,o)}function ia(t,e,r,n,i,a,o){return A5(r^(e|~n),t,e,i,a,o)}var hne,pne=fe(()=>{h();p();hne=jPe});var zPe,gne,yne=fe(()=>{h();p();oM();pne();zPe=C5("v3",48,hne),gne=zPe});function YPe(t,e,r){t=t||{};var n=t.random||(t.rng||i3)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return El(n)}var vne,mne=fe(()=>{h();p();tM();o3();vne=YPe});function WPe(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function sM(t,e){return t<<e|t>>>32-e}function XPe(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var a=t.length/4+2,o=Math.ceil(a/16),s=new Array(o),u=0;u<o;++u){for(var f=new Uint32Array(16),c=0;c<16;++c)f[c]=t[u*64+c*4]<<24|t[u*64+c*4+1]<<16|t[u*64+c*4+2]<<8|t[u*64+c*4+3];s[u]=f}s[o-1][14]=(t.length-1)*8/Math.pow(2,32),s[o-1][14]=Math.floor(s[o-1][14]),s[o-1][15]=(t.length-1)*8&4294967295;for(var l=0;l<o;++l){for(var g=new Uint32Array(80),y=0;y<16;++y)g[y]=s[l][y];for(var _=16;_<80;++_)g[_]=sM(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var w=r[0],S=r[1],I=r[2],O=r[3],P=r[4],q=0;q<80;++q){var C=Math.floor(q/20),d=sM(w,5)+WPe(C,S,I,O)+P+e[C]+g[q]>>>0;P=O,O=I,I=sM(S,30)>>>0,S=w,w=d}r[0]=r[0]+w>>>0,r[1]=r[1]+S>>>0,r[2]=r[2]+I>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+P>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var _ne,xne=fe(()=>{h();p();_ne=XPe});var JPe,bne,wne=fe(()=>{h();p();oM();xne();JPe=C5("v5",80,_ne),bne=JPe});var Ene,Sne=fe(()=>{h();p();Ene="00000000-0000-0000-0000-000000000000"});function $Pe(t){if(!wl(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var Ine,Tne=fe(()=>{h();p();a3();Ine=$Pe});var Cne={};v0(Cne,{NIL:()=>Ene,parse:()=>T5,stringify:()=>El,v1:()=>cne,v3:()=>gne,v4:()=>vne,v5:()=>bne,validate:()=>wl,version:()=>Ine});var Ane=fe(()=>{h();p();dne();yne();mne();wne();Sne();Tne();a3();o3();aM()});var Dne=E((One,uM)=>{h();p();(function(t,e){"use strict";function r(L,b){if(!L)throw new Error(b||"Assertion failed")}function n(L,b){L.super_=b;var A=function(){};A.prototype=b.prototype,L.prototype=new A,L.prototype.constructor=L}function i(L,b,A){if(i.isBN(L))return L;this.negative=0,this.words=null,this.length=0,this.red=null,L!==null&&((b==="le"||b==="be")&&(A=b,b=10),this._init(L||0,b||10,A||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var a;try{a=ua().Buffer}catch{}i.isBN=function(b){return b instanceof i?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===i.wordSize&&Array.isArray(b.words)},i.max=function(b,A){return b.cmp(A)>0?b:A},i.min=function(b,A){return b.cmp(A)<0?b:A},i.prototype._init=function(b,A,R){if(typeof b=="number")return this._initNumber(b,A,R);if(typeof b=="object")return this._initArray(b,A,R);A==="hex"&&(A=16),r(A===(A|0)&&A>=2&&A<=36),b=b.toString().replace(/\s+/g,"");var U=0;b[0]==="-"&&U++,A===16?this._parseHex(b,U):this._parseBase(b,A,U),b[0]==="-"&&(this.negative=1),this._strip(),R==="le"&&this._initArray(this.toArray(),A,R)},i.prototype._initNumber=function(b,A,R){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(r(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),R==="le"&&this._initArray(this.toArray(),A,R)},i.prototype._initArray=function(b,A,R){if(r(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var U=0;U<this.length;U++)this.words[U]=0;var V,Y,$=0;if(R==="be")for(U=b.length-1,V=0;U>=0;U-=3)Y=b[U]|b[U-1]<<8|b[U-2]<<16,this.words[V]|=Y<<$&67108863,this.words[V+1]=Y>>>26-$&67108863,$+=24,$>=26&&($-=26,V++);else if(R==="le")for(U=0,V=0;U<b.length;U+=3)Y=b[U]|b[U+1]<<8|b[U+2]<<16,this.words[V]|=Y<<$&67108863,this.words[V+1]=Y>>>26-$&67108863,$+=24,$>=26&&($-=26,V++);return this._strip()};function o(L,b,A){for(var R=0,U=Math.min(L.length,A),V=0,Y=b;Y<U;Y++){var $=L.charCodeAt(Y)-48;R<<=4;var K;$>=49&&$<=54?K=$-49+10:$>=17&&$<=22?K=$-17+10:K=$,R|=K,V|=K}return r(!(V&240),"Invalid character in "+L),R}i.prototype._parseHex=function(b,A){this.length=Math.ceil((b.length-A)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var U,V,Y=0;for(R=b.length-6,U=0;R>=A;R-=6)V=o(b,R,R+6),this.words[U]|=V<<Y&67108863,this.words[U+1]|=V>>>26-Y&4194303,Y+=24,Y>=26&&(Y-=26,U++);R+6!==A&&(V=o(b,A,R+6),this.words[U]|=V<<Y&67108863,this.words[U+1]|=V>>>26-Y&4194303),this._strip()};function s(L,b,A,R){for(var U=0,V=0,Y=Math.min(L.length,A),$=b;$<Y;$++){var K=L.charCodeAt($)-48;U*=R,K>=49?V=K-49+10:K>=17?V=K-17+10:V=K,r(K>=0&&V<R,"Invalid character"),U+=V}return U}i.prototype._parseBase=function(b,A,R){this.words=[0],this.length=1;for(var U=0,V=1;V<=67108863;V*=A)U++;U--,V=V/A|0;for(var Y=b.length-R,$=Y%U,K=Math.min(Y,Y-$)+R,T=0,G=R;G<K;G+=U)T=s(b,G,G+U,A),this.imuln(V),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T);if($!==0){var ye=1;for(T=s(b,G,b.length,A),G=0;G<$;G++)ye*=A;this.imuln(ye),this.words[0]+T<67108864?this.words[0]+=T:this._iaddn(T)}},i.prototype.copy=function(b){b.words=new Array(this.length);for(var A=0;A<this.length;A++)b.words[A]=this.words[A];b.length=this.length,b.negative=this.negative,b.red=this.red};function u(L,b){L.words=b.words,L.length=b.length,L.negative=b.negative,L.red=b.red}if(i.prototype._move=function(b){u(b,this)},i.prototype.clone=function(){var b=new i(null);return this.copy(b),b},i.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{i.prototype.inspect=f}else i.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(b,A){b=b||10,A=A|0||1;var R;if(b===16||b==="hex"){R="";for(var U=0,V=0,Y=0;Y<this.length;Y++){var $=this.words[Y],K=(($<<U|V)&16777215).toString(16);V=$>>>24-U&16777215,V!==0||Y!==this.length-1?R=c[6-K.length]+K+R:R=K+R,U+=2,U>=26&&(U-=26,Y--)}for(V!==0&&(R=V.toString(16)+R);R.length%A!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}if(b===(b|0)&&b>=2&&b<=36){var T=l[b],G=g[b];R="";var ye=this.clone();for(ye.negative=0;!ye.isZero();){var xe=ye.modrn(G).toString(b);ye=ye.idivn(G),ye.isZero()?R=xe+R:R=c[T-xe.length]+xe+R}for(this.isZero()&&(R="0"+R);R.length%A!==0;)R="0"+R;return this.negative!==0&&(R="-"+R),R}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},i.prototype.toJSON=function(){return this.toString(16,2)},a&&(i.prototype.toBuffer=function(b,A){return this.toArrayLike(a,b,A)}),i.prototype.toArray=function(b,A){return this.toArrayLike(Array,b,A)};var y=function(b,A){return b.allocUnsafe?b.allocUnsafe(A):new b(A)};i.prototype.toArrayLike=function(b,A,R){this._strip();var U=this.byteLength(),V=R||Math.max(1,U);r(U<=V,"byte array longer than desired length"),r(V>0,"Requested array length <= 0");var Y=y(b,V),$=A==="le"?"LE":"BE";return this["_toArrayLike"+$](Y,U),Y},i.prototype._toArrayLikeLE=function(b,A){for(var R=0,U=0,V=0,Y=0;V<this.length;V++){var $=this.words[V]<<Y|U;b[R++]=$&255,R<b.length&&(b[R++]=$>>8&255),R<b.length&&(b[R++]=$>>16&255),Y===6?(R<b.length&&(b[R++]=$>>24&255),U=0,Y=0):(U=$>>>24,Y+=2)}if(R<b.length)for(b[R++]=U;R<b.length;)b[R++]=0},i.prototype._toArrayLikeBE=function(b,A){for(var R=b.length-1,U=0,V=0,Y=0;V<this.length;V++){var $=this.words[V]<<Y|U;b[R--]=$&255,R>=0&&(b[R--]=$>>8&255),R>=0&&(b[R--]=$>>16&255),Y===6?(R>=0&&(b[R--]=$>>24&255),U=0,Y=0):(U=$>>>24,Y+=2)}if(R>=0)for(b[R--]=U;R>=0;)b[R--]=0},Math.clz32?i.prototype._countBits=function(b){return 32-Math.clz32(b)}:i.prototype._countBits=function(b){var A=b,R=0;return A>=4096&&(R+=13,A>>>=13),A>=64&&(R+=7,A>>>=7),A>=8&&(R+=4,A>>>=4),A>=2&&(R+=2,A>>>=2),R+A},i.prototype._zeroBits=function(b){if(b===0)return 26;var A=b,R=0;return(A&8191)===0&&(R+=13,A>>>=13),(A&127)===0&&(R+=7,A>>>=7),(A&15)===0&&(R+=4,A>>>=4),(A&3)===0&&(R+=2,A>>>=2),(A&1)===0&&R++,R},i.prototype.bitLength=function(){var b=this.words[this.length-1],A=this._countBits(b);return(this.length-1)*26+A};function _(L){for(var b=new Array(L.bitLength()),A=0;A<b.length;A++){var R=A/26|0,U=A%26;b[A]=L.words[R]>>>U&1}return b}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,A=0;A<this.length;A++){var R=this._zeroBits(this.words[A]);if(b+=R,R!==26)break}return b},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},i.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var A=0;A<b.length;A++)this.words[A]=this.words[A]|b.words[A];return this._strip()},i.prototype.ior=function(b){return r((this.negative|b.negative)===0),this.iuor(b)},i.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},i.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},i.prototype.iuand=function(b){var A;this.length>b.length?A=b:A=this;for(var R=0;R<A.length;R++)this.words[R]=this.words[R]&b.words[R];return this.length=A.length,this._strip()},i.prototype.iand=function(b){return r((this.negative|b.negative)===0),this.iuand(b)},i.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},i.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},i.prototype.iuxor=function(b){var A,R;this.length>b.length?(A=this,R=b):(A=b,R=this);for(var U=0;U<R.length;U++)this.words[U]=A.words[U]^R.words[U];if(this!==A)for(;U<A.length;U++)this.words[U]=A.words[U];return this.length=A.length,this._strip()},i.prototype.ixor=function(b){return r((this.negative|b.negative)===0),this.iuxor(b)},i.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},i.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},i.prototype.inotn=function(b){r(typeof b=="number"&&b>=0);var A=Math.ceil(b/26)|0,R=b%26;this._expand(A),R>0&&A--;for(var U=0;U<A;U++)this.words[U]=~this.words[U]&67108863;return R>0&&(this.words[U]=~this.words[U]&67108863>>26-R),this._strip()},i.prototype.notn=function(b){return this.clone().inotn(b)},i.prototype.setn=function(b,A){r(typeof b=="number"&&b>=0);var R=b/26|0,U=b%26;return this._expand(R+1),A?this.words[R]=this.words[R]|1<<U:this.words[R]=this.words[R]&~(1<<U),this._strip()},i.prototype.iadd=function(b){var A;if(this.negative!==0&&b.negative===0)return this.negative=0,A=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,A=this.isub(b),b.negative=1,A._normSign();var R,U;this.length>b.length?(R=this,U=b):(R=b,U=this);for(var V=0,Y=0;Y<U.length;Y++)A=(R.words[Y]|0)+(U.words[Y]|0)+V,this.words[Y]=A&67108863,V=A>>>26;for(;V!==0&&Y<R.length;Y++)A=(R.words[Y]|0)+V,this.words[Y]=A&67108863,V=A>>>26;if(this.length=R.length,V!==0)this.words[this.length]=V,this.length++;else if(R!==this)for(;Y<R.length;Y++)this.words[Y]=R.words[Y];return this},i.prototype.add=function(b){var A;return b.negative!==0&&this.negative===0?(b.negative=0,A=this.sub(b),b.negative^=1,A):b.negative===0&&this.negative!==0?(this.negative=0,A=b.sub(this),this.negative=1,A):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},i.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var A=this.iadd(b);return b.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var R=this.cmp(b);if(R===0)return this.negative=0,this.length=1,this.words[0]=0,this;var U,V;R>0?(U=this,V=b):(U=b,V=this);for(var Y=0,$=0;$<V.length;$++)A=(U.words[$]|0)-(V.words[$]|0)+Y,Y=A>>26,this.words[$]=A&67108863;for(;Y!==0&&$<U.length;$++)A=(U.words[$]|0)+Y,Y=A>>26,this.words[$]=A&67108863;if(Y===0&&$<U.length&&U!==this)for(;$<U.length;$++)this.words[$]=U.words[$];return this.length=Math.max(this.length,$),U!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(b){return this.clone().isub(b)};function w(L,b,A){A.negative=b.negative^L.negative;var R=L.length+b.length|0;A.length=R,R=R-1|0;var U=L.words[0]|0,V=b.words[0]|0,Y=U*V,$=Y&67108863,K=Y/67108864|0;A.words[0]=$;for(var T=1;T<R;T++){for(var G=K>>>26,ye=K&67108863,xe=Math.min(T,b.length-1),ve=Math.max(0,T-L.length+1);ve<=xe;ve++){var qe=T-ve|0;U=L.words[qe]|0,V=b.words[ve]|0,Y=U*V+ye,G+=Y/67108864|0,ye=Y&67108863}A.words[T]=ye|0,K=G|0}return K!==0?A.words[T]=K|0:A.length--,A._strip()}var S=function(b,A,R){var U=b.words,V=A.words,Y=R.words,$=0,K,T,G,ye=U[0]|0,xe=ye&8191,ve=ye>>>13,qe=U[1]|0,Je=qe&8191,it=qe>>>13,cn=U[2]|0,$e=cn&8191,pt=cn>>>13,Dl=U[3]|0,fr=Dl&8191,cr=Dl>>>13,wp=U[4]|0,rr=wp&8191,dr=wp>>>13,iu=U[5]|0,nr=iu&8191,Gt=iu>>>13,c0=U[6]|0,me=c0&8191,bt=c0>>>13,B=U[7]|0,F=B&8191,z=B>>>13,X=U[8]|0,Q=X&8191,J=X>>>13,ce=U[9]|0,re=ce&8191,ue=ce>>>13,Re=V[0]|0,Ce=Re&8191,_e=Re>>>13,Ze=V[1]|0,ke=Ze&8191,We=Ze>>>13,au=V[2]|0,zt=au&8191,ir=au>>>13,y3=V[3]|0,ar=y3&8191,vr=y3>>>13,Jv=V[4]|0,br=Jv&8191,Yt=Jv>>>13,$v=V[5]|0,mr=$v&8191,wr=$v>>>13,Rl=V[6]|0,Er=Rl&8191,Wt=Rl>>>13,v3=V[7]|0,Xt=v3&8191,lr=v3>>>13,m3=V[8]|0,or=m3&8191,Sr=m3>>>13,Pl=V[9]|0,Ir=Pl&8191,sr=Pl>>>13;R.negative=b.negative^A.negative,R.length=19,K=Math.imul(xe,Ce),T=Math.imul(xe,_e),T=T+Math.imul(ve,Ce)|0,G=Math.imul(ve,_e);var Zv=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(Zv>>>26)|0,Zv&=67108863,K=Math.imul(Je,Ce),T=Math.imul(Je,_e),T=T+Math.imul(it,Ce)|0,G=Math.imul(it,_e),K=K+Math.imul(xe,ke)|0,T=T+Math.imul(xe,We)|0,T=T+Math.imul(ve,ke)|0,G=G+Math.imul(ve,We)|0;var Qv=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(Qv>>>26)|0,Qv&=67108863,K=Math.imul($e,Ce),T=Math.imul($e,_e),T=T+Math.imul(pt,Ce)|0,G=Math.imul(pt,_e),K=K+Math.imul(Je,ke)|0,T=T+Math.imul(Je,We)|0,T=T+Math.imul(it,ke)|0,G=G+Math.imul(it,We)|0,K=K+Math.imul(xe,zt)|0,T=T+Math.imul(xe,ir)|0,T=T+Math.imul(ve,zt)|0,G=G+Math.imul(ve,ir)|0;var d0=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(d0>>>26)|0,d0&=67108863,K=Math.imul(fr,Ce),T=Math.imul(fr,_e),T=T+Math.imul(cr,Ce)|0,G=Math.imul(cr,_e),K=K+Math.imul($e,ke)|0,T=T+Math.imul($e,We)|0,T=T+Math.imul(pt,ke)|0,G=G+Math.imul(pt,We)|0,K=K+Math.imul(Je,zt)|0,T=T+Math.imul(Je,ir)|0,T=T+Math.imul(it,zt)|0,G=G+Math.imul(it,ir)|0,K=K+Math.imul(xe,ar)|0,T=T+Math.imul(xe,vr)|0,T=T+Math.imul(ve,ar)|0,G=G+Math.imul(ve,vr)|0;var em=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(em>>>26)|0,em&=67108863,K=Math.imul(rr,Ce),T=Math.imul(rr,_e),T=T+Math.imul(dr,Ce)|0,G=Math.imul(dr,_e),K=K+Math.imul(fr,ke)|0,T=T+Math.imul(fr,We)|0,T=T+Math.imul(cr,ke)|0,G=G+Math.imul(cr,We)|0,K=K+Math.imul($e,zt)|0,T=T+Math.imul($e,ir)|0,T=T+Math.imul(pt,zt)|0,G=G+Math.imul(pt,ir)|0,K=K+Math.imul(Je,ar)|0,T=T+Math.imul(Je,vr)|0,T=T+Math.imul(it,ar)|0,G=G+Math.imul(it,vr)|0,K=K+Math.imul(xe,br)|0,T=T+Math.imul(xe,Yt)|0,T=T+Math.imul(ve,br)|0,G=G+Math.imul(ve,Yt)|0;var l0=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(l0>>>26)|0,l0&=67108863,K=Math.imul(nr,Ce),T=Math.imul(nr,_e),T=T+Math.imul(Gt,Ce)|0,G=Math.imul(Gt,_e),K=K+Math.imul(rr,ke)|0,T=T+Math.imul(rr,We)|0,T=T+Math.imul(dr,ke)|0,G=G+Math.imul(dr,We)|0,K=K+Math.imul(fr,zt)|0,T=T+Math.imul(fr,ir)|0,T=T+Math.imul(cr,zt)|0,G=G+Math.imul(cr,ir)|0,K=K+Math.imul($e,ar)|0,T=T+Math.imul($e,vr)|0,T=T+Math.imul(pt,ar)|0,G=G+Math.imul(pt,vr)|0,K=K+Math.imul(Je,br)|0,T=T+Math.imul(Je,Yt)|0,T=T+Math.imul(it,br)|0,G=G+Math.imul(it,Yt)|0,K=K+Math.imul(xe,mr)|0,T=T+Math.imul(xe,wr)|0,T=T+Math.imul(ve,mr)|0,G=G+Math.imul(ve,wr)|0;var tm=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(tm>>>26)|0,tm&=67108863,K=Math.imul(me,Ce),T=Math.imul(me,_e),T=T+Math.imul(bt,Ce)|0,G=Math.imul(bt,_e),K=K+Math.imul(nr,ke)|0,T=T+Math.imul(nr,We)|0,T=T+Math.imul(Gt,ke)|0,G=G+Math.imul(Gt,We)|0,K=K+Math.imul(rr,zt)|0,T=T+Math.imul(rr,ir)|0,T=T+Math.imul(dr,zt)|0,G=G+Math.imul(dr,ir)|0,K=K+Math.imul(fr,ar)|0,T=T+Math.imul(fr,vr)|0,T=T+Math.imul(cr,ar)|0,G=G+Math.imul(cr,vr)|0,K=K+Math.imul($e,br)|0,T=T+Math.imul($e,Yt)|0,T=T+Math.imul(pt,br)|0,G=G+Math.imul(pt,Yt)|0,K=K+Math.imul(Je,mr)|0,T=T+Math.imul(Je,wr)|0,T=T+Math.imul(it,mr)|0,G=G+Math.imul(it,wr)|0,K=K+Math.imul(xe,Er)|0,T=T+Math.imul(xe,Wt)|0,T=T+Math.imul(ve,Er)|0,G=G+Math.imul(ve,Wt)|0;var h0=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(h0>>>26)|0,h0&=67108863,K=Math.imul(F,Ce),T=Math.imul(F,_e),T=T+Math.imul(z,Ce)|0,G=Math.imul(z,_e),K=K+Math.imul(me,ke)|0,T=T+Math.imul(me,We)|0,T=T+Math.imul(bt,ke)|0,G=G+Math.imul(bt,We)|0,K=K+Math.imul(nr,zt)|0,T=T+Math.imul(nr,ir)|0,T=T+Math.imul(Gt,zt)|0,G=G+Math.imul(Gt,ir)|0,K=K+Math.imul(rr,ar)|0,T=T+Math.imul(rr,vr)|0,T=T+Math.imul(dr,ar)|0,G=G+Math.imul(dr,vr)|0,K=K+Math.imul(fr,br)|0,T=T+Math.imul(fr,Yt)|0,T=T+Math.imul(cr,br)|0,G=G+Math.imul(cr,Yt)|0,K=K+Math.imul($e,mr)|0,T=T+Math.imul($e,wr)|0,T=T+Math.imul(pt,mr)|0,G=G+Math.imul(pt,wr)|0,K=K+Math.imul(Je,Er)|0,T=T+Math.imul(Je,Wt)|0,T=T+Math.imul(it,Er)|0,G=G+Math.imul(it,Wt)|0,K=K+Math.imul(xe,Xt)|0,T=T+Math.imul(xe,lr)|0,T=T+Math.imul(ve,Xt)|0,G=G+Math.imul(ve,lr)|0;var rm=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(rm>>>26)|0,rm&=67108863,K=Math.imul(Q,Ce),T=Math.imul(Q,_e),T=T+Math.imul(J,Ce)|0,G=Math.imul(J,_e),K=K+Math.imul(F,ke)|0,T=T+Math.imul(F,We)|0,T=T+Math.imul(z,ke)|0,G=G+Math.imul(z,We)|0,K=K+Math.imul(me,zt)|0,T=T+Math.imul(me,ir)|0,T=T+Math.imul(bt,zt)|0,G=G+Math.imul(bt,ir)|0,K=K+Math.imul(nr,ar)|0,T=T+Math.imul(nr,vr)|0,T=T+Math.imul(Gt,ar)|0,G=G+Math.imul(Gt,vr)|0,K=K+Math.imul(rr,br)|0,T=T+Math.imul(rr,Yt)|0,T=T+Math.imul(dr,br)|0,G=G+Math.imul(dr,Yt)|0,K=K+Math.imul(fr,mr)|0,T=T+Math.imul(fr,wr)|0,T=T+Math.imul(cr,mr)|0,G=G+Math.imul(cr,wr)|0,K=K+Math.imul($e,Er)|0,T=T+Math.imul($e,Wt)|0,T=T+Math.imul(pt,Er)|0,G=G+Math.imul(pt,Wt)|0,K=K+Math.imul(Je,Xt)|0,T=T+Math.imul(Je,lr)|0,T=T+Math.imul(it,Xt)|0,G=G+Math.imul(it,lr)|0,K=K+Math.imul(xe,or)|0,T=T+Math.imul(xe,Sr)|0,T=T+Math.imul(ve,or)|0,G=G+Math.imul(ve,Sr)|0;var p0=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(p0>>>26)|0,p0&=67108863,K=Math.imul(re,Ce),T=Math.imul(re,_e),T=T+Math.imul(ue,Ce)|0,G=Math.imul(ue,_e),K=K+Math.imul(Q,ke)|0,T=T+Math.imul(Q,We)|0,T=T+Math.imul(J,ke)|0,G=G+Math.imul(J,We)|0,K=K+Math.imul(F,zt)|0,T=T+Math.imul(F,ir)|0,T=T+Math.imul(z,zt)|0,G=G+Math.imul(z,ir)|0,K=K+Math.imul(me,ar)|0,T=T+Math.imul(me,vr)|0,T=T+Math.imul(bt,ar)|0,G=G+Math.imul(bt,vr)|0,K=K+Math.imul(nr,br)|0,T=T+Math.imul(nr,Yt)|0,T=T+Math.imul(Gt,br)|0,G=G+Math.imul(Gt,Yt)|0,K=K+Math.imul(rr,mr)|0,T=T+Math.imul(rr,wr)|0,T=T+Math.imul(dr,mr)|0,G=G+Math.imul(dr,wr)|0,K=K+Math.imul(fr,Er)|0,T=T+Math.imul(fr,Wt)|0,T=T+Math.imul(cr,Er)|0,G=G+Math.imul(cr,Wt)|0,K=K+Math.imul($e,Xt)|0,T=T+Math.imul($e,lr)|0,T=T+Math.imul(pt,Xt)|0,G=G+Math.imul(pt,lr)|0,K=K+Math.imul(Je,or)|0,T=T+Math.imul(Je,Sr)|0,T=T+Math.imul(it,or)|0,G=G+Math.imul(it,Sr)|0,K=K+Math.imul(xe,Ir)|0,T=T+Math.imul(xe,sr)|0,T=T+Math.imul(ve,Ir)|0,G=G+Math.imul(ve,sr)|0;var nm=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(nm>>>26)|0,nm&=67108863,K=Math.imul(re,ke),T=Math.imul(re,We),T=T+Math.imul(ue,ke)|0,G=Math.imul(ue,We),K=K+Math.imul(Q,zt)|0,T=T+Math.imul(Q,ir)|0,T=T+Math.imul(J,zt)|0,G=G+Math.imul(J,ir)|0,K=K+Math.imul(F,ar)|0,T=T+Math.imul(F,vr)|0,T=T+Math.imul(z,ar)|0,G=G+Math.imul(z,vr)|0,K=K+Math.imul(me,br)|0,T=T+Math.imul(me,Yt)|0,T=T+Math.imul(bt,br)|0,G=G+Math.imul(bt,Yt)|0,K=K+Math.imul(nr,mr)|0,T=T+Math.imul(nr,wr)|0,T=T+Math.imul(Gt,mr)|0,G=G+Math.imul(Gt,wr)|0,K=K+Math.imul(rr,Er)|0,T=T+Math.imul(rr,Wt)|0,T=T+Math.imul(dr,Er)|0,G=G+Math.imul(dr,Wt)|0,K=K+Math.imul(fr,Xt)|0,T=T+Math.imul(fr,lr)|0,T=T+Math.imul(cr,Xt)|0,G=G+Math.imul(cr,lr)|0,K=K+Math.imul($e,or)|0,T=T+Math.imul($e,Sr)|0,T=T+Math.imul(pt,or)|0,G=G+Math.imul(pt,Sr)|0,K=K+Math.imul(Je,Ir)|0,T=T+Math.imul(Je,sr)|0,T=T+Math.imul(it,Ir)|0,G=G+Math.imul(it,sr)|0;var Ep=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(Ep>>>26)|0,Ep&=67108863,K=Math.imul(re,zt),T=Math.imul(re,ir),T=T+Math.imul(ue,zt)|0,G=Math.imul(ue,ir),K=K+Math.imul(Q,ar)|0,T=T+Math.imul(Q,vr)|0,T=T+Math.imul(J,ar)|0,G=G+Math.imul(J,vr)|0,K=K+Math.imul(F,br)|0,T=T+Math.imul(F,Yt)|0,T=T+Math.imul(z,br)|0,G=G+Math.imul(z,Yt)|0,K=K+Math.imul(me,mr)|0,T=T+Math.imul(me,wr)|0,T=T+Math.imul(bt,mr)|0,G=G+Math.imul(bt,wr)|0,K=K+Math.imul(nr,Er)|0,T=T+Math.imul(nr,Wt)|0,T=T+Math.imul(Gt,Er)|0,G=G+Math.imul(Gt,Wt)|0,K=K+Math.imul(rr,Xt)|0,T=T+Math.imul(rr,lr)|0,T=T+Math.imul(dr,Xt)|0,G=G+Math.imul(dr,lr)|0,K=K+Math.imul(fr,or)|0,T=T+Math.imul(fr,Sr)|0,T=T+Math.imul(cr,or)|0,G=G+Math.imul(cr,Sr)|0,K=K+Math.imul($e,Ir)|0,T=T+Math.imul($e,sr)|0,T=T+Math.imul(pt,Ir)|0,G=G+Math.imul(pt,sr)|0;var im=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(im>>>26)|0,im&=67108863,K=Math.imul(re,ar),T=Math.imul(re,vr),T=T+Math.imul(ue,ar)|0,G=Math.imul(ue,vr),K=K+Math.imul(Q,br)|0,T=T+Math.imul(Q,Yt)|0,T=T+Math.imul(J,br)|0,G=G+Math.imul(J,Yt)|0,K=K+Math.imul(F,mr)|0,T=T+Math.imul(F,wr)|0,T=T+Math.imul(z,mr)|0,G=G+Math.imul(z,wr)|0,K=K+Math.imul(me,Er)|0,T=T+Math.imul(me,Wt)|0,T=T+Math.imul(bt,Er)|0,G=G+Math.imul(bt,Wt)|0,K=K+Math.imul(nr,Xt)|0,T=T+Math.imul(nr,lr)|0,T=T+Math.imul(Gt,Xt)|0,G=G+Math.imul(Gt,lr)|0,K=K+Math.imul(rr,or)|0,T=T+Math.imul(rr,Sr)|0,T=T+Math.imul(dr,or)|0,G=G+Math.imul(dr,Sr)|0,K=K+Math.imul(fr,Ir)|0,T=T+Math.imul(fr,sr)|0,T=T+Math.imul(cr,Ir)|0,G=G+Math.imul(cr,sr)|0;var g0=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(g0>>>26)|0,g0&=67108863,K=Math.imul(re,br),T=Math.imul(re,Yt),T=T+Math.imul(ue,br)|0,G=Math.imul(ue,Yt),K=K+Math.imul(Q,mr)|0,T=T+Math.imul(Q,wr)|0,T=T+Math.imul(J,mr)|0,G=G+Math.imul(J,wr)|0,K=K+Math.imul(F,Er)|0,T=T+Math.imul(F,Wt)|0,T=T+Math.imul(z,Er)|0,G=G+Math.imul(z,Wt)|0,K=K+Math.imul(me,Xt)|0,T=T+Math.imul(me,lr)|0,T=T+Math.imul(bt,Xt)|0,G=G+Math.imul(bt,lr)|0,K=K+Math.imul(nr,or)|0,T=T+Math.imul(nr,Sr)|0,T=T+Math.imul(Gt,or)|0,G=G+Math.imul(Gt,Sr)|0,K=K+Math.imul(rr,Ir)|0,T=T+Math.imul(rr,sr)|0,T=T+Math.imul(dr,Ir)|0,G=G+Math.imul(dr,sr)|0;var Sp=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(Sp>>>26)|0,Sp&=67108863,K=Math.imul(re,mr),T=Math.imul(re,wr),T=T+Math.imul(ue,mr)|0,G=Math.imul(ue,wr),K=K+Math.imul(Q,Er)|0,T=T+Math.imul(Q,Wt)|0,T=T+Math.imul(J,Er)|0,G=G+Math.imul(J,Wt)|0,K=K+Math.imul(F,Xt)|0,T=T+Math.imul(F,lr)|0,T=T+Math.imul(z,Xt)|0,G=G+Math.imul(z,lr)|0,K=K+Math.imul(me,or)|0,T=T+Math.imul(me,Sr)|0,T=T+Math.imul(bt,or)|0,G=G+Math.imul(bt,Sr)|0,K=K+Math.imul(nr,Ir)|0,T=T+Math.imul(nr,sr)|0,T=T+Math.imul(Gt,Ir)|0,G=G+Math.imul(Gt,sr)|0;var Ip=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(Ip>>>26)|0,Ip&=67108863,K=Math.imul(re,Er),T=Math.imul(re,Wt),T=T+Math.imul(ue,Er)|0,G=Math.imul(ue,Wt),K=K+Math.imul(Q,Xt)|0,T=T+Math.imul(Q,lr)|0,T=T+Math.imul(J,Xt)|0,G=G+Math.imul(J,lr)|0,K=K+Math.imul(F,or)|0,T=T+Math.imul(F,Sr)|0,T=T+Math.imul(z,or)|0,G=G+Math.imul(z,Sr)|0,K=K+Math.imul(me,Ir)|0,T=T+Math.imul(me,sr)|0,T=T+Math.imul(bt,Ir)|0,G=G+Math.imul(bt,sr)|0;var Tp=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(Tp>>>26)|0,Tp&=67108863,K=Math.imul(re,Xt),T=Math.imul(re,lr),T=T+Math.imul(ue,Xt)|0,G=Math.imul(ue,lr),K=K+Math.imul(Q,or)|0,T=T+Math.imul(Q,Sr)|0,T=T+Math.imul(J,or)|0,G=G+Math.imul(J,Sr)|0,K=K+Math.imul(F,Ir)|0,T=T+Math.imul(F,sr)|0,T=T+Math.imul(z,Ir)|0,G=G+Math.imul(z,sr)|0;var am=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(am>>>26)|0,am&=67108863,K=Math.imul(re,or),T=Math.imul(re,Sr),T=T+Math.imul(ue,or)|0,G=Math.imul(ue,Sr),K=K+Math.imul(Q,Ir)|0,T=T+Math.imul(Q,sr)|0,T=T+Math.imul(J,Ir)|0,G=G+Math.imul(J,sr)|0;var y0=($+K|0)+((T&8191)<<13)|0;$=(G+(T>>>13)|0)+(y0>>>26)|0,y0&=67108863,K=Math.imul(re,Ir),T=Math.imul(re,sr),T=T+Math.imul(ue,Ir)|0,G=Math.imul(ue,sr);var Cp=($+K|0)+((T&8191)<<13)|0;return $=(G+(T>>>13)|0)+(Cp>>>26)|0,Cp&=67108863,Y[0]=Zv,Y[1]=Qv,Y[2]=d0,Y[3]=em,Y[4]=l0,Y[5]=tm,Y[6]=h0,Y[7]=rm,Y[8]=p0,Y[9]=nm,Y[10]=Ep,Y[11]=im,Y[12]=g0,Y[13]=Sp,Y[14]=Ip,Y[15]=Tp,Y[16]=am,Y[17]=y0,Y[18]=Cp,$!==0&&(Y[19]=$,R.length++),R};Math.imul||(S=w);function I(L,b,A){A.negative=b.negative^L.negative,A.length=L.length+b.length;for(var R=0,U=0,V=0;V<A.length-1;V++){var Y=U;U=0;for(var $=R&67108863,K=Math.min(V,b.length-1),T=Math.max(0,V-L.length+1);T<=K;T++){var G=V-T,ye=L.words[G]|0,xe=b.words[T]|0,ve=ye*xe,qe=ve&67108863;Y=Y+(ve/67108864|0)|0,qe=qe+$|0,$=qe&67108863,Y=Y+(qe>>>26)|0,U+=Y>>>26,Y&=67108863}A.words[V]=$,R=Y,Y=U}return R!==0?A.words[V]=R:A.length--,A._strip()}function O(L,b,A){return I(L,b,A)}i.prototype.mulTo=function(b,A){var R,U=this.length+b.length;return this.length===10&&b.length===10?R=S(this,b,A):U<63?R=w(this,b,A):U<1024?R=I(this,b,A):R=O(this,b,A),R};function P(L,b){this.x=L,this.y=b}P.prototype.makeRBT=function(b){for(var A=new Array(b),R=i.prototype._countBits(b)-1,U=0;U<b;U++)A[U]=this.revBin(U,R,b);return A},P.prototype.revBin=function(b,A,R){if(b===0||b===R-1)return b;for(var U=0,V=0;V<A;V++)U|=(b&1)<<A-V-1,b>>=1;return U},P.prototype.permute=function(b,A,R,U,V,Y){for(var $=0;$<Y;$++)U[$]=A[b[$]],V[$]=R[b[$]]},P.prototype.transform=function(b,A,R,U,V,Y){this.permute(Y,b,A,R,U,V);for(var $=1;$<V;$<<=1)for(var K=$<<1,T=Math.cos(2*Math.PI/K),G=Math.sin(2*Math.PI/K),ye=0;ye<V;ye+=K)for(var xe=T,ve=G,qe=0;qe<$;qe++){var Je=R[ye+qe],it=U[ye+qe],cn=R[ye+qe+$],$e=U[ye+qe+$],pt=xe*cn-ve*$e;$e=xe*$e+ve*cn,cn=pt,R[ye+qe]=Je+cn,U[ye+qe]=it+$e,R[ye+qe+$]=Je-cn,U[ye+qe+$]=it-$e,qe!==K&&(pt=T*xe-G*ve,ve=T*ve+G*xe,xe=pt)}},P.prototype.guessLen13b=function(b,A){var R=Math.max(A,b)|1,U=R&1,V=0;for(R=R/2|0;R;R=R>>>1)V++;return 1<<V+1+U},P.prototype.conjugate=function(b,A,R){if(!(R<=1))for(var U=0;U<R/2;U++){var V=b[U];b[U]=b[R-U-1],b[R-U-1]=V,V=A[U],A[U]=-A[R-U-1],A[R-U-1]=-V}},P.prototype.normalize13b=function(b,A){for(var R=0,U=0;U<A/2;U++){var V=Math.round(b[2*U+1]/A)*8192+Math.round(b[2*U]/A)+R;b[U]=V&67108863,V<67108864?R=0:R=V/67108864|0}return b},P.prototype.convert13b=function(b,A,R,U){for(var V=0,Y=0;Y<A;Y++)V=V+(b[Y]|0),R[2*Y]=V&8191,V=V>>>13,R[2*Y+1]=V&8191,V=V>>>13;for(Y=2*A;Y<U;++Y)R[Y]=0;r(V===0),r((V&-8192)===0)},P.prototype.stub=function(b){for(var A=new Array(b),R=0;R<b;R++)A[R]=0;return A},P.prototype.mulp=function(b,A,R){var U=2*this.guessLen13b(b.length,A.length),V=this.makeRBT(U),Y=this.stub(U),$=new Array(U),K=new Array(U),T=new Array(U),G=new Array(U),ye=new Array(U),xe=new Array(U),ve=R.words;ve.length=U,this.convert13b(b.words,b.length,$,U),this.convert13b(A.words,A.length,G,U),this.transform($,Y,K,T,U,V),this.transform(G,Y,ye,xe,U,V);for(var qe=0;qe<U;qe++){var Je=K[qe]*ye[qe]-T[qe]*xe[qe];T[qe]=K[qe]*xe[qe]+T[qe]*ye[qe],K[qe]=Je}return this.conjugate(K,T,U),this.transform(K,T,ve,Y,U,V),this.conjugate(ve,Y,U),this.normalize13b(ve,U),R.negative=b.negative^A.negative,R.length=b.length+A.length,R._strip()},i.prototype.mul=function(b){var A=new i(null);return A.words=new Array(this.length+b.length),this.mulTo(b,A)},i.prototype.mulf=function(b){var A=new i(null);return A.words=new Array(this.length+b.length),O(this,b,A)},i.prototype.imul=function(b){return this.clone().mulTo(b,this)},i.prototype.imuln=function(b){var A=b<0;A&&(b=-b),r(typeof b=="number"),r(b<67108864);for(var R=0,U=0;U<this.length;U++){var V=(this.words[U]|0)*b,Y=(V&67108863)+(R&67108863);R>>=26,R+=V/67108864|0,R+=Y>>>26,this.words[U]=Y&67108863}return R!==0&&(this.words[U]=R,this.length++),A?this.ineg():this},i.prototype.muln=function(b){return this.clone().imuln(b)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(b){var A=_(b);if(A.length===0)return new i(1);for(var R=this,U=0;U<A.length&&A[U]===0;U++,R=R.sqr());if(++U<A.length)for(var V=R.sqr();U<A.length;U++,V=V.sqr())A[U]!==0&&(R=R.mul(V));return R},i.prototype.iushln=function(b){r(typeof b=="number"&&b>=0);var A=b%26,R=(b-A)/26,U=67108863>>>26-A<<26-A,V;if(A!==0){var Y=0;for(V=0;V<this.length;V++){var $=this.words[V]&U,K=(this.words[V]|0)-$<<A;this.words[V]=K|Y,Y=$>>>26-A}Y&&(this.words[V]=Y,this.length++)}if(R!==0){for(V=this.length-1;V>=0;V--)this.words[V+R]=this.words[V];for(V=0;V<R;V++)this.words[V]=0;this.length+=R}return this._strip()},i.prototype.ishln=function(b){return r(this.negative===0),this.iushln(b)},i.prototype.iushrn=function(b,A,R){r(typeof b=="number"&&b>=0);var U;A?U=(A-A%26)/26:U=0;var V=b%26,Y=Math.min((b-V)/26,this.length),$=67108863^67108863>>>V<<V,K=R;if(U-=Y,U=Math.max(0,U),K){for(var T=0;T<Y;T++)K.words[T]=this.words[T];K.length=Y}if(Y!==0)if(this.length>Y)for(this.length-=Y,T=0;T<this.length;T++)this.words[T]=this.words[T+Y];else this.words[0]=0,this.length=1;var G=0;for(T=this.length-1;T>=0&&(G!==0||T>=U);T--){var ye=this.words[T]|0;this.words[T]=G<<26-V|ye>>>V,G=ye&$}return K&&G!==0&&(K.words[K.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(b,A,R){return r(this.negative===0),this.iushrn(b,A,R)},i.prototype.shln=function(b){return this.clone().ishln(b)},i.prototype.ushln=function(b){return this.clone().iushln(b)},i.prototype.shrn=function(b){return this.clone().ishrn(b)},i.prototype.ushrn=function(b){return this.clone().iushrn(b)},i.prototype.testn=function(b){r(typeof b=="number"&&b>=0);var A=b%26,R=(b-A)/26,U=1<<A;if(this.length<=R)return!1;var V=this.words[R];return!!(V&U)},i.prototype.imaskn=function(b){r(typeof b=="number"&&b>=0);var A=b%26,R=(b-A)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=R)return this;if(A!==0&&R++,this.length=Math.min(R,this.length),A!==0){var U=67108863^67108863>>>A<<A;this.words[this.length-1]&=U}return this._strip()},i.prototype.maskn=function(b){return this.clone().imaskn(b)},i.prototype.iaddn=function(b){return r(typeof b=="number"),r(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},i.prototype._iaddn=function(b){this.words[0]+=b;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},i.prototype.isubn=function(b){if(r(typeof b=="number"),r(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this._strip()},i.prototype.addn=function(b){return this.clone().iaddn(b)},i.prototype.subn=function(b){return this.clone().isubn(b)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(b,A,R){var U=b.length+R,V;this._expand(U);var Y,$=0;for(V=0;V<b.length;V++){Y=(this.words[V+R]|0)+$;var K=(b.words[V]|0)*A;Y-=K&67108863,$=(Y>>26)-(K/67108864|0),this.words[V+R]=Y&67108863}for(;V<this.length-R;V++)Y=(this.words[V+R]|0)+$,$=Y>>26,this.words[V+R]=Y&67108863;if($===0)return this._strip();for(r($===-1),$=0,V=0;V<this.length;V++)Y=-(this.words[V]|0)+$,$=Y>>26,this.words[V]=Y&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(b,A){var R=this.length-b.length,U=this.clone(),V=b,Y=V.words[V.length-1]|0,$=this._countBits(Y);R=26-$,R!==0&&(V=V.ushln(R),U.iushln(R),Y=V.words[V.length-1]|0);var K=U.length-V.length,T;if(A!=="mod"){T=new i(null),T.length=K+1,T.words=new Array(T.length);for(var G=0;G<T.length;G++)T.words[G]=0}var ye=U.clone()._ishlnsubmul(V,1,K);ye.negative===0&&(U=ye,T&&(T.words[K]=1));for(var xe=K-1;xe>=0;xe--){var ve=(U.words[V.length+xe]|0)*67108864+(U.words[V.length+xe-1]|0);for(ve=Math.min(ve/Y|0,67108863),U._ishlnsubmul(V,ve,xe);U.negative!==0;)ve--,U.negative=0,U._ishlnsubmul(V,1,xe),U.isZero()||(U.negative^=1);T&&(T.words[xe]=ve)}return T&&T._strip(),U._strip(),A!=="div"&&R!==0&&U.iushrn(R),{div:T||null,mod:U}},i.prototype.divmod=function(b,A,R){if(r(!b.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var U,V,Y;return this.negative!==0&&b.negative===0?(Y=this.neg().divmod(b,A),A!=="mod"&&(U=Y.div.neg()),A!=="div"&&(V=Y.mod.neg(),R&&V.negative!==0&&V.iadd(b)),{div:U,mod:V}):this.negative===0&&b.negative!==0?(Y=this.divmod(b.neg(),A),A!=="mod"&&(U=Y.div.neg()),{div:U,mod:Y.mod}):(this.negative&b.negative)!==0?(Y=this.neg().divmod(b.neg(),A),A!=="div"&&(V=Y.mod.neg(),R&&V.negative!==0&&V.isub(b)),{div:Y.div,mod:V}):b.length>this.length||this.cmp(b)<0?{div:new i(0),mod:this}:b.length===1?A==="div"?{div:this.divn(b.words[0]),mod:null}:A==="mod"?{div:null,mod:new i(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new i(this.modrn(b.words[0]))}:this._wordDiv(b,A)},i.prototype.div=function(b){return this.divmod(b,"div",!1).div},i.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},i.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},i.prototype.divRound=function(b){var A=this.divmod(b);if(A.mod.isZero())return A.div;var R=A.div.negative!==0?A.mod.isub(b):A.mod,U=b.ushrn(1),V=b.andln(1),Y=R.cmp(U);return Y<0||V===1&&Y===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},i.prototype.modrn=function(b){var A=b<0;A&&(b=-b),r(b<=67108863);for(var R=(1<<26)%b,U=0,V=this.length-1;V>=0;V--)U=(R*U+(this.words[V]|0))%b;return A?-U:U},i.prototype.modn=function(b){return this.modrn(b)},i.prototype.idivn=function(b){var A=b<0;A&&(b=-b),r(b<=67108863);for(var R=0,U=this.length-1;U>=0;U--){var V=(this.words[U]|0)+R*67108864;this.words[U]=V/b|0,R=V%b}return this._strip(),A?this.ineg():this},i.prototype.divn=function(b){return this.clone().idivn(b)},i.prototype.egcd=function(b){r(b.negative===0),r(!b.isZero());var A=this,R=b.clone();A.negative!==0?A=A.umod(b):A=A.clone();for(var U=new i(1),V=new i(0),Y=new i(0),$=new i(1),K=0;A.isEven()&&R.isEven();)A.iushrn(1),R.iushrn(1),++K;for(var T=R.clone(),G=A.clone();!A.isZero();){for(var ye=0,xe=1;(A.words[0]&xe)===0&&ye<26;++ye,xe<<=1);if(ye>0)for(A.iushrn(ye);ye-- >0;)(U.isOdd()||V.isOdd())&&(U.iadd(T),V.isub(G)),U.iushrn(1),V.iushrn(1);for(var ve=0,qe=1;(R.words[0]&qe)===0&&ve<26;++ve,qe<<=1);if(ve>0)for(R.iushrn(ve);ve-- >0;)(Y.isOdd()||$.isOdd())&&(Y.iadd(T),$.isub(G)),Y.iushrn(1),$.iushrn(1);A.cmp(R)>=0?(A.isub(R),U.isub(Y),V.isub($)):(R.isub(A),Y.isub(U),$.isub(V))}return{a:Y,b:$,gcd:R.iushln(K)}},i.prototype._invmp=function(b){r(b.negative===0),r(!b.isZero());var A=this,R=b.clone();A.negative!==0?A=A.umod(b):A=A.clone();for(var U=new i(1),V=new i(0),Y=R.clone();A.cmpn(1)>0&&R.cmpn(1)>0;){for(var $=0,K=1;(A.words[0]&K)===0&&$<26;++$,K<<=1);if($>0)for(A.iushrn($);$-- >0;)U.isOdd()&&U.iadd(Y),U.iushrn(1);for(var T=0,G=1;(R.words[0]&G)===0&&T<26;++T,G<<=1);if(T>0)for(R.iushrn(T);T-- >0;)V.isOdd()&&V.iadd(Y),V.iushrn(1);A.cmp(R)>=0?(A.isub(R),U.isub(V)):(R.isub(A),V.isub(U))}var ye;return A.cmpn(1)===0?ye=U:ye=V,ye.cmpn(0)<0&&ye.iadd(b),ye},i.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var A=this.clone(),R=b.clone();A.negative=0,R.negative=0;for(var U=0;A.isEven()&&R.isEven();U++)A.iushrn(1),R.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;R.isEven();)R.iushrn(1);var V=A.cmp(R);if(V<0){var Y=A;A=R,R=Y}else if(V===0||R.cmpn(1)===0)break;A.isub(R)}while(!0);return R.iushln(U)},i.prototype.invm=function(b){return this.egcd(b).a.umod(b)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(b){return this.words[0]&b},i.prototype.bincn=function(b){r(typeof b=="number");var A=b%26,R=(b-A)/26,U=1<<A;if(this.length<=R)return this._expand(R+1),this.words[R]|=U,this;for(var V=U,Y=R;V!==0&&Y<this.length;Y++){var $=this.words[Y]|0;$+=V,V=$>>>26,$&=67108863,this.words[Y]=$}return V!==0&&(this.words[Y]=V,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(b){var A=b<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this._strip();var R;if(this.length>1)R=1;else{A&&(b=-b),r(b<=67108863,"Number is too big");var U=this.words[0]|0;R=U===b?0:U<b?-1:1}return this.negative!==0?-R|0:R},i.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var A=this.ucmp(b);return this.negative!==0?-A|0:A},i.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var A=0,R=this.length-1;R>=0;R--){var U=this.words[R]|0,V=b.words[R]|0;if(U!==V){U<V?A=-1:U>V&&(A=1);break}}return A},i.prototype.gtn=function(b){return this.cmpn(b)===1},i.prototype.gt=function(b){return this.cmp(b)===1},i.prototype.gten=function(b){return this.cmpn(b)>=0},i.prototype.gte=function(b){return this.cmp(b)>=0},i.prototype.ltn=function(b){return this.cmpn(b)===-1},i.prototype.lt=function(b){return this.cmp(b)===-1},i.prototype.lten=function(b){return this.cmpn(b)<=0},i.prototype.lte=function(b){return this.cmp(b)<=0},i.prototype.eqn=function(b){return this.cmpn(b)===0},i.prototype.eq=function(b){return this.cmp(b)===0},i.red=function(b){return new M(b)},i.prototype.toRed=function(b){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(b){return this.red=b,this},i.prototype.forceRed=function(b){return r(!this.red,"Already a number in reduction context"),this._forceRed(b)},i.prototype.redAdd=function(b){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},i.prototype.redIAdd=function(b){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},i.prototype.redSub=function(b){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},i.prototype.redISub=function(b){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},i.prototype.redShl=function(b){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},i.prototype.redMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},i.prototype.redIMul=function(b){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(b){return r(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var q={k256:null,p224:null,p192:null,p25519:null};function C(L,b){this.name=L,this.p=new i(b,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}C.prototype._tmp=function(){var b=new i(null);return b.words=new Array(Math.ceil(this.n/13)),b},C.prototype.ireduce=function(b){var A=b,R;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),R=A.bitLength();while(R>this.n);var U=R<this.n?-1:A.ucmp(this.p);return U===0?(A.words[0]=0,A.length=1):U>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},C.prototype.split=function(b,A){b.iushrn(this.n,0,A)},C.prototype.imulK=function(b){return b.imul(this.k)};function d(){C.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(d,C),d.prototype.split=function(b,A){for(var R=4194303,U=Math.min(b.length,9),V=0;V<U;V++)A.words[V]=b.words[V];if(A.length=U,b.length<=9){b.words[0]=0,b.length=1;return}var Y=b.words[9];for(A.words[A.length++]=Y&R,V=10;V<b.length;V++){var $=b.words[V]|0;b.words[V-10]=($&R)<<4|Y>>>22,Y=$}Y>>>=22,b.words[V-10]=Y,Y===0&&b.length>10?b.length-=10:b.length-=9},d.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var A=0,R=0;R<b.length;R++){var U=b.words[R]|0;A+=U*977,b.words[R]=A&67108863,A=U*64+(A/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function m(){C.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(m,C);function x(){C.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(x,C);function D(){C.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(D,C),D.prototype.imulK=function(b){for(var A=0,R=0;R<b.length;R++){var U=(b.words[R]|0)*19+A,V=U&67108863;U>>>=26,b.words[R]=V,A=U}return A!==0&&(b.words[b.length++]=A),b},i._prime=function(b){if(q[b])return q[b];var A;if(b==="k256")A=new d;else if(b==="p224")A=new m;else if(b==="p192")A=new x;else if(b==="p25519")A=new D;else throw new Error("Unknown prime "+b);return q[b]=A,A};function M(L){if(typeof L=="string"){var b=i._prime(L);this.m=b.p,this.prime=b}else r(L.gtn(1),"modulus must be greater than 1"),this.m=L,this.prime=null}M.prototype._verify1=function(b){r(b.negative===0,"red works only with positives"),r(b.red,"red works only with red numbers")},M.prototype._verify2=function(b,A){r((b.negative|A.negative)===0,"red works only with positives"),r(b.red&&b.red===A.red,"red works only with red numbers")},M.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(u(b,b.umod(this.m)._forceRed(this)),b)},M.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},M.prototype.add=function(b,A){this._verify2(b,A);var R=b.add(A);return R.cmp(this.m)>=0&&R.isub(this.m),R._forceRed(this)},M.prototype.iadd=function(b,A){this._verify2(b,A);var R=b.iadd(A);return R.cmp(this.m)>=0&&R.isub(this.m),R},M.prototype.sub=function(b,A){this._verify2(b,A);var R=b.sub(A);return R.cmpn(0)<0&&R.iadd(this.m),R._forceRed(this)},M.prototype.isub=function(b,A){this._verify2(b,A);var R=b.isub(A);return R.cmpn(0)<0&&R.iadd(this.m),R},M.prototype.shl=function(b,A){return this._verify1(b),this.imod(b.ushln(A))},M.prototype.imul=function(b,A){return this._verify2(b,A),this.imod(b.imul(A))},M.prototype.mul=function(b,A){return this._verify2(b,A),this.imod(b.mul(A))},M.prototype.isqr=function(b){return this.imul(b,b.clone())},M.prototype.sqr=function(b){return this.mul(b,b)},M.prototype.sqrt=function(b){if(b.isZero())return b.clone();var A=this.m.andln(3);if(r(A%2===1),A===3){var R=this.m.add(new i(1)).iushrn(2);return this.pow(b,R)}for(var U=this.m.subn(1),V=0;!U.isZero()&&U.andln(1)===0;)V++,U.iushrn(1);r(!U.isZero());var Y=new i(1).toRed(this),$=Y.redNeg(),K=this.m.subn(1).iushrn(1),T=this.m.bitLength();for(T=new i(2*T*T).toRed(this);this.pow(T,K).cmp($)!==0;)T.redIAdd($);for(var G=this.pow(T,U),ye=this.pow(b,U.addn(1).iushrn(1)),xe=this.pow(b,U),ve=V;xe.cmp(Y)!==0;){for(var qe=xe,Je=0;qe.cmp(Y)!==0;Je++)qe=qe.redSqr();r(Je<ve);var it=this.pow(G,new i(1).iushln(ve-Je-1));ye=ye.redMul(it),G=it.redSqr(),xe=xe.redMul(G),ve=Je}return ye},M.prototype.invm=function(b){var A=b._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},M.prototype.pow=function(b,A){if(A.isZero())return new i(1).toRed(this);if(A.cmpn(1)===0)return b.clone();var R=4,U=new Array(1<<R);U[0]=new i(1).toRed(this),U[1]=b;for(var V=2;V<U.length;V++)U[V]=this.mul(U[V-1],b);var Y=U[0],$=0,K=0,T=A.bitLength()%26;for(T===0&&(T=26),V=A.length-1;V>=0;V--){for(var G=A.words[V],ye=T-1;ye>=0;ye--){var xe=G>>ye&1;if(Y!==U[0]&&(Y=this.sqr(Y)),xe===0&&$===0){K=0;continue}$<<=1,$|=xe,K++,!(K!==R&&(V!==0||ye!==0))&&(Y=this.mul(Y,U[$]),K=0,$=0)}T=26}return Y},M.prototype.convertTo=function(b){var A=b.umod(this.m);return A===b?A.clone():A},M.prototype.convertFrom=function(b){var A=b.clone();return A.red=null,A},i.mont=function(b){return new oe(b)};function oe(L){M.call(this,L),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(oe,M),oe.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},oe.prototype.convertFrom=function(b){var A=this.imod(b.mul(this.rinv));return A.red=null,A},oe.prototype.imul=function(b,A){if(b.isZero()||A.isZero())return b.words[0]=0,b.length=1,b;var R=b.imul(A),U=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=R.isub(U).iushrn(this.shift),Y=V;return V.cmp(this.m)>=0?Y=V.isub(this.m):V.cmpn(0)<0&&(Y=V.iadd(this.m)),Y._forceRed(this)},oe.prototype.mul=function(b,A){if(b.isZero()||A.isZero())return new i(0)._forceRed(this);var R=b.mul(A),U=R.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=R.isub(U).iushrn(this.shift),Y=V;return V.cmp(this.m)>=0?Y=V.isub(this.m):V.cmpn(0)<0&&(Y=V.iadd(this.m)),Y._forceRed(this)},oe.prototype.invm=function(b){var A=this.imod(b._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(typeof uM>"u"||uM,One)});var $f=E(to=>{"use strict";h();p();var ZPe=to&&to.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QPe=to&&to.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eBe=to&&to.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ZPe(e,t,r);return QPe(e,t),e},tBe=to&&to.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(to,"__esModule",{value:!0});to.rlp=to.BN=void 0;var rBe=tBe(Dne());to.BN=rBe.default;var nBe=eBe(Gie());to.rlp=nBe});var dM=E(xr=>{"use strict";h();p();Object.defineProperty(xr,"__esModule",{value:!0});xr.KECCAK256_RLP=xr.KECCAK256_RLP_S=xr.KECCAK256_RLP_ARRAY=xr.KECCAK256_RLP_ARRAY_S=xr.KECCAK256_NULL=xr.KECCAK256_NULL_S=xr.TWO_POW256=xr.MAX_INTEGER=xr.MAX_UINT64=void 0;var fM=ua(),cM=$f();xr.MAX_UINT64=new cM.BN("ffffffffffffffff",16);xr.MAX_INTEGER=new cM.BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);xr.TWO_POW256=new cM.BN("10000000000000000000000000000000000000000000000000000000000000000",16);xr.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";xr.KECCAK256_NULL=fM.Buffer.from(xr.KECCAK256_NULL_S,"hex");xr.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";xr.KECCAK256_RLP_ARRAY=fM.Buffer.from(xr.KECCAK256_RLP_ARRAY_S,"hex");xr.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";xr.KECCAK256_RLP=fM.Buffer.from(xr.KECCAK256_RLP_S,"hex")});var gp=E(Br=>{"use strict";h();p();Object.defineProperty(Br,"__esModule",{value:!0});Br.isHexString=Br.getKeys=Br.fromAscii=Br.fromUtf8=Br.toAscii=Br.arrayContainsArray=Br.getBinarySize=Br.padToEven=Br.stripHexPrefix=Br.isHexPrefixed=void 0;function Rne(t){if(typeof t!="string")throw new Error("[isHexPrefixed] input must be type 'string', received type ".concat(typeof t));return t[0]==="0"&&t[1]==="x"}Br.isHexPrefixed=Rne;var iBe=function(t){if(typeof t!="string")throw new Error("[stripHexPrefix] input must be type 'string', received ".concat(typeof t));return Rne(t)?t.slice(2):t};Br.stripHexPrefix=iBe;function Pne(t){var e=t;if(typeof e!="string")throw new Error("[padToEven] value must be type 'string', received ".concat(typeof e));return e.length%2&&(e="0".concat(e)),e}Br.padToEven=Pne;function aBe(t){if(typeof t!="string")throw new Error("[getBinarySize] method requires input type 'string', recieved ".concat(typeof t));return v.Buffer.byteLength(t,"utf8")}Br.getBinarySize=aBe;function oBe(t,e,r){if(Array.isArray(t)!==!0)throw new Error("[arrayContainsArray] method requires input 'superset' to be an array, got type '".concat(typeof t,"'"));if(Array.isArray(e)!==!0)throw new Error("[arrayContainsArray] method requires input 'subset' to be an array, got type '".concat(typeof e,"'"));return e[r?"some":"every"](function(n){return t.indexOf(n)>=0})}Br.arrayContainsArray=oBe;function sBe(t){var e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){var i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}Br.toAscii=sBe;function uBe(t){var e=v.Buffer.from(t,"utf8");return"0x".concat(Pne(e.toString("hex")).replace(/^0+|0+$/g,""))}Br.fromUtf8=uBe;function fBe(t){for(var e="",r=0;r<t.length;r++){var n=t.charCodeAt(r),i=n.toString(16);e+=i.length<2?"0".concat(i):i}return"0x".concat(e)}Br.fromAscii=fBe;function cBe(t,e,r){if(!Array.isArray(t))throw new Error("[getKeys] method expects input 'params' to be an array, got ".concat(typeof t));if(typeof e!="string")throw new Error("[getKeys] method expects input 'key' to be type 'string', got ".concat(typeof t));for(var n=[],i=0;i<t.length;i++){var a=t[i][e];if(r&&!a)a="";else if(typeof a!="string")throw new Error("invalid abi - expected type 'string', received ".concat(typeof a));n.push(a)}return n}Br.getKeys=cBe;function dBe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}Br.isHexString=dBe});var s3=E(Zf=>{"use strict";h();p();Object.defineProperty(Zf,"__esModule",{value:!0});Zf.assertIsString=Zf.assertIsArray=Zf.assertIsBuffer=Zf.assertIsHexString=void 0;var lBe=gp(),hBe=function(t){if(!(0,lBe.isHexString)(t)){var e="This method only supports 0x-prefixed hex strings but input was: ".concat(t);throw new Error(e)}};Zf.assertIsHexString=hBe;var pBe=function(t){if(!v.Buffer.isBuffer(t)){var e="This method only supports Buffer but input was: ".concat(t);throw new Error(e)}};Zf.assertIsBuffer=pBe;var gBe=function(t){if(!Array.isArray(t)){var e="This method only supports number arrays but input was: ".concat(t);throw new Error(e)}};Zf.assertIsArray=gBe;var yBe=function(t){if(typeof t!="string"){var e="This method only supports strings but input was: ".concat(t);throw new Error(e)}};Zf.assertIsString=yBe});var Il=E(Ne=>{"use strict";h();p();var vBe=Ne&&Ne.__values||function(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},mBe=Ne&&Ne.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.bufArrToArr=Ne.arrToBufArr=Ne.validateNoLeadingZeroes=Ne.baToJSON=Ne.toUtf8=Ne.addHexPrefix=Ne.toUnsigned=Ne.fromSigned=Ne.bufferToHex=Ne.bufferToInt=Ne.toBuffer=Ne.unpadHexString=Ne.unpadArray=Ne.unpadBuffer=Ne.setLengthRight=Ne.setLengthLeft=Ne.zeros=Ne.intToBuffer=Ne.intToHex=void 0;var lM=$f(),yp=gp(),u3=s3(),_Be=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("Received an invalid integer type: ".concat(t));return"0x".concat(t.toString(16))};Ne.intToHex=_Be;var xBe=function(t){var e=(0,Ne.intToHex)(t);return v.Buffer.from((0,yp.padToEven)(e.slice(2)),"hex")};Ne.intToBuffer=xBe;var bBe=function(t){return v.Buffer.allocUnsafe(t).fill(0)};Ne.zeros=bBe;var Bne=function(t,e,r){var n=(0,Ne.zeros)(e);return r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)},wBe=function(t,e){return(0,u3.assertIsBuffer)(t),Bne(t,e,!1)};Ne.setLengthLeft=wBe;var EBe=function(t,e){return(0,u3.assertIsBuffer)(t),Bne(t,e,!0)};Ne.setLengthRight=EBe;var hM=function(t){for(var e=t[0];t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t},SBe=function(t){return(0,u3.assertIsBuffer)(t),hM(t)};Ne.unpadBuffer=SBe;var IBe=function(t){return(0,u3.assertIsArray)(t),hM(t)};Ne.unpadArray=IBe;var TBe=function(t){return(0,u3.assertIsHexString)(t),t=(0,yp.stripHexPrefix)(t),hM(t)};Ne.unpadHexString=TBe;var CBe=function(t){if(t==null)return v.Buffer.allocUnsafe(0);if(v.Buffer.isBuffer(t))return v.Buffer.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return v.Buffer.from(t);if(typeof t=="string"){if(!(0,yp.isHexString)(t))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ".concat(t));return v.Buffer.from((0,yp.padToEven)((0,yp.stripHexPrefix)(t)),"hex")}if(typeof t=="number")return(0,Ne.intToBuffer)(t);if(lM.BN.isBN(t)){if(t.isNeg())throw new Error("Cannot convert negative BN to buffer. Given: ".concat(t));return t.toArrayLike(v.Buffer)}if(t.toArray)return v.Buffer.from(t.toArray());if(t.toBuffer)return v.Buffer.from(t.toBuffer());throw new Error("invalid type")};Ne.toBuffer=CBe;var ABe=function(t){return new lM.BN((0,Ne.toBuffer)(t)).toNumber()};Ne.bufferToInt=ABe;var OBe=function(t){return t=(0,Ne.toBuffer)(t),"0x"+t.toString("hex")};Ne.bufferToHex=OBe;var DBe=function(t){return new lM.BN(t).fromTwos(256)};Ne.fromSigned=DBe;var RBe=function(t){return v.Buffer.from(t.toTwos(256).toArray())};Ne.toUnsigned=RBe;var PBe=function(t){return typeof t!="string"||(0,yp.isHexPrefixed)(t)?t:"0x"+t};Ne.addHexPrefix=PBe;var BBe=function(t){var e=/^(00)+|(00)+$/g;if(t=(0,yp.stripHexPrefix)(t),t.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");var r=v.Buffer.from(t.replace(e,""),"hex");return r.toString("utf8")};Ne.toUtf8=BBe;var MBe=function(t){if(v.Buffer.isBuffer(t))return"0x".concat(t.toString("hex"));if(t instanceof Array){for(var e=[],r=0;r<t.length;r++)e.push((0,Ne.baToJSON)(t[r]));return e}};Ne.baToJSON=MBe;var NBe=function(t){var e,r;try{for(var n=vBe(Object.entries(t)),i=n.next();!i.done;i=n.next()){var a=mBe(i.value,2),o=a[0],s=a[1];if(s!==void 0&&s.length>0&&s[0]===0)throw new Error("".concat(o," cannot have leading zeroes, received: ").concat(s.toString("hex")))}}catch(u){e={error:u}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}};Ne.validateNoLeadingZeroes=NBe;function Mne(t){return Array.isArray(t)?t.map(function(e){return Mne(e)}):v.Buffer.from(t)}Ne.arrToBufArr=Mne;function Nne(t){return Array.isArray(t)?t.map(function(e){return Nne(e)}):Uint8Array.from(t??[])}Ne.bufArrToArr=Nne});var D5=E(Tt=>{"use strict";h();p();Object.defineProperty(Tt,"__esModule",{value:!0});Tt.rlphash=Tt.ripemd160FromArray=Tt.ripemd160FromString=Tt.ripemd160=Tt.sha256FromArray=Tt.sha256FromString=Tt.sha256=Tt.keccakFromArray=Tt.keccakFromHexString=Tt.keccakFromString=Tt.keccak256=Tt.keccak=void 0;var O5=zie(),qne=A3(),qBe=$f(),f3=Il(),Qf=s3(),FBe=function(t,e){switch(e===void 0&&(e=256),(0,Qf.assertIsBuffer)(t),e){case 224:return(0,O5.keccak224)(t);case 256:return(0,O5.keccak256)(t);case 384:return(0,O5.keccak384)(t);case 512:return(0,O5.keccak512)(t);default:throw new Error("Invald algorithm: keccak".concat(e))}};Tt.keccak=FBe;var LBe=function(t){return(0,Tt.keccak)(t)};Tt.keccak256=LBe;var UBe=function(t,e){e===void 0&&(e=256),(0,Qf.assertIsString)(t);var r=v.Buffer.from(t,"utf8");return(0,Tt.keccak)(r,e)};Tt.keccakFromString=UBe;var kBe=function(t,e){return e===void 0&&(e=256),(0,Qf.assertIsHexString)(t),(0,Tt.keccak)((0,f3.toBuffer)(t),e)};Tt.keccakFromHexString=kBe;var jBe=function(t,e){return e===void 0&&(e=256),(0,Qf.assertIsArray)(t),(0,Tt.keccak)((0,f3.toBuffer)(t),e)};Tt.keccakFromArray=jBe;var pM=function(t){return t=(0,f3.toBuffer)(t),qne("sha256").update(t).digest()},HBe=function(t){return(0,Qf.assertIsBuffer)(t),pM(t)};Tt.sha256=HBe;var KBe=function(t){return(0,Qf.assertIsString)(t),pM(t)};Tt.sha256FromString=KBe;var VBe=function(t){return(0,Qf.assertIsArray)(t),pM(t)};Tt.sha256FromArray=VBe;var gM=function(t,e){t=(0,f3.toBuffer)(t);var r=qne("rmd160").update(t).digest();return e===!0?(0,f3.setLengthLeft)(r,32):r},GBe=function(t,e){return(0,Qf.assertIsBuffer)(t),gM(t,e)};Tt.ripemd160=GBe;var zBe=function(t,e){return(0,Qf.assertIsString)(t),gM(t,e)};Tt.ripemd160FromString=zBe;var YBe=function(t,e){return(0,Qf.assertIsArray)(t),gM(t,e)};Tt.ripemd160FromArray=YBe;var WBe=function(t){return(0,Tt.keccak)(qBe.rlp.encode(t))};Tt.rlphash=WBe});var P5=E(Mo=>{"use strict";h();p();Object.defineProperty(Mo,"__esModule",{value:!0});Mo.toType=Mo.TypeOutput=Mo.bnToRlp=Mo.bnToUnpaddedBuffer=Mo.bnToHex=void 0;var yM=$f(),XBe=gp(),Fne=Il();function JBe(t){return"0x".concat(t.toString(16))}Mo.bnToHex=JBe;function Lne(t){return(0,Fne.unpadBuffer)(t.toArrayLike(v.Buffer))}Mo.bnToUnpaddedBuffer=Lne;function $Be(t){return Lne(t)}Mo.bnToRlp=$Be;var R5;(function(t){t[t.Number=0]="Number",t[t.BN=1]="BN",t[t.Buffer=2]="Buffer",t[t.PrefixedHexString=3]="PrefixedHexString"})(R5=Mo.TypeOutput||(Mo.TypeOutput={}));function ZBe(t,e){if(t===null)return null;if(t!==void 0){if(typeof t=="string"&&!(0,XBe.isHexString)(t))throw new Error("A string must be provided with a 0x-prefix, given: ".concat(t));if(typeof t=="number"&&!Number.isSafeInteger(t))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var r=(0,Fne.toBuffer)(t);if(e===R5.Buffer)return r;if(e===R5.BN)return new yM.BN(r);if(e===R5.Number){var n=new yM.BN(r),i=new yM.BN(Number.MAX_SAFE_INTEGER.toString());if(n.gt(i))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return n.toNumber()}else return"0x".concat(r.toString("hex"))}}Mo.toType=ZBe});var mM=E(He=>{"use strict";h();p();var QBe=He&&He.__read||function(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a},eMe=He&&He.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(He,"__esModule",{value:!0});He.isZeroAddress=He.zeroAddress=He.importPublic=He.privateToAddress=He.privateToPublic=He.publicToAddress=He.pubToAddress=He.isValidPublic=He.isValidPrivate=He.generateAddress2=He.generateAddress=He.isValidChecksumAddress=He.toChecksumAddress=He.isValidAddress=He.Account=void 0;var vM=eMe(ro()),Zu=$f(),Kv=cN(),tMe=gp(),B5=dM(),Hv=Il(),Vv=D5(),ru=s3(),M5=P5(),rMe=function(){function t(e,r,n,i){e===void 0&&(e=new Zu.BN(0)),r===void 0&&(r=new Zu.BN(0)),n===void 0&&(n=B5.KECCAK256_RLP),i===void 0&&(i=B5.KECCAK256_NULL),this.nonce=e,this.balance=r,this.stateRoot=n,this.codeHash=i,this._validate()}return t.fromAccountData=function(e){var r=e.nonce,n=e.balance,i=e.stateRoot,a=e.codeHash;return new t(r?new Zu.BN((0,Hv.toBuffer)(r)):void 0,n?new Zu.BN((0,Hv.toBuffer)(n)):void 0,i?(0,Hv.toBuffer)(i):void 0,a?(0,Hv.toBuffer)(a):void 0)},t.fromRlpSerializedAccount=function(e){var r=Zu.rlp.decode(e);if(!Array.isArray(r))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(r)},t.fromValuesArray=function(e){var r=QBe(e,4),n=r[0],i=r[1],a=r[2],o=r[3];return new t(new Zu.BN(n),new Zu.BN(i),a,o)},t.prototype._validate=function(){if(this.nonce.lt(new Zu.BN(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new Zu.BN(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},t.prototype.raw=function(){return[(0,M5.bnToUnpaddedBuffer)(this.nonce),(0,M5.bnToUnpaddedBuffer)(this.balance),this.stateRoot,this.codeHash]},t.prototype.serialize=function(){return Zu.rlp.encode(this.raw())},t.prototype.isContract=function(){return!this.codeHash.equals(B5.KECCAK256_NULL)},t.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(B5.KECCAK256_NULL)},t}();He.Account=rMe;var nMe=function(t){try{(0,ru.assertIsString)(t)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(t)};He.isValidAddress=nMe;var iMe=function(t,e){(0,ru.assertIsHexString)(t);var r=(0,tMe.stripHexPrefix)(t).toLowerCase(),n="";if(e){var i=(0,M5.toType)(e,M5.TypeOutput.BN);n=i.toString()+"0x"}for(var a=(0,Vv.keccakFromString)(n+r).toString("hex"),o="0x",s=0;s<r.length;s++)parseInt(a[s],16)>=8?o+=r[s].toUpperCase():o+=r[s];return o};He.toChecksumAddress=iMe;var aMe=function(t,e){return(0,He.isValidAddress)(t)&&(0,He.toChecksumAddress)(t,e)===t};He.isValidChecksumAddress=aMe;var oMe=function(t,e){(0,ru.assertIsBuffer)(t),(0,ru.assertIsBuffer)(e);var r=new Zu.BN(e);return r.isZero()?(0,Vv.rlphash)([t,null]).slice(-20):(0,Vv.rlphash)([t,v.Buffer.from(r.toArray())]).slice(-20)};He.generateAddress=oMe;var sMe=function(t,e,r){(0,ru.assertIsBuffer)(t),(0,ru.assertIsBuffer)(e),(0,ru.assertIsBuffer)(r),(0,vM.default)(t.length===20),(0,vM.default)(e.length===32);var n=(0,Vv.keccak256)(v.Buffer.concat([v.Buffer.from("ff","hex"),t,e,(0,Vv.keccak256)(r)]));return n.slice(-20)};He.generateAddress2=sMe;var uMe=function(t){return(0,Kv.privateKeyVerify)(t)};He.isValidPrivate=uMe;var fMe=function(t,e){return e===void 0&&(e=!1),(0,ru.assertIsBuffer)(t),t.length===64?(0,Kv.publicKeyVerify)(v.Buffer.concat([v.Buffer.from([4]),t])):e?(0,Kv.publicKeyVerify)(t):!1};He.isValidPublic=fMe;var cMe=function(t,e){return e===void 0&&(e=!1),(0,ru.assertIsBuffer)(t),e&&t.length!==64&&(t=v.Buffer.from((0,Kv.publicKeyConvert)(t,!1).slice(1))),(0,vM.default)(t.length===64),(0,Vv.keccak)(t).slice(-20)};He.pubToAddress=cMe;He.publicToAddress=He.pubToAddress;var dMe=function(t){return(0,ru.assertIsBuffer)(t),v.Buffer.from((0,Kv.publicKeyCreate)(t,!1)).slice(1)};He.privateToPublic=dMe;var lMe=function(t){return(0,He.publicToAddress)((0,He.privateToPublic)(t))};He.privateToAddress=lMe;var hMe=function(t){return(0,ru.assertIsBuffer)(t),t.length!==64&&(t=v.Buffer.from((0,Kv.publicKeyConvert)(t,!1).slice(1))),t};He.importPublic=hMe;var pMe=function(){var t=20,e=(0,Hv.zeros)(t);return(0,Hv.bufferToHex)(e)};He.zeroAddress=pMe;var gMe=function(t){try{(0,ru.assertIsString)(t)}catch{return!1}var e=(0,He.zeroAddress)();return e===t};He.isZeroAddress=gMe});var kne=E(Gv=>{"use strict";h();p();var yMe=Gv&&Gv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gv,"__esModule",{value:!0});Gv.Address=void 0;var vp=yMe(ro()),N5=$f(),Une=Il(),c3=mM(),vMe=function(){function t(e){(0,vp.default)(e.length===20,"Invalid address length"),this.buf=e}return t.zero=function(){return new t((0,Une.zeros)(20))},t.fromString=function(e){return(0,vp.default)((0,c3.isValidAddress)(e),"Invalid address"),new t((0,Une.toBuffer)(e))},t.fromPublicKey=function(e){(0,vp.default)(v.Buffer.isBuffer(e),"Public key should be Buffer");var r=(0,c3.pubToAddress)(e);return new t(r)},t.fromPrivateKey=function(e){(0,vp.default)(v.Buffer.isBuffer(e),"Private key should be Buffer");var r=(0,c3.privateToAddress)(e);return new t(r)},t.generate=function(e,r){return(0,vp.default)(N5.BN.isBN(r)),new t((0,c3.generateAddress)(e.buf,r.toArrayLike(v.Buffer)))},t.generate2=function(e,r,n){return(0,vp.default)(v.Buffer.isBuffer(r)),(0,vp.default)(v.Buffer.isBuffer(n)),new t((0,c3.generateAddress2)(e.buf,r,n))},t.prototype.equals=function(e){return this.buf.equals(e.buf)},t.prototype.isZero=function(){return this.equals(t.zero())},t.prototype.isPrecompileOrSystemAddress=function(){var e=new N5.BN(this.buf),r=new N5.BN(0),n=new N5.BN("ffff","hex");return e.gte(r)&&e.lte(n)},t.prototype.toString=function(){return"0x"+this.buf.toString("hex")},t.prototype.toBuffer=function(){return v.Buffer.from(this.buf)},t}();Gv.Address=vMe});var jne=E(aa=>{"use strict";h();p();Object.defineProperty(aa,"__esModule",{value:!0});aa.hashPersonalMessage=aa.isValidSignature=aa.fromRpcSig=aa.toCompactSig=aa.toRpcSig=aa.ecrecover=aa.ecsign=void 0;var _M=cN(),d3=$f(),nu=Il(),mMe=D5(),_Me=s3(),ec=P5();function xMe(t,e,r){var n=(0,_M.ecdsaSign)(t,e),i=n.signature,a=n.recid,o=v.Buffer.from(i.slice(0,32)),s=v.Buffer.from(i.slice(32,64));if(!r||typeof r=="number"){if(r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");var u=r?a+(r*2+35):a+27;return{r:o,s,v:u}}var f=(0,ec.toType)(r,ec.TypeOutput.BN),c=f.muln(2).addn(35).addn(a).toArrayLike(v.Buffer);return{r:o,s,v:c}}aa.ecsign=xMe;function q5(t,e){var r=(0,ec.toType)(t,ec.TypeOutput.BN);if(r.eqn(0)||r.eqn(1))return(0,ec.toType)(t,ec.TypeOutput.BN);if(!e)return r.subn(27);var n=(0,ec.toType)(e,ec.TypeOutput.BN);return r.sub(n.muln(2).addn(35))}function F5(t){var e=new d3.BN(t);return e.eqn(0)||e.eqn(1)}var bMe=function(t,e,r,n,i){var a=v.Buffer.concat([(0,nu.setLengthLeft)(r,32),(0,nu.setLengthLeft)(n,32)],64),o=q5(e,i);if(!F5(o))throw new Error("Invalid signature v value");var s=(0,_M.ecdsaRecover)(a,o.toNumber(),t);return v.Buffer.from((0,_M.publicKeyConvert)(s,!1).slice(1))};aa.ecrecover=bMe;var wMe=function(t,e,r,n){var i=q5(t,n);if(!F5(i))throw new Error("Invalid signature v value");return(0,nu.bufferToHex)(v.Buffer.concat([(0,nu.setLengthLeft)(e,32),(0,nu.setLengthLeft)(r,32),(0,nu.toBuffer)(t)]))};aa.toRpcSig=wMe;var EMe=function(t,e,r,n){var i=q5(t,n);if(!F5(i))throw new Error("Invalid signature v value");var a=(0,ec.toType)(t,ec.TypeOutput.Number),o=r;return(a>28&&a%2===1||a===1||a===28)&&(o=v.Buffer.from(r),o[0]|=128),(0,nu.bufferToHex)(v.Buffer.concat([(0,nu.setLengthLeft)(e,32),(0,nu.setLengthLeft)(o,32)]))};aa.toCompactSig=EMe;var SMe=function(t){var e=(0,nu.toBuffer)(t),r,n,i;if(e.length>=65)r=e.slice(0,32),n=e.slice(32,64),i=(0,nu.bufferToInt)(e.slice(64));else if(e.length===64)r=e.slice(0,32),n=e.slice(32,64),i=(0,nu.bufferToInt)(e.slice(32,33))>>7,n[0]&=127;else throw new Error("Invalid signature length");return i<27&&(i+=27),{v:i,r,s:n}};aa.fromRpcSig=SMe;var IMe=function(t,e,r,n,i){n===void 0&&(n=!0);var a=new d3.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),o=new d3.BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(e.length!==32||r.length!==32||!F5(q5(t,i)))return!1;var s=new d3.BN(e),u=new d3.BN(r);return!(s.isZero()||s.gt(o)||u.isZero()||u.gt(o)||n&&u.cmp(a)===1)};aa.isValidSignature=IMe;var TMe=function(t){(0,_Me.assertIsBuffer)(t);var e=v.Buffer.from(`Ethereum Signed Message:
`.concat(t.length),"utf-8");return(0,mMe.keccak)(v.Buffer.concat([e,t]))};aa.hashPersonalMessage=TMe});var Vne=E(zv=>{"use strict";h();p();var CMe=zv&&zv.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zv,"__esModule",{value:!0});zv.defineProperties=void 0;var Hne=CMe(ro()),AMe=gp(),Kne=$f(),L5=Il(),OMe=function(t,e,r){if(t.raw=[],t._fields=[],t.toJSON=function(i){if(i===void 0&&(i=!1),i){var a={};return t._fields.forEach(function(o){a[o]="0x".concat(t[o].toString("hex"))}),a}return(0,L5.baToJSON)(t.raw)},t.serialize=function(){return Kne.rlp.encode(t.raw)},e.forEach(function(i,a){t._fields.push(i.name);function o(){return t.raw[a]}function s(u){u=(0,L5.toBuffer)(u),u.toString("hex")==="00"&&!i.allowZero&&(u=v.Buffer.allocUnsafe(0)),i.allowLess&&i.length?(u=(0,L5.unpadBuffer)(u),(0,Hne.default)(i.length>=u.length,"The field ".concat(i.name," must not have more ").concat(i.length," bytes"))):!(i.allowZero&&u.length===0)&&i.length&&(0,Hne.default)(i.length===u.length,"The field ".concat(i.name," must have byte length of ").concat(i.length)),t.raw[a]=u}Object.defineProperty(t,i.name,{enumerable:!0,configurable:!0,get:o,set:s}),i.default&&(t[i.name]=i.default),i.alias&&Object.defineProperty(t,i.alias,{enumerable:!1,configurable:!0,set:s,get:o})}),r)if(typeof r=="string"&&(r=v.Buffer.from((0,AMe.stripHexPrefix)(r),"hex")),v.Buffer.isBuffer(r)&&(r=Kne.rlp.decode(r)),Array.isArray(r)){if(r.length>t._fields.length)throw new Error("wrong number of fields in data");r.forEach(function(i,a){t[t._fields[a]]=(0,L5.toBuffer)(i)})}else if(typeof r=="object"){var n=Object.keys(r);e.forEach(function(i){n.indexOf(i.name)!==-1&&(t[i.name]=r[i.name]),n.indexOf(i.alias)!==-1&&(t[i.alias]=r[i.alias])})}else throw new Error("invalid data")};zv.defineProperties=OMe});var Gne=E(nt=>{"use strict";h();p();var DMe=nt&&nt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),s0=nt&&nt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&DMe(e,t,r)};Object.defineProperty(nt,"__esModule",{value:!0});nt.isHexString=nt.getKeys=nt.fromAscii=nt.fromUtf8=nt.toAscii=nt.arrayContainsArray=nt.getBinarySize=nt.padToEven=nt.stripHexPrefix=nt.isHexPrefixed=void 0;s0(dM(),nt);s0(mM(),nt);s0(kne(),nt);s0(D5(),nt);s0(jne(),nt);s0(Il(),nt);s0(Vne(),nt);s0($f(),nt);s0(P5(),nt);var tc=gp();Object.defineProperty(nt,"isHexPrefixed",{enumerable:!0,get:function(){return tc.isHexPrefixed}});Object.defineProperty(nt,"stripHexPrefix",{enumerable:!0,get:function(){return tc.stripHexPrefix}});Object.defineProperty(nt,"padToEven",{enumerable:!0,get:function(){return tc.padToEven}});Object.defineProperty(nt,"getBinarySize",{enumerable:!0,get:function(){return tc.getBinarySize}});Object.defineProperty(nt,"arrayContainsArray",{enumerable:!0,get:function(){return tc.arrayContainsArray}});Object.defineProperty(nt,"toAscii",{enumerable:!0,get:function(){return tc.toAscii}});Object.defineProperty(nt,"fromUtf8",{enumerable:!0,get:function(){return tc.fromUtf8}});Object.defineProperty(nt,"fromAscii",{enumerable:!0,get:function(){return tc.fromAscii}});Object.defineProperty(nt,"getKeys",{enumerable:!0,get:function(){return tc.getKeys}});Object.defineProperty(nt,"isHexString",{enumerable:!0,get:function(){return tc.isHexString}})});var Xne=E(u0=>{"use strict";h();p();Object.defineProperty(u0,"__esModule",{value:!0});var l3,Pa=w5(),RMe=(Ane(),m0(Cne)),PMe=(l3=L9())&&typeof l3=="object"&&"default"in l3?l3.default:l3,zne=Gne(),{RegistryType:Yne}=Pa.extend,xM={ETH_SIGN_REQUEST:new Yne("eth-sign-request",401),ETH_SIGNATAURE:new Yne("eth-signature",402)},{decodeToDataItem:BMe,RegistryTypes:MMe}=Pa.extend,Qr,Tl;(function(t){t[t.requestId=1]="requestId",t[t.signData=2]="signData",t[t.dataType=3]="dataType",t[t.chainId=4]="chainId",t[t.derivationPath=5]="derivationPath",t[t.address=6]="address",t[t.origin=7]="origin"})(Qr||(Qr={})),(Tl=u0.DataType||(u0.DataType={}))[Tl.transaction=1]="transaction",Tl[Tl.typedData=2]="typedData",Tl[Tl.personalMessage=3]="personalMessage",Tl[Tl.typedTransaction=4]="typedTransaction";var f0=class extends Pa.RegistryItem{constructor(e){super(),this.getRegistryType=()=>xM.ETH_SIGN_REQUEST,this.setupData=r=>{this.requestId=r.requestId,this.signData=r.signData,this.dataType=r.dataType,this.chainId=r.chainId,this.derivationPath=r.derivationPath,this.address=r.address,this.origin=r.origin},this.getRequestId=()=>this.requestId,this.getSignData=()=>this.signData,this.getDataType=()=>this.dataType,this.getChainId=()=>this.chainId,this.getDerivationPath=()=>this.derivationPath.getPath(),this.getSignRequestAddress=()=>this.address,this.getOrigin=()=>this.origin,this.toDataItem=()=>{let r={};this.requestId&&(r[Qr.requestId]=new Pa.DataItem(this.requestId,MMe.UUID.getTag())),this.address&&(r[Qr.address]=this.address),this.chainId&&(r[Qr.chainId]=this.chainId),this.origin&&(r[Qr.origin]=this.origin),r[Qr.signData]=this.signData,r[Qr.dataType]=this.dataType;let n=this.derivationPath.toDataItem();return n.setTag(this.derivationPath.getRegistryType().getTag()),r[Qr.derivationPath]=n,new Pa.DataItem(r)},this.setupData(e)}static constructETHRequest(e,r,n,i,a,o,s,u){let f=n.replace(/[m|M]\//,"").split("/"),c=new Pa.CryptoKeypath(f.map(l=>{let g=parseInt(l.replace("'","")),y=!1;return l.endsWith("'")&&(y=!0),new Pa.PathComponent({index:g,hardened:y})}),v.Buffer.from(i,"hex"));return new f0({requestId:a?v.Buffer.from(RMe.parse(a)):void 0,signData:e,dataType:r,derivationPath:c,chainId:o,address:s?v.Buffer.from(s.replace("0x",""),"hex"):void 0,origin:u||void 0})}};f0.fromDataItem=t=>{let e=t.getData(),r=e[Qr.signData],n=e[Qr.dataType],i=Pa.CryptoKeypath.fromDataItem(e[Qr.derivationPath]),a=e[Qr.chainId]?e[Qr.chainId]:void 0,o=e[Qr.address]?e[Qr.address]:void 0,s=e[Qr.requestId]?e[Qr.requestId].getData():void 0;return new f0({requestId:s,signData:r,dataType:n,chainId:a,derivationPath:i,address:o,origin:e[Qr.origin]?e[Qr.origin]:void 0})},f0.fromCBOR=t=>{let e=BMe(t);return f0.fromDataItem(e)};var{RegistryTypes:NMe,decodeToDataItem:qMe}=Pa.extend,_p;(function(t){t[t.requestId=1]="requestId",t[t.signature=2]="signature"})(_p||(_p={}));var mp=class extends Pa.RegistryItem{constructor(e,r){super(),this.getRegistryType=()=>xM.ETH_SIGNATAURE,this.getRequestId=()=>this.requestId,this.getSignature=()=>this.signature,this.toDataItem=()=>{let n={};return this.requestId&&(n[_p.requestId]=new Pa.DataItem(this.requestId,NMe.UUID.getTag())),n[_p.signature]=this.signature,new Pa.DataItem(n)},this.signature=e,this.requestId=r}};mp.fromDataItem=t=>{let e=t.getData(),r=e[_p.signature],n=e[_p.requestId]?e[_p.requestId].getData():void 0;return new mp(r,n)},mp.fromCBOR=t=>{let e=qMe(t);return mp.fromDataItem(e)};var Wne=(t,e)=>{let r=PMe.fromExtendedKey(t).derive(e),n="0x"+zne.publicToAddress(r.publicKey,!0).toString("hex");return zne.toChecksumAddress(n)},{cbor:FMe}=Pa.extend;FMe.patchTags(Object.values(xM).filter(t=>!!t.getTag()).map(t=>t.getTag())),Object.keys(Pa).forEach(function(t){t!=="default"&&Object.defineProperty(u0,t,{enumerable:!0,get:function(){return Pa[t]}})}),u0.ETHSignature=mp,u0.EthSignRequest=f0,u0.findHDpatfromAddress=(t,e,r,n)=>{for(let i=0;i<r;i++){let a=Wne(e,"M/0/"+i);if(t.toLowerCase()==a.toLowerCase())return`${n}/0/${i}`}return null},u0.generateAddressfromXpub=Wne});var $ne=E((f4t,Jne)=>{"use strict";h();p();Jne.exports=Xne()});var Zne=E(bM=>{"use strict";h();p();Object.defineProperty(bM,"__esModule",{value:!0});var LMe=gn(),rc=$ne();bM.URRegistryDecoder=class extends LMe.URDecoder{constructor(){super(...arguments),this.resultRegistryType=()=>{let t=this.resultUR();switch(t.type){case"bytes":return rc.Bytes.fromCBOR(t.cbor);case"crypto-hdkey":return rc.CryptoHDKey.fromCBOR(t.cbor);case"crypto-keypath":return rc.CryptoKeypath.fromCBOR(t.cbor);case"crypto-coin-info":return rc.CryptoCoinInfo.fromCBOR(t.cbor);case"crypto-eckey":return rc.CryptoECKey.fromCBOR(t.cbor);case"crypto-output":return rc.CryptoOutput.fromCBOR(t.cbor);case"crypto-psbt":return rc.CryptoPSBT.fromCBOR(t.cbor);case"crypto-account":return rc.CryptoAccount.fromCBOR(t.cbor);case"eth-signature":return rc.ETHSignature.fromCBOR(t.cbor);case"eth-sign-request":return rc.EthSignRequest.fromCBOR(t.cbor);default:throw new Error(`#[ur-registry][Decoder][fn.resultRegistryType]: registry type ${t.type} is not supported now`)}}}}});var eie=E((y4t,Qne)=>{"use strict";h();p();Qne.exports=Zne()});var fie=E(ht=>{"use strict";h();p();Object.defineProperty(ht,"__esModule",{value:!0});var h3,tn=oc(),xp=(h3=tn)&&typeof h3=="object"&&"default"in h3?h3.default:h3,tie=gn(),UMe=LZ(),rie=Do(),kMe=Ere(),wM=eie(),EM=({cbor:t,type:e,capacity:r=400,interval:n=100})=>{let i=tn.useMemo(()=>new tie.UREncoder(new tie.UR(v.Buffer.from(t,"hex"),e),r),[t,e]),[a,o]=tn.useState(i.nextPart().toUpperCase());return tn.useEffect(()=>{let s=setInterval(()=>{o(i.nextPart().toUpperCase())},n);return()=>{clearInterval(s)}},[i]),a},jMe=({value:t,size:e=180})=>xp.createElement("div",{style:{width:e,height:e,backgroundColor:"white",display:"flex",justifyContent:"center",alignItems:"center"}},xp.createElement(UMe.QRCodeCanvas,{value:t,size:e-10})),SM="qr-scanner-video",nie=({handleScan:t,handleError:e,blur:r=!0,videoLoaded:n,width:i,height:a})=>{let[o,s]=tn.useState(!1),u=tn.useMemo(()=>{let f=new Map;return f.set(rie.DecodeHintType.POSSIBLE_FORMATS,[rie.BarcodeFormat.QR_CODE]),new kMe.BrowserQRCodeReader(f,{delayBetweenScanAttempts:50,delayBetweenScanSuccess:100})},[]);return tn.useEffect(()=>{let f=document.getElementById(SM),c=()=>{s(!0),n&&n(!0)};f.addEventListener("canplay",c);let l=(f?.pendingScanRequest??Promise.resolve(void 0)).then(()=>u.decodeFromVideoDevice(void 0,f,(g,y)=>{g&&t(g.getText()),y&&e(y.message)})).catch(g=>{console.error(g)});return f&&(f.pendingScanRequest=l),()=>{f.removeEventListener("canplay",c),l.then(g=>{g&&g.stop()})}},[]),xp.createElement("video",{id:SM,"data-testid":SM,style:{display:o?"block":"none",width:i||"auto",height:a||"auto",objectFit:"cover",transform:"rotateY(180deg)",filter:r?"blur(4px)":"none"}})},iie,en,Cl,Al;(iie=ht.QRCodeError||(ht.QRCodeError={})).UNEXPECTED_QRCODE="UNEXPECTED_QRCODE",iie.INVALID_QR_CODE="INVALID_QR_CODE",function(t){t.ACCESSING_CAMERA="ACCESSING_CAMERA",t.NO_WEBCAM="NO_WEBCAM_FOUND",t.PERMISSION_NEEDED="NO_WEBCAM_ACCESS",t.READY="READY",t.UNKNOWN_ERROR="UNKNOWN_CAMERA_ERROR"}(en||(en={})),(Cl=ht.Purpose||(ht.Purpose={})).SYNC="sync",Cl.SIGN="sign",Cl.SOL_SYNC="sol-sync",Cl.SOL_SIGN="sol-sign",Cl.NEAR_SYNC="near-sync",Cl.NEAR_SIGN="near-sign",Cl.COSMOS_SYNC="cosmos-sync",Cl.COSMOS_SIGN="cosmos-sign",(Al=ht.URType||(ht.URType={})).CRYPTO_HDKEY="crypto-hdkey",Al.CRYPTO_ACCOUNT="crypto-account",Al.CRYPTO_MULTI_ACCOUNTS="crypto-multi-accounts",Al.ETH_SIGNATURE="eth-signature",Al.SOL_SIGNATURE="sol-signature",Al.NEAR_SIGNATURE="near-signature",Al.COSMOS_SIGNATURE="cosmos-signature",Al.EVM_SIGNATURE="evm-signature";var aie={[ht.Purpose.SYNC]:[ht.URType.CRYPTO_HDKEY,ht.URType.CRYPTO_ACCOUNT],[ht.Purpose.SIGN]:[ht.URType.ETH_SIGNATURE],[ht.Purpose.SOL_SYNC]:[ht.URType.CRYPTO_MULTI_ACCOUNTS],[ht.Purpose.SOL_SIGN]:[ht.URType.SOL_SIGNATURE],[ht.Purpose.NEAR_SYNC]:[ht.URType.CRYPTO_MULTI_ACCOUNTS],[ht.Purpose.NEAR_SIGN]:[ht.URType.NEAR_SIGNATURE],[ht.Purpose.COSMOS_SYNC]:[ht.URType.CRYPTO_MULTI_ACCOUNTS],[ht.Purpose.COSMOS_SIGN]:[ht.URType.COSMOS_SIGNATURE]},oie=({purpose:t,urTypes:e=[],handleScan:r,handleError:n,onProgress:i})=>{let a=new wM.URRegistryDecoder;return{handleScanSuccess:o=>{try{if(a.receivePart(o),!a.isComplete())return void(i&&i(Math.trunc(100*a.estimatedPercentComplete())));if(a.isError()&&n(ht.QRCodeError.INVALID_QR_CODE),a.isSuccess()){let s=a.resultUR(),u=[];if(t&&aie[t]&&u.push(...aie[t]),u.push(...e),u.includes(s.type)){i&&i(100);try{r({type:s.type,cbor:s.cbor.toString("hex")})}catch{n("FAILED_TO_HANDLE_QR_CODE")}}else n(ht.QRCodeError.UNEXPECTED_QRCODE);a=new wM.URRegistryDecoder}}catch{n(ht.QRCodeError.INVALID_QR_CODE),a=new wM.URRegistryDecoder}},handleScanFailure:o=>{n&&o&&n(o)}}},sie=async t=>{let e=((o="popup.html")=>new URL(window.location.href).pathname==="/"+o)(t),r=(()=>{let{navigator:o}=window,{userAgent:s}=o;return s.includes("Firefox")||"brave"in o})(),n=(await window.navigator.mediaDevices.enumerateDevices()).filter(o=>o.kind==="videoinput"),i=n.length>0,a=n.some(o=>o.label&&o.label.length>0);if(i){let o=!0;return(r&&e||e&&!a)&&(o=!1),{permissions:a,environmentReady:o}}throw new Error(en.NO_WEBCAM)},uie=t=>{let[e,r]=tn.useState(en.ACCESSING_CAMERA),n=tn.useRef(!1),i=null,a=async()=>{try{let{permissions:s}=await sie(t);if(s){if(await new Promise(u=>setTimeout(u,2e3)),!n.current)return;r(en.READY)}else n.current&&(i=setTimeout(a,1e3),r(en.PERMISSION_NEEDED))}catch{n.current&&r(en.UNKNOWN_ERROR)}},o=()=>{try{a()}catch(s){if(!n.current)return;r(s?.name==="NotAllowedError"?en.PERMISSION_NEEDED:en.UNKNOWN_ERROR)}};return tn.useEffect(()=>(n.current=!0,(async()=>{try{let{environmentReady:s}=await sie(t);r(s?en.READY:en.PERMISSION_NEEDED)}catch{n.current&&r(en.UNKNOWN_ERROR)}o()})(),()=>{n.current=!1,clearTimeout(i)}),[]),tn.useEffect(()=>{e===en.READY?o():e===en.PERMISSION_NEEDED&&a()},[e]),{cameraStatus:e}};ht.AnimatedQRCode=({cbor:t,type:e,options:r})=>{let n=EM({cbor:t,type:e,capacity:r?.capacity,interval:r?.interval});return xp.createElement(jMe,{value:n,size:r?.size})},ht.AnimatedQRScanner=({purpose:t,urTypes:e,handleScan:r,handleError:n,options:i,videoLoaded:a,onProgress:o})=>{let s=tn.useRef(en.ACCESSING_CAMERA),{cameraStatus:u}=uie(),{handleScanSuccess:f,handleScanFailure:c}=oie({purpose:t,urTypes:e,handleScan:r,handleError:n,onProgress:o});return tn.useEffect(()=>{a&&s.current!==u&&(u===en.PERMISSION_NEEDED||u===en.NO_WEBCAM?a(!1,u):u===en.READY&&a(!0))},[u]),xp.createElement(nie,{handleScan:f,handleError:c,width:i?.width,height:i?.height,blur:i?.blur,videoLoaded:a})},ht.useAnimatedQRCode=EM,ht.useAnimatedQRScanner=({Scanner:t=nie,scannerProps:e={}})=>{let[r,n]=tn.useState(!1),[i,a]=tn.useState(!0),o=tn.useRef(r),{cameraStatus:s}=uie(),u=tn.useMemo(()=>({purpose:f,urTypes:c,handleScan:l,handleError:g,options:y})=>{let _=[],{handleScanSuccess:w,handleScanFailure:S}=oie({purpose:f,urTypes:c,handleScan:I=>{o.current||(n(!0),l(I))},handleError:I=>{if(o.current)return;if(!/^Dimensions/i.test(I))return n(!0),void g(I);let O=Date.now();_.unshift(O),_[4]&&O-_[4]<500&&(_.length=0,n(!0),g(I))}});return xp.createElement(t,Object.assign({handleScan:w,handleError:S},e,y))},[]);return tn.useEffect(()=>{o.current=r},[r]),tn.useEffect(()=>{s!==en.PERMISSION_NEEDED&&s!==en.NO_WEBCAM||a(!1)},[s]),{isDone:r,hasPermission:i,AnimatedQRScanner:u,setIsDone:n}},ht.withAnimatedQRCode=({WrappedComponent:t,valueFieldName:e="text",additionalProps:r={}})=>tn.useMemo(()=>({cbor:n,type:i,capacity:a=400,interval:o=100})=>{let s=EM({cbor:n,type:i,capacity:a,interval:o});return xp.createElement(t,Object.assign({},{[e]:s},r))},[])});var U5=E((w4t,cie)=>{"use strict";h();p();cie.exports=fie()});h();p();var OM=sa(oc());x0();h();p();var Jy=sa(oc());x0();h();p();var Xy={root:"_root_1inmb_1",title:"_title_1inmb_5",content:"_content_1inmb_11",updateBtn:"_updateBtn_1inmb_19"};var Xwe=({onClose:t,onConfirm:e})=>Jy.default.createElement(Ke.Box,{className:Xy.root},Jy.default.createElement(Ke.Box,{className:Xy.title},Ct("extension_wallet_hardware_wallet_title_hardware_update_keystone")),Jy.default.createElement(Ke.Box,{className:Xy.content},Ct("extension_wallet_hardware_wallet_text_update_keystone")),Jy.default.createElement(Ba,{category:Ba.CATEGORY.fill,className:Xy.updateBtn,type:Ba.TYPE.highlight,size:Ba.SIZE.lg,onClick:e,block:!0},Ct("extension_wallet_hardware_wallet_btn_update_keystone")),Jy.default.createElement(Ba,{category:Ba.CATEGORY.outline,className:Xy.updateBtn,type:Ba.TYPE.highlight,size:Ba.SIZE.lg,onClick:t,block:!0},Ct("extension_wallet_hardware_wallet_btn_update_keystone_continue"))),bZ=Xwe;h();p();var oa=sa(oc()),hie=sa(U5()),Yv=sa(HS()),pie=sa(mN());x0();h();p();h();p();x0();O3();Vie();Zie();$ie();D3();var HMe=()=>({[no]:ou.bip44,[b0]:Z5.SEGWIT_NESTED_49}),die=(t,e)=>Object.values(e[t]).map(({address:r})=>r),KMe=async t=>{t=aN(t);let e=t.map(r=>{let n=die(no,r),i=die(b0,r);return{evm:n,bitcoin:i}});try{let{data:r}=await yN(fN.getAssetFromChain,e),n=r.reduce((a,o)=>{let{evm:s,bitcoin:u}=o;return tT(a,s),tT(a,u),a},{});return t.map((a,o)=>{let{mainnet:s,bitcoin:u}=a,f=0,c="",l=[];Object.entries(s).forEach(([y,_])=>{_.balance=n[_.address]||0,l.includes(_.address)||(l.push(_.address),f=fm.add(f,_.balance)),fm.gt(_.balance,0)&&(c=y)}),a.addressType[no]||(c||(o===0?c=ou.bip44:c=t[o-1]?.addressType[no]),a.addressType[no]=c);let g=0;return Object.values(u).forEach(({address:y})=>{g=fm.add(g,n[y]||0)}),a.addressType[b0]??=Z5.SEGWIT_NESTED_49,a.balance=fm.add(f,g),a})}catch{return t.map(n=>(oN(n.addressType)&&(n.addressType=HMe()),n))}};h();p();O3();Yie();Xie();D3();h();p();var k5=t=>`m/44'/60'/${t}'/0/0`,j5=10,F4t=t=>[{pathName:`BIP44 standard | m/44/60'/0'/0/${t}`,recommend:!0,type:ou.bip44},{pathName:`Ledger live | m/44/60'/${t}'/0/0`,recommend:!1,type:ou.ledgerLive},{pathName:`Legacy | m/44/60'/0'/${t}`,recommend:!1,type:ou.legacy}],L4t="Keystone 3 Pro",U4t=(t,e)=>{let{isNaN:r}=Number,n=t.split("."),i=e.split(".");for(let a=0;a<3;a++){let o=Number(n[a]),s=Number(i[a]);if(o>s)return 1;if(s>o)return-1;if(!r(o)&&r(s))return 1;if(r(o)&&!r(s))return-1}return 0};var VMe=async(t,e,r)=>{let n=k5(t),{publicKey:i}=Dp(r,{path:n})||{},{getAddressByPublicKey:a}=await pN(),o=await a(60,{publicKey:i});e[no][ou.ledgerLive]={path:n,address:o}},GMe=rT(ou.legacy,""),zMe=rT(ou.bip44,"0/"),YMe=async(t,e,r)=>{e[no]={},await GMe(t,e,r),await VMe(t,e,r),await zMe(t,e,r)},WMe=async t=>{let{keys:e,accountsWithBalance:r}=t,n=[];for(let i=0;i<j5;i++){let a=r?.[i],o={index:i,addressType:a?.addressType||{},addressTypeUpdated:a?.addressTypeUpdated||!1};await YMe(i,o,e),await bN(i,o,e),n.push(o)}return n};h();p();O3();var XMe=t=>{for(let e=0;e<eT.length;e++){let{basePath:r}=eT[e];if(!Dp(t,{path:r,chain:"BTC"})?.extendedPublicKey)return!1}return!0},JMe=t=>{for(let e=0;e<j5;e++){let r=k5(e);if(!Dp(t,{path:r,chain:"ETH"})?.publicKey)return!1}return!!Dp(t,{path:xN,chain:"ETH"})?.extendedPublicKey},lie=[XMe,JMe],IM=(t={})=>{let{keys:e}=t;for(let r=0;r<lie.length;r++){let n=lie[r];if(!n(e))return!1}return!0};Jie();h();p();var CM=sa(oc());h();p();var TM={root:"_root_15ftx_1",scanBesomImage:"_scanBesomImage_15ftx_10",scan:"_scan_15ftx_10"};var $Me=({children:t})=>CM.default.createElement(Ke.Box,{className:TM.root},CM.default.createElement(uN,{className:TM.scanBesomImage,src:`${vN()}/cdn/assets/imgs/236/3F2C9D51D44B734A.png`}),t),H5=$Me;h();p();x0();var ZMe=()=>{let t=Nl.tip({width:320,zIndex:20001,title:Ct("wallet_extension_header_modaltitle_nocamera_recognized"),children:Ct("wallet_extension_mid_modaldesc_check_camera"),confirmText:Ct("wallet_extension_popup_btn_confirm"),onConfirm(){t.destroy()}})},K5=ZMe;h();p();var nc={root:"_root_nakxb_1",header:"_header_nakxb_8",backIcon:"_backIcon_nakxb_14",icon:"_icon_nakxb_29",howToLink:"_howToLink_nakxb_32",status:"_status_nakxb_37",progress:"_progress_nakxb_42",intro:"_intro_nakxb_48",qrCodeHelper:"_qrCodeHelper_nakxb_54"};var QMe=({onBack:t,handler:e})=>{let[r,n]=(0,oa.useState)(0),i=f=>{gN(f)&&f>0&&f<=100&&n(f)},a=(0,oa.useRef)(null),o=({type:f,cbor:c})=>{let l=Yv.default.parseMultiAccounts(new Yv.UR(v.Buffer.from(c,"hex"),f));if(n(0),IM(l))e.resolve(l);else{if(a.current)return;a.current=Nl.tip({width:320,zIndex:20001,title:Ct("wallet_extension_header_modaltitle_error_qr"),children:Ct("wallet_extension_mid_modaldesc_check_qr"),confirmText:Ct("wallet_extension_popup_btn_confirm"),onConfirm(){a.current.destroy(),a.current=null}})}},s=f=>{console.log("error: ",f)},u=f=>{f||K5()};return oa.default.createElement(Ke.FlexBox,{align:Ke.ALIGN.center,className:nc.root,direction:Ke.DIRECTION.vertical},oa.default.createElement(Ke.FlexBox,{align:Ke.ALIGN.center,className:nc.header,justify:"space-between"},oa.default.createElement(Ke.Box,{className:nc.backIcon,onClick:()=>t(!1)},oa.default.createElement(cm,{className:(0,pie.default)("okds-arrow-chevron-left-centered-md",nc.icon)})),oa.default.createElement(_N,{className:nc.howToLink,href:Ct("wallet_extension_footer_link_link_http")},Ct("wallet_extension_footer_textbtn_how_connect"))),oa.default.createElement(H5,null,oa.default.createElement(hie.AnimatedQRScanner,{handleScan:o,handleError:s,onProgress:i,urTypes:[Yv.URType.CryptoMultiAccounts],videoLoaded:u,options:{width:264,height:264}})),oa.default.createElement(Ke.Box,{className:nc.status},r?oa.default.createElement(Ke.Box,{className:nc.progress},Ct("wallet_extension_footer_text_progress",{value:r})):oa.default.createElement(Ke.Box,{className:nc.intro},Ct("wallet_extension_footer_text_scan_qr")),oa.default.createElement(Ke.Box,{className:nc.qrCodeHelper},Ct("wallet_extension_footer_text_clickqr_tryagain"))))},gie=QMe;h();p();var Qu=sa(oc()),yie=sa(U5()),Ol=sa(HS());O3();x0();D3();h();p();var p3=sa(oc()),V5=sa(mN());x0();h();p();var Wv={"retina-border-basic":"_retina-border-basic_v8fqc_1",retinaBorderBasic:"_retina-border-basic_v8fqc_1",root:"_root_v8fqc_29","step-2":"_step-2_v8fqc_65",step2:"_step-2_v8fqc_65",main:"_main_v8fqc_68",back:"_back_v8fqc_71",close:"_close_v8fqc_72"};var eNe=({step:t,onBack:e,onClose:r})=>p3.default.createElement(Ke.FlexBox,{className:(0,V5.default)(Wv.root,{[Wv[`step-${t}`]]:!0}),align:Ke.ALIGN.center},p3.default.createElement(cm,{className:(0,V5.default)(Wv.back,"okds-arrow-chevron-left-centered-md"),onClick:e}),p3.default.createElement(Ke.Box,{className:Wv.main},Ct("wallet_extension_top_text_step1",{step:t,total:2})),p3.default.createElement(cm,{className:(0,V5.default)(Wv.close,"okds-close"),onClick:r})),G5=eNe;h();p();var Xv={root:"_root_mb94k_1",main:"_main_mb94k_8",title:"_title_mb94k_13",desc:"_desc_mb94k_25",progress:"_progress_mb94k_37"};var tNe=({handler:t,baseChain:e,gotoShowTxParams:r,onClose:n})=>{let i=new Ol.default,a={[no](){let y=({type:w,cbor:S})=>{let{signature:I}=i.eth.parseSignature(new Ol.UR(v.Buffer.from(S,"hex"),w));t.resolve(I)},_=[Ol.URType.EthSignature];return{onSucceed:y,urTypes:_}},[b0](){let y=({type:w,cbor:S})=>{let I=i.btc.parsePSBT(new Ol.UR(v.Buffer.from(S,"hex"),w));t.resolve(I)},_=[Ol.URType.CryptoPSBT];return{onSucceed:y,urTypes:_}}},{onSucceed:o,urTypes:s}=a[e](),u=y=>{console.log("error: ",y)},f=y=>{y||K5()},[c,l]=(0,Qu.useState)(0),g=y=>{sN(y)&&y>0&&y<=100&&l(y)};return Qu.default.createElement(Ke.FlexBox,{direction:Ke.DIRECTION.vertical,align:Ke.ALIGN.center,className:Xv.root},Qu.default.createElement(G5,{step:"2",onBack:r,onClose:n}),Qu.default.createElement(Ke.FlexBox,{direction:Ke.DIRECTION.vertical,align:Ke.ALIGN.center,className:Xv.main},Qu.default.createElement(Ke.Box,{className:Xv.title},Ct("wallet_extension_top_title_receive_signature")),Qu.default.createElement(Ke.Box,{className:Xv.desc},Ct("wallet_extension_top_subtitle_scan_receive")),Qu.default.createElement(H5,null,Qu.default.createElement(yie.AnimatedQRScanner,{handleScan:o,handleError:u,videoLoaded:f,onProgress:g,urTypes:s,options:{width:264,height:264}})),!!c&&Qu.default.createElement(Ke.Box,{className:Xv.progress},Ct("wallet_extension_footer_text_progress",{value:c}))))},vie=tNe;h();p();var ic=sa(oc());x0();var mie=sa(HS()),_ie=sa(U5());D3();h();p();var bp={root:"_root_ilr2y_1",main:"_main_ilr2y_5",title:"_title_ilr2y_10",desc:"_desc_ilr2y_21",qrCode:"_qrCode_ilr2y_33",footerWrap:"_footerWrap_ilr2y_37"};var rNe=t=>{let{gotoGetSignature:e,signRequest:r,baseChain:n,onBack:i,onClose:a}=t,o=new mie.default,u={[no](){return o.eth.generateSignRequest(r)},[b0](){return o.btc.generatePSBT(v.Buffer.from(r,"hex"))}}[n]();return ic.default.createElement(Ke.FlexBox,{direction:Ke.DIRECTION.vertical,className:bp.root},ic.default.createElement(G5,{step:"1",onBack:()=>i(!0),onClose:a}),ic.default.createElement(Ke.FlexBox,{direction:Ke.DIRECTION.vertical,align:Ke.ALIGN.center,className:bp.main},ic.default.createElement(Ke.Box,{className:bp.title},Ct("wallet_extension_top_title_signature_requesting")),ic.default.createElement(Ke.Box,{className:bp.desc},Ct("wallet_extension_top_subtitle_signature_scanqr")),ic.default.createElement(Ke.Box,{className:bp.qrCode},ic.default.createElement(_ie.AnimatedQRCode,{type:u.type,cbor:u.cbor.toString("hex"),options:{size:270}}))),ic.default.createElement(Ke.Box,{className:bp.footerWrap},ic.default.createElement(Ba,{category:Ba.CATEGORY.fill,type:Ba.TYPE.highlight,size:Ba.SIZE.lg,className:"wallet-management__button",onClick:e},Ct("wallet_extension_footer_btn_signature_next"))))},xie=rNe;h();p();var AM={dialogWrap:"_dialogWrap_16xm3_1",windowClass:"_windowClass_16xm3_7"};var g3={getAccounts:"getAccounts",showTxParams:"showTxParams",getSignature:"getSignature"},nNe={[g3.getAccounts]:gie,[g3.showTxParams]:xie,[g3.getSignature]:vie},DM=class{constructor(){_0(this,"renderContent",()=>{let{type:e,props:r,gotoGetSignature:n,gotoShowTxParams:i,handler:a}=this,{onBackBtnClick:o,...s}=r,u=nNe[e];return u?OM.default.createElement(u,{...s,onBack:(l=!1)=>{this.closeModal(),o&&o(),l&&a.reject(new Error(Q5))},onClose:()=>{this.closeModal(),a.reject(new Error(Q5))},gotoShowTxParams:i,gotoGetSignature:n,handler:a}):null});_0(this,"renderModalDom",()=>{this.modalDom=Nl.show({float:!1,whiteboard:!0,className:AM.dialogWrap,windowClass:AM.windowClass,zIndex:2e4,children:this.renderContent()})});_0(this,"openModal",(e,r={})=>new Promise((n,i)=>{this.handler={resolve:a=>{this.closeModal(),n(a)},reject:a=>{this.closeModal(),i(a)}},this.type=e,this.props=r,this.renderModalDom()}));_0(this,"closeModal",()=>{this.modalDom&&(this.modalDom.destroy(),this.modalDom=null)});_0(this,"gotoGetSignature",()=>{this.type=g3.getSignature,this.modalDom.update({children:this.renderContent()})});_0(this,"gotoShowTxParams",()=>{this.type=g3.showTxParams,this.modalDom.update({children:this.renderContent()})});_0(this,"showUpdateModal",()=>{let e=Nl.action({alignBottom:!0,noTopRadius:!1,noContentPadding:!0,children:OM.default.createElement(bZ,{onClose:()=>{e.destroy()},onConfirm:()=>{globalThis.platform.openTab({url:Ct("extension_wallet_hardware_wallet_url_guiddoc")}),e.destroy()}}),onClose(){e.destroy()}})});this.type="getAccounts",this.modalDom=null}},iNe=new DM,Q6t=iNe;export{HS as a,KMe as b,F4t as c,L4t as d,U4t as e,WMe as f,g3 as g,Q6t as h};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-5D5WAQN4.js.map
