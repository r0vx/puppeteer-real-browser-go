import{a as j}from"./chunk-ECC5IHEE.js";import{a as Y}from"./chunk-4OAB5M6C.js";import{b as F}from"./chunk-JLNOW4KR.js";import{a as V}from"./chunk-Q2NFJPGV.js";import{b as K}from"./chunk-ESFVNQVW.js";import{a as $,b as q}from"./chunk-DP2SXYTT.js";import"./chunk-A4QA4J4S.js";import"./chunk-W6JKZXLB.js";import"./chunk-CXT4EHFX.js";import"./chunk-W3MRBSTV.js";import"./chunk-HPJHY2AY.js";import"./chunk-CK7Z2DAQ.js";import"./chunk-5E2Y3UHC.js";import"./chunk-OQZ6UOCK.js";import"./chunk-IFQLVQH6.js";import"./chunk-5TLDWKXV.js";import"./chunk-7GRDW7ZD.js";import"./chunk-ZZH7FUZX.js";import"./chunk-NLKYL456.js";import{a as R}from"./chunk-7X4DXTSI.js";import"./chunk-LURPYTXM.js";import"./chunk-OADPFYBO.js";import"./chunk-CIEH2J25.js";import"./chunk-64LKONIY.js";import"./chunk-VVJ6BK3Q.js";import"./chunk-FUVVPSUI.js";import"./chunk-NKIUEXOA.js";import"./chunk-EP23RRSK.js";import"./chunk-4YDY4B6P.js";import"./chunk-CGFS6AE4.js";import"./chunk-DDT324RS.js";import"./chunk-2TQXMDYZ.js";import"./chunk-RNMISV22.js";import"./chunk-A267SEFJ.js";import"./chunk-VR7OPIR6.js";import{b as X}from"./chunk-LKSOM4R2.js";import{a as U}from"./chunk-HBWTVKRO.js";import"./chunk-4ZGOJDNI.js";import"./chunk-ZPQXBUKT.js";import"./chunk-35Y7QMWN.js";import"./chunk-VIT5MDY4.js";import"./chunk-RH6WPBEZ.js";import{q as H}from"./chunk-CDNJY7Z3.js";import"./chunk-DBWXHHZT.js";import"./chunk-VVKAQ7K5.js";import{d as L}from"./chunk-7JSJY3SQ.js";import"./chunk-NWY3GPDX.js";import"./chunk-6JEFG7DQ.js";import"./chunk-B6YXJZUF.js";import"./chunk-4I2JSOYJ.js";import"./chunk-GTN3RCGH.js";import"./chunk-3VKPY2QL.js";import"./chunk-AOSRFQ4E.js";import"./chunk-ULL77AIR.js";import"./chunk-PJYSMRRW.js";import"./chunk-GKQQDLVP.js";import"./chunk-7YKP5374.js";import"./chunk-KGG7DXMS.js";import"./chunk-FGIHS4ZF.js";import"./chunk-U65R4NF3.js";import"./chunk-OTUJWRS5.js";import"./chunk-WIW5JVRP.js";import"./chunk-7CXUJS4C.js";import"./chunk-ULXZERAJ.js";import"./chunk-PJ5X5CUU.js";import"./chunk-TSVRDRPO.js";import"./chunk-PPTAKQQT.js";import"./chunk-IFQDHP3Z.js";import"./chunk-DA5RJYYW.js";import"./chunk-HUC3JPS2.js";import"./chunk-MYNDXPHU.js";import"./chunk-ZTIVM5ML.js";import"./chunk-2E2OBQTS.js";import"./chunk-VICEBZ4G.js";import"./chunk-WO6OHGU2.js";import"./chunk-3S4BGA37.js";import"./chunk-POP3LIKS.js";import"./chunk-PMRTKWFS.js";import"./chunk-G44PPNNQ.js";import"./chunk-K2BSCLBF.js";import"./chunk-PZY7HRHV.js";import"./chunk-Z2L2F5M5.js";import"./chunk-IPLOJJIA.js";import"./chunk-RLPRDJ34.js";import"./chunk-2ASICJQL.js";import"./chunk-TQWSBAXG.js";import"./chunk-6JVCYB7O.js";import"./chunk-GR42TVIZ.js";import"./chunk-QMSSDBOR.js";import"./chunk-5RCFYEZ6.js";import"./chunk-B3SXRDEQ.js";import{b}from"./chunk-A5XY2FFW.js";import"./chunk-7HRNNJBX.js";import"./chunk-F6UVHIJV.js";import"./chunk-ZLJJZYPU.js";import"./chunk-5TNLDTW5.js";import"./chunk-636UWIUZ.js";import"./chunk-34JXWTF5.js";import"./chunk-JSOLAK4X.js";import"./chunk-R7LZSAVU.js";import"./chunk-LTLRDXME.js";import"./chunk-RMI6BAM3.js";import"./chunk-AADHEW4J.js";import"./chunk-OK4242CI.js";import"./chunk-6MVL4I6V.js";import"./chunk-E7MGN3V4.js";import"./chunk-YGIVEMKT.js";import"./chunk-T4RFDN7D.js";import"./chunk-NQAVUB4Q.js";import"./chunk-IEGAVAV7.js";import"./chunk-V4P2E4SN.js";import"./chunk-DYL77QBO.js";import"./chunk-5A3RJQCM.js";import"./chunk-MN3UHDTX.js";import"./chunk-IJW6HFV5.js";import"./chunk-N2MMFEEK.js";import"./chunk-MKDQBVRZ.js";import"./chunk-DA2FCNEZ.js";import"./chunk-TLZRRG7J.js";import"./chunk-ZFFAX2YS.js";import"./chunk-7UDMBSMI.js";import"./chunk-7C7MBE2C.js";import"./chunk-KJWX5V23.js";import"./chunk-KDVER5QK.js";import"./chunk-5CHE7P4E.js";import"./chunk-PD44C7EF.js";import"./chunk-6K6UF6OE.js";import"./chunk-OKXHAJNT.js";import"./chunk-CBHKW7LL.js";import"./chunk-67F2WFQO.js";import"./chunk-QYDRYMWS.js";import"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3C5KK.js";import"./chunk-XZE3L7K7.js";import"./chunk-Y5K5NJ6U.js";import"./chunk-UR7XESQE.js";import"./chunk-JABAEAEN.js";import"./chunk-VY2VK2OT.js";import"./chunk-Q7FGM7BT.js";import"./chunk-TKE74ERX.js";import"./chunk-MONRGJFN.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import"./chunk-IK72BO4I.js";import"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import"./chunk-XP3TNE3R.js";import"./chunk-QRHYK2TW.js";import"./chunk-PODZSVO7.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import"./chunk-532YJKK4.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import{c as W,e as Nt}from"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-2FDQIA7D.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import{C as E,J as N}from"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import{a as _t}from"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import{c as x}from"./chunk-62ZAND24.js";import"./chunk-SIITVWZR.js";import{Ob as y,R as O,fc as pt,ia as dt,ne as B,oe as lt}from"./chunk-QHXUL3YM.js";import{H as ut,y as h}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import{L as M,ra as ft}from"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{aa as z}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as g}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-D2YP6KBJ.js";import"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-S5ACFHVS.js";import"./chunk-FQLRWF7X.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-VYKQ62AB.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-KTFU3F6C.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as _,o,q as r}from"./chunk-SHG7TIBL.js";o();r();var P=_(g());o();r();var J=_(g());var Q=({unapproved:t})=>{let e=t.params?.message;return J.default.createElement(j,{message:e,unapproved:t})};o();r();var p=_(g());Nt();lt();pt();o();r();var c=_(g());ut();o();r();var w={root:"_root_16zt1_1",icon:"_icon_16zt1_6",text:"_text_16zt1_10",msg:"_msg_16zt1_15",switchNetwork:"_switchNetwork_16zt1_19"};function wt({origin:t,providerType:e,chainName:s,onClick:m,onClose:n,onBeforeNetworkChange:a,onNetworkChange:i}){let[f,d]=(0,c.useState)(!1);return c.default.createElement(c.default.Fragment,null,c.default.createElement(R,{className:w.root,direction:x.DIRECTION.horizontal,space:0},c.default.createElement(z,{className:`okx-wallet-plugin-information-filled ${w.icon}`}),c.default.createElement("div",{className:w.text},c.default.createElement("span",{className:w.msg},h("wallet_extension_sonic_toast_manually_switch_network",{network:s})),c.default.createElement("span",{className:w.switchNetwork,onClick:()=>{d(!0),m&&m()}},h("wallet_extension_sonic_desc_switch_network")))),c.default.createElement(F,{origin:t,visible:f,onClose:()=>{d(!1),n&&n()},onBeforeNetworkChange:a,onNetworkChange:i,providerType:e},c.default.createElement(F.Header,{title:h("wallet_extension_sonic_desc_switch_network")})))}var Z=wt;o();r();ft();o();r();dt();o();r();var v=_(_t());var I={function:"",contractAddress:"",moduleName:"",functionName:""};async function At(t){let{Deserializer:e,TransactionPayload:s}=await import("./esm-T4EEUHR3.js"),n=s.deserialize(new e(v.default.decode(t))).entryFunction;if(!n)return I;let a=n.module_name.address.data?n.module_name.address.toString():n.module_name.address,i=n.module_name.name.identifier?n.module_name.name.identifier:n.module_name.name,f=n.function_name.identifier?n.function_name.identifier:n.function_name;return{function:`${a}::${i}::${f}`,contractAddress:a,moduleName:i,functionName:f}}async function tt(t,e){if(!t||e===E.SCRIPT_PAYLOAD)return I;if(e===E.HEX_STRING)return await At(t);if(!t.function)return I;let s=t.function.split("::");return{function:t.function,contractAddress:s[0],moduleName:s[1],functionName:s[2]}}function et(t={}){let{feePayerAddress:e,secondarySignerAddresses:s}=t;return!!(!s&&e)}var gt=({coinId:t,unapproved:e,baseCoin:s})=>{let m=U(e),a=et(e?.params?.options)&&e?.params?.options?.feePayerAddress!==m.address,{aptosFee:i={},estimateFailed:f,estimateFailedMsg:d,loading:l,resetState:C}=H({coinId:t,requestId:e.id,address:m.address,gasUnitPrice:e?.params?.options?.gas_unit_price,maxGasAmount:e?.params?.options?.max_gas_amount,isNotNeedFee:a}),T=Y({accountId:e.walletId,chainIndex:s?.chainId}),{coinAmountInt:A}=T,S=M(A)||O(A,i.fee),D={coinId:t,loading:l,estimateFailed:f,networkFee:i.fee};return{loading:l,networkFee:i,estimateFailed:f,estimateFailedMsg:d,networkFeeProps:D,isSufficientGas:S,resetState:C,coinWithBalance:T}},ot=gt;o();r();var k=_(g());function Tt(t){let[e,s]=(0,k.useState)({}),{transaction:m,extParams:n}=t.params,a=n?.dataType;return(0,k.useEffect)(()=>{let i=!0;return(async()=>{let d=await tt(m,a);i&&s(d)})(),()=>{i=!1}},[m,a]),e}var rt=Tt;o();r();var nt={root:"_root_1ou6i_1"};var St=(0,p.memo)(({unapproved:t})=>{let{origin:e,id:s}=t,m=t?.params?.extParams?.showSwitchNetwork??!0,n=t?.params?.extParams?.coinId,a=X(y),i=L(a?.coinId)||{},f=n||i?.coinId||a?.coinId,{contractAddress:d}=rt(t),{networkFee:l,loading:C,networkFeeProps:T,isSufficientGas:A,estimateFailed:S,resetState:D,estimateFailedMsg:it,coinWithBalance:G}=ot({coinId:f,unapproved:t,baseCoin:i}),at=$({baseCoin:i,unapproved:t,estimateFailed:S,estimateFailedMsg:it,isSufficientGas:A,coinWithBalance:G}),{buttonGroup:mt}=K({coinId:f,unapproved:t,feeLoading:C,estimateFailed:S,isSufficientGas:A,extParams:{serviceCharge:l.fee,maxGasAmount:l.maxGasAmount,gasUnitPrice:l.gasUnitPrice},coinWithBalance:G}),{loading:ct}=V({unapproved:{origin:e,id:s},network:a?.chainName,providerType:t?.providerType});return ct?p.default.createElement(x.Box,{className:nt.root},p.default.createElement(b,null)):p.default.createElement(q,{slot:{top:m&&p.default.createElement(Z,{origin:t.origin,providerType:y,chainName:a?.chainName,onBeforeNetworkChange:async()=>{await W().recordChainIdHandler({method:N.CHANGE_NETWORK,origin:e,isFocusWindowActiveTab:!0},B.AVM)},onNetworkChange:D})},unapproved:t,tipMessage:at,buttonGroup:mt,networkFee:T,contractAddress:d})}),st=St;var Oe=({unapproved:t})=>{switch(t.method){case N.SIGN_TRANSACTION:case N.SIGN_AND_SUBMIT_TRANSACTION:return P.default.createElement(st,{unapproved:t});case N.SIGN_MESSAGE:return P.default.createElement(Q,{unapproved:t});default:return""}};export{Oe as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Aptos-GQLK2NBE.js.map
