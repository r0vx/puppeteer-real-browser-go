import{a as R}from"./chunk-7PZ6AMJ4.js";import"./chunk-LZXZV4RZ.js";import{a as V}from"./chunk-VR7OPIR6.js";import{c as H}from"./chunk-RQRUTXST.js";import{a as J}from"./chunk-QHL5OBL4.js";import{i as O,ja as Y,ya as M}from"./chunk-NQAVUB4Q.js";import{a as Q}from"./chunk-IEGAVAV7.js";import{e as P}from"./chunk-5A3RJQCM.js";import"./chunk-ZFFAX2YS.js";import"./chunk-7UDMBSMI.js";import{b as X}from"./chunk-7C7MBE2C.js";import"./chunk-KJWX5V23.js";import"./chunk-KDVER5QK.js";import"./chunk-5CHE7P4E.js";import"./chunk-PD44C7EF.js";import"./chunk-6K6UF6OE.js";import"./chunk-OKXHAJNT.js";import"./chunk-CBHKW7LL.js";import"./chunk-67F2WFQO.js";import"./chunk-QYDRYMWS.js";import{h as Z}from"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3L7K7.js";import{a as K}from"./chunk-Y5K5NJ6U.js";import"./chunk-Q7FGM7BT.js";import"./chunk-TKE74ERX.js";import"./chunk-MONRGJFN.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import"./chunk-IK72BO4I.js";import{D as F,a as j,wb as G}from"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import"./chunk-XP3TNE3R.js";import{jc as gt}from"./chunk-QRHYK2TW.js";import"./chunk-PODZSVO7.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import{a as $}from"./chunk-532YJKK4.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import"./chunk-62ZAND24.js";import{a as z}from"./chunk-SIITVWZR.js";import{Gd as B,Pd as ft}from"./chunk-QHXUL3YM.js";import{H as E,y as o}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{H as W,o as q}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{aa as L,fa as U,ka as s}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as T}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import{a as ut}from"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as c,o as r,q as a}from"./chunk-SHG7TIBL.js";r();a();var e=c(T()),rt=c($()),D=c(z()),at=c(ut());E();r();a();ft();r();a();var n=c(T()),ot=c(gt()),it=c($());E();r();a();var f=c(T()),tt=c(z());E();r();a();var u={content:"_content_vcvw7_1",title:"_title_vcvw7_4",desc:"_desc_vcvw7_10",btn:"_btn_vcvw7_17",applyOkxBtn:"_applyOkxBtn_vcvw7_31"};function wt({visible:l,onSwitch:g,onRevoke:N,onCancel:p}){return f.default.createElement(q,{whiteboard:!0,visible:l},f.default.createElement("div",{className:u.content},f.default.createElement("div",{className:u.title},o("wallet_extension_function_dialog_title_upgrade_3rd_7702")),f.default.createElement("div",{className:u.desc},o("wallet_extension_function_dialog_desc_upgrade_3rd_7702"))),f.default.createElement("div",{className:(0,tt.default)(u.btn,u.applyOkxBtn),onClick:g},o("wallet_extension_function_dialog_btn_apply_okx7702")),f.default.createElement("div",{className:u.btn,onClick:N},o("wallet_extension_function_dialog_btn_revoke_existing")),f.default.createElement("div",{className:u.btn,onClick:p},o("wallet_extension_general_dialog_btn_maybe_later")))}var et=wt;r();a();var y={root:"_root_1j4vn_1",emptyClassName:"_emptyClassName_1j4vn_5",notSupportTitle:"_notSupportTitle_1j4vn_8",notSupportDesc:"_notSupportDesc_1j4vn_15",notSupportButton:"_notSupportButton_1j4vn_23"};function b(l,g){Y({button7702:l,network_filter:g,terminal:"extension"})}function vt({onSwitch:l}){return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:y.notSupportTitle},o("wallet_extension_function_emptystate_title_no_wallets_available")),n.default.createElement("div",{className:y.notSupportDesc},o("wallet_extension_function_emptystate_desc_switch_evm7702")),n.default.createElement("div",{className:y.notSupportButton},n.default.createElement(s,{category:s.CATEGORY.outline,type:s.TYPE.primary,size:s.SIZE.md,onClick:l},o("wallet_extension_general_btn_switch_wallet"))))}function ht(l){let g=(0,ot.useDispatch)(),N=(0,it.useHistory)(),[p,w]=n.default.useState(),S=t=>{let i="upgrade7702";g(H({type:i,data:[t]})),N.push({pathname:G,search:`?type=${i}`})},x=t=>{let{baseCoinId:i,revokeContractAddress:v,revokeContractData:h}=t;S({walletId:l.walletId,baseCoinId:i,upgradeAddress:v,inputData:h,isUpgrade:!1})},m=t=>{let{baseCoinId:i,contractAddress:v,contractData:h}=t;S({walletId:l.walletId,baseCoinId:i,upgradeAddress:v,inputData:h,isUpgrade:!0})};return n.default.createElement(n.default.Fragment,null,n.default.createElement(P,{emptyClassName:y.emptyClassName,emptyText:n.default.createElement(vt,{onSwitch:l.onSwitch}),dataSource:l.supportedNetworks,renderItem:t=>{let i;return t.status===5?i={loadingText:o("wallet_extension_function_btn_revoking"),type:s.TYPE.gray,loading:!0}:t.status===2?i={loadingText:o("wallet_extension_function_btn_upgrading"),type:s.TYPE.highlight,loading:!0}:t.status===3?i={children:o("wallet_extension_function_btn_revoke"),type:s.TYPE.gray,onClick:()=>{x(t),b("revokeokx7702",t.chainIndex)}}:t.status===4?i={children:o("wallet_extension_function_btn_apply_okx"),type:s.TYPE.gray,onClick:()=>{w(t)}}:i={children:o("wallet_extension_function_btn_upgrade"),type:s.TYPE.highlight,onClick:()=>{m(t),b("upgrade",t.chainIndex)}},n.default.createElement(P.Coin,{className:y.root,disabledCursor:!0,symbol:t.chainName,icon:t.imageUrl},n.default.createElement(s,{category:s.CATEGORY.fill,size:s.SIZE.xs,...i}))}}),n.default.createElement(et,{visible:!!p,onSwitch:()=>{p&&(m(p),w(void 0),b("applyokx7702",p.chainIndex))},onRevoke:()=>{p&&(x(p),w(void 0),b("revokeothers",p.chainIndex))},onCancel:()=>{w(void 0)}}))}var nt=ht;r();a();var d={content:"_content_dqvuo_1",title:"_title_dqvuo_4",subTitle:"_subTitle_dqvuo_10",walletWrapper:"_walletWrapper_dqvuo_17",wallet:"_wallet_dqvuo_17",walletIcon:"_walletIcon_dqvuo_34",questionIcon:"_questionIcon_dqvuo_37",supportNetworks:"_supportNetworks_dqvuo_42",loading:"_loading_dqvuo_50"};function yt(){let l=(0,rt.useHistory)(),g=V(),[N,p]=(0,e.useState)(!0),[w,S]=(0,e.useState)([]),x=Q(),m=g.get("walletId")||x,t=Z(m),i=(0,e.useMemo)(()=>{let _="";return(0,at.isEmpty)(t)||t.keyringName&&(_+=t.keyringName,t.walletName&&(_+="-",_+=t.walletName)),_},[t]),v=()=>{l.push(`${F}?walletId=${m}`),O({terminal:"extension"})},h=async()=>{try{let lt=((await J(m))?.chainList||[]).map(({contractAddress:st,contractData:pt,revokeContractAddress:dt,revokeContractData:_t,chainIndex:A,address:ct,status:mt})=>{let I=B({chainId:A});return{chainName:I.chainName,baseCoinId:I.coinId,imageUrl:I.imageUrl,contractAddress:st,contractData:pt,revokeContractAddress:dt,revokeContractData:_t,chainIndex:A,address:ct,status:mt}});S(lt)}catch(_){let C=_;W.error({title:C?.msg||o("wallet_home_toast_network_error")})}finally{p(!1)}};return(0,e.useEffect)(()=>{h()},[m]),X("wallet-inform",{onSuccess:async _=>{if(!_?.data)return;_.data.type===1&&await h()}}),e.default.createElement(e.default.Fragment,null,e.default.createElement(K,{onBack:()=>{l.push(j)},className:d.nav,bordered:!1,closeable:!1}),e.default.createElement("div",{className:d.content},e.default.createElement("div",{className:d.title},o("wallet_extension_function_header_upgrade_evm_wallets")),e.default.createElement("div",{className:d.subTitle},o("wallet_extension_function_header_7702_gives")),e.default.createElement("div",{className:d.walletWrapper},e.default.createElement("div",{className:d.wallet,onClick:v},e.default.createElement(L,{className:(0,D.default)("okx-wallet-plugin-wallet",d.walletIcon)}),i),e.default.createElement(L,{className:(0,D.default)("okx-wallet-plugin-question-mark",d.questionIcon),onClick:()=>{globalThis.platform.openTab({url:o("wallet_extension_dialog_hyperlink_eip7702")}),M({terminal:"extension"})}})),e.default.createElement(R,null),e.default.createElement("div",{className:d.supportNetworks},o("wallet_extension_function_select_title_supported_wallets")),N?e.default.createElement("div",{className:d.loading},e.default.createElement(U.Circle,null)):e.default.createElement(nt,{walletId:m,supportedNetworks:w,onSwitch:v})))}var be=yt;export{be as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Upgrade7702Entry-FVIFC3L7.js.map
