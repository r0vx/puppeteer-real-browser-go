import{a as ft}from"./chunk-3WSZFDH4.js";import{a as et}from"./chunk-DGIWAYI5.js";import"./chunk-HY7LAUD2.js";import"./chunk-C6HPT3PU.js";import{b as tt,i as ot,k as rt,m as at,q as ct,r as nt}from"./chunk-CQWP5UAS.js";import"./chunk-7FBDFG5E.js";import"./chunk-IK5VIKIS.js";import"./chunk-Y6T5M4AD.js";import{e as it}from"./chunk-J3K74NCM.js";import{a as Re}from"./chunk-UWCOP3B7.js";import"./chunk-6DUYAS7R.js";import"./chunk-UFD2MUZI.js";import"./chunk-CEM2RCMY.js";import"./chunk-SKXNZFRN.js";import"./chunk-OADPFYBO.js";import"./chunk-VVJ6BK3Q.js";import"./chunk-FUVVPSUI.js";import{a as se,k as Qe}from"./chunk-NKIUEXOA.js";import"./chunk-4YDY4B6P.js";import"./chunk-CGFS6AE4.js";import"./chunk-DDT324RS.js";import"./chunk-2TQXMDYZ.js";import"./chunk-RNMISV22.js";import"./chunk-A267SEFJ.js";import{a as Je}from"./chunk-VR7OPIR6.js";import"./chunk-4ZGOJDNI.js";import"./chunk-ZPQXBUKT.js";import"./chunk-35Y7QMWN.js";import"./chunk-VIT5MDY4.js";import"./chunk-RH6WPBEZ.js";import{b as st,c as mt,d as lt}from"./chunk-FBGIZDXX.js";import"./chunk-CDNJY7Z3.js";import{a as D}from"./chunk-DBWXHHZT.js";import"./chunk-VVKAQ7K5.js";import{a as $e,c as je}from"./chunk-7JSJY3SQ.js";import"./chunk-NWY3GPDX.js";import{a as Xe}from"./chunk-6JEFG7DQ.js";import"./chunk-B6YXJZUF.js";import"./chunk-4I2JSOYJ.js";import"./chunk-GTN3RCGH.js";import"./chunk-3VKPY2QL.js";import"./chunk-AOSRFQ4E.js";import"./chunk-ULL77AIR.js";import"./chunk-PJYSMRRW.js";import"./chunk-GKQQDLVP.js";import"./chunk-7YKP5374.js";import"./chunk-KGG7DXMS.js";import"./chunk-FGIHS4ZF.js";import"./chunk-U65R4NF3.js";import"./chunk-OTUJWRS5.js";import"./chunk-WIW5JVRP.js";import"./chunk-7CXUJS4C.js";import"./chunk-ULXZERAJ.js";import"./chunk-PJ5X5CUU.js";import"./chunk-TSVRDRPO.js";import"./chunk-PPTAKQQT.js";import"./chunk-IFQDHP3Z.js";import"./chunk-DA5RJYYW.js";import"./chunk-HUC3JPS2.js";import"./chunk-MYNDXPHU.js";import"./chunk-ZTIVM5ML.js";import"./chunk-2E2OBQTS.js";import"./chunk-VICEBZ4G.js";import"./chunk-WO6OHGU2.js";import"./chunk-3S4BGA37.js";import"./chunk-POP3LIKS.js";import"./chunk-PMRTKWFS.js";import"./chunk-G44PPNNQ.js";import"./chunk-K2BSCLBF.js";import"./chunk-PZY7HRHV.js";import"./chunk-Z2L2F5M5.js";import"./chunk-IPLOJJIA.js";import"./chunk-RLPRDJ34.js";import"./chunk-2ASICJQL.js";import"./chunk-TQWSBAXG.js";import"./chunk-6JVCYB7O.js";import"./chunk-GR42TVIZ.js";import"./chunk-QMSSDBOR.js";import"./chunk-5QHVWW7O.js";import"./chunk-5PDHABUQ.js";import"./chunk-ZLJJZYPU.js";import"./chunk-36PYO4PJ.js";import"./chunk-34JXWTF5.js";import"./chunk-JSOLAK4X.js";import"./chunk-R7LZSAVU.js";import"./chunk-LTLRDXME.js";import"./chunk-RMI6BAM3.js";import"./chunk-AADHEW4J.js";import"./chunk-OK4242CI.js";import"./chunk-6MVL4I6V.js";import"./chunk-E7MGN3V4.js";import"./chunk-YGIVEMKT.js";import"./chunk-T4RFDN7D.js";import"./chunk-NQAVUB4Q.js";import{a as Ke}from"./chunk-IEGAVAV7.js";import"./chunk-V4P2E4SN.js";import"./chunk-DYL77QBO.js";import{e as z}from"./chunk-5A3RJQCM.js";import"./chunk-LQBCLW7R.js";import"./chunk-MN3UHDTX.js";import"./chunk-IJW6HFV5.js";import"./chunk-N2MMFEEK.js";import"./chunk-MKDQBVRZ.js";import"./chunk-DA2FCNEZ.js";import"./chunk-TLZRRG7J.js";import"./chunk-ZFFAX2YS.js";import"./chunk-7UDMBSMI.js";import"./chunk-7C7MBE2C.js";import"./chunk-KJWX5V23.js";import"./chunk-KDVER5QK.js";import"./chunk-5CHE7P4E.js";import"./chunk-PD44C7EF.js";import"./chunk-6K6UF6OE.js";import"./chunk-OKXHAJNT.js";import"./chunk-CBHKW7LL.js";import"./chunk-67F2WFQO.js";import"./chunk-QYDRYMWS.js";import{e as qe}from"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3C5KK.js";import"./chunk-XZE3L7K7.js";import{a as ie}from"./chunk-Y5K5NJ6U.js";import"./chunk-UR7XESQE.js";import"./chunk-JABAEAEN.js";import"./chunk-VY2VK2OT.js";import{a as ne}from"./chunk-Q7FGM7BT.js";import{b as Z}from"./chunk-TKE74ERX.js";import"./chunk-MONRGJFN.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import"./chunk-IK72BO4I.js";import{a as ce}from"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import{r as f}from"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import{o as we}from"./chunk-XP3TNE3R.js";import{C as de,F as Ge,H as Ze,U as He}from"./chunk-QRHYK2TW.js";import"./chunk-PODZSVO7.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import{a as Me}from"./chunk-532YJKK4.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import{c as $,e as Ce}from"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import{a as X,b as V}from"./chunk-2FDQIA7D.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import{c as ze,e as Ye,n as Ue}from"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import{c as T}from"./chunk-62ZAND24.js";import{a as Ve}from"./chunk-SIITVWZR.js";import{Id as ke,Mc as Ne,Nc as Be,Pd as Qt,R as Fe,Rd as ve,Ud as xe,Xd as Oe,Yc as _e,_d as De,ia as Jt,ic as ae,od as Le,oe as Rt,yc as Se}from"./chunk-QHXUL3YM.js";import{H as O,n as ue,y as x}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{D as G,G as ye,c as Ee,o as re}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-NNUMMJQC.js";import"./chunk-Z3JMRMVO.js";import{H as Ae,ra as jt}from"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{ka as A}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as N}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-D2YP6KBJ.js";import"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-S5ACFHVS.js";import"./chunk-FQLRWF7X.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-VYKQ62AB.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-KTFU3F6C.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as W,o as s,q as m}from"./chunk-SHG7TIBL.js";s();m();var g=W(N()),Dt=W(Me()),me=W(we());O();Ce();Le();s();m();var pt=W(we());Ce();Le();Oe();Jt();var eo=()=>{let t=je(),e=qe({hasBackup:!0}),c=$e();return(0,pt.useMemoizedFn)(async(n,a)=>{let o=await t(n),p=o?.localType;if(!n||!p)return null;let l=await $().getCreatedWalletIds(),u=await c({walletIds:l,chainId:o.chainId,coinId:n,flatten:!0});return(e?.map(r=>{let{walletIdentities:d}=r;return{...r,walletIdentities:d.map(w=>{let i=u[w?.walletId]||[];return{...w,coins:i.filter(y=>y?.coinId===n&&Fe(y.coinAmountInt,a))}}).filter(({coins:w})=>w?.length)}}).filter(({walletIdentities:r})=>r?.some(({coins:d})=>d?.length))).map(r=>{let d=r?.walletIdentities;return Ze({coinId:n})?d=d?.reduce((w,{coins:i,walletName:y,addressType:b,...I})=>[...w,...i.map(({coinAmountInt:P,addressType:S,...B})=>{let L=b?.[ae]?.find(h=>h?.addressType===xe[ae][S])?.address;return{...I,...B,walletName:y,coinAmountInt:P,label:`${r?.keyringName} - ${y}`,desc:de(L),addressType:xe[ae][S],address:L}})],[]):d=d.map(({account:w,walletName:i,coins:y,...b})=>{let I=w?.[p];return{...y[0],...b,address:I,walletName:i,label:`${r?.keyringName} - ${i}`,desc:de(I)}}),{...r,walletIdentities:d}})},[e])},ut=eo;s();m();var yt=W(N());O();var to=({fromAddr:t,coinId:e,toAddr:c,disabled:n,loading:a,walletId:o,walletType:p,sendAmount:l,hideLoading:u,onBeforeClick:C=()=>{},onPublishTrascation:r=()=>{},onClickWrap:d=()=>{}})=>{let{coin:w}=D(e,!1),i=Re({coinId:e,address:t,chainId:w?.chainId},{pollingInterval:20*1e3}),y=i?.normal,[,b]=rt({coinId:e,walletId:o,address:t},{refreshDeps:[o,t]}),[,I]=ct({coinId:e,toAddr:c,walletId:o,fromAddr:t,satBytes:y,coinAmount:l,canTransferAmount:b}),P=nt({coinId:e,toAddr:c,walletId:o,fromAddr:t,satBytes:y,networkFee:I,coinAmount:l,localType:w?.localType,dustSize:i?.minOutput}),S=ot({coinId:e,walletId:o,address:t,utxoType:tt.TRANSFER}),B=at({coinId:e,txType:ze.TRANS_OUT,address:t}),L=async()=>{d(async()=>{C&&await C(I,b);let h=await S(l,I);await B(h,()=>{u?.()});let k=await P({utxoList:h}),U=await se(w.localType,k);r?.({coinId:e,txHash:U,signedTx:k,walletId:o,walletType:p,toAdr:c,serviceCharge:I,fromAdr:t,coinAmount:l})})};return yt.default.createElement(A,{loading:a,disabled:n,size:A.SIZE.lg,category:A.CATEGORY.fill,type:A.TYPE.highlight,onClick:L},x("wallet_extension_btn_general_confirm"))},_t=to;s();m();var R=W(N());O();s();m();s();m();s();m();var xt=W(N()),oo=({coinId:t,sendAmount:e,fromAddr:c,toAddr:n})=>{let[a,o]=(0,xt.useState)({});return{props:{visible:!1,coinId:t,address:c,inputData:"",tokenAddress:n,value:e,onGasChange:o},ethereumGasInfo:a}},dt=oo;s();m();var ro=({coinId:t,coinAmount:e,fromAddr:c,toAddr:n,ethereumGasInfo:a,btnProps:o,beforeClick:p,onClick:l})=>{let C={fetchParams:{coinId:t,from:c,to:n,amount:e,gasPrice:a.gasPrice},userGasInfo:a,baseCoinAmountUse:e};return{props:{beforeClick:p,dataForCheck:C,btnProps:o,onClick:l}}},Ct=ro;s();m();Rt();Qt();var ao=({coinId:t,walletId:e,sendAmount:c,fromAddr:n,toAddr:a,ethereumGasInfo:o,onPublish:p})=>{let{coin:l}=D(t,!1),u=it({walletId:e,fromAddr:n,coinId:l.coinId}),C=i=>{let{updateGasInfo:y}=i;return y?{...y,gasLimit:o.gasLimit,supportEip1559:o.supportEip1559,networkFee:o.networkFee}:{...o}},r=({updateData:i,finallyGasInfo:y})=>{let{nonce:b}=i,I=ke(l.localType)?.realChainIdHex,P={from:n,gasLimit:V(y.gasLimit),nonce:V(b),chainId:I};return y.supportEip1559?(P.maxFeePerGas=V(y.maxFeePerGas),P.maxPriorityFeePerGas=V(y.maxPriorityFeePerGas),P.type=Ue.FEE_MARKET):P.gasPrice=V(y.gasPrice),P.value=V(c),P.to=a,Ge(P)},d=({txParams:i,finallyGasInfo:y})=>{let b=X(i.value),I=X(i.gasLimit),P=X(o.supportEip1559?i.maxFeePerGas:i.gasPrice),S={...i,value:b,from:n,to:a,gas:I,gasPrice:P,priorityFee:X(o.supportEip1559?i.maxPriorityFeePerGas:0),nonce:X(i.nonce),repeatTxType:Ye.CONFIRMING,oldTxHash:""};return{coinId:l.coinId,coinAmount:c,fromAdr:n,toAdr:a,serviceCharge:y.networkFee,extJson:JSON.stringify(S),txSource:De.NORMAL,inputData:i.data?i.data:""}};return async i=>{let y=C(i),b=r({updateData:i,finallyGasInfo:y}),I={...b,walletId:e,supportEip1559:y.supportEip1559},P=d({txParams:b,finallyGasInfo:y}),S=await u(I),B={...P,signedTx:S};typeof p=="function"&&await p(B)}},wt=ao;var co=({toAddr:t,coinId:e,walletId:c,fromAddr:n,sendAmount:a,btnProps:o,onBeforeClick:p=()=>{},onPublishTrascation:l=()=>{},onClickWrap:u=()=>{}})=>{let{props:C,ethereumGasInfo:r}=dt({coinId:e,toAddr:t,fromAddr:n,sendAmount:a}),d=r?.networkFee,w=wt({coinId:e,walletId:c,sendAmount:a,fromAddr:n,toAddr:t,ethereumGasInfo:r,onPublish:l}),{props:i}=Ct({toAddr:t,coinId:e,fromAddr:n,ethereumGasInfo:r,coinAmount:a,btnProps:o,beforeClick:()=>p?.(d),onClick:(...y)=>{u(async()=>{await w(...y)})}});return R.default.createElement(R.default.Fragment,null,R.default.createElement(et,{...C}),R.default.createElement(ft,{...i},x("wallet_extension_btn_general_confirm")))},gt=co;s();m();var ht=W(N());O();var Tt=W(Me());var no=600001,io=({loading:t,disabled:e,fromPage:c,retryCreateAccount:n,onPublishTrascation:a=()=>{}})=>{let o=(0,Tt.useHistory)(),p=async()=>{let l=await a?.();if(Number(l?.code)===no){let u=re.warn({alignBottom:!1,title:x("wallet_extension_wax_modaltitle_account_unavailable"),text:x("wallet_extension_wax_modaldesc_free_account_unsupported"),cancelText:x("wallet_extension_btn_general_cancel"),confirmText:x("wallet_extension_mid_btn_retry"),onCancel:()=>{u.destroy(),o.push(c||ce)},onConfirm:()=>{u.destroy(),n?.()}})}};return ht.default.createElement(A,{loading:t,disabled:e,size:A.SIZE.lg,category:A.CATEGORY.fill,type:A.TYPE.highlight,onClick:p},x("wallet_extension_btn_general_confirm"))},It=io;s();m();var bt=W(N());O();Ce();var so=({fromAddr:t,coinId:e,toAddr:c,disabled:n,loading:a,walletId:o,walletType:p,sendAmount:l,onBeforeClick:u=()=>{},onPublishTrascation:C=()=>{},onClickWrap:r=()=>{}})=>{let{coin:d}=D(e,!1),w=async()=>{r(async()=>{typeof u=="function"&&u("0");let i=await He({coinId:e,address:t},{fromAddr:t,toAddr:c}),{info:y}=i||{},{chainid:b,compression:I,refBlockNumber:P,refBlockId:S,refBlockTimestamp:B,expireSeconds:L}=y,h={type:0,from:t,to:c,amount:l,memo:"",common:{chainId:b,compression:I,refBlockNumber:P,refBlockId:S,refBlockTimestamp:B,expireSeconds:L}},k=await $().signTransaction(h,t,d.localType),U=await se(d.localType,k);typeof C=="function"&&await C({coinId:e,txHash:U,signedTx:k,walletId:o,walletType:p,toAdr:c,serviceCharge:"0",fromAdr:t,coinAmount:l})})};return bt.default.createElement(A,{loading:a,disabled:n,size:A.SIZE.lg,category:A.CATEGORY.fill,type:A.TYPE.highlight,onClick:w},x("wallet_extension_btn_general_confirm"))},Pt=so;s();m();var j=W(N()),Wt=W(Ve());O();s();m();var _={"retina-border-basic":"_retina-border-basic_t6cnr_1",retinaBorderBasic:"_retina-border-basic_t6cnr_1","wax-create-account-confirm":"_wax-create-account-confirm_t6cnr_29",waxCreateAccountConfirm:"_wax-create-account-confirm_t6cnr_29","wax-create-account-confirm-form":"_wax-create-account-confirm-form_t6cnr_32",waxCreateAccountConfirmForm:"_wax-create-account-confirm-form_t6cnr_32","wax-create-account-confirm-form-select":"_wax-create-account-confirm-form-select_t6cnr_35",waxCreateAccountConfirmFormSelect:"_wax-create-account-confirm-form-select_t6cnr_35","wax-create-account-confirm-form-select-disabled":"_wax-create-account-confirm-form-select-disabled_t6cnr_42",waxCreateAccountConfirmFormSelectDisabled:"_wax-create-account-confirm-form-select-disabled_t6cnr_42","wax-create-account-confirm-form-select-free":"_wax-create-account-confirm-form-select-free_t6cnr_46",waxCreateAccountConfirmFormSelectFree:"_wax-create-account-confirm-form-select-free_t6cnr_46","wax-create-account-confirm-form-select-free-text":"_wax-create-account-confirm-form-select-free-text_t6cnr_49",waxCreateAccountConfirmFormSelectFreeText:"_wax-create-account-confirm-form-select-free-text_t6cnr_49","wax-create-account-confirm-form-select-free-amount":"_wax-create-account-confirm-form-select-free-amount_t6cnr_53",waxCreateAccountConfirmFormSelectFreeAmount:"_wax-create-account-confirm-form-select-free-amount_t6cnr_53","wax-create-account-confirm-form-select-space":"_wax-create-account-confirm-form-select-space_t6cnr_57",waxCreateAccountConfirmFormSelectSpace:"_wax-create-account-confirm-form-select-space_t6cnr_57","wax-create-account-confirm-form-payInfo":"_wax-create-account-confirm-form-payInfo_t6cnr_60",waxCreateAccountConfirmFormPayInfo:"_wax-create-account-confirm-form-payInfo_t6cnr_60","wax-create-account-confirm-form-payInfo-icon":"_wax-create-account-confirm-form-payInfo-icon_t6cnr_65",waxCreateAccountConfirmFormPayInfoIcon:"_wax-create-account-confirm-form-payInfo-icon_t6cnr_65","wax-create-account-confirm-form-payCrypto-dialog":"_wax-create-account-confirm-form-payCrypto-dialog_t6cnr_69",waxCreateAccountConfirmFormPayCryptoDialog:"_wax-create-account-confirm-form-payCrypto-dialog_t6cnr_69","wax-create-account-confirm-form-payCrypto-title":"_wax-create-account-confirm-form-payCrypto-title_t6cnr_72",waxCreateAccountConfirmFormPayCryptoTitle:"_wax-create-account-confirm-form-payCrypto-title_t6cnr_72","wax-create-account-confirm-form-payCrypto-list":"_wax-create-account-confirm-form-payCrypto-list_t6cnr_78",waxCreateAccountConfirmFormPayCryptoList:"_wax-create-account-confirm-form-payCrypto-list_t6cnr_78","wax-create-account-confirm-form-payWallet":"_wax-create-account-confirm-form-payWallet_t6cnr_81",waxCreateAccountConfirmFormPayWallet:"_wax-create-account-confirm-form-payWallet_t6cnr_81","wax-create-account-confirm-form-payWallet-navigator":"_wax-create-account-confirm-form-payWallet-navigator_t6cnr_84",waxCreateAccountConfirmFormPayWalletNavigator:"_wax-create-account-confirm-form-payWallet-navigator_t6cnr_84","wax-create-account-confirm-form-payWallet-wallet-item":"_wax-create-account-confirm-form-payWallet-wallet-item_t6cnr_87",waxCreateAccountConfirmFormPayWalletWalletItem:"_wax-create-account-confirm-form-payWallet-wallet-item_t6cnr_87","wax-create-account-confirm-form-payWallet-accordion":"_wax-create-account-confirm-form-payWallet-accordion_t6cnr_90",waxCreateAccountConfirmFormPayWalletAccordion:"_wax-create-account-confirm-form-payWallet-accordion_t6cnr_90","wax-create-account-confirm-form-payWallet-accordion-header":"_wax-create-account-confirm-form-payWallet-accordion-header_t6cnr_96",waxCreateAccountConfirmFormPayWalletAccordionHeader:"_wax-create-account-confirm-form-payWallet-accordion-header_t6cnr_96","wax-create-account-confirm-form-payWallet-accordion-content":"_wax-create-account-confirm-form-payWallet-accordion-content_t6cnr_130",waxCreateAccountConfirmFormPayWalletAccordionContent:"_wax-create-account-confirm-form-payWallet-accordion-content_t6cnr_130","wax-create-account-confirm-form-payWallet-accordion-icon":"_wax-create-account-confirm-form-payWallet-accordion-icon_t6cnr_133",waxCreateAccountConfirmFormPayWalletAccordionIcon:"_wax-create-account-confirm-form-payWallet-accordion-icon_t6cnr_133","wax-create-account-confirm-form-payWallet-account-item":"_wax-create-account-confirm-form-payWallet-account-item_t6cnr_136",waxCreateAccountConfirmFormPayWalletAccountItem:"_wax-create-account-confirm-form-payWallet-account-item_t6cnr_136","wax-create-account-confirm-form-payWallet-account-item-main":"_wax-create-account-confirm-form-payWallet-account-item-main_t6cnr_140",waxCreateAccountConfirmFormPayWalletAccountItemMain:"_wax-create-account-confirm-form-payWallet-account-item-main_t6cnr_140","wax-create-account-confirm-form-payWallet-tag":"_wax-create-account-confirm-form-payWallet-tag_t6cnr_143",waxCreateAccountConfirmFormPayWalletTag:"_wax-create-account-confirm-form-payWallet-tag_t6cnr_143","wax-create-account-confirm-form-payWallet-selected-icon":"_wax-create-account-confirm-form-payWallet-selected-icon_t6cnr_152",waxCreateAccountConfirmFormPayWalletSelectedIcon:"_wax-create-account-confirm-form-payWallet-selected-icon_t6cnr_152","wax-create-account-confirm-form-payWallet-footer":"_wax-create-account-confirm-form-payWallet-footer_t6cnr_155",waxCreateAccountConfirmFormPayWalletFooter:"_wax-create-account-confirm-form-payWallet-footer_t6cnr_155","wax-create-account-confirm-form-insufficient-error":"_wax-create-account-confirm-form-insufficient-error_t6cnr_158",waxCreateAccountConfirmFormInsufficientError:"_wax-create-account-confirm-form-insufficient-error_t6cnr_158","wax-create-account-confirm-form-fill-up":"_wax-create-account-confirm-form-fill-up_t6cnr_161",waxCreateAccountConfirmFormFillUp:"_wax-create-account-confirm-form-fill-up_t6cnr_161"};var mo=({coinAmount:t,decimals:e,symbol:c,displayPrecision:n,stableCoin:a})=>j.default.createElement(T.FlexBox,{align:T.ALIGN.center,className:(0,Wt.default)(_["wax-create-account-confirm-form-select"],_["wax-create-account-confirm-form-select-free"])},j.default.createElement(T.Space,{space:6,align:T.ALIGN.center,direction:T.DIRECTION.horizontal},j.default.createElement(f.Text,{className:_["wax-create-account-confirm-form-select-free-text"]},x("wallet_extension_mid_colored_free")),j.default.createElement(f.DisplayAmount,{className:_["wax-create-account-confirm-form-select-free-amount"],mode:f.CRYPTO,size:f.SIZE.sm,symbol:c,amount:t,decimals:e,precision:n,isStableCoin:a}))),At=j.default.memo(mo);s();m();var H=W(N());O();var lo=({symbol:t,decimals:e,value:c={},displayPrecision:n,stableCoin:a})=>{let o=[{symbol:t,decimals:e,label:"extension_wallet_create_colored_cpu",value:c?.cpuAmount},{symbol:t,decimals:e,label:"extension_wallet_create_colored_network",value:c?.netAmount},{decimals:0,symbol:"bytes",label:"extension_wallet_create_colored_ram",value:c?.ramAmount},{symbol:t,decimals:e,label:"extension_wallet_create_colored_price",value:c?.sumAmount,icon:{icon:"okds-information-circle",tooltip:"extension_wallet_create_tooltip_20percent_transferfee"}}];return H.default.createElement(z,{space:20,className:_["wax-create-account-confirm-form-payInfo"],dataSource:o,renderItem:({icon:p,label:l,value:u,symbol:C,decimals:r})=>H.default.createElement(z.Line,{size:f.SIZE.sm,label:H.default.createElement(H.default.Fragment,null,x(l),!!p&&H.default.createElement(Z,{className:_["wax-create-account-confirm-form-payInfo-icon"],icon:p?.icon,size:Z.SIZE.xs,tooltip:p?.tooltip?x(p?.tooltip):!1})),value:H.default.createElement(f.DisplayAmount,{symbol:C,decimals:r,precision:n,isStableCoin:a,mode:f.CRYPTO,size:f.SIZE.sm},u)})})},Ft=H.default.memo(lo);s();m();var M=W(N()),Et=W(Ve());var fo=({type:t,value:e,disabled:c,placeholder:n,onClick:a})=>M.default.createElement(T.FlexBox,{align:T.ALIGN.center,onClick:()=>{a?.(t)},className:(0,Et.default)(_["wax-create-account-confirm-form-select"],{[_["wax-create-account-confirm-form-select-disabled"]]:c})},M.default.createElement(T.Space,{className:_["wax-create-account-confirm-form-select-space"],space:0,direction:T.DIRECTION.vertical},!e&&n&&M.default.createElement(f.Text,{type:f.TYPE.secondary},n),!!e&&M.default.createElement(f.Text,null,e?.label||e),!!e?.desc&&M.default.createElement(f.Text,{size:f.SIZE.xs,type:f.TYPE.secondary},e?.desc||e)),!c&&M.default.createElement(Z,{icon:"okds-arrow-chevron-right-centered-md",size:Z.SIZE.xs})),ge=M.default.memo(fo);s();m();var Y=W(N());O();var po=({name:t,value:e,visible:c,options:n,onChange:a,onClose:o})=>Y.default.createElement(re,{windowClass:_["wax-create-account-confirm-form-payCrypto-dialog"],alignBottom:!0,onClose:()=>{o?.(t)},visible:c},Y.default.createElement(f.Text,{className:_["wax-create-account-confirm-form-payCrypto-title"],strong:700,ellipsis:{tooltip:!0}},x("extension_wallet_popup_maintitle_select_crypto")),Y.default.createElement(z,{className:_["wax-create-account-confirm-form-payCrypto-list"],space:16,dataSource:n,renderItem:p=>{let{icon:l}=p;return Y.default.createElement(z.Card,{icon:{src:l},onClick:()=>{a?.({[t]:p}),o?.(t)},selected:e?.coinId===p.coinId},Y.default.createElement(T.Space,{space:2,direction:T.DIRECTION.vertical},Y.default.createElement(f.Text,null,p.label),Y.default.createElement(f.Text,{type:f.TYPE.secondary,size:f.SIZE.sm},p.message)))}})),St=Y.default.memo(po);s();m();var E=W(N());O();Oe();var uo=({name:t,value:e,visible:c,options:n=[],onChange:a,onClose:o,coinId:p})=>{let[l,u]=(0,E.useState)(e),{coin:C}=D(p,!1);return(0,E.useEffect)(()=>{u(e)},[e]),c?E.default.createElement(T.Portal,{component:T.Container,className:_["wax-create-account-confirm-form-payWallet"]},E.default.createElement(ie,{className:_["wax-create-account-confirm-form-payWallet-navigator"],title:x("extension_wallet_header_title_select_wallet"),closeable:!1,onBack:()=>{o?.(t)}}),E.default.createElement(z,{className:_["wax-create-account-confirm-form-payWallet-wallet-item"],space:12,dataSource:n||[],renderItem:({keyringName:r,keyringColor:d,walletIdentities:w})=>E.default.createElement(Ee,{defaultExpanded:!0,iconClassName:_["wax-create-account-confirm-form-payWallet-accordion-icon"],title:E.default.createElement(f.Text,{strong:!0,size:f.SIZE.lg,style:{color:d}},r),className:_["wax-create-account-confirm-form-payWallet-accordion"],headerClassName:_["wax-create-account-confirm-form-payWallet-accordion-header"],contentClassName:_["wax-create-account-confirm-form-payWallet-accordion-content"]},E.default.createElement(z,{dataSource:w,renderItem:i=>E.default.createElement(T.FlexBox,{className:_["wax-create-account-confirm-form-payWallet-account-item"],align:T.ALIGN.center,onClick:()=>{u(i)}},E.default.createElement(T.Space,{className:_["wax-create-account-confirm-form-payWallet-account-item-main"],space:0,direction:T.DIRECTION.vertical},E.default.createElement(T.Space,{space:8,align:T.ALIGN.center},E.default.createElement(f.Text,{size:f.SIZE.md},i?.walletName),!!i.addressType&&E.default.createElement(T.Box,{className:_["wax-create-account-confirm-form-payWallet-tag"]},x(ve[i.addressType]))),E.default.createElement(f.DisplayAmount,{mode:f.CRYPTO,decimals:i?.decimals,symbol:i?.symbol,precision:C?.displayPrecision,isStableCoin:C?.stableCoin,size:f.SIZE.xs,type:f.TYPE.secondary},i?.coinAmountInt)),l?.address===i?.address&&E.default.createElement(Z,{className:_["wax-create-account-confirm-form-payWallet-selected-icon"],icon:"okds-success-circle-fill"}))}))}),E.default.createElement(ne.FooterActions,{zIndex:101,className:_["wax-create-account-confirm-form-payWallet-footer"]},E.default.createElement(A,{size:A.SIZE.lg,category:A.CATEGORY.fill,type:A.TYPE.highlight,onClick:()=>{o?.(t),a?.({[t]:l})}},x("wallet_extension_btn_general_confirm")))):null},Nt=uo;s();m();O();var Bt=W(N()),yo=({sendAmount:t,availableBalance:e="0",onCheckCallback:c})=>(0,Bt.useCallback)((n="0",a)=>ue.gt(ue.add(t,n),a!==void 0?a:e)?c?.(!0):c?.(!1),[t,e]),Lt=yo;s();m();var J=W(N()),_o=()=>{let t=G.useForm(),[e,c]=(0,J.useState)({}),[n,a]=(0,J.useState)({payCrypto:!1,payWallet:!1}),o=(0,J.useCallback)(l=>{a(u=>({...u,[l]:!u[l]}))},[]),p=(0,J.useCallback)(l=>{t.setFieldsValue(l),c((u={})=>({...u,...l}))},[]);return{form:t,visible:n,payValues:e,onPayValuesChange:p,onToggleSelectPanel:o}},kt=_o;s();m();var q=W(N()),K=W(we());jt();var xo=60*1e3,Co=t=>{let[e,c]=(0,q.useState)({}),[n,{set:a}]=(0,K.useBoolean)(!1),[o,{set:p}]=(0,K.useBoolean)(),[l,u]=(0,q.useState)([]),C=Xe(),r=(0,q.useMemo)(()=>Ae(C)?[]:l.map(y=>{let{coinId:b,coinAmount:I}=y,P=C[b]||{},{image:S,symbol:B,decimals:L,displayPrecision:h,stableCoin:k}=P;return{...P,...y,icon:S,label:q.default.createElement(f.DisplayAmount,{noStyle:!0,symbol:B,decimals:L,mode:f.CRYPTO,precision:h,isStableCoin:k},I)}}),[C,l]),d=async()=>{let{eosMarket:y,coins:b,freeAccount:I}=await st({coinId:t});c(y),u(b),p(I)},{runAsync:w,refreshAsync:i}=(0,K.useRequest)(d,{manual:!0,pollingInterval:xo,pollingWhenHidden:!1,pollingErrorRetryCount:3});return(0,K.useMount)(()=>{(async()=>{try{a(!0),await w()}catch{}finally{a(!1)}})()}),[n,o,e,r,i]},vt=Co;s();m();var Q=W(N()),wo=({form:t,payInfo:e,payValues:c,isFreeCreate:n,walletOptions:a,payCryptoOptions:o,onPayValuesChange:p,setPayWalletError:l})=>{let u=(0,Q.useRef)({payCrypto:!1,payWallet:!1}),C=r=>{p?.(r),t.setFieldsValue(r)};(0,Q.useEffect)(()=>{C({payInfo:e})},[e]),(0,Q.useEffect)(()=>{if(!u.current.payCrypto&&o?.length){let r=o.find(({recommend:d})=>d);C({payCrypto:r}),u.current={...u.current,payCrypto:!0}}if(u.current.payCrypto&&o?.length){let r=o.find(({coinId:d})=>d===c?.payCrypto?.coinId);r&&C({payCrypto:r})}},[o]),(0,Q.useEffect)(()=>{if(!n){if(!u.current.payWallet&&a?.length){let[{walletIdentities:[r]}]=a;C({payWallet:r}),u.current={...u.current,payWallet:!0}}if(u.current.payWallet){a?.length||(C({payWallet:null}),l?.(!1));let{coinId:r}=c?.payCrypto||{},{coinId:d}=c?.payWallet||{};if(a?.length&&r!==d){let[{walletIdentities:[w]}]=a;C({payWallet:w}),l?.(!1)}}}},[n,a])},Ot=wo;var go=()=>{let t=Je(),e=(0,Dt.useHistory)(),[c,n]=(0,g.useState)(null),a=Number(t.get("coinId"))||_e,{coin:o}=D(a,!1),p=Ke(),[l,u]=(0,g.useState)(!1),[C,r,d,w,i]=vt(a),[y,b]=(0,g.useState)(!1),[I,{setTrue:P,setFalse:S}]=(0,me.useBoolean)(!1),{form:B,visible:L,payValues:h,onPayValuesChange:k,onToggleSelectPanel:U}=kt({payInfo:d,payCryptoOptions:w}),le=ut();(0,me.useUpdateEffect)(()=>{(async()=>{if(!r&&h?.payCrypto?.coinId){let v=await le(h?.payCrypto?.coinId,h?.payCrypto?.coinAmount);n(v)}})()},[r,h?.payCrypto?.coinId,h?.payCrypto?.coinAmount]),Ot({form:B,payInfo:d,payValues:h,isFreeCreate:r,walletOptions:c,payCryptoOptions:w,setPayWalletError:u,onPayValuesChange:k});let{coinId:ee,coinAmount:he,toAddress:zt}=h?.payCrypto||{},{walletId:Yt,serverWalletType:Te,address:Ie,coinAmountInt:be}=h?.payWallet||{},Ut=async v=>{try{P(),await v()}catch(oe){let pe=oe?.msg||x("extension_wallet_transaction_notif_waxaccount_failed");ye.error({title:pe})}finally{S()}},Gt=Lt({sendAmount:he,availableBalance:be,onCheckCallback:v=>(u(v),v?Promise.reject():Promise.resolve())}),Pe=async v=>{let oe=await $().getPublicKeyByWalletId(p,Se),{coinAmount:pe,symbol:Ht}=h?.payCrypto||{},{ramBytes:Mt,cpuAmount:Vt,ramAmount:qt,netAmount:Kt,sumAmount:$t}=h?.payInfo||{},Xt={transaction:v,order:{payCoin:Ht,ramBytes:Mt,payAmount:pe,eosAmount:$t,cpuAmount:Vt,ramAmount:qt,netAmount:Kt,ownerKey:oe,activeKey:oe,payAddress:Ie,account:t.get("account"),coinId:o?.coinId,chainId:o?.chainId}},We=await(r?lt:mt)(Xt,p);return Number(We.code)===0&&(ye.success({title:x("extension_wallet_transaction_notif_waxaccount_created"),desc:t.get("account")}),e.push(t.get("from")||ce)),We},fe={coinId:ee,toAddr:zt,walletId:Yt,fromAddr:Ie,sendAmount:he,onBeforeClick:Gt,onPublishTrascation:Pe,onClickWrap:Ut},te=!r&&(!h?.payCrypto||!h?.payWallet),Zt=(0,g.useMemo)(()=>r?w.find(v=>v?.coinId===a)||w?.[0]:{},[r,a,w]);return g.default.createElement(T.Container,{loading:C,className:_["wax-create-account-confirm"]},g.default.createElement(ie,{closeable:!1,title:x("extension_wallet_header_title_waxaccount_opening")}),g.default.createElement(G,{form:B,className:_["wax-create-account-confirm-form"]},g.default.createElement(G.Item,{name:"payCrypto",label:x("extension_wallet_create_text_payment_crypto")},r?g.default.createElement(At,{...Zt,displayPrecision:o?.displayPrecision,stableCoin:o?.stableCoin}):g.default.createElement(ge,{type:"payCrypto",onClick:U})),!r&&g.default.createElement(G.Item,{name:"payWallet",extra:!!l&&g.default.createElement(T.Space,{space:7},g.default.createElement(f.Text,{className:_["wax-create-account-confirm-form-insufficient-error"],size:f.SIZE.sm},x("extension_wallet_create_errortip_insufficient_balance")),g.default.createElement(f.Text,{className:_["wax-create-account-confirm-form-fill-up"],size:f.SIZE.sm,onClick:()=>{b(!0)}},x("extension_wallet_create_textbtn_fill_up",{crypto:h?.payCrypto?.symbol}))),label:x("extension_wallet_create_text_payment_wallet")},g.default.createElement(ge,{type:"payWallet",onClick:U,disabled:!c?.length,placeholder:x("extension_wallet_create_input_no_available_wallets")})),g.default.createElement(G.Item,{name:"payInfo",label:x("extension_wallet_create_text_pay_toopen")},g.default.createElement(Ft,{symbol:o?.symbol,decimals:o?.decimals,displayPrecision:o?.displayPrecision,stableCoin:o?.stableCoin})),g.default.createElement(G.Item,null,g.default.createElement(ne.FooterActions,{placeholder:!1},!r&&ee===Be&&g.default.createElement(_t,{loading:I,disabled:te,walletType:Te,hideLoading:S,availableAmount:be,...fe}),!r&&ee===Ne&&g.default.createElement(gt,{btnProps:{loading:I,disabled:te},...fe}),!r&&ee===_e&&g.default.createElement(Pt,{loading:I,disabled:te,walletType:Te,...fe}),r&&g.default.createElement(It,{loading:I,disabled:te,fromPage:t.get("from"),retryCreateAccount:i,onPublishTrascation:Pe})))),g.default.createElement(St,{name:"payCrypto",value:h.payCrypto,visible:L.payCrypto,options:w,onChange:k,onClose:U}),g.default.createElement(Nt,{name:"payWallet",value:h?.payWallet,visible:L?.payWallet,options:c,onClose:U,onChange:k,coinId:h?.payCrypto?.coinId}),g.default.createElement(Qe,{visible:y,closeCallback:()=>b(!1),address:h?.payWallet?.address,coinId:h?.payCrypto?.coinId,receiveOnly:!0}))},Sc=g.default.memo(go);export{Sc as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ConfirmPay-PHUYEPBC.js.map
