import{h as tt,n as Ne}from"./chunk-IFQDHP3Z.js";import{a as De}from"./chunk-2E2OBQTS.js";import{a as re,b as Te,c as Qe,n as et}from"./chunk-3S4BGA37.js";import{ia as qe}from"./chunk-POP3LIKS.js";import{ca as Ee,n as Xe,r as Ce,v as $e}from"./chunk-G44PPNNQ.js";import{c as Z,f as mn,n as process,o as u,q as g}from"./chunk-SHG7TIBL.js";var se=Z(B=>{"use strict";u();g();var Sn=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function Cn(t,n){return Object.prototype.hasOwnProperty.call(t,n)}B.assign=function(t){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var e=n.shift();if(!!e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(var r in e)Cn(e,r)&&(t[r]=e[r])}}return t};B.shrinkBuf=function(t,n){return t.length===n?t:t.subarray?t.subarray(0,n):(t.length=n,t)};var En={arraySet:function(t,n,e,r,f){if(n.subarray&&t.subarray){t.set(n.subarray(e,e+r),f);return}for(var i=0;i<r;i++)t[f+i]=n[e+i]},flattenChunks:function(t){var n,e,r,f,i,l;for(r=0,n=0,e=t.length;n<e;n++)r+=t[n].length;for(l=new Uint8Array(r),f=0,n=0,e=t.length;n<e;n++)i=t[n],l.set(i,f),f+=i.length;return l}},Tn={arraySet:function(t,n,e,r,f){for(var i=0;i<r;i++)t[f+i]=n[e+i]},flattenChunks:function(t){return[].concat.apply([],t)}};B.setTyped=function(t){t?(B.Buf8=Uint8Array,B.Buf16=Uint16Array,B.Buf32=Int32Array,B.assign(B,En)):(B.Buf8=Array,B.Buf16=Array,B.Buf32=Array,B.assign(B,Tn))};B.setTyped(Sn)});var ot=Z((Ai,at)=>{"use strict";u();g();function Dn(t,n,e,r){for(var f=t&65535|0,i=t>>>16&65535|0,l=0;e!==0;){l=e>2e3?2e3:e,e-=l;do f=f+n[r++]|0,i=i+f|0;while(--l);f%=65521,i%=65521}return f|i<<16|0}at.exports=Dn});var ft=Z((Mi,st)=>{"use strict";u();g();function Nn(){for(var t,n=[],e=0;e<256;e++){t=e;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;n[e]=t}return n}var Rn=Nn();function In(t,n,e,r){var f=Rn,i=r+e;t^=-1;for(var l=r;l<i;l++)t=t>>>8^f[(t^n[l])&255];return t^-1}st.exports=In});var ct=Z((Vi,lt)=>{"use strict";u();g();var ge=30,On=12;lt.exports=function(n,e){var r,f,i,l,s,w,o,a,T,v,c,_,b,k,x,R,N,S,d,D,C,m,E,y,p;r=n.state,f=n.next_in,y=n.input,i=f+(n.avail_in-5),l=n.next_out,p=n.output,s=l-(e-n.avail_out),w=l+(n.avail_out-257),o=r.dmax,a=r.wsize,T=r.whave,v=r.wnext,c=r.window,_=r.hold,b=r.bits,k=r.lencode,x=r.distcode,R=(1<<r.lenbits)-1,N=(1<<r.distbits)-1;e:do{b<15&&(_+=y[f++]<<b,b+=8,_+=y[f++]<<b,b+=8),S=k[_&R];t:for(;;){if(d=S>>>24,_>>>=d,b-=d,d=S>>>16&255,d===0)p[l++]=S&65535;else if(d&16){D=S&65535,d&=15,d&&(b<d&&(_+=y[f++]<<b,b+=8),D+=_&(1<<d)-1,_>>>=d,b-=d),b<15&&(_+=y[f++]<<b,b+=8,_+=y[f++]<<b,b+=8),S=x[_&N];n:for(;;){if(d=S>>>24,_>>>=d,b-=d,d=S>>>16&255,d&16){if(C=S&65535,d&=15,b<d&&(_+=y[f++]<<b,b+=8,b<d&&(_+=y[f++]<<b,b+=8)),C+=_&(1<<d)-1,C>o){n.msg="invalid distance too far back",r.mode=ge;break e}if(_>>>=d,b-=d,d=l-s,C>d){if(d=C-d,d>T&&r.sane){n.msg="invalid distance too far back",r.mode=ge;break e}if(m=0,E=c,v===0){if(m+=a-d,d<D){D-=d;do p[l++]=c[m++];while(--d);m=l-C,E=p}}else if(v<d){if(m+=a+v-d,d-=v,d<D){D-=d;do p[l++]=c[m++];while(--d);if(m=0,v<D){d=v,D-=d;do p[l++]=c[m++];while(--d);m=l-C,E=p}}}else if(m+=v-d,d<D){D-=d;do p[l++]=c[m++];while(--d);m=l-C,E=p}for(;D>2;)p[l++]=E[m++],p[l++]=E[m++],p[l++]=E[m++],D-=3;D&&(p[l++]=E[m++],D>1&&(p[l++]=E[m++]))}else{m=l-C;do p[l++]=p[m++],p[l++]=p[m++],p[l++]=p[m++],D-=3;while(D>2);D&&(p[l++]=p[m++],D>1&&(p[l++]=p[m++]))}}else if((d&64)===0){S=x[(S&65535)+(_&(1<<d)-1)];continue n}else{n.msg="invalid distance code",r.mode=ge;break e}break}}else if((d&64)===0){S=k[(S&65535)+(_&(1<<d)-1)];continue t}else if(d&32){r.mode=On;break e}else{n.msg="invalid literal/length code",r.mode=ge;break e}break}}while(f<i&&l<w);D=b>>3,f-=D,b-=D<<3,_&=(1<<b)-1,n.next_in=f,n.next_out=l,n.avail_in=f<i?5+(i-f):5-(f-i),n.avail_out=l<w?257+(w-l):257-(l-w),r.hold=_,r.bits=b}});var xt=Z((Ki,wt)=>{"use strict";u();g();var dt=se(),Q=15,ht=852,ut=592,gt=0,Pe=1,vt=2,yn=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Pn=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Ln=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Bn=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];wt.exports=function(n,e,r,f,i,l,s,w){var o=w.bits,a=0,T=0,v=0,c=0,_=0,b=0,k=0,x=0,R=0,N=0,S,d,D,C,m,E=null,y=0,p,U=new dt.Buf16(Q+1),h=new dt.Buf16(Q+1),L=null,F=0,K,z,X;for(a=0;a<=Q;a++)U[a]=0;for(T=0;T<f;T++)U[e[r+T]]++;for(_=o,c=Q;c>=1&&U[c]===0;c--);if(_>c&&(_=c),c===0)return i[l++]=1<<24|64<<16|0,i[l++]=1<<24|64<<16|0,w.bits=1,0;for(v=1;v<c&&U[v]===0;v++);for(_<v&&(_=v),x=1,a=1;a<=Q;a++)if(x<<=1,x-=U[a],x<0)return-1;if(x>0&&(n===gt||c!==1))return-1;for(h[1]=0,a=1;a<Q;a++)h[a+1]=h[a]+U[a];for(T=0;T<f;T++)e[r+T]!==0&&(s[h[e[r+T]]++]=T);if(n===gt?(E=L=s,p=19):n===Pe?(E=yn,y-=257,L=Pn,F-=257,p=256):(E=Ln,L=Bn,p=-1),N=0,T=0,a=v,m=l,b=_,k=0,D=-1,R=1<<_,C=R-1,n===Pe&&R>ht||n===vt&&R>ut)return 1;for(;;){K=a-k,s[T]<p?(z=0,X=s[T]):s[T]>p?(z=L[F+s[T]],X=E[y+s[T]]):(z=32+64,X=0),S=1<<a-k,d=1<<b,v=d;do d-=S,i[m+(N>>k)+d]=K<<24|z<<16|X|0;while(d!==0);for(S=1<<a-1;N&S;)S>>=1;if(S!==0?(N&=S-1,N+=S):N=0,T++,--U[a]===0){if(a===c)break;a=e[r+s[T]]}if(a>_&&(N&C)!==D){for(k===0&&(k=_),m+=v,b=a-k,x=1<<b;b+k<c&&(x-=U[b+k],!(x<=0));)b++,x<<=1;if(R+=1<<b,n===Pe&&R>ht||n===vt&&R>ut)return 1;D=N&C,i[D]=_<<24|b<<16|m-l|0}}return N!==0&&(i[m+N]=a-k<<24|64<<16|0),w.bits=_,0}});var qt=Z(H=>{"use strict";u();g();var A=se(),Ze=ot(),W=ft(),Un=ct(),fe=xt(),An=0,Vt=1,Gt=2,bt=4,Fn=5,ve=6,Y=0,Zn=1,Mn=2,M=-2,jt=-3,Me=-4,Hn=-5,mt=8,Kt=1,pt=2,_t=3,kt=4,St=5,Ct=6,Et=7,Tt=8,Dt=9,Nt=10,be=11,V=12,Le=13,Rt=14,Be=15,It=16,Ot=17,yt=18,Pt=19,we=20,xe=21,Lt=22,Bt=23,Ut=24,At=25,Ft=26,Ue=27,Zt=28,Mt=29,O=30,He=31,Wn=32,Vn=852,Gn=592,jn=15,Kn=jn;function Ht(t){return(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24)}function zn(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new A.Buf16(320),this.work=new A.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function zt(t){var n;return!t||!t.state?M:(n=t.state,t.total_in=t.total_out=n.total=0,t.msg="",n.wrap&&(t.adler=n.wrap&1),n.mode=Kt,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=n.lendyn=new A.Buf32(Vn),n.distcode=n.distdyn=new A.Buf32(Gn),n.sane=1,n.back=-1,Y)}function Yt(t){var n;return!t||!t.state?M:(n=t.state,n.wsize=0,n.whave=0,n.wnext=0,zt(t))}function Jt(t,n){var e,r;return!t||!t.state||(r=t.state,n<0?(e=0,n=-n):(e=(n>>4)+1,n<48&&(n&=15)),n&&(n<8||n>15))?M:(r.window!==null&&r.wbits!==n&&(r.window=null),r.wrap=e,r.wbits=n,Yt(t))}function Xt(t,n){var e,r;return t?(r=new zn,t.state=r,r.window=null,e=Jt(t,n),e!==Y&&(t.state=null),e):M}function Yn(t){return Xt(t,Kn)}var Wt=!0,Ae,Fe;function Jn(t){if(Wt){var n;for(Ae=new A.Buf32(512),Fe=new A.Buf32(32),n=0;n<144;)t.lens[n++]=8;for(;n<256;)t.lens[n++]=9;for(;n<280;)t.lens[n++]=7;for(;n<288;)t.lens[n++]=8;for(fe(Vt,t.lens,0,288,Ae,0,t.work,{bits:9}),n=0;n<32;)t.lens[n++]=5;fe(Gt,t.lens,0,32,Fe,0,t.work,{bits:5}),Wt=!1}t.lencode=Ae,t.lenbits=9,t.distcode=Fe,t.distbits=5}function $t(t,n,e,r){var f,i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new A.Buf8(i.wsize)),r>=i.wsize?(A.arraySet(i.window,n,e-i.wsize,i.wsize,0),i.wnext=0,i.whave=i.wsize):(f=i.wsize-i.wnext,f>r&&(f=r),A.arraySet(i.window,n,e-r,f,i.wnext),r-=f,r?(A.arraySet(i.window,n,e-r,r,0),i.wnext=r,i.whave=i.wsize):(i.wnext+=f,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=f))),0}function Xn(t,n){var e,r,f,i,l,s,w,o,a,T,v,c,_,b,k=0,x,R,N,S,d,D,C,m,E=new A.Buf8(4),y,p,U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&t.avail_in!==0)return M;e=t.state,e.mode===V&&(e.mode=Le),l=t.next_out,f=t.output,w=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,o=e.hold,a=e.bits,T=s,v=w,m=Y;e:for(;;)switch(e.mode){case Kt:if(e.wrap===0){e.mode=Le;break}for(;a<16;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(e.wrap&2&&o===35615){e.check=0,E[0]=o&255,E[1]=o>>>8&255,e.check=W(e.check,E,2,0),o=0,a=0,e.mode=pt;break}if(e.flags=0,e.head&&(e.head.done=!1),!(e.wrap&1)||(((o&255)<<8)+(o>>8))%31){t.msg="incorrect header check",e.mode=O;break}if((o&15)!==mt){t.msg="unknown compression method",e.mode=O;break}if(o>>>=4,a-=4,C=(o&15)+8,e.wbits===0)e.wbits=C;else if(C>e.wbits){t.msg="invalid window size",e.mode=O;break}e.dmax=1<<C,t.adler=e.check=1,e.mode=o&512?Nt:V,o=0,a=0;break;case pt:for(;a<16;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(e.flags=o,(e.flags&255)!==mt){t.msg="unknown compression method",e.mode=O;break}if(e.flags&57344){t.msg="unknown header flags set",e.mode=O;break}e.head&&(e.head.text=o>>8&1),e.flags&512&&(E[0]=o&255,E[1]=o>>>8&255,e.check=W(e.check,E,2,0)),o=0,a=0,e.mode=_t;case _t:for(;a<32;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.head&&(e.head.time=o),e.flags&512&&(E[0]=o&255,E[1]=o>>>8&255,E[2]=o>>>16&255,E[3]=o>>>24&255,e.check=W(e.check,E,4,0)),o=0,a=0,e.mode=kt;case kt:for(;a<16;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.head&&(e.head.xflags=o&255,e.head.os=o>>8),e.flags&512&&(E[0]=o&255,E[1]=o>>>8&255,e.check=W(e.check,E,2,0)),o=0,a=0,e.mode=St;case St:if(e.flags&1024){for(;a<16;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.length=o,e.head&&(e.head.extra_len=o),e.flags&512&&(E[0]=o&255,E[1]=o>>>8&255,e.check=W(e.check,E,2,0)),o=0,a=0}else e.head&&(e.head.extra=null);e.mode=Ct;case Ct:if(e.flags&1024&&(c=e.length,c>s&&(c=s),c&&(e.head&&(C=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),A.arraySet(e.head.extra,r,i,c,C)),e.flags&512&&(e.check=W(e.check,r,c,i)),s-=c,i+=c,e.length-=c),e.length))break e;e.length=0,e.mode=Et;case Et:if(e.flags&2048){if(s===0)break e;c=0;do C=r[i+c++],e.head&&C&&e.length<65536&&(e.head.name+=String.fromCharCode(C));while(C&&c<s);if(e.flags&512&&(e.check=W(e.check,r,c,i)),s-=c,i+=c,C)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=Tt;case Tt:if(e.flags&4096){if(s===0)break e;c=0;do C=r[i+c++],e.head&&C&&e.length<65536&&(e.head.comment+=String.fromCharCode(C));while(C&&c<s);if(e.flags&512&&(e.check=W(e.check,r,c,i)),s-=c,i+=c,C)break e}else e.head&&(e.head.comment=null);e.mode=Dt;case Dt:if(e.flags&512){for(;a<16;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(o!==(e.check&65535)){t.msg="header crc mismatch",e.mode=O;break}o=0,a=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),t.adler=e.check=0,e.mode=V;break;case Nt:for(;a<32;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}t.adler=e.check=Ht(o),o=0,a=0,e.mode=be;case be:if(e.havedict===0)return t.next_out=l,t.avail_out=w,t.next_in=i,t.avail_in=s,e.hold=o,e.bits=a,Mn;t.adler=e.check=1,e.mode=V;case V:if(n===Fn||n===ve)break e;case Le:if(e.last){o>>>=a&7,a-=a&7,e.mode=Ue;break}for(;a<3;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}switch(e.last=o&1,o>>>=1,a-=1,o&3){case 0:e.mode=Rt;break;case 1:if(Jn(e),e.mode=we,n===ve){o>>>=2,a-=2;break e}break;case 2:e.mode=Ot;break;case 3:t.msg="invalid block type",e.mode=O}o>>>=2,a-=2;break;case Rt:for(o>>>=a&7,a-=a&7;a<32;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if((o&65535)!==(o>>>16^65535)){t.msg="invalid stored block lengths",e.mode=O;break}if(e.length=o&65535,o=0,a=0,e.mode=Be,n===ve)break e;case Be:e.mode=It;case It:if(c=e.length,c){if(c>s&&(c=s),c>w&&(c=w),c===0)break e;A.arraySet(f,r,i,c,l),s-=c,i+=c,w-=c,l+=c,e.length-=c;break}e.mode=V;break;case Ot:for(;a<14;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(e.nlen=(o&31)+257,o>>>=5,a-=5,e.ndist=(o&31)+1,o>>>=5,a-=5,e.ncode=(o&15)+4,o>>>=4,a-=4,e.nlen>286||e.ndist>30){t.msg="too many length or distance symbols",e.mode=O;break}e.have=0,e.mode=yt;case yt:for(;e.have<e.ncode;){for(;a<3;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.lens[U[e.have++]]=o&7,o>>>=3,a-=3}for(;e.have<19;)e.lens[U[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,y={bits:e.lenbits},m=fe(An,e.lens,0,19,e.lencode,0,e.work,y),e.lenbits=y.bits,m){t.msg="invalid code lengths set",e.mode=O;break}e.have=0,e.mode=Pt;case Pt:for(;e.have<e.nlen+e.ndist;){for(;k=e.lencode[o&(1<<e.lenbits)-1],x=k>>>24,R=k>>>16&255,N=k&65535,!(x<=a);){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(N<16)o>>>=x,a-=x,e.lens[e.have++]=N;else{if(N===16){for(p=x+2;a<p;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(o>>>=x,a-=x,e.have===0){t.msg="invalid bit length repeat",e.mode=O;break}C=e.lens[e.have-1],c=3+(o&3),o>>>=2,a-=2}else if(N===17){for(p=x+3;a<p;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}o>>>=x,a-=x,C=0,c=3+(o&7),o>>>=3,a-=3}else{for(p=x+7;a<p;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}o>>>=x,a-=x,C=0,c=11+(o&127),o>>>=7,a-=7}if(e.have+c>e.nlen+e.ndist){t.msg="invalid bit length repeat",e.mode=O;break}for(;c--;)e.lens[e.have++]=C}}if(e.mode===O)break;if(e.lens[256]===0){t.msg="invalid code -- missing end-of-block",e.mode=O;break}if(e.lenbits=9,y={bits:e.lenbits},m=fe(Vt,e.lens,0,e.nlen,e.lencode,0,e.work,y),e.lenbits=y.bits,m){t.msg="invalid literal/lengths set",e.mode=O;break}if(e.distbits=6,e.distcode=e.distdyn,y={bits:e.distbits},m=fe(Gt,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,y),e.distbits=y.bits,m){t.msg="invalid distances set",e.mode=O;break}if(e.mode=we,n===ve)break e;case we:e.mode=xe;case xe:if(s>=6&&w>=258){t.next_out=l,t.avail_out=w,t.next_in=i,t.avail_in=s,e.hold=o,e.bits=a,Un(t,v),l=t.next_out,f=t.output,w=t.avail_out,i=t.next_in,r=t.input,s=t.avail_in,o=e.hold,a=e.bits,e.mode===V&&(e.back=-1);break}for(e.back=0;k=e.lencode[o&(1<<e.lenbits)-1],x=k>>>24,R=k>>>16&255,N=k&65535,!(x<=a);){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(R&&(R&240)===0){for(S=x,d=R,D=N;k=e.lencode[D+((o&(1<<S+d)-1)>>S)],x=k>>>24,R=k>>>16&255,N=k&65535,!(S+x<=a);){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}o>>>=S,a-=S,e.back+=S}if(o>>>=x,a-=x,e.back+=x,e.length=N,R===0){e.mode=Ft;break}if(R&32){e.back=-1,e.mode=V;break}if(R&64){t.msg="invalid literal/length code",e.mode=O;break}e.extra=R&15,e.mode=Lt;case Lt:if(e.extra){for(p=e.extra;a<p;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.length+=o&(1<<e.extra)-1,o>>>=e.extra,a-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Bt;case Bt:for(;k=e.distcode[o&(1<<e.distbits)-1],x=k>>>24,R=k>>>16&255,N=k&65535,!(x<=a);){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if((R&240)===0){for(S=x,d=R,D=N;k=e.distcode[D+((o&(1<<S+d)-1)>>S)],x=k>>>24,R=k>>>16&255,N=k&65535,!(S+x<=a);){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}o>>>=S,a-=S,e.back+=S}if(o>>>=x,a-=x,e.back+=x,R&64){t.msg="invalid distance code",e.mode=O;break}e.offset=N,e.extra=R&15,e.mode=Ut;case Ut:if(e.extra){for(p=e.extra;a<p;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}e.offset+=o&(1<<e.extra)-1,o>>>=e.extra,a-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){t.msg="invalid distance too far back",e.mode=O;break}e.mode=At;case At:if(w===0)break e;if(c=v-w,e.offset>c){if(c=e.offset-c,c>e.whave&&e.sane){t.msg="invalid distance too far back",e.mode=O;break}c>e.wnext?(c-=e.wnext,_=e.wsize-c):_=e.wnext-c,c>e.length&&(c=e.length),b=e.window}else b=f,_=l-e.offset,c=e.length;c>w&&(c=w),w-=c,e.length-=c;do f[l++]=b[_++];while(--c);e.length===0&&(e.mode=xe);break;case Ft:if(w===0)break e;f[l++]=e.length,w--,e.mode=xe;break;case Ue:if(e.wrap){for(;a<32;){if(s===0)break e;s--,o|=r[i++]<<a,a+=8}if(v-=w,t.total_out+=v,e.total+=v,v&&(t.adler=e.check=e.flags?W(e.check,f,v,l-v):Ze(e.check,f,v,l-v)),v=w,(e.flags?o:Ht(o))!==e.check){t.msg="incorrect data check",e.mode=O;break}o=0,a=0}e.mode=Zt;case Zt:if(e.wrap&&e.flags){for(;a<32;){if(s===0)break e;s--,o+=r[i++]<<a,a+=8}if(o!==(e.total&4294967295)){t.msg="incorrect length check",e.mode=O;break}o=0,a=0}e.mode=Mt;case Mt:m=Zn;break e;case O:m=jt;break e;case He:return Me;case Wn:default:return M}return t.next_out=l,t.avail_out=w,t.next_in=i,t.avail_in=s,e.hold=o,e.bits=a,(e.wsize||v!==t.avail_out&&e.mode<O&&(e.mode<Ue||n!==bt))&&$t(t,t.output,t.next_out,v-t.avail_out)?(e.mode=He,Me):(T-=t.avail_in,v-=t.avail_out,t.total_in+=T,t.total_out+=v,e.total+=v,e.wrap&&v&&(t.adler=e.check=e.flags?W(e.check,f,v,t.next_out-v):Ze(e.check,f,v,t.next_out-v)),t.data_type=e.bits+(e.last?64:0)+(e.mode===V?128:0)+(e.mode===we||e.mode===Be?256:0),(T===0&&v===0||n===bt)&&m===Y&&(m=Hn),m)}function $n(t){if(!t||!t.state)return M;var n=t.state;return n.window&&(n.window=null),t.state=null,Y}function qn(t,n){var e;return!t||!t.state||(e=t.state,(e.wrap&2)===0)?M:(e.head=n,n.done=!1,Y)}function Qn(t,n){var e=n.length,r,f,i;return!t||!t.state||(r=t.state,r.wrap!==0&&r.mode!==be)?M:r.mode===be&&(f=1,f=Ze(f,n,e,0),f!==r.check)?jt:(i=$t(t,n,e,e),i?(r.mode=He,Me):(r.havedict=1,Y))}H.inflateReset=Yt;H.inflateReset2=Jt;H.inflateResetKeep=zt;H.inflateInit=Yn;H.inflateInit2=Xt;H.inflate=Xn;H.inflateEnd=$n;H.inflateGetHeader=qn;H.inflateSetDictionary=Qn;H.inflateInfo="pako inflate (from Nodeca project)"});var nn=Z(ee=>{"use strict";u();g();var me=se(),Qt=!0,en=!0;try{String.fromCharCode.apply(null,[0])}catch{Qt=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{en=!1}var le=new me.Buf8(256);for(G=0;G<256;G++)le[G]=G>=252?6:G>=248?5:G>=240?4:G>=224?3:G>=192?2:1;var G;le[254]=le[254]=1;ee.string2buf=function(t){var n,e,r,f,i,l=t.length,s=0;for(f=0;f<l;f++)e=t.charCodeAt(f),(e&64512)===55296&&f+1<l&&(r=t.charCodeAt(f+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),f++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(n=new me.Buf8(s),i=0,f=0;i<s;f++)e=t.charCodeAt(f),(e&64512)===55296&&f+1<l&&(r=t.charCodeAt(f+1),(r&64512)===56320&&(e=65536+(e-55296<<10)+(r-56320),f++)),e<128?n[i++]=e:e<2048?(n[i++]=192|e>>>6,n[i++]=128|e&63):e<65536?(n[i++]=224|e>>>12,n[i++]=128|e>>>6&63,n[i++]=128|e&63):(n[i++]=240|e>>>18,n[i++]=128|e>>>12&63,n[i++]=128|e>>>6&63,n[i++]=128|e&63);return n};function tn(t,n){if(n<65534&&(t.subarray&&en||!t.subarray&&Qt))return String.fromCharCode.apply(null,me.shrinkBuf(t,n));for(var e="",r=0;r<n;r++)e+=String.fromCharCode(t[r]);return e}ee.buf2binstring=function(t){return tn(t,t.length)};ee.binstring2buf=function(t){for(var n=new me.Buf8(t.length),e=0,r=n.length;e<r;e++)n[e]=t.charCodeAt(e);return n};ee.buf2string=function(t,n){var e,r,f,i,l=n||t.length,s=new Array(l*2);for(r=0,e=0;e<l;){if(f=t[e++],f<128){s[r++]=f;continue}if(i=le[f],i>4){s[r++]=65533,e+=i-1;continue}for(f&=i===2?31:i===3?15:7;i>1&&e<l;)f=f<<6|t[e++]&63,i--;if(i>1){s[r++]=65533;continue}f<65536?s[r++]=f:(f-=65536,s[r++]=55296|f>>10&1023,s[r++]=56320|f&1023)}return tn(s,r)};ee.utf8border=function(t,n){var e;for(n=n||t.length,n>t.length&&(n=t.length),e=n-1;e>=0&&(t[e]&192)===128;)e--;return e<0||e===0?n:e+le[t[e]]>n?e:n}});var an=Z((tr,rn)=>{"use strict";u();g();rn.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}});var sn=Z((rr,on)=>{"use strict";u();g();on.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}});var ln=Z((sr,fn)=>{"use strict";u();g();function ei(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}fn.exports=ei});var dn=Z((cr,cn)=>{"use strict";u();g();function ti(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}cn.exports=ti});var un=Z(de=>{"use strict";u();g();var te=qt(),ce=se(),pe=nn(),P=an(),We=sn(),ni=ln(),ii=dn(),hn=Object.prototype.toString;function J(t){if(!(this instanceof J))return new J(t);this.options=ce.assign({chunkSize:16384,windowBits:0,to:""},t||{});var n=this.options;n.raw&&n.windowBits>=0&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),n.windowBits>=0&&n.windowBits<16&&!(t&&t.windowBits)&&(n.windowBits+=32),n.windowBits>15&&n.windowBits<48&&(n.windowBits&15)===0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ni,this.strm.avail_out=0;var e=te.inflateInit2(this.strm,n.windowBits);if(e!==P.Z_OK)throw new Error(We[e]);if(this.header=new ii,te.inflateGetHeader(this.strm,this.header),n.dictionary&&(typeof n.dictionary=="string"?n.dictionary=pe.string2buf(n.dictionary):hn.call(n.dictionary)==="[object ArrayBuffer]"&&(n.dictionary=new Uint8Array(n.dictionary)),n.raw&&(e=te.inflateSetDictionary(this.strm,n.dictionary),e!==P.Z_OK)))throw new Error(We[e])}J.prototype.push=function(t,n){var e=this.strm,r=this.options.chunkSize,f=this.options.dictionary,i,l,s,w,o,a=!1;if(this.ended)return!1;l=n===~~n?n:n===!0?P.Z_FINISH:P.Z_NO_FLUSH,typeof t=="string"?e.input=pe.binstring2buf(t):hn.call(t)==="[object ArrayBuffer]"?e.input=new Uint8Array(t):e.input=t,e.next_in=0,e.avail_in=e.input.length;do{if(e.avail_out===0&&(e.output=new ce.Buf8(r),e.next_out=0,e.avail_out=r),i=te.inflate(e,P.Z_NO_FLUSH),i===P.Z_NEED_DICT&&f&&(i=te.inflateSetDictionary(this.strm,f)),i===P.Z_BUF_ERROR&&a===!0&&(i=P.Z_OK,a=!1),i!==P.Z_STREAM_END&&i!==P.Z_OK)return this.onEnd(i),this.ended=!0,!1;e.next_out&&(e.avail_out===0||i===P.Z_STREAM_END||e.avail_in===0&&(l===P.Z_FINISH||l===P.Z_SYNC_FLUSH))&&(this.options.to==="string"?(s=pe.utf8border(e.output,e.next_out),w=e.next_out-s,o=pe.buf2string(e.output,s),e.next_out=w,e.avail_out=r-w,w&&ce.arraySet(e.output,e.output,s,w,0),this.onData(o)):this.onData(ce.shrinkBuf(e.output,e.next_out))),e.avail_in===0&&e.avail_out===0&&(a=!0)}while((e.avail_in>0||e.avail_out===0)&&i!==P.Z_STREAM_END);return i===P.Z_STREAM_END&&(l=P.Z_FINISH),l===P.Z_FINISH?(i=te.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===P.Z_OK):(l===P.Z_SYNC_FLUSH&&(this.onEnd(P.Z_OK),e.avail_out=0),!0)};J.prototype.onData=function(t){this.chunks.push(t)};J.prototype.onEnd=function(t){t===P.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ce.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Ve(t,n){var e=new J(n);if(e.push(t,!0),e.err)throw e.msg||We[e.err];return e.result}function ri(t,n){return n=n||{},n.raw=!0,Ve(t,n)}de.Inflate=J;de.inflate=Ve;de.inflateRaw=ri;de.ungzip=Ve});u();g();var di=({pay:t,receive:n,quoteDiffValThreshold:e,quoteDiffPercentThreshold:r})=>{if(Te(t)||Te(n)||Qe(t))return{pay:"0",receive:"0",quoteDiffValThreshold:"0",quoteDiffPercentThreshold:"0",showValueDiffDialog:!1,showValueDiffPercent:!1,diffVal:"0.00",diffPercent:"0%",diffValueType:"normal",diffPercentWeakTip:!0};let f=new re.BigNumber(n).minus(t),i=f.div(t),l=f.lte(e||"0"),s=i.lte(r||"0"),w=l||s,o=i.gt("-0.001")&&i.lt("0.001"),a=i.gt(r)&&i.lt(new re.BigNumber(r).abs());if(o)return{diffPercent:"0.00%",diffVal:f.toString(10),showValueDiffDialog:w,showValueDiffPercent:!1,diffValueType:"hidden",pay:t,receive:n,quoteDiffValThreshold:e,quoteDiffPercentThreshold:r,diffPercentWeakTip:a};let T="normal";i.gte("0.001")&&(T="up"),s&&(T="down");let c=et(i.multipliedBy(100).toString(10),{needZero:!0});return{diffPercent:i.lt(0)?c:`+${c}`,diffVal:f.toString(10),showValueDiffDialog:w,showValueDiffPercent:!0,diffValueType:T,pay:t,receive:n,quoteDiffValThreshold:e,quoteDiffPercentThreshold:r,diffPercentWeakTip:a}},nt="0.01",pn=t=>new re.BigNumber(t).lt(nt)?nt:new re.BigNumber(t).toFixed(2,1),hi=(t,n,e)=>{let r=t.replace("-","").replace("+","");if(!n)return r;let f=pn(n),i=$e.formatCurrency(f,{currencySign:e});return`${r} (\u2248${i})`};u();g();u();g();var _n=null;function it(){return!!_n?.isTradeDialog}var rt="DISCLAIMER_VISIBLE",kn=()=>{let t=De.get(rt);return typeof t=="boolean"?t:!0},ki=t=>{De.set(rt,t)},Si=()=>it()||tt()?!1:kn();u();g();var $={JWT:"jwt",SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",PING:"ping",PONG:"pong",LOGIN:"login",LOGOUT:"logout"},Re=()=>{};u();g();function q(t,n){!t||t.forEach(e=>{e(n)})}function Ie(t,n){t?.has(n)&&t.delete(n)}function ae(t,n){return Xe()||t.add(n),()=>Ie(t,n)}function Oe(t){return Array.isArray(t)?t:[t]}function oe(t){if(!t)return"";let n={};return Object.keys(t).sort().forEach(e=>{n[e]=t[e]}),JSON.stringify(n)}var ye=t=>t?t.split(",").map(e=>({token:e})):[];function ue(t){switch(t){case"dex-token-candle1m":case"dex-token-candle15m":case"dex-token-candle4H":return t;default:return""}}u();g();u();g();u();g();var wn=mn(un());u();g();u();g();u();g();u();g();var _e=()=>Boolean(typeof window>"u"||process.env.SSR_ENV);u();g();var Ge={PING:"ping",PONG:"pong"},ne={CONNECTED:0,DISCONNECTED:1,PING_PENDING:2,PING_PENDING_OVER:3},j=!_e(),ke=j&&!window.inOKXExtension;var ai=/^\{|\[/,gn="";j&&(gn=window?.okGlobal?.socketBaseUrls?.trade);var Se={isPushingJSON(t){return ai.test(t)},getRealConnectUrl(t=gn){return t}};u();g();var vn={decode(t){let n=0,e,r,f,i,l,s=[],w=t.length;for(;n<w;)e=t[n++],e<128?l=e:e<224?(r=t[n++],l=(e&31)<<6|r&63):e<240?(r=t[n++],f=t[n++],l=(e&15)<<12|(r&63)<<6|f&63):(r=t[n++],f=t[n++],i=t[n++],l=(e&7)<<18|(r&63)<<12|(f&63)<<6|i&63),s.push(String.fromCodePoint(l));return s.join("")}};var xn=vn;if(j&&ke){let{location:t,TextDecoder:n}=window;n&&(xn=new n("utf-8")),window.$has_debug_push_param$=t.href.indexOf("debug_push=true")>-1}var je={};function Ke(t={}){let n=this,e=Se.getRealConnectUrl(t.connectUrl),r={maxPendingTime:5e3,maxReconnectTime:1e4,maxWaitingResponseTime:1e4,maxSleepRecoveringTime:3e3,...t,connectUrl:e},f=je[r.connectUrl];if(f)return f;let i={isConnected:!1,isConnectPending:!1,isClosingByClient:!1,isKillingUnWakeUp:!1,isPingPending:!1},l,s={reconnectTimer:0,handlePendingTimer:0,discontinueTimer:0,killingUnWakeUpTimer:0,pingPendingTimer:0},w={currReconnectTime:0,lastReceivingTime:0},o=[],a=[],T=[],v=[],c=[],_=()=>{},b=()=>{this.isConnected()&&(_(),s.pingPendingTimer=setTimeout(()=>{i.isPingPending=!0,v.forEach(h=>{h(ne.PING_PENDING)})},r.maxPendingTime))},k=(h,L)=>{for(let F=0;F<h.length;F++)if(h[F]===L){h.splice(F,1);break}},x=()=>{i.isPingPending=!1,clearTimeout(s.pingPendingTimer)},R=()=>{clearInterval(s.handlePendingTimer)},N=()=>{w.currReconnectTime=0,s.reconnectTimer&&(clearTimeout(s.reconnectTimer),delete s.reconnectTimer)},S=()=>{!this.isConnected()&&!i.isConnectPending&&(N(),d())},d=function(){l=new WebSocket(r.connectUrl),i.isConnectPending=!0,l.onopen=D,l.onmessage=m,l.onclose=y,l.onerror=p,s.handlePendingTimer=setInterval(n.handleConnectPending,r.maxPendingTime)},D=function(){i.isConnected=!0,i.isConnectPending=!1,i.isClosingByClient=!1,N(),R(),a.forEach(h=>{h(),h.triggered=!0}),v.forEach(h=>{h(ne.CONNECTED)})},C=function(){i.isPingPending&&v.forEach(h=>{h(ne.PING_PENDING_OVER)}),x()},m=function(h){if(w.lastReceivingTime=Date.now(),clearTimeout(s.discontinueTimer),clearTimeout(s.killingUnWakeUpTimer),s.discontinueTimer=setTimeout(b,r.maxPendingTime),h.data instanceof Blob){let L=h.data,F=new FileReader,K={done:!1,resultString:""};c.push(K),F.onload=function(z){if(z.target.readyState==FileReader.DONE){let X=(0,wn.inflateRaw)(z.target.result);for(K.done=!0,K.resultString=xn.decode(X);c[0]&&c[0].done;){let{resultString:ie}=c.shift();ie===Ge.PONG&&C();let Je=Se.isPushingJSON(ie)?JSON.parse(ie):ie;U(Je),window.$has_debug_push_param$&&(console.log(ie),window.$ok_debug_push_callback$&&window.$ok_debug_push_callback$(Je))}}},F.readAsArrayBuffer(L)}else{let L=h.data;L===Ge.PONG&&C(),U(Se.isPushingJSON(L)?JSON.parse(L):L),window.$has_debug_push_param$&&console.log(L)}},E=function(){i.isConnected=!1,i.isConnectPending=!1,x(),a.forEach(h=>{h.triggered=!1})},y=function(){if(i.isKillingUnWakeUp){i.isKillingUnWakeUp=!1;return}i.isClosingByClient?E():s.reconnectTimer||p()},p=function(){E(),R(),o.forEach(L=>{L()}),v.forEach(L=>{L(ne.DISCONNECTED)}),s.reconnectTimer=setTimeout(d,w.currReconnectTime);let h=w.currReconnectTime+1e3;h>r.maxReconnectTime&&(h=r.maxReconnectTime),w.currReconnectTime=h},U=function(h){if(h.event==="error"&&Number(h.errorCode)===30026){l.close();return}T.forEach(F=>F(h))};if(this.setPushDataResolver=function(h){return T.push(h),()=>{k(T,h)}},this.connect=function(){if(j){if(this.isConnected()){a.forEach(h=>{h.triggered||(h(),h.triggered=!0)});return}!this.isConnected()&&!i.isConnectPending&&d()}},this.disconnect=function(){clearTimeout(s.reconnectTimer),clearTimeout(s.discontinueTimer),delete s.reconnectTimer,delete s.discontinueTimer,i.isClosingByClient=!0,l.close(),o.length=0,a.length=0,T.length=0,_=()=>{},delete je[r.connectUrl];let{connection:h}=navigator;h&&h.removeEventListener&&h.removeEventListener("change",this.handleConnectionChange),ke&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)},this.isConnected=function(){return i.isConnected},this.sendChannel=function(h){l.readyState===WebSocket.OPEN?l.send(h):console.error("WebSocket is not in open state, can not send!")},this.onSocketConnected=function(h){return a.push(h),()=>{k(a,h)}},this.onSocketError=function(h){return o.push(h),()=>{k(o,h)}},this.onPushDiscontinue=function(h){return _=h,()=>{}},this.onStatusChange=function(h){return v.push(h),()=>{k(v,h)}},this.handleConnectPending=function(){i.isConnectPending&&o.forEach(h=>{h()})},this.handleConnectionChange=()=>{navigator.onLine===!0&&S()},this.handleVisibilityChange=()=>{if(!document.hidden){if(!this.isConnected()){S();return}Date.now()-w.lastReceivingTime>r.maxWaitingResponseTime&&(b(),s.killingUnWakeUpTimer=setTimeout(()=>{E(),N(),i.isKillingUnWakeUp=!0,l.close(),d()},r.maxSleepRecoveringTime))}},j){let{connection:h}=navigator;h&&h.addEventListener&&h.addEventListener("change",this.handleConnectionChange),ke&&document.addEventListener("visibilitychange",this.handleVisibilityChange)}return je[r.connectUrl]=this,this}Ke.STATUS=ne;j&&!window.WebSocketCore&&(window.WebSocketCore=Ke);var bn=Ke;var{SUBSCRIBE:ze,UNSUBSCRIBE:oi,PING:si}=$,he=class{constructor(){this.wsInstance=null;this.initDone=!1;this.authenticated=!0;this.disconnected=!1;this.dataFnsMap=new Map;this.channelCache=new Map;this.wsDataCache={};this.errorFnsList=new Set}connect(){if(this.initDone)return;this.initDone=!0;let n=this.getWsUrl();this.wsInstance=new bn({connectUrl:n,reconnectTime:1e4,maxPendingTime:2e4}),this.wsInstance.onSocketConnected(this.connectedCallback.bind(this)),this.wsInstance.setPushDataResolver(this.dataCallback.bind(this)),this.wsInstance.onSocketError(this.errorCallback.bind(this)),this.wsInstance.onPushDiscontinue(()=>{this.wsInstance.sendChannel(si)}),this.wsInstance.connect()}subscribe(n,{needLogin:e}={needLogin:!1}){let r=Oe(n),f=[];if(r.forEach(i=>{let l=oe(i),s=this.channelCache.get(l);if(s){this.channelCache.set(l,s+1);let{channel:w}=i,o=ue(w),a=this.wsDataCache[o]?.[l];a&&q(this.dataFnsMap.get(o),a);return}this.channelCache.set(l,1),f.push(i)}),!this.initDone){this.connect();return}!this.isConnected()||e&&!this.authenticated||this.sendChannel({op:ze,args:f})}unsubscribe(n){let e=Oe(n),r=[];e.forEach(f=>{let i=oe(f),l=this.channelCache.get(i);if(l>1){this.channelCache.set(i,l-1);return}this.channelCache.delete(i),r.push(f);let s=ue(f.channel);s&&delete this.wsDataCache[s]?.[i]}),!(!this.initDone||!this.isConnected())&&this.sendChannel({op:oi,args:r})}sendChannel({op:n,args:e=[]}){this.isConnected()&&e.length&&this.wsInstance.sendChannel(JSON.stringify({op:n,args:e}))}dataCallback(n={}){let{arg:e}=n;if(!e?.channel)return;q(this.dataFnsMap.get(e.channel),n);let r=ue(e?.channel);if(!r)return;let f=oe(e);this.wsDataCache[r]?this.wsDataCache[r][f]=n:this.wsDataCache[r]={[f]:n}}addListenerData(n,e,r){let{argsParam:f}=r||{},i=oe(f);return this.channelCache.get(i)>1&&e({event:ze}),this.dataFnsMap.get(n)||this.dataFnsMap.set(n,new Set),this.wsDataCache[n]&&Object.values(this.wsDataCache[n]).forEach(s=>{e(s)}),ae(this.dataFnsMap.get(n),e)}remoteListenerData(n,e){return Ie(this.dataFnsMap.get(n),e)}addListenerError(n){return ae(this.errorFnsList,n)}errorCallback(n){this.disconnected=!0,q(this.errorFnsList,n)}connectedCallback(){let n=[];this.channelCache.forEach((e,r)=>{try{n.push(JSON.parse(r))}catch{}}),this.sendChannel({op:ze,args:n})}isConnected(){return!!this.wsInstance?.isConnected()}getWsUrl(){return""}};var Ye=class extends he{constructor(){super(...arguments);this.connectedFnsList=new Set;this.authenticated=!1;this.loginResolveFn=Re;this.loginRejectFn=Re;this.tokens=""}connectedCallback(){super.connectedCallback(),this.tokens&&this.login(this.tokens).then(()=>{this.authenticated=!0,super.connectedCallback(),q(this.connectedFnsList,{disconnected:this.disconnected})}).catch(()=>{Ne.stuff("ws login fail")})}addListenerConnected(e){return ae(this.connectedFnsList,e)}dataCallback(e){let{event:r,code:f}=e;if(r===$.LOGIN){if(Number(f)===0){this.loginResolveFn();return}this.loginRejectFn()}else super.dataCallback(e)}login(e){return new Promise((r,f)=>{this.wsInstance.sendChannel(JSON.stringify({op:$.LOGIN,args:ye(e)})),this.loginResolveFn=r,this.loginRejectFn=f})}logout(e){!this.authenticated||!this.isConnected()||(this.authenticated=!1,this.wsInstance.sendChannel(JSON.stringify({op:$.LOGOUT,args:ye(e)})))}getWsUrl(){let e=localStorage.getItem("dev_ct_wsPress"),r="";return qe()?r=`wss://${Ee.global?.getWssHostname()}`:r=Ce.socketBaseUrls?.dex,r||Ne.error("SOCKET_BASE_URL_EMPTY",{wallet:`wss://${Ee.global?.getWssHostname()}`,webDev:process.env.SOCKET_URL_DEX,web:Ce.socketBaseUrls?.dex}),e||`${r}/ws/v5/iprivate`}},va=new Ye;export{ki as a,Si as b,di as c,hi as d,$ as e,q as f,ae as g,Oe as h,he as i,va as j};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-AOSRFQ4E.js.map
