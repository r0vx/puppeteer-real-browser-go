import{a as N}from"./chunk-OQZ6UOCK.js";import{a as A}from"./chunk-ZZH7FUZX.js";import{h as D}from"./chunk-R7LZSAVU.js";import{jc as K}from"./chunk-QRHYK2TW.js";import{j as O,p as G}from"./chunk-Q4YLD24R.js";import{c as I,e as B}from"./chunk-AS4Z3FNS.js";import{G as d,J as p}from"./chunk-4EIUGT5A.js";import{D as C,I as L,Lb as r,Nb as c,Tb as l,fc as W,ne as m,oe as b}from"./chunk-QHXUL3YM.js";import{H as k,y as a}from"./chunk-MOTAOJVG.js";import{b as x}from"./chunk-OL67KS7C.js";import{f as h,o as u,q as g}from"./chunk-SHG7TIBL.js";u();g();var i=h(x()),S=h(K());k();B();G();L();b();W();var F=({unapproved:f,network:s,providerType:e})=>{let w="eth_chainId",{origin:_,id:M}=f,P=N(f),[T,R]=(0,i.useState)(!0),E=(0,S.useDispatch)(),V=A({handleCancel:async()=>{await E(D(M)),await O(E)}}),y=[{btnLayout:"vertical",image:{light:"/cdn/assets/imgs/254/1A753CC7A4597254.png",dark:"/cdn/assets/imgs/254/8FE5EBEDCD07371B.png"},title:a("wallet_extension_header_title_transaction_risk"),descRaw:a("wallet_extension_approval_subtitle_dapp_wrong_network",{network:s,dapp:P.name}),highlightBtnText:a("wallet_extension_mid_btn_cancel_transaction"),grayBtnText:a("wallet_extension_approval_btn_correct_network"),evtType:"chainId-screen-1"}],H=async()=>{let o,n,t=await I().getChainIdHandleRecords();try{if(e===r&&(o=t?.evm?.[w],n=t?.evm?.[C.SWITCH_ETHEREUM_CHAIN]),e===c&&(o=t?.svm?.[d.GET_NETWORK],n=t?.svm?.[d.CHANGE_NETWORK]),e===l&&(o=t?.[m.AVM]?.[p.NETWORK],n=t?.[m.AVM]?.[p.CHANGE_NETWORK]),n?.origin===_||o?.origin===_&&o?.lastTimestamp>=(n?.lastTimestamp||0))return;await V(y)}catch{}finally{R(!1)}},v=[r,c,l];return(0,i.useEffect)(()=>{if(!v.includes(e)){R(!1);return}s&&H()},[s,e]),{loading:T}},at=F;export{at as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-Q2NFJPGV.js.map
