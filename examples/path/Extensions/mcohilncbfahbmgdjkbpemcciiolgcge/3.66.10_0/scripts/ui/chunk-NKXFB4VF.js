import{a as I}from"./chunk-5OCZNIL7.js";import{B as h,a as A}from"./chunk-NKIUEXOA.js";import{a as X}from"./chunk-KRZDZO5T.js";import{a as x}from"./chunk-5CHE7P4E.js";import{h as T}from"./chunk-AZNX5TUC.js";import{o as K}from"./chunk-XP3TNE3R.js";import{c as g,e as G}from"./chunk-AS4Z3FNS.js";import{Qc as f,_d as w,oc as t,od as j,oe as q}from"./chunk-QHXUL3YM.js";import{j as c,ra as O}from"./chunk-CYTB2B6Q.js";import{b as R}from"./chunk-OL67KS7C.js";import{f as s,o as p,q as u}from"./chunk-SHG7TIBL.js";p();u();var b=s(R()),y=s(K());O();var v=s(X());G();q();j();var L=({walletId:C,txParams:i,onConfirm:m,onCancel:P,backable:S=!1,onBack:_,asPage:k,onBeforePublish:l})=>{let a=T(C),r=x(t,a?.walletId),D=h({coinAmount:0,localType:t,coinId:f,fromAddr:r,walletId:a?.walletId,txSource:w.DAPP}),F={localType:t,params:{transaction:i},walletId:a?.walletId},H=(0,y.useMemoizedFn)(async({networkFee:W})=>{let{raw_data:e,raw_data_hex:M,txID:z,visible:B}=i||{};try{let o=await g().signCommonMessage(r,{type:"protobuf",message:JSON.stringify({txID:z,visible:B,raw_data:e,raw_data_hex:M})},t),E=v.default.address.fromHex(c(e,"contract[0].parameter.value.contract_address",r)),J=c(e,"contract[0].parameter.value.data",""),n=await A(t,o),d={};typeof l=="function"&&(d=(await l({signedTx:o,txHash:n}))?.publishParams||{});let N=await D(o,{toAdr:E,txHash:n,serviceCharge:W,inputData:J,...d});m?.({txHash:n,txId:N})}catch(o){m({error:o})}});return b.default.createElement(I,{backable:S,onBack:_,asPage:k,unapproved:F,onCancel:P,onConfirm:H})},et=L;export{et as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-NKXFB4VF.js.map
