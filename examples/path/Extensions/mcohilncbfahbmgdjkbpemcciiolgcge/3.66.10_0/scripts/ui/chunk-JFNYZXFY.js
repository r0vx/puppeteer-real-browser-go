import{a as Je}from"./chunk-L4LDHBFD.js";import{a as yr,b as br}from"./chunk-PA2E6FSD.js";import{a as he}from"./chunk-UCNXAZCN.js";import{a as hr}from"./chunk-OAPH7UTK.js";import{a as me}from"./chunk-YLSPSQBP.js";import{a as vt}from"./chunk-LJ45SM6Y.js";import{a as ae,b as Tr,c as Nt,d as Er}from"./chunk-ISKH54SW.js";import{a as gr,b as Sr,c as fo,d as kr,e as Ze}from"./chunk-H2D5YUIF.js";import{b as Ct}from"./chunk-SJNKDITR.js";import{a as Ke}from"./chunk-UQXHDDOL.js";import{b as g}from"./chunk-2Q6HA5LZ.js";import{a as rr,b as nr,c as sr,d as mr,f as P}from"./chunk-TPTG4NVX.js";import{a as ir}from"./chunk-G4FPZCEY.js";import{a as bt}from"./chunk-UZCYU4C6.js";import{a as Mt,b as lr,c as co,d as cr,e as ur,f as pr,g as uo,h as po,i as fr,j as dr}from"./chunk-HHY4FPQP.js";import{a as _r}from"./chunk-QFS44FRB.js";import{d as ie,f as ar}from"./chunk-UHNETIV4.js";import{h as st,j as yt,k as He,o as or}from"./chunk-4JPAA6SR.js";import{e as Jo}from"./chunk-B6YXJZUF.js";import{j as Zo}from"./chunk-4I2JSOYJ.js";import{f as je}from"./chunk-3VKPY2QL.js";import{d as Ko}from"./chunk-AOSRFQ4E.js";import{a as lo,b as R}from"./chunk-ULL77AIR.js";import{d as tr}from"./chunk-7YKP5374.js";import{c as ht}from"./chunk-FGIHS4ZF.js";import{a as er,g as Ee}from"./chunk-OTUJWRS5.js";import{l as Y,m as Ae,n as q}from"./chunk-IFQDHP3Z.js";import{f as jo,o as Ho}from"./chunk-DA5RJYYW.js";import{a as $o}from"./chunk-HUC3JPS2.js";import{b as zo}from"./chunk-MYNDXPHU.js";import{a as Q}from"./chunk-2E2OBQTS.js";import{a as D,d as nt,f as Xo,g as Te,i as mo,n as ue}from"./chunk-3S4BGA37.js";import{Wa as ro,Xa as no,Ya as so,e as Fo,f as Go,g as Wo,gb as io,h as Yo,ia as $e,md as u,pa as qo,qa as Qo,ra as Ro,sa as ke,ua as Et,wb as ao,xa as X}from"./chunk-POP3LIKS.js";import{G as Tt,ca as oo,m as w,v as to,z as Vo}from"./chunk-G44PPNNQ.js";import{a as Ie}from"./chunk-532YJKK4.js";import{a as F}from"./chunk-SIITVWZR.js";import{A as Bo,G as xe,O as ze,P as Uo,Q as Oo,b as U,d as wo,o as Pe,q as Jt,r as Do,s as Se,y as eo}from"./chunk-XR4SQWL7.js";import{H as Lo,N as kt,e as xo,f as Io,j as K,ra as Ne,y as Ao}from"./chunk-CYTB2B6Q.js";import{aa as W,ka as ve}from"./chunk-6M3PZK2X.js";import{b as S}from"./chunk-OL67KS7C.js";import{f as p,o,q as r}from"./chunk-SHG7TIBL.js";o();r();var So=p(S());Ne();o();r();var Le={["UN_CONNECTED_WALLET"]:"swaptrade_card_swap_btn_connect_wallet",["NOT_SUPPORT_WALLET"]:"swaptrade_top_btn_submit_limitorder",["FILL_UP"]:"swaptrade_meme_order_btn_fill_up_balance",["DISABLED"]:"swaptrade_top_btn_submit_limitorder",["LOADING"]:"swaptrade_modal_confirm_swap_btn_confirming_in_wallet",["LIMIT_ACTIVE"]:"swaptrade_top_btn_submit_limitorder",["BUY_DISABLED"]:"swaptrade_market_placeorder_btn_buy_symbol",["SELL_DISABLED"]:"swaptrade_market_placeorder_btn_sell_symbol",["BUY_ACTIVE"]:"swaptrade_market_placeorder_btn_buy_amt",["SELL_ACTIVE"]:"swaptrade_market_placeorder_btn_sell_amt",["DAPP"]:"swaptrade_mid_btn_swap_dapps",["UNAPPROVED"]:Fo,["APPROVING"]:Go,["CANCEL_APPROVE"]:Wo,["CANCEL_APPROVING"]:Yo},_o=["LIMIT_REGION","UN_CONNECTED_WALLET","NOT_SUPPORT_WALLET","FILL_UP","LOADING","UNAPPROVED","APPROVING","CANCEL_APPROVE","CANCEL_APPROVING","DAPP"],Kn=[..._o,"DISABLED","LIMIT_ACTIVE"],Mr=[..._o,"BUY_DISABLED","BUY_ACTIVE"],Cr=[..._o,"SELL_DISABLED","SELL_ACTIVE"];o();r();var pe=p(S());o();r();var Nr=(e,n)=>n.find(i=>(e[i]||[]).some(a=>!!a));o();r();function et(){let{buyStore:e,sellStore:n,configStore:i}=g(),{computedIsSell:t}=i;return t?n.computedSellNumber:e.computedBuyNumber}o();r();Ne();function vr(){let e=et(),{fromToken:n}=Ze();return!kt(n.amountNum)&&new D.BigNumber(e).gt(n.amountNum)}function xr(){let{quoteStore:e,configStore:n,accountStore:i}=g(),{computedNonsupportChain:t,isConnectedWallet:s}=i,{computedIsBuy:a,computedIsSell:m}=n,l=et(),d=vr(),{computedCustomQuoteLoading:f,computedQuoteIsInvalid:_,computedSwapOnOtherDapp:k,computedToTokenAmount:T,computedGetQuoteFromAmount:E,computedQuoteIsBuyHoneypot:y,computedQuoteIsBlackAddress:N}=e,{computedIsLimitRegion:M}=Ee,x=(0,pe.useMemo)(()=>nt(T),[T]),v=(0,pe.useMemo)(()=>y&&a||N||M||t,[y,a,N,t,M]),A=(0,pe.useMemo)(()=>!new D.BigNumber(l).lte(0),[l]),C=(0,pe.useMemo)(()=>new D.BigNumber(l).eq(E),[l,E]),h=(0,pe.useMemo)(()=>[!A,v,f,!!_,!!k,!C],[A,v,f,_,k,C]),O=(0,pe.useMemo)(()=>({["LIMIT_REGION"]:[!!M],["UN_CONNECTED_WALLET"]:[!s],["NOT_SUPPORT_WALLET"]:[t],["FILL_UP"]:[d],["BUY_DISABLED"]:[...h,a&&!x],["BUY_ACTIVE"]:[a&&x],["SELL_DISABLED"]:[...h,m&&!x],["SELL_ACTIVE"]:[m&&x]}),[M,s,t,d,h,a,m,x]),V=(0,pe.useMemo)(()=>a?Mr:Cr,[a]);return(0,pe.useMemo)(()=>Nr(O,V)||"BUY_DISABLED",[O,V])}o();r();var Gr=p(S());o();r();var Pt=p(S());function Ir(e){let[n,i]=(0,Pt.useState)(!1);return{runPreconditions:(0,Pt.useCallback)(async()=>{i(!0);try{await e.reduce(async(s,a)=>{let m=await s;return a(m)},Promise.resolve())}finally{i(!1)}},[e]),loading:n}}o();r();var It=p(S());o();r();function Ar(){let{currentPreset:e}=ae();return e?.slippage?.mode===R.DYNAMIC?e?.slippage?.dynamicSlippage:e?.slippage?.value}function Lr(){let{currentPreset:e}=ae();return e?.slippage?.mode===R.DYNAMIC?lo.AUTO:lo.CUSTOM}function xt(){let{currentPreset:e}=ae();return e?.slippage?.mode===R.FIXED?"":e?.slippage?.supportCustomMax?e?.slippage?.customMax:""}function wr(){let{quoteStore:e,accountStore:n}=g(),{currentPreset:i}=ae(),{priorityFee:t,slippage:s,priorityMode:a,manualType:m}=i,{computedGetRouterList:l,computedGetEstimateGasFee:d,computedGetQuoteFrom:f,computedGetQuoteTo:_,computedGetQuoteFromAmount:k,computedGetQuoteToAmount:T,computedQuoteTraceData:E,computedServiceFeeInfo:y,jitoIsSuccess:N,computedAutoSlippage:M,mevUnstableShowLevel:x}=e,v=vt({priorityMode:a,manualType:m,jitoIsSuccess:N,mevUnstableShowLevel:x}),A=hr(v),{formatPriorityFee:C}=Tr({priorityFee:t,isEnableMev:A}),h=xt(),O=n.getAddressByChainId(f.chainId),V=(0,It.useMemo)(()=>{let $={dexRouterList:l,priorityFee:C?.value,autoSlippageInfo:{autoSlippage:M},customSlippage:s?.mode===R.FIXED?s?.value:"",maxSlippage:s?.mode===R.DYNAMIC?h:"",estimateGasFee:d,chainId:f.chainId,fromTokenAddress:f.tokenContractAddress,fromAmount:k,toTokenAddress:_.tokenContractAddress,toAmount:T,userWalletAddress:O,enableJito:A,customPriorityFee:C?.type==="custom",serviceFeeInfo:y};return A&&($.mevInfo="jito"),$},[l,M,h,C?.value,C?.type,s?.value,s?.mode,d,f.chainId,f.tokenContractAddress,k,_.tokenContractAddress,T,O,A,y]);return(0,It.useCallback)(async()=>{q.info(Y.MEME_SWAP_GET_CALLDATA_PARAMS,{data:V,preset:i});let[$,Ce]=await Tt(er(V));if($||!Ce.data?.unsignedTx)throw xe.error({title:$?.error_message||u("swaptrade_home_toast_initiation_error")}),q.error(Y.MEME_SWAP_GET_CALLDATA_ERROR,{data:{error:$,params:V,res:Ce,tags:Ae($)}}),new Error($?.error_message);return{unsignedTx:Ce.data.unsignedTx,calldataParams:{...V,traceData:E}}},[E,V])}o();r();var Ur=p(S());Ne();o();r();var Dr=p(S());function Br(){let{memeSwapStore:e}=g(),{getJitoTxData:n}=e;return{onSolanaSign:(0,Dr.useCallback)(async t=>{try{let s=await n(t);q.info(Y.MEME_SWAP_SIGN_PARAMS,{data:{...t,unsignedTxArray:s}});let a=await Zo(t,s);return q.info(Y.MEME_SWAP_SIGN_SUCCESS,{data:{...t,unsignedTxArray:s,signedTransactions:a}}),{signedTransactions:a,txArray:s}}catch(s){throw s?.message!=="Expected String"&&!Jo(s)&&xe.error({title:u("swaptrade_home_toast_initiation_error")}),q.error(Y.MEME_SWAP_SIGN_ERROR,{data:{error:s,data:t,tags:Ae(s)}}),new Error(s?.error_message)}},[n])}}function Or(){let{memeSwapStore:e,configStore:n}=g(),{onSolanaSign:i}=Br(),{walletId:t}=Ke();return(0,Ur.useCallback)(async(a={})=>{let{signedTransactions:m,txArray:l}=await i(a),d=await e.onSolanaSwap({data:{walletId:t,...a},signedTransactions:m,txArray:l}),f=K(n,"computedNativeTokenInfo.tokenContractAddress"),{calldataParams:_}=a,{fromAmount:k,fromTokenAddress:T}=_||{};return T===f&&Q.set(st,k),{...a,broadcastRes:d}},[e,i,t,n])}o();r();var go=p(S());Ne();function Vr(){let{quoteStore:e,accountStore:n,memeSwapStore:i}=g(),{computedGetQuoteFrom:t}=e,{usePreExecuteFn:s}=oo.hooks,{TxToastCheckTypeEnum:a}=oo.global,m=s(),l=t.isNativeToken?"":t.tokenContractAddress,d=n.getAddressByChainId(t.chainId),f=_r(t.chainId,l),_=i.getSolanaUnsignedTx,k=(0,go.useCallback)(E=>{let y=_(E);return{checkTypes:[a.TX_ANALYZE],from:d,chainId:t.chainId,coinId:f?.coinId,simulateTransactionParamList:y.map(N=>({transaction:N.data,sigVerify:!1,replaceRecentBlockhash:!0}))}},[_,a.TX_ANALYZE,f?.coinId,t.chainId,d]);return(0,go.useCallback)(async(E={})=>{let y=k(E);q.info(Y.MEME_SWAP_PRE_EXECUTE_PARAMS,{data:{executeParams:y,data:E}});let[N,M]=await Tt(m(y));if(N)throw xe.error({title:N?.error_message||u("swaptrade_home_toast_initiation_error")}),q.error(Y.MEME_SWAP_PRE_EXECUTE_ERR,{data:{error:N,executeParams:y,data:E,tags:Ae(N)}}),new Error(N?.error_message);let x=K(M,`${a.TX_ANALYZE}`,{});if(!x.result){let v=x.msg||K(Ao(x.simulateTransactionResultList,A=>!Lo(A.msg)),"msg",u("swaptrade_home_toast_initiation_error"));throw xe.error({title:v}),q.error(Y.MEME_SWAP_PRE_EXECUTE_RESULT_ERR,{data:{res:M,error:x,...E,executeParams:y,tags:Ae(N)}}),new Error(v)}return q.info(Y.MEME_SWAP_PRE_EXECUTE_RESULT,{data:{res:M,...E,executeParams:y}}),E},[m,k,a.TX_ANALYZE])}o();r();var it=p(S());function Fr(){let e=Je(jo),{quoteStore:n,commonStore:i}=g(),{computedValueDifference:t,quoteDiffValThreshold:s,quoteDiffPercentThreshold:a,computedFromTokenValue:m,computedToTokenValue:l}=n;return(0,it.useCallback)(()=>{let{showValueDiffDialog:f,diffPercent:_,diffValueType:k,diffVal:T}=t,E=i.currencyConversion(T.replace("-","")||"0"),y=Ko(_,E,i.computedNowCurrencySymbol);return f?new Promise((N,M)=>{let x=Pe.tip({infoType:Pe.Tip.INFO_TYPE.default,title:it.default.createElement(mr,{loseDiffValueTxt:y,isUp:k==="up"}),children:it.default.createElement("p",null,u("swaptrade_valuediff_select_desc_low_liquidity_low_value")),confirmText:u("swaptrade_confirmation_btn_continue_swap"),cancelText:u("commonall_text_btn_cancel"),onConfirm:()=>{x.destroy(),e({popup_type:"valuedifference",receive_value:t.receive,paid_value:t.pay,value_diff:t.quoteDiffPercentThreshold}),q.info(Y.SWAP_PRECHECK_PROMPT,{data:{errorType:"valuedifference",...t,quoteDiffValThreshold:s,quoteDiffPercentThreshold:a,computedFromTokenValue:m,computedToTokenValue:l}}),N(!0)},onClose:()=>{M(new Error("Value diff prompt closed"))},onCancel:()=>{M(new Error("Value diff prompt closed"))}})}):Promise.resolve(!0)},[t])}function Wr(){let e=ar(),n=Fr(),i=wr(),t=Vr(),s=Or(),{memeSwapStore:a}=g(),{runPreconditions:m,loading:l}=Ir([e,n,i,t,s]),{setIsSwapLoading:d}=a;return(0,Gr.useEffect)(()=>{d(l)},[d,l]),{onSwap:m,loading:l}}o();r();var Yr=p(S());function qr(){let{buyStore:e,sellStore:n,configStore:i,quoteStore:t,commonStore:s}=g(),{currentMode:a}=i;return(0,Yr.useMemo)(()=>{let m=a==="buy"?e.buyValue.value:n.sellValue.value;if(nt(t.computedToTokenAmount)&&nt(m)){let l=Te(t.computedToTokenAmount,{needBillionMillionUnit:!0,useScientificNotation:!0});return{price:Xo(s.currencyConversion(t.computedToTokenValue).toString(),s.computedNowCurrencySymbol,{needPlaceholder:!0}),amount:l}}return{price:"",amount:""}},[e.buyValue?.value,s,a,t.computedToTokenAmount,t.computedToTokenValue,n.sellValue?.value])}function ma(){let e=Je(),n=xr(),{fromToken:i}=Ze(),{amount:t,price:s}=qr(),{onSwap:a}=Wr(),{sellStore:m,buyStore:l,commonStore:{setAddFundsVisible:d},configStore:f}=g(),_=(0,So.useCallback)(()=>{let T=f.computedIsBuy?"BUY_DISABLED":"SELL_DISABLED",E=f.computedIsBuy?l.computedBuyTokenSymbol:m.computedSellTokenSymbol;return u(Le[T],{symbol:E})},[f.computedIsBuy,l.computedBuyTokenSymbol,m.computedSellTokenSymbol]);return(0,So.useCallback)(()=>({["LIMIT_REGION"]:{disabled:!0,btnTxt:_,onClick:()=>{},btnType:"LIMIT_REGION"},["BUY_ACTIVE"]:{disabled:!1,btnTxt:()=>u(Le["BUY_ACTIVE"],{amt:t,token:mo(K(l,"toToken.tokenSymbol")),price:s}),onClick:()=>{a(),e({button_name:"confirm"})},btnType:"BUY_ACTIVE"},["SELL_ACTIVE"]:{disabled:!1,btnTxt:()=>u(Le["SELL_ACTIVE"],{amt:t,token:mo(K(m,"toToken.tokenSymbol")),price:s}),onClick:()=>{a(),e({button_name:"confirm"})},btnType:"SELL_ACTIVE"},["BUY_DISABLED"]:{disabled:!0,btnTxt:()=>u(Le["BUY_DISABLED"],{symbol:l.computedBuyTokenSymbol}),onClick:()=>{},btnType:"BUY_DISABLED"},["SELL_DISABLED"]:{disabled:!0,btnTxt:()=>u(Le["SELL_DISABLED"],{symbol:m.computedSellTokenSymbol}),onClick:()=>{},btnType:"SELL_DISABLED"},["FILL_UP"]:{disabled:!1,btnTxt:()=>u(Le["FILL_UP"],{token:i.symbol}),onClick:()=>{d(!0)},btnType:"FILL_UP"}}),[t,l,i.symbol,e,a,s,m,d,_])()[n]||{disabled:!0,btnTxt:()=>_(),onClick:()=>{}}}o();r();var To=p(S()),Eo=p(F());o();r();var ko={root:"_root_1hcsq_1",error:"_error_1hcsq_10",skeleton:"_skeleton_1hcsq_13"};var ya=({className:e,loading:n,amount:i,currency:t})=>{let a=i&&t?Te(i,{needBillionMillionUnit:!1}):"--";return To.default.createElement(P,{loading:n,height:16,className:(0,Eo.default)(e,ko.skeleton)},To.default.createElement("div",{className:(0,Eo.default)(e,ko.root)},u("swaptrade_trade_title_balance_amt",{num:a,symbol:t})))};o();r();var Rr=p(S()),Dt=p(Ie());o();r();var Lt=p(S()),wt=p(F());o();r();var at={root:"_root_1r990_1",item:"_item_1r990_8",active:"_active_1r990_23",skeleton:"_skeleton_1r990_27"};var Qr=({className:e="",loading:n,tabList:i})=>Lt.default.createElement(P,{loading:n,height:32,className:(0,wt.default)(e,at.skeleton)},Lt.default.createElement("div",{className:(0,wt.default)(e,at.root)},i.map(t=>Lt.default.createElement(U,{key:t.name,className:(0,wt.default)(at.item,t.active&&at.active),onClick:t.onClick},t.name))));var Xa=w(({className:e="",loading:n,mode:i})=>{let t=(0,Dt.useHistory)(),s=(0,Dt.useLocation)(),{search:a,pathname:m}=s,l=X(Qo),d=X(qo),{buyStore:f,sellStore:_}=g(),k=[{name:u("swaptrade_market_item_buy"),active:i==="buy",onClick:()=>{m!==l&&(f.setToToken({}),Q.set(ro,no.MEME_BUY),t.replace(l+po(co(uo(a)))))}},{name:u("swaptrade_market_tab_item_sell"),active:i==="sell",onClick:()=>{m!==d&&(_.setFromToken({}),Q.set(ro,no.MEME_SELL),t.replace(d+po(co(uo(a)))))}}];return Rr.default.createElement(Qr,{className:e,loading:n,tabList:k})});o();r();var tt=p(S()),Xr=p(F());o();r();var ho={root:"_root_14kir_1","root-tg":"_root-tg_14kir_10",rootTg:"_root-tg_14kir_10"};var nm=({children:e})=>{let n=$o(),i=()=>globalThis.document.querySelector(".main-container-wrapper").clientWidth-46,[t,s]=(0,tt.useState)(i()),a=()=>{s(i())};return(0,tt.useEffect)(()=>(window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}),[]),tt.default.createElement("div",{className:(0,Xr.default)(ho.root,{[ho.rootTg]:n}),style:{width:t}},e)};o();r();var ot=p(S());o();r();o();r();var lt=p(S()),jr=p(F());o();r();var we=p(S());o();r();var mt={root:"_root_1d8gy_1",select:"_select_1d8gy_11",body:"_body_1d8gy_14",item:"_item_1d8gy_18",name:"_name_1d8gy_35",check:"_check_1d8gy_44"};var In=({name:e,onClick:n,checked:i})=>we.default.createElement(U,{className:mt.item,onClick:n},we.default.createElement("span",{className:mt.name},e),i?we.default.createElement(Do.Circle,{checked:!0,className:mt.check}):null),An=({visible:e,setVisible:n})=>{let{isSm:i}=bt(),{sellStore:t}=g(),{fromToken:s,setSellValue:a,sellValue:m,isPercentMode:l,setIsPercentMode:d}=t,f=[{key:"percent-mode",name:u("swaptrade_meme_order_option_percentage"),onClick:()=>{a({value:"",type:"custom"}),d(!0),n(!1)},checked:m.type==="custom"&&l},{key:"number-mode",name:s?.tokenSymbol||"",onClick:()=>{a({value:"",type:"custom"}),d(!1),n(!1)},checked:m.type==="custom"&&!l}];return we.default.createElement(Pe.Action,{onClose:()=>{n(!1)},visible:e,windowStyle:{borderTopLeftRadius:i?16:6,borderTopRightRadius:i?16:6},hideCloseBtn:i},we.default.createElement("div",{className:mt.body},f.map(_=>we.default.createElement(In,{key:_.key,..._}))))},zr=w(An);o();r();var De={"input-container":"_input-container_fyhvp_1",inputContainer:"_input-container_fyhvp_1",suffix:"_suffix_fyhvp_4","mode-text":"_mode-text_fyhvp_7",modeText:"_mode-text_fyhvp_7"};o();r();var G=p(S()),Be=p(F());Ne();var $r=()=>{let{buyStore:e,sellStore:n,configStore:i}=g(),{currentMode:t}=i,{buyValue:s,setBuyValue:a,toToken:m}=e,{sellValue:l,setSellValue:d,fromToken:f,isPercentMode:_}=n,[k,T,E]=(0,G.useMemo)(()=>t==="buy"?[s.value,a,s.type]:[l.value,d,l.type],[t,s,a,l,d]),y=V=>{t==="sell"&&l.type==="custom"&&_&&D.gt(V,100)||(T({value:V,type:"custom",index:3}),q.info(Y.MEME_SWAP_AMOUNT_INPUT,{data:{value:V,type:"custom",index:3,currentMode:t}}))},[,N]=(0,G.useTransition)(),M=V=>{N(()=>{!kt(V)&&y(V)})},[x,v]=(0,G.useState)(!1),[A,C]=(0,G.useMemo)(()=>t==="buy"?[null,Math.min(ao,Number(m?.decimals))]:l.type==="custom"&&_?[G.default.createElement("div",{key:"meme-swap-percentage-suffix",className:(0,Be.default)("flex items-center",De.suffix)},G.default.createElement("span",{className:(0,Be.default)(De.modeText)},u("swaptrade_meme_order_option_percentage")),G.default.createElement(U,{onClick:()=>v(!0)},G.default.createElement(W,{className:(0,Be.default)("okx-defi-dex-market-sort-down","content-primary"),style:{fontSize:12,cursor:"pointer"}}))),2]:[G.default.createElement("div",{key:"meme-swap-default-suffix",className:(0,Be.default)("flex items-center",De.suffix)},G.default.createElement("span",{className:(0,Be.default)(De.modeText)},f?.tokenSymbol||""),G.default.createElement(U,{onClick:()=>v(!0)},G.default.createElement(W,{className:(0,Be.default)("okx-defi-dex-market-sort-down"),style:{fontSize:12,cursor:"pointer"}}))),Math.min(ao,Number(f?.decimals)),Number.MAX_SAFE_INTEGER],[t,l.type,f,m,_]),[h,O]=(0,G.useState)(null);return(0,G.useEffect)(()=>{xo(K(h,"focus"))&&h.focus()},[l.type,h]),{setInputRef:O,suffix:A,precision:C,inputModeSwitchVisible:x,setVisible:v,changeHandle:M,value:k,valueType:E}};var Hr=w(()=>{let{setInputRef:e,suffix:n,precision:i,inputModeSwitchVisible:t,setVisible:s,changeHandle:a,value:m}=$r();return lt.default.createElement(lt.default.Fragment,null,lt.default.createElement(Jt.Number,{size:Jt.SIZE.xl,onRef:l=>{e(l)},useReactTransition:!0,className:(0,jr.default)(De.inputContainer),value:m,inputMode:"decimal",autoComplete:"off",spellCheck:"false",onChange:a,suffix:n,precision:i,enableMinus:!1,min:0}),lt.default.createElement(zr,{visible:t,setVisible:s}))});var Kr=Hr;o();r();var Oe=p(S()),Jr=p(F());o();r();var yo=p(S()),bo=p(F());o();r();var Ue={select:"_select_gn7fy_1",skeleton:"_skeleton_gn7fy_5","select-item":"_select-item_gn7fy_9",selectItem:"_select-item_gn7fy_9",item:"_item_gn7fy_9",selected:"_selected_gn7fy_26"};function Zr({loading:e,item:n,handleClick:i,selected:t}){return yo.default.createElement(P,{loading:e,height:88,className:(0,bo.default)(Ue.skeleton)},yo.default.createElement(U,{className:(0,bo.default)(Ue.selectItem,Ue.item,{[Ue.selected]:t}),onClick:()=>{i(n)}},n.label))}var Ln=({hideCustom:e})=>{let{configStore:n,buyStore:i,sellStore:t,quoteStore:s}=g(),{initLoading:a,currentMode:m}=n,{buyValue:l,setBuyValue:d,currentBuyPreset:f}=i,{sellValue:_,setSellValue:k,currentSellPreset:T}=t,[E,y]=(0,Oe.useMemo)(()=>m==="sell"?[_,k]:[l,d],[m,l,d,_,k]),N=(0,Oe.useMemo)(()=>{if(a){let h=[{label:"",key:"meme_custom1"},{label:"",key:"meme_custom2"},{label:"",key:"meme_custom3"}];return e||h.push({label:"",key:"meme_custom4"}),h}if(!f||!T)return[];let{amountList:v=[]}=f,{amountList:A=[]}=T,C=m==="sell"?A.map((h,O)=>({value:h,key:`meme_select${O+1}`,label:to.percent(Number(h)*100),type:"select",index:O})):v.map((h,O)=>({value:h,label:to.formatNumber(h),key:`meme_select${O+1}`,type:"select",index:O}));return e||C.push({value:"",key:"custom",label:u("swaptrade_dialog_modal_custom"),type:"custom",index:3}),C},[m,f,T,a,e]),M=v=>{if(m==="buy"&&E.type==="custom"&&v.type!=="custom"&&Q.set(st,""),m==="buy"&&!v?.value){let A=Q.get(st)||"",C=parseFloat(A)||"";y({value:C,type:"custom",index:3});return}if(m==="sell"&&!v?.value){y({value:"",type:"custom",index:3});return}y({value:v.value,type:"select",index:v.index}),q.info(Y.MEME_SWAP_AMOUNT_SELECT,{data:{type:"select",item:v,currentMode:m}})},x=(0,Oe.useMemo)(()=>E.type==="custom"?N.findIndex(v=>v.type==="custom"):N.findIndex((v,A)=>A===E.index),[N,E]);return Oe.default.createElement("div",{className:(0,Jr.default)("flex items-center justify-between",Ue.select)},N.map((v,A)=>Oe.default.createElement(Zr,{key:A,loading:s?.initLoading,item:v,handleClick:M,selected:A===x})))},en=w(Ln);var wn=w(({className:e,hideCustom:n})=>{let{buyStore:i,sellStore:t,configStore:s}=g(),{buyValue:a}=i,{sellValue:m}=t,{initLoading:l,currentMode:d}=s,f=(0,ot.useMemo)(()=>d==="buy"?a.type==="custom":m.type!=="select",[d,a,m]);return ot.default.createElement("div",{className:e},ot.default.createElement(en,{hideCustom:n}),!l&&f&&ot.default.createElement(Kr,null))}),Pl=wn;o();r();var Co=p(S());o();r();var b=p(S()),on=p(Ie()),Z=p(F());o();r();var Mo=p(S());var Bt=({priorityMode:e,manualType:n,jitoIsSuccess:i,mevUnstableShowLevel:t=-1,supportAutoMode:s=!0})=>{let a=vt({priorityMode:e,manualType:n,jitoIsSuccess:i,mevUnstableShowLevel:t});return(0,Mo.useMemo)(()=>s?or(a):{},[a,s])},Ut=({quoteSafemoon:e,slippage:n,auto:i})=>(0,Mo.useMemo)(()=>{let t=n?.mode===R.FIXED?n?.value:n?.customMax;return e&&t&&D.lt(t,i)?{tips:u("swaptrade_cell_alert_token_includes_tax",{token:e,num:ue(je(i),{needZero:!1})}),status:"yellow"}:{}},[i,e,n?.customMax,n?.mode,n?.value]);o();r();var Ot=p(S());var Dn=({showUserGuide:e,disclaimerVisible:n,isNotLimitRegion:i})=>{let[t,s]=(0,Ot.useState)(!1);return(0,Ot.useEffect)(()=>{e?s(!1):Q.get(He)||s(!n&&i)},[e,n,i]),{showCoach:t,setShowCoach:s}},Vt=Dn;o();r();var z={"go-icon":"_go-icon_1rnk1_1",goIcon:"_go-icon_1rnk1_1","preset-title":"_preset-title_1rnk1_4",presetTitle:"_preset-title_1rnk1_4","config-title":"_config-title_1rnk1_5",configTitle:"_config-title_1rnk1_5","preset-container":"_preset-container_1rnk1_17",presetContainer:"_preset-container_1rnk1_17","config-container":"_config-container_1rnk1_18",configContainer:"_config-container_1rnk1_18","preset-name":"_preset-name_1rnk1_21",presetName:"_preset-name_1rnk1_21",config:"_config_1rnk1_5",divide:"_divide_1rnk1_34","err-text":"_err-text_1rnk1_41",errText:"_err-text_1rnk1_41",green:"_green_1rnk1_47",yellow:"_yellow_1rnk1_50",red:"_red_1rnk1_53"};var Un=({initLoading:e,configClick:n,presetClick:i,className:t})=>{let{configStore:s,quoteStore:a,commonStore:m}=g(),{totalFeeUSD:l}=Nt(),{getUsd:d}=me(g),{jitoIsSuccess:f,computedQuoteSafemoon:_,computedAutoSlippage:k,mevUnstableShowLevel:T}=a,{currentMode:E,showUserGuide:y,tradeScene:N}=s,{currentPresetId:M,currentPresetList:x,setCurrentPresetId:v}=Er(),{currentPreset:A}=ae(),{slippage:C,priorityMode:h,manualType:O}=A,V=(0,b.useMemo)(()=>{let L=x.filter(Zt=>Zt.id.includes(yt)),Xe=x.find(Zt=>Zt.id===M),xn=Xe?.id?.includes(yt);return Xe&&!xn?[...L,Xe].slice(0,3):x.slice(0,3)},[x,M]),de=(0,on.useHistory)(),$=()=>{if(n)n();else{let L=`${X(ke)}?tab=${E}`;de.push(L)}},Ce=()=>{if(i)i();else{let L=`${X(Et)}?tab=${E}`;de.push(L)}},_e=L=>{v(L.id)},se=Bt({priorityMode:h,manualType:O,jitoIsSuccess:f,mevUnstableShowLevel:T}),ge=Ut({quoteSafemoon:_,auto:k,slippage:C}),Re=(0,b.useMemo)(()=>se.tips?se:ge.tips?ge:null,[se,ge]),$t=(0,b.useMemo)(()=>{let L=Xe=>Xe?`${ue(je(Xe),{needZero:!1})}`:"--";return C?.mode===R.FIXED?L(C?.value):C?.mode===R.DYNAMIC?C?.customMax?L(D.min(C?.customMax||0,k||0)):L(k):"--"},[k,C?.customMax,C?.mode,C?.value]),jt=(0,b.useMemo)(()=>{let L=N===0&&_;return C?.mode===R.DYNAMIC&&C?.customMax&&(L=D.lt(C?.customMax,k)),L?"yellow":"default"},[_,k,C?.customMax,C?.mode,N]),{disclaimerVisible:Ht}=m,{computedIsNotLimitRegion:dt}=Ee,{showCoach:_t,setShowCoach:Kt}=Vt({showUserGuide:y,disclaimerVisible:Ht,isNotLimitRegion:dt}),gt=(0,b.useRef)(null),St=(0,b.useRef)(null),j=(0,b.useMemo)(()=>[{target:()=>gt.current,title:u("swaptrade_meme_coachmrk_title_trading_presets"),placement:Se.DIRECTION.top,description:u("swaptrade_meme_coachmrk_desc_create_presets")},{target:()=>St.current,title:u("swaptrade_meme_coachmrk_title_trading_presets"),placement:Se.DIRECTION.top,description:u("swaptrade_meme_coachmrk_desc_show_presets")}],[]);return b.default.createElement("div",{className:t},b.default.createElement(P,{loading:e,height:16,className:"mb-24"},b.default.createElement("div",{className:(0,Z.default)("flex items-center justify-between",z.preset)},b.default.createElement("span",{className:(0,Z.default)(z.presetTitle)},u("swaptrade_meme_regularcell_label_preset")),b.default.createElement("div",{className:(0,Z.default)("flex items-center",z.presetContainer),ref:gt},b.default.createElement(ze,{style:{marginRight:"8px"},size:ze.SIZE.xs,category:ze.CATEGORY.fill,type:ze.NEW_TYPE.primary,hideContent:!0,activeId:M},V.map(L=>b.default.createElement(ze.TabPane,{key:L.id,onClick:()=>{_e(L)},tab:L.id===`${yt}2`?b.default.createElement("div",{className:"flex items-center"},b.default.createElement(W,{className:(0,Z.default)(L.id===M?"okx-defi-dex-meme-mode-filled":"okx-defi-dex-meme-mode"),style:{fontSize:16,marginRight:"4px"},a11yText:"meme-mode-icon"}),b.default.createElement("span",{className:z.presetName},L.name)):b.default.createElement("span",{className:z.presetName},L.name),id:L.id}))),b.default.createElement(W,{className:(0,Z.default)("okx-defi-marketplace-chevron-right"),style:{fontSize:16,cursor:"pointer"},onClick:Ce,a11yText:"dropdown"})))),b.default.createElement(P,{loading:e,height:16,className:(0,Z.default)("mb-24")},b.default.createElement("div",{className:(0,Z.default)("flex items-center justify-between",z.config)},b.default.createElement("span",{className:(0,Z.default)(z.configTitle)},u("swaptrade_swap_button_setting")),b.default.createElement(U,{className:(0,Z.default)("flex items-center",z.configContainer),onClick:$,ref:St},b.default.createElement(he,{icon:"okx-defi-dex-slippage",text:$t,status:jt}),b.default.createElement("div",{className:z.divide}),b.default.createElement(he,{icon:"okx-defi-dex-fee",text:l?d(l):"--"}),N===0&&b.default.createElement(b.default.Fragment,null,b.default.createElement("div",{className:z.divide}),b.default.createElement(he,{text:se.text,icon:se.icon,status:se.status})),b.default.createElement(W,{className:(0,Z.default)("okx-defi-marketplace-chevron-right",z.goIcon),style:{fontSize:16},a11yText:"config-item"}))),Re&&b.default.createElement("div",{className:(0,Z.default)(z.errText,z[Re.tipsStatus||Re.status])},Re.tips),b.default.createElement(Se.Tour,{show:_t,finishText:u("commonall_button_text_done"),onClose:()=>{Kt(!1),Q.set(He,"1")},steps:j})))},rn=w(Un);o();r();var I=p(S()),nn=p(Ie()),te=p(F());o();r();var ee={"preset-name":"_preset-name_16uhg_1",presetName:"_preset-name_16uhg_1","custom-name":"_custom-name_16uhg_11",customName:"_custom-name_16uhg_11","preset-icon":"_preset-icon_16uhg_14",presetIcon:"_preset-icon_16uhg_14","go-icon":"_go-icon_16uhg_17",goIcon:"_go-icon_16uhg_17","preset-container":"_preset-container_16uhg_20",presetContainer:"_preset-container_16uhg_20","chain-logo":"_chain-logo_16uhg_28",chainLogo:"_chain-logo_16uhg_28","config-container":"_config-container_16uhg_31",configContainer:"_config-container_16uhg_31",divide:"_divide_16uhg_35","err-text":"_err-text_16uhg_41",errText:"_err-text_16uhg_41","mev-text":"_mev-text_16uhg_48",mevText:"_mev-text_16uhg_48"};var On=({initLoading:e,configClick:n,presetClick:i,className:t})=>{let{configStore:s,quoteStore:a,commonStore:m}=g(),{getUsd:l}=me(g),{jitoIsSuccess:d,computedQuoteSafemoon:f,computedAutoSlippage:_,mevUnstableShowLevel:k}=a,{totalFeeUSD:T}=Nt(),{computedConfig:E,currentMode:y,showUserGuide:N,tradeScene:M}=s,v=E?.nativeTokenInfo?.chainLogoUrl,{currentPreset:A}=ae(),{name:C,slippage:h,priorityMode:O,manualType:V}=A,de=(0,nn.useHistory)(),$=()=>{if(n)n();else{let j=`${X(ke)}?tab=${y}`;de.push(j)}},Ce=()=>{if(i)i();else{let j=`${X(Et)}?tab=${y}`;de.push(j)}},_e=Bt({priorityMode:O,manualType:V,jitoIsSuccess:d,mevUnstableShowLevel:k}),se=Ut({quoteSafemoon:f,auto:_,slippage:h}),ge=(0,I.useMemo)(()=>_e.tips?_e:se.tips?se:null,[_e,se]),{disclaimerVisible:Re}=m,{computedIsNotLimitRegion:$t}=Ee,{showCoach:jt,setShowCoach:Ht}=Vt({showUserGuide:N,disclaimerVisible:Re,isNotLimitRegion:$t}),dt=(0,I.useRef)(null),_t=(0,I.useRef)(null),Kt=(0,I.useMemo)(()=>[{target:()=>dt.current,title:u("swaptrade_meme_coachmrk_title_trading_presets"),placement:Se.DIRECTION.bottom,description:u("swaptrade_meme_coachmrk_desc_create_presets")},{target:()=>_t.current,title:u("swaptrade_meme_coachmrk_title_trading_presets"),placement:Se.DIRECTION.bottom,description:u("swaptrade_meme_coachmrk_desc_show_presets")}],[]),gt=(0,I.useMemo)(()=>{let j=L=>L?`${ue(je(L),{needZero:!1})}`:"--";return h?.mode===R.FIXED?j(h?.value):h?.mode===R.DYNAMIC?h?.customMax?j(D.min(h?.customMax||0,_||0).toString()):j(_):"--"},[_,h?.customMax,h?.mode,h?.value]),St=(0,I.useMemo)(()=>{let j=M===0&&f;return h?.mode===R.DYNAMIC&&h?.customMax&&(j=D.lt(h?.customMax,_)),j?"yellow":"default"},[f,_,h?.customMax,h?.mode,M]);return I.default.createElement(P,{loading:e,height:16,className:(0,te.default)(t)},I.default.createElement("div",{className:t},I.default.createElement("div",{className:(0,te.default)("flex items-center justify-between")},I.default.createElement(U,{className:(0,te.default)("flex items-center",ee.presetContainer),onClick:Ce,ref:dt},I.default.createElement(ht,{src:v,size:16,className:(0,te.default)(ee.chainLogo)}),I.default.createElement("span",{className:(0,te.default)(ee.presetName)},C),I.default.createElement(W,{className:(0,te.default)("okx-defi-game-caretup",ee.presetIcon),style:{fontSize:16},a11yText:"dropdown"})),I.default.createElement(U,{className:(0,te.default)("flex items-center",ee.configContainer),onClick:$,ref:_t},I.default.createElement("div",{className:(0,te.default)("flex items-center flex-wrap justify-end")},I.default.createElement(he,{icon:"okx-defi-dex-slippage",text:gt,status:St}),I.default.createElement("div",{className:ee.divide}),I.default.createElement(he,{icon:"okx-defi-dex-fee",text:T?l(T):"--"}),M===0&&I.default.createElement(I.default.Fragment,null,I.default.createElement("div",{className:ee.divide}),I.default.createElement(he,{text:_e.text,icon:_e.icon,status:_e.status}))),I.default.createElement(W,{className:(0,te.default)("okx-defi-marketplace-chevron-right",ee.goIcon),style:{fontSize:16},a11yText:"config-item"}))),ge&&I.default.createElement("div",{className:(0,te.default)(ee.errText,ee[ge.tipsStatus||ge.status])},ge.tips),I.default.createElement(Se.Tour,{show:jt,finishText:u("commonall_button_text_done"),onClose:()=>{Ht(!1),Q.set(He,"1")},steps:Kt})))},sn=w(On);var Vn=e=>{let{isSm:n}=bt();return n?Co.default.createElement(sn,{...e}):Co.default.createElement(rn,{...e})},eu=Vn;o();r();var Ve=p(S()),No=p(F());o();r();var ct={"btn-loading":"_btn-loading_wqqmp_1",btnLoading:"_btn-loading_wqqmp_1",btn:"_btn_wqqmp_1","btn-content":"_btn-content_wqqmp_8",btnContent:"_btn-content_wqqmp_8",flash:"_flash_wqqmp_11"};var _u=w(({loading:e,className:n,useMemeSwapBtnProps:i})=>{let{btnTxt:t,btnType:s,statusType:a,onClick:m,...l}=i(),d=["BUY_ACTIVE","SELL_ACTIVE"].includes(s),f=(0,Ve.useCallback)(()=>{setTimeout(()=>{m?.()})},[m]);return Ve.default.createElement(P,{height:40,loading:e,className:ct.btnLoading},Ve.default.createElement(ve,{className:(0,No.default)(ct.btn,n),contentClassName:ct.btnContent,category:ve.CATEGORY.fill,type:ve.TYPE.primary,size:ve.SIZE.lg,block:!0,onClick:f,...l},d&&Ve.default.createElement(W,{className:(0,No.default)("okx-defi-dex-quick-filled",ct.flash),style:{fontSize:16},a11yText:"flash"}),Ve.default.createElement("span",null,t?.())))});o();r();var oe=p(S()),Gt=p(F());o();r();var Ft=p(S());function an({userUniqueId:e,computedAccountId:n,chainId:i,debouncedFetchPositionList:t,positionList:s,fromToken:a,setFromToken:m,toToken:l,setToToken:d}){let{configStore:f}=g(),{currentMode:_}=f,k=yr(),T=(0,Ft.useMemo)(()=>!s||s?.length===0,[s]),E=y=>{if(_==="sell"?y?.tokenContractAddress!==a?.tokenContractAddress&&m(y):y?.tokenContractAddress!==l?.tokenContractAddress&&d(y),k(),$e()){let M=document.querySelector("#meme-swap-container");M&&M.scrollTo({top:0,behavior:"smooth"});return}window.scrollTo({top:0,behavior:"smooth"})};return(0,Ft.useEffect)(()=>{e&&n&&i&&t({chainId:i,accountId:n,userUniqueId:e})},[i,n,e]),{isEmptyData:T,handleSelect:E}}o();r();var vo=p(S()),ln=p(F());o();r();var mn={"empty-container":"_empty-container_1jq1y_1",emptyContainer:"_empty-container_1jq1y_1"};var Fn=()=>{let e=()=>vo.default.createElement(eo.State,{type:eo.State.TYPE.noResult,title:u("swaptrade_general_emptystate_no_assets")});return vo.default.createElement("div",{className:(0,ln.default)("flex justify-content-center align-items-center",mn.emptyContainer)},e())},cn=Fn;o();r();var Fe={"my-position":"_my-position_1wka3_1",myPosition:"_my-position_1wka3_1",line:"_line_1wka3_4","title-part":"_title-part_1wka3_9",titlePart:"_title-part_1wka3_9",title:"_title_1wka3_9","chain-logo":"_chain-logo_1wka3_23",chainLogo:"_chain-logo_1wka3_23",container:"_container_1wka3_26"};var Gn=w(()=>{let{configStore:e,memePositionStore:n,accountStore:i,commonStore:t,buyStore:s,sellStore:a}=g(),{computedConfig:m}=e,l=m?.nativeTokenInfo,d=l?.chainLogoUrl,f=l?.chainId,{fetchPositionList:_,positionList:k,initState:T}=n,{computedAccountId:E}=i,{userUniqueId:y}=t,{setToToken:N,toToken:M}=s,{setFromToken:x,fromToken:v}=a,A=gr(_,300),{isEmptyData:C,handleSelect:h}=an({userUniqueId:y,computedAccountId:E,chainId:f,debouncedFetchPositionList:A,positionList:k,setToToken:N,toToken:M,setFromToken:x,fromToken:v});if(!y)return null;let O=(0,oe.useMemo)(()=>C?oe.default.createElement(cn,null):oe.default.createElement("div",{className:Fe.container},oe.default.createElement(br,{key:f,isMyPosition:!0,normalList:k,selectToken:h})),[C,v?.tokenContractAddress,M?.tokenContractAddress,k]);return T&&oe.default.createElement("div",{className:(0,Gt.default)(Fe.myPosition)},oe.default.createElement("div",{className:Fe.line}),oe.default.createElement("div",{className:(0,Gt.default)("flex items-center justify-between",Fe.titlePart)},oe.default.createElement("span",{className:Fe.title},u("swaptrade_meme_order_title_my_positions")),oe.default.createElement(ht,{src:d,size:24,className:(0,Gt.default)(Fe.chainLogo)})),O)}),Ju=Gn;o();r();var pn=p(S());o();r();var un={alert:"_alert_12652_1"};var up=({info:e,className:n=""})=>{if(e){let{title:i,desc:t,type:s}=e;return pn.default.createElement(wo,{className:n||un.alert,title:i,desc:t,type:s,closable:!1})}return null};o();r();o();r();var We=p(S()),Wt=p(F());o();r();var Ge={content:"_content_sj07h_1",left:"_left_sj07h_6",right:"_right_sj07h_13",skeleton:"_skeleton_sj07h_26","right-skeleton":"_right-skeleton_sj07h_30",rightSkeleton:"_right-skeleton_sj07h_30",border:"_border_sj07h_34"};var fn=({className:e="",rightLoading:n,initLoading:i,fee:t})=>{let{getUsd:s}=me(g),a=s(t);return We.default.createElement(P,{loading:i,height:16,className:(0,Wt.default)(e,Ge.skeleton)},We.default.createElement("div",{className:(0,Wt.default)(e,Ge.content)},We.default.createElement("div",{className:Ge.left},u("swaptrade_order_info_label_network_fee")),We.default.createElement(P,{loading:n,height:16,className:Ge.rightSkeleton},We.default.createElement("div",{className:Ge.right},We.default.createElement("div",{className:(0,Wt.default)("ml-4","content-primary",Ge.rightText)},a)))))};o();r();var fe=p(S()),dn=p(Ie()),ut=p(F());o();r();var ye={content:"_content_18lf9_1",left:"_left_18lf9_6",right:"_right_18lf9_13",skeleton:"_skeleton_18lf9_26","right-skeleton":"_right-skeleton_18lf9_30",rightSkeleton:"_right-skeleton_18lf9_30"};var _n=({className:e="",rightLoading:n,initLoading:i,type:t="market",currency:s,amount:a,mode:m})=>{let l=(0,dn.useHistory)(),d={market:u("swaptrade_modal_dialog_option_market"),fast:u("swaptrade_modal_dialog_option_fast5x"),turbo:u("swaptrade_modal_dialog_option_turbo10x")},f=`${X(ke)}?tab=${m}`,_=a&&s?`${Te(a,{needBillionMillionUnit:!1})} ${s}`:"--";return fe.default.createElement(P,{loading:i,height:16,className:(0,ut.default)(e,ye.skeleton)},fe.default.createElement("div",{className:(0,ut.default)(e,ye.content)},fe.default.createElement("div",{className:ye.left},u("swaptrade_modal_dialog_title_priority")),fe.default.createElement(P,{loading:n,height:16,className:ye.rightSkeleton},fe.default.createElement(U,{className:ye.right,onClick:()=>{l.push(f)}},t in d?fe.default.createElement(Oo,{size:Uo.SIZE.sm},d[t]):null,fe.default.createElement("div",{className:(0,ut.default)("ml-4","content-primary",ye.rightText)},_),fe.default.createElement(W,{iconName:"okx-defi-dex-arrow-right-1",className:(0,ut.default)("ml-4","content-secondary",ye.rightIcon)})))))};o();r();var re=p(S()),qt=p(F());o();r();var Yt=p(S());o();r();var gn={"value-diff-percent":"_value-diff-percent_kz08o_1",valueDiffPercent:"_value-diff-percent_kz08o_1","base-up":"_base-up_kz08o_10",baseUp:"_base-up_kz08o_10","base-down":"_base-down_kz08o_13",baseDown:"_base-down_kz08o_13"};var Sn=({computedValueDifference:e,formattedFiatValue:n,crossValueDifferenceTooltipProps:i})=>{if(!n)return null;let{diffPercentWeakTip:t}=e,s=nr({specialValueRangePrompt:t,isOfflineType:!1,isReferredFee:!1});return Yt.default.createElement("div",{className:gn.valueDiffPercent},Yt.default.createElement("span",null,`\u2248${n}`),Yt.default.createElement(rr,{isSwapChain:!0,valueDifference:e,swapChainValueDifferenceTooltip:s,crossValueDifferenceTooltipProps:i}))};o();r();var le=p(S()),kn=({stop:e})=>{let n=(0,le.useRef)(null);(0,le.useEffect)(()=>{n.current?.beginElement()},[]),(0,le.useEffect)(()=>{e?n.current?.endElement():n.current?.beginElement()},[e]);let i=["rotate(","-90"," ","8"," ","8",")"].join("");return le.default.createElement("svg",{id:"progressSvg",width:"16",height:"16",viewBox:"0 0 16 16"},le.default.createElement("circle",{cx:"8",cy:"8",r:"5",stroke:"#A3A3A3",style:{stroke:"#A3A3A3"},strokeWidth:"3",fill:"none"}),le.default.createElement("circle",{id:"progressCircle",cx:"8",cy:"8",r:"5",stroke:"var(--okd-color-border-primary)",strokeWidth:"3",fill:"none",strokeDasharray:"31.4",strokeDashoffset:"31.4",transform:i},le.default.createElement("animate",{ref:n,attributeName:"stroke-dashoffset",from:"31.4",to:"0",dur:"5s",fill:"remove",begin:"indefinite"})))};o();r();var be={content:"_content_1bbbw_1",left:"_left_1bbbw_6",right:"_right_1bbbw_13",skeleton:"_skeleton_1bbbw_26","right-skeleton":"_right-skeleton_1bbbw_30",rightSkeleton:"_right-skeleton_1bbbw_30",amount:"_amount_1bbbw_34","to-token":"_to-token_1bbbw_41",toToken:"_to-token_1bbbw_41"};var Wn=({className:e="",initLoading:n,rightLoading:i,circleLoading:t,tokenAmount:s,tokenSymbol:a})=>{let{quoteStore:m,commonStore:{currencyConversionWithSymbol:l}}=g(),{computedValueDifference:d,computedToTokenValue:f}=m,_=f?l(f,{needBillionMillionUnit:!1}):"";return re.default.createElement(P,{loading:n,height:32,className:(0,qt.default)(e,be.skeleton)},re.default.createElement("div",{className:(0,qt.default)(e,be.content)},re.default.createElement("div",{className:be.left},u("swaptrade_modal_label_quote")),re.default.createElement(P,{loading:i,height:32,className:be.rightSkeleton},re.default.createElement("div",{className:be.right},re.default.createElement("div",{className:"flex items-center"},re.default.createElement(kn,{stop:t}),re.default.createElement("div",{className:(0,qt.default)("ml-4 content-primary",be.amount)},s?Te(s,{needBillionMillionUnit:!1}):"--",re.default.createElement("div",{className:be.toToken},a))),re.default.createElement(Sn,{formattedFiatValue:_,computedValueDifference:d})))))},Tn=w(Wn);o();r();var Me=p(S()),pt=p(F());o();r();var Po=p(S()),hn=p(F());o();r();var En={text:"_text_1p989_1"};var Yn=({text:e,tooltip:n,toolTipsProps:i})=>Po.default.createElement(Bo,{title:n,...i},Po.default.createElement("span",{className:(0,hn.default)(En.text)},e)),yn=Yn;o();r();var Ye={content:"_content_111rd_1",left:"_left_111rd_6",right:"_right_111rd_13",skeleton:"_skeleton_111rd_26","right-skeleton":"_right-skeleton_111rd_30",rightSkeleton:"_right-skeleton_111rd_30","service-fee":"_service-fee_111rd_34",serviceFee:"_service-fee_111rd_34",icon:"_icon_111rd_39"};var qn=({className:e="",initLoading:n,rightLoading:i,useBussinessStore:t})=>{let{getUsd:s}=me(t),{quoteStore:a}=t(),m=a.computedServiceFeeInfo,{isDisplayServiceFee:l,label:d,tooltip:f,serviceFee:_}=tr({...m,formatServiceFeeUsd:s});return l?Me.default.createElement(P,{loading:n,height:16,className:(0,pt.default)(e,Ye.skeleton)},Me.default.createElement("div",{className:(0,pt.default)(e,Ye.content)},Me.default.createElement("div",{className:(0,pt.default)("flex",Ye.left)},Me.default.createElement(yn,{tooltip:f,text:d})),Me.default.createElement(P,{loading:i,height:16,className:Ye.rightSkeleton},Me.default.createElement("div",{className:Ye.right},Me.default.createElement("div",{className:(0,pt.default)("ml-4 content-primary",Ye.serviceFee)},_))))):null},bn=w(qn);o();r();var ce=p(S()),Mn=p(Ie()),rt=p(F());o();r();var ne={content:"_content_1897u_1",left:"_left_1897u_6",right:"_right_1897u_13",skeleton:"_skeleton_1897u_26","right-skeleton":"_right-skeleton_1897u_30",rightSkeleton:"_right-skeleton_1897u_30",warning:"_warning_1897u_34","warning-text":"_warning-text_1897u_37",warningText:"_warning-text_1897u_37"};var Cn=({className:e="",initLoading:n,rightLoading:i,percent:t,isSafeMoonToken:s=0,tokenSymbol:a="",tokenTax:m="",mode:l})=>{let d=(0,Mn.useHistory)(),f=t?`${ue(D.mul(t,100),{needZero:!1})}`:"--",_=s===1&&!i&&D.gt(m,0)&&D.lt(t,m),k=_?ue(D.mul(m,100),{needZero:!1}):"--",T=`${X(ke)}?tab=${l}`;return ce.default.createElement(P,{loading:n,height:16,className:(0,rt.default)(e,ne.skeleton)},ce.default.createElement("div",{className:(0,rt.default)(e,ne.root)},ce.default.createElement("div",{className:ne.content},ce.default.createElement("div",{className:ne.left},u("swaptrade_extension_header_title_slippage_tolerance")),ce.default.createElement(P,{loading:i,height:16,className:ne.rightSkeleton},ce.default.createElement(U,{className:ne.right,onClick:()=>{d.push(T)}},ce.default.createElement("div",{className:(0,rt.default)("content-primary",ne.rightText,{[ne.warning]:_})},f),ce.default.createElement(W,{iconName:"okx-defi-dex-arrow-right-1",className:(0,rt.default)("ml-4","content-secondary",ne.rightIcon)})))),_?ce.default.createElement("div",{className:(0,rt.default)("mt-16",ne.warningText)},u("swaptrade_modal_alert_error_trade_tax",{token:a,num:k})):null))};var gd={PriorityFee:_n,Quote:Tn,Slippage:Cn,NetworkFee:fn,ServiceFeeInfo:bn};o();r();var B=p(S()),Nn=p(Ie()),ft=p(F());o();r();var H={root:"_root_sy5hk_1",chain:"_chain_sy5hk_9",content:"_content_sy5hk_13",symbol:"_symbol_sy5hk_18","token-select":"_token-select_sy5hk_34",tokenSelect:"_token-select_sy5hk_34",copy:"_copy_sy5hk_44",address:"_address_sy5hk_50",data:"_data_sy5hk_58",price:"_price_sy5hk_63",split:"_split_sy5hk_74",cap:"_cap_sy5hk_81",skeleton:"_skeleton_sy5hk_92","high-risk-token":"_high-risk-token_sy5hk_95",highRiskToken:"_high-risk-token_sy5hk_95"};function Qn(e){let n=e,i=n.getBoundingClientRect().width,t=document.createRange();return t.setStart(n,0),t.setEnd(n,n.childNodes.length),t.getBoundingClientRect().width-i>1}var Vd=({className:e="",loading:n,mode:i,item:t})=>{let s=(0,Nn.useHistory)(),{getUsd:a}=me(g),m=`${X(Ro)}?tab=${i}`,l=t?.price?a(t?.price):"--",d=t?.marketCap?a(new D.BigNumber(t?.marketCap).toFixed(2)):"--",f=(0,B.useRef)(null),[_,k]=(0,B.useState)(!1);(0,B.useEffect)(()=>{!_&&d&&f.current&&Qn(f.current)&&k(!0)},[_,d,f.current]);let T={display:_?"block":"flex"},E={marginTop:_?"4px":"0"};return B.default.createElement(P,{loading:n||!t?.tokenSymbol,height:86,className:(0,ft.default)(e,H.skeleton)},B.default.createElement("div",{className:(0,ft.default)(e,H.root)},B.default.createElement("div",{className:H.chain},B.default.createElement(ir,{tokenSrc:t?.tokenLogoUrl??io(),chainSrc:t?.chainLogoUrl??io(),chainSize:14,tokenSize:34,className:(0,ft.default)("boxCurrency")})),B.default.createElement("div",{className:H.content},B.default.createElement("div",{className:"flex items-center justify-start"},B.default.createElement(U,{className:H.symbol,onClick:()=>{s.push(m)}},t?.tokenSymbol||"--"),B.default.createElement(U,{onClick:()=>{s.push(m)}},B.default.createElement(W,{className:(0,ft.default)("okx-defi-dex-arrow-down-sincere",H.tokenSelect),style:{fontSize:12},a11yText:"select"}))),B.default.createElement("div",{className:H.address},zo(t?.tokenContractAddress,8,8)||"--",B.default.createElement(sr,{token:t,showTooltip:!0,className:H.highRiskToken})),B.default.createElement("div",{className:H.data,style:T},B.default.createElement("div",{className:H.price},u("swaptrade_trade_label_price_numvalue",{value:l})),_?null:B.default.createElement("div",{className:H.split}),B.default.createElement("div",{className:H.cap,ref:f,style:E},u("swaptrade_trade_label_mcap_numvalue",{value:d}))))))};o();r();var J=p(S());o();r();var qe={body:"_body_agdyo_1","sub-title":"_sub-title_agdyo_4",subTitle:"_sub-title_agdyo_4",content:"_content_agdyo_11"};var o_=w(()=>{let{configStore:e,commonStore:n}=g(),{disclaimerVisible:i}=n,{showUserGuide:t,setShowUserGuide:s}=e;(0,J.useEffect)(()=>{Q.get(so)||s(!0)},[]);let a=(0,J.useMemo)(()=>!i&&t,[i,t]),m=()=>{s(!1),Q.set(so,!0),setTimeout(()=>{Vo.trigger("MEME_MODE_USER_GUIDE")},200)};return J.default.createElement(Pe.Action,{confirmBtnProps:{size:ve.SIZE.lg},confirmText:u("commonall_text_btn_ok_active"),onConfirm:m,onClose:m,visible:a,hideCloseBtn:!0,title:u("swaptrade_trade_bttmsheet_header_meme_mode"),titleCenter:!0,windowStyle:{borderTopLeftRadius:16,borderTopRightRadius:16}},J.default.createElement("div",{className:qe.body},J.default.createElement("div",{className:qe.subTitle},u("swaptrade_trade_bttmsheet_title_nofee")),J.default.createElement("p",{className:qe.content},u("swaptrade_trade_bttmsheet_desc_nofee")),J.default.createElement("div",{className:qe.subTitle},u("swaptrade_trade_bttmsheet_title_nocustody")),J.default.createElement("p",{className:qe.content},u("swaptrade_trade_bttmsheet_desc_nocustody")),J.default.createElement("p",{className:qe.content},u("swaptrade_trade_bttmsheet_text_solana"))))});o();r();o();r();function vn(e){let n=g(),{quoteStore:i,accountStore:t,configStore:s}=n,{computedQuoteIsError:a,computedQuoteErrorMsg:m,computedQuoteLiquidityError:l,computedQuoteIsBuyHoneypot:d,computedQuoteIsSellHoneypot:f,computedQuoteIsBlackAddress:_,computedQuoteNetworkError:k,computedSwapOnOtherDapp:T}=i,{computedNonsupportChain:E}=t,{computedNativeTokenInfo:y}=s,N=y?.chainName||"",{computedIsBuy:M,computedIsSell:x}=s;return _?ie["BLACKLIST_ADDRESS"]():Ee.computedIsLimitRegion?ie["LIMIT_REGION"]():E?(e({type:"switch_wallet"}),ie["UNSUPPORTED_CHAIN"]({chainName:N})):d&&M?ie["BUY_HONEYPOT"]():l?(e({type:"no_liquidity"}),ie["INSUFFICIENT_LIQUIDITY"]({error_message:m})):f&&x?ie["SELL_HONEYPOT"]():T?ie["SWAP_ON_OTHER_DAPP"]():a?ie["QUOTE_OTHER_ERROR"]({error_message:m}):k?ie["NETWORK_ERROR"]():null}function g_(){let e=Je(Ho);return vn(e)}o();r();function y_(){let{sellStore:e,buyStore:n,quoteStore:i,configStore:t}=g(),{computedIsSell:s}=t,a=s?e.computedSellNumberIsValid:n.computedBuyNumberIsValid,m=i.initLoading&&$e();return!i.computedQuoteIsInvalid&&a||m}o();r();var Qt=p(S()),Pn=p(Ie());var P_=e=>{let[n,i]=(0,Qt.useState)(null),t=(0,Pn.useHistory)(),{queryParams:s}=Ct(),a=s?.get("inputChain"),m=s?.get("inputCurrency"),l=s?.get("outputChain"),d=s?.get("outputCurrency");return(0,Qt.useEffect)(()=>{if(!s)return;let T=pr(s),E=cr(e);Mt(e,T)?i(T):Mt(e,E)?i(E):i(lr())},[e==="buy"?l:a,e==="buy"?d:m]),{tokenPair:n,setTokenPair:T=>{Mt(e,T)&&(ur(e,T),fr(t,t.location.pathname,T))}}};o();r();var Qe=p(S());Ne();function Rn(){let{accountStore:e}=g(),{fromToken:n,toToken:i}=Ze(),t=e.getAddressByChainId(n?.chainId),s=et(),a=Ar(),m=Lr(),l=xt();return(0,Qe.useMemo)(()=>({chainId:n.chainId,fromTokenAddress:n.tokenContractAddress,toTokenAddress:i.tokenContractAddress,amount:s,slippage:a,slippageType:m,maxSlippage:l,userWalletAddress:t}),[s,n.chainId,n.tokenContractAddress,i.tokenContractAddress,a,m,l,t])}function V_(){let{quoteStore:e,buyStore:n,sellStore:i}=g(),{fetchQuote:t,resetQuote:s}=e,a=Rn(),m=(0,Qe.useCallback)(()=>{t(a)},[a,t]);(0,Qe.useEffect)(()=>{m()},[m]),(0,Qe.useEffect)(()=>$e()?Io:()=>{s()},[n,s,i])}o();r();var Rt=p(S());var Xn=e=>!e?.tokenContractAddress&&e?.tokenContractAddress!=="",zn=(e,n)=>e&&n&&n.price&&n.tokenContractAddress===e?.tokenContractAddress,$n=e=>e.chainId,Q_=(e,n)=>{let[i,t]=(0,Rt.useState)(null),s=Ke();return(0,Rt.useEffect)(()=>{async function a(){if(!Xn(n)){if(zn(n,e)){t(e);return}if(!!$n(s))if(n?.tokenContractAddress){let m=await Sr({inputContent:n?.tokenContractAddress,...s});if(m)t(m);else{let l=await fo(s);t(l)}}else{let m=await fo(s);t(m)}}}a()},[n?.tokenContractAddress,s.chainId,s.accountId,s.userUniqueId,s.walletId,s.walletAddress]),i};o();r();var Xt=p(S());var jn=({myPosition:e,positionList:n,myPositionUsed:i,setMyPositionUsed:t})=>{if(!i&&e==="1"&&n.length){let s=document.querySelector("#meme-swap-container");s&&setTimeout(()=>{s.scrollTo({top:460,behavior:"smooth"}),t(!0),dr("myPosition")},400)}},K_=()=>{let{queryParams:e}=Ct(),{memePositionStore:n}=g(),{positionList:i}=n,t=e?.get?.("myPosition"),[s,a]=(0,Xt.useState)(!1);(0,Xt.useEffect)(()=>{jn({myPosition:t,positionList:i,myPositionUsed:s,setMyPositionUsed:a})},[t,i,s])};o();r();Ne();var rg=()=>{let{configStore:e}=g();return K(e,"computedNativeTokenInfo",null)};o();r();var zt=p(S());var lg=(e,n)=>{let[i,t]=(0,zt.useState)(null),s=Ke(),{chainId:a,accountId:m,userUniqueId:l,walletId:d,userWalletAddress:f,businessType:_}=s;return(0,zt.useEffect)(()=>{async function k(){if(e&&a&&m&&l&&d&&f){let T=await kr({tokenAddress:e,chainId:a,accountId:m,userUniqueId:l,walletId:d,userWalletAddress:f,businessType:_},n);t(T)}}k()},[e,a,m,l,d,f,_]),i};export{P_ as a,V_ as b,Q_ as c,K_ as d,rg as e,lg as f,ma as g,ya as h,Xa as i,nm as j,Pl as k,eu as l,_u as m,Ju as n,up as o,gd as p,Vd as q,o_ as r,g_ as s,y_ as t};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-JFNYZXFY.js.map
