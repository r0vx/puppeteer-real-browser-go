import{f as n}from"./chunk-GTN3RCGH.js";import{a as R,b as P}from"./chunk-AOSRFQ4E.js";import{a as x}from"./chunk-FGIHS4ZF.js";import{b as ge}from"./chunk-U65R4NF3.js";import{b as ue}from"./chunk-7CXUJS4C.js";import{a as me,c as pe}from"./chunk-PPTAKQQT.js";import{g as fe}from"./chunk-DA5RJYYW.js";import{n as de,u as ce}from"./chunk-3S4BGA37.js";import{Da as T,Ma as ne,Mc as _e,ia as w,md as t,nd as le}from"./chunk-POP3LIKS.js";import{c as A}from"./chunk-PMRTKWFS.js";import{D as y,G as se,m as O}from"./chunk-G44PPNNQ.js";import{a as D}from"./chunk-SIITVWZR.js";import{b as ie,d as z,h as N,o as p,r as G}from"./chunk-XR4SQWL7.js";import{A as M,H as te,aa as re,j as $,ja as oe,la as W,na as H,p as ee,ra as be}from"./chunk-CYTB2B6Q.js";import{aa as ae,ka as E}from"./chunk-6M3PZK2X.js";import{b as m}from"./chunk-OL67KS7C.js";import{f as d,o as a,q as s}from"./chunk-SHG7TIBL.js";a();s();be();var K=class{constructor(){this.setLiquidityModelVisible=e=>{n.update({liquidityModelVisible:e})};this.setDataStatus=e=>{n.update({dataStatus:e})};this.setData=e=>{n.update({rawData:e})};this.resetAllLiquidityData=()=>{n.update({rawData:[],selectedListIds:[],confirmIds:null})};this.initAllLiquidityData=e=>{let o=M(e,"id");n.update({rawData:e,selectedListIds:o});let i=n.fromChainId;ce(i)&&n.update({confirmIds:re({},i,o)})};this.fetchLiquidityData=async()=>{this.resetAllLiquidityData(),this.setDataStatus(T.LOADING),n.LiquidityCancelRef&&n.LiquidityCancelRef.abort(),n.update({LiquidityCancelRef:me()});let[e,o]=await se(pe.get(_e,{params:{chainId:n.fromChainId},signal:n.LiquidityCancelRef?.signal,isolate:!0}));if(e)this.setDataStatus(T.ERROR);else{let i=$(o,"data");te(i)?this.setDataStatus(T.NULL):(this.initAllLiquidityData(i),this.setDataStatus(T.READY))}};this.setSelectedListIds=e=>{n.update({selectedListIds:e})};this.setConfirmIds=e=>{n.update({confirmIds:e})};this.filterSelectedListIds=(e,o)=>{let i;o?i=H(n.selectedListIds,e):i=ee(n.selectedListIds,e),this.setSelectedListIds(W(i))};this.checkAllBtn=()=>{let e="",o=n.computedSearchStatus?n.computedSearchData:n.rawData,i=M(o,"id");n.computedListCheckedAll?e=H(n.selectedListIds,...i):e=oe(n.selectedListIds,i),this.setSelectedListIds(W(e))};this.setLiquiditySearchValue=e=>{n.update({searchLiquidityValue:e})}}},we=new K;a();s();var h=d(m()),Q=d(D());a();s();var b={"quote-interval-box":"_quote-interval-box_dm0co_1",quoteIntervalBox:"_quote-interval-box_dm0co_1","quote-interval-reset":"_quote-interval-reset_dm0co_17",quoteIntervalReset:"_quote-interval-reset_dm0co_17","right-arrow":"_right-arrow_dm0co_25",rightArrow:"_right-arrow_dm0co_25","error-icon":"_error-icon_dm0co_28",errorIcon:"_error-icon_dm0co_28","alert-icon":"_alert-icon_dm0co_29",alertIcon:"_alert-icon_dm0co_29","warn-icon":"_warn-icon_dm0co_30",warnIcon:"_warn-icon_dm0co_30"};function Z({openLiquidityDialog:r}){return h.default.createElement(ie,{className:b.quoteIntervalReset,onClick:r},t("swaptrade_mid_notification_reset"),h.default.createElement(ae,{className:(0,Q.default)("okx-defi-dex-arrow-right-1",b.rightArrow)}))}var ve=({isNoDexLiquidity:r})=>{let{quoteStore:e,fromToStore:o}=A(),{computedIsNoLiquidity:i,computedCrossChainIntervalOutOfRange:f}=e,{computedIsCrossChain:g}=o,{computedIsCustomLiquidity:F,computedIds:Y=[]}=n,{setLiquidityModelVisible:V}=we,k="",C=null;if((i||r)&&F){let B=()=>{V(!0),fe({button_name:"liquidity_sources"})};C=r?t("swaptrade_mid_notification_okx_no_liquidity"):y(t("swaptrade_mid_notification_selected_num",{poolNum:Y.length})),k=h.default.createElement(Z,{openLiquidityDialog:B})}else if((i||f)&&g)k=h.default.createElement("span",{className:b.quoteIntervalReset},t("swaptrade_dialog_desc_not_supported"));else if(i)k=h.default.createElement("span",{className:b.quoteIntervalReset},t("swaptrade_swap_card_text_no_quote_fetched"));else return null;return h.default.createElement(z,{title:C,desc:k,type:z.TYPE.warn,closable:!1,className:(0,Q.default)("mt-16")})},tt=O(ve);a();s();var J=d(m());a();s();var q=d(m());a();s();var Ee={"warn-state-container":"_warn-state-container_1n8v8_1",warnStateContainer:"_warn-state-container_1n8v8_1","error-state-container":"_error-state-container_1n8v8_2",errorStateContainer:"_error-state-container_1n8v8_2","error-state-title":"_error-state-title_1n8v8_15",errorStateTitle:"_error-state-title_1n8v8_15","error-state-content":"_error-state-content_1n8v8_21",errorStateContent:"_error-state-content_1n8v8_21","add-funds":"_add-funds_1n8v8_28",addFunds:"_add-funds_1n8v8_28",warning:"_warning_1n8v8_33",error:"_error_1n8v8_2","ledger-network-tips":"_ledger-network-tips_1n8v8_39",ledgerNetworkTips:"_ledger-network-tips_1n8v8_39",mb16:"_mb16_1n8v8_42","error-icon":"_error-icon_1n8v8_45",errorIcon:"_error-icon_1n8v8_45","warn-icon":"_warn-icon_1n8v8_46",warnIcon:"_warn-icon_1n8v8_46"};var Le=({chainName:r})=>{let e=()=>{let o=p.tip({infoType:p.Tip.INFO_TYPE.default,children:t("swaptrade_top_modaldesc_ledger_supported_paychains"),confirmText:t("swaptrade_card_btn_value_difference_gotit"),onConfirm:()=>{o.destroy()},confirmBtnProps:{block:!0,size:E.SIZE.md}})};return q.default.createElement(q.default.Fragment,null,t("swaptrade_top_alert_desc_paychain_not_supported",{payChain:r}),q.default.createElement(N,{className:Ee.ledgerNetworkTips,type:N.TYPE.primary,weight:N.WEIGHT.muted,size:N.SIZE.xs,onClick:e},t("swaptrade_top_alert_textbtn_view_supported_chains")))},he=Le;var _={warn:"warn",error:"error"};var bt={["UNSUPPORTED_CHAIN"]:r=>{let{chainName:e}=r,o=t("swaptrade_adjustslip_modal_title_wrongnetwork"),i=t("swaptrade_card_alert_switch_wallet_to_match",{chainName:e});return w()?(o=t("swaptrade_extension_mid_plzswitch_wallet"),i=t("swaptrade_extension_mid_plzswitch_wallettips",{chain:e})):ue&&(o=t("swaptrade_top_alert_title_please_switch_network"),i=J.default.createElement(he,{chainName:e})),{title:o,desc:i,type:_.warn}},["ACCOUNT_ERROR_TIPS"]:()=>({title:t("swaptrade_adjustslip_modal_title_wrongnetwork"),desc:t("swaptrade_mid_alert_desc_vm_wallet"),type:_.warn}),["FEE_CONFIG_ERROR"]:()=>({title:t("swaptrade_card_reminder_title_parameter_error"),desc:t("swaptrade_card_reminder_desc_feepercent",{feePercent:"feePercent",value1:"0",value2:de(ne,{needZero:!1})}),type:_.error}),["LIMIT_REGION"]:()=>({title:t("swaptrade_mid_toast_title_service_suspended"),desc:null,type:_.warn}),["SWAP_ON_OTHER_DAPP"]:()=>({title:t("swaptrade_toast_title_unsupported_swap"),desc:t("swaptrade_toast_desc_unsupported_swap"),type:_.warn}),["INSUFFICIENT_LIQUIDITY"]:r=>({title:r.error_message||t("swaptrade_quote_error_desc_insufficient_liquidity"),desc:null,type:_.error}),["BUY_HONEYPOT"]:()=>({title:t("wallet_swap_toast_scam_token_desc"),desc:null,type:_.error}),["SELL_HONEYPOT"]:()=>({title:t("wallet_swap_toast_scam_token_sell"),desc:null,type:_.warn}),["BLACKLIST_ADDRESS"]:()=>({title:t("swaptrade_transfer_notif_suspended_services"),desc:null,type:_.error}),["NETWORK_ERROR"]:()=>({title:t("swap_title_quote_server_error"),desc:t("swaptrade_quote_server_error_content"),type:_.error}),["SAFE_MOON"]:r=>({title:t("swaptrade_top_alert_burning_mechanism",r),desc:t("swaptrade_top_text_token_not_supported"),type:_.warn}),["MIN_SELL_AMOUNT"]:r=>({title:t("swaptrade_top_notif_min_sell_amount",r),desc:null,type:_.warn}),["LEVERAGE_TOKEN"]:(r,e)=>{let o=r&&e?t("swaptrade_mid_alert_highrisk_both_token",{sellToken:r,receiveToken:e}):t("swaptrade_mid_alert_highrisk_token",{token:r||e}),i=r&&e?t("swaptrade_mid_alert_highrisk_both_token",{sellToken:x(r),receiveToken:x(e)}):t("swaptrade_mid_alert_highrisk_token",{token:x(r)||x(e)});return{type:_.error,title:o,titleEquation:i,desc:t("swaptrade_top_text_protect_capital")}},["QUOTE_OTHER_ERROR"]:r=>({title:t("swap_title_quote_server_error"),desc:r.error_message||t("swaptrade_quote_error_no_update"),type:_.error}),["LIQUIDITY_RESET"]:r=>{let{dexIds:e,openLiquidityDialog:o}=r;return{title:y(t("swaptrade_mid_notification_selected_num",{poolNum:e})),desc:J.default.createElement(Z,{openLiquidityDialog:o}),type:_.warn}},["REVOKE_APPROVE"]:r=>({title:t("swaptrade_transfer_reminder_title_insufficient_approve"),desc:t("swaptrade_transfer_reminder_desc_insufficient_approve",{ccy:r.tokenSymbol}),type:_.warn})};a();s();var I=d(m()),Ie=d(D());a();s();var X=d(m());var v=({className:r,onChangeAgreed:e,agreed:o,size:i})=>X.default.createElement("div",{className:r},X.default.createElement(G,{onChange:e,checked:o,size:i||G.SIZE.md},t("swaptrade_confirmation_checkbox_aware_risk")));a();s();var L=d(m());a();s();var l={body:"_body_1u2d5_1",content:"_content_1u2d5_5","freeze-assets":"_freeze-assets_1u2d5_8",freezeAssets:"_freeze-assets_1u2d5_8","terms-service":"_terms-service_1u2d5_11",termsService:"_terms-service_1u2d5_11",checkbox:"_checkbox_1u2d5_17","checkbox-web":"_checkbox-web_1u2d5_20",checkboxWeb:"_checkbox-web_1u2d5_20","checkbox-wallet":"_checkbox-wallet_1u2d5_23",checkboxWallet:"_checkbox-wallet_1u2d5_23","market-disclaimer-wrapper":"_market-disclaimer-wrapper_1u2d5_26",marketDisclaimerWrapper:"_market-disclaimer-wrapper_1u2d5_26","market-top":"_market-top_1u2d5_45",marketTop:"_market-top_1u2d5_45","market-title":"_market-title_1u2d5_45",marketTitle:"_market-title_1u2d5_45","market-content":"_market-content_1u2d5_51",marketContent:"_market-content_1u2d5_51","market-bottom":"_market-bottom_1u2d5_56",marketBottom:"_market-bottom_1u2d5_56","market-checkbox":"_market-checkbox_1u2d5_56",marketCheckbox:"_market-checkbox_1u2d5_56","widget-content":"_widget-content_1u2d5_61",widgetContent:"_widget-content_1u2d5_61"};var Se=({className:r})=>{let e=w()?t("swaptrade_general_dialog_text_terms_service_link"):t("swaptrade_web_link_ecosystem_tos");return L.default.createElement(ge,{className:r||l.termsService,href:e},t("swaptrade_general_dialog_text_terms_service"))},S=({className:r,linkClassName:e})=>L.default.createElement("div",{className:r},le("swaptrade_general_dialog_desc_legal_disclaimer",{freezeAssets:L.default.createElement("span",{className:l.freezeAssets},t("swaptrade_general_dialog_text_freeze_content")),termsService:L.default.createElement(Se,{className:e})}));function ke({agreed:r,onChangeAgreed:e}){let o=w();return I.default.createElement("div",{className:l.body},I.default.createElement(S,{className:l.content}),I.default.createElement(v,{className:(0,Ie.default)({[l.checkbox]:!0,[l.checkboxWeb]:!o,[l.checkboxWallet]:o}),onChangeAgreed:e,agreed:r}))}function rr(){if(!P())return()=>Promise.resolve(!0);let e=null,o=!1,i=f=>{o=f?.target?.checked,e?.update({children:I.default.createElement(ke,{agreed:o,onChangeAgreed:i}),confirmBtnProps:{disabled:!o,type:E.TYPE.primary}})};return()=>new Promise((f,g)=>{e=p.tip({infoType:p.Tip.INFO_TYPE.warn,btnFull:!1,title:t("swaptrade_general_dialog_title_legal_disclaimer"),children:I.default.createElement(ke,{agreed:o,onChangeAgreed:i}),confirmText:t("swaptrade_general_dialog_btn_start_trading"),confirmBtnProps:{disabled:!o,type:E.TYPE.primary},cancelText:t("commonall_text_btn_cancel"),onConfirm:()=>{R(!1),e?.destroy(),f(!0)},onClose:()=>{e?.destroy(),e=null,g(new Error("Risk prompt closed"))},onCancel:()=>{g(new Error("Risk prompt closed"))}})})}a();s();a();s();var U=d(m());var Ce=({setStoreDisclaimerVisible:r})=>{let e=typeof r=="function"?r:()=>{},o=(0,U.useMemo)(()=>P(),[]);return(0,U.useEffect)(()=>{e(o)},[o]),{agreeDisclaimer:()=>{e(!1),R(!1)}}};a();s();var u=d(m()),Ne=d(D());var Te=({infoType:r,disclaimerVisible:e,setDisclaimerVisible:o,onAgree:i})=>{let[f,g]=(0,u.useState)(!1),{agreeDisclaimer:F}=Ce({setStoreDisclaimerVisible:o}),Y=()=>{o(!1)},V=B=>{g(B?.target?.checked)},k=()=>{F(),i&&i()};(0,u.useEffect)(()=>(e||g(!1),()=>{g(!1)}),[e]);let C=w();return u.default.createElement(p.Tip,{visible:e,btnFull:!1,infoType:r||p.Tip.INFO_TYPE.default,title:t("swaptrade_general_dialog_title_legal_disclaimer"),confirmText:t("swaptrade_general_dialog_btn_start_trading"),confirmDisabled:!f,onConfirm:k,confirmBtnProps:{type:E.TYPE.primary},cancelText:t("commonall_text_btn_cancel"),onClose:Y},u.default.createElement("div",{className:l.body},u.default.createElement(S,{className:l.content}),u.default.createElement(v,{className:(0,Ne.default)({[l.checkbox]:!0,[l.checkboxWeb]:!C,[l.checkboxWallet]:C}),onChangeAgreed:V,agreed:f})))};a();s();var xe=d(m());var Nr=O(()=>{let{commonStore:r}=A();return xe.default.createElement(Te,{disclaimerVisible:r.disclaimerVisible,setDisclaimerVisible:r.setDisclaimerVisible})});a();s();var j=d(m()),De=d(D());export{we as a,b,tt as c,bt as d,Te as e,rr as f};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-UHNETIV4.js.map
