import{c as de,d as he,e as Ce}from"./chunk-HFA3XKU6.js";import{a as fe,c as _e}from"./chunk-PTMW5MET.js";import"./chunk-PXJKEELP.js";import"./chunk-7BNH3Q5V.js";import"./chunk-SOSMI6LE.js";import"./chunk-EP23RRSK.js";import"./chunk-BWTCOYRQ.js";import{a as me,b as pe,c as ue}from"./chunk-7A4GWZDF.js";import"./chunk-HBWTVKRO.js";import{c as D,d as M}from"./chunk-RH6WPBEZ.js";import{a as ce}from"./chunk-NWY3GPDX.js";import"./chunk-5TNLDTW5.js";import{e as te,g as oe}from"./chunk-R7LZSAVU.js";import{g as ee}from"./chunk-E7MGN3V4.js";import"./chunk-DYL77QBO.js";import{e as v}from"./chunk-5A3RJQCM.js";import"./chunk-N2MMFEEK.js";import"./chunk-7UDMBSMI.js";import"./chunk-KJWX5V23.js";import{x as ie,z as le}from"./chunk-KDVER5QK.js";import"./chunk-5CHE7P4E.js";import"./chunk-PD44C7EF.js";import"./chunk-6K6UF6OE.js";import"./chunk-OKXHAJNT.js";import"./chunk-CBHKW7LL.js";import"./chunk-67F2WFQO.js";import{d as re}from"./chunk-QYDRYMWS.js";import"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3L7K7.js";import{a as ae}from"./chunk-Y5K5NJ6U.js";import"./chunk-JABAEAEN.js";import"./chunk-VY2VK2OT.js";import{a as ne}from"./chunk-Q7FGM7BT.js";import"./chunk-TKE74ERX.js";import{d as se}from"./chunk-MONRGJFN.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import"./chunk-IK72BO4I.js";import"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import{a as $}from"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import"./chunk-XP3TNE3R.js";import{jc as Ue}from"./chunk-QRHYK2TW.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import{a as Ye}from"./chunk-532YJKK4.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import{c as d}from"./chunk-62ZAND24.js";import{a as z}from"./chunk-SIITVWZR.js";import{Oa as Ve,Yd as Q,Zd as Y,oe as X}from"./chunk-QHXUL3YM.js";import{H as Oe,y as I}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{c as J,d as V,r as U}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import{f as Z,ra as Ge}from"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{ka as L}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as E}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as y,o as t,q as o}from"./chunk-SHG7TIBL.js";t();o();var e=y(E()),B=y(Ue()),ke=y(Ye());Oe();t();o();var ge=y(E());var Ae=(C={})=>{let i=ie(C);return(0,ge.useMemo)(()=>i.map(n=>{let{walletIdentities:s,marketValueSymbol:m,marketValue:A}=n;return{...n,walletAsset:`${$(A).value} ${m||""}`,walletIdentities:s.map(p=>{let{balance:l="--",symbol:a}=p;return{...p,walletAsset:`${$(l).value} ${a||""}`}})}}),[i])};X();Ve();t();o();var ye=C=>{let i=ue({dappUrl:C}),{provider:n,method:s,exts:m,status:A,providerTypes:p=[]}=i,l=ce(),a=pe({provider:n,exts:m,chainsInfo:l}),u=p.filter(r=>r.required).map(r=>l.find(c=>c.localType===r.providerType)),x=p.filter(r=>!r.required).map(r=>l.find(c=>c.localType===r.providerType));if(u.length>0||x.length>0){let r=u.map(h=>h?.baseChain),f=x.map(h=>h?.baseChain),c=u.map(h=>h?.chainName).join(", ");return{requestChains:r,optionalChains:f,chainNames:c,allChain:!1,status:A}}let T=me({provider:n,method:s});return{requestChains:[a.baseChain],optionalChains:[],chainNames:a.chainName,allChain:T,status:A}};t();o();var _=y(E()),be=y(z());X();t();o();var N=y(E()),Te=y(z());t();o();var w=y(E()),xe=y(z());Ge();t();o();var H={root:"_root_9zx9g_1",disabled:"_disabled_9zx9g_8"};var $e=({selected:C=!1,disabled:i=!1,onClick:n=Z})=>w.default.createElement(d.FlexBox,{onClick:n,className:(0,xe.default)(H.root,{[H.disabled]:i}),align:d.ALIGN.center,justify:d.ALIGN.center},i?w.default.createElement(U.Circle,{disabled:!0,checked:!1}):w.default.createElement(U.Circle,{checked:C})),K=$e;t();o();var P={root:"_root_1aq24_1",disabled:"_disabled_1aq24_5",highlight:"_highlight_1aq24_11"};var ze=({selected:C,createdId:i,isRpcMode:n,hiddenAssets:s,walletIdentity:m,handleClickWallet:A,requestChains:p,optionalChains:l,disabled:a=!1})=>{let{walletId:u=""}=m,x=(0,N.useMemo)(()=>C.includes(u),[C,u]),T=(0,N.useMemo)(()=>{let f=p.length===0&&l.some(g=>m?.account?.[g]),c=p.length===0&&l.length===0,h=p.length>0&&p.every(g=>m?.account?.[g]);return f||c||h},[l,p,m?.account]);a=a||!T;let r=(0,N.useCallback)(()=>{a||A(u)},[A,u,a]);return N.default.createElement(d.FlexBox,{className:(0,Te.default)(P.root,{[P.highlight]:u===i,[P.disabled]:a}),align:d.ALIGN.center,onClick:r},N.default.createElement(_e,{disabled:a,isRpcMode:n,hiddenAssets:s,walletIdentity:m,showUpgrade7702Tag:!0}),N.default.createElement(K,{selected:x,disabled:a}))},Se=ze;t();o();var k={root:"_root_7lquh_1",keyring:"_keyring_7lquh_15",header:"_header_7lquh_18",title:"_title_7lquh_21",content:"_content_7lquh_25",icon:"_icon_7lquh_28",mpcStatusAlertWrapper:"_mpcStatusAlertWrapper_7lquh_31"};var De=({selected:C,isRpcMode:i,hiddenAssets:n,keyringIdentity:s,handleClickWallet:m,requestChains:A,optionalChains:p})=>{let[l,a]=Ce(),[u,x]=(0,_.useState)(!0),T=()=>{x(c=>!c)},r=(0,_.useMemo)(()=>s?.keyringIdentityType===Y.MPC,[s]),f=(0,_.useMemo)(()=>{let{mpcStatus:c,accountStatus:h}=s?.status||{};return r&&(c===M.ESCAPE||c===M.RECOVER||h===D.DELETE||h===D.FROZEN)},[r,s?.status]);return _.default.createElement(d.Box,{className:k.root},_.default.createElement(J,{onToggle:T,expanded:u,titleClass:k.title,className:k.keyring,headerClassName:k.header,contentClassName:k.content,iconClassName:(0,be.default)(k.icon),title:_.default.createElement(fe,{isRpcMode:i,hiddenAssets:n,keyringIdentity:s})},r&&_.default.createElement(he,{keyringIdentity:s,className:k.mpcStatusAlertWrapper}),_.default.createElement(v,{dataSource:s?.walletIdentities||[],renderItem:c=>_.default.createElement(Se,{selected:C,isRpcMode:i,createdId:l,hiddenAssets:n,walletIdentity:c,handleClickWallet:m,requestChains:A,optionalChains:p,disabled:f})}),s.keyringIdentityType===Y.MNEMONIC?_.default.createElement(de,{createdCb:a,keyringIdentity:s}):null))},Ne=De;t();o();var F={root:"_root_qo7v8_1",selectAll:"_selectAll_qo7v8_1",text:"_text_qo7v8_15"};var He=({request:C,multi:i=!1})=>{let n=(0,B.useDispatch)(),{origin:s}=C?.metadata||{},{requestChains:m,optionalChains:A,chainNames:p,allChain:l,status:a}=ye(s);(0,e.useEffect)(()=>{n(ee())},[n]);let[,u]=le({hasBackup:!0}),x=Ae({hasBackup:!0}),{isRpcMode:T}=(0,B.useSelector)(re),r=(0,e.useMemo)(()=>T?x:u,[T,u,x]),{backupedWallets:f,showTip:c}=(0,e.useMemo)(()=>{let S=!1;return{backupedWallets:r.reduce((O,R)=>{let We=R?.walletIdentities?.map(qe=>{let{initialType:ve,walletId:we,account:Ke}=qe;if(ve===Q.MPC_KEYRING&&R?.status?.mpcStatus===M.ESCAPE)return"";let Pe=m?.every(Fe=>Ke?.[Fe]);return!l&&!Pe?(S=!0,""):we})?.filter(Boolean);return O.concat(We)},[]),showTip:S}},[r,l,m]),h=(0,B.useSelector)(te),[g,W]=(0,e.useState)(h?.length>0?h:[]),Ee=f.length>1&&i,G=(0,e.useMemo)(()=>f.length===g.length,[f,g]),Ie=(0,e.useCallback)(()=>{W(G?[]:f)},[G,f]),Le=(0,e.useCallback)(S=>{g.includes(S)?W(q=>q.filter(O=>O!==S)):W(q=>i?[...q,S]:[S])},[g,i]),j=(0,ke.useHistory)(),Me=(0,e.useCallback)(()=>{n(oe.setSelectAccounts(g)),j.goBack()},[g,j,n]),[Be]=se();return e.default.createElement(d.Container,{className:F.root},e.default.createElement(ae,{closeable:!1,bordered:!1,title:I("wallet_dapp_conncetion_subtitle_select_accounts")}),c&&a!=="PENDING"&&e.default.createElement(V,{desc:I("wallet_extension_connect_notification_text_dont_select_wallets",{network:p}),type:V.TYPE.warn,closable:!1}),Ee?e.default.createElement(d.FlexBox,{align:d.ALIGN.center,className:F.selectAll},e.default.createElement(d.Box,{className:F.text},I("wallet_dapp_conncetion_subtitle_select_all")),e.default.createElement(K,{selected:G,onClick:Ie})):null,e.default.createElement(v,{dataSource:r,renderItem:S=>e.default.createElement(Ne,{selected:g,isRpcMode:T,hiddenAssets:Be,keyringIdentity:S,handleClickWallet:Le,requestChains:l?[]:m,optionalChains:l?[]:A})}),e.default.createElement(ne.FooterActions,null,e.default.createElement(L,{block:!0,disabled:!g.length,category:L.CATEGORY.fill,type:L.TYPE.highlight,size:L.SIZE.lg,onClick:Me},I("wallet_set_password_btn_confirm"))))},No=He;export{No as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=Comp-OUMSRUMU.js.map
