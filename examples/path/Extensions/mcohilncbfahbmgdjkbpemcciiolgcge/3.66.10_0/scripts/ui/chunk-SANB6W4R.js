import{b as D}from"./chunk-2Q6HA5LZ.js";import{k as I}from"./chunk-HHY4FPQP.js";import{j as h,m as k,n as w}from"./chunk-4JPAA6SR.js";import{b as F,c as O}from"./chunk-ULL77AIR.js";import{a as S}from"./chunk-2E2OBQTS.js";import{md as _}from"./chunk-POP3LIKS.js";import{H as r,R as v,j as R,ra as X}from"./chunk-CYTB2B6Q.js";import{b as Y}from"./chunk-OL67KS7C.js";import{f as N,o as b,q as A}from"./chunk-SHG7TIBL.js";b();A();var l=N(Y());X();var j=()=>{let{configStore:L}=D(),{computedConfig:x}=L,{defaultBuyPresets:c=[],defaultSellPresets:M=[],slippageConfig:e={},priorityFeeInfo:t={}}=x||{},a=(i,o,s,y)=>{if(r(i)||r(e)||r(s))return[];let{min:f,max:E,supportMaxSlippage:m,dynamicSlippageRangeMin:u,dynamicSlippageRangeMax:p,recommendSlippageRangeMin:g,recommendSlippageRangeMax:n}=e,U={low:o[0],medium:o[1],high:o[2]};return i.map((C,T)=>{let{slippage:B,priorityFeeType:G,[y?"defaultBuyAmountList":"defaultSellPercentList"]:$}=C,V=o.indexOf(B),K=V!==-1?w[V]:O.CUSTOM;return{id:`${h}${T+1}`,amountList:$,slippage:{mode:F.DYNAMIC,supportCustomMax:m,dynamicMax:p,dynamicMin:u,recommendMax:n,recommendMin:g,customMax:"",value:B,type:K,config:U,min:f,max:E},priorityFee:{value:"",type:k[G-1],max:String(s?.maxValue),recommendMaxValue:s?.recommendMaxValue,recommendMinValue:s?.recommendMinValue,config:{market:{},fast:{},turbo:{}}},isEnableMev:C.isEnableMev,priorityMode:"auto",manualType:0,name:T===0?_("swaptrade_market_placeorder_preset_option_default"):_("swaptrade_market_placeorder_preset_option_meme")}})},d=(0,l.useMemo)(()=>a(c,e.slippageList,t,!0),[c,e,t]),P=(0,l.useMemo)(()=>a(M,e.slippageList,t,!1),[M,e,t]);return{computeBuyDefaultPresetList:d,computedSellDefaultPresetList:P}},oe=()=>{let{buyStore:L,sellStore:x,configStore:c}=D(),{tradeScene:M,currentChainID:e,presetStorageKey:t}=c,{setBuyPresetList:a,buyPresetList:d,currentBuyPresetId:P,setCurrentBuyPresetId:i}=L,{setSellPresetList:o,sellPresetList:s,currentSellPresetId:y,setCurrentSellPresetId:f}=x,{computedConfig:E}=c,{slippageConfig:m={}}=E||{},{computeBuyDefaultPresetList:u,computedSellDefaultPresetList:p}=j();(0,l.useEffect)(()=>{if(r(u)||r(p)||r(m))return;let g=S.get(t),n=R(g,e)??null;if(n){a(I(n.buyPresetList,m)),i(n.currentBuyPresetId),o(I(n.sellPresetList,m)),f(n.currentSellPresetId);return}a(u),i(u?.[0]?.id),o(p),f(p?.[0]?.id)},[M,e,a,o,i,f,t,u,p,m]),(0,l.useEffect)(()=>{if(r(d)||r(s))return;let g=S.get(t);S.set(t,v({},g,{[e]:{buyPresetList:d,currentBuyPresetId:P,sellPresetList:s,currentSellPresetId:y}}))},[e,d,s,P,y,t])};export{j as a,oe as b};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-SANB6W4R.js.map
