import{a as L,g as c,h as u}from"./chunk-5D5WAQN4.js";import"./chunk-ISXIP6MC.js";import{a as E}from"./chunk-NDFYN4CL.js";import"./chunk-JRQMCDSC.js";import"./chunk-5SVZVIW6.js";import"./chunk-XZE3L7K7.js";import"./chunk-7N263AYH.js";import"./chunk-532YJKK4.js";import{a as l,b as D}from"./chunk-NU4UJZBB.js";import"./chunk-2FDQIA7D.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import{n as S}from"./chunk-4EIUGT5A.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-VL2YBSHB.js";import"./chunk-OCAFSBNZ.js";import"./chunk-62ZAND24.js";import"./chunk-SIITVWZR.js";import{Wa as F,gc as s,na as g,od as I,ra as A}from"./chunk-QHXUL3YM.js";import"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-Z3JMRMVO.js";import"./chunk-CYTB2B6Q.js";import"./chunk-T2ETCKOI.js";import"./chunk-RJPAKY6O.js";import"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-2MNWRWA5.js";import"./chunk-2EEW2VNF.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-SUANL2KV.js";import"./chunk-32ZJ4F2J.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as y,h as T,o as M,p,q as w}from"./chunk-SHG7TIBL.js";M();w();var o=y(L()),d=y(F());A();I();var f=class{constructor(){T(this,"signTransaction",async(t,e,n)=>{e=E(e);let r=await l(e),a=r.getMessageToSign(!1),i=p.Buffer.isBuffer(a)?a.toString("hex"):d.rlp.encode(a).toString("hex"),{type:h,chainId:P}=e,q={path:t.hdPathMap[s],chainId:P,requestId:g().toLowerCase(),signData:i,dataType:h===S.FEE_MARKET?o.KeystoneEthereumSDK.DataType.typedTransaction:o.KeystoneEthereumSDK.DataType.transaction,xfp:t.masterFingerprint},C=await u.openModal(c.showTxParams,{signRequest:q,baseChain:s}),m=p.Buffer.from(C,"hex"),R=m.slice(0,32),b=m.slice(32,64),N=m.slice(64),x=await D(r,{r:R,s:b,v:N});return n?x:{rawTxResult:x}});T(this,"signTypedData",async(t,e)=>{let n=t.hdPathMap[s];if(!["V4","V3"].includes(e.version))throw new Error("this version of typed data signing is no't supported");let a=p.Buffer.from(e.data,"utf-8"),i={path:n,requestId:g().toLowerCase(),signData:a,dataType:o.KeystoneEthereumSDK.DataType.typedData,xfp:t.masterFingerprint};return`0x${await u.openModal(c.showTxParams,{signRequest:i,baseChain:s})}`})}async signPersonalMessage(t,e){let n=t.hdPathMap[s],r=(0,d.stripHexPrefix)(e.data),a={path:n,requestId:g().toLowerCase(),signData:r,dataType:o.KeystoneEthereumSDK.DataType.personalMessage,xfp:t.masterFingerprint};return`0x${await u.openModal(c.showTxParams,{signRequest:a,baseChain:s})}`}},$=new f;export{$ as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ethAdapter-ASWGHFVJ.js.map
