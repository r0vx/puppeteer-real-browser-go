import{a as no}from"./chunk-VAEBQR6U.js";import{a as to}from"./chunk-OAQKAWH5.js";import"./chunk-LZXZV4RZ.js";import"./chunk-L37MOKNV.js";import{a as ro}from"./chunk-NKXFB4VF.js";import"./chunk-5OCZNIL7.js";import"./chunk-JIT4MLY3.js";import"./chunk-ESFVNQVW.js";import"./chunk-DP2SXYTT.js";import"./chunk-A4QA4J4S.js";import"./chunk-CXT4EHFX.js";import"./chunk-W3MRBSTV.js";import"./chunk-HPJHY2AY.js";import"./chunk-CK7Z2DAQ.js";import"./chunk-5E2Y3UHC.js";import"./chunk-OQZ6UOCK.js";import{f as D}from"./chunk-EUGYCX2N.js";import"./chunk-TEVAE4SY.js";import"./chunk-NZOYKJV7.js";import"./chunk-L7GCKA7W.js";import"./chunk-V2QGBG3D.js";import"./chunk-IFQLVQH6.js";import"./chunk-5TLDWKXV.js";import"./chunk-7GRDW7ZD.js";import"./chunk-DGIWAYI5.js";import"./chunk-HY7LAUD2.js";import"./chunk-C6HPT3PU.js";import"./chunk-ZZH7FUZX.js";import"./chunk-7FBDFG5E.js";import"./chunk-IK5VIKIS.js";import"./chunk-Y6T5M4AD.js";import{a as eo}from"./chunk-J3K74NCM.js";import"./chunk-UWCOP3B7.js";import"./chunk-NLKYL456.js";import"./chunk-7KQVTMRC.js";import"./chunk-UFD2MUZI.js";import"./chunk-CEM2RCMY.js";import"./chunk-SKXNZFRN.js";import"./chunk-7X4DXTSI.js";import"./chunk-LURPYTXM.js";import"./chunk-OADPFYBO.js";import"./chunk-CIEH2J25.js";import"./chunk-64LKONIY.js";import"./chunk-VVJ6BK3Q.js";import"./chunk-FUVVPSUI.js";import"./chunk-NKIUEXOA.js";import"./chunk-EP23RRSK.js";import"./chunk-4YDY4B6P.js";import"./chunk-CGFS6AE4.js";import"./chunk-DDT324RS.js";import"./chunk-2TQXMDYZ.js";import"./chunk-RNMISV22.js";import"./chunk-A267SEFJ.js";import{a as oo}from"./chunk-VR7OPIR6.js";import"./chunk-PTDCFHZ4.js";import"./chunk-CXSOAP4V.js";import"./chunk-RT3YHZTS.js";import"./chunk-HBWTVKRO.js";import"./chunk-4ZGOJDNI.js";import"./chunk-ZPQXBUKT.js";import"./chunk-35Y7QMWN.js";import"./chunk-VIT5MDY4.js";import"./chunk-RH6WPBEZ.js";import"./chunk-CDNJY7Z3.js";import{a as $}from"./chunk-DBWXHHZT.js";import"./chunk-VVKAQ7K5.js";import{g as J}from"./chunk-7JSJY3SQ.js";import"./chunk-NWY3GPDX.js";import"./chunk-6JEFG7DQ.js";import"./chunk-B6YXJZUF.js";import"./chunk-4I2JSOYJ.js";import"./chunk-GTN3RCGH.js";import"./chunk-3VKPY2QL.js";import"./chunk-AOSRFQ4E.js";import"./chunk-ULL77AIR.js";import"./chunk-PJYSMRRW.js";import"./chunk-GKQQDLVP.js";import"./chunk-7YKP5374.js";import"./chunk-KGG7DXMS.js";import"./chunk-FGIHS4ZF.js";import"./chunk-U65R4NF3.js";import"./chunk-OTUJWRS5.js";import"./chunk-WIW5JVRP.js";import"./chunk-7CXUJS4C.js";import"./chunk-ULXZERAJ.js";import"./chunk-PJ5X5CUU.js";import"./chunk-TSVRDRPO.js";import"./chunk-PPTAKQQT.js";import"./chunk-IFQDHP3Z.js";import"./chunk-DA5RJYYW.js";import"./chunk-HUC3JPS2.js";import"./chunk-MYNDXPHU.js";import"./chunk-ZTIVM5ML.js";import"./chunk-2E2OBQTS.js";import"./chunk-VICEBZ4G.js";import"./chunk-WO6OHGU2.js";import"./chunk-3S4BGA37.js";import"./chunk-POP3LIKS.js";import"./chunk-PMRTKWFS.js";import"./chunk-G44PPNNQ.js";import"./chunk-K2BSCLBF.js";import"./chunk-PZY7HRHV.js";import"./chunk-Z2L2F5M5.js";import"./chunk-IPLOJJIA.js";import"./chunk-RLPRDJ34.js";import"./chunk-2ASICJQL.js";import"./chunk-TQWSBAXG.js";import"./chunk-6JVCYB7O.js";import"./chunk-GR42TVIZ.js";import"./chunk-KRZDZO5T.js";import"./chunk-YFIZ3ORT.js";import"./chunk-SBVZ36X2.js";import"./chunk-UHBKR4PD.js";import"./chunk-53XCJAJK.js";import"./chunk-QMSSDBOR.js";import"./chunk-5RCFYEZ6.js";import{b as q,c as W,d as X}from"./chunk-RQRUTXST.js";import{b as L,d as E}from"./chunk-RIGKKYH2.js";import"./chunk-5QHVWW7O.js";import"./chunk-5PDHABUQ.js";import"./chunk-NPQMAAOH.js";import"./chunk-B3SXRDEQ.js";import"./chunk-A5XY2FFW.js";import"./chunk-7HRNNJBX.js";import"./chunk-F6UVHIJV.js";import"./chunk-ZLJJZYPU.js";import"./chunk-5TNLDTW5.js";import"./chunk-36PYO4PJ.js";import"./chunk-34JXWTF5.js";import"./chunk-JSOLAK4X.js";import"./chunk-R7LZSAVU.js";import"./chunk-LTLRDXME.js";import"./chunk-RMI6BAM3.js";import"./chunk-AADHEW4J.js";import"./chunk-OK4242CI.js";import"./chunk-6MVL4I6V.js";import"./chunk-E7MGN3V4.js";import"./chunk-YGIVEMKT.js";import"./chunk-T4RFDN7D.js";import"./chunk-NQAVUB4Q.js";import"./chunk-IEGAVAV7.js";import"./chunk-V4P2E4SN.js";import"./chunk-DYL77QBO.js";import"./chunk-5A3RJQCM.js";import"./chunk-LQBCLW7R.js";import"./chunk-MN3UHDTX.js";import"./chunk-IJW6HFV5.js";import"./chunk-N2MMFEEK.js";import"./chunk-MKDQBVRZ.js";import"./chunk-DA2FCNEZ.js";import"./chunk-TLZRRG7J.js";import"./chunk-ZFFAX2YS.js";import"./chunk-7UDMBSMI.js";import"./chunk-7C7MBE2C.js";import"./chunk-KJWX5V23.js";import"./chunk-KDVER5QK.js";import{a as Z}from"./chunk-5CHE7P4E.js";import"./chunk-PD44C7EF.js";import"./chunk-6K6UF6OE.js";import"./chunk-OKXHAJNT.js";import"./chunk-CBHKW7LL.js";import"./chunk-67F2WFQO.js";import"./chunk-QYDRYMWS.js";import{g as Q}from"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3C5KK.js";import"./chunk-XZE3L7K7.js";import"./chunk-Y5K5NJ6U.js";import"./chunk-UR7XESQE.js";import"./chunk-JABAEAEN.js";import"./chunk-VY2VK2OT.js";import"./chunk-Q7FGM7BT.js";import"./chunk-TKE74ERX.js";import"./chunk-MONRGJFN.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import"./chunk-IK72BO4I.js";import"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import"./chunk-XP3TNE3R.js";import{jc as R}from"./chunk-QRHYK2TW.js";import"./chunk-PODZSVO7.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import{a as Y}from"./chunk-532YJKK4.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-2FDQIA7D.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import{Z as K,c as U}from"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import"./chunk-62ZAND24.js";import"./chunk-SIITVWZR.js";import{Gd as V,Pd as ko,_d as G,oe as bo}from"./chunk-QHXUL3YM.js";import{H as Ao,y as H}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{H as F}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import{a as Po}from"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-NNUMMJQC.js";import"./chunk-Z3JMRMVO.js";import"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{fa as N}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as x}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-D2YP6KBJ.js";import{a as B}from"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-S5ACFHVS.js";import"./chunk-SZH3JGND.js";import"./chunk-FQLRWF7X.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-VYKQ62AB.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-KTFU3F6C.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as n,o as i,q as p}from"./chunk-SHG7TIBL.js";i();p();var y=n(x()),To=n(R()),yo=n(Y()),O=n(B());i();p();var v=n(x()),po=n(R());Po();i();p();var so=n(x()),S=n(R()),ao=n(B());var io=()=>{let m=(0,S.useDispatch)(),e=(0,S.useSelector)(L);return(0,so.useCallback)((o,s,r)=>{let a=(0,ao.cloneDeep)(e||[]),t=a.find(c=>c.approvalAddress===s&&c.chainId===Number(r));if(t){let c=t?.tokens?.map(l=>l.tokenAddress===o?{...l,status:2}:l)||[];t.tokens=c,m(E(a))}},[e])};var Io=({unapproved:m,unapprovedRequests:e})=>{let{chainId:o,approvalAddress:s,tokenAddress:r,coinId:a,txParams:t}=m,c=Q(),l=Number(o)===Number(195),f=(0,po.useDispatch)(),C=io(),w=(0,v.useCallback)(()=>{if(e.length===1){f(X({type:"approve"}));return}let A=e.filter(g=>!(r===g.tokenAddress&&Number(o)===Number(g.chainId)));f(W({type:"approve",data:A}))},[o,f,r,e]),k=async({preExecInfo:A})=>{let g={},P=A?.approveInfoList?.[0];return P?.spender?.approvalType===K&&(g.approvalAddress=P?.spender?.address),{publishParams:g}},u=async()=>{C(r,s,o),w()},b=()=>{w()},[,I]=J(a,{});return l?v.default.createElement(ro,{walletId:c,txParams:t,onConfirm:u,onCancel:b}):v.default.createElement(D,{walletId:c,chainId:o,coinId:I?.coinId,txParams:t,onBeforePublish:k,onCancel:b,onConfirm:u})},mo=(0,v.memo)(Io);i();p();var T=n(x()),xo=n(Y());Ao();i();p();var co=n(x()),_=n(R()),fo=n(B());var uo=()=>{let m=(0,_.useDispatch)(),e=(0,_.useSelector)(L);return(0,co.useCallback)(o=>{let s=(0,fo.cloneDeep)(e||[]),r=s.find(a=>a.type===1);if(r?.chainList?.length){let a=(r?.chainList||[]).map(t=>Number(t.chainIndex)===Number(o)?{...t,status:5}:t);r.chainList=a,m(E(s))}},[e])};bo();ko();i();p();var lo=n(x());function Lo({chainId:m,fromAddress:e,inputData:o,upgradeAddress:s}){return(0,lo.useMemo)(()=>({from:e,to:e,value:"0x0",data:o,authorizationList:[{chainId:m,address:s}]}),[e,o,m,s])}var go=Lo;i();p();var vo={loading:"_loading_6vxdb_1"};function Eo({walletId:m,baseCoinId:e,upgradeAddress:o,inputData:s,needConfirmCallback:r,isUpgrade:a,chainIndex:t}){let c=(0,xo.useHistory)(),l=uo(),{coin:f}=$(e),C=Z(f.localType,m),k=V({localType:f.localType})?.realChainIdHex,{gasLimitParams:u}=to({isUpgrade7702:a,fromAddress:C,localType:f.localType,inputData:s,upgradeAddress:o}),b=go({chainId:k,upgradeAddress:o,inputData:s,fromAddress:C}),I=(0,T.useMemo)(()=>u?.stateOverrideList?{stateOverrideList:u.stateOverrideList}:{},[u]),A=d=>{let{authorizationList:j,nonce:M,...Co}=d;return{...Co,nonce:M,authorizationList:[{chainId:k,address:o,nonce:eo(M+1),fromAddress:C,walletId:m,localType:f.localType}]}},g=()=>{let d={txType:a?U.UPGRADE_7702:U.REVOKE_7702,txSource:G.NORMAL};return a&&(d.approvalAddress=o),{publishParams:d}},P=()=>{c.goBack()},z=async({error:d})=>{if(d){let j=d.msg||d.message||d.originalError?.message||H("wallet_extension_general_error_extension_code_error");F.error({title:j})}else r&&l(t),P()};return u?T.default.createElement(D,{chainId:f.chainId,walletId:m,interactAddress:a?o:!1,gasLimitParams:u,txParams:b,txToastCheckParams:I,preExecParams:I,showDappInfo:!1,coinId:e,onBeforeSign:A,onBeforePublish:g,onConfirm:z,onCancel:P}):T.default.createElement("div",{className:vo.loading},T.default.createElement(N.Circle,{size:N.SIZE.lg}))}var ho=Eo;var Ro=()=>{let e=oo().get("type"),o=(0,To.useSelector)(q),s=(0,yo.useHistory)(),r=o[e],t={upgrade7702:ho,approve:mo}[e]||null,c=(0,O.isEmpty)(r)||!t;return(0,y.useEffect)(()=>{c&&s.goBack()},[c]),(0,O.isEmpty)(r)?null:y.default.createElement(no,{unapprovedRequests:r,ConfirmComp:t})},_e=(0,y.memo)(Ro);export{_e as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=TxConfirmEntry-AEBEXL5R.js.map
