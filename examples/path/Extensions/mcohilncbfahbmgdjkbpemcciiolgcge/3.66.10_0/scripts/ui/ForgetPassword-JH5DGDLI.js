import{a as L}from"./chunk-OAW4CIA6.js";import{a as M}from"./chunk-VR7OPIR6.js";import{b as x}from"./chunk-LSHLVVX4.js";import{g as v}from"./chunk-R7LZSAVU.js";import"./chunk-V4P2E4SN.js";import"./chunk-DYL77QBO.js";import{b as P}from"./chunk-QYDRYMWS.js";import{n as Y}from"./chunk-AZNX5TUC.js";import"./chunk-JU4HVVJ2.js";import"./chunk-NKWTNXAD.js";import"./chunk-XZE3L7K7.js";import{b as G}from"./chunk-OS3ZP336.js";import"./chunk-WJ3PVDDF.js";import"./chunk-OVC6PVQJ.js";import{a as I}from"./chunk-QTKQMZ5K.js";import{a as z}from"./chunk-Y5K5NJ6U.js";import"./chunk-JABAEAEN.js";import"./chunk-VY2VK2OT.js";import{a as D}from"./chunk-Q7FGM7BT.js";import"./chunk-TKE74ERX.js";import"./chunk-RYT7JDQV.js";import"./chunk-CZZFLX67.js";import{i as O,j as W}from"./chunk-IK72BO4I.js";import{A as B,pa as A}from"./chunk-QMENNGDH.js";import"./chunk-KANXVZ35.js";import"./chunk-WGVA2GGS.js";import"./chunk-APGT6UVG.js";import"./chunk-V34MB2FG.js";import{o as S}from"./chunk-XP3TNE3R.js";import{jc as re}from"./chunk-QRHYK2TW.js";import"./chunk-QO4JMOUQ.js";import"./chunk-7N263AYH.js";import"./chunk-532YJKK4.js";import"./chunk-Q4YLD24R.js";import"./chunk-K5ZGZULR.js";import"./chunk-M6J3OOFH.js";import"./chunk-ZDOH3CEJ.js";import{c as N,e as oe}from"./chunk-AS4Z3FNS.js";import"./chunk-KW2XDOEY.js";import"./chunk-L524QXHA.js";import"./chunk-ZFTHPYIG.js";import"./chunk-N6DAHVYW.js";import"./chunk-YCFHPQAJ.js";import"./chunk-4EIUGT5A.js";import"./chunk-7FRDKLRJ.js";import"./chunk-P7VKC6DQ.js";import"./chunk-D7FW64MN.js";import"./chunk-6ZZOO2CD.js";import"./chunk-JPTLCZ2Y.js";import"./chunk-COS5CL3D.js";import"./chunk-VL2YBSHB.js";import{d as F}from"./chunk-AVC4ODUV.js";import"./chunk-RJ3YTAFM.js";import"./chunk-OCAFSBNZ.js";import"./chunk-62ZAND24.js";import"./chunk-SIITVWZR.js";import"./chunk-QHXUL3YM.js";import{H as se,y as o}from"./chunk-MOTAOJVG.js";import"./chunk-FYTT4U7M.js";import{G as C,o as E,q as T,r as b}from"./chunk-XR4SQWL7.js";import"./chunk-NCGYY6X6.js";import"./chunk-LMBQGBLO.js";import"./chunk-QWIXUG3W.js";import"./chunk-Z3JMRMVO.js";import"./chunk-CYTB2B6Q.js";import"./chunk-CAFKDDXA.js";import"./chunk-CTOTVO2J.js";import"./chunk-T2ETCKOI.js";import"./chunk-6P63CWAB.js";import"./chunk-RJPAKY6O.js";import"./chunk-ZCK5UHUS.js";import"./chunk-ANUO2YYF.js";import{ka as t}from"./chunk-6M3PZK2X.js";import"./chunk-TPIKSUHH.js";import{b as te}from"./chunk-OL67KS7C.js";import"./chunk-TVBFJITU.js";import"./chunk-2EEW2VNF.js";import"./chunk-TLR6EQX6.js";import"./chunk-NLMDM2WF.js";import"./chunk-BJAL3374.js";import"./chunk-KDUIZVRC.js";import"./chunk-263G66VF.js";import"./chunk-SUANL2KV.js";import"./chunk-2OVRHWIW.js";import"./chunk-32ZJ4F2J.js";import"./chunk-WIP2REO7.js";import"./chunk-JBHIVXO6.js";import"./chunk-LECESFCD.js";import"./chunk-NW4HKKTQ.js";import"./chunk-EBMX24YQ.js";import"./chunk-3C4MEE67.js";import"./chunk-R4BHRBC7.js";import{f as g,o as n,q as c}from"./chunk-SHG7TIBL.js";n();c();var e=g(te()),m=g(S());se();n();c();n();c();var Z=g(re()),K=g(S());var ie=()=>{let s=(0,Z.useDispatch)();return(0,K.useMemoizedFn)(async()=>{await s(I()),await s(G()),await s(P("isRpcMode",!1)),await s(O(1)),await s(W(void 0)),await s(v.setSelectAccounts([]))})},U=ie;oe();n();c();var V=()=>["forgotpwd_mid_item_desc1","forgotpwd_mid_item_desc2","forgotpwd_mid_item_desc3"],$=()=>3;var q="RESET",ae="reset-password",le="verify-tg-password",ne=s=>{let{hasSyncEnabled:r,isSyncSupported:i}=L();return s&&i&&!r||r},ce=()=>{let[s,r]=e.default.useState([]);return{checkeds:s,setCheckeds:r,onToggleCheck:l=>{s.includes(l)?r(a=>a.filter(d=>d!==l)):r(a=>[...a,l])}}},de=({history:s,verifyTGPassword:r})=>{let i=U(),[l,{set:a}]=(0,m.useBoolean)(!1),d=(0,m.useMemoizedFn)(async()=>{a(!0);try{r?await N().resetCloudWallet():await i(),C.success({placement:C.DIRECTION.top,title:o("walletsecurity_top_toast_notification")}),s.push(B)}finally{a(!1)}},[]);return{loading:l,onConfirm:d}},Ke=({history:s})=>{let r=M(),i=Y(),[l,{toggle:a}]=(0,m.useBoolean)(!1),{checkeds:d,onToggleCheck:Q}=ce(),[u,j]=e.default.useState(""),{isMoonCat:H,loadingMoonCatData:J}=x(),p=r.get("from")===ae,w=r.get("from")===le,h=ne(w),{loading:X,onConfirm:k}=de({history:s,verifyTGPassword:w}),R=(0,m.useMemoizedFn)(()=>{i?.hasBackup?s.go(-1):s.push(`${A}?keyringId=${i?.keyringId}`)},[i]),ee=F({dark:"/cdn/assets/imgs/245/A35F2C4117418EF8.png",light:"/cdn/assets/imgs/245/2DDC8ABECB4799BB.png"});return e.default.createElement("div",{className:"forget-password"},e.default.createElement(z,{closeable:!1,title:o(p?"securityreset_header_text_reset":"forgotpwd_header_title_forget_password")}),e.default.createElement("div",{className:"forget-password__container"},e.default.createElement("img",{className:"forget-password__icon",src:ee,alt:""}),!!p&&e.default.createElement("h1",{className:"forget-password__title"},o("securityreset_mid_title_risk_warning")),p?e.default.createElement("div",{className:"forget-password__desc"},o("securityreset_mid_subtitle_note")):e.default.createElement("ul",{className:"forget-password__tips"},V(h).map((_,f)=>e.default.createElement("li",{key:f,onClick:()=>{Q(f)},className:"forget-password__tip"},e.default.createElement(b,{className:"forget-password__tip__icon",checked:d.includes(f)}),o(_)))),e.default.createElement(D.FooterActions,null,p?e.default.createElement(e.default.Fragment,null,e.default.createElement(t,{size:t.SIZE.lg,category:t.CATEGORY.outline,type:t.TYPE.primary,onClick:a},o("securityreset_header_text_reset")),e.default.createElement(t,{onClick:R,size:t.SIZE.lg,type:t.TYPE.highlight,category:t.CATEGORY.fill,disabled:!i?.hasBackup&&(H||J)},o(i?.hasBackup?"securityreset_mid_btn_cancel":"securityreset_footer_btn_back"))):e.default.createElement(t,{block:!0,size:t.SIZE.lg,onClick:a,type:t.TYPE.highlight,category:t.CATEGORY.fill,className:"forget-password__action",disabled:d.length!==$(h)},o("forgotpwd_footer_btn_reset_password")))),e.default.createElement(E,{hideCloseBtn:!0,noContentPadding:!0,visible:l},l&&e.default.createElement("div",{className:"reset-wallet"},e.default.createElement("h1",{className:"reset-wallet__title"},o("securityreset_mid_title_reset_password")),e.default.createElement("h2",{className:"reset-wallet__label"},o("securityreset_mid_text_enter_reset",{text:e.default.createElement("span",{key:"reset",style:{color:"var(--okd-color-semantic-negative)"}},o("securityreset_mid_placeholder_reset"))})),e.default.createElement(T,{size:"xl",cleanable:!0,value:u,autoFocus:!0,onKeyDown:_=>{_.keyCode===13&&u===q&&k()},placeholder:o("securityreset_mid_placeholder_reset"),onChange:({target:{value:_}})=>{j(_)}}),e.default.createElement("div",{className:"reset-wallet__actions"},e.default.createElement(t,{size:t.SIZE.lg,type:t.TYPE.primary,className:"reset-wallet__action reset-wallet__cancel",category:t.CATEGORY.outline,onClick:a},o("securityreset_mid_btn_cancel")),e.default.createElement(t,{size:t.SIZE.lg,type:t.TYPE.red,category:t.CATEGORY.fill,className:"reset-wallet__action",disabled:u!==q,loading:X,onClick:k},o("securityreset_mid_btn_confirm"))))))};export{Ke as default};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=ForgetPassword-JH5DGDLI.js.map
