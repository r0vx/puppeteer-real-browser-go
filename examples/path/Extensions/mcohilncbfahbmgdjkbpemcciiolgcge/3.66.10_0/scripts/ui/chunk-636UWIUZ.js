import{b as R}from"./chunk-2FDQIA7D.js";import{Ab as f,Jb as _,Ma as y,Na as q,Ra as n,Sa as l,na as d,ra as b}from"./chunk-QHXUL3YM.js";import{b as A}from"./chunk-OL67KS7C.js";import{f as P,o as a,q as i}from"./chunk-SHG7TIBL.js";a();i();var L={CAN:"1",CANT:"0"},S={EVM:"0"},U={init:"INIT",loading:"LOADING",success:"SUCCESS",failed:"FAILED"},D=(c,o)=>c?.uniqueId===o?.uniqueId;a();i();var u=P(A());b();q();l();a();i();l();async function O(c){try{return(await(await Promise.resolve(n.rpc_networks)).query(c)||[]).sort((w,m)=>w.order-m.order)}catch{return[]}}async function I(c){try{return await(await Promise.resolve(n.rpc_networks)).delete(c),!0}catch{return!1}}_();var C=c=>{let o={...c};return o?.chainId.startsWith("0x")||(o.chainId=`0x${R(o.chainId)}`),o};var Y=()=>{let[c,o]=(0,u.useState)("loading"),[N,w]=(0,u.useState)({rpcNetworks:[],customNets:[],defaultNets:[]}),m=async e=>{let t=e,s=Number.parseInt(t.chainId,16);try{let{data:r}=await f(y.getRpcNetworkByChainId,{chainIds:[s]});if(Array.isArray(r)){let p=r.find(E=>E.chainId===s);t.faucetUrl=p?.faucets?.[0]||""}}catch{t.faucetUrl=""}return t},k=e=>{let t=e.filter(r=>r.isCustom),s=e.filter(r=>!r.isCustom).sort((r,p)=>r.order-p.order);return{rpcNetworks:[...s,...t],customNets:t,defaultNets:s}},T=async e=>{try{let t=await Promise.resolve(n.rpc_networks),s={...e,uniqueId:e.uniqueId||d(),type:S.EVM,isCustom:!0},r=await m(C(s));return await t.set(r),r}catch{return{}}},x=async e=>{try{let t=await Promise.resolve(n.rpc_networks),s=await m(C(e));return await t.get(e.uniqueId)&&await t.set(s),s}catch{return{}}},g=async e=>{try{let s=await(await Promise.resolve(n.rpc_networks)).query(e);w(k(s)),o("success")}catch{o("failed")}},v=async e=>{try{await I(e.uniqueId)}catch(t){console.log(t)}};return(0,u.useEffect)(()=>{let e;return(async()=>(await g({}),e=(await Promise.resolve(n.rpc_networks)).liveQuery().subscribe((s,r)=>{if(!r){let p=k(s);w(p),o("success")}})))(),()=>{e&&e?.unsubscribe()}},[]),{addRpcNetwork:T,updateRpcNetwork:x,deleteRpcNetwork:v,status:c,...N}};export{L as a,U as b,D as c,O as d,Y as e};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-636UWIUZ.js.map
