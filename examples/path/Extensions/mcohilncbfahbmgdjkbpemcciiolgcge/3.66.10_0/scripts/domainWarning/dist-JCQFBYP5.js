import{a as ti}from"./chunk-SBVZ36X2.js";import{a as Xi}from"./chunk-OENWT6RF.js";import{a as or}from"./chunk-JSO46KZ2.js";import{a as yr,b as Qe,c as Yi,d as Qi,e as Xe}from"./chunk-DU3CHHSK.js";import{a as mr}from"./chunk-NNKJZQP6.js";import{a as $e}from"./chunk-5NDGP23A.js";import{A as ji,C as Wi,H as Ji,I as Gi,L as Ye,d as Je,e as Di,f as Ge}from"./chunk-WLCPEPD7.js";import{c as O,o as A,p as y,q as S}from"./chunk-SHG7TIBL.js";var Gt=O((ri,re)=>{A();S();(function(r,a){"use strict";function o(c,t){if(!c)throw new Error(t||"Assertion failed")}function v(c,t){c.super_=t;var i=function(){};i.prototype=t.prototype,c.prototype=new i,c.prototype.constructor=c}function f(c,t,i){if(f.isBN(c))return c;this.negative=0,this.words=null,this.length=0,this.red=null,c!==null&&((t==="le"||t==="be")&&(i=t,t=10),this._init(c||0,t||10,i||"be"))}typeof r=="object"?r.exports=f:a.BN=f,f.BN=f,f.wordSize=26;var m;try{m=Je().Buffer}catch{}f.isBN=function(t){return t instanceof f?!0:t!==null&&typeof t=="object"&&t.constructor.wordSize===f.wordSize&&Array.isArray(t.words)},f.max=function(t,i){return t.cmp(i)>0?t:i},f.min=function(t,i){return t.cmp(i)<0?t:i},f.prototype._init=function(t,i,n){if(typeof t=="number")return this._initNumber(t,i,n);if(typeof t=="object")return this._initArray(t,i,n);i==="hex"&&(i=16),o(i===(i|0)&&i>=2&&i<=36),t=t.toString().replace(/\s+/g,"");var s=0;t[0]==="-"&&s++,i===16?this._parseHex(t,s):this._parseBase(t,i,s),t[0]==="-"&&(this.negative=1),this._strip(),n==="le"&&this._initArray(this.toArray(),i,n)},f.prototype._initNumber=function(t,i,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[t&67108863],this.length=1):t<4503599627370496?(this.words=[t&67108863,t/67108864&67108863],this.length=2):(o(t<9007199254740992),this.words=[t&67108863,t/67108864&67108863,1],this.length=3),n==="le"&&this._initArray(this.toArray(),i,n)},f.prototype._initArray=function(t,i,n){if(o(typeof t.length=="number"),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var s=0;s<this.length;s++)this.words[s]=0;var h,d,p=0;if(n==="be")for(s=t.length-1,h=0;s>=0;s-=3)d=t[s]|t[s-1]<<8|t[s-2]<<16,this.words[h]|=d<<p&67108863,this.words[h+1]=d>>>26-p&67108863,p+=24,p>=26&&(p-=26,h++);else if(n==="le")for(s=0,h=0;s<t.length;s+=3)d=t[s]|t[s+1]<<8|t[s+2]<<16,this.words[h]|=d<<p&67108863,this.words[h+1]=d>>>26-p&67108863,p+=24,p>=26&&(p-=26,h++);return this._strip()};function w(c,t,i){for(var n=0,s=Math.min(c.length,i),h=0,d=t;d<s;d++){var p=c.charCodeAt(d)-48;n<<=4;var u;p>=49&&p<=54?u=p-49+10:p>=17&&p<=22?u=p-17+10:u=p,n|=u,h|=u}return o(!(h&240),"Invalid character in "+c),n}f.prototype._parseHex=function(t,i){this.length=Math.ceil((t.length-i)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var s,h,d=0;for(n=t.length-6,s=0;n>=i;n-=6)h=w(t,n,n+6),this.words[s]|=h<<d&67108863,this.words[s+1]|=h>>>26-d&4194303,d+=24,d>=26&&(d-=26,s++);n+6!==i&&(h=w(t,i,n+6),this.words[s]|=h<<d&67108863,this.words[s+1]|=h>>>26-d&4194303),this._strip()};function K(c,t,i,n){for(var s=0,h=0,d=Math.min(c.length,i),p=t;p<d;p++){var u=c.charCodeAt(p)-48;s*=n,u>=49?h=u-49+10:u>=17?h=u-17+10:h=u,o(u>=0&&h<n,"Invalid character"),s+=h}return s}f.prototype._parseBase=function(t,i,n){this.words=[0],this.length=1;for(var s=0,h=1;h<=67108863;h*=i)s++;s--,h=h/i|0;for(var d=t.length-n,p=d%s,u=Math.min(d,d-p)+n,e=0,l=n;l<u;l+=s)e=K(t,l,l+s,i),this.imuln(h),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e);if(p!==0){var M=1;for(e=K(t,l,t.length,i),l=0;l<p;l++)M*=i;this.imuln(M),this.words[0]+e<67108864?this.words[0]+=e:this._iaddn(e)}},f.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red};function x(c,t){c.words=t.words,c.length=t.length,c.negative=t.negative,c.red=t.red}if(f.prototype._move=function(t){x(t,this)},f.prototype.clone=function(){var t=new f(null);return this.copy(t),t},f.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},f.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},f.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{f.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{f.prototype.inspect=g}else f.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],H=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],qt=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];f.prototype.toString=function(t,i){t=t||10,i=i|0||1;var n;if(t===16||t==="hex"){n="";for(var s=0,h=0,d=0;d<this.length;d++){var p=this.words[d],u=((p<<s|h)&16777215).toString(16);h=p>>>24-s&16777215,h!==0||d!==this.length-1?n=k[6-u.length]+u+n:n=u+n,s+=2,s>=26&&(s-=26,d--)}for(h!==0&&(n=h.toString(16)+n);n.length%i!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}if(t===(t|0)&&t>=2&&t<=36){var e=H[t],l=qt[t];n="";var M=this.clone();for(M.negative=0;!M.isZero();){var b=M.modrn(l).toString(t);M=M.idivn(l),M.isZero()?n=b+n:n=k[e-b.length]+b+n}for(this.isZero()&&(n="0"+n);n.length%i!==0;)n="0"+n;return this.negative!==0&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},f.prototype.toNumber=function(){var t=this.words[0];return this.length===2?t+=this.words[1]*67108864:this.length===3&&this.words[2]===1?t+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-t:t},f.prototype.toJSON=function(){return this.toString(16,2)},m&&(f.prototype.toBuffer=function(t,i){return this.toArrayLike(m,t,i)}),f.prototype.toArray=function(t,i){return this.toArrayLike(Array,t,i)};var zt=function(t,i){return t.allocUnsafe?t.allocUnsafe(i):new t(i)};f.prototype.toArrayLike=function(t,i,n){this._strip();var s=this.byteLength(),h=n||Math.max(1,s);o(s<=h,"byte array longer than desired length"),o(h>0,"Requested array length <= 0");var d=zt(t,h),p=i==="le"?"LE":"BE";return this["_toArrayLike"+p](d,s),d},f.prototype._toArrayLikeLE=function(t,i){for(var n=0,s=0,h=0,d=0;h<this.length;h++){var p=this.words[h]<<d|s;t[n++]=p&255,n<t.length&&(t[n++]=p>>8&255),n<t.length&&(t[n++]=p>>16&255),d===6?(n<t.length&&(t[n++]=p>>24&255),s=0,d=0):(s=p>>>24,d+=2)}if(n<t.length)for(t[n++]=s;n<t.length;)t[n++]=0},f.prototype._toArrayLikeBE=function(t,i){for(var n=t.length-1,s=0,h=0,d=0;h<this.length;h++){var p=this.words[h]<<d|s;t[n--]=p&255,n>=0&&(t[n--]=p>>8&255),n>=0&&(t[n--]=p>>16&255),d===6?(n>=0&&(t[n--]=p>>24&255),s=0,d=0):(s=p>>>24,d+=2)}if(n>=0)for(t[n--]=s;n>=0;)t[n--]=0},Math.clz32?f.prototype._countBits=function(t){return 32-Math.clz32(t)}:f.prototype._countBits=function(t){var i=t,n=0;return i>=4096&&(n+=13,i>>>=13),i>=64&&(n+=7,i>>>=7),i>=8&&(n+=4,i>>>=4),i>=2&&(n+=2,i>>>=2),n+i},f.prototype._zeroBits=function(t){if(t===0)return 26;var i=t,n=0;return(i&8191)===0&&(n+=13,i>>>=13),(i&127)===0&&(n+=7,i>>>=7),(i&15)===0&&(n+=4,i>>>=4),(i&3)===0&&(n+=2,i>>>=2),(i&1)===0&&n++,n},f.prototype.bitLength=function(){var t=this.words[this.length-1],i=this._countBits(t);return(this.length-1)*26+i};function E(c){for(var t=new Array(c.bitLength()),i=0;i<t.length;i++){var n=i/26|0,s=i%26;t[i]=c.words[n]>>>s&1}return t}f.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var n=this._zeroBits(this.words[i]);if(t+=n,n!==26)break}return t},f.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},f.prototype.toTwos=function(t){return this.negative!==0?this.abs().inotn(t).iaddn(1):this.clone()},f.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},f.prototype.isNeg=function(){return this.negative!==0},f.prototype.neg=function(){return this.clone().ineg()},f.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},f.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this._strip()},f.prototype.ior=function(t){return o((this.negative|t.negative)===0),this.iuor(t)},f.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},f.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},f.prototype.iuand=function(t){var i;this.length>t.length?i=t:i=this;for(var n=0;n<i.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=i.length,this._strip()},f.prototype.iand=function(t){return o((this.negative|t.negative)===0),this.iuand(t)},f.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},f.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},f.prototype.iuxor=function(t){var i,n;this.length>t.length?(i=this,n=t):(i=t,n=this);for(var s=0;s<n.length;s++)this.words[s]=i.words[s]^n.words[s];if(this!==i)for(;s<i.length;s++)this.words[s]=i.words[s];return this.length=i.length,this._strip()},f.prototype.ixor=function(t){return o((this.negative|t.negative)===0),this.iuxor(t)},f.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},f.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},f.prototype.inotn=function(t){o(typeof t=="number"&&t>=0);var i=Math.ceil(t/26)|0,n=t%26;this._expand(i),n>0&&i--;for(var s=0;s<i;s++)this.words[s]=~this.words[s]&67108863;return n>0&&(this.words[s]=~this.words[s]&67108863>>26-n),this._strip()},f.prototype.notn=function(t){return this.clone().inotn(t)},f.prototype.setn=function(t,i){o(typeof t=="number"&&t>=0);var n=t/26|0,s=t%26;return this._expand(n+1),i?this.words[n]=this.words[n]|1<<s:this.words[n]=this.words[n]&~(1<<s),this._strip()},f.prototype.iadd=function(t){var i;if(this.negative!==0&&t.negative===0)return this.negative=0,i=this.isub(t),this.negative^=1,this._normSign();if(this.negative===0&&t.negative!==0)return t.negative=0,i=this.isub(t),t.negative=1,i._normSign();var n,s;this.length>t.length?(n=this,s=t):(n=t,s=this);for(var h=0,d=0;d<s.length;d++)i=(n.words[d]|0)+(s.words[d]|0)+h,this.words[d]=i&67108863,h=i>>>26;for(;h!==0&&d<n.length;d++)i=(n.words[d]|0)+h,this.words[d]=i&67108863,h=i>>>26;if(this.length=n.length,h!==0)this.words[this.length]=h,this.length++;else if(n!==this)for(;d<n.length;d++)this.words[d]=n.words[d];return this},f.prototype.add=function(t){var i;return t.negative!==0&&this.negative===0?(t.negative=0,i=this.sub(t),t.negative^=1,i):t.negative===0&&this.negative!==0?(this.negative=0,i=t.sub(this),this.negative=1,i):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},f.prototype.isub=function(t){if(t.negative!==0){t.negative=0;var i=this.iadd(t);return t.negative=1,i._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(n===0)return this.negative=0,this.length=1,this.words[0]=0,this;var s,h;n>0?(s=this,h=t):(s=t,h=this);for(var d=0,p=0;p<h.length;p++)i=(s.words[p]|0)-(h.words[p]|0)+d,d=i>>26,this.words[p]=i&67108863;for(;d!==0&&p<s.length;p++)i=(s.words[p]|0)+d,d=i>>26,this.words[p]=i&67108863;if(d===0&&p<s.length&&s!==this)for(;p<s.length;p++)this.words[p]=s.words[p];return this.length=Math.max(this.length,p),s!==this&&(this.negative=1),this._strip()},f.prototype.sub=function(t){return this.clone().isub(t)};function q(c,t,i){i.negative=t.negative^c.negative;var n=c.length+t.length|0;i.length=n,n=n-1|0;var s=c.words[0]|0,h=t.words[0]|0,d=s*h,p=d&67108863,u=d/67108864|0;i.words[0]=p;for(var e=1;e<n;e++){for(var l=u>>>26,M=u&67108863,b=Math.min(e,t.length-1),_=Math.max(0,e-c.length+1);_<=b;_++){var B=e-_|0;s=c.words[B]|0,h=t.words[_]|0,d=s*h+M,l+=d/67108864|0,M=d&67108863}i.words[e]=M|0,u=l|0}return u!==0?i.words[e]=u|0:i.length--,i._strip()}var V=function(t,i,n){var s=t.words,h=i.words,d=n.words,p=0,u,e,l,M=s[0]|0,b=M&8191,_=M>>>13,B=s[1]|0,T=B&8191,R=B>>>13,Ut=s[2]|0,L=Ut&8191,N=Ut>>>13,qe=s[3]|0,D=qe&8191,j=qe>>>13,Ie=s[4]|0,W=Ie&8191,J=Ie>>>13,Pe=s[5]|0,G=Pe&8191,Y=Pe>>>13,Te=s[6]|0,Q=Te&8191,X=Te>>>13,Fe=s[7]|0,$=Fe&8191,tt=Fe>>>13,Re=s[8]|0,rt=Re&8191,et=Re>>>13,Le=s[9]|0,it=Le&8191,nt=Le>>>13,Oe=h[0]|0,ft=Oe&8191,ot=Oe>>>13,Ne=h[1]|0,at=Ne&8191,st=Ne>>>13,He=h[2]|0,ut=He&8191,ht=He>>>13,Ve=h[3]|0,lt=Ve&8191,ct=Ve>>>13,ze=h[4]|0,dt=ze&8191,vt=ze>>>13,Ue=h[5]|0,pt=Ue&8191,mt=Ue>>>13,Ze=h[6]|0,yt=Ze&8191,gt=Ze>>>13,De=h[7]|0,wt=De&8191,Mt=De>>>13,je=h[8]|0,xt=je&8191,bt=je>>>13,We=h[9]|0,_t=We&8191,kt=We>>>13;n.negative=t.negative^i.negative,n.length=19,u=Math.imul(b,ft),e=Math.imul(b,ot),e=e+Math.imul(_,ft)|0,l=Math.imul(_,ot);var Rr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,u=Math.imul(T,ft),e=Math.imul(T,ot),e=e+Math.imul(R,ft)|0,l=Math.imul(R,ot),u=u+Math.imul(b,at)|0,e=e+Math.imul(b,st)|0,e=e+Math.imul(_,at)|0,l=l+Math.imul(_,st)|0;var Lr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,u=Math.imul(L,ft),e=Math.imul(L,ot),e=e+Math.imul(N,ft)|0,l=Math.imul(N,ot),u=u+Math.imul(T,at)|0,e=e+Math.imul(T,st)|0,e=e+Math.imul(R,at)|0,l=l+Math.imul(R,st)|0,u=u+Math.imul(b,ut)|0,e=e+Math.imul(b,ht)|0,e=e+Math.imul(_,ut)|0,l=l+Math.imul(_,ht)|0;var Or=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Or>>>26)|0,Or&=67108863,u=Math.imul(D,ft),e=Math.imul(D,ot),e=e+Math.imul(j,ft)|0,l=Math.imul(j,ot),u=u+Math.imul(L,at)|0,e=e+Math.imul(L,st)|0,e=e+Math.imul(N,at)|0,l=l+Math.imul(N,st)|0,u=u+Math.imul(T,ut)|0,e=e+Math.imul(T,ht)|0,e=e+Math.imul(R,ut)|0,l=l+Math.imul(R,ht)|0,u=u+Math.imul(b,lt)|0,e=e+Math.imul(b,ct)|0,e=e+Math.imul(_,lt)|0,l=l+Math.imul(_,ct)|0;var Nr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,u=Math.imul(W,ft),e=Math.imul(W,ot),e=e+Math.imul(J,ft)|0,l=Math.imul(J,ot),u=u+Math.imul(D,at)|0,e=e+Math.imul(D,st)|0,e=e+Math.imul(j,at)|0,l=l+Math.imul(j,st)|0,u=u+Math.imul(L,ut)|0,e=e+Math.imul(L,ht)|0,e=e+Math.imul(N,ut)|0,l=l+Math.imul(N,ht)|0,u=u+Math.imul(T,lt)|0,e=e+Math.imul(T,ct)|0,e=e+Math.imul(R,lt)|0,l=l+Math.imul(R,ct)|0,u=u+Math.imul(b,dt)|0,e=e+Math.imul(b,vt)|0,e=e+Math.imul(_,dt)|0,l=l+Math.imul(_,vt)|0;var Hr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Hr>>>26)|0,Hr&=67108863,u=Math.imul(G,ft),e=Math.imul(G,ot),e=e+Math.imul(Y,ft)|0,l=Math.imul(Y,ot),u=u+Math.imul(W,at)|0,e=e+Math.imul(W,st)|0,e=e+Math.imul(J,at)|0,l=l+Math.imul(J,st)|0,u=u+Math.imul(D,ut)|0,e=e+Math.imul(D,ht)|0,e=e+Math.imul(j,ut)|0,l=l+Math.imul(j,ht)|0,u=u+Math.imul(L,lt)|0,e=e+Math.imul(L,ct)|0,e=e+Math.imul(N,lt)|0,l=l+Math.imul(N,ct)|0,u=u+Math.imul(T,dt)|0,e=e+Math.imul(T,vt)|0,e=e+Math.imul(R,dt)|0,l=l+Math.imul(R,vt)|0,u=u+Math.imul(b,pt)|0,e=e+Math.imul(b,mt)|0,e=e+Math.imul(_,pt)|0,l=l+Math.imul(_,mt)|0;var Vr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Vr>>>26)|0,Vr&=67108863,u=Math.imul(Q,ft),e=Math.imul(Q,ot),e=e+Math.imul(X,ft)|0,l=Math.imul(X,ot),u=u+Math.imul(G,at)|0,e=e+Math.imul(G,st)|0,e=e+Math.imul(Y,at)|0,l=l+Math.imul(Y,st)|0,u=u+Math.imul(W,ut)|0,e=e+Math.imul(W,ht)|0,e=e+Math.imul(J,ut)|0,l=l+Math.imul(J,ht)|0,u=u+Math.imul(D,lt)|0,e=e+Math.imul(D,ct)|0,e=e+Math.imul(j,lt)|0,l=l+Math.imul(j,ct)|0,u=u+Math.imul(L,dt)|0,e=e+Math.imul(L,vt)|0,e=e+Math.imul(N,dt)|0,l=l+Math.imul(N,vt)|0,u=u+Math.imul(T,pt)|0,e=e+Math.imul(T,mt)|0,e=e+Math.imul(R,pt)|0,l=l+Math.imul(R,mt)|0,u=u+Math.imul(b,yt)|0,e=e+Math.imul(b,gt)|0,e=e+Math.imul(_,yt)|0,l=l+Math.imul(_,gt)|0;var zr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(zr>>>26)|0,zr&=67108863,u=Math.imul($,ft),e=Math.imul($,ot),e=e+Math.imul(tt,ft)|0,l=Math.imul(tt,ot),u=u+Math.imul(Q,at)|0,e=e+Math.imul(Q,st)|0,e=e+Math.imul(X,at)|0,l=l+Math.imul(X,st)|0,u=u+Math.imul(G,ut)|0,e=e+Math.imul(G,ht)|0,e=e+Math.imul(Y,ut)|0,l=l+Math.imul(Y,ht)|0,u=u+Math.imul(W,lt)|0,e=e+Math.imul(W,ct)|0,e=e+Math.imul(J,lt)|0,l=l+Math.imul(J,ct)|0,u=u+Math.imul(D,dt)|0,e=e+Math.imul(D,vt)|0,e=e+Math.imul(j,dt)|0,l=l+Math.imul(j,vt)|0,u=u+Math.imul(L,pt)|0,e=e+Math.imul(L,mt)|0,e=e+Math.imul(N,pt)|0,l=l+Math.imul(N,mt)|0,u=u+Math.imul(T,yt)|0,e=e+Math.imul(T,gt)|0,e=e+Math.imul(R,yt)|0,l=l+Math.imul(R,gt)|0,u=u+Math.imul(b,wt)|0,e=e+Math.imul(b,Mt)|0,e=e+Math.imul(_,wt)|0,l=l+Math.imul(_,Mt)|0;var Ur=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Ur>>>26)|0,Ur&=67108863,u=Math.imul(rt,ft),e=Math.imul(rt,ot),e=e+Math.imul(et,ft)|0,l=Math.imul(et,ot),u=u+Math.imul($,at)|0,e=e+Math.imul($,st)|0,e=e+Math.imul(tt,at)|0,l=l+Math.imul(tt,st)|0,u=u+Math.imul(Q,ut)|0,e=e+Math.imul(Q,ht)|0,e=e+Math.imul(X,ut)|0,l=l+Math.imul(X,ht)|0,u=u+Math.imul(G,lt)|0,e=e+Math.imul(G,ct)|0,e=e+Math.imul(Y,lt)|0,l=l+Math.imul(Y,ct)|0,u=u+Math.imul(W,dt)|0,e=e+Math.imul(W,vt)|0,e=e+Math.imul(J,dt)|0,l=l+Math.imul(J,vt)|0,u=u+Math.imul(D,pt)|0,e=e+Math.imul(D,mt)|0,e=e+Math.imul(j,pt)|0,l=l+Math.imul(j,mt)|0,u=u+Math.imul(L,yt)|0,e=e+Math.imul(L,gt)|0,e=e+Math.imul(N,yt)|0,l=l+Math.imul(N,gt)|0,u=u+Math.imul(T,wt)|0,e=e+Math.imul(T,Mt)|0,e=e+Math.imul(R,wt)|0,l=l+Math.imul(R,Mt)|0,u=u+Math.imul(b,xt)|0,e=e+Math.imul(b,bt)|0,e=e+Math.imul(_,xt)|0,l=l+Math.imul(_,bt)|0;var Zr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Zr>>>26)|0,Zr&=67108863,u=Math.imul(it,ft),e=Math.imul(it,ot),e=e+Math.imul(nt,ft)|0,l=Math.imul(nt,ot),u=u+Math.imul(rt,at)|0,e=e+Math.imul(rt,st)|0,e=e+Math.imul(et,at)|0,l=l+Math.imul(et,st)|0,u=u+Math.imul($,ut)|0,e=e+Math.imul($,ht)|0,e=e+Math.imul(tt,ut)|0,l=l+Math.imul(tt,ht)|0,u=u+Math.imul(Q,lt)|0,e=e+Math.imul(Q,ct)|0,e=e+Math.imul(X,lt)|0,l=l+Math.imul(X,ct)|0,u=u+Math.imul(G,dt)|0,e=e+Math.imul(G,vt)|0,e=e+Math.imul(Y,dt)|0,l=l+Math.imul(Y,vt)|0,u=u+Math.imul(W,pt)|0,e=e+Math.imul(W,mt)|0,e=e+Math.imul(J,pt)|0,l=l+Math.imul(J,mt)|0,u=u+Math.imul(D,yt)|0,e=e+Math.imul(D,gt)|0,e=e+Math.imul(j,yt)|0,l=l+Math.imul(j,gt)|0,u=u+Math.imul(L,wt)|0,e=e+Math.imul(L,Mt)|0,e=e+Math.imul(N,wt)|0,l=l+Math.imul(N,Mt)|0,u=u+Math.imul(T,xt)|0,e=e+Math.imul(T,bt)|0,e=e+Math.imul(R,xt)|0,l=l+Math.imul(R,bt)|0,u=u+Math.imul(b,_t)|0,e=e+Math.imul(b,kt)|0,e=e+Math.imul(_,_t)|0,l=l+Math.imul(_,kt)|0;var Dr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,u=Math.imul(it,at),e=Math.imul(it,st),e=e+Math.imul(nt,at)|0,l=Math.imul(nt,st),u=u+Math.imul(rt,ut)|0,e=e+Math.imul(rt,ht)|0,e=e+Math.imul(et,ut)|0,l=l+Math.imul(et,ht)|0,u=u+Math.imul($,lt)|0,e=e+Math.imul($,ct)|0,e=e+Math.imul(tt,lt)|0,l=l+Math.imul(tt,ct)|0,u=u+Math.imul(Q,dt)|0,e=e+Math.imul(Q,vt)|0,e=e+Math.imul(X,dt)|0,l=l+Math.imul(X,vt)|0,u=u+Math.imul(G,pt)|0,e=e+Math.imul(G,mt)|0,e=e+Math.imul(Y,pt)|0,l=l+Math.imul(Y,mt)|0,u=u+Math.imul(W,yt)|0,e=e+Math.imul(W,gt)|0,e=e+Math.imul(J,yt)|0,l=l+Math.imul(J,gt)|0,u=u+Math.imul(D,wt)|0,e=e+Math.imul(D,Mt)|0,e=e+Math.imul(j,wt)|0,l=l+Math.imul(j,Mt)|0,u=u+Math.imul(L,xt)|0,e=e+Math.imul(L,bt)|0,e=e+Math.imul(N,xt)|0,l=l+Math.imul(N,bt)|0,u=u+Math.imul(T,_t)|0,e=e+Math.imul(T,kt)|0,e=e+Math.imul(R,_t)|0,l=l+Math.imul(R,kt)|0;var jr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(jr>>>26)|0,jr&=67108863,u=Math.imul(it,ut),e=Math.imul(it,ht),e=e+Math.imul(nt,ut)|0,l=Math.imul(nt,ht),u=u+Math.imul(rt,lt)|0,e=e+Math.imul(rt,ct)|0,e=e+Math.imul(et,lt)|0,l=l+Math.imul(et,ct)|0,u=u+Math.imul($,dt)|0,e=e+Math.imul($,vt)|0,e=e+Math.imul(tt,dt)|0,l=l+Math.imul(tt,vt)|0,u=u+Math.imul(Q,pt)|0,e=e+Math.imul(Q,mt)|0,e=e+Math.imul(X,pt)|0,l=l+Math.imul(X,mt)|0,u=u+Math.imul(G,yt)|0,e=e+Math.imul(G,gt)|0,e=e+Math.imul(Y,yt)|0,l=l+Math.imul(Y,gt)|0,u=u+Math.imul(W,wt)|0,e=e+Math.imul(W,Mt)|0,e=e+Math.imul(J,wt)|0,l=l+Math.imul(J,Mt)|0,u=u+Math.imul(D,xt)|0,e=e+Math.imul(D,bt)|0,e=e+Math.imul(j,xt)|0,l=l+Math.imul(j,bt)|0,u=u+Math.imul(L,_t)|0,e=e+Math.imul(L,kt)|0,e=e+Math.imul(N,_t)|0,l=l+Math.imul(N,kt)|0;var Wr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,u=Math.imul(it,lt),e=Math.imul(it,ct),e=e+Math.imul(nt,lt)|0,l=Math.imul(nt,ct),u=u+Math.imul(rt,dt)|0,e=e+Math.imul(rt,vt)|0,e=e+Math.imul(et,dt)|0,l=l+Math.imul(et,vt)|0,u=u+Math.imul($,pt)|0,e=e+Math.imul($,mt)|0,e=e+Math.imul(tt,pt)|0,l=l+Math.imul(tt,mt)|0,u=u+Math.imul(Q,yt)|0,e=e+Math.imul(Q,gt)|0,e=e+Math.imul(X,yt)|0,l=l+Math.imul(X,gt)|0,u=u+Math.imul(G,wt)|0,e=e+Math.imul(G,Mt)|0,e=e+Math.imul(Y,wt)|0,l=l+Math.imul(Y,Mt)|0,u=u+Math.imul(W,xt)|0,e=e+Math.imul(W,bt)|0,e=e+Math.imul(J,xt)|0,l=l+Math.imul(J,bt)|0,u=u+Math.imul(D,_t)|0,e=e+Math.imul(D,kt)|0,e=e+Math.imul(j,_t)|0,l=l+Math.imul(j,kt)|0;var Jr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Jr>>>26)|0,Jr&=67108863,u=Math.imul(it,dt),e=Math.imul(it,vt),e=e+Math.imul(nt,dt)|0,l=Math.imul(nt,vt),u=u+Math.imul(rt,pt)|0,e=e+Math.imul(rt,mt)|0,e=e+Math.imul(et,pt)|0,l=l+Math.imul(et,mt)|0,u=u+Math.imul($,yt)|0,e=e+Math.imul($,gt)|0,e=e+Math.imul(tt,yt)|0,l=l+Math.imul(tt,gt)|0,u=u+Math.imul(Q,wt)|0,e=e+Math.imul(Q,Mt)|0,e=e+Math.imul(X,wt)|0,l=l+Math.imul(X,Mt)|0,u=u+Math.imul(G,xt)|0,e=e+Math.imul(G,bt)|0,e=e+Math.imul(Y,xt)|0,l=l+Math.imul(Y,bt)|0,u=u+Math.imul(W,_t)|0,e=e+Math.imul(W,kt)|0,e=e+Math.imul(J,_t)|0,l=l+Math.imul(J,kt)|0;var Gr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Gr>>>26)|0,Gr&=67108863,u=Math.imul(it,pt),e=Math.imul(it,mt),e=e+Math.imul(nt,pt)|0,l=Math.imul(nt,mt),u=u+Math.imul(rt,yt)|0,e=e+Math.imul(rt,gt)|0,e=e+Math.imul(et,yt)|0,l=l+Math.imul(et,gt)|0,u=u+Math.imul($,wt)|0,e=e+Math.imul($,Mt)|0,e=e+Math.imul(tt,wt)|0,l=l+Math.imul(tt,Mt)|0,u=u+Math.imul(Q,xt)|0,e=e+Math.imul(Q,bt)|0,e=e+Math.imul(X,xt)|0,l=l+Math.imul(X,bt)|0,u=u+Math.imul(G,_t)|0,e=e+Math.imul(G,kt)|0,e=e+Math.imul(Y,_t)|0,l=l+Math.imul(Y,kt)|0;var Yr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Yr>>>26)|0,Yr&=67108863,u=Math.imul(it,yt),e=Math.imul(it,gt),e=e+Math.imul(nt,yt)|0,l=Math.imul(nt,gt),u=u+Math.imul(rt,wt)|0,e=e+Math.imul(rt,Mt)|0,e=e+Math.imul(et,wt)|0,l=l+Math.imul(et,Mt)|0,u=u+Math.imul($,xt)|0,e=e+Math.imul($,bt)|0,e=e+Math.imul(tt,xt)|0,l=l+Math.imul(tt,bt)|0,u=u+Math.imul(Q,_t)|0,e=e+Math.imul(Q,kt)|0,e=e+Math.imul(X,_t)|0,l=l+Math.imul(X,kt)|0;var Qr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,u=Math.imul(it,wt),e=Math.imul(it,Mt),e=e+Math.imul(nt,wt)|0,l=Math.imul(nt,Mt),u=u+Math.imul(rt,xt)|0,e=e+Math.imul(rt,bt)|0,e=e+Math.imul(et,xt)|0,l=l+Math.imul(et,bt)|0,u=u+Math.imul($,_t)|0,e=e+Math.imul($,kt)|0,e=e+Math.imul(tt,_t)|0,l=l+Math.imul(tt,kt)|0;var Xr=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+(Xr>>>26)|0,Xr&=67108863,u=Math.imul(it,xt),e=Math.imul(it,bt),e=e+Math.imul(nt,xt)|0,l=Math.imul(nt,bt),u=u+Math.imul(rt,_t)|0,e=e+Math.imul(rt,kt)|0,e=e+Math.imul(et,_t)|0,l=l+Math.imul(et,kt)|0;var $r=(p+u|0)+((e&8191)<<13)|0;p=(l+(e>>>13)|0)+($r>>>26)|0,$r&=67108863,u=Math.imul(it,_t),e=Math.imul(it,kt),e=e+Math.imul(nt,_t)|0,l=Math.imul(nt,kt);var te=(p+u|0)+((e&8191)<<13)|0;return p=(l+(e>>>13)|0)+(te>>>26)|0,te&=67108863,d[0]=Rr,d[1]=Lr,d[2]=Or,d[3]=Nr,d[4]=Hr,d[5]=Vr,d[6]=zr,d[7]=Ur,d[8]=Zr,d[9]=Dr,d[10]=jr,d[11]=Wr,d[12]=Jr,d[13]=Gr,d[14]=Yr,d[15]=Qr,d[16]=Xr,d[17]=$r,d[18]=te,p!==0&&(d[19]=p,n.length++),n};Math.imul||(V=q);function At(c,t,i){i.negative=t.negative^c.negative,i.length=c.length+t.length;for(var n=0,s=0,h=0;h<i.length-1;h++){var d=s;s=0;for(var p=n&67108863,u=Math.min(h,t.length-1),e=Math.max(0,h-c.length+1);e<=u;e++){var l=h-e,M=c.words[l]|0,b=t.words[e]|0,_=M*b,B=_&67108863;d=d+(_/67108864|0)|0,B=B+p|0,p=B&67108863,d=d+(B>>>26)|0,s+=d>>>26,d&=67108863}i.words[h]=p,n=d,d=s}return n!==0?i.words[h]=n:i.length--,i._strip()}function F(c,t,i){return At(c,t,i)}f.prototype.mulTo=function(t,i){var n,s=this.length+t.length;return this.length===10&&t.length===10?n=V(this,t,i):s<63?n=q(this,t,i):s<1024?n=At(this,t,i):n=F(this,t,i),n};function Et(c,t){this.x=c,this.y=t}Et.prototype.makeRBT=function(t){for(var i=new Array(t),n=f.prototype._countBits(t)-1,s=0;s<t;s++)i[s]=this.revBin(s,n,t);return i},Et.prototype.revBin=function(t,i,n){if(t===0||t===n-1)return t;for(var s=0,h=0;h<i;h++)s|=(t&1)<<i-h-1,t>>=1;return s},Et.prototype.permute=function(t,i,n,s,h,d){for(var p=0;p<d;p++)s[p]=i[t[p]],h[p]=n[t[p]]},Et.prototype.transform=function(t,i,n,s,h,d){this.permute(d,t,i,n,s,h);for(var p=1;p<h;p<<=1)for(var u=p<<1,e=Math.cos(2*Math.PI/u),l=Math.sin(2*Math.PI/u),M=0;M<h;M+=u)for(var b=e,_=l,B=0;B<p;B++){var T=n[M+B],R=s[M+B],Ut=n[M+B+p],L=s[M+B+p],N=b*Ut-_*L;L=b*L+_*Ut,Ut=N,n[M+B]=T+Ut,s[M+B]=R+L,n[M+B+p]=T-Ut,s[M+B+p]=R-L,B!==u&&(N=e*b-l*_,_=e*_+l*b,b=N)}},Et.prototype.guessLen13b=function(t,i){var n=Math.max(i,t)|1,s=n&1,h=0;for(n=n/2|0;n;n=n>>>1)h++;return 1<<h+1+s},Et.prototype.conjugate=function(t,i,n){if(!(n<=1))for(var s=0;s<n/2;s++){var h=t[s];t[s]=t[n-s-1],t[n-s-1]=h,h=i[s],i[s]=-i[n-s-1],i[n-s-1]=-h}},Et.prototype.normalize13b=function(t,i){for(var n=0,s=0;s<i/2;s++){var h=Math.round(t[2*s+1]/i)*8192+Math.round(t[2*s]/i)+n;t[s]=h&67108863,h<67108864?n=0:n=h/67108864|0}return t},Et.prototype.convert13b=function(t,i,n,s){for(var h=0,d=0;d<i;d++)h=h+(t[d]|0),n[2*d]=h&8191,h=h>>>13,n[2*d+1]=h&8191,h=h>>>13;for(d=2*i;d<s;++d)n[d]=0;o(h===0),o((h&-8192)===0)},Et.prototype.stub=function(t){for(var i=new Array(t),n=0;n<t;n++)i[n]=0;return i},Et.prototype.mulp=function(t,i,n){var s=2*this.guessLen13b(t.length,i.length),h=this.makeRBT(s),d=this.stub(s),p=new Array(s),u=new Array(s),e=new Array(s),l=new Array(s),M=new Array(s),b=new Array(s),_=n.words;_.length=s,this.convert13b(t.words,t.length,p,s),this.convert13b(i.words,i.length,l,s),this.transform(p,d,u,e,s,h),this.transform(l,d,M,b,s,h);for(var B=0;B<s;B++){var T=u[B]*M[B]-e[B]*b[B];e[B]=u[B]*b[B]+e[B]*M[B],u[B]=T}return this.conjugate(u,e,s),this.transform(u,e,_,d,s,h),this.conjugate(_,d,s),this.normalize13b(_,s),n.negative=t.negative^i.negative,n.length=t.length+i.length,n._strip()},f.prototype.mul=function(t){var i=new f(null);return i.words=new Array(this.length+t.length),this.mulTo(t,i)},f.prototype.mulf=function(t){var i=new f(null);return i.words=new Array(this.length+t.length),F(this,t,i)},f.prototype.imul=function(t){return this.clone().mulTo(t,this)},f.prototype.imuln=function(t){var i=t<0;i&&(t=-t),o(typeof t=="number"),o(t<67108864);for(var n=0,s=0;s<this.length;s++){var h=(this.words[s]|0)*t,d=(h&67108863)+(n&67108863);n>>=26,n+=h/67108864|0,n+=d>>>26,this.words[s]=d&67108863}return n!==0&&(this.words[s]=n,this.length++),i?this.ineg():this},f.prototype.muln=function(t){return this.clone().imuln(t)},f.prototype.sqr=function(){return this.mul(this)},f.prototype.isqr=function(){return this.imul(this.clone())},f.prototype.pow=function(t){var i=E(t);if(i.length===0)return new f(1);for(var n=this,s=0;s<i.length&&i[s]===0;s++,n=n.sqr());if(++s<i.length)for(var h=n.sqr();s<i.length;s++,h=h.sqr())i[s]!==0&&(n=n.mul(h));return n},f.prototype.iushln=function(t){o(typeof t=="number"&&t>=0);var i=t%26,n=(t-i)/26,s=67108863>>>26-i<<26-i,h;if(i!==0){var d=0;for(h=0;h<this.length;h++){var p=this.words[h]&s,u=(this.words[h]|0)-p<<i;this.words[h]=u|d,d=p>>>26-i}d&&(this.words[h]=d,this.length++)}if(n!==0){for(h=this.length-1;h>=0;h--)this.words[h+n]=this.words[h];for(h=0;h<n;h++)this.words[h]=0;this.length+=n}return this._strip()},f.prototype.ishln=function(t){return o(this.negative===0),this.iushln(t)},f.prototype.iushrn=function(t,i,n){o(typeof t=="number"&&t>=0);var s;i?s=(i-i%26)/26:s=0;var h=t%26,d=Math.min((t-h)/26,this.length),p=67108863^67108863>>>h<<h,u=n;if(s-=d,s=Math.max(0,s),u){for(var e=0;e<d;e++)u.words[e]=this.words[e];u.length=d}if(d!==0)if(this.length>d)for(this.length-=d,e=0;e<this.length;e++)this.words[e]=this.words[e+d];else this.words[0]=0,this.length=1;var l=0;for(e=this.length-1;e>=0&&(l!==0||e>=s);e--){var M=this.words[e]|0;this.words[e]=l<<26-h|M>>>h,l=M&p}return u&&l!==0&&(u.words[u.length++]=l),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},f.prototype.ishrn=function(t,i,n){return o(this.negative===0),this.iushrn(t,i,n)},f.prototype.shln=function(t){return this.clone().ishln(t)},f.prototype.ushln=function(t){return this.clone().iushln(t)},f.prototype.shrn=function(t){return this.clone().ishrn(t)},f.prototype.ushrn=function(t){return this.clone().iushrn(t)},f.prototype.testn=function(t){o(typeof t=="number"&&t>=0);var i=t%26,n=(t-i)/26,s=1<<i;if(this.length<=n)return!1;var h=this.words[n];return!!(h&s)},f.prototype.imaskn=function(t){o(typeof t=="number"&&t>=0);var i=t%26,n=(t-i)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=n)return this;if(i!==0&&n++,this.length=Math.min(n,this.length),i!==0){var s=67108863^67108863>>>i<<i;this.words[this.length-1]&=s}return this._strip()},f.prototype.maskn=function(t){return this.clone().imaskn(t)},f.prototype.iaddn=function(t){return o(typeof t=="number"),o(t<67108864),t<0?this.isubn(-t):this.negative!==0?this.length===1&&(this.words[0]|0)<=t?(this.words[0]=t-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},f.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},f.prototype.isubn=function(t){if(o(typeof t=="number"),o(t<67108864),t<0)return this.iaddn(-t);if(this.negative!==0)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this._strip()},f.prototype.addn=function(t){return this.clone().iaddn(t)},f.prototype.subn=function(t){return this.clone().isubn(t)},f.prototype.iabs=function(){return this.negative=0,this},f.prototype.abs=function(){return this.clone().iabs()},f.prototype._ishlnsubmul=function(t,i,n){var s=t.length+n,h;this._expand(s);var d,p=0;for(h=0;h<t.length;h++){d=(this.words[h+n]|0)+p;var u=(t.words[h]|0)*i;d-=u&67108863,p=(d>>26)-(u/67108864|0),this.words[h+n]=d&67108863}for(;h<this.length-n;h++)d=(this.words[h+n]|0)+p,p=d>>26,this.words[h+n]=d&67108863;if(p===0)return this._strip();for(o(p===-1),p=0,h=0;h<this.length;h++)d=-(this.words[h]|0)+p,p=d>>26,this.words[h]=d&67108863;return this.negative=1,this._strip()},f.prototype._wordDiv=function(t,i){var n=this.length-t.length,s=this.clone(),h=t,d=h.words[h.length-1]|0,p=this._countBits(d);n=26-p,n!==0&&(h=h.ushln(n),s.iushln(n),d=h.words[h.length-1]|0);var u=s.length-h.length,e;if(i!=="mod"){e=new f(null),e.length=u+1,e.words=new Array(e.length);for(var l=0;l<e.length;l++)e.words[l]=0}var M=s.clone()._ishlnsubmul(h,1,u);M.negative===0&&(s=M,e&&(e.words[u]=1));for(var b=u-1;b>=0;b--){var _=(s.words[h.length+b]|0)*67108864+(s.words[h.length+b-1]|0);for(_=Math.min(_/d|0,67108863),s._ishlnsubmul(h,_,b);s.negative!==0;)_--,s.negative=0,s._ishlnsubmul(h,1,b),s.isZero()||(s.negative^=1);e&&(e.words[b]=_)}return e&&e._strip(),s._strip(),i!=="div"&&n!==0&&s.iushrn(n),{div:e||null,mod:s}},f.prototype.divmod=function(t,i,n){if(o(!t.isZero()),this.isZero())return{div:new f(0),mod:new f(0)};var s,h,d;return this.negative!==0&&t.negative===0?(d=this.neg().divmod(t,i),i!=="mod"&&(s=d.div.neg()),i!=="div"&&(h=d.mod.neg(),n&&h.negative!==0&&h.iadd(t)),{div:s,mod:h}):this.negative===0&&t.negative!==0?(d=this.divmod(t.neg(),i),i!=="mod"&&(s=d.div.neg()),{div:s,mod:d.mod}):(this.negative&t.negative)!==0?(d=this.neg().divmod(t.neg(),i),i!=="div"&&(h=d.mod.neg(),n&&h.negative!==0&&h.isub(t)),{div:d.div,mod:h}):t.length>this.length||this.cmp(t)<0?{div:new f(0),mod:this}:t.length===1?i==="div"?{div:this.divn(t.words[0]),mod:null}:i==="mod"?{div:null,mod:new f(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new f(this.modrn(t.words[0]))}:this._wordDiv(t,i)},f.prototype.div=function(t){return this.divmod(t,"div",!1).div},f.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},f.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},f.prototype.divRound=function(t){var i=this.divmod(t);if(i.mod.isZero())return i.div;var n=i.div.negative!==0?i.mod.isub(t):i.mod,s=t.ushrn(1),h=t.andln(1),d=n.cmp(s);return d<0||h===1&&d===0?i.div:i.div.negative!==0?i.div.isubn(1):i.div.iaddn(1)},f.prototype.modrn=function(t){var i=t<0;i&&(t=-t),o(t<=67108863);for(var n=(1<<26)%t,s=0,h=this.length-1;h>=0;h--)s=(n*s+(this.words[h]|0))%t;return i?-s:s},f.prototype.modn=function(t){return this.modrn(t)},f.prototype.idivn=function(t){var i=t<0;i&&(t=-t),o(t<=67108863);for(var n=0,s=this.length-1;s>=0;s--){var h=(this.words[s]|0)+n*67108864;this.words[s]=h/t|0,n=h%t}return this._strip(),i?this.ineg():this},f.prototype.divn=function(t){return this.clone().idivn(t)},f.prototype.egcd=function(t){o(t.negative===0),o(!t.isZero());var i=this,n=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var s=new f(1),h=new f(0),d=new f(0),p=new f(1),u=0;i.isEven()&&n.isEven();)i.iushrn(1),n.iushrn(1),++u;for(var e=n.clone(),l=i.clone();!i.isZero();){for(var M=0,b=1;(i.words[0]&b)===0&&M<26;++M,b<<=1);if(M>0)for(i.iushrn(M);M-- >0;)(s.isOdd()||h.isOdd())&&(s.iadd(e),h.isub(l)),s.iushrn(1),h.iushrn(1);for(var _=0,B=1;(n.words[0]&B)===0&&_<26;++_,B<<=1);if(_>0)for(n.iushrn(_);_-- >0;)(d.isOdd()||p.isOdd())&&(d.iadd(e),p.isub(l)),d.iushrn(1),p.iushrn(1);i.cmp(n)>=0?(i.isub(n),s.isub(d),h.isub(p)):(n.isub(i),d.isub(s),p.isub(h))}return{a:d,b:p,gcd:n.iushln(u)}},f.prototype._invmp=function(t){o(t.negative===0),o(!t.isZero());var i=this,n=t.clone();i.negative!==0?i=i.umod(t):i=i.clone();for(var s=new f(1),h=new f(0),d=n.clone();i.cmpn(1)>0&&n.cmpn(1)>0;){for(var p=0,u=1;(i.words[0]&u)===0&&p<26;++p,u<<=1);if(p>0)for(i.iushrn(p);p-- >0;)s.isOdd()&&s.iadd(d),s.iushrn(1);for(var e=0,l=1;(n.words[0]&l)===0&&e<26;++e,l<<=1);if(e>0)for(n.iushrn(e);e-- >0;)h.isOdd()&&h.iadd(d),h.iushrn(1);i.cmp(n)>=0?(i.isub(n),s.isub(h)):(n.isub(i),h.isub(s))}var M;return i.cmpn(1)===0?M=s:M=h,M.cmpn(0)<0&&M.iadd(t),M},f.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var i=this.clone(),n=t.clone();i.negative=0,n.negative=0;for(var s=0;i.isEven()&&n.isEven();s++)i.iushrn(1),n.iushrn(1);do{for(;i.isEven();)i.iushrn(1);for(;n.isEven();)n.iushrn(1);var h=i.cmp(n);if(h<0){var d=i;i=n,n=d}else if(h===0||n.cmpn(1)===0)break;i.isub(n)}while(!0);return n.iushln(s)},f.prototype.invm=function(t){return this.egcd(t).a.umod(t)},f.prototype.isEven=function(){return(this.words[0]&1)===0},f.prototype.isOdd=function(){return(this.words[0]&1)===1},f.prototype.andln=function(t){return this.words[0]&t},f.prototype.bincn=function(t){o(typeof t=="number");var i=t%26,n=(t-i)/26,s=1<<i;if(this.length<=n)return this._expand(n+1),this.words[n]|=s,this;for(var h=s,d=n;h!==0&&d<this.length;d++){var p=this.words[d]|0;p+=h,h=p>>>26,p&=67108863,this.words[d]=p}return h!==0&&(this.words[d]=h,this.length++),this},f.prototype.isZero=function(){return this.length===1&&this.words[0]===0},f.prototype.cmpn=function(t){var i=t<0;if(this.negative!==0&&!i)return-1;if(this.negative===0&&i)return 1;this._strip();var n;if(this.length>1)n=1;else{i&&(t=-t),o(t<=67108863,"Number is too big");var s=this.words[0]|0;n=s===t?0:s<t?-1:1}return this.negative!==0?-n|0:n},f.prototype.cmp=function(t){if(this.negative!==0&&t.negative===0)return-1;if(this.negative===0&&t.negative!==0)return 1;var i=this.ucmp(t);return this.negative!==0?-i|0:i},f.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var i=0,n=this.length-1;n>=0;n--){var s=this.words[n]|0,h=t.words[n]|0;if(s!==h){s<h?i=-1:s>h&&(i=1);break}}return i},f.prototype.gtn=function(t){return this.cmpn(t)===1},f.prototype.gt=function(t){return this.cmp(t)===1},f.prototype.gten=function(t){return this.cmpn(t)>=0},f.prototype.gte=function(t){return this.cmp(t)>=0},f.prototype.ltn=function(t){return this.cmpn(t)===-1},f.prototype.lt=function(t){return this.cmp(t)===-1},f.prototype.lten=function(t){return this.cmpn(t)<=0},f.prototype.lte=function(t){return this.cmp(t)<=0},f.prototype.eqn=function(t){return this.cmpn(t)===0},f.prototype.eq=function(t){return this.cmp(t)===0},f.red=function(t){return new U(t)},f.prototype.toRed=function(t){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),t.convertTo(this)._forceRed(t)},f.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},f.prototype._forceRed=function(t){return this.red=t,this},f.prototype.forceRed=function(t){return o(!this.red,"Already a number in reduction context"),this._forceRed(t)},f.prototype.redAdd=function(t){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},f.prototype.redIAdd=function(t){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},f.prototype.redSub=function(t){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},f.prototype.redISub=function(t){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},f.prototype.redShl=function(t){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},f.prototype.redMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},f.prototype.redIMul=function(t){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},f.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},f.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},f.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},f.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},f.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},f.prototype.redPow=function(t){return o(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var Tr={k256:null,p224:null,p192:null,p25519:null};function It(c,t){this.name=c,this.p=new f(t,16),this.n=this.p.bitLength(),this.k=new f(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}It.prototype._tmp=function(){var t=new f(null);return t.words=new Array(Math.ceil(this.n/13)),t},It.prototype.ireduce=function(t){var i=t,n;do this.split(i,this.tmp),i=this.imulK(i),i=i.iadd(this.tmp),n=i.bitLength();while(n>this.n);var s=n<this.n?-1:i.ucmp(this.p);return s===0?(i.words[0]=0,i.length=1):s>0?i.isub(this.p):i.strip!==void 0?i.strip():i._strip(),i},It.prototype.split=function(t,i){t.iushrn(this.n,0,i)},It.prototype.imulK=function(t){return t.imul(this.k)};function pr(){It.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}v(pr,It),pr.prototype.split=function(t,i){for(var n=4194303,s=Math.min(t.length,9),h=0;h<s;h++)i.words[h]=t.words[h];if(i.length=s,t.length<=9){t.words[0]=0,t.length=1;return}var d=t.words[9];for(i.words[i.length++]=d&n,h=10;h<t.length;h++){var p=t.words[h]|0;t.words[h-10]=(p&n)<<4|d>>>22,d=p}d>>>=22,t.words[h-10]=d,d===0&&t.length>10?t.length-=10:t.length-=9},pr.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var i=0,n=0;n<t.length;n++){var s=t.words[n]|0;i+=s*977,t.words[n]=i&67108863,i=s*64+(i/67108864|0)}return t.words[t.length-1]===0&&(t.length--,t.words[t.length-1]===0&&t.length--),t};function Be(){It.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}v(Be,It);function Ce(){It.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}v(Ce,It);function Fr(){It.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}v(Fr,It),Fr.prototype.imulK=function(t){for(var i=0,n=0;n<t.length;n++){var s=(t.words[n]|0)*19+i,h=s&67108863;s>>>=26,t.words[n]=h,i=s}return i!==0&&(t.words[t.length++]=i),t},f._prime=function(t){if(Tr[t])return Tr[t];var i;if(t==="k256")i=new pr;else if(t==="p224")i=new Be;else if(t==="p192")i=new Ce;else if(t==="p25519")i=new Fr;else throw new Error("Unknown prime "+t);return Tr[t]=i,i};function U(c){if(typeof c=="string"){var t=f._prime(c);this.m=t.p,this.prime=t}else o(c.gtn(1),"modulus must be greater than 1"),this.m=c,this.prime=null}U.prototype._verify1=function(t){o(t.negative===0,"red works only with positives"),o(t.red,"red works only with red numbers")},U.prototype._verify2=function(t,i){o((t.negative|i.negative)===0,"red works only with positives"),o(t.red&&t.red===i.red,"red works only with red numbers")},U.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(x(t,t.umod(this.m)._forceRed(this)),t)},U.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},U.prototype.add=function(t,i){this._verify2(t,i);var n=t.add(i);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},U.prototype.iadd=function(t,i){this._verify2(t,i);var n=t.iadd(i);return n.cmp(this.m)>=0&&n.isub(this.m),n},U.prototype.sub=function(t,i){this._verify2(t,i);var n=t.sub(i);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},U.prototype.isub=function(t,i){this._verify2(t,i);var n=t.isub(i);return n.cmpn(0)<0&&n.iadd(this.m),n},U.prototype.shl=function(t,i){return this._verify1(t),this.imod(t.ushln(i))},U.prototype.imul=function(t,i){return this._verify2(t,i),this.imod(t.imul(i))},U.prototype.mul=function(t,i){return this._verify2(t,i),this.imod(t.mul(i))},U.prototype.isqr=function(t){return this.imul(t,t.clone())},U.prototype.sqr=function(t){return this.mul(t,t)},U.prototype.sqrt=function(t){if(t.isZero())return t.clone();var i=this.m.andln(3);if(o(i%2===1),i===3){var n=this.m.add(new f(1)).iushrn(2);return this.pow(t,n)}for(var s=this.m.subn(1),h=0;!s.isZero()&&s.andln(1)===0;)h++,s.iushrn(1);o(!s.isZero());var d=new f(1).toRed(this),p=d.redNeg(),u=this.m.subn(1).iushrn(1),e=this.m.bitLength();for(e=new f(2*e*e).toRed(this);this.pow(e,u).cmp(p)!==0;)e.redIAdd(p);for(var l=this.pow(e,s),M=this.pow(t,s.addn(1).iushrn(1)),b=this.pow(t,s),_=h;b.cmp(d)!==0;){for(var B=b,T=0;B.cmp(d)!==0;T++)B=B.redSqr();o(T<_);var R=this.pow(l,new f(1).iushln(_-T-1));M=M.redMul(R),l=R.redSqr(),b=b.redMul(l),_=T}return M},U.prototype.invm=function(t){var i=t._invmp(this.m);return i.negative!==0?(i.negative=0,this.imod(i).redNeg()):this.imod(i)},U.prototype.pow=function(t,i){if(i.isZero())return new f(1).toRed(this);if(i.cmpn(1)===0)return t.clone();var n=4,s=new Array(1<<n);s[0]=new f(1).toRed(this),s[1]=t;for(var h=2;h<s.length;h++)s[h]=this.mul(s[h-1],t);var d=s[0],p=0,u=0,e=i.bitLength()%26;for(e===0&&(e=26),h=i.length-1;h>=0;h--){for(var l=i.words[h],M=e-1;M>=0;M--){var b=l>>M&1;if(d!==s[0]&&(d=this.sqr(d)),b===0&&p===0){u=0;continue}p<<=1,p|=b,u++,!(u!==n&&(h!==0||M!==0))&&(d=this.mul(d,s[p]),u=0,p=0)}e=26}return d},U.prototype.convertTo=function(t){var i=t.umod(this.m);return i===t?i.clone():i},U.prototype.convertFrom=function(t){var i=t.clone();return i.red=null,i},f.mont=function(t){return new Jt(t)};function Jt(c){U.call(this,c),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new f(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v(Jt,U),Jt.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},Jt.prototype.convertFrom=function(t){var i=this.imod(t.mul(this.rinv));return i.red=null,i},Jt.prototype.imul=function(t,i){if(t.isZero()||i.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(i),s=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=n.isub(s).iushrn(this.shift),d=h;return h.cmp(this.m)>=0?d=h.isub(this.m):h.cmpn(0)<0&&(d=h.iadd(this.m)),d._forceRed(this)},Jt.prototype.mul=function(t,i){if(t.isZero()||i.isZero())return new f(0)._forceRed(this);var n=t.mul(i),s=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),h=n.isub(s).iushrn(this.shift),d=h;return h.cmp(this.m)>=0?d=h.isub(this.m):h.cmpn(0)<0&&(d=h.iadd(this.m)),d._forceRed(this)},Jt.prototype.invm=function(t){var i=this.imod(t._invmp(this.m).mul(this.r2));return i._forceRed(this)}})(typeof re>"u"||re,ri)});var ie=O(Z=>{"use strict";A();S();Object.defineProperty(Z,"__esModule",{value:!0});Z.KECCAK256_RLP=Z.KECCAK256_RLP_S=Z.KECCAK256_RLP_ARRAY=Z.KECCAK256_RLP_ARRAY_S=Z.KECCAK256_NULL=Z.KECCAK256_NULL_S=Z.TWO_POW256=Z.MAX_INTEGER=void 0;var ee=Je().Buffer,ei=Gt();Z.MAX_INTEGER=new ei("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16);Z.TWO_POW256=new ei("10000000000000000000000000000000000000000000000000000000000000000",16);Z.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470";Z.KECCAK256_NULL=ee.from(Z.KECCAK256_NULL_S,"hex");Z.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347";Z.KECCAK256_RLP_ARRAY=ee.from(Z.KECCAK256_RLP_ARRAY_S,"hex");Z.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421";Z.KECCAK256_RLP=ee.from(Z.KECCAK256_RLP_S,"hex")});var ar=O(Rt=>{"use strict";A();S();Object.defineProperty(Rt,"__esModule",{value:!0});Rt.assertIsString=Rt.assertIsArray=Rt.assertIsBuffer=Rt.assertIsHexString=void 0;var $i=or();Rt.assertIsHexString=function(r){if(!$i.isHexString(r)){var a="This method only supports 0x-prefixed hex strings but input was: "+r;throw new Error(a)}};Rt.assertIsBuffer=function(r){if(!y.Buffer.isBuffer(r)){var a="This method only supports Buffer but input was: "+r;throw new Error(a)}};Rt.assertIsArray=function(r){if(!Array.isArray(r)){var a="This method only supports number arrays but input was: "+r;throw new Error(a)}};Rt.assertIsString=function(r){if(typeof r!="string"){var a="This method only supports strings but input was: "+r;throw new Error(a)}}});var Zt=O(I=>{"use strict";A();S();Object.defineProperty(I,"__esModule",{value:!0});I.baToJSON=I.addHexPrefix=I.toUnsigned=I.fromSigned=I.bufferToHex=I.bufferToInt=I.toBuffer=I.unpadHexString=I.unpadArray=I.unpadBuffer=I.setLengthRight=I.setLengthLeft=I.zeros=void 0;var ne=Gt(),Xt=or(),sr=ar();I.zeros=function(r){return y.Buffer.allocUnsafe(r).fill(0)};I.setLengthLeft=function(r,a){return sr.assertIsBuffer(r),ii(r,a,!1)};I.setLengthRight=function(r,a){return sr.assertIsBuffer(r),ii(r,a,!0)};var ii=function(r,a,o){var v=I.zeros(a);return o?r.length<a?(r.copy(v),v):r.slice(0,a):r.length<a?(r.copy(v,a-r.length),v):r.slice(-a)};I.unpadBuffer=function(r){return sr.assertIsBuffer(r),fe(r)};I.unpadArray=function(r){return sr.assertIsArray(r),fe(r)};I.unpadHexString=function(r){return sr.assertIsHexString(r),r=Xt.stripHexPrefix(r),fe(r)};var fe=function(r){for(var a=r[0];r.length>0&&a.toString()==="0";)r=r.slice(1),a=r[0];return r};I.toBuffer=function(r){if(r==null)return y.Buffer.allocUnsafe(0);if(y.Buffer.isBuffer(r))return y.Buffer.from(r);if(Array.isArray(r)||r instanceof Uint8Array)return y.Buffer.from(r);if(typeof r=="string"){if(!Xt.isHexString(r))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+r);return y.Buffer.from(Xt.padToEven(Xt.stripHexPrefix(r)),"hex")}if(typeof r=="number")return Xt.intToBuffer(r);if(ne.isBN(r))return r.toArrayLike(y.Buffer);if(r.toArray)return y.Buffer.from(r.toArray());if(r.toBuffer)return y.Buffer.from(r.toBuffer());throw new Error("invalid type")};I.bufferToInt=function(r){return new ne(I.toBuffer(r)).toNumber()};I.bufferToHex=function(r){return r=I.toBuffer(r),"0x"+r.toString("hex")};I.fromSigned=function(r){return new ne(r).fromTwos(256)};I.toUnsigned=function(r){return y.Buffer.from(r.toTwos(256).toArray())};I.addHexPrefix=function(r){return typeof r!="string"||Xt.isHexPrefixed(r)?r:"0x"+r};I.baToJSON=function(r){if(y.Buffer.isBuffer(r))return"0x"+r.toString("hex");if(r instanceof Array){for(var a=[],o=0;o<r.length;o++)a.push(I.baToJSON(r[o]));return a}}});var wr=O(P=>{"use strict";A();S();Object.defineProperty(P,"__esModule",{value:!0});P.rlphash=P.ripemd160FromArray=P.ripemd160FromString=P.ripemd160=P.sha256FromArray=P.sha256FromString=P.sha256=P.keccakFromArray=P.keccakFromHexString=P.keccakFromString=P.keccak256=P.keccak=void 0;var gr=Yi(),tn=gr.keccak224,rn=gr.keccak384,en=gr.keccak256,nn=gr.keccak512,ni=ji(),fn=yr(),ur=Zt(),Lt=ar();P.keccak=function(r,a){switch(a===void 0&&(a=256),Lt.assertIsBuffer(r),a){case 224:return tn(r);case 256:return en(r);case 384:return rn(r);case 512:return nn(r);default:throw new Error("Invald algorithm: keccak"+a)}};P.keccak256=function(r){return P.keccak(r)};P.keccakFromString=function(r,a){a===void 0&&(a=256),Lt.assertIsString(r);var o=y.Buffer.from(r,"utf8");return P.keccak(o,a)};P.keccakFromHexString=function(r,a){return a===void 0&&(a=256),Lt.assertIsHexString(r),P.keccak(ur.toBuffer(r),a)};P.keccakFromArray=function(r,a){return a===void 0&&(a=256),Lt.assertIsArray(r),P.keccak(ur.toBuffer(r),a)};P.sha256=function(r){return Lt.assertIsBuffer(r),oe(r)};P.sha256FromString=function(r){return Lt.assertIsString(r),oe(r)};P.sha256FromArray=function(r){return Lt.assertIsArray(r),oe(r)};var oe=function(r){return r=ur.toBuffer(r),ni("sha256").update(r).digest()};P.ripemd160=function(r,a){return Lt.assertIsBuffer(r),ae(r,a)};P.ripemd160FromString=function(r,a){return Lt.assertIsString(r),ae(r,a)};P.ripemd160FromArray=function(r,a){return Lt.assertIsArray(r),ae(r,a)};var ae=function(r,a){r=ur.toBuffer(r);var o=ni("rmd160").update(r).digest();return a===!0?ur.setLengthLeft(o,32):o};P.rlphash=function(r){return P.keccak(fn.encode(r))}});var se=O($t=>{"use strict";A();S();Object.defineProperty($t,"__esModule",{value:!0});$t.bnToRlp=$t.bnToHex=void 0;var on=Zt();function an(r){return"0x"+r.toString(16)}$t.bnToHex=an;function sn(r){return on.unpadBuffer(r.toArrayLike(y.Buffer))}$t.bnToRlp=sn});var he=O(C=>{"use strict";A();S();Object.defineProperty(C,"__esModule",{value:!0});C.isZeroAddress=C.zeroAddress=C.importPublic=C.privateToPublic=C.privateToAddress=C.publicToAddress=C.pubToAddress=C.isValidPublic=C.isValidPrivate=C.generateAddress2=C.generateAddress=C.isValidChecksumAddress=C.toChecksumAddress=C.isValidAddress=C.Account=void 0;var ue=mr(),Ht=Gt(),fi=yr(),un=or(),Mr=ie(),tr=Zt(),rr=wr(),Pt=ar(),oi=se(),xr=Xe(),hn=xr.privateKeyVerify,ln=xr.publicKeyCreate,ai=xr.publicKeyVerify,si=xr.publicKeyConvert,cn=function(){function r(a,o,v,f){a===void 0&&(a=new Ht(0)),o===void 0&&(o=new Ht(0)),v===void 0&&(v=Mr.KECCAK256_RLP),f===void 0&&(f=Mr.KECCAK256_NULL),this.nonce=a,this.balance=o,this.stateRoot=v,this.codeHash=f,this._validate()}return r.fromAccountData=function(a){var o=a.nonce,v=a.balance,f=a.stateRoot,m=a.codeHash;return new r(o?new Ht(tr.toBuffer(o)):void 0,v?new Ht(tr.toBuffer(v)):void 0,f?tr.toBuffer(f):void 0,m?tr.toBuffer(m):void 0)},r.fromRlpSerializedAccount=function(a){var o=fi.decode(a);if(!Array.isArray(o))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(o)},r.fromValuesArray=function(a){var o=a[0],v=a[1],f=a[2],m=a[3];return new r(o?new Ht(o):void 0,v?new Ht(v):void 0,f,m)},r.prototype._validate=function(){if(this.nonce.lt(new Ht(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new Ht(0)))throw new Error("balance must be greater than zero");if(this.stateRoot.length!==32)throw new Error("stateRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")},r.prototype.raw=function(){return[oi.bnToRlp(this.nonce),oi.bnToRlp(this.balance),this.stateRoot,this.codeHash]},r.prototype.serialize=function(){return fi.encode(this.raw())},r.prototype.isContract=function(){return!this.codeHash.equals(Mr.KECCAK256_NULL)},r.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(Mr.KECCAK256_NULL)},r}();C.Account=cn;C.isValidAddress=function(r){return Pt.assertIsHexString(r),/^0x[0-9a-fA-F]{40}$/.test(r)};C.toChecksumAddress=function(r,a){Pt.assertIsHexString(r);for(var o=un.stripHexPrefix(r).toLowerCase(),v=a!==void 0?a.toString()+"0x":"",f=rr.keccakFromString(v+o).toString("hex"),m="0x",w=0;w<o.length;w++)parseInt(f[w],16)>=8?m+=o[w].toUpperCase():m+=o[w];return m};C.isValidChecksumAddress=function(r,a){return C.isValidAddress(r)&&C.toChecksumAddress(r,a)===r};C.generateAddress=function(r,a){Pt.assertIsBuffer(r),Pt.assertIsBuffer(a);var o=new Ht(a);return o.isZero()?rr.rlphash([r,null]).slice(-20):rr.rlphash([r,y.Buffer.from(o.toArray())]).slice(-20)};C.generateAddress2=function(r,a,o){Pt.assertIsBuffer(r),Pt.assertIsBuffer(a),Pt.assertIsBuffer(o),ue(r.length===20),ue(a.length===32);var v=rr.keccak256(y.Buffer.concat([y.Buffer.from("ff","hex"),r,a,rr.keccak256(o)]));return v.slice(-20)};C.isValidPrivate=function(r){return hn(r)};C.isValidPublic=function(r,a){return a===void 0&&(a=!1),Pt.assertIsBuffer(r),r.length===64?ai(y.Buffer.concat([y.Buffer.from([4]),r])):a?ai(r):!1};C.pubToAddress=function(r,a){return a===void 0&&(a=!1),Pt.assertIsBuffer(r),a&&r.length!==64&&(r=y.Buffer.from(si(r,!1).slice(1))),ue(r.length===64),rr.keccak(r).slice(-20)};C.publicToAddress=C.pubToAddress;C.privateToAddress=function(r){return C.publicToAddress(C.privateToPublic(r))};C.privateToPublic=function(r){return Pt.assertIsBuffer(r),y.Buffer.from(ln(r,!1)).slice(1)};C.importPublic=function(r){return Pt.assertIsBuffer(r),r.length!==64&&(r=y.Buffer.from(si(r,!1).slice(1))),r};C.zeroAddress=function(){var r=20,a=tr.zeros(r);return tr.bufferToHex(a)};C.isZeroAddress=function(r){Pt.assertIsHexString(r);var a=C.zeroAddress();return a===r}});var hi=O(br=>{"use strict";A();S();Object.defineProperty(br,"__esModule",{value:!0});br.Address=void 0;var Yt=mr(),dn=Gt(),ui=Zt(),hr=he(),vn=function(){function r(a){Yt(a.length===20,"Invalid address length"),this.buf=a}return r.zero=function(){return new r(ui.zeros(20))},r.fromString=function(a){return Yt(hr.isValidAddress(a),"Invalid address"),new r(ui.toBuffer(a))},r.fromPublicKey=function(a){Yt(y.Buffer.isBuffer(a),"Public key should be Buffer");var o=hr.pubToAddress(a);return new r(o)},r.fromPrivateKey=function(a){Yt(y.Buffer.isBuffer(a),"Private key should be Buffer");var o=hr.privateToAddress(a);return new r(o)},r.generate=function(a,o){return Yt(dn.isBN(o)),new r(hr.generateAddress(a.buf,o.toArrayLike(y.Buffer)))},r.generate2=function(a,o,v){return Yt(y.Buffer.isBuffer(o)),Yt(y.Buffer.isBuffer(v)),new r(hr.generateAddress2(a.buf,o,v))},r.prototype.equals=function(a){return this.buf.equals(a.buf)},r.prototype.isZero=function(){return this.equals(r.zero())},r.prototype.toString=function(){return"0x"+this.buf.toString("hex")},r.prototype.toBuffer=function(){return y.Buffer.from(this.buf)},r}();br.Address=vn});var li=O(Ct=>{"use strict";A();S();Object.defineProperty(Ct,"__esModule",{value:!0});Ct.hashPersonalMessage=Ct.isValidSignature=Ct.fromRpcSig=Ct.toRpcSig=Ct.ecrecover=Ct.ecsign=void 0;var le=Xe(),pn=le.ecdsaSign,mn=le.ecdsaRecover,yn=le.publicKeyConvert,_r=Gt(),Dt=Zt(),gn=wr(),wn=ar();Ct.ecsign=function(r,a,o){var v=pn(r,a),f=v.recid,m={r:y.Buffer.from(v.signature.slice(0,32)),s:y.Buffer.from(v.signature.slice(32,64)),v:o?f+(o*2+35):f+27};return m};Ct.ecrecover=function(r,a,o,v,f){var m=y.Buffer.concat([Dt.setLengthLeft(o,32),Dt.setLengthLeft(v,32)],64),w=ce(a,f);if(!de(w))throw new Error("Invalid signature v value");var K=mn(m,w,r);return y.Buffer.from(yn(K,!1).slice(1))};Ct.toRpcSig=function(r,a,o,v){var f=ce(r,v);if(!de(f))throw new Error("Invalid signature v value");return Dt.bufferToHex(y.Buffer.concat([Dt.setLengthLeft(a,32),Dt.setLengthLeft(o,32),Dt.toBuffer(r)]))};Ct.fromRpcSig=function(r){var a=Dt.toBuffer(r);if(a.length<65)throw new Error("Invalid signature length");var o=Dt.bufferToInt(a.slice(64));return o<27&&(o+=27),{v:o,r:a.slice(0,32),s:a.slice(32,64)}};Ct.isValidSignature=function(r,a,o,v,f){v===void 0&&(v=!0);var m=new _r("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),w=new _r("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(a.length!==32||o.length!==32||!de(ce(r,f)))return!1;var K=new _r(a),x=new _r(o);return!(K.isZero()||K.gt(w)||x.isZero()||x.gt(w)||v&&x.cmp(m)===1)};Ct.hashPersonalMessage=function(r){wn.assertIsBuffer(r);var a=y.Buffer.from(`Ethereum Signed Message:
`+r.length.toString(),"utf-8");return gn.keccak(y.Buffer.concat([a,r]))};function ce(r,a){return a?r-(2*a+35):r-27}function de(r){return r===0||r===1}});var vi=O(Ar=>{"use strict";A();S();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.defineProperties=void 0;var Mn=or(),ci=mr(),di=yr(),kr=Zt();Ar.defineProperties=function(r,a,o){if(r.raw=[],r._fields=[],r.toJSON=function(f){if(f===void 0&&(f=!1),f){var m={};return r._fields.forEach(function(w){m[w]="0x"+r[w].toString("hex")}),m}return kr.baToJSON(r.raw)},r.serialize=function(){return di.encode(r.raw)},a.forEach(function(f,m){r._fields.push(f.name);function w(){return r.raw[m]}function K(x){x=kr.toBuffer(x),x.toString("hex")==="00"&&!f.allowZero&&(x=y.Buffer.allocUnsafe(0)),f.allowLess&&f.length?(x=kr.unpadBuffer(x),ci(f.length>=x.length,"The field "+f.name+" must not have more "+f.length+" bytes")):!(f.allowZero&&x.length===0)&&f.length&&ci(f.length===x.length,"The field "+f.name+" must have byte length of "+f.length),r.raw[m]=x}Object.defineProperty(r,f.name,{enumerable:!0,configurable:!0,get:w,set:K}),f.default&&(r[f.name]=f.default),f.alias&&Object.defineProperty(r,f.alias,{enumerable:!1,configurable:!0,set:K,get:w})}),o)if(typeof o=="string"&&(o=y.Buffer.from(Mn.stripHexPrefix(o),"hex")),y.Buffer.isBuffer(o)&&(o=di.decode(o)),Array.isArray(o)){if(o.length>r._fields.length)throw new Error("wrong number of fields in data");o.forEach(function(f,m){r[r._fields[m]]=kr.toBuffer(f)})}else if(typeof o=="object"){var v=Object.keys(o);a.forEach(function(f){v.indexOf(f.name)!==-1&&(r[f.name]=o[f.name]),v.indexOf(f.alias)!==-1&&(r[f.alias]=o[f.alias])})}else throw new Error("invalid data")}});var pi=O(er=>{"use strict";A();S();Object.defineProperty(er,"__esModule",{value:!0});er.rlp=er.BN=void 0;var xn=Gt();er.BN=xn;var bn=yr();er.rlp=bn});var ve=O(Kt=>{"use strict";A();S();var _n=Kt&&Kt.__createBinding||(Object.create?function(r,a,o,v){v===void 0&&(v=o),Object.defineProperty(r,v,{enumerable:!0,get:function(){return a[o]}})}:function(r,a,o,v){v===void 0&&(v=o),r[v]=a[o]}),Ot=Kt&&Kt.__exportStar||function(r,a){for(var o in r)o!=="default"&&!a.hasOwnProperty(o)&&_n(a,r,o)};Object.defineProperty(Kt,"__esModule",{value:!0});Ot(ie(),Kt);Ot(he(),Kt);Ot(hi(),Kt);Ot(wr(),Kt);Ot(li(),Kt);Ot(Zt(),Kt);Ot(vi(),Kt);Ot(pi(),Kt);Ot(se(),Kt);Ot(or(),Kt)});var mi=O(pe=>{"use strict";A();S();Object.defineProperty(pe,"__esModule",{value:!0});var kn=Gi().ripemd160,An=Qe();pe.ripemd160=An.createHashFunction(function(){return new kn})});var yi=O(me=>{"use strict";A();S();Object.defineProperty(me,"__esModule",{value:!0});var Sn=Ji(),En=Qe();me.sha256=En.createHashFunction(function(){return new Sn})});var wi=O(lr=>{"use strict";A();S();Object.defineProperty(lr,"__esModule",{value:!0});var Kn=mi(),Bn=yi();lr.createHmac=Wi();lr.randomBytes=Ge();var gi=function(){function r(a){this.hashFunction=a,this.buffers=[]}return r.prototype.update=function(a){if(!y.Buffer.isBuffer(a))throw new Error("hdkey-crypto shim is outdated");return this.buffers.push(a),this},r.prototype.digest=function(a){if(a)throw new Error("hdkey-crypto shim is outdated");return this.hashFunction(y.Buffer.concat(this.buffers))},r}();lr.createHash=function(r){if(r==="ripemd160")return new gi(Kn.ripemd160);if(r==="sha256")return new gi(Bn.sha256);throw new Error("hdkey-crypto shim is outdated")}});var Mi=O(Tt=>{"use strict";A();S();var Cn=Tt&&Tt.__importStar||function(r){if(r&&r.__esModule)return r;var a={};if(r!=null)for(var o in r)Object.hasOwnProperty.call(r,o)&&(a[o]=r[o]);return a.default=r,a};Object.defineProperty(Tt,"__esModule",{value:!0});var jt=Cn(Qi());function qn(r){return jt.privateKeyVerify(r)}Tt.privateKeyVerify=qn;function In(r,a){return a===void 0&&(a=!0),y.Buffer.from(jt.publicKeyCreate(r,a))}Tt.publicKeyCreate=In;function Pn(r){return jt.publicKeyVerify(r)}Tt.publicKeyVerify=Pn;function Tn(r,a){return a===void 0&&(a=!0),y.Buffer.from(jt.publicKeyConvert(r,a))}Tt.publicKeyConvert=Tn;function Fn(r,a){return y.Buffer.from(jt.privateKeyTweakAdd(y.Buffer.from(r),a))}Tt.privateKeyTweakAdd=Fn;function Rn(r,a,o){return o===void 0&&(o=!0),y.Buffer.from(jt.publicKeyTweakAdd(y.Buffer.from(r),a,o))}Tt.publicKeyTweakAdd=Rn;function Ln(r,a){var o=jt.ecdsaSign(r,a);return{signature:y.Buffer.from(o.signature),recovery:o.recid}}Tt.sign=Ln;function On(r,a,o){return jt.ecdsaVerify(a,r,o)}Tt.verify=On});var xi=O(Sr=>{"use strict";A();S();function Nn(r){for(var a in r)Sr.hasOwnProperty(a)||(Sr[a]=r[a])}Object.defineProperty(Sr,"__esModule",{value:!0});Nn(Mi())});var Si=O((ho,Ai)=>{"use strict";A();S();function ye(r){return r&&typeof r=="object"&&"default"in r?r.default:r}var Nt=ye(mr()),Hn=ye(Di()),ge=ye($e()),cr=wi(),Wt=xi(),Vt=Hn.Buffer,Vn=Vt.from("Bitcoin seed","utf8"),Er=2147483648,zn=78,bi={private:76066276,public:76067358};function z(r){this.versions=r||bi,this.depth=0,this.index=0,this._privateKey=null,this._publicKey=null,this.chainCode=null,this._fingerprint=0,this.parentFingerprint=0}Object.defineProperty(z.prototype,"fingerprint",{get:function(){return this._fingerprint}});Object.defineProperty(z.prototype,"identifier",{get:function(){return this._identifier}});Object.defineProperty(z.prototype,"pubKeyHash",{get:function(){return this.identifier}});Object.defineProperty(z.prototype,"privateKey",{get:function(){return this._privateKey},set:function(r){Nt.equal(r.length,32,"Private key must be 32 bytes."),Nt(Wt.privateKeyVerify(r)===!0,"Invalid private key"),this._privateKey=r,this._publicKey=Wt.publicKeyCreate(r,!0),this._identifier=ki(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0)}});Object.defineProperty(z.prototype,"publicKey",{get:function(){return this._publicKey},set:function(r){Nt(r.length===33||r.length===65,"Public key must be 33 or 65 bytes."),Nt(Wt.publicKeyVerify(r)===!0,"Invalid public key"),this._publicKey=Wt.publicKeyConvert(r,!0),this._identifier=ki(this.publicKey),this._fingerprint=this._identifier.slice(0,4).readUInt32BE(0),this._privateKey=null}});Object.defineProperty(z.prototype,"privateExtendedKey",{get:function(){return this._privateKey?ge.encode(_i(this,this.versions.private,Vt.concat([Vt.alloc(1,0),this.privateKey]))):null}});Object.defineProperty(z.prototype,"publicExtendedKey",{get:function(){return ge.encode(_i(this,this.versions.public,this.publicKey))}});z.prototype.derive=function(r){if(r==="m"||r==="M"||r==="m'"||r==="M'")return this;var a=r.split("/"),o=this;return a.forEach(function(v,f){if(f===0){Nt(/^[mM]{1}/.test(v),'Path must start with "m" or "M"');return}var m=v.length>1&&v[v.length-1]==="'",w=parseInt(v,10);Nt(w<Er,"Invalid index"),m&&(w+=Er),o=o.deriveChild(w)}),o};z.prototype.deriveChild=function(r){var a=r>=Er,o=Vt.allocUnsafe(4);o.writeUInt32BE(r,0);var v;if(a){Nt(this.privateKey,"Could not derive hardened child key");var f=this.privateKey,m=Vt.alloc(1,0);f=Vt.concat([m,f]),v=Vt.concat([f,o])}else v=Vt.concat([this.publicKey,o]);var w=cr.createHmac("sha512",this.chainCode).update(v).digest(),K=w.slice(0,32),x=w.slice(32),g=new z(this.versions);if(this.privateKey)try{g.privateKey=Wt.privateKeyTweakAdd(this.privateKey,K)}catch{return this.deriveChild(r+1)}else try{g.publicKey=Wt.publicKeyTweakAdd(this.publicKey,K,!0)}catch{return this.deriveChild(r+1)}return g.chainCode=x,g.depth=this.depth+1,g.parentFingerprint=this.fingerprint,g.index=r,g};z.prototype.sign=function(r){return Wt.sign(r,this.privateKey).signature};z.prototype.verify=function(r,a){return Wt.verify(r,a,this.publicKey)};z.prototype.wipePrivateData=function(){return this._privateKey&&cr.randomBytes(this._privateKey.length).copy(this._privateKey),this._privateKey=null,this};z.prototype.toJSON=function(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}};z.fromMasterSeed=function(r,a){var o=cr.createHmac("sha512",Vn).update(r).digest(),v=o.slice(0,32),f=o.slice(32),m=new z(a);return m.chainCode=f,m.privateKey=v,m};z.fromExtendedKey=function(r,a){a=a||bi;var o=new z(a),v=ge.decode(r),f=v.readUInt32BE(0);Nt(f===a.private||f===a.public,"Version mismatch: does not match private or public"),o.depth=v.readUInt8(4),o.parentFingerprint=v.readUInt32BE(5),o.index=v.readUInt32BE(9),o.chainCode=v.slice(13,45);var m=v.slice(45);return m.readUInt8(0)===0?(Nt(f===a.private,"Version mismatch: version does not match private"),o.privateKey=m.slice(1)):(Nt(f===a.public,"Version mismatch: version does not match public"),o.publicKey=m),o};z.fromJSON=function(r){return z.fromExtendedKey(r.xpriv)};function _i(r,a,o){var v=Vt.allocUnsafe(zn);v.writeUInt32BE(a,0),v.writeUInt8(r.depth,4);var f=r.depth?r.parentFingerprint:0;return v.writeUInt32BE(f,5),v.writeUInt32BE(r.index,9),r.chainCode.copy(v,13),o.copy(v,45),v}function ki(r){var a=cr.createHash("sha256").update(r).digest();return cr.createHash("ripemd160").update(a).digest()}z.HARDENED_OFFSET=Er;var Un=z;Ai.exports=Un});var Ei=O(we=>{"use strict";A();S();Object.defineProperty(we,"__esModule",{value:!0});var Zn=Si();we.HDKey=Zn});var Ci=O(Me=>{"use strict";A();S();Object.defineProperty(Me,"__esModule",{value:!0});var Ki=xe(),Bi=Ei(),Dn=function(){function r(a){this._hdkey=a}return r.fromMasterSeed=function(a){return new r(Bi.HDKey.fromMasterSeed(a))},r.fromExtendedKey=function(a){return new r(Bi.HDKey.fromExtendedKey(a))},r.prototype.privateExtendedKey=function(){if(!this._hdkey.privateExtendedKey)throw new Error("This is a public key only wallet");return this._hdkey.privateExtendedKey},r.prototype.publicExtendedKey=function(){return this._hdkey.publicExtendedKey},r.prototype.derivePath=function(a){return new r(this._hdkey.derive(a))},r.prototype.deriveChild=function(a){return new r(this._hdkey.deriveChild(a))},r.prototype.getWallet=function(){return this._hdkey._privateKey?Ki.default.fromPrivateKey(this._hdkey._privateKey):Ki.default.fromPublicKey(this._hdkey._publicKey,!0)},r}();Me.default=Dn});var qi=O(Kr=>{A();S();(function(r){var a=String.fromCharCode;function o(E){for(var q=[],V=0,At=E.length,F,Et;V<At;)F=E.charCodeAt(V++),F>=55296&&F<=56319&&V<At?(Et=E.charCodeAt(V++),(Et&64512)==56320?q.push(((F&1023)<<10)+(Et&1023)+65536):(q.push(F),V--)):q.push(F);return q}function v(E){for(var q=E.length,V=-1,At,F="";++V<q;)At=E[V],At>65535&&(At-=65536,F+=a(At>>>10&1023|55296),At=56320|At&1023),F+=a(At);return F}function f(E){if(E>=55296&&E<=57343)throw Error("Lone surrogate U+"+E.toString(16).toUpperCase()+" is not a scalar value")}function m(E,q){return a(E>>q&63|128)}function w(E){if((E&4294967168)==0)return a(E);var q="";return(E&4294965248)==0?q=a(E>>6&31|192):(E&4294901760)==0?(f(E),q=a(E>>12&15|224),q+=m(E,6)):(E&4292870144)==0&&(q=a(E>>18&7|240),q+=m(E,12),q+=m(E,6)),q+=a(E&63|128),q}function K(E){for(var q=o(E),V=q.length,At=-1,F,Et="";++At<V;)F=q[At],Et+=w(F);return Et}function x(){if(qt>=H)throw Error("Invalid byte index");var E=k[qt]&255;if(qt++,(E&192)==128)return E&63;throw Error("Invalid continuation byte")}function g(){var E,q,V,At,F;if(qt>H)throw Error("Invalid byte index");if(qt==H)return!1;if(E=k[qt]&255,qt++,(E&128)==0)return E;if((E&224)==192){if(q=x(),F=(E&31)<<6|q,F>=128)return F;throw Error("Invalid continuation byte")}if((E&240)==224){if(q=x(),V=x(),F=(E&15)<<12|q<<6|V,F>=2048)return f(F),F;throw Error("Invalid continuation byte")}if((E&248)==240&&(q=x(),V=x(),At=x(),F=(E&7)<<18|q<<12|V<<6|At,F>=65536&&F<=1114111))return F;throw Error("Invalid UTF-8 detected")}var k,H,qt;function zt(E){k=o(E),H=k.length,qt=0;for(var q=[],V;(V=g())!==!1;)q.push(V);return v(q)}r.version="3.0.0",r.encode=K,r.decode=zt})(typeof Kr>"u"?Kr.utf8={}:Kr)});var Ri=O(Bt=>{"use strict";A();S();var jn=Bt&&Bt.__awaiter||function(r,a,o,v){function f(m){return m instanceof o?m:new o(function(w){w(m)})}return new(o||(o=Promise))(function(m,w){function K(k){try{g(v.next(k))}catch(H){w(H)}}function x(k){try{g(v.throw(k))}catch(H){w(H)}}function g(k){k.done?m(k.value):f(k.value).then(K,x)}g((v=v.apply(r,a||[])).next())})},Wn=Bt&&Bt.__generator||function(r,a){var o={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},v,f,m,w;return w={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function K(g){return function(k){return x([g,k])}}function x(g){if(v)throw new TypeError("Generator is already executing.");for(;o;)try{if(v=1,f&&(m=g[0]&2?f.return:g[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,g[1])).done)return m;switch(f=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return o.label++,{value:g[1],done:!1};case 5:o.label++,f=g[1],g=[0];continue;case 7:g=o.ops.pop(),o.trys.pop();continue;default:if(m=o.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){o=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){o.label=g[1];break}if(g[0]===6&&o.label<m[1]){o.label=m[1],m=g;break}if(m&&o.label<m[2]){o.label=m[2],o.ops.push(g);break}m[2]&&o.ops.pop(),o.trys.pop();continue}g=a.call(r,o)}catch(k){g=[6,k],f=0}finally{v=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.fromQuorumWallet=Bt.fromKryptoKit=Bt.fromEtherCamp=Bt.fromEtherWallet=void 0;var Br=Ye(),ir=ve(),Jn=ti(),Cr=xe(),Gn=qi(),Yn=Xi();function Qn(r,a){return y.Buffer.concat([r.update(a),r.final()])}var dr={count:1,keysize:16,ivsize:16,digest:"md5"};function Xn(r){return r?{count:r.count||dr.count,keysize:r.keysize||dr.keysize,ivsize:r.ivsize||dr.ivsize,digest:r.digest||dr.digest}:dr}function $n(r,a,o){var v=Xn(o);function f(x){var g=Br.createHash(v.digest);g.update(x),g.update(r),g.update(a),x=g.digest();for(var k=1,H=v.count;k<H;k++)g=Br.createHash(v.digest),g.update(x),x=g.digest();return x}for(var m=[],w=0;y.Buffer.concat(m).length<v.keysize+v.ivsize;)m[w]=f(w===0?y.Buffer.alloc(0):m[w-1]),w++;var K=y.Buffer.concat(m);return{key:K.slice(0,v.keysize),iv:K.slice(v.keysize,v.keysize+v.ivsize)}}function tf(r){var a=y.Buffer.from(r,"base64");return a.slice(0,8).toString()==="Salted__"?{salt:a.slice(8,16),ciphertext:a.slice(16)}:{ciphertext:a}}function Ii(r,a){var o=typeof r=="object"?r:JSON.parse(r),v;if(o.locked){if(typeof a!="string")throw new Error("Password required");if(a.length<7)throw new Error("Password must be at least 7 characters");var f=o.encrypted?o.private.slice(0,128):o.private,m=tf(f);if(!m.salt)throw new Error("Unsupported EtherWallet key format");var w=$n(y.Buffer.from(a),m.salt,{keysize:32,ivsize:16}),K=Br.createDecipheriv("aes-256-cbc",w.key,w.iv);v=Qn(K,y.Buffer.from(m.ciphertext)),v=y.Buffer.from(Gn.decode(v.toString()),"hex")}else{if(o.private.length!==64)throw new Error("Invalid private key length");v=y.Buffer.from(o.private,"hex")}var x=new Cr.default(v);if(x.getAddressString()!==o.address)throw new Error("Invalid private key or address");return x}Bt.fromEtherWallet=Ii;function Pi(r){return new Cr.default(ir.keccak256(y.Buffer.from(r)))}Bt.fromEtherCamp=Pi;function Ti(r,a){return jn(this,void 0,void 0,function(){function o(k){function H(q){try{return decodeURIComponent(q)}catch{return String.fromCharCode(65533)}}for(var qt="",zt="",E=0;E<k.length;E++)k[E]<=127?(qt+=H(zt)+String.fromCharCode(k[E]),zt=""):zt+="%"+k[E].toString(16);return y.Buffer.from(qt+H(zt))}var v,f,m,w,K,x,g;return Wn(this,function(k){switch(k.label){case 0:return r[0]==="#"&&(r=r.slice(1)),v=r[0],r=r.slice(1),v!=="d"?[3,1]:(f=ir.sha256(ir.toBuffer(r)),[3,4]);case 1:if(v!=="q")return[3,3];if(typeof a!="string")throw new Error("Password required");return m=ir.sha256(y.Buffer.from(r.slice(0,30))),w=r.slice(30,46),K=o(m),[4,Jn.scrypt(y.Buffer.from(a,"utf8"),K,16384,8,1,32)];case 2:if(x=k.sent(),g=new Yn.ModeOfOperation.ecb(x),f=y.Buffer.concat([y.Buffer.from(g.decrypt(m.slice(0,16))),y.Buffer.from(g.decrypt(m.slice(16,32)))]),w.length>0&&w!==ir.sha256(ir.sha256(f)).slice(0,8).toString("hex"))throw new Error("Failed to decrypt input - possibly invalid passphrase");return[3,4];case 3:throw new Error("Unsupported or invalid entropy type");case 4:return[2,new Cr.default(f)]}})})}Bt.fromKryptoKit=Ti;function Fi(r,a){if(r.length<10)throw new Error("Passphrase must be at least 10 characters");if(a.length<10)throw new Error("User id must be at least 10 characters");var o=r+a,v=Br.pbkdf2Sync(o,o,2e3,32,"sha256");return new Cr.default(v)}Bt.fromQuorumWallet=Fi;var rf={fromEtherWallet:Ii,fromEtherCamp:Pi,fromKryptoKit:Ti,fromQuorumWallet:Fi};Bt.default=rf});var Oi=O((So,ke)=>{A();S();var Li=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);Li?(be=new Uint8Array(16),ke.exports=function(){return Li(be),be}):(_e=new Array(16),ke.exports=function(){for(var a=0,o;a<16;a++)(a&3)===0&&(o=Math.random()*4294967296),_e[a]=o>>>((a&3)<<3)&255;return _e});var be,_e});var Vi=O((Bo,Hi)=>{A();S();var Ni=[];for(vr=0;vr<256;++vr)Ni[vr]=(vr+256).toString(16).substr(1);var vr;function ef(r,a){var o=a||0,v=Ni;return[v[r[o++]],v[r[o++]],v[r[o++]],v[r[o++]],"-",v[r[o++]],v[r[o++]],"-",v[r[o++]],v[r[o++]],"-",v[r[o++]],v[r[o++]],"-",v[r[o++]],v[r[o++]],v[r[o++]],v[r[o++]],v[r[o++]],v[r[o++]]].join("")}Hi.exports=ef});var Ui=O((Io,zi)=>{A();S();var nf=Oi(),ff=Vi();function of(r,a,o){var v=a&&o||0;typeof r=="string"&&(a=r==="binary"?new Array(16):null,r=null),r=r||{};var f=r.random||(r.rng||nf)();if(f[6]=f[6]&15|64,f[8]=f[8]&63|128,a)for(var m=0;m<16;++m)a[v+m]=f[m];return a||ff(f)}zi.exports=of});var xe=O(Ft=>{A();S();var fr=Ft&&Ft.__assign||function(){return fr=Object.assign||function(r){for(var a,o=1,v=arguments.length;o<v;o++){a=arguments[o];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(r[f]=a[f])}return r},fr.apply(this,arguments)},qr=Ft&&Ft.__awaiter||function(r,a,o,v){function f(m){return m instanceof o?m:new o(function(w){w(m)})}return new(o||(o=Promise))(function(m,w){function K(k){try{g(v.next(k))}catch(H){w(H)}}function x(k){try{g(v.throw(k))}catch(H){w(H)}}function g(k){k.done?m(k.value):f(k.value).then(K,x)}g((v=v.apply(r,a||[])).next())})},Ir=Ft&&Ft.__generator||function(r,a){var o={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},v,f,m,w;return w={next:K(0),throw:K(1),return:K(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function K(g){return function(k){return x([g,k])}}function x(g){if(v)throw new TypeError("Generator is already executing.");for(;o;)try{if(v=1,f&&(m=g[0]&2?f.return:g[0]?f.throw||((m=f.return)&&m.call(f),0):f.next)&&!(m=m.call(f,g[1])).done)return m;switch(f=0,m&&(g=[g[0]&2,m.value]),g[0]){case 0:case 1:m=g;break;case 4:return o.label++,{value:g[1],done:!1};case 5:o.label++,f=g[1],g=[0];continue;case 7:g=o.ops.pop(),o.trys.pop();continue;default:if(m=o.trys,!(m=m.length>0&&m[m.length-1])&&(g[0]===6||g[0]===2)){o=0;continue}if(g[0]===3&&(!m||g[1]>m[0]&&g[1]<m[3])){o.label=g[1];break}if(g[0]===6&&o.label<m[1]){o.label=m[1],m=g;break}if(m&&o.label<m[2]){o.label=m[2],o.ops.push(g);break}m[2]&&o.ops.pop(),o.trys.pop();continue}g=a.call(r,o)}catch(k){g=[6,k],f=0}finally{v=m=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}};Object.defineProperty(Ft,"__esModule",{value:!0});var Qt=Ye(),St=ve(),Ae=ti(),af=Ci();Object.defineProperty(Ft,"hdkey",{enumerable:!0,get:function(){return af.default}});var sf=Ri();Object.defineProperty(Ft,"thirdparty",{enumerable:!0,get:function(){return sf.default}});var Zi=$e(),nr=Ge(),uf=Ui();function Se(r,a,o){if(a.toLowerCase().startsWith("0x")&&(a=a.slice(2)),!a&&!o)return a;if(o%2)throw new Error("Invalid length argument, must be an even number");if(typeof o=="number"&&a.length!==o)throw new Error("Invalid "+r+", string must be "+o+" hex characters");if(!/^([0-9a-f]{2})+$/i.test(a)){var v=typeof o=="number"?o:"empty or a non-zero even number of";throw new Error("Invalid "+r+", string must be "+v+" hex characters")}return a}function Ee(r,a,o){if(!y.Buffer.isBuffer(a)){var v=typeof o=="number"?""+o*2:"empty or a non-zero even number of",f=typeof o=="number"?" ("+o+" bytes)":"";throw new Error("Invalid "+r+", must be a string ("+v+" hex characters) or buffer"+f)}if(typeof o=="number"&&a.length!==o)throw new Error("Invalid "+r+", buffer must be "+o+" bytes");return a}function hf(r){var a={cipher:"aes-128-ctr",kdf:"scrypt",salt:nr(32),iv:nr(16),uuid:nr(16),dklen:32,c:262144,n:262144,r:8,p:1};return r?(typeof r.salt=="string"&&(r.salt=y.Buffer.from(Se("salt",r.salt),"hex")),typeof r.iv=="string"&&(r.iv=y.Buffer.from(Se("iv",r.iv,32),"hex")),typeof r.uuid=="string"&&(r.uuid=y.Buffer.from(Se("uuid",r.uuid,32),"hex")),r.salt&&Ee("salt",r.salt),r.iv&&Ee("iv",r.iv,16),r.uuid&&Ee("uuid",r.uuid,16),fr(fr({},a),r)):a}function lf(r){return{dklen:r.dklen,salt:r.salt,c:r.c,prf:"hmac-sha256"}}function cf(r){return{dklen:r.dklen,salt:r.salt,n:r.n,r:r.r,p:r.p}}var df=function(){function r(a,o){if(o===void 0&&(o=void 0),this.privateKey=a,this.publicKey=o,a&&o)throw new Error("Cannot supply both a private and a public key to the constructor");if(a&&!St.isValidPrivate(a))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");if(o&&!St.isValidPublic(o))throw new Error("Invalid public key")}return r.generate=function(a){if(a===void 0&&(a=!1),a)for(var o=new St.BN("088f924eeceeda7fe92e1f5b0fffffffffffffff",16);;){var v=nr(32);if(new St.BN(St.privateToAddress(v)).lte(o))return new r(v)}else return new r(nr(32))},r.generateVanityAddress=function(a){for(a instanceof RegExp||(a=new RegExp(a));;){var o=nr(32),v=St.privateToAddress(o);if(a.test(v.toString("hex")))return new r(o)}},r.fromPublicKey=function(a,o){return o===void 0&&(o=!1),o&&(a=St.importPublic(a)),new r(void 0,a)},r.fromExtendedPublicKey=function(a){if(a.slice(0,4)!=="xpub")throw new Error("Not an extended public key");var o=Zi.decode(a).slice(45);return r.fromPublicKey(o,!0)},r.fromPrivateKey=function(a){return new r(a)},r.fromExtendedPrivateKey=function(a){if(a.slice(0,4)!=="xprv")throw new Error("Not an extended private key");var o=Zi.decode(a);if(o[45]!==0)throw new Error("Invalid extended private key");return r.fromPrivateKey(o.slice(46))},r.fromV1=function(a,o){return qr(this,void 0,void 0,function(){var v,f,m,w,K,x,g;return Ir(this,function(k){switch(k.label){case 0:if(v=typeof a=="object"?a:JSON.parse(a),v.Version!=="1")throw new Error("Not a V1 Wallet");if(v.Crypto.KeyHeader.Kdf!=="scrypt")throw new Error("Unsupported key derivation scheme");return f=v.Crypto.KeyHeader.KdfParams,[4,Ae.scrypt(y.Buffer.from(o),y.Buffer.from(v.Crypto.Salt,"hex"),f.N,f.R,f.P,f.DkLen)];case 1:if(m=k.sent(),w=y.Buffer.from(v.Crypto.CipherText,"hex"),K=St.keccak256(y.Buffer.concat([m.slice(16,32),w])),K.toString("hex")!==v.Crypto.MAC)throw new Error("Key derivation failed - possibly wrong passphrase");return x=Qt.createDecipheriv("aes-128-cbc",St.keccak256(m.slice(0,16)).slice(0,16),y.Buffer.from(v.Crypto.IV,"hex")),g=Pr(x,w),[2,new r(g)]}})})},r.fromV3=function(a,o,v){return v===void 0&&(v=!1),qr(this,void 0,void 0,function(){var f,m,w,K,x,g,k;return Ir(this,function(H){switch(H.label){case 0:if(f=typeof a=="object"?a:JSON.parse(v?a.toLowerCase():a),f.version!==3)throw new Error("Not a V3 wallet");return f.crypto.kdf!=="scrypt"?[3,2]:(w=f.crypto.kdfparams,[4,Ae.scrypt(y.Buffer.from(o),y.Buffer.from(w.salt,"hex"),w.n,w.r,w.p,w.dklen)]);case 1:return m=H.sent(),[3,3];case 2:if(f.crypto.kdf==="pbkdf2"){if(w=f.crypto.kdfparams,w.prf!=="hmac-sha256")throw new Error("Unsupported parameters to PBKDF2");m=Qt.pbkdf2Sync(y.Buffer.from(o),y.Buffer.from(w.salt,"hex"),w.c,w.dklen,"sha256")}else throw new Error("Unsupported key derivation scheme");H.label=3;case 3:if(K=y.Buffer.from(f.crypto.ciphertext,"hex"),x=St.keccak256(y.Buffer.concat([y.Buffer.from(m.slice(16,32)),K])),x.toString("hex")!==f.crypto.mac)throw new Error("Key derivation failed - possibly wrong passphrase");return g=Qt.createDecipheriv(f.crypto.cipher,m.slice(0,16),y.Buffer.from(f.crypto.cipherparams.iv,"hex")),k=Pr(g,K),[2,new r(k)]}})})},r.fromEthSale=function(a,o){var v=typeof a=="object"?a:JSON.parse(a),f=y.Buffer.from(v.encseed,"hex"),m=Qt.pbkdf2Sync(o,o,2e3,32,"sha256").slice(0,16),w=Qt.createDecipheriv("aes-128-cbc",m,f.slice(0,16)),K=Pr(w,f.slice(16)),x=new r(St.keccak256(K));if(x.getAddress().toString("hex")!==v.ethaddr)throw new Error("Decoded key mismatch - possibly wrong passphrase");return x},Object.defineProperty(r.prototype,"pubKey",{get:function(){return Ke(this.publicKey)||(this.publicKey=St.privateToPublic(this.privateKey)),this.publicKey},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"privKey",{get:function(){if(!Ke(this.privateKey))throw new Error("This is a public key only wallet");return this.privateKey},enumerable:!1,configurable:!0}),r.prototype.getPrivateKey=function(){return this.privKey},r.prototype.getPrivateKeyString=function(){return St.bufferToHex(this.privKey)},r.prototype.getPublicKey=function(){return this.pubKey},r.prototype.getPublicKeyString=function(){return St.bufferToHex(this.getPublicKey())},r.prototype.getAddress=function(){return St.publicToAddress(this.pubKey)},r.prototype.getAddressString=function(){return St.bufferToHex(this.getAddress())},r.prototype.getChecksumAddressString=function(){return St.toChecksumAddress(this.getAddressString())},r.prototype.toV3=function(a,o){return qr(this,void 0,void 0,function(){var v,f,m,w,K,x,g;return Ir(this,function(k){switch(k.label){case 0:if(!Ke(this.privateKey))throw new Error("This is a public key only wallet");switch(v=hf(o),w=v.kdf,w){case"pbkdf2":return[3,1];case"scrypt":return[3,2]}return[3,4];case 1:return f=lf(v),m=Qt.pbkdf2Sync(y.Buffer.from(a),f.salt,f.c,f.dklen,"sha256"),[3,5];case 2:return f=cf(v),[4,Ae.scrypt(y.Buffer.from(a),f.salt,f.n,f.r,f.p,f.dklen)];case 3:return m=k.sent(),[3,5];case 4:throw new Error("Unsupported kdf");case 5:if(K=Qt.createCipheriv(v.cipher,m.slice(0,16),v.iv),!K)throw new Error("Unsupported cipher");return x=Pr(K,this.privKey),g=St.keccak256(y.Buffer.concat([y.Buffer.from(m.slice(16,32)),y.Buffer.from(x)])),[2,{version:3,id:uf({random:v.uuid}),address:this.getAddress().toString("hex"),crypto:{ciphertext:x.toString("hex"),cipherparams:{iv:v.iv.toString("hex")},cipher:v.cipher,kdf:v.kdf,kdfparams:fr(fr({},f),{salt:f.salt.toString("hex")}),mac:g.toString("hex")}}]}})})},r.prototype.getV3Filename=function(a){var o=a?new Date(a):new Date;return["UTC--",o.toJSON().replace(/:/g,"-"),"--",this.getAddress().toString("hex")].join("")},r.prototype.toV3String=function(a,o){return qr(this,void 0,void 0,function(){var v,f;return Ir(this,function(m){switch(m.label){case 0:return f=(v=JSON).stringify,[4,this.toV3(a,o)];case 1:return[2,f.apply(v,[m.sent()])]}})})},r}();Ft.default=df;function Pr(r,a){return y.Buffer.concat([r.update(a),r.final()])}function Ke(r){return r!=null}});export default xe();

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=dist-JCQFBYP5.js.map
