import{a as Jce}from"./chunk-OENWT6RF.js";import{a as KE}from"./chunk-K3QEQ66V.js";import{a as Qce}from"./chunk-JBQEPIXY.js";import{a as efe}from"./chunk-D2YP6KBJ.js";import{a as r0,b as ja}from"./chunk-QIQWQB6H.js";import{a as Gr}from"./chunk-2EEW2VNF.js";import{a as AF}from"./chunk-7S2PODBC.js";import{a as n0}from"./chunk-QRUVUSNQ.js";import{a as ff}from"./chunk-NNKJZQP6.js";import{a as $ce,b as zce,c as Wce,d as Yce,e as Xce,f as Zce}from"./chunk-JEUNE5O6.js";import{a as jce}from"./chunk-32ZJ4F2J.js";import{a as EF,b as Kce,m as Vce,n as Gce}from"./chunk-AC3OZMMD.js";import{A as qce,D as UE,E as t0,F as Rb,G as qE,J as Q6,K as jE,L as Cd,d as $i,e as I5,f as Uce,g as f8,h as wF,v as xF,x as J6}from"./chunk-WLCPEPD7.js";import{a as Cb,b as Dce,c as j,d as Lce,g as LE,n as process,o as B,p as E,q as M}from"./chunk-SHG7TIBL.js";var Au=j(Xh=>{"use strict";B();M();Object.defineProperty(Xh,"__esModule",{value:!0});Xh.testnet=Xh.regtest=Xh.bitcoin=void 0;Xh.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};Xh.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};Xh.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var $E=j(Zh=>{"use strict";B();M();Object.defineProperty(Zh,"__esModule",{value:!0});Zh.encode=Zh.decode=Zh.check=void 0;function tfe(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}Zh.check=tfe;function rfe(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}Zh.decode=rfe;function nfe(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let i=E.Buffer.allocUnsafe(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=t.length,t.copy(i,4),i[4+r]=2,i[5+r]=e.length,e.copy(i,6+r),i}Zh.encode=nfe});var ep=j(P5=>{"use strict";B();M();Object.defineProperty(P5,"__esModule",{value:!0});P5.REVERSE_OPS=P5.OPS=void 0;var zE={OP_FALSE:0,OP_0:0,OP_DATA_1:1,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};P5.OPS=zE;var TF={};P5.REVERSE_OPS=TF;for(let t of Object.keys(zE)){let e=zE[t];TF[e]=t}});var PF=j(Qh=>{"use strict";B();M();Object.defineProperty(Qh,"__esModule",{value:!0});Qh.decode=Qh.encode=Qh.encodingLength=void 0;var Jh=ep();function IF(t){return t<Jh.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}Qh.encodingLength=IF;function ife(t,e,r){let n=IF(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(Jh.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(Jh.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(Jh.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}Qh.encode=ife;function sfe(t,e){let r=t.readUInt8(e),n,i;if(r<Jh.OPS.OP_PUSHDATA1)n=r,i=1;else if(r===Jh.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(r===Jh.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(r!==Jh.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:r,number:n,size:i}}Qh.decode=sfe});var OF=j(O5=>{"use strict";B();M();Object.defineProperty(O5,"__esModule",{value:!0});O5.encode=O5.decode=void 0;function ofe(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&(t[n-1]&127)===0&&(n<=1||(t[n-2]&128)===0))throw new Error("Non-minimally encoded script number");if(n===5){let s=t.readUInt32LE(0),o=t.readUInt8(4);return o&128?-((o&-129)*4294967296+s):o*4294967296+s}let i=0;for(let s=0;s<n;++s)i|=t[s]<<8*s;return t[n-1]&128?-(i&~(128<<8*(n-1))):i}O5.decode=ofe;function afe(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function ufe(t){let e=Math.abs(t),r=afe(e),n=E.Buffer.allocUnsafe(r),i=t<0;for(let s=0;s<r;++s)n.writeUInt8(e&255,s),e>>=8;return n[r-1]&128?n.writeUInt8(i?128:0,r-1):i&&(n[r-1]|=128),n}O5.encode=ufe});var tp=j(Nt=>{"use strict";B();M();Object.defineProperty(Nt,"__esModule",{value:!0});Nt.bytes=Nt.stringToBytes=Nt.str=Nt.bytesToString=Nt.hex=Nt.utf8=Nt.bech32m=Nt.bech32=Nt.base58check=Nt.base58xmr=Nt.base58xrp=Nt.base58flickr=Nt.base58=Nt.base64url=Nt.base64=Nt.base32crockford=Nt.base32hex=Nt.base32=Nt.base16=Nt.utils=Nt.assertNumber=void 0;function el(t){if(!Number.isSafeInteger(t))throw new Error(`Wrong integer: ${t}`)}Nt.assertNumber=el;function df(...t){let e=(i,s)=>o=>i(s(o)),r=Array.from(t).reverse().reduce((i,s)=>i?e(i,s.encode):s.encode,void 0),n=t.reduce((i,s)=>i?e(i,s.decode):s.decode,void 0);return{encode:r,decode:n}}function i0(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return e.map(r=>{if(el(r),r<0||r>=t.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${t.length})`);return t[r]})},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("alphabet.decode input should be array of strings");return e.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);let n=t.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${t}`);return n})}}}function s0(t=""){if(typeof t!="string")throw new Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of e)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return e.join(t)},decode:e=>{if(typeof e!="string")throw new Error("join.decode input should be string");return e.split(t)}}}function Hb(t,e="="){if(el(t),typeof e!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;r.length*t%8;)r.push(e);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of r)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let n=r.length;if(n*t%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if(!((n-1)*t%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function NF(t){if(typeof t!="function")throw new Error("normalize fn should be function");return{encode:e=>e,decode:e=>t(e)}}function BF(t,e,r){if(e<2)throw new Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw new Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],s=Array.from(t);for(s.forEach(o=>{if(el(o),o<0||o>=e)throw new Error(`Wrong integer: ${o}`)});;){let o=0,a=!0;for(let u=n;u<s.length;u++){let c=s[u],d=e*o+c;if(!Number.isSafeInteger(d)||e*o/e!==o||d-c!==e*o)throw new Error("convertRadix: carry overflow");if(o=d%r,s[u]=Math.floor(d/r),!Number.isSafeInteger(s[u])||s[u]*r+o!==d)throw new Error("convertRadix: carry overflow");if(a)s[u]?a=!1:n=u;else continue}if(i.push(o),a)break}for(let o=0;o<t.length-1&&t[o]===0;o++)i.push(0);return i.reverse()}var FF=(t,e)=>e?FF(e,t%e):t,d8=(t,e)=>t+(e-FF(t,e));function VE(t,e,r,n){if(!Array.isArray(t))throw new Error("convertRadix2: data should be array");if(e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(d8(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${d8(e,r)}`);let i=0,s=0,o=2**r-1,a=[];for(let u of t){if(el(u),u>=2**e)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)a.push((i>>s-r&o)>>>0);i&=2**s-1}if(i=i<<r-s&o,!n&&s>=e)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&a.push(i>>>0),a}function HF(t){return el(t),{encode:e=>{if(!(e instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return BF(Array.from(e),2**8,t)},decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(BF(e,t,2**8))}}}function Rd(t,e=!1){if(el(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(d8(8,t)>32||d8(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return VE(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(VE(r,t,8,e))}}}function MF(t){if(typeof t!="function")throw new Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch{}}}function DF(t,e){if(el(t),typeof e!="function")throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let o=0;o<t;o++)if(i[o]!==s[o])throw new Error("Invalid checksum");return n}}}Nt.utils={alphabet:i0,chain:df,checksum:DF,radix:HF,radix2:Rd,join:s0,padding:Hb};Nt.base16=df(Rd(4),i0("0123456789ABCDEF"),s0(""));Nt.base32=df(Rd(5),i0("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Hb(5),s0(""));Nt.base32hex=df(Rd(5),i0("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Hb(5),s0(""));Nt.base32crockford=df(Rd(5),i0("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),s0(""),NF(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));Nt.base64=df(Rd(6),i0("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Hb(6),s0(""));Nt.base64url=df(Rd(6),i0("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Hb(6),s0(""));var WE=t=>df(HF(58),i0(t),s0(""));Nt.base58=WE("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");Nt.base58flickr=WE("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ");Nt.base58xrp=WE("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");var kF=[0,2,3,5,6,7,9,10,11];Nt.base58xmr={encode(t){let e="";for(let r=0;r<t.length;r+=8){let n=t.subarray(r,r+8);e+=Nt.base58.encode(n).padStart(kF[n.length],"1")}return e},decode(t){let e=[];for(let r=0;r<t.length;r+=11){let n=t.slice(r,r+11),i=kF.indexOf(n.length),s=Nt.base58.decode(n);for(let o=0;o<s.length-i;o++)if(s[o]!==0)throw new Error("base58xmr: wrong padding");e=e.concat(Array.from(s.slice(s.length-i)))}return Uint8Array.from(e)}};var cfe=t=>df(DF(4,e=>t(t(e))),Nt.base58);Nt.base58check=cfe;var GE=df(i0("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),s0("")),CF=[996825010,642813549,513874426,1027748829,705979059];function Nb(t){let e=t>>25,r=(t&33554431)<<5;for(let n=0;n<CF.length;n++)(e>>n&1)===1&&(r^=CF[n]);return r}function RF(t,e,r=1){let n=t.length,i=1;for(let s=0;s<n;s++){let o=t.charCodeAt(s);if(o<33||o>126)throw new Error(`Invalid prefix (${t})`);i=Nb(i)^o>>5}i=Nb(i);for(let s=0;s<n;s++)i=Nb(i)^t.charCodeAt(s)&31;for(let s of e)i=Nb(i)^s;for(let s=0;s<6;s++)i=Nb(i);return i^=r,GE.encode(VE([i%2**30],30,5,!1))}function LF(t){let e=t==="bech32"?1:734539939,r=Rd(5),n=r.decode,i=r.encode,s=MF(n);function o(d,f,m=90){if(typeof d!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof d}`);if(!Array.isArray(f)||f.length&&typeof f[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof f}`);let p=d.length+7+f.length;if(m!==!1&&p>m)throw new TypeError(`Length ${p} exceeds limit ${m}`);return d=d.toLowerCase(),`${d}1${GE.encode(f)}${RF(d,f,e)}`}function a(d,f=90){if(typeof d!="string")throw new Error(`bech32.decode input should be string, not ${typeof d}`);if(d.length<8||f!==!1&&d.length>f)throw new TypeError(`Wrong string length: ${d.length} (${d}). Expected (8..${f})`);let m=d.toLowerCase();if(d!==m&&d!==d.toUpperCase())throw new Error("String must be lowercase or uppercase");d=m;let p=d.lastIndexOf("1");if(p===0||p===-1)throw new Error('Letter "1" must be present between prefix and data only');let[y,w]=[d.slice(0,p),d.slice(p+1)];if(w.length<6)throw new Error("Data must be at least 6 characters long");let P=GE.decode(w).slice(0,-6),C=RF(y,P,e);if(!w.endsWith(C))throw new Error(`Invalid checksum in ${d}: expected "${C}"`);return{prefix:y,words:P}}let u=MF(a);function c(d){let{prefix:f,words:m}=a(d,!1);return{prefix:f,words:m,bytes:n(m)}}return{encode:o,decode:a,decodeToBytes:c,decodeUnsafe:u,fromWords:n,fromWordsUnsafe:s,toWords:i}}Nt.bech32=LF("bech32");Nt.bech32m=LF("bech32m");Nt.utf8={encode:t=>new TextDecoder().decode(t),decode:t=>new TextEncoder().encode(t)};Nt.hex=df(Rd(4),i0("0123456789abcdef"),s0(""),NF(t=>{if(typeof t!="string"||t.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()}));var Fb={utf8:Nt.utf8,hex:Nt.hex,base16:Nt.base16,base32:Nt.base32,base64:Nt.base64,base64url:Nt.base64url,base58:Nt.base58,base58xmr:Nt.base58xmr},UF=`Invalid encoding type. Available types: ${Object.keys(Fb).join(", ")}`,ffe=(t,e)=>{if(typeof t!="string"||!Fb.hasOwnProperty(t))throw new TypeError(UF);if(!(e instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return Fb[t].encode(e)};Nt.bytesToString=ffe;Nt.str=Nt.bytesToString;var dfe=(t,e)=>{if(!Fb.hasOwnProperty(t))throw new TypeError(UF);if(typeof e!="string")throw new TypeError("stringToBytes() expects string");return Fb[t].decode(e)};Nt.stringToBytes=dfe;Nt.bytes=Nt.stringToBytes});var qF=j(tl=>{"use strict";B();M();Object.defineProperty(tl,"__esModule",{value:!0});tl.base58=tl.fromBase58=tl.toBase58=void 0;var YE=tp();Object.defineProperty(tl,"base58",{enumerable:!0,get:function(){return YE.base58}});function hfe(t){let e=E.Buffer.from(t);return YE.base58.encode(Uint8Array.from(e))}tl.toBase58=hfe;function lfe(t){return YE.base58.decode(t)}tl.fromBase58=lfe});var jF=j(h8=>{"use strict";B();M();Object.defineProperty(h8,"__esModule",{value:!0});h8.crypto=void 0;h8.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var _o=j((sr,Db)=>{"use strict";B();M();Object.defineProperty(sr,"__esModule",{value:!0});sr.randomBytes=sr.wrapConstructorWithOpts=sr.wrapConstructor=sr.checkOpts=sr.Hash=sr.assertHash=sr.assertBytes=sr.assertBool=sr.assertNumber=sr.concatBytes=sr.toBytes=sr.utf8ToBytes=sr.asyncLoop=sr.nextTick=sr.hexToBytes=sr.bytesToHex=sr.isLE=sr.rotr=sr.createView=sr.u32=sr.u8=void 0;var l8=jF(),pfe=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);sr.u8=pfe;var bfe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));sr.u32=bfe;var gfe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);sr.createView=gfe;var mfe=(t,e)=>t<<32-e|t>>>e;sr.rotr=mfe;sr.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!sr.isLE)throw new Error("Non little-endian hardware is not supported");var yfe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vfe(t){let e="";for(let r=0;r<t.length;r++)e+=yfe[t[r]];return e}sr.bytesToHex=vfe;function _fe(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s))throw new Error("Invalid byte sequence");e[r]=s}return e}sr.hexToBytes=_fe;sr.nextTick=(()=>{let t=typeof Db<"u"&&typeof Db.require=="function"&&Db.require.bind(Db);try{if(t){let{setImmediate:e}=t("timers");return()=>new Promise(r=>e(r))}}catch{}return()=>new Promise(e=>setTimeout(e,0))})();async function Sfe(t,e,r){let n=Date.now();for(let i=0;i<t;i++){r(i);let s=Date.now()-n;s>=0&&s<e||(await(0,sr.nextTick)(),n+=s)}}sr.asyncLoop=Sfe;function KF(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}sr.utf8ToBytes=KF;function JE(t){if(typeof t=="string"&&(t=KF(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}sr.toBytes=JE;function wfe(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}sr.concatBytes=wfe;function XE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}sr.assertNumber=XE;function xfe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}sr.assertBool=xfe;function Efe(t,...e){if(!(t instanceof Uint8Array&&(!e.length||e.includes(t.length))))throw new TypeError(`Expected ${e} bytes, not ${typeof t} with length=${t.length}`)}sr.assertBytes=Efe;function Afe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");XE(t.outputLen),XE(t.blockLen)}sr.assertHash=Afe;var ZE=class{clone(){return this._cloneInto()}};sr.Hash=ZE;var Tfe=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function Ife(t,e){if(e!==void 0&&(typeof e!="object"||!Tfe(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}sr.checkOpts=Ife;function Pfe(t){let e=n=>t().update(JE(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}sr.wrapConstructor=Pfe;function Ofe(t){let e=(n,i)=>t(i).update(JE(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}sr.wrapConstructorWithOpts=Ofe;function Bfe(t=32){if(l8.crypto.web)return l8.crypto.web.getRandomValues(new Uint8Array(t));if(l8.crypto.node)return new Uint8Array(l8.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}sr.randomBytes=Bfe});var b8=j(p8=>{"use strict";B();M();Object.defineProperty(p8,"__esModule",{value:!0});p8.SHA2=void 0;var Lb=_o();function Mfe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var QE=class extends Lb.Hash{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,Lb.createView)(this.buffer)}update(e){if(this.destroyed)throw new Error("instance is destroyed");let{view:r,buffer:n,blockLen:i,finished:s}=this;if(s)throw new Error("digest() was already called");e=(0,Lb.toBytes)(e);let o=e.length;for(let a=0;a<o;){let u=Math.min(i-this.pos,o-a);if(u===i){let c=(0,Lb.createView)(e);for(;i<=o-a;a+=i)this.process(c,a);continue}n.set(e.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length<this.outputLen)throw new Error("_Sha2: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let u=o;u<i;u++)r[u]=0;Mfe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=(0,Lb.createView)(e);this.get().forEach((u,c)=>a.setUint32(4*c,u,s))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};p8.SHA2=QE});var B5=j(g8=>{"use strict";B();M();Object.defineProperty(g8,"__esModule",{value:!0});g8.sha256=void 0;var kfe=b8(),hf=_o(),Cfe=(t,e,r)=>t&e^~t&r,Rfe=(t,e,r)=>t&e^t&r^e&r,Nfe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rl=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nl=new Uint32Array(64),eA=class extends kfe.SHA2{constructor(){super(64,32,8,!1),this.A=rl[0]|0,this.B=rl[1]|0,this.C=rl[2]|0,this.D=rl[3]|0,this.E=rl[4]|0,this.F=rl[5]|0,this.G=rl[6]|0,this.H=rl[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)nl[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let m=nl[f-15],p=nl[f-2],y=(0,hf.rotr)(m,7)^(0,hf.rotr)(m,18)^m>>>3,w=(0,hf.rotr)(p,17)^(0,hf.rotr)(p,19)^p>>>10;nl[f]=w+nl[f-7]+y+nl[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:d}=this;for(let f=0;f<64;f++){let m=(0,hf.rotr)(a,6)^(0,hf.rotr)(a,11)^(0,hf.rotr)(a,25),p=d+m+Cfe(a,u,c)+Nfe[f]+nl[f]|0,w=((0,hf.rotr)(n,2)^(0,hf.rotr)(n,13)^(0,hf.rotr)(n,22))+Rfe(n,i,s)|0;d=c,c=u,u=a,a=o+p|0,o=s,s=i,i=n,n=p+w|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,u,c,d)}roundClean(){nl.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};g8.sha256=(0,hf.wrapConstructor)(()=>new eA)});var M5=j(or=>{"use strict";B();M();Object.defineProperty(or,"__esModule",{value:!0});or.add5H=or.add5L=or.add4H=or.add4L=or.add3H=or.add3L=or.add=or.rotlBL=or.rotlBH=or.rotlSL=or.rotlSH=or.rotr32L=or.rotr32H=or.rotrBL=or.rotrBH=or.rotrSL=or.rotrSH=or.shrSL=or.shrSH=or.toBig=or.split=or.fromBig=void 0;var m8=BigInt(2**32-1),tA=BigInt(32);function $F(t,e=!1){return e?{h:Number(t&m8),l:Number(t>>tA&m8)}:{h:Number(t>>tA&m8)|0,l:Number(t&m8)|0}}or.fromBig=$F;function Ffe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:o}=$F(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}or.split=Ffe;var Hfe=(t,e)=>BigInt(t>>>0)<<tA|BigInt(e>>>0);or.toBig=Hfe;var Dfe=(t,e,r)=>t>>>r;or.shrSH=Dfe;var Lfe=(t,e,r)=>t<<32-r|e>>>r;or.shrSL=Lfe;var Ufe=(t,e,r)=>t>>>r|e<<32-r;or.rotrSH=Ufe;var qfe=(t,e,r)=>t<<32-r|e>>>r;or.rotrSL=qfe;var jfe=(t,e,r)=>t<<64-r|e>>>r-32;or.rotrBH=jfe;var Kfe=(t,e,r)=>t>>>r-32|e<<64-r;or.rotrBL=Kfe;var $fe=(t,e)=>e;or.rotr32H=$fe;var zfe=(t,e)=>t;or.rotr32L=zfe;var Vfe=(t,e,r)=>t<<r|e>>>32-r;or.rotlSH=Vfe;var Gfe=(t,e,r)=>e<<r|t>>>32-r;or.rotlSL=Gfe;var Wfe=(t,e,r)=>e<<r-32|t>>>64-r;or.rotlBH=Wfe;var Yfe=(t,e,r)=>t<<r-32|e>>>64-r;or.rotlBL=Yfe;function Xfe(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}or.add=Xfe;var Zfe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);or.add3L=Zfe;var Jfe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;or.add3H=Jfe;var Qfe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);or.add4L=Qfe;var e0e=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0;or.add4H=e0e;var t0e=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0);or.add5L=t0e;var r0e=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0;or.add5H=r0e});var y8=j(Vo=>{"use strict";B();M();var n0e=Vo&&Vo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),i0e=Vo&&Vo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s0e=Vo&&Vo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&n0e(e,t,r);return i0e(e,t),e};Object.defineProperty(Vo,"__esModule",{value:!0});Vo.sha384=Vo.sha512_256=Vo.sha512=Vo.SHA512=void 0;var o0e=b8(),Mr=s0e(M5()),iA=_o(),[a0e,u0e]=Mr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),il=new Uint32Array(80),sl=new Uint32Array(80),k5=class extends o0e.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:c,El:d,Fh:f,Fl:m,Gh:p,Gl:y,Hh:w,Hl:P}=this;return[e,r,n,i,s,o,a,u,c,d,f,m,p,y,w,P]}set(e,r,n,i,s,o,a,u,c,d,f,m,p,y,w,P){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=c|0,this.El=d|0,this.Fh=f|0,this.Fl=m|0,this.Gh=p|0,this.Gl=y|0,this.Hh=w|0,this.Hl=P|0}process(e,r){for(let T=0;T<16;T++,r+=4)il[T]=e.getUint32(r),sl[T]=e.getUint32(r+=4);for(let T=16;T<80;T++){let k=il[T-15]|0,H=sl[T-15]|0,F=Mr.rotrSH(k,H,1)^Mr.rotrSH(k,H,8)^Mr.shrSH(k,H,7),L=Mr.rotrSL(k,H,1)^Mr.rotrSL(k,H,8)^Mr.shrSL(k,H,7),D=il[T-2]|0,N=sl[T-2]|0,g=Mr.rotrSH(D,N,19)^Mr.rotrBH(D,N,61)^Mr.shrSH(D,N,6),h=Mr.rotrSL(D,N,19)^Mr.rotrBL(D,N,61)^Mr.shrSL(D,N,6),l=Mr.add4L(L,h,sl[T-7],sl[T-16]),b=Mr.add4H(l,F,g,il[T-7],il[T-16]);il[T]=b|0,sl[T]=l|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:c,Dl:d,Eh:f,El:m,Fh:p,Fl:y,Gh:w,Gl:P,Hh:C,Hl:R}=this;for(let T=0;T<80;T++){let k=Mr.rotrSH(f,m,14)^Mr.rotrSH(f,m,18)^Mr.rotrBH(f,m,41),H=Mr.rotrSL(f,m,14)^Mr.rotrSL(f,m,18)^Mr.rotrBL(f,m,41),F=f&p^~f&w,L=m&y^~m&P,D=Mr.add5L(R,H,L,u0e[T],sl[T]),N=Mr.add5H(D,C,k,F,a0e[T],il[T]),g=D|0,h=Mr.rotrSH(n,i,28)^Mr.rotrBH(n,i,34)^Mr.rotrBH(n,i,39),l=Mr.rotrSL(n,i,28)^Mr.rotrBL(n,i,34)^Mr.rotrBL(n,i,39),b=n&s^n&a^s&a,_=i&o^i&u^o&u;C=w|0,R=P|0,w=p|0,P=y|0,p=f|0,y=m|0,{h:f,l:m}=Mr.add(c|0,d|0,N|0,g|0),c=a|0,d=u|0,a=s|0,u=o|0,s=n|0,o=i|0;let x=Mr.add3L(g,l,_);n=Mr.add3H(x,N,h,b),i=x|0}({h:n,l:i}=Mr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Mr.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=Mr.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:c,l:d}=Mr.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:f,l:m}=Mr.add(this.Eh|0,this.El|0,f|0,m|0),{h:p,l:y}=Mr.add(this.Fh|0,this.Fl|0,p|0,y|0),{h:w,l:P}=Mr.add(this.Gh|0,this.Gl|0,w|0,P|0),{h:C,l:R}=Mr.add(this.Hh|0,this.Hl|0,C|0,R|0),this.set(n,i,s,o,a,u,c,d,f,m,p,y,w,P,C,R)}roundClean(){il.fill(0),sl.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Vo.SHA512=k5;var rA=class extends k5{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},nA=class extends k5{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Vo.sha512=(0,iA.wrapConstructor)(()=>new k5);Vo.sha512_256=(0,iA.wrapConstructor)(()=>new rA);Vo.sha384=(0,iA.wrapConstructor)(()=>new nA)});var aA=j(C5=>{"use strict";B();M();Object.defineProperty(C5,"__esModule",{value:!0});C5.ripemd160=C5.RIPEMD160=void 0;var c0e=b8(),f0e=_o(),d0e=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),VF=Uint8Array.from({length:16},(t,e)=>e),h0e=VF.map(t=>(9*t+5)%16),sA=[VF],oA=[h0e];for(let t=0;t<4;t++)for(let e of[sA,oA])e.push(e[t].map(r=>d0e[r]));var GF=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),l0e=sA.map((t,e)=>t.map(r=>GF[e][r])),p0e=oA.map((t,e)=>t.map(r=>GF[e][r])),b0e=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),g0e=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),v8=(t,e)=>t<<e|t>>>32-e;function zF(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var _8=new Uint32Array(16),S8=class extends c0e.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let p=0;p<16;p++,r+=4)_8[p]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,a=this.h2|0,u=a,c=this.h3|0,d=c,f=this.h4|0,m=f;for(let p=0;p<5;p++){let y=4-p,w=b0e[p],P=g0e[p],C=sA[p],R=oA[p],T=l0e[p],k=p0e[p];for(let H=0;H<16;H++){let F=v8(n+zF(p,s,a,c)+_8[C[H]]+w,T[H])+f|0;n=f,f=c,c=v8(a,10)|0,a=s,s=F}for(let H=0;H<16;H++){let F=v8(i+zF(y,o,u,d)+_8[R[H]]+P,k[H])+m|0;i=m,m=d,d=v8(u,10)|0,u=o,o=F}}this.set(this.h1+a+d|0,this.h2+c+m|0,this.h3+f+i|0,this.h4+n+o|0,this.h0+s+u|0)}roundClean(){_8.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};C5.RIPEMD160=S8;C5.ripemd160=(0,f0e.wrapConstructor)(()=>new S8)});var w8=j(fn=>{"use strict";B();M();var m0e=fn&&fn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),y0e=fn&&fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),v0e=fn&&fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m0e(e,t,r);return y0e(e,t),e};Object.defineProperty(fn,"__esModule",{value:!0});fn.shake256=fn.shake128=fn.keccak_512=fn.keccak_384=fn.keccak_256=fn.keccak_224=fn.sha3_512=fn.sha3_384=fn.sha3_256=fn.sha3_224=fn.Keccak=fn.keccakP=void 0;var qb=v0e(M5()),rp=_o(),[XF,ZF,JF]=[[],[],[]],_0e=BigInt(0),Ub=BigInt(1),S0e=BigInt(2),w0e=BigInt(7),x0e=BigInt(256),E0e=BigInt(113);for(let t=0,e=Ub,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],XF.push(2*(5*n+r)),ZF.push((t+1)*(t+2)/2%64);let i=_0e;for(let s=0;s<7;s++)e=(e<<Ub^(e>>w0e)*E0e)%x0e,e&S0e&&(i^=Ub<<(Ub<<BigInt(s))-Ub);JF.push(i)}var[A0e,T0e]=qb.split(JF,!0),WF=(t,e,r)=>r>32?qb.rotlBH(t,e,r):qb.rotlSH(t,e,r),YF=(t,e,r)=>r>32?qb.rotlBL(t,e,r):qb.rotlSL(t,e,r);function QF(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){let a=(o+8)%10,u=(o+2)%10,c=r[u],d=r[u+1],f=WF(c,d,1)^r[a],m=YF(c,d,1)^r[a+1];for(let p=0;p<50;p+=10)t[o+p]^=f,t[o+p+1]^=m}let i=t[2],s=t[3];for(let o=0;o<24;o++){let a=ZF[o],u=WF(i,s,a),c=YF(i,s,a),d=XF[o];i=t[d],s=t[d+1],t[d]=u,t[d+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=A0e[n],t[1]^=T0e[n]}r.fill(0)}fn.keccakP=QF;var np=class extends rp.Hash{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,rp.assertNumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,rp.u32)(this.state)}keccak(){QF(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){if(this.destroyed)throw new Error("instance is destroyed");if(this.finished)throw new Error("digest() was already called");let{blockLen:r,state:n}=this;e=(0,rp.toBytes)(e);let i=e.length;for(let s=0;s<i;){let o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array))throw new Error("Keccak: invalid output buffer");this.finish();for(let r=0,n=e.length;r<n;){this.posOut>=this.blockLen&&this.keccak();let i=Math.min(this.blockLen-this.posOut,n-r);e.set(this.state.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,rp.assertNumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(e.length<this.outputLen)throw new Error("Keccak: invalid output buffer");if(this.finished)throw new Error("digest() was already called");return this.finish(),this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new np(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};fn.Keccak=np;var ol=(t,e,r)=>(0,rp.wrapConstructor)(()=>new np(e,t,r));fn.sha3_224=ol(6,144,224/8);fn.sha3_256=ol(6,136,256/8);fn.sha3_384=ol(6,104,384/8);fn.sha3_512=ol(6,72,512/8);fn.keccak_224=ol(1,144,224/8);fn.keccak_256=ol(1,136,256/8);fn.keccak_384=ol(1,104,384/8);fn.keccak_512=ol(1,72,512/8);var eH=(t,e,r)=>(0,rp.wrapConstructorWithOpts)((n={})=>new np(e,t,n.dkLen!==void 0?n.dkLen:r,!0));fn.shake128=eH(31,168,128/8);fn.shake256=eH(31,136,256/8)});var x8=j(R5=>{"use strict";B();M();Object.defineProperty(R5,"__esModule",{value:!0});R5.BLAKE2=R5.SIGMA=void 0;var ip=_o();R5.SIGMA=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);var uA=class extends ip.Hash{constructor(e,r,n={},i,s,o){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,(0,ip.assertNumber)(e),(0,ip.assertNumber)(r),(0,ip.assertNumber)(i),r<0||r>i)throw new Error("Blake2: outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>i))throw new Error(`Key should be up 1..${i} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==s)throw new Error(`Salt should be ${s} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==o)throw new Error(`Personalization should be ${o} byte long or undefined`);this.buffer32=(0,ip.u32)(this.buffer=new Uint8Array(e))}update(e){if(this.destroyed)throw new Error("instance is destroyed");let{finished:r,blockLen:n,buffer:i,buffer32:s}=this;if(r)throw new Error("digest() was already called");e=(0,ip.toBytes)(e);let o=e.length;for(let a=0;a<o;){this.pos===n&&(this.compress(s,0,!1),this.pos=0);let u=Math.min(n-this.pos,o-a),c=e.byteOffset+a;if(u===n&&!(c%4)&&a+u<o){let d=new Uint32Array(e.buffer,c,Math.floor((o-a)/4));for(let f=0;a+n<o;f+=s.length,a+=n)this.length+=n,this.compress(d,f,!1);continue}i.set(e.subarray(a,a+u),this.pos),this.pos+=u,this.length+=u,a+=u}return this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length<this.outputLen)throw new Error("_Blake2: Invalid output buffer");let{finished:r,pos:n,buffer32:i}=this;if(r)throw new Error("digest() was already called");this.finished=!0,this.buffer.subarray(n).fill(0),this.compress(i,0,!0);let s=(0,ip.u32)(e);this.get().forEach((o,a)=>s[a]=o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.length=n,e.finished=i,e.destroyed=s,e.outputLen=o,e.buffer.set(r),e.pos=a,e}};R5.BLAKE2=uA});var fA=j(o0=>{"use strict";B();M();var I0e=o0&&o0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),P0e=o0&&o0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),rH=o0&&o0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&I0e(e,t,r);return P0e(e,t),e};Object.defineProperty(o0,"__esModule",{value:!0});o0.blake2b=void 0;var tH=rH(x8()),ya=rH(M5()),N5=_o(),Ts=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Je=new Uint32Array(32);function al(t,e,r,n,i,s){let o=i[s],a=i[s+1],u=Je[2*t],c=Je[2*t+1],d=Je[2*e],f=Je[2*e+1],m=Je[2*r],p=Je[2*r+1],y=Je[2*n],w=Je[2*n+1],P=ya.add3L(u,d,o);c=ya.add3H(P,c,f,a),u=P|0,{Dh:w,Dl:y}={Dh:w^c,Dl:y^u},{Dh:w,Dl:y}={Dh:ya.rotr32H(w,y),Dl:ya.rotr32L(w,y)},{h:p,l:m}=ya.add(p,m,w,y),{Bh:f,Bl:d}={Bh:f^p,Bl:d^m},{Bh:f,Bl:d}={Bh:ya.rotrSH(f,d,24),Bl:ya.rotrSL(f,d,24)},Je[2*t]=u,Je[2*t+1]=c,Je[2*e]=d,Je[2*e+1]=f,Je[2*r]=m,Je[2*r+1]=p,Je[2*n]=y,Je[2*n+1]=w}function ul(t,e,r,n,i,s){let o=i[s],a=i[s+1],u=Je[2*t],c=Je[2*t+1],d=Je[2*e],f=Je[2*e+1],m=Je[2*r],p=Je[2*r+1],y=Je[2*n],w=Je[2*n+1],P=ya.add3L(u,d,o);c=ya.add3H(P,c,f,a),u=P|0,{Dh:w,Dl:y}={Dh:w^c,Dl:y^u},{Dh:w,Dl:y}={Dh:ya.rotrSH(w,y,16),Dl:ya.rotrSL(w,y,16)},{h:p,l:m}=ya.add(p,m,w,y),{Bh:f,Bl:d}={Bh:f^p,Bl:d^m},{Bh:f,Bl:d}={Bh:ya.rotrBH(f,d,63),Bl:ya.rotrBL(f,d,63)},Je[2*t]=u,Je[2*t+1]=c,Je[2*e]=d,Je[2*e+1]=f,Je[2*r]=m,Je[2*r+1]=p,Je[2*n]=y,Je[2*n+1]=w}var cA=class extends tH.BLAKE2{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=Ts[0]|0,this.v0h=Ts[1]|0,this.v1l=Ts[2]|0,this.v1h=Ts[3]|0,this.v2l=Ts[4]|0,this.v2h=Ts[5]|0,this.v3l=Ts[6]|0,this.v3h=Ts[7]|0,this.v4l=Ts[8]|0,this.v4h=Ts[9]|0,this.v5l=Ts[10]|0,this.v5h=Ts[11]|0,this.v6l=Ts[12]|0,this.v6h=Ts[13]|0,this.v7l=Ts[14]|0,this.v7h=Ts[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|1<<16|1<<24,e.salt){let n=(0,N5.u32)((0,N5.toBytes)(e.salt));this.v4l^=n[0],this.v4h^=n[1],this.v5l^=n[2],this.v5h^=n[3]}if(e.personalization){let n=(0,N5.u32)((0,N5.toBytes)(e.personalization));this.v6l^=n[0],this.v6h^=n[1],this.v7l^=n[2],this.v7h^=n[3]}if(e.key){let n=new Uint8Array(this.blockLen);n.set((0,N5.toBytes)(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:u,v4l:c,v4h:d,v5l:f,v5h:m,v6l:p,v6h:y,v7l:w,v7h:P}=this;return[e,r,n,i,s,o,a,u,c,d,f,m,p,y,w,P]}set(e,r,n,i,s,o,a,u,c,d,f,m,p,y,w,P){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=u|0,this.v4l=c|0,this.v4h=d|0,this.v5l=f|0,this.v5h=m|0,this.v6l=p|0,this.v6h=y|0,this.v7l=w|0,this.v7h=P|0}compress(e,r,n){this.get().forEach((u,c)=>Je[c]=u),Je.set(Ts,16);let{h:i,l:s}=ya.fromBig(BigInt(this.length));Je[24]=Ts[8]^s,Je[25]=Ts[9]^i,n&&(Je[28]=~Je[28],Je[29]=~Je[29]);let o=0,a=tH.SIGMA;for(let u=0;u<12;u++)al(0,4,8,12,e,r+2*a[o++]),ul(0,4,8,12,e,r+2*a[o++]),al(1,5,9,13,e,r+2*a[o++]),ul(1,5,9,13,e,r+2*a[o++]),al(2,6,10,14,e,r+2*a[o++]),ul(2,6,10,14,e,r+2*a[o++]),al(3,7,11,15,e,r+2*a[o++]),ul(3,7,11,15,e,r+2*a[o++]),al(0,5,10,15,e,r+2*a[o++]),ul(0,5,10,15,e,r+2*a[o++]),al(1,6,11,12,e,r+2*a[o++]),ul(1,6,11,12,e,r+2*a[o++]),al(2,7,8,13,e,r+2*a[o++]),ul(2,7,8,13,e,r+2*a[o++]),al(3,4,9,14,e,r+2*a[o++]),ul(3,4,9,14,e,r+2*a[o++]);this.v0l^=Je[0]^Je[16],this.v0h^=Je[1]^Je[17],this.v1l^=Je[2]^Je[18],this.v1h^=Je[3]^Je[19],this.v2l^=Je[4]^Je[20],this.v2h^=Je[5]^Je[21],this.v3l^=Je[6]^Je[22],this.v3h^=Je[7]^Je[23],this.v4l^=Je[8]^Je[24],this.v4h^=Je[9]^Je[25],this.v5l^=Je[10]^Je[26],this.v5h^=Je[11]^Je[27],this.v6l^=Je[12]^Je[28],this.v6h^=Je[13]^Je[29],this.v7l^=Je[14]^Je[30],this.v7h^=Je[15]^Je[31],Je.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};o0.blake2b=(0,N5.wrapConstructorWithOpts)(t=>new cA(t))});var jb=j(Wn=>{"use strict";B();M();Object.defineProperty(Wn,"__esModule",{value:!0});Wn.sha3_512=Wn.sha3_256=Wn.ripemd160=Wn.sha512=Wn.sha256=Wn.magicHash=Wn.blake2=Wn.keccak256=Wn.keccak=Wn.hash160=Wn.doubleSha256=void 0;var E8=B5();Object.defineProperty(Wn,"sha256",{enumerable:!0,get:function(){return E8.sha256}});var O0e=y8();Object.defineProperty(Wn,"sha512",{enumerable:!0,get:function(){return O0e.sha512}});var iH=aA();Object.defineProperty(Wn,"ripemd160",{enumerable:!0,get:function(){return iH.ripemd160}});var F5=w8();Object.defineProperty(Wn,"sha3_256",{enumerable:!0,get:function(){return F5.sha3_256}});Object.defineProperty(Wn,"sha3_512",{enumerable:!0,get:function(){return F5.sha3_512}});var B0e=fA();function sH(t){let e=(0,E8.sha256)(t);return(0,E8.sha256)(e)}Wn.doubleSha256=sH;function M0e(t){let e=(0,E8.sha256)(t);return(0,iH.ripemd160)(e)}Wn.hash160=M0e;var k0e=function(t,e=256){let r=E.Buffer.from(t);switch(e){case 224:return E.Buffer.from((0,F5.keccak_224)(r));case 256:return E.Buffer.from((0,F5.keccak_256)(r));case 384:return E.Buffer.from((0,F5.keccak_384)(r));case 512:return E.Buffer.from((0,F5.keccak_512)(r));default:throw new Error(`Invald algorithm: keccak${e}`)}};Wn.keccak=k0e;var C0e=function(t){return(0,Wn.keccak)(t)};Wn.keccak256=C0e;function R0e(t,e,r){let n=Math.ceil(e/8);return(0,B0e.blake2b)(t,{dkLen:n,key:r})}Wn.blake2=R0e;function nH(t){let e;return t<253?(e=E.Buffer.alloc(1),e.writeUInt8(t,0)):t<65536?(e=E.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=E.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=E.Buffer.alloc(1+8),e.writeUInt8(255,0),e.writeInt32LE(t&-1,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e}var N0e=E.Buffer.from(`Bitcoin Signed Message:
`);function F0e(t,e){let r=e?E.Buffer.from(e,"utf8"):N0e,n=nH(r.length),i=E.Buffer.from(t),s=nH(i.length),o=E.Buffer.concat([n,r,s,i]);return sH(o)}Wn.magicHash=F0e});var uH=j(H5=>{"use strict";B();M();Object.defineProperty(H5,"__esModule",{value:!0});H5.fromBase58Check=H5.toBase58Check=void 0;var oH=jb(),oWe=qce(),aH=tp();function H0e(t){return(0,aH.base58check)(oH.sha256).encode(E.Buffer.from(t))}H5.toBase58Check=H0e;function D0e(t){let e=(0,aH.base58check)(oH.sha256);return E.Buffer.from(e.decode(t))}H5.fromBase58Check=D0e});var cH=j(D5=>{"use strict";B();M();Object.defineProperty(D5,"__esModule",{value:!0});D5.fromBech32=D5.toBech32=void 0;var A8=tp();function L0e(t,e,r){let n=E.Buffer.from(e),i=A8.bech32.toWords(Uint8Array.from(n));return A8.bech32.encode(t,i,r)}D5.toBech32=L0e;function U0e(t,e){let r=A8.bech32.decode(t,e),n=A8.bech32.fromWords(r.words);return[r.prefix,E.Buffer.from(n)]}D5.fromBech32=U0e});var fH=j(a0=>{"use strict";B();M();Object.defineProperty(a0,"__esModule",{value:!0});a0.isHexPrefixed=a0.stripHexPrefix=a0.fromHex=a0.toHex=void 0;function q0e(t,e=!1){let r=E.Buffer.from(t);return e?"0x"+r.toString("hex"):r.toString("hex")}a0.toHex=q0e;function j0e(t){return t.startsWith("0x")&&(t=t.substring(2)),E.Buffer.from(t,"hex")}a0.fromHex=j0e;function K0e(t){return t.startsWith("0x")?t.substring(2):t}a0.stripHexPrefix=K0e;function $0e(t){return t.startsWith("0x")}a0.isHexPrefixed=$0e});var hH=j(L5=>{"use strict";B();M();Object.defineProperty(L5,"__esModule",{value:!0});L5.fromBase64=L5.toBase64=void 0;var dH=tp();function z0e(t){let e=E.Buffer.from(t);return dH.base64.encode(Uint8Array.from(e))}L5.toBase64=z0e;function V0e(t){return dH.base64.decode(t)}L5.fromBase64=V0e});var $b=j(Kb=>{"use strict";B();M();Object.defineProperty(Kb,"__esModule",{value:!0});Kb.hmac=void 0;var T8=_o(),I8=class extends T8.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,(0,T8.assertHash)(e);let n=(0,T8.toBytes)(r);if(this.iHash=e.create(),!(this.iHash instanceof T8.Hash))throw new TypeError("Expected instance of class which extends utils.Hash");let i=this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;let s=new Uint8Array(i);s.set(n.length>this.iHash.blockLen?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){if(this.destroyed)throw new Error("instance is destroyed");return this.iHash.update(e),this}digestInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array)||e.length!==this.outputLen)throw new Error("HMAC: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},G0e=(t,e,r)=>new I8(t,e).update(r).digest();Kb.hmac=G0e;Kb.hmac.create=(t,e)=>new I8(t,e)});var bH=j(U5=>{"use strict";B();M();Object.defineProperty(U5,"__esModule",{value:!0});U5.hmacSHA512=U5.hmacSHA256=void 0;var lH=$b(),pH=jb();function W0e(t,e){return E.Buffer.from((0,lH.hmac)(pH.sha256,t,e))}U5.hmacSHA256=W0e;function Y0e(t,e){return E.Buffer.from((0,lH.hmac)(pH.sha512,t,e))}U5.hmacSHA512=Y0e});var gH=j(q5=>{"use strict";B();M();Object.defineProperty(q5,"__esModule",{value:!0});q5.fromUtf8=q5.toUtf8=void 0;function X0e(t){return new TextEncoder().encode(t)}q5.toUtf8=X0e;function Z0e(t){return new TextDecoder("utf-8",{fatal:!0}).decode(t)}q5.fromUtf8=Z0e});var hA=j(cl=>{"use strict";B();M();Object.defineProperty(cl,"__esModule",{value:!0});cl.checkIsUndefined=cl.checkIsDefined=cl.check=void 0;var dA=(t,e)=>{if(!t)throw e=e||"Invalid statement",e=e instanceof Error?e:new Error(e),e};cl.check=dA;var J0e=(t,e)=>(dA(typeof t<"u",e||"Expect defined but actually undefined"),t);cl.checkIsDefined=J0e;var Q0e=(t,e)=>{dA(typeof t>"u",e||`Expect undefined but actually ${t}`)};cl.checkIsUndefined=Q0e});var yH=j(u0=>{"use strict";B();M();Object.defineProperty(u0,"__esModule",{value:!0});u0.string2BigNumber=u0.bigNumber2String=u0.fromBigIntHex=u0.toBigIntHex=void 0;var mH=dn(),ede=hA(),tde=t=>{let e=t.integerValue().toString(16);return e="0x"+e,e};u0.toBigIntHex=tde;var rde=t=>((0,ede.check)(t&&t.startsWith("0x"),`Invalid hex string. value: ${t}`),new mH.BigNumber(t).integerValue());u0.fromBigIntHex=rde;var nde=(t,e)=>t.integerValue().toString(e);u0.bigNumber2String=nde;var ide=(t,e)=>new mH.BigNumber(t,e);u0.string2BigNumber=ide});var Is=j((vH,lA)=>{B();M();(function(t,e){"use strict";function r(g,h){if(!g)throw new Error(h||"Assertion failed")}function n(g,h){g.super_=h;var l=function(){};l.prototype=h.prototype,g.prototype=new l,g.prototype.constructor=g}function i(g,h,l){if(i.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((h==="le"||h==="be")&&(l=h,h=10),this._init(g||0,h||10,l||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=$i().Buffer}catch{}i.isBN=function(h){return h instanceof i?!0:h!==null&&typeof h=="object"&&h.constructor.wordSize===i.wordSize&&Array.isArray(h.words)},i.max=function(h,l){return h.cmp(l)>0?h:l},i.min=function(h,l){return h.cmp(l)<0?h:l},i.prototype._init=function(h,l,b){if(typeof h=="number")return this._initNumber(h,l,b);if(typeof h=="object")return this._initArray(h,l,b);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),h=h.toString().replace(/\s+/g,"");var _=0;h[0]==="-"&&(_++,this.negative=1),_<h.length&&(l===16?this._parseHex(h,_,b):(this._parseBase(h,l,_),b==="le"&&this._initArray(this.toArray(),l,b)))},i.prototype._initNumber=function(h,l,b){h<0&&(this.negative=1,h=-h),h<67108864?(this.words=[h&67108863],this.length=1):h<4503599627370496?(this.words=[h&67108863,h/67108864&67108863],this.length=2):(r(h<9007199254740992),this.words=[h&67108863,h/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),l,b)},i.prototype._initArray=function(h,l,b){if(r(typeof h.length=="number"),h.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(h.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x,I,A=0;if(b==="be")for(_=h.length-1,x=0;_>=0;_-=3)I=h[_]|h[_-1]<<8|h[_-2]<<16,this.words[x]|=I<<A&67108863,this.words[x+1]=I>>>26-A&67108863,A+=24,A>=26&&(A-=26,x++);else if(b==="le")for(_=0,x=0;_<h.length;_+=3)I=h[_]|h[_+1]<<8|h[_+2]<<16,this.words[x]|=I<<A&67108863,this.words[x+1]=I>>>26-A&67108863,A+=24,A>=26&&(A-=26,x++);return this.strip()};function o(g,h){var l=g.charCodeAt(h);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function a(g,h,l){var b=o(g,l);return l-1>=h&&(b|=o(g,l-1)<<4),b}i.prototype._parseHex=function(h,l,b){this.length=Math.ceil((h.length-l)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x=0,I=0,A;if(b==="be")for(_=h.length-1;_>=l;_-=2)A=a(h,l,_)<<x,this.words[I]|=A&67108863,x>=18?(x-=18,I+=1,this.words[I]|=A>>>26):x+=8;else{var v=h.length-l;for(_=v%2===0?l+1:l;_<h.length;_+=2)A=a(h,l,_)<<x,this.words[I]|=A&67108863,x>=18?(x-=18,I+=1,this.words[I]|=A>>>26):x+=8}this.strip()};function u(g,h,l,b){for(var _=0,x=Math.min(g.length,l),I=h;I<x;I++){var A=g.charCodeAt(I)-48;_*=b,A>=49?_+=A-49+10:A>=17?_+=A-17+10:_+=A}return _}i.prototype._parseBase=function(h,l,b){this.words=[0],this.length=1;for(var _=0,x=1;x<=67108863;x*=l)_++;_--,x=x/l|0;for(var I=h.length-b,A=I%_,v=Math.min(I,I-A)+b,S=0,O=b;O<v;O+=_)S=u(h,O,O+_,l),this.imuln(x),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(A!==0){var q=1;for(S=u(h,O,h.length,l),O=0;O<A;O++)q*=l;this.imuln(q),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this.strip()},i.prototype.copy=function(h){h.words=new Array(this.length);for(var l=0;l<this.length;l++)h.words[l]=this.words[l];h.length=this.length,h.negative=this.negative,h.red=this.red},i.prototype.clone=function(){var h=new i(null);return this.copy(h),h},i.prototype._expand=function(h){for(;this.length<h;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(h,l){h=h||10,l=l|0||1;var b;if(h===16||h==="hex"){b="";for(var _=0,x=0,I=0;I<this.length;I++){var A=this.words[I],v=((A<<_|x)&16777215).toString(16);x=A>>>24-_&16777215,x!==0||I!==this.length-1?b=c[6-v.length]+v+b:b=v+b,_+=2,_>=26&&(_-=26,I--)}for(x!==0&&(b=x.toString(16)+b);b.length%l!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(h===(h|0)&&h>=2&&h<=36){var S=d[h],O=f[h];b="";var q=this.clone();for(q.negative=0;!q.isZero();){var J=q.modn(O).toString(h);q=q.idivn(O),q.isZero()?b=J+b:b=c[S-J.length]+J+b}for(this.isZero()&&(b="0"+b);b.length%l!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var h=this.words[0];return this.length===2?h+=this.words[1]*67108864:this.length===3&&this.words[2]===1?h+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-h:h},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(h,l){return r(typeof s<"u"),this.toArrayLike(s,h,l)},i.prototype.toArray=function(h,l){return this.toArrayLike(Array,h,l)},i.prototype.toArrayLike=function(h,l,b){var _=this.byteLength(),x=b||Math.max(1,_);r(_<=x,"byte array longer than desired length"),r(x>0,"Requested array length <= 0"),this.strip();var I=l==="le",A=new h(x),v,S,O=this.clone();if(I){for(S=0;!O.isZero();S++)v=O.andln(255),O.iushrn(8),A[S]=v;for(;S<x;S++)A[S]=0}else{for(S=0;S<x-_;S++)A[S]=0;for(S=0;!O.isZero();S++)v=O.andln(255),O.iushrn(8),A[x-S-1]=v}return A},Math.clz32?i.prototype._countBits=function(h){return 32-Math.clz32(h)}:i.prototype._countBits=function(h){var l=h,b=0;return l>=4096&&(b+=13,l>>>=13),l>=64&&(b+=7,l>>>=7),l>=8&&(b+=4,l>>>=4),l>=2&&(b+=2,l>>>=2),b+l},i.prototype._zeroBits=function(h){if(h===0)return 26;var l=h,b=0;return(l&8191)===0&&(b+=13,l>>>=13),(l&127)===0&&(b+=7,l>>>=7),(l&15)===0&&(b+=4,l>>>=4),(l&3)===0&&(b+=2,l>>>=2),(l&1)===0&&b++,b},i.prototype.bitLength=function(){var h=this.words[this.length-1],l=this._countBits(h);return(this.length-1)*26+l};function m(g){for(var h=new Array(g.bitLength()),l=0;l<h.length;l++){var b=l/26|0,_=l%26;h[l]=(g.words[b]&1<<_)>>>_}return h}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var h=0,l=0;l<this.length;l++){var b=this._zeroBits(this.words[l]);if(h+=b,b!==26)break}return h},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(h){return this.negative!==0?this.abs().inotn(h).iaddn(1):this.clone()},i.prototype.fromTwos=function(h){return this.testn(h-1)?this.notn(h).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(h){for(;this.length<h.length;)this.words[this.length++]=0;for(var l=0;l<h.length;l++)this.words[l]=this.words[l]|h.words[l];return this.strip()},i.prototype.ior=function(h){return r((this.negative|h.negative)===0),this.iuor(h)},i.prototype.or=function(h){return this.length>h.length?this.clone().ior(h):h.clone().ior(this)},i.prototype.uor=function(h){return this.length>h.length?this.clone().iuor(h):h.clone().iuor(this)},i.prototype.iuand=function(h){var l;this.length>h.length?l=h:l=this;for(var b=0;b<l.length;b++)this.words[b]=this.words[b]&h.words[b];return this.length=l.length,this.strip()},i.prototype.iand=function(h){return r((this.negative|h.negative)===0),this.iuand(h)},i.prototype.and=function(h){return this.length>h.length?this.clone().iand(h):h.clone().iand(this)},i.prototype.uand=function(h){return this.length>h.length?this.clone().iuand(h):h.clone().iuand(this)},i.prototype.iuxor=function(h){var l,b;this.length>h.length?(l=this,b=h):(l=h,b=this);for(var _=0;_<b.length;_++)this.words[_]=l.words[_]^b.words[_];if(this!==l)for(;_<l.length;_++)this.words[_]=l.words[_];return this.length=l.length,this.strip()},i.prototype.ixor=function(h){return r((this.negative|h.negative)===0),this.iuxor(h)},i.prototype.xor=function(h){return this.length>h.length?this.clone().ixor(h):h.clone().ixor(this)},i.prototype.uxor=function(h){return this.length>h.length?this.clone().iuxor(h):h.clone().iuxor(this)},i.prototype.inotn=function(h){r(typeof h=="number"&&h>=0);var l=Math.ceil(h/26)|0,b=h%26;this._expand(l),b>0&&l--;for(var _=0;_<l;_++)this.words[_]=~this.words[_]&67108863;return b>0&&(this.words[_]=~this.words[_]&67108863>>26-b),this.strip()},i.prototype.notn=function(h){return this.clone().inotn(h)},i.prototype.setn=function(h,l){r(typeof h=="number"&&h>=0);var b=h/26|0,_=h%26;return this._expand(b+1),l?this.words[b]=this.words[b]|1<<_:this.words[b]=this.words[b]&~(1<<_),this.strip()},i.prototype.iadd=function(h){var l;if(this.negative!==0&&h.negative===0)return this.negative=0,l=this.isub(h),this.negative^=1,this._normSign();if(this.negative===0&&h.negative!==0)return h.negative=0,l=this.isub(h),h.negative=1,l._normSign();var b,_;this.length>h.length?(b=this,_=h):(b=h,_=this);for(var x=0,I=0;I<_.length;I++)l=(b.words[I]|0)+(_.words[I]|0)+x,this.words[I]=l&67108863,x=l>>>26;for(;x!==0&&I<b.length;I++)l=(b.words[I]|0)+x,this.words[I]=l&67108863,x=l>>>26;if(this.length=b.length,x!==0)this.words[this.length]=x,this.length++;else if(b!==this)for(;I<b.length;I++)this.words[I]=b.words[I];return this},i.prototype.add=function(h){var l;return h.negative!==0&&this.negative===0?(h.negative=0,l=this.sub(h),h.negative^=1,l):h.negative===0&&this.negative!==0?(this.negative=0,l=h.sub(this),this.negative=1,l):this.length>h.length?this.clone().iadd(h):h.clone().iadd(this)},i.prototype.isub=function(h){if(h.negative!==0){h.negative=0;var l=this.iadd(h);return h.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(h),this.negative=1,this._normSign();var b=this.cmp(h);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,x;b>0?(_=this,x=h):(_=h,x=this);for(var I=0,A=0;A<x.length;A++)l=(_.words[A]|0)-(x.words[A]|0)+I,I=l>>26,this.words[A]=l&67108863;for(;I!==0&&A<_.length;A++)l=(_.words[A]|0)+I,I=l>>26,this.words[A]=l&67108863;if(I===0&&A<_.length&&_!==this)for(;A<_.length;A++)this.words[A]=_.words[A];return this.length=Math.max(this.length,A),_!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(h){return this.clone().isub(h)};function p(g,h,l){l.negative=h.negative^g.negative;var b=g.length+h.length|0;l.length=b,b=b-1|0;var _=g.words[0]|0,x=h.words[0]|0,I=_*x,A=I&67108863,v=I/67108864|0;l.words[0]=A;for(var S=1;S<b;S++){for(var O=v>>>26,q=v&67108863,J=Math.min(S,h.length-1),ne=Math.max(0,S-g.length+1);ne<=J;ne++){var oe=S-ne|0;_=g.words[oe]|0,x=h.words[ne]|0,I=_*x+q,O+=I/67108864|0,q=I&67108863}l.words[S]=q|0,v=O|0}return v!==0?l.words[S]=v|0:l.length--,l.strip()}var y=function(h,l,b){var _=h.words,x=l.words,I=b.words,A=0,v,S,O,q=_[0]|0,J=q&8191,ne=q>>>13,oe=_[1]|0,le=oe&8191,pe=oe>>>13,G=_[2]|0,te=G&8191,ae=G>>>13,be=_[3]|0,ye=be&8191,_e=be>>>13,ke=_[4]|0,He=ke&8191,ze=ke>>>13,qe=_[5]|0,Ve=qe&8191,Xe=qe>>>13,je=_[6]|0,Me=je&8191,it=je>>>13,z=_[7]|0,Q=z&8191,Y=z>>>13,ee=_[8]|0,ie=ee&8191,se=ee>>>13,ce=_[9]|0,me=ce&8191,he=ce>>>13,Ee=x[0]|0,Te=Ee&8191,Fe=Ee>>>13,Ce=x[1]|0,Ge=Ce&8191,ft=Ce>>>13,tt=x[2]|0,rt=tt&8191,zt=tt>>>13,at=x[3]|0,dt=at&8191,Vt=at>>>13,ht=x[4]|0,lt=ht&8191,Gt=ht>>>13,pt=x[5]|0,bt=pt&8191,Wt=pt>>>13,gt=x[6]|0,mt=gt&8191,Yt=gt>>>13,yt=x[7]|0,vt=yt&8191,Xt=yt>>>13,_t=x[8]|0,St=_t&8191,Zt=_t>>>13,wt=x[9]|0,xt=wt&8191,jt=wt>>>13;b.negative=h.negative^l.negative,b.length=19,v=Math.imul(J,Te),S=Math.imul(J,Fe),S=S+Math.imul(ne,Te)|0,O=Math.imul(ne,Fe);var U=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(U>>>26)|0,U&=67108863,v=Math.imul(le,Te),S=Math.imul(le,Fe),S=S+Math.imul(pe,Te)|0,O=Math.imul(pe,Fe),v=v+Math.imul(J,Ge)|0,S=S+Math.imul(J,ft)|0,S=S+Math.imul(ne,Ge)|0,O=O+Math.imul(ne,ft)|0;var $=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+($>>>26)|0,$&=67108863,v=Math.imul(te,Te),S=Math.imul(te,Fe),S=S+Math.imul(ae,Te)|0,O=Math.imul(ae,Fe),v=v+Math.imul(le,Ge)|0,S=S+Math.imul(le,ft)|0,S=S+Math.imul(pe,Ge)|0,O=O+Math.imul(pe,ft)|0,v=v+Math.imul(J,rt)|0,S=S+Math.imul(J,zt)|0,S=S+Math.imul(ne,rt)|0,O=O+Math.imul(ne,zt)|0;var V=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(V>>>26)|0,V&=67108863,v=Math.imul(ye,Te),S=Math.imul(ye,Fe),S=S+Math.imul(_e,Te)|0,O=Math.imul(_e,Fe),v=v+Math.imul(te,Ge)|0,S=S+Math.imul(te,ft)|0,S=S+Math.imul(ae,Ge)|0,O=O+Math.imul(ae,ft)|0,v=v+Math.imul(le,rt)|0,S=S+Math.imul(le,zt)|0,S=S+Math.imul(pe,rt)|0,O=O+Math.imul(pe,zt)|0,v=v+Math.imul(J,dt)|0,S=S+Math.imul(J,Vt)|0,S=S+Math.imul(ne,dt)|0,O=O+Math.imul(ne,Vt)|0;var W=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(W>>>26)|0,W&=67108863,v=Math.imul(He,Te),S=Math.imul(He,Fe),S=S+Math.imul(ze,Te)|0,O=Math.imul(ze,Fe),v=v+Math.imul(ye,Ge)|0,S=S+Math.imul(ye,ft)|0,S=S+Math.imul(_e,Ge)|0,O=O+Math.imul(_e,ft)|0,v=v+Math.imul(te,rt)|0,S=S+Math.imul(te,zt)|0,S=S+Math.imul(ae,rt)|0,O=O+Math.imul(ae,zt)|0,v=v+Math.imul(le,dt)|0,S=S+Math.imul(le,Vt)|0,S=S+Math.imul(pe,dt)|0,O=O+Math.imul(pe,Vt)|0,v=v+Math.imul(J,lt)|0,S=S+Math.imul(J,Gt)|0,S=S+Math.imul(ne,lt)|0,O=O+Math.imul(ne,Gt)|0;var X=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(X>>>26)|0,X&=67108863,v=Math.imul(Ve,Te),S=Math.imul(Ve,Fe),S=S+Math.imul(Xe,Te)|0,O=Math.imul(Xe,Fe),v=v+Math.imul(He,Ge)|0,S=S+Math.imul(He,ft)|0,S=S+Math.imul(ze,Ge)|0,O=O+Math.imul(ze,ft)|0,v=v+Math.imul(ye,rt)|0,S=S+Math.imul(ye,zt)|0,S=S+Math.imul(_e,rt)|0,O=O+Math.imul(_e,zt)|0,v=v+Math.imul(te,dt)|0,S=S+Math.imul(te,Vt)|0,S=S+Math.imul(ae,dt)|0,O=O+Math.imul(ae,Vt)|0,v=v+Math.imul(le,lt)|0,S=S+Math.imul(le,Gt)|0,S=S+Math.imul(pe,lt)|0,O=O+Math.imul(pe,Gt)|0,v=v+Math.imul(J,bt)|0,S=S+Math.imul(J,Wt)|0,S=S+Math.imul(ne,bt)|0,O=O+Math.imul(ne,Wt)|0;var Z=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(Z>>>26)|0,Z&=67108863,v=Math.imul(Me,Te),S=Math.imul(Me,Fe),S=S+Math.imul(it,Te)|0,O=Math.imul(it,Fe),v=v+Math.imul(Ve,Ge)|0,S=S+Math.imul(Ve,ft)|0,S=S+Math.imul(Xe,Ge)|0,O=O+Math.imul(Xe,ft)|0,v=v+Math.imul(He,rt)|0,S=S+Math.imul(He,zt)|0,S=S+Math.imul(ze,rt)|0,O=O+Math.imul(ze,zt)|0,v=v+Math.imul(ye,dt)|0,S=S+Math.imul(ye,Vt)|0,S=S+Math.imul(_e,dt)|0,O=O+Math.imul(_e,Vt)|0,v=v+Math.imul(te,lt)|0,S=S+Math.imul(te,Gt)|0,S=S+Math.imul(ae,lt)|0,O=O+Math.imul(ae,Gt)|0,v=v+Math.imul(le,bt)|0,S=S+Math.imul(le,Wt)|0,S=S+Math.imul(pe,bt)|0,O=O+Math.imul(pe,Wt)|0,v=v+Math.imul(J,mt)|0,S=S+Math.imul(J,Yt)|0,S=S+Math.imul(ne,mt)|0,O=O+Math.imul(ne,Yt)|0;var ue=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(ue>>>26)|0,ue&=67108863,v=Math.imul(Q,Te),S=Math.imul(Q,Fe),S=S+Math.imul(Y,Te)|0,O=Math.imul(Y,Fe),v=v+Math.imul(Me,Ge)|0,S=S+Math.imul(Me,ft)|0,S=S+Math.imul(it,Ge)|0,O=O+Math.imul(it,ft)|0,v=v+Math.imul(Ve,rt)|0,S=S+Math.imul(Ve,zt)|0,S=S+Math.imul(Xe,rt)|0,O=O+Math.imul(Xe,zt)|0,v=v+Math.imul(He,dt)|0,S=S+Math.imul(He,Vt)|0,S=S+Math.imul(ze,dt)|0,O=O+Math.imul(ze,Vt)|0,v=v+Math.imul(ye,lt)|0,S=S+Math.imul(ye,Gt)|0,S=S+Math.imul(_e,lt)|0,O=O+Math.imul(_e,Gt)|0,v=v+Math.imul(te,bt)|0,S=S+Math.imul(te,Wt)|0,S=S+Math.imul(ae,bt)|0,O=O+Math.imul(ae,Wt)|0,v=v+Math.imul(le,mt)|0,S=S+Math.imul(le,Yt)|0,S=S+Math.imul(pe,mt)|0,O=O+Math.imul(pe,Yt)|0,v=v+Math.imul(J,vt)|0,S=S+Math.imul(J,Xt)|0,S=S+Math.imul(ne,vt)|0,O=O+Math.imul(ne,Xt)|0;var fe=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(fe>>>26)|0,fe&=67108863,v=Math.imul(ie,Te),S=Math.imul(ie,Fe),S=S+Math.imul(se,Te)|0,O=Math.imul(se,Fe),v=v+Math.imul(Q,Ge)|0,S=S+Math.imul(Q,ft)|0,S=S+Math.imul(Y,Ge)|0,O=O+Math.imul(Y,ft)|0,v=v+Math.imul(Me,rt)|0,S=S+Math.imul(Me,zt)|0,S=S+Math.imul(it,rt)|0,O=O+Math.imul(it,zt)|0,v=v+Math.imul(Ve,dt)|0,S=S+Math.imul(Ve,Vt)|0,S=S+Math.imul(Xe,dt)|0,O=O+Math.imul(Xe,Vt)|0,v=v+Math.imul(He,lt)|0,S=S+Math.imul(He,Gt)|0,S=S+Math.imul(ze,lt)|0,O=O+Math.imul(ze,Gt)|0,v=v+Math.imul(ye,bt)|0,S=S+Math.imul(ye,Wt)|0,S=S+Math.imul(_e,bt)|0,O=O+Math.imul(_e,Wt)|0,v=v+Math.imul(te,mt)|0,S=S+Math.imul(te,Yt)|0,S=S+Math.imul(ae,mt)|0,O=O+Math.imul(ae,Yt)|0,v=v+Math.imul(le,vt)|0,S=S+Math.imul(le,Xt)|0,S=S+Math.imul(pe,vt)|0,O=O+Math.imul(pe,Xt)|0,v=v+Math.imul(J,St)|0,S=S+Math.imul(J,Zt)|0,S=S+Math.imul(ne,St)|0,O=O+Math.imul(ne,Zt)|0;var ve=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(ve>>>26)|0,ve&=67108863,v=Math.imul(me,Te),S=Math.imul(me,Fe),S=S+Math.imul(he,Te)|0,O=Math.imul(he,Fe),v=v+Math.imul(ie,Ge)|0,S=S+Math.imul(ie,ft)|0,S=S+Math.imul(se,Ge)|0,O=O+Math.imul(se,ft)|0,v=v+Math.imul(Q,rt)|0,S=S+Math.imul(Q,zt)|0,S=S+Math.imul(Y,rt)|0,O=O+Math.imul(Y,zt)|0,v=v+Math.imul(Me,dt)|0,S=S+Math.imul(Me,Vt)|0,S=S+Math.imul(it,dt)|0,O=O+Math.imul(it,Vt)|0,v=v+Math.imul(Ve,lt)|0,S=S+Math.imul(Ve,Gt)|0,S=S+Math.imul(Xe,lt)|0,O=O+Math.imul(Xe,Gt)|0,v=v+Math.imul(He,bt)|0,S=S+Math.imul(He,Wt)|0,S=S+Math.imul(ze,bt)|0,O=O+Math.imul(ze,Wt)|0,v=v+Math.imul(ye,mt)|0,S=S+Math.imul(ye,Yt)|0,S=S+Math.imul(_e,mt)|0,O=O+Math.imul(_e,Yt)|0,v=v+Math.imul(te,vt)|0,S=S+Math.imul(te,Xt)|0,S=S+Math.imul(ae,vt)|0,O=O+Math.imul(ae,Xt)|0,v=v+Math.imul(le,St)|0,S=S+Math.imul(le,Zt)|0,S=S+Math.imul(pe,St)|0,O=O+Math.imul(pe,Zt)|0,v=v+Math.imul(J,xt)|0,S=S+Math.imul(J,jt)|0,S=S+Math.imul(ne,xt)|0,O=O+Math.imul(ne,jt)|0;var de=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(de>>>26)|0,de&=67108863,v=Math.imul(me,Ge),S=Math.imul(me,ft),S=S+Math.imul(he,Ge)|0,O=Math.imul(he,ft),v=v+Math.imul(ie,rt)|0,S=S+Math.imul(ie,zt)|0,S=S+Math.imul(se,rt)|0,O=O+Math.imul(se,zt)|0,v=v+Math.imul(Q,dt)|0,S=S+Math.imul(Q,Vt)|0,S=S+Math.imul(Y,dt)|0,O=O+Math.imul(Y,Vt)|0,v=v+Math.imul(Me,lt)|0,S=S+Math.imul(Me,Gt)|0,S=S+Math.imul(it,lt)|0,O=O+Math.imul(it,Gt)|0,v=v+Math.imul(Ve,bt)|0,S=S+Math.imul(Ve,Wt)|0,S=S+Math.imul(Xe,bt)|0,O=O+Math.imul(Xe,Wt)|0,v=v+Math.imul(He,mt)|0,S=S+Math.imul(He,Yt)|0,S=S+Math.imul(ze,mt)|0,O=O+Math.imul(ze,Yt)|0,v=v+Math.imul(ye,vt)|0,S=S+Math.imul(ye,Xt)|0,S=S+Math.imul(_e,vt)|0,O=O+Math.imul(_e,Xt)|0,v=v+Math.imul(te,St)|0,S=S+Math.imul(te,Zt)|0,S=S+Math.imul(ae,St)|0,O=O+Math.imul(ae,Zt)|0,v=v+Math.imul(le,xt)|0,S=S+Math.imul(le,jt)|0,S=S+Math.imul(pe,xt)|0,O=O+Math.imul(pe,jt)|0;var xe=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(xe>>>26)|0,xe&=67108863,v=Math.imul(me,rt),S=Math.imul(me,zt),S=S+Math.imul(he,rt)|0,O=Math.imul(he,zt),v=v+Math.imul(ie,dt)|0,S=S+Math.imul(ie,Vt)|0,S=S+Math.imul(se,dt)|0,O=O+Math.imul(se,Vt)|0,v=v+Math.imul(Q,lt)|0,S=S+Math.imul(Q,Gt)|0,S=S+Math.imul(Y,lt)|0,O=O+Math.imul(Y,Gt)|0,v=v+Math.imul(Me,bt)|0,S=S+Math.imul(Me,Wt)|0,S=S+Math.imul(it,bt)|0,O=O+Math.imul(it,Wt)|0,v=v+Math.imul(Ve,mt)|0,S=S+Math.imul(Ve,Yt)|0,S=S+Math.imul(Xe,mt)|0,O=O+Math.imul(Xe,Yt)|0,v=v+Math.imul(He,vt)|0,S=S+Math.imul(He,Xt)|0,S=S+Math.imul(ze,vt)|0,O=O+Math.imul(ze,Xt)|0,v=v+Math.imul(ye,St)|0,S=S+Math.imul(ye,Zt)|0,S=S+Math.imul(_e,St)|0,O=O+Math.imul(_e,Zt)|0,v=v+Math.imul(te,xt)|0,S=S+Math.imul(te,jt)|0,S=S+Math.imul(ae,xt)|0,O=O+Math.imul(ae,jt)|0;var Oe=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,v=Math.imul(me,dt),S=Math.imul(me,Vt),S=S+Math.imul(he,dt)|0,O=Math.imul(he,Vt),v=v+Math.imul(ie,lt)|0,S=S+Math.imul(ie,Gt)|0,S=S+Math.imul(se,lt)|0,O=O+Math.imul(se,Gt)|0,v=v+Math.imul(Q,bt)|0,S=S+Math.imul(Q,Wt)|0,S=S+Math.imul(Y,bt)|0,O=O+Math.imul(Y,Wt)|0,v=v+Math.imul(Me,mt)|0,S=S+Math.imul(Me,Yt)|0,S=S+Math.imul(it,mt)|0,O=O+Math.imul(it,Yt)|0,v=v+Math.imul(Ve,vt)|0,S=S+Math.imul(Ve,Xt)|0,S=S+Math.imul(Xe,vt)|0,O=O+Math.imul(Xe,Xt)|0,v=v+Math.imul(He,St)|0,S=S+Math.imul(He,Zt)|0,S=S+Math.imul(ze,St)|0,O=O+Math.imul(ze,Zt)|0,v=v+Math.imul(ye,xt)|0,S=S+Math.imul(ye,jt)|0,S=S+Math.imul(_e,xt)|0,O=O+Math.imul(_e,jt)|0;var Ne=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,v=Math.imul(me,lt),S=Math.imul(me,Gt),S=S+Math.imul(he,lt)|0,O=Math.imul(he,Gt),v=v+Math.imul(ie,bt)|0,S=S+Math.imul(ie,Wt)|0,S=S+Math.imul(se,bt)|0,O=O+Math.imul(se,Wt)|0,v=v+Math.imul(Q,mt)|0,S=S+Math.imul(Q,Yt)|0,S=S+Math.imul(Y,mt)|0,O=O+Math.imul(Y,Yt)|0,v=v+Math.imul(Me,vt)|0,S=S+Math.imul(Me,Xt)|0,S=S+Math.imul(it,vt)|0,O=O+Math.imul(it,Xt)|0,v=v+Math.imul(Ve,St)|0,S=S+Math.imul(Ve,Zt)|0,S=S+Math.imul(Xe,St)|0,O=O+Math.imul(Xe,Zt)|0,v=v+Math.imul(He,xt)|0,S=S+Math.imul(He,jt)|0,S=S+Math.imul(ze,xt)|0,O=O+Math.imul(ze,jt)|0;var nt=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(me,bt),S=Math.imul(me,Wt),S=S+Math.imul(he,bt)|0,O=Math.imul(he,Wt),v=v+Math.imul(ie,mt)|0,S=S+Math.imul(ie,Yt)|0,S=S+Math.imul(se,mt)|0,O=O+Math.imul(se,Yt)|0,v=v+Math.imul(Q,vt)|0,S=S+Math.imul(Q,Xt)|0,S=S+Math.imul(Y,vt)|0,O=O+Math.imul(Y,Xt)|0,v=v+Math.imul(Me,St)|0,S=S+Math.imul(Me,Zt)|0,S=S+Math.imul(it,St)|0,O=O+Math.imul(it,Zt)|0,v=v+Math.imul(Ve,xt)|0,S=S+Math.imul(Ve,jt)|0,S=S+Math.imul(Xe,xt)|0,O=O+Math.imul(Xe,jt)|0;var Jt=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,v=Math.imul(me,mt),S=Math.imul(me,Yt),S=S+Math.imul(he,mt)|0,O=Math.imul(he,Yt),v=v+Math.imul(ie,vt)|0,S=S+Math.imul(ie,Xt)|0,S=S+Math.imul(se,vt)|0,O=O+Math.imul(se,Xt)|0,v=v+Math.imul(Q,St)|0,S=S+Math.imul(Q,Zt)|0,S=S+Math.imul(Y,St)|0,O=O+Math.imul(Y,Zt)|0,v=v+Math.imul(Me,xt)|0,S=S+Math.imul(Me,jt)|0,S=S+Math.imul(it,xt)|0,O=O+Math.imul(it,jt)|0;var Rt=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,v=Math.imul(me,vt),S=Math.imul(me,Xt),S=S+Math.imul(he,vt)|0,O=Math.imul(he,Xt),v=v+Math.imul(ie,St)|0,S=S+Math.imul(ie,Zt)|0,S=S+Math.imul(se,St)|0,O=O+Math.imul(se,Zt)|0,v=v+Math.imul(Q,xt)|0,S=S+Math.imul(Q,jt)|0,S=S+Math.imul(Y,xt)|0,O=O+Math.imul(Y,jt)|0;var yn=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(yn>>>26)|0,yn&=67108863,v=Math.imul(me,St),S=Math.imul(me,Zt),S=S+Math.imul(he,St)|0,O=Math.imul(he,Zt),v=v+Math.imul(ie,xt)|0,S=S+Math.imul(ie,jt)|0,S=S+Math.imul(se,xt)|0,O=O+Math.imul(se,jt)|0;var Nr=(A+v|0)+((S&8191)<<13)|0;A=(O+(S>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,v=Math.imul(me,xt),S=Math.imul(me,jt),S=S+Math.imul(he,xt)|0,O=Math.imul(he,jt);var As=(A+v|0)+((S&8191)<<13)|0;return A=(O+(S>>>13)|0)+(As>>>26)|0,As&=67108863,I[0]=U,I[1]=$,I[2]=V,I[3]=W,I[4]=X,I[5]=Z,I[6]=ue,I[7]=fe,I[8]=ve,I[9]=de,I[10]=xe,I[11]=Oe,I[12]=Ne,I[13]=nt,I[14]=Jt,I[15]=Rt,I[16]=yn,I[17]=Nr,I[18]=As,A!==0&&(I[19]=A,b.length++),b};Math.imul||(y=p);function w(g,h,l){l.negative=h.negative^g.negative,l.length=g.length+h.length;for(var b=0,_=0,x=0;x<l.length-1;x++){var I=_;_=0;for(var A=b&67108863,v=Math.min(x,h.length-1),S=Math.max(0,x-g.length+1);S<=v;S++){var O=x-S,q=g.words[O]|0,J=h.words[S]|0,ne=q*J,oe=ne&67108863;I=I+(ne/67108864|0)|0,oe=oe+A|0,A=oe&67108863,I=I+(oe>>>26)|0,_+=I>>>26,I&=67108863}l.words[x]=A,b=I,I=_}return b!==0?l.words[x]=b:l.length--,l.strip()}function P(g,h,l){var b=new C;return b.mulp(g,h,l)}i.prototype.mulTo=function(h,l){var b,_=this.length+h.length;return this.length===10&&h.length===10?b=y(this,h,l):_<63?b=p(this,h,l):_<1024?b=w(this,h,l):b=P(this,h,l),b};function C(g,h){this.x=g,this.y=h}C.prototype.makeRBT=function(h){for(var l=new Array(h),b=i.prototype._countBits(h)-1,_=0;_<h;_++)l[_]=this.revBin(_,b,h);return l},C.prototype.revBin=function(h,l,b){if(h===0||h===b-1)return h;for(var _=0,x=0;x<l;x++)_|=(h&1)<<l-x-1,h>>=1;return _},C.prototype.permute=function(h,l,b,_,x,I){for(var A=0;A<I;A++)_[A]=l[h[A]],x[A]=b[h[A]]},C.prototype.transform=function(h,l,b,_,x,I){this.permute(I,h,l,b,_,x);for(var A=1;A<x;A<<=1)for(var v=A<<1,S=Math.cos(2*Math.PI/v),O=Math.sin(2*Math.PI/v),q=0;q<x;q+=v)for(var J=S,ne=O,oe=0;oe<A;oe++){var le=b[q+oe],pe=_[q+oe],G=b[q+oe+A],te=_[q+oe+A],ae=J*G-ne*te;te=J*te+ne*G,G=ae,b[q+oe]=le+G,_[q+oe]=pe+te,b[q+oe+A]=le-G,_[q+oe+A]=pe-te,oe!==v&&(ae=S*J-O*ne,ne=S*ne+O*J,J=ae)}},C.prototype.guessLen13b=function(h,l){var b=Math.max(l,h)|1,_=b&1,x=0;for(b=b/2|0;b;b=b>>>1)x++;return 1<<x+1+_},C.prototype.conjugate=function(h,l,b){if(!(b<=1))for(var _=0;_<b/2;_++){var x=h[_];h[_]=h[b-_-1],h[b-_-1]=x,x=l[_],l[_]=-l[b-_-1],l[b-_-1]=-x}},C.prototype.normalize13b=function(h,l){for(var b=0,_=0;_<l/2;_++){var x=Math.round(h[2*_+1]/l)*8192+Math.round(h[2*_]/l)+b;h[_]=x&67108863,x<67108864?b=0:b=x/67108864|0}return h},C.prototype.convert13b=function(h,l,b,_){for(var x=0,I=0;I<l;I++)x=x+(h[I]|0),b[2*I]=x&8191,x=x>>>13,b[2*I+1]=x&8191,x=x>>>13;for(I=2*l;I<_;++I)b[I]=0;r(x===0),r((x&-8192)===0)},C.prototype.stub=function(h){for(var l=new Array(h),b=0;b<h;b++)l[b]=0;return l},C.prototype.mulp=function(h,l,b){var _=2*this.guessLen13b(h.length,l.length),x=this.makeRBT(_),I=this.stub(_),A=new Array(_),v=new Array(_),S=new Array(_),O=new Array(_),q=new Array(_),J=new Array(_),ne=b.words;ne.length=_,this.convert13b(h.words,h.length,A,_),this.convert13b(l.words,l.length,O,_),this.transform(A,I,v,S,_,x),this.transform(O,I,q,J,_,x);for(var oe=0;oe<_;oe++){var le=v[oe]*q[oe]-S[oe]*J[oe];S[oe]=v[oe]*J[oe]+S[oe]*q[oe],v[oe]=le}return this.conjugate(v,S,_),this.transform(v,S,ne,I,_,x),this.conjugate(ne,I,_),this.normalize13b(ne,_),b.negative=h.negative^l.negative,b.length=h.length+l.length,b.strip()},i.prototype.mul=function(h){var l=new i(null);return l.words=new Array(this.length+h.length),this.mulTo(h,l)},i.prototype.mulf=function(h){var l=new i(null);return l.words=new Array(this.length+h.length),P(this,h,l)},i.prototype.imul=function(h){return this.clone().mulTo(h,this)},i.prototype.imuln=function(h){r(typeof h=="number"),r(h<67108864);for(var l=0,b=0;b<this.length;b++){var _=(this.words[b]|0)*h,x=(_&67108863)+(l&67108863);l>>=26,l+=_/67108864|0,l+=x>>>26,this.words[b]=x&67108863}return l!==0&&(this.words[b]=l,this.length++),this},i.prototype.muln=function(h){return this.clone().imuln(h)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(h){var l=m(h);if(l.length===0)return new i(1);for(var b=this,_=0;_<l.length&&l[_]===0;_++,b=b.sqr());if(++_<l.length)for(var x=b.sqr();_<l.length;_++,x=x.sqr())l[_]!==0&&(b=b.mul(x));return b},i.prototype.iushln=function(h){r(typeof h=="number"&&h>=0);var l=h%26,b=(h-l)/26,_=67108863>>>26-l<<26-l,x;if(l!==0){var I=0;for(x=0;x<this.length;x++){var A=this.words[x]&_,v=(this.words[x]|0)-A<<l;this.words[x]=v|I,I=A>>>26-l}I&&(this.words[x]=I,this.length++)}if(b!==0){for(x=this.length-1;x>=0;x--)this.words[x+b]=this.words[x];for(x=0;x<b;x++)this.words[x]=0;this.length+=b}return this.strip()},i.prototype.ishln=function(h){return r(this.negative===0),this.iushln(h)},i.prototype.iushrn=function(h,l,b){r(typeof h=="number"&&h>=0);var _;l?_=(l-l%26)/26:_=0;var x=h%26,I=Math.min((h-x)/26,this.length),A=67108863^67108863>>>x<<x,v=b;if(_-=I,_=Math.max(0,_),v){for(var S=0;S<I;S++)v.words[S]=this.words[S];v.length=I}if(I!==0)if(this.length>I)for(this.length-=I,S=0;S<this.length;S++)this.words[S]=this.words[S+I];else this.words[0]=0,this.length=1;var O=0;for(S=this.length-1;S>=0&&(O!==0||S>=_);S--){var q=this.words[S]|0;this.words[S]=O<<26-x|q>>>x,O=q&A}return v&&O!==0&&(v.words[v.length++]=O),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(h,l,b){return r(this.negative===0),this.iushrn(h,l,b)},i.prototype.shln=function(h){return this.clone().ishln(h)},i.prototype.ushln=function(h){return this.clone().iushln(h)},i.prototype.shrn=function(h){return this.clone().ishrn(h)},i.prototype.ushrn=function(h){return this.clone().iushrn(h)},i.prototype.testn=function(h){r(typeof h=="number"&&h>=0);var l=h%26,b=(h-l)/26,_=1<<l;if(this.length<=b)return!1;var x=this.words[b];return!!(x&_)},i.prototype.imaskn=function(h){r(typeof h=="number"&&h>=0);var l=h%26,b=(h-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(l!==0&&b++,this.length=Math.min(b,this.length),l!==0){var _=67108863^67108863>>>l<<l;this.words[this.length-1]&=_}return this.strip()},i.prototype.maskn=function(h){return this.clone().imaskn(h)},i.prototype.iaddn=function(h){return r(typeof h=="number"),r(h<67108864),h<0?this.isubn(-h):this.negative!==0?this.length===1&&(this.words[0]|0)<h?(this.words[0]=h-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(h),this.negative=1,this):this._iaddn(h)},i.prototype._iaddn=function(h){this.words[0]+=h;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(h){if(r(typeof h=="number"),r(h<67108864),h<0)return this.iaddn(-h);if(this.negative!==0)return this.negative=0,this.iaddn(h),this.negative=1,this;if(this.words[0]-=h,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},i.prototype.addn=function(h){return this.clone().iaddn(h)},i.prototype.subn=function(h){return this.clone().isubn(h)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(h,l,b){var _=h.length+b,x;this._expand(_);var I,A=0;for(x=0;x<h.length;x++){I=(this.words[x+b]|0)+A;var v=(h.words[x]|0)*l;I-=v&67108863,A=(I>>26)-(v/67108864|0),this.words[x+b]=I&67108863}for(;x<this.length-b;x++)I=(this.words[x+b]|0)+A,A=I>>26,this.words[x+b]=I&67108863;if(A===0)return this.strip();for(r(A===-1),A=0,x=0;x<this.length;x++)I=-(this.words[x]|0)+A,A=I>>26,this.words[x]=I&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(h,l){var b=this.length-h.length,_=this.clone(),x=h,I=x.words[x.length-1]|0,A=this._countBits(I);b=26-A,b!==0&&(x=x.ushln(b),_.iushln(b),I=x.words[x.length-1]|0);var v=_.length-x.length,S;if(l!=="mod"){S=new i(null),S.length=v+1,S.words=new Array(S.length);for(var O=0;O<S.length;O++)S.words[O]=0}var q=_.clone()._ishlnsubmul(x,1,v);q.negative===0&&(_=q,S&&(S.words[v]=1));for(var J=v-1;J>=0;J--){var ne=(_.words[x.length+J]|0)*67108864+(_.words[x.length+J-1]|0);for(ne=Math.min(ne/I|0,67108863),_._ishlnsubmul(x,ne,J);_.negative!==0;)ne--,_.negative=0,_._ishlnsubmul(x,1,J),_.isZero()||(_.negative^=1);S&&(S.words[J]=ne)}return S&&S.strip(),_.strip(),l!=="div"&&b!==0&&_.iushrn(b),{div:S||null,mod:_}},i.prototype.divmod=function(h,l,b){if(r(!h.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var _,x,I;return this.negative!==0&&h.negative===0?(I=this.neg().divmod(h,l),l!=="mod"&&(_=I.div.neg()),l!=="div"&&(x=I.mod.neg(),b&&x.negative!==0&&x.iadd(h)),{div:_,mod:x}):this.negative===0&&h.negative!==0?(I=this.divmod(h.neg(),l),l!=="mod"&&(_=I.div.neg()),{div:_,mod:I.mod}):(this.negative&h.negative)!==0?(I=this.neg().divmod(h.neg(),l),l!=="div"&&(x=I.mod.neg(),b&&x.negative!==0&&x.isub(h)),{div:I.div,mod:x}):h.length>this.length||this.cmp(h)<0?{div:new i(0),mod:this}:h.length===1?l==="div"?{div:this.divn(h.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modn(h.words[0]))}:{div:this.divn(h.words[0]),mod:new i(this.modn(h.words[0]))}:this._wordDiv(h,l)},i.prototype.div=function(h){return this.divmod(h,"div",!1).div},i.prototype.mod=function(h){return this.divmod(h,"mod",!1).mod},i.prototype.umod=function(h){return this.divmod(h,"mod",!0).mod},i.prototype.divRound=function(h){var l=this.divmod(h);if(l.mod.isZero())return l.div;var b=l.div.negative!==0?l.mod.isub(h):l.mod,_=h.ushrn(1),x=h.andln(1),I=b.cmp(_);return I<0||x===1&&I===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modn=function(h){r(h<=67108863);for(var l=(1<<26)%h,b=0,_=this.length-1;_>=0;_--)b=(l*b+(this.words[_]|0))%h;return b},i.prototype.idivn=function(h){r(h<=67108863);for(var l=0,b=this.length-1;b>=0;b--){var _=(this.words[b]|0)+l*67108864;this.words[b]=_/h|0,l=_%h}return this.strip()},i.prototype.divn=function(h){return this.clone().idivn(h)},i.prototype.egcd=function(h){r(h.negative===0),r(!h.isZero());var l=this,b=h.clone();l.negative!==0?l=l.umod(h):l=l.clone();for(var _=new i(1),x=new i(0),I=new i(0),A=new i(1),v=0;l.isEven()&&b.isEven();)l.iushrn(1),b.iushrn(1),++v;for(var S=b.clone(),O=l.clone();!l.isZero();){for(var q=0,J=1;(l.words[0]&J)===0&&q<26;++q,J<<=1);if(q>0)for(l.iushrn(q);q-- >0;)(_.isOdd()||x.isOdd())&&(_.iadd(S),x.isub(O)),_.iushrn(1),x.iushrn(1);for(var ne=0,oe=1;(b.words[0]&oe)===0&&ne<26;++ne,oe<<=1);if(ne>0)for(b.iushrn(ne);ne-- >0;)(I.isOdd()||A.isOdd())&&(I.iadd(S),A.isub(O)),I.iushrn(1),A.iushrn(1);l.cmp(b)>=0?(l.isub(b),_.isub(I),x.isub(A)):(b.isub(l),I.isub(_),A.isub(x))}return{a:I,b:A,gcd:b.iushln(v)}},i.prototype._invmp=function(h){r(h.negative===0),r(!h.isZero());var l=this,b=h.clone();l.negative!==0?l=l.umod(h):l=l.clone();for(var _=new i(1),x=new i(0),I=b.clone();l.cmpn(1)>0&&b.cmpn(1)>0;){for(var A=0,v=1;(l.words[0]&v)===0&&A<26;++A,v<<=1);if(A>0)for(l.iushrn(A);A-- >0;)_.isOdd()&&_.iadd(I),_.iushrn(1);for(var S=0,O=1;(b.words[0]&O)===0&&S<26;++S,O<<=1);if(S>0)for(b.iushrn(S);S-- >0;)x.isOdd()&&x.iadd(I),x.iushrn(1);l.cmp(b)>=0?(l.isub(b),_.isub(x)):(b.isub(l),x.isub(_))}var q;return l.cmpn(1)===0?q=_:q=x,q.cmpn(0)<0&&q.iadd(h),q},i.prototype.gcd=function(h){if(this.isZero())return h.abs();if(h.isZero())return this.abs();var l=this.clone(),b=h.clone();l.negative=0,b.negative=0;for(var _=0;l.isEven()&&b.isEven();_++)l.iushrn(1),b.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;b.isEven();)b.iushrn(1);var x=l.cmp(b);if(x<0){var I=l;l=b,b=I}else if(x===0||b.cmpn(1)===0)break;l.isub(b)}while(!0);return b.iushln(_)},i.prototype.invm=function(h){return this.egcd(h).a.umod(h)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(h){return this.words[0]&h},i.prototype.bincn=function(h){r(typeof h=="number");var l=h%26,b=(h-l)/26,_=1<<l;if(this.length<=b)return this._expand(b+1),this.words[b]|=_,this;for(var x=_,I=b;x!==0&&I<this.length;I++){var A=this.words[I]|0;A+=x,x=A>>>26,A&=67108863,this.words[I]=A}return x!==0&&(this.words[I]=x,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(h){var l=h<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var b;if(this.length>1)b=1;else{l&&(h=-h),r(h<=67108863,"Number is too big");var _=this.words[0]|0;b=_===h?0:_<h?-1:1}return this.negative!==0?-b|0:b},i.prototype.cmp=function(h){if(this.negative!==0&&h.negative===0)return-1;if(this.negative===0&&h.negative!==0)return 1;var l=this.ucmp(h);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(h){if(this.length>h.length)return 1;if(this.length<h.length)return-1;for(var l=0,b=this.length-1;b>=0;b--){var _=this.words[b]|0,x=h.words[b]|0;if(_!==x){_<x?l=-1:_>x&&(l=1);break}}return l},i.prototype.gtn=function(h){return this.cmpn(h)===1},i.prototype.gt=function(h){return this.cmp(h)===1},i.prototype.gten=function(h){return this.cmpn(h)>=0},i.prototype.gte=function(h){return this.cmp(h)>=0},i.prototype.ltn=function(h){return this.cmpn(h)===-1},i.prototype.lt=function(h){return this.cmp(h)===-1},i.prototype.lten=function(h){return this.cmpn(h)<=0},i.prototype.lte=function(h){return this.cmp(h)<=0},i.prototype.eqn=function(h){return this.cmpn(h)===0},i.prototype.eq=function(h){return this.cmp(h)===0},i.red=function(h){return new D(h)},i.prototype.toRed=function(h){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),h.convertTo(this)._forceRed(h)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(h){return this.red=h,this},i.prototype.forceRed=function(h){return r(!this.red,"Already a number in reduction context"),this._forceRed(h)},i.prototype.redAdd=function(h){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,h)},i.prototype.redIAdd=function(h){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,h)},i.prototype.redSub=function(h){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,h)},i.prototype.redISub=function(h){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,h)},i.prototype.redShl=function(h){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,h)},i.prototype.redMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.mul(this,h)},i.prototype.redIMul=function(h){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,h),this.red.imul(this,h)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(h){return r(this.red&&!h.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,h)};var R={k256:null,p224:null,p192:null,p25519:null};function T(g,h){this.name=g,this.p=new i(h,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var h=new i(null);return h.words=new Array(Math.ceil(this.n/13)),h},T.prototype.ireduce=function(h){var l=h,b;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),b=l.bitLength();while(b>this.n);var _=b<this.n?-1:l.ucmp(this.p);return _===0?(l.words[0]=0,l.length=1):_>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},T.prototype.split=function(h,l){h.iushrn(this.n,0,l)},T.prototype.imulK=function(h){return h.imul(this.k)};function k(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(k,T),k.prototype.split=function(h,l){for(var b=4194303,_=Math.min(h.length,9),x=0;x<_;x++)l.words[x]=h.words[x];if(l.length=_,h.length<=9){h.words[0]=0,h.length=1;return}var I=h.words[9];for(l.words[l.length++]=I&b,x=10;x<h.length;x++){var A=h.words[x]|0;h.words[x-10]=(A&b)<<4|I>>>22,I=A}I>>>=22,h.words[x-10]=I,I===0&&h.length>10?h.length-=10:h.length-=9},k.prototype.imulK=function(h){h.words[h.length]=0,h.words[h.length+1]=0,h.length+=2;for(var l=0,b=0;b<h.length;b++){var _=h.words[b]|0;l+=_*977,h.words[b]=l&67108863,l=_*64+(l/67108864|0)}return h.words[h.length-1]===0&&(h.length--,h.words[h.length-1]===0&&h.length--),h};function H(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(H,T);function F(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(F,T);function L(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(L,T),L.prototype.imulK=function(h){for(var l=0,b=0;b<h.length;b++){var _=(h.words[b]|0)*19+l,x=_&67108863;_>>>=26,h.words[b]=x,l=_}return l!==0&&(h.words[h.length++]=l),h},i._prime=function(h){if(R[h])return R[h];var l;if(h==="k256")l=new k;else if(h==="p224")l=new H;else if(h==="p192")l=new F;else if(h==="p25519")l=new L;else throw new Error("Unknown prime "+h);return R[h]=l,l};function D(g){if(typeof g=="string"){var h=i._prime(g);this.m=h.p,this.prime=h}else r(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}D.prototype._verify1=function(h){r(h.negative===0,"red works only with positives"),r(h.red,"red works only with red numbers")},D.prototype._verify2=function(h,l){r((h.negative|l.negative)===0,"red works only with positives"),r(h.red&&h.red===l.red,"red works only with red numbers")},D.prototype.imod=function(h){return this.prime?this.prime.ireduce(h)._forceRed(this):h.umod(this.m)._forceRed(this)},D.prototype.neg=function(h){return h.isZero()?h.clone():this.m.sub(h)._forceRed(this)},D.prototype.add=function(h,l){this._verify2(h,l);var b=h.add(l);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},D.prototype.iadd=function(h,l){this._verify2(h,l);var b=h.iadd(l);return b.cmp(this.m)>=0&&b.isub(this.m),b},D.prototype.sub=function(h,l){this._verify2(h,l);var b=h.sub(l);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},D.prototype.isub=function(h,l){this._verify2(h,l);var b=h.isub(l);return b.cmpn(0)<0&&b.iadd(this.m),b},D.prototype.shl=function(h,l){return this._verify1(h),this.imod(h.ushln(l))},D.prototype.imul=function(h,l){return this._verify2(h,l),this.imod(h.imul(l))},D.prototype.mul=function(h,l){return this._verify2(h,l),this.imod(h.mul(l))},D.prototype.isqr=function(h){return this.imul(h,h.clone())},D.prototype.sqr=function(h){return this.mul(h,h)},D.prototype.sqrt=function(h){if(h.isZero())return h.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var b=this.m.add(new i(1)).iushrn(2);return this.pow(h,b)}for(var _=this.m.subn(1),x=0;!_.isZero()&&_.andln(1)===0;)x++,_.iushrn(1);r(!_.isZero());var I=new i(1).toRed(this),A=I.redNeg(),v=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new i(2*S*S).toRed(this);this.pow(S,v).cmp(A)!==0;)S.redIAdd(A);for(var O=this.pow(S,_),q=this.pow(h,_.addn(1).iushrn(1)),J=this.pow(h,_),ne=x;J.cmp(I)!==0;){for(var oe=J,le=0;oe.cmp(I)!==0;le++)oe=oe.redSqr();r(le<ne);var pe=this.pow(O,new i(1).iushln(ne-le-1));q=q.redMul(pe),O=pe.redSqr(),J=J.redMul(O),ne=le}return q},D.prototype.invm=function(h){var l=h._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},D.prototype.pow=function(h,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return h.clone();var b=4,_=new Array(1<<b);_[0]=new i(1).toRed(this),_[1]=h;for(var x=2;x<_.length;x++)_[x]=this.mul(_[x-1],h);var I=_[0],A=0,v=0,S=l.bitLength()%26;for(S===0&&(S=26),x=l.length-1;x>=0;x--){for(var O=l.words[x],q=S-1;q>=0;q--){var J=O>>q&1;if(I!==_[0]&&(I=this.sqr(I)),J===0&&A===0){v=0;continue}A<<=1,A|=J,v++,!(v!==b&&(x!==0||q!==0))&&(I=this.mul(I,_[A]),v=0,A=0)}S=26}return I},D.prototype.convertTo=function(h){var l=h.umod(this.m);return l===h?l.clone():l},D.prototype.convertFrom=function(h){var l=h.clone();return l.red=null,l},i.mont=function(h){return new N(h)};function N(g){D.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(N,D),N.prototype.convertTo=function(h){return this.imod(h.ushln(this.shift))},N.prototype.convertFrom=function(h){var l=this.imod(h.mul(this.rinv));return l.red=null,l},N.prototype.imul=function(h,l){if(h.isZero()||l.isZero())return h.words[0]=0,h.length=1,h;var b=h.imul(l),_=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=b.isub(_).iushrn(this.shift),I=x;return x.cmp(this.m)>=0?I=x.isub(this.m):x.cmpn(0)<0&&(I=x.iadd(this.m)),I._forceRed(this)},N.prototype.mul=function(h,l){if(h.isZero()||l.isZero())return new i(0)._forceRed(this);var b=h.mul(l),_=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),x=b.isub(_).iushrn(this.shift),I=x;return x.cmp(this.m)>=0?I=x.isub(this.m):x.cmpn(0)<0&&(I=x.iadd(this.m)),I._forceRed(this)},N.prototype.invm=function(h){var l=this.imod(h._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(typeof lA>"u"||lA,vH)});var xH=j(Ka=>{"use strict";B();M();var sde=Ka&&Ka.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.stripHexPrefix=Ka.isHexPrefixed=Ka.getLength=Ka.decode=Ka.encode=void 0;var ode=sde(Is());function SH(t){if(Array.isArray(t)){let e=[];for(let n=0;n<t.length;n++)e.push(SH(t[n]));let r=E.Buffer.concat(e);return E.Buffer.concat([_H(r.length,192),r])}else{let e=yA(t);return e.length===1&&e[0]<128?e:E.Buffer.concat([_H(e.length,128),e])}}Ka.encode=SH;function pA(t,e){if(t[0]==="0"&&t[1]==="0")throw new Error("invalid RLP: extra zeros");return parseInt(t,e)}function _H(t,e){if(t<56)return E.Buffer.from([t+e]);{let r=gA(t),n=r.length/2,i=gA(e+55+n);return E.Buffer.from(i+r,"hex")}}function ade(t,e=!1){if(!t||t.length===0)return E.Buffer.from([]);let r=yA(t),n=bA(r);if(e)return n;if(n.remainder.length!==0)throw new Error("invalid remainder");return n.data}Ka.decode=ade;function ude(t){if(!t||t.length===0)return E.Buffer.from([]);let e=yA(t),r=e[0];if(r<=127)return e.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;{let n=r-246,i=pA(e.slice(1,n).toString("hex"),16);return n+i}}Ka.getLength=ude;function bA(t){let e,r,n,i,s,o=[],a=t[0];if(a<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(a<=183){if(e=a-127,a===128?n=E.Buffer.from([]):n=t.slice(1,e),e===2&&n[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:n,remainder:t.slice(e)}}else if(a<=191){if(r=a-182,t.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if(e=pA(t.slice(1,r).toString("hex"),16),e<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if(n=t.slice(r,e+r),n.length<e)throw new Error("invalid RLP: not enough bytes for string");return{data:n,remainder:t.slice(e+r)}}else if(a<=247){for(e=a-191,i=t.slice(1,e);i.length;)s=bA(i),o.push(s.data),i=s.remainder;return{data:o,remainder:t.slice(e)}}else{r=a-246,e=pA(t.slice(1,r).toString("hex"),16);let u=r+e;if(u>t.length)throw new Error("invalid rlp: total length is larger than the data");if(i=t.slice(r,u),i.length===0)throw new Error("invalid rlp, List has a invalid length");for(;i.length;)s=bA(i),o.push(s.data),i=s.remainder;return{data:o,remainder:t.slice(u)}}}function mA(t){return t.slice(0,2)==="0x"}Ka.isHexPrefixed=mA;function wH(t){return mA(t)?t.slice(2):t}Ka.stripHexPrefix=wH;function gA(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");let e=t.toString(16);return e.length%2?`0${e}`:e}function cde(t){return t.length%2?`0${t}`:t}function fde(t){let e=gA(t);return E.Buffer.from(e,"hex")}function yA(t){if(!E.Buffer.isBuffer(t)){if(typeof t=="string")return mA(t)?E.Buffer.from(cde(wH(t)),"hex"):E.Buffer.from(t);if(typeof t=="number"||typeof t=="bigint")return t?fde(t):E.Buffer.from([]);if(t==null)return E.Buffer.from([]);if(t instanceof Uint8Array)return E.Buffer.from(t);if(ode.default.isBN(t))return E.Buffer.from(t.toArray());throw new Error("invalid type")}return t}});var EH=j(j5=>{"use strict";B();M();Object.defineProperty(j5,"__esModule",{value:!0});j5.validateHexString=j5.isHexString=void 0;function dde(t,e){return t.match(/^0x[0-9A-Fa-f]*$/)?!(e&&t.length!==2+2*e):!1}j5.isHexString=dde;function hde(t){if(!t)return!1;let e=t.toLowerCase().startsWith("0x")?t.substring(2).toLowerCase():t.toLowerCase();return!(e.length===0||e.length%2!==0||!e.match(/^[0-9A-Fa-f]*$/))}j5.validateHexString=hde});var AH=j(P8=>{"use strict";B();M();Object.defineProperty(P8,"__esModule",{value:!0});P8.encode=void 0;function lde(t){var e="0123456789abcdef";function r(H){var F,L="";for(F=0;F<=3;F++)L+=e.charAt(H>>F*8+4&15)+e.charAt(H>>F*8&15);return L}function n(H,F){var L=(H&65535)+(F&65535),D=(H>>16)+(F>>16)+(L>>16);return D<<16|L&65535}function i(H,F){return H<<F|H>>>32-F}function s(H,F,L,D,N,g){return n(i(n(n(F,H),n(D,g)),N),L)}function o(H,F,L,D,N,g,h){return s(F&L|~F&D,H,F,N,g,h)}function a(H,F,L,D,N,g,h){return s(F&D|L&~D,H,F,N,g,h)}function u(H,F,L,D,N,g,h){return s(F^L^D,H,F,N,g,h)}function c(H,F,L,D,N,g,h){return s(L^(F|~D),H,F,N,g,h)}function d(H){var F,L=(H.length+8>>6)+1,D=new Array(L*16);for(F=0;F<L*16;F++)D[F]=0;for(F=0;F<H.length;F++)D[F>>2]|=H.charCodeAt(F)<<F%4*8;return D[F>>2]|=128<<F%4*8,D[L*16-2]=H.length*8,D}var f,m=d(""+t),p=1732584193,y=-271733879,w=-1732584194,P=271733878,C,R,T,k;for(f=0;f<m.length;f+=16)C=p,R=y,T=w,k=P,p=o(p,y,w,P,m[f+0],7,-680876936),P=o(P,p,y,w,m[f+1],12,-389564586),w=o(w,P,p,y,m[f+2],17,606105819),y=o(y,w,P,p,m[f+3],22,-1044525330),p=o(p,y,w,P,m[f+4],7,-176418897),P=o(P,p,y,w,m[f+5],12,1200080426),w=o(w,P,p,y,m[f+6],17,-1473231341),y=o(y,w,P,p,m[f+7],22,-45705983),p=o(p,y,w,P,m[f+8],7,1770035416),P=o(P,p,y,w,m[f+9],12,-1958414417),w=o(w,P,p,y,m[f+10],17,-42063),y=o(y,w,P,p,m[f+11],22,-1990404162),p=o(p,y,w,P,m[f+12],7,1804603682),P=o(P,p,y,w,m[f+13],12,-40341101),w=o(w,P,p,y,m[f+14],17,-1502002290),y=o(y,w,P,p,m[f+15],22,1236535329),p=a(p,y,w,P,m[f+1],5,-165796510),P=a(P,p,y,w,m[f+6],9,-1069501632),w=a(w,P,p,y,m[f+11],14,643717713),y=a(y,w,P,p,m[f+0],20,-373897302),p=a(p,y,w,P,m[f+5],5,-701558691),P=a(P,p,y,w,m[f+10],9,38016083),w=a(w,P,p,y,m[f+15],14,-660478335),y=a(y,w,P,p,m[f+4],20,-405537848),p=a(p,y,w,P,m[f+9],5,568446438),P=a(P,p,y,w,m[f+14],9,-1019803690),w=a(w,P,p,y,m[f+3],14,-187363961),y=a(y,w,P,p,m[f+8],20,1163531501),p=a(p,y,w,P,m[f+13],5,-1444681467),P=a(P,p,y,w,m[f+2],9,-51403784),w=a(w,P,p,y,m[f+7],14,1735328473),y=a(y,w,P,p,m[f+12],20,-1926607734),p=u(p,y,w,P,m[f+5],4,-378558),P=u(P,p,y,w,m[f+8],11,-2022574463),w=u(w,P,p,y,m[f+11],16,1839030562),y=u(y,w,P,p,m[f+14],23,-35309556),p=u(p,y,w,P,m[f+1],4,-1530992060),P=u(P,p,y,w,m[f+4],11,1272893353),w=u(w,P,p,y,m[f+7],16,-155497632),y=u(y,w,P,p,m[f+10],23,-1094730640),p=u(p,y,w,P,m[f+13],4,681279174),P=u(P,p,y,w,m[f+0],11,-358537222),w=u(w,P,p,y,m[f+3],16,-722521979),y=u(y,w,P,p,m[f+6],23,76029189),p=u(p,y,w,P,m[f+9],4,-640364487),P=u(P,p,y,w,m[f+12],11,-421815835),w=u(w,P,p,y,m[f+15],16,530742520),y=u(y,w,P,p,m[f+2],23,-995338651),p=c(p,y,w,P,m[f+0],6,-198630844),P=c(P,p,y,w,m[f+7],10,1126891415),w=c(w,P,p,y,m[f+14],15,-1416354905),y=c(y,w,P,p,m[f+5],21,-57434055),p=c(p,y,w,P,m[f+12],6,1700485571),P=c(P,p,y,w,m[f+3],10,-1894986606),w=c(w,P,p,y,m[f+10],15,-1051523),y=c(y,w,P,p,m[f+1],21,-2054922799),p=c(p,y,w,P,m[f+8],6,1873313359),P=c(P,p,y,w,m[f+15],10,-30611744),w=c(w,P,p,y,m[f+6],15,-1560198380),y=c(y,w,P,p,m[f+13],21,1309151649),p=c(p,y,w,P,m[f+4],6,-145523070),P=c(P,p,y,w,m[f+11],10,-1120210379),w=c(w,P,p,y,m[f+2],15,718787259),y=c(y,w,P,p,m[f+9],21,-343485551),p=n(p,C),y=n(y,R),w=n(w,T),P=n(P,k);return r(p)+r(y)+r(w)+r(P)}P8.encode=lde});var _A=j(_n=>{"use strict";B();M();var pde=_n&&_n.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bde=_n&&_n.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IH=_n&&_n.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pde(e,t,r);return bde(e,t),e};Object.defineProperty(_n,"__esModule",{value:!0});_n.blake2s=_n.compress=_n.IV=void 0;var gde=IH(M5()),TH=IH(x8()),c0=_o();_n.IV=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);function fl(t,e,r,n,i){return t=t+e+i|0,n=(0,c0.rotr)(n^t,16),r=r+n|0,e=(0,c0.rotr)(e^r,12),{a:t,b:e,c:r,d:n}}function dl(t,e,r,n,i){return t=t+e+i|0,n=(0,c0.rotr)(n^t,8),r=r+n|0,e=(0,c0.rotr)(e^r,7),{a:t,b:e,c:r,d:n}}function PH(t,e,r,n,i,s,o,a,u,c,d,f,m,p,y,w,P,C,R,T){let k=0;for(let H=0;H<n;H++)({a:i,b:u,c:m,d:P}=fl(i,u,m,P,r[e+t[k++]])),{a:i,b:u,c:m,d:P}=dl(i,u,m,P,r[e+t[k++]]),{a:s,b:c,c:p,d:C}=fl(s,c,p,C,r[e+t[k++]]),{a:s,b:c,c:p,d:C}=dl(s,c,p,C,r[e+t[k++]]),{a:o,b:d,c:y,d:R}=fl(o,d,y,R,r[e+t[k++]]),{a:o,b:d,c:y,d:R}=dl(o,d,y,R,r[e+t[k++]]),{a,b:f,c:w,d:T}=fl(a,f,w,T,r[e+t[k++]]),{a,b:f,c:w,d:T}=dl(a,f,w,T,r[e+t[k++]]),{a:i,b:c,c:y,d:T}=fl(i,c,y,T,r[e+t[k++]]),{a:i,b:c,c:y,d:T}=dl(i,c,y,T,r[e+t[k++]]),{a:s,b:d,c:w,d:P}=fl(s,d,w,P,r[e+t[k++]]),{a:s,b:d,c:w,d:P}=dl(s,d,w,P,r[e+t[k++]]),{a:o,b:f,c:m,d:C}=fl(o,f,m,C,r[e+t[k++]]),{a:o,b:f,c:m,d:C}=dl(o,f,m,C,r[e+t[k++]]),{a,b:u,c:p,d:R}=fl(a,u,p,R,r[e+t[k++]]),{a,b:u,c:p,d:R}=dl(a,u,p,R,r[e+t[k++]]);return{v0:i,v1:s,v2:o,v3:a,v4:u,v5:c,v6:d,v7:f,v8:m,v9:p,v10:y,v11:w,v12:P,v13:C,v14:R,v15:T}}_n.compress=PH;var vA=class extends TH.BLAKE2{constructor(e={}){super(64,e.dkLen===void 0?32:e.dkLen,e,32,8,8),this.v0=_n.IV[0]|0,this.v1=_n.IV[1]|0,this.v2=_n.IV[2]|0,this.v3=_n.IV[3]|0,this.v4=_n.IV[4]|0,this.v5=_n.IV[5]|0,this.v6=_n.IV[6]|0,this.v7=_n.IV[7]|0;let r=e.key?e.key.length:0;if(this.v0^=this.outputLen|r<<8|1<<16|1<<24,e.salt){let n=(0,c0.u32)((0,c0.toBytes)(e.salt));this.v4^=n[0],this.v5^=n[1]}if(e.personalization){let n=(0,c0.u32)((0,c0.toBytes)(e.personalization));this.v6^=n[0],this.v7^=n[1]}if(e.key){let n=new Uint8Array(this.blockLen);n.set((0,c0.toBytes)(e.key)),this.update(n)}}get(){let{v0:e,v1:r,v2:n,v3:i,v4:s,v5:o,v6:a,v7:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.v0=e|0,this.v1=r|0,this.v2=n|0,this.v3=i|0,this.v4=s|0,this.v5=o|0,this.v6=a|0,this.v7=u|0}compress(e,r,n){let{h:i,l:s}=gde.fromBig(BigInt(this.length)),{v0:o,v1:a,v2:u,v3:c,v4:d,v5:f,v6:m,v7:p,v8:y,v9:w,v10:P,v11:C,v12:R,v13:T,v14:k,v15:H}=PH(TH.SIGMA,r,e,10,this.v0,this.v1,this.v2,this.v3,this.v4,this.v5,this.v6,this.v7,_n.IV[0],_n.IV[1],_n.IV[2],_n.IV[3],s^_n.IV[4],i^_n.IV[5],n?~_n.IV[6]:_n.IV[6],_n.IV[7]);this.v0^=o^y,this.v1^=a^w,this.v2^=u^P,this.v3^=c^C,this.v4^=d^R,this.v5^=f^T,this.v6^=m^k,this.v7^=p^H}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0)}};_n.blake2s=(0,c0.wrapConstructorWithOpts)(t=>new vA(t))});var O8=j(K5=>{"use strict";B();M();Object.defineProperty(K5,"__esModule",{value:!0});K5.pbkdf2Async=K5.pbkdf2=void 0;var mde=$b(),f0=_o();function OH(t,e,r,n){(0,f0.assertHash)(t);let i=(0,f0.checkOpts)({dkLen:32,asyncTick:10},n),{c:s,dkLen:o,asyncTick:a}=i;if((0,f0.assertNumber)(s),(0,f0.assertNumber)(o),(0,f0.assertNumber)(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let u=(0,f0.toBytes)(e),c=(0,f0.toBytes)(r),d=new Uint8Array(o),f=mde.hmac.create(t,u),m=f._cloneInto().update(c);return{c:s,dkLen:o,asyncTick:a,DK:d,PRF:f,PRFSalt:m}}function BH(t,e,r,n,i){return t.destroy(),e.destroy(),n&&n.destroy(),i.fill(0),r}function yde(t,e,r,n){let{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:u}=OH(t,e,r,n),c,d=new Uint8Array(4),f=(0,f0.createView)(d),m=new Uint8Array(a.outputLen);for(let p=1,y=0;y<s;p++,y+=a.outputLen){let w=o.subarray(y,y+a.outputLen);f.setInt32(0,p,!1),(c=u._cloneInto(c)).update(d).digestInto(m),w.set(m.subarray(0,w.length));for(let P=1;P<i;P++){a._cloneInto(c).update(m).digestInto(m);for(let C=0;C<w.length;C++)w[C]^=m[C]}}return BH(a,u,o,c,m)}K5.pbkdf2=yde;async function vde(t,e,r,n){let{c:i,dkLen:s,asyncTick:o,DK:a,PRF:u,PRFSalt:c}=OH(t,e,r,n),d,f=new Uint8Array(4),m=(0,f0.createView)(f),p=new Uint8Array(u.outputLen);for(let y=1,w=0;w<s;y++,w+=u.outputLen){let P=a.subarray(w,w+u.outputLen);m.setInt32(0,y,!1),(d=c._cloneInto(d)).update(f).digestInto(p),P.set(p.subarray(0,P.length)),await(0,f0.asyncLoop)(i-1,o,C=>{u._cloneInto(d).update(p).digestInto(p);for(let R=0;R<P.length;R++)P[R]^=p[R]})}return BH(u,c,a,d,p)}K5.pbkdf2Async=vde});var FH=j(z5=>{"use strict";B();M();Object.defineProperty(z5,"__esModule",{value:!0});z5.scryptAsync=z5.scrypt=void 0;var kH=B5(),CH=O8(),Xu=_o(),hn=(t,e)=>t<<e|t>>>32-e;function MH(t,e,r,n,i,s){let o=t[e++]^r[n++],a=t[e++]^r[n++],u=t[e++]^r[n++],c=t[e++]^r[n++],d=t[e++]^r[n++],f=t[e++]^r[n++],m=t[e++]^r[n++],p=t[e++]^r[n++],y=t[e++]^r[n++],w=t[e++]^r[n++],P=t[e++]^r[n++],C=t[e++]^r[n++],R=t[e++]^r[n++],T=t[e++]^r[n++],k=t[e++]^r[n++],H=t[e++]^r[n++],F=o,L=a,D=u,N=c,g=d,h=f,l=m,b=p,_=y,x=w,I=P,A=C,v=R,S=T,O=k,q=H;for(let J=0;J<8;J+=2)g^=hn(F+v|0,7),_^=hn(g+F|0,9),v^=hn(_+g|0,13),F^=hn(v+_|0,18),x^=hn(h+L|0,7),S^=hn(x+h|0,9),L^=hn(S+x|0,13),h^=hn(L+S|0,18),O^=hn(I+l|0,7),D^=hn(O+I|0,9),l^=hn(D+O|0,13),I^=hn(l+D|0,18),N^=hn(q+A|0,7),b^=hn(N+q|0,9),A^=hn(b+N|0,13),q^=hn(A+b|0,18),L^=hn(F+N|0,7),D^=hn(L+F|0,9),N^=hn(D+L|0,13),F^=hn(N+D|0,18),l^=hn(h+g|0,7),b^=hn(l+h|0,9),g^=hn(b+l|0,13),h^=hn(g+b|0,18),A^=hn(I+x|0,7),_^=hn(A+I|0,9),x^=hn(_+A|0,13),I^=hn(x+_|0,18),v^=hn(q+O|0,7),S^=hn(v+q|0,9),O^=hn(S+v|0,13),q^=hn(O+S|0,18);i[s++]=o+F|0,i[s++]=a+L|0,i[s++]=u+D|0,i[s++]=c+N|0,i[s++]=d+g|0,i[s++]=f+h|0,i[s++]=m+l|0,i[s++]=p+b|0,i[s++]=y+_|0,i[s++]=w+x|0,i[s++]=P+I|0,i[s++]=C+A|0,i[s++]=R+v|0,i[s++]=T+S|0,i[s++]=k+O|0,i[s++]=H+q|0}function $5(t,e,r,n,i){let s=n+0,o=n+16*i;for(let a=0;a<16;a++)r[o+a]=t[e+(2*i-1)*16+a];for(let a=0;a<i;a++,s+=16,e+=16)MH(r,o,t,e,r,s),a>0&&(o+=16),MH(r,s,t,e+=16,r,o)}function RH(t,e,r){let n=(0,Xu.checkOpts)({dkLen:32,asyncTick:10,maxmem:1073742848},r),{N:i,r:s,p:o,dkLen:a,asyncTick:u,maxmem:c,onProgress:d}=n;if((0,Xu.assertNumber)(i),(0,Xu.assertNumber)(s),(0,Xu.assertNumber)(o),(0,Xu.assertNumber)(a),(0,Xu.assertNumber)(u),(0,Xu.assertNumber)(c),d!==void 0&&typeof d!="function")throw new Error("progressCb should be function");let f=128*s,m=f/4;if(i<=1||(i&i-1)!==0||i>=2**(f/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(o<0||o>(2**32-1)*32/f)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let p=f*(i+o);if(p>c)throw new Error(`Scrypt: parameters too large, ${p} (128 * r * (N + p)) > ${c} (maxmem)`);let y=(0,CH.pbkdf2)(kH.sha256,t,e,{c:1,dkLen:f*o}),w=(0,Xu.u32)(y),P=(0,Xu.u32)(new Uint8Array(f*i)),C=(0,Xu.u32)(new Uint8Array(f)),R=()=>{};if(d){let T=2*i*o,k=Math.max(Math.floor(T/1e4),1),H=0;R=()=>{H++,d&&(!(H%k)||H===T)&&d(H/T)}}return{N:i,r:s,p:o,dkLen:a,blockSize32:m,V:P,B32:w,B:y,tmp:C,blockMixCb:R,asyncTick:u}}function NH(t,e,r,n,i){let s=(0,CH.pbkdf2)(kH.sha256,t,r,{c:1,dkLen:e});return r.fill(0),n.fill(0),i.fill(0),s}function _de(t,e,r){let{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:u,B32:c,B:d,tmp:f,blockMixCb:m}=RH(t,e,r);for(let p=0;p<s;p++){let y=a*p;for(let w=0;w<a;w++)u[w]=c[y+w];for(let w=0,P=0;w<n-1;w++)$5(u,P,u,P+=a,i),m();$5(u,(n-1)*a,c,y,i),m();for(let w=0;w<n;w++){let P=c[y+a-16]%n;for(let C=0;C<a;C++)f[C]=c[y+C]^u[P*a+C];$5(f,0,c,y,i),m()}}return NH(t,o,d,u,f)}z5.scrypt=_de;async function Sde(t,e,r){let{N:n,r:i,p:s,dkLen:o,blockSize32:a,V:u,B32:c,B:d,tmp:f,blockMixCb:m,asyncTick:p}=RH(t,e,r);for(let y=0;y<s;y++){let w=a*y;for(let C=0;C<a;C++)u[C]=c[w+C];let P=0;await(0,Xu.asyncLoop)(n-1,p,C=>{$5(u,P,u,P+=a,i),m()}),$5(u,(n-1)*a,c,w,i),m(),await(0,Xu.asyncLoop)(n,p,C=>{let R=c[w+a-16]%n;for(let T=0;T<a;T++)f[T]=c[w+T]^u[R*a+T];$5(f,0,c,w,i),m()})}return NH(t,o,d,u,f)}z5.scryptAsync=Sde});var LH=j(d0=>{"use strict";B();M();var wde=d0&&d0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xde=d0&&d0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SA=d0&&d0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wde(e,t,r);return xde(e,t),e};Object.defineProperty(d0,"__esModule",{value:!0});d0.blake3=void 0;var HH=SA(M5()),Ede=SA(x8()),lf=SA(_A()),sp=_o(),Zu;(function(t){t[t.CHUNK_START=1]="CHUNK_START",t[t.CHUNK_END=2]="CHUNK_END",t[t.PARENT=4]="PARENT",t[t.ROOT=8]="ROOT",t[t.KEYED_HASH=16]="KEYED_HASH",t[t.DERIVE_KEY_CONTEXT=32]="DERIVE_KEY_CONTEXT",t[t.DERIVE_KEY_MATERIAL=64]="DERIVE_KEY_MATERIAL"})(Zu||(Zu={}));var DH=(()=>{let t=Array.from({length:16},(n,i)=>i),e=n=>[2,6,3,10,7,0,4,13,1,11,12,5,9,14,15,8].map(i=>n[i]),r=[];for(let n=0,i=t;n<7;n++,i=e(i))r.push(...i);return Uint8Array.from(r)})(),zb=class extends Ede.BLAKE2{constructor(e={},r=0){if(super(64,e.dkLen===void 0?32:e.dkLen,{},Number.MAX_SAFE_INTEGER,0,0),this.flags=0,this.chunkPos=0,this.chunksDone=0,this.stack=[],this.posOut=0,this.bufferOut32=new Uint32Array(16),this.chunkOut=0,this.enableXOF=!0,this.outputLen=e.dkLen===void 0?32:e.dkLen,(0,sp.assertNumber)(this.outputLen),e.key!==void 0&&e.context!==void 0)throw new Error("Blake3: only key or context can be specified at same time");if(e.key!==void 0){let n=(0,sp.toBytes)(e.key);if(n.length!==32)throw new Error("Blake3: key should be 32 byte");this.IV=(0,sp.u32)(n),this.flags=r|Zu.KEYED_HASH}else if(e.context!==void 0){let n=new zb({dkLen:32},Zu.DERIVE_KEY_CONTEXT).update(e.context).digest();this.IV=(0,sp.u32)(n),this.flags=r|Zu.DERIVE_KEY_MATERIAL}else this.IV=lf.IV.slice(),this.flags=r;this.state=this.IV.slice(),this.bufferOut=(0,sp.u8)(this.bufferOut32)}get(){return[]}set(){}b2Compress(e,r,n,i=0){let{state:s,pos:o}=this,{h:a,l:u}=HH.fromBig(BigInt(e),!0),{v0:c,v1:d,v2:f,v3:m,v4:p,v5:y,v6:w,v7:P,v8:C,v9:R,v10:T,v11:k,v12:H,v13:F,v14:L,v15:D}=lf.compress(DH,i,n,7,s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],lf.IV[0],lf.IV[1],lf.IV[2],lf.IV[3],a,u,o,r);s[0]=c^C,s[1]=d^R,s[2]=f^T,s[3]=m^k,s[4]=p^H,s[5]=y^F,s[6]=w^L,s[7]=P^D}compress(e,r=0,n=!1){let i=this.flags;if(this.chunkPos||(i|=Zu.CHUNK_START),(this.chunkPos===15||n)&&(i|=Zu.CHUNK_END),n||(this.pos=this.blockLen),this.b2Compress(this.chunksDone,i,e,r),this.chunkPos+=1,this.chunkPos===16||n){let s=this.state;this.state=this.IV.slice();for(let o,a=this.chunksDone+1;(n||!(a&1))&&(o=this.stack.pop());a>>=1)this.buffer32.set(o,0),this.buffer32.set(s,8),this.pos=this.blockLen,this.b2Compress(0,this.flags|Zu.PARENT,this.buffer32,0),s=this.state,this.state=this.IV.slice();this.chunksDone++,this.chunkPos=0,this.stack.push(s)}this.pos=0}_cloneInto(e){e=super._cloneInto(e);let{IV:r,flags:n,state:i,chunkPos:s,posOut:o,chunkOut:a,stack:u,chunksDone:c}=this;return e.state.set(i.slice()),e.stack=u.map(d=>Uint32Array.from(d)),e.IV.set(r),e.flags=n,e.chunkPos=s,e.chunksDone=c,e.posOut=o,e.chunkOut=a,e.enableXOF=this.enableXOF,e.bufferOut32.set(this.bufferOut32),e}destroy(){this.destroyed=!0,this.state.fill(0),this.buffer32.fill(0),this.IV.fill(0),this.bufferOut32.fill(0);for(let e of this.stack)e.fill(0)}b2CompressOut(){let{state:e,pos:r,flags:n,buffer32:i,bufferOut32:s}=this,{h:o,l:a}=HH.fromBig(BigInt(this.chunkOut++)),{v0:u,v1:c,v2:d,v3:f,v4:m,v5:p,v6:y,v7:w,v8:P,v9:C,v10:R,v11:T,v12:k,v13:H,v14:F,v15:L}=lf.compress(DH,0,i,7,e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],lf.IV[0],lf.IV[1],lf.IV[2],lf.IV[3],a,o,r,n);s[0]=u^P,s[1]=c^C,s[2]=d^R,s[3]=f^T,s[4]=m^k,s[5]=p^H,s[6]=y^F,s[7]=w^L,s[8]=e[0]^P,s[9]=e[1]^C,s[10]=e[2]^R,s[11]=e[3]^T,s[12]=e[4]^k,s[13]=e[5]^H,s[14]=e[6]^F,s[15]=e[7]^L,this.posOut=0}finish(){if(this.finished)return;this.finished=!0,this.buffer.fill(0,this.pos);let e=this.flags|Zu.ROOT;this.stack.length?(e|=Zu.PARENT,this.compress(this.buffer32,0,!0),this.chunksDone=0,this.pos=this.blockLen):e|=(this.chunkPos?0:Zu.CHUNK_START)|Zu.CHUNK_END,this.flags=e,this.b2CompressOut()}writeInto(e){if(this.destroyed)throw new Error("instance is destroyed");if(!(e instanceof Uint8Array))throw new Error("Blake3: Invalid output buffer");this.finish();let{blockLen:r,bufferOut:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.b2CompressOut();let o=Math.min(this.blockLen-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF impossible after digest call");return this.writeInto(e)}xof(e){return(0,sp.assertNumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(e.length<this.outputLen)throw new Error("Blake3: Invalid output buffer");if(this.finished)throw new Error("digest() was already called");return this.enableXOF=!1,this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}};d0.blake3=(0,sp.wrapConstructorWithOpts)(t=>new zb(t))});var op=j(vr=>{"use strict";B();M();var UH=vr&&vr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ade=vr&&vr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Ti=vr&&vr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&UH(e,t,r)},wA=vr&&vr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&UH(e,t,r);return Ade(e,t),e};Object.defineProperty(vr,"__esModule",{value:!0});vr.randomBytes=vr.concatBytes=vr.reverseBuffer=vr.md5=vr.rlp=void 0;Ti(qF(),vr);Ti(uH(),vr);Ti(cH(),vr);Ti(fH(),vr);Ti(hH(),vr);Ti(jb(),vr);Ti(bH(),vr);Ti(gH(),vr);Ti(yH(),vr);Ti(hA(),vr);vr.rlp=wA(xH());Ti(EH(),vr);vr.md5=wA(AH());Ti(tp(),vr);Ti(B5(),vr);Ti($b(),vr);Ti(aA(),vr);Ti(y8(),vr);Ti(w8(),vr);Ti(fA(),vr);Ti(_A(),vr);Ti(O8(),vr);Ti(FH(),vr);Ti(LH(),vr);var Tde=wA(_o()),Ide=Uce();function Pde(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}vr.reverseBuffer=Pde;function Ode(t,e){return Tde.concatBytes(Uint8Array.from(t),Uint8Array.from(e))}vr.concatBytes=Ode;function Bde(t){return Ide(t)}vr.randomBytes=Bde});var Tu=j(qH=>{"use strict";B();M();var pf=qH,Mde=Is(),kde=UE(),B8=qE();pf.assert=kde;pf.toArray=B8.toArray;pf.zero2=B8.zero2;pf.toHex=B8.toHex;pf.encode=B8.encode;function Cde(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,u=s.andln(i-1);s.isOdd()?(u>(i>>1)-1?a=(i>>1)-u:a=u,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n}pf.getNAF=Cde;function Rde(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o=t.andln(3)+n&3,a=e.andln(3)+i&3;o===3&&(o=-1),a===3&&(a=-1);var u;(o&1)===0?u=0:(s=t.andln(7)+n&7,(s===3||s===5)&&a===2?u=-o:u=o),r[0].push(u);var c;(a&1)===0?c=0:(s=e.andln(7)+i&7,(s===3||s===5)&&o===2?c=-a:c=a),r[1].push(c),2*n===u+1&&(n=1-n),2*i===c+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}pf.getJSF=Rde;function Nde(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}pf.cachedProperty=Nde;function Fde(t){return typeof t=="string"?pf.toArray(t,"hex"):t}pf.parseBytes=Fde;function Hde(t){return new Mde(t,"hex","le")}pf.intFromLE=Hde});var Gb=j((cYe,jH)=>{"use strict";B();M();var Vb=Tu(),ap=Is(),M8=Vb.getNAF,Dde=Vb.getJSF,k8=Vb.assert;function hl(t,e){this.type=t,this.p=new ap(e.p,16),this.red=e.prime?ap.red(e.prime):ap.mont(this.p),this.zero=new ap(0).toRed(this.red),this.one=new ap(1).toRed(this.red),this.two=new ap(2).toRed(this.red),this.n=e.n&&new ap(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}jH.exports=hl;hl.prototype.point=function(){throw new Error("Not implemented")};hl.prototype.validate=function(){throw new Error("Not implemented")};hl.prototype._fixedNafMul=function(e,r){k8(e.precomputed);var n=e._getDoubles(),i=M8(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,u;for(a=0;a<i.length;a+=n.step){u=0;for(var c=a+n.step-1;c>=a;c--)u=(u<<1)+i[c];o.push(u)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),m=s;m>0;m--){for(a=0;a<o.length;a++)u=o[a],u===m?f=f.mixedAdd(n.points[a]):u===-m&&(f=f.mixedAdd(n.points[a].neg()));d=d.add(f)}return d.toP()};hl.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=M8(r,n,this._bitLength),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var c=0;u>=0&&o[u]===0;u--)c++;if(u>=0&&c++,a=a.dblp(c),u<0)break;var d=o[u];k8(d!==0),e.type==="affine"?d>0?a=a.mixedAdd(s[d-1>>1]):a=a.mixedAdd(s[-d-1>>1].neg()):d>0?a=a.add(s[d-1>>1]):a=a.add(s[-d-1>>1].neg())}return e.type==="affine"?a.toP():a};hl.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,u=this._wnafT3,c=0,d,f,m;for(d=0;d<i;d++){m=r[d];var p=m._getNAFPoints(e);o[d]=p.wnd,a[d]=p.points}for(d=i-1;d>=1;d-=2){var y=d-1,w=d;if(o[y]!==1||o[w]!==1){u[y]=M8(n[y],o[y],this._bitLength),u[w]=M8(n[w],o[w],this._bitLength),c=Math.max(u[y].length,c),c=Math.max(u[w].length,c);continue}var P=[r[y],null,null,r[w]];r[y].y.cmp(r[w].y)===0?(P[1]=r[y].add(r[w]),P[2]=r[y].toJ().mixedAdd(r[w].neg())):r[y].y.cmp(r[w].y.redNeg())===0?(P[1]=r[y].toJ().mixedAdd(r[w]),P[2]=r[y].add(r[w].neg())):(P[1]=r[y].toJ().mixedAdd(r[w]),P[2]=r[y].toJ().mixedAdd(r[w].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],R=Dde(n[y],n[w]);for(c=Math.max(R[0].length,c),u[y]=new Array(c),u[w]=new Array(c),f=0;f<c;f++){var T=R[0][f]|0,k=R[1][f]|0;u[y][f]=C[(T+1)*3+(k+1)],u[w][f]=0,a[y]=P}}var H=this.jpoint(null,null,null),F=this._wnafT4;for(d=c;d>=0;d--){for(var L=0;d>=0;){var D=!0;for(f=0;f<i;f++)F[f]=u[f][d]|0,F[f]!==0&&(D=!1);if(!D)break;L++,d--}if(d>=0&&L++,H=H.dblp(L),d<0)break;for(f=0;f<i;f++){var N=F[f];N!==0&&(N>0?m=a[f][N-1>>1]:N<0&&(m=a[f][-N-1>>1].neg()),m.type==="affine"?H=H.mixedAdd(m):H=H.add(m))}}for(d=0;d<i;d++)a[d]=null;return s?H:H.toP()};function Ju(t,e){this.curve=t,this.type=e,this.precomputed=null}hl.BasePoint=Ju;Ju.prototype.eq=function(){throw new Error("Not implemented")};Ju.prototype.validate=function(){return this.curve.validate(this)};hl.prototype.decodePoint=function(e,r){e=Vb.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?k8(e[e.length-1]%2===0):e[0]===7&&k8(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ju.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ju.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ju.prototype.encode=function(e,r){return Vb.encode(this._encode(r),e)};Ju.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ju.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ju.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ju.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Ju.prototype._getBeta=function(){return null};Ju.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var $H=j((hYe,KH)=>{"use strict";B();M();var Lde=Tu(),Ii=Is(),xA=f8(),V5=Gb(),Ude=Lde.assert;function Qu(t){V5.call(this,"short",t),this.a=new Ii(t.a,16).toRed(this.red),this.b=new Ii(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}xA(Qu,V5);KH.exports=Qu;Qu.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ii(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ii(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Ude(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Ii(a.a,16),b:new Ii(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Qu.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ii.mont(e),n=new Ii(2).toRed(r).redInvm(),i=n.redNeg(),s=new Ii(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Qu.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Ii(1),o=new Ii(0),a=new Ii(0),u=new Ii(1),c,d,f,m,p,y,w,P=0,C,R;n.cmpn(0)!==0;){var T=i.div(n);C=i.sub(T.mul(n)),R=a.sub(T.mul(s));var k=u.sub(T.mul(o));if(!f&&C.cmp(r)<0)c=w.neg(),d=s,f=C.neg(),m=R;else if(f&&++P===2)break;w=C,i=n,n=C,a=s,s=R,u=o,o=k}p=C.neg(),y=R;var H=f.sqr().add(m.sqr()),F=p.sqr().add(y.sqr());return F.cmp(H)>=0&&(p=c,y=d),f.negative&&(f=f.neg(),m=m.neg()),p.negative&&(p=p.neg(),y=y.neg()),[{a:f,b:m},{a:p,b:y}]};Qu.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),u=o.mul(i.a),c=s.mul(n.b),d=o.mul(i.b),f=e.sub(a).sub(u),m=c.add(d).neg();return{k1:f,k2:m}};Qu.prototype.pointFromX=function(e,r){e=new Ii(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Qu.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Qu.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),u=e[o],c=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=u,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var d=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return d};function js(t,e,r,n){V5.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ii(e,16),this.y=new Ii(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}xA(js,V5.BasePoint);Qu.prototype.point=function(e,r,n){return new js(this,e,r,n)};Qu.prototype.pointFromJSON=function(e,r){return js.fromJSON(this,e,r)};js.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};js.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};js.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};js.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};js.prototype.isInfinity=function(){return this.inf};js.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};js.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};js.prototype.getX=function(){return this.x.fromRed()};js.prototype.getY=function(){return this.y.fromRed()};js.prototype.mul=function(e){return e=new Ii(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};js.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};js.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};js.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};js.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};js.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function So(t,e,r,n){V5.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ii(0)):(this.x=new Ii(e,16),this.y=new Ii(r,16),this.z=new Ii(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}xA(So,V5.BasePoint);Qu.prototype.jpoint=function(e,r,n){return new So(this,e,r,n)};So.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};So.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};So.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),u=i.redSub(s),c=o.redSub(a);if(u.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=u.redSqr(),f=d.redMul(u),m=i.redMul(d),p=c.redSqr().redIAdd(f).redISub(m).redISub(m),y=c.redMul(m.redISub(p)).redISub(o.redMul(f)),w=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(p,y,w)};So.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),d=c.redMul(a),f=n.redMul(c),m=u.redSqr().redIAdd(d).redISub(f).redISub(f),p=u.redMul(f.redISub(m)).redISub(s.redMul(d)),y=this.z.redMul(a);return this.curve.jpoint(m,p,y)};So.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,u=this.z,c=u.redSqr().redSqr(),d=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),m=d.redSqr(),p=m.redSqr(),y=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(c)),w=o.redMul(m),P=y.redSqr().redISub(w.redAdd(w)),C=w.redISub(P),R=y.redMul(C);R=R.redIAdd(R).redISub(p);var T=d.redMul(u);r+1<e&&(c=c.redMul(p)),o=P,u=T,d=R}return this.curve.jpoint(o,d.redMul(s),u)};So.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};So.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i),c=u.redSqr().redISub(a).redISub(a),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),e=c,r=u.redMul(a.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),m=this.y.redSqr(),p=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(f).redISub(p);y=y.redIAdd(y);var w=f.redAdd(f).redIAdd(f),P=w.redSqr(),C=p.redIAdd(p);C=C.redIAdd(C),C=C.redIAdd(C),e=P.redISub(y).redISub(y),r=w.redMul(y.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};So.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=u.redSqr().redISub(a).redISub(a);e=c;var d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),r=u.redMul(a.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),m=this.y.redSqr(),p=this.x.redMul(m),y=this.x.redSub(f).redMul(this.x.redAdd(f));y=y.redAdd(y).redIAdd(y);var w=p.redIAdd(p);w=w.redIAdd(w);var P=w.redAdd(w);e=y.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(f);var C=m.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=y.redMul(w.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)};So.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var d=c.redMul(a),f=u.redSqr().redISub(d.redAdd(d)),m=d.redISub(f),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var y=u.redMul(m).redISub(p),w=n.redAdd(n).redMul(i);return this.curve.jpoint(f,y,w)};So.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var u=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=s.redIAdd(a).redSqr().redISub(o).redISub(u).redISub(c),f=r.redMul(d);f=f.redIAdd(f),f=f.redIAdd(f);var m=this.x.redMul(u).redISub(f);m=m.redIAdd(m),m=m.redIAdd(m);var p=this.y.redMul(d.redMul(c.redISub(d)).redISub(a.redMul(u)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var y=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(m,p,y)};So.prototype.mul=function(e,r){return e=new Ii(e,r),this.curve._wnafMul(this,e)};So.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};So.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};So.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};So.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var GH=j((bYe,VH)=>{"use strict";B();M();var G5=Is(),zH=f8(),C8=Gb(),qde=Tu();function W5(t){C8.call(this,"mont",t),this.a=new G5(t.a,16).toRed(this.red),this.b=new G5(t.b,16).toRed(this.red),this.i4=new G5(4).toRed(this.red).redInvm(),this.two=new G5(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}zH(W5,C8);VH.exports=W5;W5.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Ks(t,e,r){C8.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new G5(e,16),this.z=new G5(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}zH(Ks,C8.BasePoint);W5.prototype.decodePoint=function(e,r){return this.point(qde.toArray(e,r),1)};W5.prototype.point=function(e,r){return new Ks(this,e,r)};W5.prototype.pointFromJSON=function(e){return Ks.fromJSON(this,e)};Ks.prototype.precompute=function(){};Ks.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Ks.fromJSON=function(e,r){return new Ks(e,r[0],r[1]||e.one)};Ks.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ks.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Ks.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};Ks.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Ks.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),u=s.redMul(i),c=r.z.redMul(a.redAdd(u).redSqr()),d=r.x.redMul(a.redISub(u).redSqr());return this.curve.point(c,d)};Ks.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Ks.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Ks.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Ks.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Ks.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Ks.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var XH=j((yYe,YH)=>{"use strict";B();M();var jde=Tu(),Nd=Is(),WH=f8(),R8=Gb(),Kde=jde.assert;function h0(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,R8.call(this,"edwards",t),this.a=new Nd(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Nd(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Nd(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Kde(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}WH(h0,R8);YH.exports=h0;h0.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};h0.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};h0.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};h0.prototype.pointFromX=function(e,r){e=new Nd(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var u=a.fromRed().isOdd();return(r&&!u||!r&&u)&&(a=a.redNeg()),this.point(e,a)};h0.prototype.pointFromY=function(e,r){e=new Nd(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};h0.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function kn(t,e,r,n,i){R8.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Nd(e,16),this.y=new Nd(r,16),this.z=n?new Nd(n,16):this.curve.one,this.t=i&&new Nd(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}WH(kn,R8.BasePoint);h0.prototype.pointFromJSON=function(e){return kn.fromJSON(this,e)};h0.prototype.point=function(e,r,n,i){return new kn(this,e,r,n,i)};kn.fromJSON=function(e,r){return new kn(e,r[0],r[1],r[2])};kn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};kn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};kn.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),u=i.redSub(r),c=s.redMul(a),d=o.redMul(u),f=s.redMul(u),m=a.redMul(o);return this.curve.point(c,d,m,f)};kn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,u,c;if(this.curve.twisted){a=this.curve._mulA(r);var d=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(d.redSub(this.curve.two)),s=d.redMul(a.redSub(n)),o=d.redSqr().redSub(d).redSub(d)):(u=this.z.redSqr(),c=d.redSub(u).redISub(u),i=e.redSub(r).redISub(n).redMul(c),s=d.redMul(a.redSub(n)),o=d.redMul(c))}else a=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),c=a.redSub(u).redSub(u),i=this.curve._mulC(e.redISub(a)).redMul(c),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(c);return this.curve.point(i,s,o)};kn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};kn.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),u=s.redAdd(i),c=n.redAdd(r),d=o.redMul(a),f=u.redMul(c),m=o.redMul(c),p=a.redMul(u);return this.curve.point(d,f,p,m)};kn.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),u=n.redAdd(o),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),d=r.redMul(a).redMul(c),f,m;return this.curve.twisted?(f=r.redMul(u).redMul(s.redSub(this.curve._mulA(i))),m=a.redMul(u)):(f=r.redMul(u).redMul(s.redSub(i)),m=this.curve._mulC(a).redMul(u)),this.curve.point(d,f,m)};kn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};kn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};kn.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};kn.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};kn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};kn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};kn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};kn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};kn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};kn.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};kn.prototype.toP=kn.prototype.normalize;kn.prototype.mixedAdd=kn.prototype.add});var EA=j(ZH=>{"use strict";B();M();var N8=ZH;N8.base=Gb();N8.short=$H();N8.mont=GH();N8.edwards=XH()});var QH=j((EYe,JH)=>{"use strict";B();M();JH.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var F8=j(rD=>{"use strict";B();M();var TA=rD,ll=Q6(),AA=EA(),$de=Tu(),eD=$de.assert;function tD(t){t.type==="short"?this.curve=new AA.short(t):t.type==="edwards"?this.curve=new AA.edwards(t):this.curve=new AA.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,eD(this.g.validate(),"Invalid curve"),eD(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}TA.PresetCurve=tD;function pl(t,e){Object.defineProperty(TA,t,{configurable:!0,enumerable:!0,get:function(){var r=new tD(e);return Object.defineProperty(TA,t,{configurable:!0,enumerable:!0,value:r}),r}})}pl("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ll.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});pl("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ll.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});pl("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ll.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});pl("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ll.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});pl("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ll.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});pl("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ll.sha256,gRed:!1,g:["9"]});pl("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ll.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var IA;try{IA=QH()}catch{IA=void 0}pl("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ll.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",IA]})});var iD=j((BYe,nD)=>{"use strict";B();M();var zde=Is(),Vde=Tu(),PA=Vde.assert;function Go(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}nD.exports=Go;Go.fromPublic=function(e,r,n){return r instanceof Go?r:new Go(e,{pub:r,pubEnc:n})};Go.fromPrivate=function(e,r,n){return r instanceof Go?r:new Go(e,{priv:r,privEnc:n})};Go.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Go.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Go.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Go.prototype._importPrivate=function(e,r){this.priv=new zde(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Go.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?PA(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&PA(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Go.prototype.derive=function(e){return e.validate()||PA(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Go.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Go.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Go.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var aD=j((CYe,oD)=>{"use strict";B();M();var H8=Is(),MA=Tu(),Gde=MA.assert;function Wb(t,e,r){if(e instanceof Wb)return e;this._importDER(e,r)||(Gde(e.r&&e.s,"Signature without r or s"),this.r=new H8(e.r,16),this.s=new H8(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam,this.curve=t,this.byteLength=this.curve.n.byteLength())}oD.exports=Wb;function Wde(){this.place=0}function OA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function sD(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Wb.prototype._importDER=function(e,r){e=MA.toArray(e,r);var n=new Wde;if(e[n.place++]!==48)return!1;var i=OA(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=OA(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=OA(e,n);if(a===!1||e.length!==a+n.place)return!1;var u=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new H8(o),this.s=new H8(u),this.recoveryParam=null,!0};function BA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Wb.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=sD(r),n=sD(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];BA(i,r.length),i=i.concat(r),i.push(2),BA(i,n.length);var s=i.concat(n),o=[48];return BA(o,s.length),o=o.concat(s),MA.encode(o,e)};Wb.prototype.toBytes=function(){let e=this.r.toArray("be",this.byteLength),r=this.s.toArray("be",this.byteLength);return e.concat(r)}});var dD=j((FYe,fD)=>{"use strict";B();M();var up=Is(),uD=jE(),Yde=Tu(),kA=F8(),Xde=Rb(),cD=Yde.assert,CA=iD(),D8=aD();function ec(t){if(!(this instanceof ec))return new ec(t);typeof t=="string"&&(cD(Object.prototype.hasOwnProperty.call(kA,t),"Unknown curve "+t),t=kA[t]),t instanceof kA.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}fD.exports=ec;ec.prototype.keyPair=function(e){return new CA(this,e)};ec.prototype.keyFromPrivate=function(e,r){return CA.fromPrivate(this,e,r)};ec.prototype.keyFromPublic=function(e,r){return CA.fromPublic(this,e,r)};ec.prototype.genKeyPair=function(e){e||(e={});for(var r=new uD({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Xde(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new up(2));;){var s=new up(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};ec.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};ec.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new up(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),u=new uD({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new up(1)),d=0;;d++){var f=i.k?i.k(d):new up(u.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(c)>=0)){var m=this.g.mul(f);if(!m.isInfinity()){var p=m.getX(),y=p.umod(this.n);if(y.cmpn(0)!==0){var w=f.invm(this.n).mul(y.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var P=(m.getY().isOdd()?1:0)|(p.cmp(y)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),P^=1),new D8(this.curve,{r:y,s:w,recoveryParam:P})}}}}}};ec.prototype.verify=function(e,r,n,i){e=this._truncateToN(new up(e,16)),n=this.keyFromPublic(n,i),r=new D8(this.curve,r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),u=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(u,n.getPublic(),c),d.isInfinity()?!1:d.eqXToP(s)):(d=this.g.mulAdd(u,n.getPublic(),c),d.isInfinity()?!1:d.getX().umod(this.n).cmp(s)===0)};ec.prototype.recoverPubKey=function(t,e,r,n){cD((3&r)===r,"The recovery param is more than two bits"),e=new D8(this.curve,e,n);var i=this.n,s=new up(t),o=e.r,a=e.s,u=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var d=e.r.invm(i),f=i.sub(s).mul(d).umod(i),m=a.mul(d).umod(i);return this.g.mulAdd(f,o,m)};ec.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new D8(this.curve,e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var bD=j((LYe,pD)=>{"use strict";B();M();var Yb=Tu(),lD=Yb.assert,hD=Yb.parseBytes,Y5=Yb.cachedProperty;function $s(t,e){this.eddsa=t,this._secret=hD(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=hD(e.pub)}$s.fromPublic=function(e,r){return r instanceof $s?r:new $s(e,{pub:r})};$s.fromSecret=function(e,r){return r instanceof $s?r:new $s(e,{secret:r})};$s.prototype.secret=function(){return this._secret};Y5($s,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Y5($s,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Y5($s,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Y5($s,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Y5($s,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Y5($s,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});$s.prototype.sign=function(e){return lD(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};$s.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};$s.prototype.getSecret=function(e){return lD(this._secret,"KeyPair is public only"),Yb.encode(this.secret(),e)};$s.prototype.getPublic=function(e){return Yb.encode(this.pubBytes(),e)};pD.exports=$s});var mD=j((jYe,gD)=>{"use strict";B();M();var Zde=Is(),L8=Tu(),Jde=L8.assert,U8=L8.cachedProperty,Qde=L8.parseBytes;function cp(t,e){this.eddsa=t,typeof e!="object"&&(e=Qde(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Jde(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof Zde&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}U8(cp,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});U8(cp,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});U8(cp,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});U8(cp,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});cp.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};cp.prototype.toHex=function(){return L8.encode(this.toBytes(),"hex").toUpperCase()};gD.exports=cp});var wD=j((zYe,SD)=>{"use strict";B();M();var ehe=Q6(),the=F8(),X5=Tu(),rhe=X5.assert,vD=X5.parseBytes,_D=bD(),yD=mD();function $a(t){if(rhe(t==="ed25519","only tested with ed25519 so far"),!(this instanceof $a))return new $a(t);t=the[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=ehe.sha512}SD.exports=$a;$a.prototype.sign=function(e,r){e=vD(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:o})};$a.prototype.verify=function(e,r,n){e=vD(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};$a.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return X5.intFromLE(e.digest()).umod(this.curve.n)};$a.prototype.keyFromPublic=function(e){return _D.fromPublic(this,e)};$a.prototype.keyFromSecret=function(e){return _D.fromSecret(this,e)};$a.prototype.makeSignature=function(e){return e instanceof yD?e:new yD(this,e)};$a.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};$a.prototype.decodePoint=function(e){e=X5.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=X5.intFromLE(n);return this.curve.pointFromY(s,i)};$a.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};$a.prototype.decodeInt=function(e){return X5.intFromLE(e)};$a.prototype.isPoint=function(e){return e instanceof this.pointClass}});var Z5=j(tc=>{"use strict";B();M();Object.defineProperty(tc,"__esModule",{value:!0});tc.utils=tc.curves=tc.curve=tc.eddsa=tc.ec=void 0;var nhe=EA();tc.curve=nhe;var ihe=F8();tc.curves=ihe;var she=dD();tc.ec=she;var ohe=wD();tc.eddsa=ohe;var ahe=Tu();tc.utils=ahe});var AD=j((xD,ED)=>{"use strict";B();M();Object.defineProperty(xD,"__esModule",{value:!0});var uhe=Z5(),l0=new uhe.ec("secp256k1"),Wr=l0.curve,Cn=Is();function che(t,e){let r=new Cn(e);if(r.cmp(Wr.p)>=0)return null;r=r.toRed(Wr.red);let n=r.redSqr().redIMul(r).redIAdd(Wr.b).redSqrt();t===3!==n.isOdd()&&(n=n.redNeg());let i=r.redSqr().redIMul(r);return n.redSqr().redISub(i.redIAdd(Wr.b)).isZero()?l0.keyPair({pub:{x:r,y:n}}):null}function fhe(t,e,r){let n=new Cn(e),i=new Cn(r);if(n.cmp(Wr.p)>=0||i.cmp(Wr.p)>=0||(n=n.toRed(Wr.red),i=i.toRed(Wr.red),(t===6||t===7)&&i.isOdd()!==(t===7)))return null;let s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(Wr.b)).isZero()?l0.keyPair({pub:{x:n,y:i}}):null}function bl(t){let e=t[0];switch(e){case 2:case 3:return t.length!==33?null:che(e,t.subarray(1,33));case 4:case 6:case 7:return t.length!==65?null:fhe(e,t.subarray(1,33),t.subarray(33,65));default:return null}}ED.exports={contextRandomize(){return 0},privateKeyVerify(t){let e=new Cn(t);return e.cmp(Wr.n)<0&&!e.isZero()},privateKeyNegate(t){let e=new Cn(t);return E.Buffer.from(Wr.n.sub(e).umod(Wr.n).toArray("be",32))},privateKeyTweakAdd(t,e){let r=new Cn(e);return r.cmp(Wr.n)>=0||(r.iadd(new Cn(t)),r.cmp(Wr.n)>=0&&r.isub(Wr.n),r.isZero())?null:E.Buffer.from(r.toArray("be",32))},privateKeyTweakMul(t,e){let r=new Cn(e);return r.cmp(Wr.n)>=0||r.isZero()?1:(r.imul(new Cn(t)),r.cmp(Wr.n)>=0&&(r=r.umod(Wr.n)),E.Buffer.from(r.toArray("be",32)))},publicKeyVerify(t){let e=bl(t);return e==null?null:e.validate().result},publicKeyCreate(t,e){let r=new Cn(t);if(r.cmp(Wr.n)>=0||r.isZero())return null;let n=l0.keyFromPrivate(t,null).getPublic();return E.Buffer.from(n.encode(null,e))},publicKeyConvert(t,e){let n=bl(t).getPublic();return E.Buffer.from(n.encode(null,e))},publicKeyNegate(t,e){let r=bl(t);if(r===null)return 1;let n=r.getPublic();return n.y=n.y.redNeg(),E.Buffer.from(n.encode(null,e))},publicKeyCombine(t,e){let r=new Array(t.length);for(let i=0;i<t.length;++i)if(r[i]=bl(t[i]),r[i]===null)return null;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?null:E.Buffer.from(n.encode(null,e))},publicKeyTweakAdd(t,e,r){let n=bl(t);if(n===null||new Cn(e).cmp(Wr.n)>=0)return null;let s=n.getPublic().add(Wr.g.mul(e));return s.isInfinity()?null:E.Buffer.from(s.encode(null,r))},publicKeyTweakMul(t,e,r){let n=bl(t);if(n===null)return null;let i=new Cn(e);if(i.cmp(Wr.n)>=0||i.isZero())return null;let s=n.getPublic().mul(e);return E.Buffer.from(s.encode(null,r))},signatureNormalize(t){let e=new Cn(t.subarray(0,32)),r=new Cn(t.subarray(32,64));return e.cmp(Wr.n)>=0||r.cmp(Wr.n)>=0?null:(r.cmp(l0.nh)===1&&t.set(Wr.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(t,e){let r=e.subarray(0,32),n=e.subarray(32,64);if(new Cn(r).cmp(Wr.n)>=0||new Cn(n).cmp(Wr.n)>=0)return 1;let{output:i}=t,s=i.subarray(4,4+33);s[0]=0,s.set(r,1);let o=33,a=0;for(;o>1&&s[a]===0&&!(s[a+1]&128);--o,++a);if(s=s.subarray(a),s[0]&128||o>1&&s[0]===0&&!(s[1]&128))return 1;let u=i.subarray(6+33,6+33+33);u[0]=0,u.set(n,1);let c=33,d=0;for(;c>1&&u[d]===0&&!(u[d+1]&128);--c,++d);return u=u.subarray(d),u[0]&128||c>1&&u[0]===0&&!(u[1]&128)?1:(t.outputlen=6+o+c,i[0]=48,i[1]=t.outputlen-2,i[2]=2,i[3]=s.length,i.set(s,4),i[4+o]=2,i[5+o]=u.length,i.set(u,6+o),0)},signatureImport(t,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let r=e[3];if(r===0||5+r>=e.length||e[4+r]!==2)return 1;let n=e[5+r];if(n===0||6+r+n!==e.length||e[4]&128||r>1&&e[4]===0&&!(e[5]&128)||e[r+6]&128||n>1&&e[r+6]===0&&!(e[r+7]&128))return 1;let i=e.subarray(4,4+r);if(i.length===33&&i[0]===0&&(i=i.subarray(1)),i.length>32)return 1;let s=e.subarray(6+r);if(s.length===33&&s[0]===0&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let o=new Cn(i);o.cmp(Wr.n)>=0&&(o=new Cn(0));let a=new Cn(e.subarray(6+r));return a.cmp(Wr.n)>=0&&(a=new Cn(0)),t.set(o.toArrayLike(Uint8Array,"be",32),0),t.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(t,e){let r=new Cn(e);return r.cmp(Wr.n)>=0||r.isZero()?null:l0.sign(t,e,{canonical:!0}).toBytes()},ecdsaVerify(t,e,r){let n={r:t.subarray(0,32),s:t.subarray(32,64)},i=new Cn(n.r),s=new Cn(n.s);if(i.cmp(Wr.n)>=0||s.cmp(Wr.n)>=0)return 1;if(s.cmp(l0.nh)===1||i.isZero()||s.isZero())return 3;let o=bl(r);if(o===null)return 2;let a=o.getPublic();return l0.verify(e,n,a)},ecdsaRecover(t,e,r,n){let i={r:t.slice(0,32),s:t.slice(32,64)},s=new Cn(i.r),o=new Cn(i.s);if(s.cmp(Wr.n)>=0||o.cmp(Wr.n)>=0)return 1;if(s.isZero()||o.isZero())return 2;let a;try{a=l0.recoverPubKey(r,i,e,null)}catch{return 2}return E.Buffer.from(a.encode(null,n))},ecdh(t,e,r,n,i,s,o){let a=bl(e);if(a===null)return 1;let u=new Cn(r);if(u.cmp(Wr.n)>=0||u.isZero())return 2;let c=a.getPublic().mul(u);if(i===void 0){let d=c.encode(null,!0),f=l0.hash().update(d).digest();for(let m=0;m<32;++m)t[m]=f[m]}else{s||(s=new Uint8Array(32));let d=c.getX().toArray("be",32);for(let y=0;y<32;++y)s[y]=d[y];o||(o=new Uint8Array(32));let f=c.getY().toArray("be",32);for(let y=0;y<32;++y)o[y]=f[y];let m=i(s,o,n);if(!(m instanceof Uint8Array&&m.length===t.length))return 2;t.set(m)}return 0}}});var BD=j(zs=>{"use strict";B();M();var dhe=zs&&zs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),hhe=zs&&zs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),lhe=zs&&zs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&dhe(e,t,r);return hhe(e,t),e};Object.defineProperty(zs,"__esModule",{value:!0});zs.fromSeed=zs.fromPublicKey=zs.fromPrivateKey=zs.fromBase58=zs.tinySecp256k1Interface=void 0;var RA=lhe(op()),phe=tp(),bhe=jb(),ID=(0,phe.base58check)(bhe.sha256),PD=AD(),wo=EF(),ghe=Kce();function mhe(t){return{isPoint:e=>t.publicKeyVerify(e),isPrivate:e=>t.privateKeyVerify(e),pointAddScalar:(e,r,n)=>t.publicKeyTweakAdd(e,r,n),pointFromScalar:(e,r)=>t.publicKeyCreate(e,r),privateAdd:(e,r)=>t.privateKeyTweakAdd(new Uint8Array(e),r),sign:(e,r)=>t.ecdsaSign(e,r),verify:(e,r,n)=>t.ecdsaVerify(n,e,r)}}function yhe(t){return{isPoint:e=>t.publicKeyVerify(e),pointCompress:(e,r)=>Uint8Array.from(t.publicKeyConvert(e,r??!0)),isPrivate:e=>t.privateKeyVerify(e),pointFromScalar:(e,r)=>{let n=t.publicKeyCreate(e,r??!0);return n==null?null:Uint8Array.from(n)},sign:(e,r,n)=>Uint8Array.from(t.ecdsaSign(e,r)),verify:(e,r,n,i)=>t.ecdsaVerify(n,e,r)}}var gl=mhe(PD);zs.tinySecp256k1Interface=yhe(PD);var NA=wo.BufferN(32),vhe=wo.compile({wif:wo.UInt8,bip32:{public:wo.UInt32,private:wo.UInt32}}),K8={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},TD=2147483648,_he=Math.pow(2,31)-1;function She(t){return wo.String(t)&&t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)!==null}function whe(t){return wo.UInt32(t)&&t<=_he}var q8=class{constructor(e,r,n,i,s=0,o=0,a=0){this.__D=e,this.__Q=r,this.chainCode=n,this.network=i,this.__DEPTH=s,this.__INDEX=o,this.__PARENT_FINGERPRINT=a,wo(vhe,i),this.lowR=!1}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get publicKey(){return this.__Q===void 0&&(this.__Q=E.Buffer.from(gl.pointFromScalar(this.__D,!0))),this.__Q}get privateKey(){return this.__D}get identifier(){return E.Buffer.from(RA.hash160(this.publicKey))}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return this.__D===void 0}neutered(){return j8(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){let e=this.network,r=this.isNeutered()?e.bip32.public:e.bip32.private,n=E.Buffer.allocUnsafe(78);return n.writeUInt32BE(r,0),n.writeUInt8(this.depth,4),n.writeUInt32BE(this.parentFingerprint,5),n.writeUInt32BE(this.index,9),this.chainCode.copy(n,13),this.isNeutered()?this.publicKey.copy(n,45):(n.writeUInt8(0,45),this.privateKey.copy(n,46)),ID.encode(n)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return ghe.encode(this.network.wif,this.privateKey,!0)}derive(e){wo(wo.UInt32,e);let r=e>=TD,n=E.Buffer.allocUnsafe(37);if(r){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");n[0]=0,this.privateKey.copy(n,1),n.writeUInt32BE(e,33)}else this.publicKey.copy(n,0),n.writeUInt32BE(e,33);let i=RA.hmacSHA512(this.chainCode,n),s=i.slice(0,32),o=i.slice(32);if(!gl.isPrivate(s))return this.derive(e+1);let a;if(this.isNeutered()){let u=gl.pointAddScalar(this.publicKey,s,!0);if(u===null)return this.derive(e+1);a=j8(u,o,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}else{let u=gl.privateAdd(this.privateKey,s);if(u==null)return this.derive(e+1);a=FA(u,o,this.network,this.depth+1,e,this.fingerprint.readUInt32BE(0))}return a}deriveHardened(e){return wo(whe,e),this.derive(e+TD)}derivePath(e){wo(She,e);let r=e.split("/");if(r[0]==="m"){if(this.parentFingerprint)throw new TypeError("Expected master, got child");r=r.slice(1)}return r.reduce((n,i)=>{let s;return i.slice(-1)==="'"?(s=parseInt(i.slice(0,-1),10),n.deriveHardened(s)):(s=parseInt(i,10),n.derive(s))},this)}sign(e){if(!this.privateKey)throw new Error("Missing private key");return gl.sign(e,this.privateKey)}verify(e,r){return gl.verify(e,this.publicKey,r)}};function xhe(t,e){let r=E.Buffer.from(ID.decode(t));if(r.length!==78)throw new TypeError("Invalid buffer length");e=e||K8;let n=r.readUInt32BE(0);if(n!==e.bip32.private&&n!==e.bip32.public)throw new TypeError("Invalid network version");let i=r[4],s=r.readUInt32BE(5);if(i===0&&s!==0)throw new TypeError("Invalid parent fingerprint");let o=r.readUInt32BE(9);if(i===0&&o!==0)throw new TypeError("Invalid index");let a=r.slice(13,45),u;if(n===e.bip32.private){if(r.readUInt8(45)!==0)throw new TypeError("Invalid private key");let c=r.slice(46,78);u=FA(c,a,e,i,o,s)}else{let c=r.slice(45,78);u=j8(c,a,e,i,o,s)}return u}zs.fromBase58=xhe;function OD(t,e,r){return FA(t,e,r)}zs.fromPrivateKey=OD;function FA(t,e,r,n,i,s){if(wo({privateKey:NA,chainCode:NA},{privateKey:t,chainCode:e}),r=r||K8,!gl.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return new q8(t,void 0,e,r,n,i,s)}function Ehe(t,e,r){return j8(t,e,r)}zs.fromPublicKey=Ehe;function j8(t,e,r,n,i,s){if(wo({publicKey:wo.BufferN(33),chainCode:NA},{publicKey:t,chainCode:e}),r=r||K8,!gl.isPoint(t))throw new TypeError("Point is not on the curve");return new q8(void 0,t,e,r,n,i,s)}function Ahe(t,e){if(wo(wo.Buffer,t),t.length<16)throw new TypeError("Seed should be at least 128 bits");if(t.length>64)throw new TypeError("Seed should be at most 512 bits");e=e||K8;let r=RA.hmacSHA512(E.Buffer.from("Bitcoin seed","utf8"),t),n=r.slice(0,32),i=r.slice(32);return OD(n,i,e)}zs.fromSeed=Ahe});var MD=j(rc=>{"use strict";B();M();Object.defineProperty(rc,"__esModule",{value:!0});rc.fromPrivateKey=rc.fromPublicKey=rc.fromBase58=rc.fromSeed=rc.tinySecp256k1Interface=void 0;var Xb=BD();Object.defineProperty(rc,"tinySecp256k1Interface",{enumerable:!0,get:function(){return Xb.tinySecp256k1Interface}});Object.defineProperty(rc,"fromSeed",{enumerable:!0,get:function(){return Xb.fromSeed}});Object.defineProperty(rc,"fromBase58",{enumerable:!0,get:function(){return Xb.fromBase58}});Object.defineProperty(rc,"fromPublicKey",{enumerable:!0,get:function(){return Xb.fromPublicKey}});Object.defineProperty(rc,"fromPrivateKey",{enumerable:!0,get:function(){return Xb.fromPrivateKey}})});var kD=j((sXe,The)=>{The.exports=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]});var DA=j(fp=>{"use strict";B();M();Object.defineProperty(fp,"__esModule",{value:!0});fp._default=fp.wordlists=void 0;var HA={};fp.wordlists=HA;var $8;fp._default=$8;try{fp._default=$8=kD(),HA.english=$8,HA.EN=$8}catch{}});var LA=j(ns=>{"use strict";B();M();Object.defineProperty(ns,"__esModule",{value:!0});ns.wordlists=ns.getDefaultWordlist=ns.setDefaultWordlist=ns.validateMnemonic=ns.generateMnemonic=ns.entropyToMnemonic=ns.mnemonicToEntropy=ns.mnemonicToSeed=ns.mnemonicToSeedSync=void 0;var RD=op(),ND=O8(),z8=DA(),FD=y8(),Zb=z8._default,CD="Invalid mnemonic",dp="Invalid entropy",Ihe="Invalid mnemonic checksum",HD=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function Phe(t,e,r,n,i){let s=(0,ND.pbkdf2)(FD.sha512,t,e,{c:r,dkLen:n});return Promise.resolve(E.Buffer.from(s))}function Jb(t){return(t||"").normalize("NFKD")}function DD(t,e,r){for(;t.length<r;)t=e+t;return t}function LD(t){return parseInt(t,2)}function UD(t){return t.map(e=>DD(e.toString(2),"0",8)).join("")}function qD(t){let r=t.length*8/32,n=(0,RD.sha256)(t);return UD(Array.from(n)).slice(0,r)}function jD(t){return"mnemonic"+(t||"")}function Ohe(t,e){let r=E.Buffer.from(Jb(t),"utf8"),n=E.Buffer.from(jD(Jb(e)),"utf8"),i=(0,ND.pbkdf2)(FD.sha512,r,n,{c:2048,dkLen:64});return E.Buffer.from(i)}ns.mnemonicToSeedSync=Ohe;function Bhe(t,e){return Promise.resolve().then(()=>{let r=E.Buffer.from(Jb(t),"utf8"),n=E.Buffer.from(jD(Jb(e)),"utf8");return Phe(r,n,2048,64,"sha512")})}ns.mnemonicToSeed=Bhe;function KD(t,e){if(e=e||Zb,!e)throw new Error(HD);let r=Jb(t).split(" ");if(r.length%3!==0)throw new Error(CD);let n=r.map(d=>{let f=e.indexOf(d);if(f===-1)throw new Error(CD);return DD(f.toString(2),"0",11)}).join(""),i=Math.floor(n.length/33)*32,s=n.slice(0,i),o=n.slice(i),a=s.match(/(.{1,8})/g).map(LD);if(a.length<16)throw new Error(dp);if(a.length>32)throw new Error(dp);if(a.length%4!==0)throw new Error(dp);let u=E.Buffer.from(a);if(qD(u)!==o)throw new Error(Ihe);return u.toString("hex")}ns.mnemonicToEntropy=KD;function $D(t,e){if(E.Buffer.isBuffer(t)||(t=E.Buffer.from(t,"hex")),e=e||Zb,!e)throw new Error(HD);if(t.length<16)throw new TypeError(dp);if(t.length>32)throw new TypeError(dp);if(t.length%4!==0)throw new TypeError(dp);let r=UD(Array.from(t)),n=qD(t),o=(r+n).match(/(.{1,11})/g).map(a=>{let u=LD(a);return e[u]});return e[0]==="\u3042\u3044\u3053\u304F\u3057\u3093"?o.join("\u3000"):o.join(" ")}ns.entropyToMnemonic=$D;function Mhe(t,e,r){if(t=t||128,t%32!==0)throw new TypeError(dp);return e=e||RD.randomBytes,$D(e(t/8),r)}ns.generateMnemonic=Mhe;function khe(t,e){try{KD(t,e)}catch{return!1}return!0}ns.validateMnemonic=khe;function Che(t){let e=z8.wordlists[t];if(e)Zb=e;else throw new Error('Could not find wordlist for language "'+t+'"')}ns.setDefaultWordlist=Che;function Rhe(){if(!Zb)throw new Error("No Default Wordlist set");return Object.keys(z8.wordlists).filter(t=>t==="JA"||t==="EN"?!1:z8.wordlists[t].every((e,r)=>e===Zb[r]))[0]}ns.getDefaultWordlist=Rhe;var Nhe=DA();Object.defineProperty(ns,"wordlists",{enumerable:!0,get:function(){return Nhe.wordlists}})});var VD=j(Wo=>{"use strict";B();M();Object.defineProperty(Wo,"__esModule",{value:!0});Wo.unpadBuffer=Wo.stripZeros=Wo.setLengthRight=Wo.setLengthLeft=Wo.zeros=Wo.assertIsBuffer=void 0;var Fhe=function(t){if(!E.Buffer.isBuffer(t)){let e=`This method only supports Buffer but input was: ${t}`;throw new Error(e)}};Wo.assertIsBuffer=Fhe;var Hhe=function(t){return E.Buffer.allocUnsafe(t).fill(0)};Wo.zeros=Hhe;var zD=function(t,e,r){let n=(0,Wo.zeros)(e);return r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)},Dhe=function(t,e){return E.Buffer.isBuffer(t)||(t=E.Buffer.from(t)),zD(t,e,!1)};Wo.setLengthLeft=Dhe;var Lhe=function(t,e){return E.Buffer.isBuffer(t)||(t=E.Buffer.from(t)),zD(t,e,!0)};Wo.setLengthRight=Lhe;var Uhe=function(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t};Wo.stripZeros=Uhe;var qhe=function(t){return E.Buffer.isBuffer(t)||(t=E.Buffer.from(t)),(0,Wo.stripZeros)(t)};Wo.unpadBuffer=qhe});var V8=j(Pi=>{"use strict";B();M();Object.defineProperty(Pi,"__esModule",{value:!0});Pi.isHexString=Pi.getKeys=Pi.fromAscii=Pi.fromUtf8=Pi.toAscii=Pi.arrayContainsArray=Pi.getBinarySize=Pi.padToEven=Pi.stripHexPrefix=Pi.isHexPrefixed=void 0;function GD(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t[0]==="0"&&t[1]==="x"}Pi.isHexPrefixed=GD;var jhe=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return GD(t)?t.slice(2):t};Pi.stripHexPrefix=jhe;function WD(t){let e=t;if(typeof e!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof e}`);return e.length%2&&(e=`0${e}`),e}Pi.padToEven=WD;function Khe(t){if(typeof t!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof t}`);return E.Buffer.byteLength(t,"utf8")}Pi.getBinarySize=Khe;function $he(t,e,r){if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof t}'`);if(Array.isArray(e)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof e}'`);return e[r===!0?"some":"every"](n=>t.indexOf(n)>=0)}Pi.arrayContainsArray=$he;function zhe(t){let e="",r=0,n=t.length;for(t.substring(0,2)==="0x"&&(r=2);r<n;r+=2){let i=parseInt(t.substr(r,2),16);e+=String.fromCharCode(i)}return e}Pi.toAscii=zhe;function Vhe(t){let e=E.Buffer.from(t,"utf8");return`0x${WD(e.toString("hex")).replace(/^0+|0+$/g,"")}`}Pi.fromUtf8=Vhe;function Ghe(t){let e="";for(let r=0;r<t.length;r++){let i=t.charCodeAt(r).toString(16);e+=i.length<2?`0${i}`:i}return`0x${e}`}Pi.fromAscii=Ghe;function Whe(t,e,r){if(!Array.isArray(t))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof t}`);if(typeof e!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof t}`);let n=[];for(let i=0;i<t.length;i++){let s=t[i][e];if(r===!0&&!s)s="";else if(typeof s!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof s}`);n.push(s)}return n}Pi.getKeys=Whe;function Yhe(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e<"u"&&e>0&&t.length!==2+2*e)}Pi.isHexString=Yhe});var YD=j(p0=>{"use strict";B();M();Object.defineProperty(p0,"__esModule",{value:!0});p0.assertIsString=p0.assertIsArray=p0.assertIsBuffer=p0.assertIsHexString=void 0;var Xhe=V8(),Zhe=function(t){if(!(0,Xhe.isHexString)(t)){let e=`This method only supports 0x-prefixed hex strings but input was: ${t}`;throw new Error(e)}};p0.assertIsHexString=Zhe;var Jhe=function(t){if(!E.Buffer.isBuffer(t)){let e=`This method only supports Buffer but input was: ${t}`;throw new Error(e)}};p0.assertIsBuffer=Jhe;var Qhe=function(t){if(!Array.isArray(t)){let e=`This method only supports number arrays but input was: ${t}`;throw new Error(e)}};p0.assertIsArray=Qhe;var ele=function(t){if(typeof t!="string"){let e=`This method only supports strings but input was: ${t}`;throw new Error(e)}};p0.assertIsString=ele});var QD=j(Ot=>{"use strict";B();M();Object.defineProperty(Ot,"__esModule",{value:!0});Ot.intToUnpaddedBuffer=Ot.bigIntToUnpaddedBuffer=Ot.bigIntToHex=Ot.bufArrToArr=Ot.arrToBufArr=Ot.validateNoLeadingZeroes=Ot.baToJSON=Ot.toUtf8=Ot.short=Ot.addHexPrefix=Ot.toUnsigned=Ot.fromSigned=Ot.bufferToInt=Ot.bigIntToBuffer=Ot.bufferToBigInt=Ot.bufferToHex=Ot.toBuffer=Ot.unpadHexString=Ot.unpadArray=Ot.unpadBuffer=Ot.setLengthRight=Ot.setLengthLeft=Ot.zeros=Ot.intToBuffer=Ot.intToHex=void 0;var Qb=YD(),hp=V8(),tle=function(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Received an invalid integer type: ${t}`);return`0x${t.toString(16)}`};Ot.intToHex=tle;var rle=function(t){let e=(0,Ot.intToHex)(t);return E.Buffer.from((0,hp.padToEven)(e.slice(2)),"hex")};Ot.intToBuffer=rle;var nle=function(t){return E.Buffer.allocUnsafe(t).fill(0)};Ot.zeros=nle;var XD=function(t,e,r){let n=(0,Ot.zeros)(e);return r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)},ile=function(t,e){return(0,Qb.assertIsBuffer)(t),XD(t,e,!1)};Ot.setLengthLeft=ile;var sle=function(t,e){return(0,Qb.assertIsBuffer)(t),XD(t,e,!0)};Ot.setLengthRight=sle;var UA=function(t){let e=t[0];for(;t.length>0&&e.toString()==="0";)t=t.slice(1),e=t[0];return t},ole=function(t){return(0,Qb.assertIsBuffer)(t),UA(t)};Ot.unpadBuffer=ole;var ale=function(t){return(0,Qb.assertIsArray)(t),UA(t)};Ot.unpadArray=ale;var ule=function(t){return(0,Qb.assertIsHexString)(t),t=(0,hp.stripHexPrefix)(t),"0x"+UA(t)};Ot.unpadHexString=ule;var cle=function(t){if(t==null)return E.Buffer.allocUnsafe(0);if(E.Buffer.isBuffer(t))return E.Buffer.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return E.Buffer.from(t);if(typeof t=="string"){if(!(0,hp.isHexString)(t))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${t}`);return E.Buffer.from((0,hp.padToEven)((0,hp.stripHexPrefix)(t)),"hex")}if(typeof t=="number")return(0,Ot.intToBuffer)(t);if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),E.Buffer.from(e,"hex")}if(t.toArray)return E.Buffer.from(t.toArray());if(t.toBuffer)return E.Buffer.from(t.toBuffer());throw new Error("invalid type")};Ot.toBuffer=cle;var fle=function(t){return t=(0,Ot.toBuffer)(t),"0x"+t.toString("hex")};Ot.bufferToHex=fle;function qA(t){let e=(0,Ot.bufferToHex)(t);return BigInt(e==="0x"?0:e)}Ot.bufferToBigInt=qA;function jA(t){return(0,Ot.toBuffer)("0x"+t.toString(16))}Ot.bigIntToBuffer=jA;var dle=function(t){let e=Number(qA(t));if(!Number.isSafeInteger(e))throw new Error("Number exceeds 53 bits");return e};Ot.bufferToInt=dle;var hle=function(t){return BigInt.asIntN(256,qA(t))};Ot.fromSigned=hle;var lle=function(t){return jA(BigInt.asUintN(256,t))};Ot.toUnsigned=lle;var ple=function(t){return typeof t!="string"||(0,hp.isHexPrefixed)(t)?t:"0x"+t};Ot.addHexPrefix=ple;function ble(t,e=50){let r=E.Buffer.isBuffer(t)?t.toString("hex"):t;return r.length<=e?r:r.slice(0,e)+"\u2026"}Ot.short=ble;var gle=function(t){let e=/^(00)+|(00)+$/g;if(t=(0,hp.stripHexPrefix)(t),t.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return E.Buffer.from(t.replace(e,""),"hex").toString("utf8")};Ot.toUtf8=gle;var mle=function(t){if(E.Buffer.isBuffer(t))return`0x${t.toString("hex")}`;if(t instanceof Array){let e=[];for(let r=0;r<t.length;r++)e.push((0,Ot.baToJSON)(t[r]));return e}};Ot.baToJSON=mle;var yle=function(t){for(let[e,r]of Object.entries(t))if(r!==void 0&&r.length>0&&r[0]===0)throw new Error(`${e} cannot have leading zeroes, received: ${r.toString("hex")}`)};Ot.validateNoLeadingZeroes=yle;function ZD(t){return Array.isArray(t)?t.map(e=>ZD(e)):E.Buffer.from(t)}Ot.arrToBufArr=ZD;function JD(t){return Array.isArray(t)?t.map(e=>JD(e)):Uint8Array.from(t??[])}Ot.bufArrToArr=JD;var vle=t=>"0x"+t.toString(16);Ot.bigIntToHex=vle;function _le(t){return(0,Ot.unpadBuffer)(jA(t))}Ot.bigIntToUnpaddedBuffer=_le;function Sle(t){return(0,Ot.unpadBuffer)((0,Ot.intToBuffer)(t))}Ot.intToUnpaddedBuffer=Sle});var nL=j((EXe,rL)=>{"use strict";B();M();var G8=VD(),J5=op(),za=Is(),{isHexString:wle,stripHexPrefix:xle,padToEven:Ele}=V8(),{intToBuffer:Ale,addHexPrefix:Tle,bufferToHex:Ile}=QD(),ai=function(){};function W8(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function KA(t){if(t==null)return E.Buffer.allocUnsafe(0);if(E.Buffer.isBuffer(t))return E.Buffer.from(t);if(Array.isArray(t)||t instanceof Uint8Array)return E.Buffer.from(t);if(typeof t=="string"){if(!wle(t))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${t}`);return E.Buffer.from(Ele(xle(t)),"hex")}if(typeof t=="number")return Ale(t);if(typeof t=="bigint"){if(t<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${t}`);let e=t.toString(16);return e.length%2&&(e="0"+e),E.Buffer.from(e,"hex")}if(t.toArray)return E.Buffer.from(t.toArray());if(t.toBuffer)return E.Buffer.from(t.toBuffer());throw new Error("invalid type")}function Ple(t){if(!!t){if(typeof t=="number"){if(t<0)return"0x";let e=KA(t);t=Ile(e)}if(typeof t!="string"){let e="eth-sig-util.normalize() requires hex string or integer input.";throw e+=` received ${typeof t}: ${t}`,new Error(e)}return Tle(t.toLowerCase())}}ai.eventID=function(t,e){var r=t+"("+e.map(W8).join(",")+")";return J5.keccak256(E.Buffer.from(r))};ai.methodID=function(t,e){return ai.eventID(t,e).slice(0,4)};function ml(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function $A(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function t4(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function lp(t){var e=typeof t;if(e==="string")return J5.isHexPrefixed(t)?new za(J5.stripHexPrefix(t),16):new za(t,10);if(e==="number")return new za(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function tL(t){var e=/^(\w+)\((.*)\)$/.exec(t);if(e.length!==3)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(e[2]);if(r!==null&&r.length===3)return{method:e[1],args:r[1].split(","),retargs:r[2].split(",")};var n=e[2].split(",");return n.length===1&&n[0]===""&&(n=[]),{method:e[1],args:n}}function b0(t,e){var r,n,i,s;if(t==="address")return b0("uint160",lp(e));if(t==="bool")return b0("uint8",e?1:0);if(t==="string")return b0("bytes",E.Buffer.from(e,"utf8"));if(e4(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=t4(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(b0(t,e[s]));if(r==="dynamic"){var o=b0("uint256",e.length);i.unshift(o)}return E.Buffer.concat(i)}else{if(t==="bytes")return e=E.Buffer.from(e),i=E.Buffer.concat([b0("uint256",e.length),e]),e.length%32!==0&&(i=E.Buffer.concat([i,G8.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=ml(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return G8.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=ml(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=lp(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(E.Buffer,"be",32)}else if(t.startsWith("int")){if(r=ml(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=lp(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(E.Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=$A(t),n=lp(e),n<0)throw new Error("Supplied ufixed is negative");return b0("uint256",n.mul(new za(2).pow(new za(r[1]))))}else if(t.startsWith("fixed"))return r=$A(t),b0("int256",lp(e).mul(new za(2).pow(new za(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function bf(t,e,r){typeof t=="string"&&(t=zA(t));var n,i,s,o;if(t.name==="address")return bf(t.rawType,e,r).toArrayLike(E.Buffer,"be",20).toString("hex");if(t.name==="bool")return bf(t.rawType,e,r).toString()===new za(1).toString();if(t.name==="string"){var a=bf(t.rawType,e,r);return E.Buffer.from(a,"utf8").toString()}else if(t.isArray){for(s=[],n=t.size,t.size==="dynamic"&&(r=bf("uint256",e,r).toNumber(),n=bf("uint256",e,r).toNumber(),r=r+32),o=0;o<n;o++){var u=bf(t.subArray,e,r);s.push(u),r+=t.subArray.memoryUsage}return s}else{if(t.name==="bytes")return r=bf("uint256",e,r).toNumber(),n=bf("uint256",e,r).toNumber(),e.slice(r+32,r+32+n);if(t.name.startsWith("bytes"))return e.slice(r,r+t.size);if(t.name.startsWith("uint")){if(i=new za(e.slice(r,r+32),16,"be"),i.bitLength()>t.size)throw new Error("Decoded int exceeds width: "+t.size+" vs "+i.bitLength());return i}else if(t.name.startsWith("int")){if(i=new za(e.slice(r,r+32),16,"be").fromTwos(256),i.bitLength()>t.size)throw new Error("Decoded uint exceeds width: "+t.size+" vs "+i.bitLength());return i}else if(t.name.startsWith("ufixed")){if(n=new za(2).pow(new za(t.size[1])),i=bf("uint256",e,r),!i.mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}else if(t.name.startsWith("fixed")){if(n=new za(2).pow(new za(t.size[1])),i=bf("int256",e,r),!i.mod(n).isZero())throw new Error("Decimals not supported yet");return i.div(n)}}throw new Error("Unsupported or invalid type: "+t.name)}function zA(t){var e,r;if(e4(t)){e=t4(t);var n=t.slice(0,t.lastIndexOf("["));return n=zA(n),r={isArray:!0,name:t,size:e,memoryUsage:e==="dynamic"?32:n.memoryUsage*e,subArray:n},r}else{var i;switch(t){case"address":i="uint160";break;case"bool":i="uint8";break;case"string":i="bytes";break}if(r={rawType:i,name:t,memoryUsage:32},t.startsWith("bytes")&&t!=="bytes"||t.startsWith("uint")||t.startsWith("int")?r.size=ml(t):(t.startsWith("ufixed")||t.startsWith("fixed"))&&(r.size=$A(t)),t.startsWith("bytes")&&t!=="bytes"&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((t.startsWith("uint")||t.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}}function Ole(t){return t==="string"||t==="bytes"||t4(t)==="dynamic"}function e4(t){return t.lastIndexOf("]")===t.length-1}ai.rawEncode=function(t,e){var r=[],n=[],i=0;t.forEach(function(c){if(e4(c)){var d=t4(c);d!=="dynamic"?i+=32*d:i+=32}else i+=32});for(var s=0;s<t.length;s++){var o=W8(t[s]),a=e[s],u=b0(o,a);Ole(o)?(r.push(b0("uint256",i)),n.push(u),i+=u.length):r.push(u)}return E.Buffer.concat(r.concat(n))};ai.rawDecode=function(t,e){var r=[];e=E.Buffer.from(e);for(var n=0,i=0;i<t.length;i++){var s=W8(t[i]),o=zA(s,e,n),a=bf(o,e,n);n+=o.memoryUsage,r.push(a)}return r};ai.simpleEncode=function(t){var e=Array.prototype.slice.call(arguments).slice(1),r=tL(t);if(e.length!==r.args.length)throw new Error("Argument count mismatch");return E.Buffer.concat([ai.methodID(r.method,r.args),ai.rawEncode(r.args,e)])};ai.simpleDecode=function(t,e){var r=tL(t);if(!r.retargs)throw new Error("No return values in method");return ai.rawDecode(r.retargs,e)};function eL(t,e){return t.startsWith("address")||t.startsWith("bytes")?"0x"+e.toString("hex"):e.toString()}ai.stringify=function(t,e){var r=[];for(var n in t){var i=t[n],s=e[n];/^[^\[]+\[.*\]$/.test(i)?s=s.map(function(o){return eL(i,o)}).join(", "):s=eL(i,s),r.push(s)}return r};ai.solidityHexValue=function(t,e,r){var n,i;if(e4(t)){var s=t.replace(/\[.*?\]/,"");if(!e4(s)){var o=t4(t);if(o!=="dynamic"&&o!==0&&e.length>o)throw new Error("Elements exceed array size: "+o)}var a=e.map(function(d){return ai.solidityHexValue(s,d,256)});return E.Buffer.concat(a)}else{if(t==="bytes")return e;if(t==="string")return E.Buffer.from(e,"utf8");if(t==="bool"){r=r||8;var u=Array(r/4).join("0");return E.Buffer.from(e?u+"1":u+"0","hex")}else if(t==="address"){var c=20;return r&&(c=r/8),G8.setLengthLeft(KA(e),c)}else if(t.startsWith("bytes")){if(n=ml(t),n<1||n>32)throw new Error("Invalid bytes<N> width: "+n);return typeof e=="number"&&(e=Ple(e)),G8.setLengthRight(KA(e),n)}else if(t.startsWith("uint")){if(n=ml(t),n%8||n<8||n>256)throw new Error("Invalid uint<N> width: "+n);if(i=lp(e),i.bitLength()>n)throw new Error("Supplied uint exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toArrayLike(E.Buffer,"be",r/8)}else if(t.startsWith("int")){if(n=ml(t),n%8||n<8||n>256)throw new Error("Invalid int<N> width: "+n);if(i=lp(e),i.bitLength()>n)throw new Error("Supplied int exceeds width: "+n+" vs "+i.bitLength());return r=r||n,i.toTwos(n).toArrayLike(E.Buffer,"be",r/8)}else throw new Error("Unsupported or invalid type: "+t)}};ai.solidityPack=function(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r=[],n=0;n<t.length;n++){var i=W8(t[n]),s=e[n];r.push(ai.solidityHexValue(i,s,null))}return E.Buffer.concat(r)};ai.soliditySHA3=function(t,e){return J5.keccak256(ai.solidityPack(t,e))};ai.soliditySHA256=function(t,e){return J5.sha256(ai.solidityPack(t,e))};ai.solidityRIPEMD160=function(t,e){return J5.ripemd160(ai.solidityPack(t,e),!0)};function Ble(t){return t>="0"&&t<="9"}ai.fromSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n==="s")e.push("bytes");else if(n==="b"){for(var i="bytes",s=r+1;s<t.length&&Ble(t[s]);)i+=t[s]-"0",s++;r=s-1,e.push(i)}else if(n==="i")e.push("int256");else if(n==="a")e.push("int256[]");else throw new Error("Unsupported or invalid type: "+n)}return e};ai.toSerpent=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(n==="bytes")e.push("s");else if(n.startsWith("bytes"))e.push("b"+ml(n));else if(n==="int256")e.push("i");else if(n==="int256[]")e.push("a");else throw new Error("Unsupported or invalid type: "+n)}return e.join("")};rL.exports=ai});var iL=j(yl=>{"use strict";B();M();Object.defineProperty(yl,"__esModule",{value:!0});yl.SoliditySHA3=yl.RawEncode=yl.ABI=void 0;var VA=nL();yl.ABI=VA;function Mle(t,e){return VA.rawEncode(t,e)}yl.RawEncode=Mle;function kle(t,e){return VA.soliditySHA3(t,e)}yl.SoliditySHA3=kle});var fL=j(tn=>{"use strict";B();M();var Cle=tn&&tn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Rle=tn&&tn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Nle=tn&&tn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cle(e,t,r);return Rle(e,t),e},Fle=tn&&tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(tn,"__esModule",{value:!0});tn.loadUncompressedPublicKey=tn.loadCompressedPublicKey=tn.publicKeyConvert=tn.publicKeyCreate=tn.publicKeyVerify=tn.privateKeyVerify=tn.loadPublicKey=tn.recover=tn.verifyWithNoRecovery=tn.verify=tn.getV=tn.sign=void 0;var Hle=Nle(Z5()),Ps=new Hle.ec("secp256k1"),sL=op(),Q5=Fle(Is());function Dle(t,e,r=!0){let n=Ps.sign(Array.from(t),E.Buffer.from(e),{canonical:r});return{signature:n.toBytes(),recovery:n.recoveryParam}}tn.sign=Dle;function Lle(t,e,r,n,i=!0){let s=r4(n);if(s==null)throw new Error("pubkey error");let o=Ps.keyPair({pub:{x:s.x,y:s.y}}).getPublic();return Ps.getKeyRecoveryParam(t,{r:e,s:r},o,i)}tn.getV=Lle;function Ule(t,e,r,n){let i=oL(e,r,t,!0);if(i==null)return!1;let s=aL(n,!0);return s==null?!1:i.equals(s)}tn.verify=Ule;function qle(t,e,r){let n=r4(r);if(n==null)throw new Error("pubkey error");let i=Ps.keyPair({pub:{x:n.x,y:n.y}}),s={r:(0,sL.toHex)(e.slice(0,32)),s:(0,sL.toHex)(e.slice(32,64))};return i.verify(t,s)}tn.verifyWithNoRecovery=qle;function oL(t,e,r,n){let i={r:Array.from(t.slice(0,32)),s:Array.from(t.slice(32,64))},s=new Q5.default(i.r),o=new Q5.default(i.s);if(s.cmp(Ps.curve.n)>=0||o.cmp(Ps.curve.n)>=0||s.isZero()||o.isZero())return null;let a;try{a=Ps.recoverPubKey(Array.from(r),i,e,null)}catch{return null}return E.Buffer.from(a.encode(null,n))}tn.recover=oL;function r4(t){let e=E.Buffer.from(t),r=e[0];switch(r){case 2:case 3:return e.length!==33?null:uL(r,e.subarray(1,33));case 4:case 6:case 7:return e.length!==65?null:cL(r,e.subarray(1,33),e.subarray(33,65));default:return null}}tn.loadPublicKey=r4;function jle(t){let e=new Q5.default(Array.from(t));return e.cmp(Ps.curve.n)<0&&!e.isZero()}tn.privateKeyVerify=jle;function Kle(t){return r4(t)!==null}tn.publicKeyVerify=Kle;function $le(t,e){let r=Ps.keyFromPrivate(Array.from(t),"bytes").getPublic();return E.Buffer.from(r.encode(null,e))}tn.publicKeyCreate=$le;function aL(t,e){let r=r4(t);if(r==null)return null;let n=Ps.keyPair({pub:{x:r.x,y:r.y}}).getPublic();return E.Buffer.from(n.encode(null,e))}tn.publicKeyConvert=aL;function uL(t,e){let r=new Q5.default(Array.from(e));if(r.cmp(Ps.curve.p)>=0)return null;let n=r.toRed(Ps.curve.red),i=n.redSqr().redIMul(n).redIAdd(Ps.curve.b).redSqrt();t===3!==i.isOdd()&&(i=i.redNeg());let s=n.redSqr().redIMul(n);return i.redSqr().redISub(s.redIAdd(Ps.curve.b)).isZero()?{x:n,y:i}:null}tn.loadCompressedPublicKey=uL;function cL(t,e,r){let n=new Q5.default(Array.from(e)),i=new Q5.default(Array.from(r));if(n.cmp(Ps.curve.p)>=0||i.cmp(Ps.curve.p)>=0)return null;let s=n.toRed(Ps.curve.red),o=i.toRed(Ps.curve.red);if((t===6||t===7)&&o.isOdd()!==(t===7))return null;let a=s.redSqr().redIMul(s);return o.redSqr().redISub(a.redIAdd(Ps.curve.b)).isZero()?{x:s,y:o}:null}tn.loadUncompressedPublicKey=cL});var yL=j(Yr=>{"use strict";B();M();var zle=Yr&&Yr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vle=Yr&&Yr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gle=Yr&&Yr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zle(e,t,r);return Vle(e,t),e},Wle=Yr&&Yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.ed25519_getDerivedPrivateKey=Yr.isValidPath=Yr.ed25519_getRandomPrivateKey=Yr.ed25519SignTest=Yr.fromSecret=Yr.fromSeed=Yr.privateKeyVerify=Yr.publicKeyVerify=Yr.publicKeyCreate=Yr.verify=Yr.sign=Yr.ed25519MulBase=void 0;var dL=Gle(Z5()),gf=op(),Yle=Wle(Is()),Xle=LA(),Fd=new dL.eddsa("ed25519"),hL=Fd.curve;function Zle(t){let e=Fd.curve.g;return Fd.encodePoint(e.mul(dL.utils.intFromLE(t)))}Yr.ed25519MulBase=Zle;function lL(t,e){let r=e;r.length==64&&(r=r.slice(0,32));let i=Fd.keyFromSecret(Array.from(r)).sign(Array.from(t)).toBytes();return Uint8Array.from(i)}Yr.sign=lL;function pL(t,e,r){return Fd.keyFromPublic(Array.from(r)).verify(Array.from(t),Array.from(e))}Yr.verify=pL;function Y8(t){let e=t;e.length==64&&(e=e.slice(0,32));let n=Fd.keyFromSecret(Array.from(e)).getPublic();if(t.length==64&&!Jle(t.slice(32,64),n))throw new Error("invalid public key");return Uint8Array.from(n)}Yr.publicKeyCreate=Y8;function Jle(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Qle(t){let e=Fd.decodePoint(Array.from(t));return hL.validate(e)}Yr.publicKeyVerify=Qle;function bL(t){let e=new Yle.default(Array.from(t));return e.cmp(hL.n)<0&&!e.isZero()}Yr.privateKeyVerify=bL;function e1e(t){let e=Fd.keyFromSecret(Array.from(t)),r=Uint8Array.from(e.getPublic());return{publicKey:r,secretKey:(0,gf.concatBytes)(t,r)}}Yr.fromSeed=e1e;function t1e(t){let e=t.slice(0,32),r=Fd.keyFromSecret(Array.from(e));return{publicKey:Uint8Array.from(r.getPublic()),secretKey:Uint8Array.from(e)}}Yr.fromSecret=t1e;function gL(t){let e=(0,gf.sha256)("ed25519-test"),r=Y8(t),n=lL(e,t);return pL(e,n,r)}Yr.ed25519SignTest=gL;function r1e(t,e){for(;;){let r=(0,gf.randomBytes)(32);if(bL(r)&&gL(r)){let n=Y8(r),i=t?(0,gf.concatBytes)(r,n):r;return e==="base58"?(0,gf.toBase58)(i):(0,gf.toHex)(i)}}}Yr.ed25519_getRandomPrivateKey=r1e;var n1e=new RegExp("^m(\\/[0-9]+')+$"),mL=t=>t.replace("'",""),i1e=2147483648;function s1e(t){let e=(0,gf.hmacSHA512)("ed25519 seed",t),r=e.slice(0,32),n=e.slice(32);return{key:r,chainCode:n}}function o1e({key:t,chainCode:e},r){let n=E.Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let i=E.Buffer.concat([E.Buffer.alloc(1,0),t,n]),s=(0,gf.hmacSHA512)(e,i),o=s.slice(0,32),a=s.slice(32);return{key:o,chainCode:a}}var a1e=t=>n1e.test(t)?!t.split("/").slice(1).map(mL).some(isNaN):!1;Yr.isValidPath=a1e;function u1e(t,e,r=i1e){if(!(0,Yr.isValidPath)(t))throw new Error("Invalid derivation path");let{key:n,chainCode:i}=s1e(e);return t.split("/").slice(1).map(mL).map(o=>parseInt(o,10)).reduce((o,a)=>o1e(o,a+r),{key:n,chainCode:i})}async function c1e(t,e,r,n){let i=await(0,Xle.mnemonicToSeed)(t),s=u1e(e,i).key,o=Y8(s),a=r?(0,gf.concatBytes)(s,o):s;return n==="base58"?Promise.resolve((0,gf.toBase58)(a)):Promise.resolve((0,gf.toHex)(a))}Yr.ed25519_getDerivedPrivateKey=c1e});var wL=j(wn=>{"use strict";B();M();var f1e=wn&&wn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),d1e=wn&&wn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),h1e=wn&&wn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&f1e(e,t,r);return d1e(e,t),e},l1e=wn&&wn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wn,"__esModule",{value:!0});wn.loadUncompressedPublicKey=wn.loadCompressedPublicKey=wn.publicKeyConvert=wn.publicKeyCreate=wn.publicKeyVerify=wn.privateKeyVerify=wn.loadPublicKey=wn.recover=wn.verify=wn.sign=void 0;var p1e=h1e(Z5()),va=new p1e.ec("p256"),e2=l1e(Is());function b1e(t,e,r=!0){let n=va.sign(Array.from(t),E.Buffer.from(e),{canonical:r});return{signature:n.toBytes(),recovery:n.recoveryParam}}wn.sign=b1e;function g1e(t,e,r,n){let i=vL(e,r,t,!1);return i==null?!1:i.equals(n)}wn.verify=g1e;function vL(t,e,r,n){let i={r:Array.from(t.slice(0,32)),s:Array.from(t.slice(32,64))},s=new e2.default(i.r),o=new e2.default(i.s);if(s.cmp(va.curve.n)>=0||o.cmp(va.curve.n)>=0||s.isZero()||o.isZero())return null;let a;try{a=va.recoverPubKey(Array.from(r),i,e,null)}catch{return null}return E.Buffer.from(a.encode(null,n))}wn.recover=vL;function GA(t){let e=E.Buffer.from(t),r=e[0];switch(r){case 2:case 3:return e.length!==33?null:_L(r,e.subarray(1,33));case 4:case 6:case 7:return e.length!==65?null:SL(r,e.subarray(1,33),e.subarray(33,65));default:return null}}wn.loadPublicKey=GA;function m1e(t){let e=new e2.default(Array.from(t));return e.cmp(va.curve.n)<0&&!e.isZero()}wn.privateKeyVerify=m1e;function y1e(t){return GA(t)!==null}wn.publicKeyVerify=y1e;function v1e(t,e){let r=va.keyFromPrivate(Array.from(t),"bytes").getPublic();return E.Buffer.from(r.encode(null,e))}wn.publicKeyCreate=v1e;function _1e(t,e){let r=GA(t);if(r==null)return null;let n=va.keyPair({pub:{x:r.x,y:r.y}}).getPublic();return E.Buffer.from(n.encode(null,e))}wn.publicKeyConvert=_1e;function _L(t,e){let r=new e2.default(Array.from(e));if(r.cmp(va.curve.p)>=0)return null;let n=r.toRed(va.curve.red),i=n.redSqr().redIMul(n).redIAdd(va.curve.b).redSqrt();return t===3!==i.isOdd()&&(i=i.redNeg()),{x:n,y:i}}wn.loadCompressedPublicKey=_L;function SL(t,e,r){let n=new e2.default(Array.from(e)),i=new e2.default(Array.from(r));if(n.cmp(va.curve.p)>=0||i.cmp(va.curve.p)>=0)return null;let s=n.toRed(va.curve.red),o=i.toRed(va.curve.red);if((t===6||t===7)&&o.isOdd()!==(t===7))return null;let a=s.redSqr().redIMul(s);return o.redSqr().redISub(a.redIAdd(va.curve.b)).isZero()?{x:s,y:o}:null}wn.loadUncompressedPublicKey=SL});var Hd=j(xr=>{"use strict";B();M();Object.defineProperty(xr,"__esModule",{value:!0});xr.validateObject=xr.createHmacDrbg=xr.bitMask=xr.bitSet=xr.bitGet=xr.bitLen=xr.utf8ToBytes=xr.equalBytes=xr.concatBytes=xr.ensureBytes=xr.numberToVarBytesBE=xr.numberToBytesLE=xr.numberToBytesBE=xr.bytesToNumberLE=xr.bytesToNumberBE=xr.hexToBytes=xr.hexToNumber=xr.numberToHexUnpadded=xr.bytesToHex=void 0;var EL=BigInt(0),X8=BigInt(1),S1e=BigInt(2),Z8=t=>t instanceof Uint8Array,w1e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function YA(t){if(!Z8(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=w1e[t[r]];return e}xr.bytesToHex=YA;function AL(t){let e=t.toString(16);return e.length&1?`0${e}`:e}xr.numberToHexUnpadded=AL;function XA(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}xr.hexToNumber=XA;function J8(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[r]=s}return e}xr.hexToBytes=J8;function x1e(t){return XA(YA(t))}xr.bytesToNumberBE=x1e;function E1e(t){if(!Z8(t))throw new Error("Uint8Array expected");return XA(YA(Uint8Array.from(t).reverse()))}xr.bytesToNumberLE=E1e;var A1e=(t,e)=>J8(t.toString(16).padStart(e*2,"0"));xr.numberToBytesBE=A1e;var T1e=(t,e)=>(0,xr.numberToBytesBE)(t,e).reverse();xr.numberToBytesLE=T1e;var I1e=t=>J8(AL(t));xr.numberToVarBytesBE=I1e;function P1e(t,e,r){let n;if(typeof e=="string")try{n=J8(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(Z8(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}xr.ensureBytes=P1e;function TL(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!Z8(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}xr.concatBytes=TL;function O1e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}xr.equalBytes=O1e;function B1e(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}xr.utf8ToBytes=B1e;function M1e(t){let e;for(e=0;t>EL;t>>=X8,e+=1);return e}xr.bitLen=M1e;var k1e=(t,e)=>t>>BigInt(e)&X8;xr.bitGet=k1e;var C1e=(t,e,r)=>t|(r?X8:EL)<<BigInt(e);xr.bitSet=C1e;var R1e=t=>(S1e<<BigInt(t-1))-X8;xr.bitMask=R1e;var WA=t=>new Uint8Array(t),xL=t=>Uint8Array.from(t);function N1e(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=WA(t),i=WA(t),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=WA())=>{i=a(xL([0]),f),n=a(),f.length!==0&&(i=a(xL([1]),f),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,m=[];for(;f<e;){n=a();let p=n.slice();m.push(p),f+=n.length}return TL(...m)};return(f,m)=>{o(),u(f);let p;for(;!(p=m(c()));)u();return o(),p}}xr.createHmacDrbg=N1e;var F1e={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function H1e(t,e,r={}){let n=(i,s,o)=>{let a=F1e[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}xr.validateObject=H1e});var pp=j(Kr=>{"use strict";B();M();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.hashToPrivateScalar=Kr.FpSqrtEven=Kr.FpSqrtOdd=Kr.Field=Kr.nLength=Kr.FpIsSquare=Kr.FpDiv=Kr.FpInvertBatch=Kr.FpPow=Kr.validateField=Kr.isNegativeLE=Kr.FpSqrt=Kr.tonelliShanks=Kr.invert=Kr.pow2=Kr.pow=Kr.mod=void 0;var Dd=Hd(),Os=BigInt(0),Yn=BigInt(1),vl=BigInt(2),D1e=BigInt(3),ZA=BigInt(4),IL=BigInt(5),PL=BigInt(8),L1e=BigInt(9),U1e=BigInt(16);function nc(t,e){let r=t%e;return r>=Os?r:e+r}Kr.mod=nc;function OL(t,e,r){if(r<=Os||e<Os)throw new Error("Expected power/modulo > 0");if(r===Yn)return Os;let n=Yn;for(;e>Os;)e&Yn&&(n=n*t%r),t=t*t%r,e>>=Yn;return n}Kr.pow=OL;function q1e(t,e,r){let n=t;for(;e-- >Os;)n*=n,n%=r;return n}Kr.pow2=q1e;function Q8(t,e){if(t===Os||e<=Os)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=nc(t,e),n=e,i=Os,s=Yn,o=Yn,a=Os;for(;r!==Os;){let c=n/r,d=n%r,f=i-o*c,m=s-a*c;n=r,r=d,i=o,s=a,o=f,a=m}if(n!==Yn)throw new Error("invert: does not exist");return nc(i,e)}Kr.invert=Q8;function BL(t){let e=(t-Yn)/vl,r,n,i;for(r=t-Yn,n=0;r%vl===Os;r/=vl,n++);for(i=vl;i<t&&OL(i,e,t)!==t-Yn;i++);if(n===1){let o=(t+Yn)/ZA;return function(u,c){let d=u.pow(c,o);if(!u.eql(u.sqr(d),c))throw new Error("Cannot find square root");return d}}let s=(r+Yn)/vl;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,d=a.pow(a.mul(a.ONE,i),r),f=a.pow(u,s),m=a.pow(u,r);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let p=1;for(let w=a.sqr(m);p<c&&!a.eql(w,a.ONE);p++)w=a.sqr(w);let y=a.pow(d,Yn<<BigInt(c-p-1));d=a.sqr(y),f=a.mul(f,y),m=a.mul(m,d),c=p}return f}}Kr.tonelliShanks=BL;function ML(t){if(t%ZA===D1e){let e=(t+Yn)/ZA;return function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%PL===IL){let e=(t-IL)/PL;return function(n,i){let s=n.mul(i,vl),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,vl),o),c=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return t%U1e,BL(t)}Kr.FpSqrt=ML;var j1e=(t,e)=>(nc(t,e)&Yn)===Yn;Kr.isNegativeLE=j1e;var K1e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function $1e(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=K1e.reduce((n,i)=>(n[i]="function",n),e);return(0,Dd.validateObject)(t,r)}Kr.validateField=$1e;function kL(t,e,r){if(r<Os)throw new Error("Expected power > 0");if(r===Os)return t.ONE;if(r===Yn)return e;let n=t.ONE,i=e;for(;r>Os;)r&Yn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Yn;return n}Kr.FpPow=kL;function CL(t,e){let r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}Kr.FpInvertBatch=CL;function z1e(t,e,r){return t.mul(e,typeof r=="bigint"?Q8(r,t.ORDER):t.inv(r))}Kr.FpDiv=z1e;function V1e(t){let e=(t.ORDER-Yn)/vl;return r=>{let n=t.pow(r,e);return t.eql(n,t.ZERO)||t.eql(n,t.ONE)}}Kr.FpIsSquare=V1e;function JA(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}Kr.nLength=JA;function G1e(t,e,r=!1,n={}){if(t<=Os)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=JA(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=ML(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:(0,Dd.bitMask)(i),ZERO:Os,ONE:Yn,create:u=>nc(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Os<=u&&u<t},is0:u=>u===Os,isOdd:u=>(u&Yn)===Yn,neg:u=>nc(-u,t),eql:(u,c)=>u===c,sqr:u=>nc(u*u,t),add:(u,c)=>nc(u+c,t),sub:(u,c)=>nc(u-c,t),mul:(u,c)=>nc(u*c,t),pow:(u,c)=>kL(a,u,c),div:(u,c)=>nc(u*Q8(c,t),t),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>Q8(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>CL(a,u),cmov:(u,c,d)=>d?c:u,toBytes:u=>r?(0,Dd.numberToBytesLE)(u,s):(0,Dd.numberToBytesBE)(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?(0,Dd.bytesToNumberLE)(u):(0,Dd.bytesToNumberBE)(u)}});return Object.freeze(a)}Kr.Field=G1e;function W1e(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?r:t.neg(r)}Kr.FpSqrtOdd=W1e;function Y1e(t,e){if(!t.isOdd)throw new Error("Field doesn't have isOdd");let r=t.sqrt(e);return t.isOdd(r)?t.neg(r):r}Kr.FpSqrtEven=Y1e;function X1e(t,e,r=!1){t=(0,Dd.ensureBytes)("privateHash",t);let n=t.length,i=JA(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?(0,Dd.bytesToNumberLE)(t):(0,Dd.bytesToNumberBE)(t);return nc(s,e-Yn)+Yn}Kr.hashToPrivateScalar=X1e});var NL=j(t2=>{"use strict";B();M();Object.defineProperty(t2,"__esModule",{value:!0});t2.validateBasic=t2.wNAF=void 0;var RL=pp(),Z1e=Hd(),J1e=BigInt(0),QA=BigInt(1);function Q1e(t,e){let r=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>J1e;)s&QA&&(o=o.add(a)),a=a.double(),s>>=QA;return o},precomputeWindow(i,s){let{windows:o,windowSize:a}=n(s),u=[],c=i,d=c;for(let f=0;f<o;f++){d=c,u.push(d);for(let m=1;m<a;m++)d=d.add(c),u.push(d);c=d.double()}return u},wNAF(i,s,o){let{windows:a,windowSize:u}=n(i),c=t.ZERO,d=t.BASE,f=BigInt(2**i-1),m=2**i,p=BigInt(i);for(let y=0;y<a;y++){let w=y*u,P=Number(o&f);o>>=p,P>u&&(P-=m,o+=QA);let C=w,R=w+Math.abs(P)-1,T=y%2!==0,k=P<0;P===0?d=d.add(r(T,s[C])):c=c.add(r(k,s[R]))}return{p:c,f:d}},wNAFCached(i,s,o,a){let u=i._WINDOW_SIZE||1,c=s.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&s.set(i,a(c))),this.wNAF(u,c,o)}}}t2.wNAF=Q1e;function e6e(t){return(0,RL.validateField)(t.Fp),(0,Z1e.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,RL.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}t2.validateBasic=e6e});var ty=j(Xn=>{"use strict";B();M();var t6e=Xn&&Xn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),r6e=Xn&&Xn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),HL=Xn&&Xn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&t6e(e,t,r);return r6e(e,t),e};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.mapToCurveSimpleSWU=Xn.SWUFpSqrtRatio=Xn.weierstrass=Xn.weierstrassPoints=Xn.DER=void 0;var n4=HL(pp()),is=HL(Hd()),g0=Hd(),eT=NL();function n6e(t){let e=(0,eT.validateBasic)(t);is.validateObject(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:i6e,hexToBytes:s6e}=is;Xn.DER={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=Xn.DER;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]&128)throw new e("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:i6e(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=Xn.DER,r=typeof t=="string"?s6e(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=Xn.DER._parseInt(r.subarray(2)),{d:o,l:a}=Xn.DER._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,r=c=>{let d=c.toString(16);return d.length&1?`0${d}`:d},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}};var mf=BigInt(0),Oi=BigInt(1),_l=BigInt(2),ey=BigInt(3),FL=BigInt(4);function DL(t){let e=n6e(t),{Fp:r}=e,n=e.toBytes||((y,w,P)=>{let C=w.toAffine();return is.concatBytes(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),i=e.fromBytes||(y=>{let w=y.subarray(1),P=r.fromBytes(w.subarray(0,r.BYTES)),C=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:P,y:C}});function s(y){let{a:w,b:P}=e,C=r.sqr(y),R=r.mul(C,y);return r.add(r.add(R,r.mul(y,w)),P)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(y){return typeof y=="bigint"&&mf<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){let{allowedPrivateKeyLengths:w,nByteLength:P,wrapPrivateKey:C,n:R}=e;if(w&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=is.bytesToHex(y)),typeof y!="string"||!w.includes(y.length))throw new Error("Invalid key");y=y.padStart(P*2,"0")}let T;try{T=typeof y=="bigint"?y:is.bytesToNumberBE((0,g0.ensureBytes)("private key",y,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof y}`)}return C&&(T=n4.mod(T,R)),a(T),T}let c=new Map;function d(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(w,P,C){if(this.px=w,this.py=P,this.pz=C,w==null||!r.isValid(w))throw new Error("x required");if(P==null||!r.isValid(P))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(w){let{x:P,y:C}=w||{};if(!w||!r.isValid(P)||!r.isValid(C))throw new Error("invalid affine point");if(w instanceof f)throw new Error("projective point not allowed");let R=T=>r.eql(T,r.ZERO);return R(P)&&R(C)?f.ZERO:new f(P,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){let P=r.invertBatch(w.map(C=>C.pz));return w.map((C,R)=>C.toAffine(P[R])).map(f.fromAffine)}static fromHex(w){let P=f.fromAffine(i((0,g0.ensureBytes)("pointHex",w)));return P.assertValidity(),P}static fromPrivateKey(w){return f.BASE.multiply(u(w))}_setWindowSize(w){this._WINDOW_SIZE=w,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:w,y:P}=this.toAffine();if(!r.isValid(w)||!r.isValid(P))throw new Error("bad point: x or y not FE");let C=r.sqr(P),R=s(w);if(!r.eql(C,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){d(w);let{px:P,py:C,pz:R}=this,{px:T,py:k,pz:H}=w,F=r.eql(r.mul(P,H),r.mul(T,R)),L=r.eql(r.mul(C,H),r.mul(k,R));return F&&L}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:w,b:P}=e,C=r.mul(P,ey),{px:R,py:T,pz:k}=this,H=r.ZERO,F=r.ZERO,L=r.ZERO,D=r.mul(R,R),N=r.mul(T,T),g=r.mul(k,k),h=r.mul(R,T);return h=r.add(h,h),L=r.mul(R,k),L=r.add(L,L),H=r.mul(w,L),F=r.mul(C,g),F=r.add(H,F),H=r.sub(N,F),F=r.add(N,F),F=r.mul(H,F),H=r.mul(h,H),L=r.mul(C,L),g=r.mul(w,g),h=r.sub(D,g),h=r.mul(w,h),h=r.add(h,L),L=r.add(D,D),D=r.add(L,D),D=r.add(D,g),D=r.mul(D,h),F=r.add(F,D),g=r.mul(T,k),g=r.add(g,g),D=r.mul(g,h),H=r.sub(H,D),L=r.mul(g,N),L=r.add(L,L),L=r.add(L,L),new f(H,F,L)}add(w){d(w);let{px:P,py:C,pz:R}=this,{px:T,py:k,pz:H}=w,F=r.ZERO,L=r.ZERO,D=r.ZERO,N=e.a,g=r.mul(e.b,ey),h=r.mul(P,T),l=r.mul(C,k),b=r.mul(R,H),_=r.add(P,C),x=r.add(T,k);_=r.mul(_,x),x=r.add(h,l),_=r.sub(_,x),x=r.add(P,R);let I=r.add(T,H);return x=r.mul(x,I),I=r.add(h,b),x=r.sub(x,I),I=r.add(C,R),F=r.add(k,H),I=r.mul(I,F),F=r.add(l,b),I=r.sub(I,F),D=r.mul(N,x),F=r.mul(g,b),D=r.add(F,D),F=r.sub(l,D),D=r.add(l,D),L=r.mul(F,D),l=r.add(h,h),l=r.add(l,h),b=r.mul(N,b),x=r.mul(g,x),l=r.add(l,b),b=r.sub(h,b),b=r.mul(N,b),x=r.add(x,b),h=r.mul(l,x),L=r.add(L,h),h=r.mul(I,x),F=r.mul(_,F),F=r.sub(F,h),h=r.mul(_,l),D=r.mul(I,D),D=r.add(D,h),new f(F,L,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(f.ZERO)}wNAF(w){return p.wNAFCached(this,c,w,P=>{let C=r.invertBatch(P.map(R=>R.pz));return P.map((R,T)=>R.toAffine(C[T])).map(f.fromAffine)})}multiplyUnsafe(w){let P=f.ZERO;if(w===mf)return P;if(a(w),w===Oi)return this;let{endo:C}=e;if(!C)return p.unsafeLadder(this,w);let{k1neg:R,k1:T,k2neg:k,k2:H}=C.splitScalar(w),F=P,L=P,D=this;for(;T>mf||H>mf;)T&Oi&&(F=F.add(D)),H&Oi&&(L=L.add(D)),D=D.double(),T>>=Oi,H>>=Oi;return R&&(F=F.negate()),k&&(L=L.negate()),L=new f(r.mul(L.px,C.beta),L.py,L.pz),F.add(L)}multiply(w){a(w);let P=w,C,R,{endo:T}=e;if(T){let{k1neg:k,k1:H,k2neg:F,k2:L}=T.splitScalar(P),{p:D,f:N}=this.wNAF(H),{p:g,f:h}=this.wNAF(L);D=p.constTimeNegate(k,D),g=p.constTimeNegate(F,g),g=new f(r.mul(g.px,T.beta),g.py,g.pz),C=D.add(g),R=N.add(h)}else{let{p:k,f:H}=this.wNAF(P);C=k,R=H}return f.normalizeZ([C,R])[0]}multiplyAndAddUnsafe(w,P,C){let R=f.BASE,T=(H,F)=>F===mf||F===Oi||!H.equals(R)?H.multiplyUnsafe(F):H.multiply(F),k=T(this,P).add(T(w,C));return k.is0()?void 0:k}toAffine(w){let{px:P,py:C,pz:R}=this,T=this.is0();w==null&&(w=T?r.ONE:r.inv(R));let k=r.mul(P,w),H=r.mul(C,w),F=r.mul(R,w);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(F,r.ONE))throw new Error("invZ was invalid");return{x:k,y:H}}isTorsionFree(){let{h:w,isTorsionFree:P}=e;if(w===Oi)return!0;if(P)return P(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:w,clearCofactor:P}=e;return w===Oi?this:P?P(f,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return this.assertValidity(),n(f,this,w)}toHex(w=!0){return is.bytesToHex(this.toRawBytes(w))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let m=e.nBitLength,p=(0,eT.wNAF)(f,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}Xn.weierstrassPoints=DL;function o6e(t){let e=(0,eT.validateBasic)(t);return is.validateObject(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function a6e(t){let e=o6e(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(x){return mf<x&&x<r.ORDER}function a(x){return n4.mod(x,n)}function u(x){return n4.invert(x,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:m}=DL({...e,toBytes(x,I,A){let v=I.toAffine(),S=r.toBytes(v.x),O=is.concatBytes;return A?O(Uint8Array.from([I.hasEvenY()?2:3]),S):O(Uint8Array.from([4]),S,r.toBytes(v.y))},fromBytes(x){let I=x.length,A=x[0],v=x.subarray(1);if(I===i&&(A===2||A===3)){let S=is.bytesToNumberBE(v);if(!o(S))throw new Error("Point is not on curve");let O=f(S),q=r.sqrt(O),J=(q&Oi)===Oi;return(A&1)===1!==J&&(q=r.neg(q)),{x:S,y:q}}else if(I===s&&A===4){let S=r.fromBytes(v.subarray(0,r.BYTES)),O=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:S,y:O}}else throw new Error(`Point of length ${I} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=x=>is.bytesToHex(is.numberToBytesBE(x,e.nByteLength));function y(x){let I=n>>Oi;return x>I}function w(x){return y(x)?a(-x):x}let P=(x,I,A)=>is.bytesToNumberBE(x.slice(I,A));class C{constructor(I,A,v){this.r=I,this.s=A,this.recovery=v,this.assertValidity()}static fromCompact(I){let A=e.nByteLength;return I=(0,g0.ensureBytes)("compactSignature",I,A*2),new C(P(I,0,A),P(I,A,2*A))}static fromDER(I){let{r:A,s:v}=Xn.DER.toSig((0,g0.ensureBytes)("DER",I));return new C(A,v)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(I){return new C(this.r,this.s,I)}recoverPublicKey(I){let{r:A,s:v,recovery:S}=this,O=L((0,g0.ensureBytes)("msgHash",I));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");let q=S===2||S===3?A+e.n:A;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let J=(S&1)===0?"02":"03",ne=c.fromHex(J+p(q)),oe=u(q),le=a(-O*oe),pe=a(v*oe),G=c.BASE.multiplyAndAddUnsafe(ne,le,pe);if(!G)throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return is.hexToBytes(this.toDERHex())}toDERHex(){return Xn.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return is.hexToBytes(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let R={isValidPrivateKey(x){try{return d(x),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let x=e.randomBytes(r.BYTES+8),I=n4.hashToPrivateScalar(x,n);return is.numberToBytesBE(I,e.nByteLength)},precompute(x=8,I=c.BASE){return I._setWindowSize(x),I.multiply(BigInt(3)),I}};function T(x,I=!0){return c.fromPrivateKey(x).toRawBytes(I)}function k(x){let I=x instanceof Uint8Array,A=typeof x=="string",v=(I||A)&&x.length;return I?v===i||v===s:A?v===2*i||v===2*s:x instanceof c}function H(x,I,A=!0){if(k(x))throw new Error("first arg must be private key");if(!k(I))throw new Error("second arg must be public key");return c.fromHex(I).multiply(d(x)).toRawBytes(A)}let F=e.bits2int||function(x){let I=is.bytesToNumberBE(x),A=x.length*8-e.nBitLength;return A>0?I>>BigInt(A):I},L=e.bits2int_modN||function(x){return a(F(x))},D=is.bitMask(e.nBitLength);function N(x){if(typeof x!="bigint")throw new Error("bigint expected");if(!(mf<=x&&x<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return is.numberToBytesBE(x,e.nByteLength)}function g(x,I,A=h){if(["recovered","canonical"].some(ae=>ae in A))throw new Error("sign() legacy options not supported");let{hash:v,randomBytes:S}=e,{lowS:O,prehash:q,extraEntropy:J}=A;O==null&&(O=!0),x=(0,g0.ensureBytes)("msgHash",x),q&&(x=(0,g0.ensureBytes)("prehashed msgHash",v(x)));let ne=L(x),oe=d(I),le=[N(oe),N(ne)];if(J!=null){let ae=J===!0?S(r.BYTES):J;le.push((0,g0.ensureBytes)("extraEntropy",ae,r.BYTES))}let pe=is.concatBytes(...le),G=ne;function te(ae){let be=F(ae);if(!m(be))return;let ye=u(be),_e=c.BASE.multiply(be).toAffine(),ke=a(_e.x);if(ke===mf)return;let He=a(ye*a(G+ke*oe));if(He===mf)return;let ze=(_e.x===ke?0:2)|Number(_e.y&Oi),qe=He;return O&&y(He)&&(qe=w(He),ze^=1),new C(ke,qe,ze)}return{seed:pe,k2sig:te}}let h={lowS:e.lowS,prehash:!1},l={lowS:e.lowS,prehash:!1};function b(x,I,A=h){let{seed:v,k2sig:S}=g(x,I,A),O=e;return is.createHmacDrbg(O.hash.outputLen,O.nByteLength,O.hmac)(v,S)}c.BASE._setWindowSize(8);function _(x,I,A,v=l){let S=x;if(I=(0,g0.ensureBytes)("msgHash",I),A=(0,g0.ensureBytes)("publicKey",A),"strict"in v)throw new Error("options.strict was renamed to lowS");let{lowS:O,prehash:q}=v,J,ne;try{if(typeof S=="string"||S instanceof Uint8Array)try{J=C.fromDER(S)}catch(_e){if(!(_e instanceof Xn.DER.Err))throw _e;J=C.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){let{r:_e,s:ke}=S;J=new C(_e,ke)}else throw new Error("PARSE");ne=c.fromHex(A)}catch(_e){if(_e.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(O&&J.hasHighS())return!1;q&&(I=e.hash(I));let{r:oe,s:le}=J,pe=L(I),G=u(le),te=a(pe*G),ae=a(oe*G),be=c.BASE.multiplyAndAddUnsafe(ne,te,ae)?.toAffine();return be?a(be.x)===oe:!1}return{CURVE:e,getPublicKey:T,getSharedSecret:H,sign:b,verify:_,ProjectivePoint:c,Signature:C,utils:R}}Xn.weierstrass=a6e;function LL(t,e){let r=t.ORDER,n=mf;for(let y=r-Oi;y%_l===mf;y/=_l)n+=Oi;let i=n,s=_l<<i-Oi-Oi,o=s*_l,a=(r-Oi)/o,u=(a-Oi)/_l,c=o-Oi,d=s,f=t.pow(e,a),m=t.pow(e,(a+Oi)/_l),p=(y,w)=>{let P=f,C=t.pow(w,c),R=t.sqr(C);R=t.mul(R,w);let T=t.mul(y,R);T=t.pow(T,u),T=t.mul(T,C),C=t.mul(T,w),R=t.mul(T,y);let k=t.mul(R,C);T=t.pow(k,d);let H=t.eql(T,t.ONE);C=t.mul(R,m),T=t.mul(k,P),R=t.cmov(C,R,H),k=t.cmov(T,k,H);for(let F=i;F>Oi;F--){let L=F-_l;L=_l<<L-Oi;let D=t.pow(k,L),N=t.eql(D,t.ONE);C=t.mul(R,P),P=t.mul(P,P),D=t.mul(k,P),R=t.cmov(C,R,N),k=t.cmov(D,k,N)}return{isValid:H,value:R}};if(t.ORDER%FL===ey){let y=(t.ORDER-ey)/FL,w=t.sqrt(t.neg(e));p=(P,C)=>{let R=t.sqr(C),T=t.mul(P,C);R=t.mul(R,T);let k=t.pow(R,y);k=t.mul(k,T);let H=t.mul(k,w),F=t.mul(t.sqr(k),C),L=t.eql(F,P),D=t.cmov(H,k,L);return{isValid:L,value:D}}}return p}Xn.SWUFpSqrtRatio=LL;function u6e(t,e){if(n4.validateField(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=LL(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,u,c,d,f;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),u=t.mul(c,e.A),s=t.add(s,u),s=t.mul(s,o),c=t.mul(c,a),u=t.mul(c,e.B),s=t.add(s,u),d=t.mul(i,o);let{isValid:m,value:p}=r(s,c);f=t.mul(i,n),f=t.mul(f,p),d=t.cmov(d,o,m),f=t.cmov(f,p,m);let y=t.isOdd(n)===t.isOdd(f);return f=t.cmov(t.neg(f),f,y),d=t.div(d,a),{x:d,y:f}}}Xn.mapToCurveSimpleSWU=u6e});var jL=j(ic=>{"use strict";B();M();Object.defineProperty(ic,"__esModule",{value:!0});ic.createHasher=ic.isogenyMap=ic.hash_to_field=ic.expand_message_xof=ic.expand_message_xmd=void 0;var c6e=pp(),yf=Hd();function f6e(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return(0,yf.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}var d6e=yf.bytesToNumberBE;function Sl(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function h6e(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function i4(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function rT(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function UL(t,e,r,n){i4(t),i4(e),rT(r),e.length>255&&(e=n((0,yf.concatBytes)((0,yf.utf8ToBytes)("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");let a=(0,yf.concatBytes)(e,Sl(e.length,1)),u=Sl(0,s),c=Sl(r,2),d=new Array(o),f=n((0,yf.concatBytes)(u,t,c,Sl(0,1),a));d[0]=n((0,yf.concatBytes)(f,Sl(1,1),a));for(let p=1;p<=o;p++){let y=[h6e(f,d[p-1]),Sl(p+1,1),a];d[p]=n((0,yf.concatBytes)(...y))}return(0,yf.concatBytes)(...d).slice(0,r)}ic.expand_message_xmd=UL;function qL(t,e,r,n,i){if(i4(t),i4(e),rT(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update((0,yf.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(Sl(r,2)).update(e).update(Sl(e.length,1)).digest()}ic.expand_message_xof=qL;function tT(t,e,r){(0,yf.validateObject)(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:o,expand:a,DST:u}=r;i4(t),rT(e);let c=f6e(u),d=n.toString(2).length,f=Math.ceil((d+i)/8),m=e*s*f,p;if(a==="xmd")p=UL(t,c,m,o);else if(a==="xof")p=qL(t,c,m,i,o);else if(a==="_internal_pass")p=t;else throw new Error('expand must be "xmd" or "xof"');let y=new Array(e);for(let w=0;w<e;w++){let P=new Array(s);for(let C=0;C<s;C++){let R=f*(C+w*s),T=p.subarray(R,R+f);P[C]=(0,c6e.mod)(d6e(T),n)}y[w]=P}return y}ic.hash_to_field=tT;function l6e(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,o,a,u]=r.map(c=>c.reduce((d,f)=>t.add(t.mul(d,n),f)));return n=t.div(s,o),i=t.mul(i,t.div(a,u)),{x:n,y:i}}}ic.isogenyMap=l6e;function p6e(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=tT(n,2,{...r,DST:r.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),u=o.add(a).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let s=tT(n,1,{...r,DST:r.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}ic.createHasher=p6e});var nT=j(r2=>{"use strict";B();M();Object.defineProperty(r2,"__esModule",{value:!0});r2.createCurve=r2.getHash=void 0;var b6e=$b(),KL=_o(),g6e=ty();function $L(t){return{hash:t,hmac:(e,...r)=>(0,b6e.hmac)(t,e,(0,KL.concatBytes)(...r)),randomBytes:KL.randomBytes}}r2.getHash=$L;function m6e(t,e){let r=n=>(0,g6e.weierstrass)({...t,...$L(n)});return Object.freeze({...r(e),create:r})}r2.createCurve=m6e});var eU=j(ss=>{"use strict";B();M();var y6e=ss&&ss.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),v6e=ss&&ss.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_6e=ss&&ss.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&y6e(e,t,r);return v6e(e,t),e},iT;Object.defineProperty(ss,"__esModule",{value:!0});ss.encodeToCurve=ss.hashToCurve=ss.schnorr=ss.secp256k1=void 0;var ry=B5(),S6e=_o(),Vs=pp(),w6e=ty(),Yo=Hd(),GL=_6e(jL()),x6e=nT(),oy=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ny=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),WL=BigInt(1),iy=BigInt(2),zL=(t,e)=>(t+e/iy)/e;function YL(t){let e=oy,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,d=c*c*t%e,f=(0,Vs.pow2)(d,r,e)*d%e,m=(0,Vs.pow2)(f,r,e)*d%e,p=(0,Vs.pow2)(m,iy,e)*c%e,y=(0,Vs.pow2)(p,i,e)*p%e,w=(0,Vs.pow2)(y,s,e)*y%e,P=(0,Vs.pow2)(w,a,e)*w%e,C=(0,Vs.pow2)(P,u,e)*P%e,R=(0,Vs.pow2)(C,a,e)*w%e,T=(0,Vs.pow2)(R,r,e)*d%e,k=(0,Vs.pow2)(T,o,e)*y%e,H=(0,Vs.pow2)(k,n,e)*c%e,F=(0,Vs.pow2)(H,iy,e);if(!wl.eql(wl.sqr(F),t))throw new Error("Cannot find square root");return F}var wl=(0,Vs.Field)(oy,void 0,void 0,{sqrt:YL});ss.secp256k1=(0,x6e.createCurve)({a:BigInt(0),b:BigInt(7),Fp:wl,n:ny,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=ny,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-WL*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=zL(s*t,e),u=zL(-n*t,e),c=(0,Vs.mod)(t-a*r-u*i,e),d=(0,Vs.mod)(-a*n-u*s,e),f=c>o,m=d>o;if(f&&(c=e-c),m&&(d=e-d),c>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:m,k2:d}}}},ry.sha256);var ay=BigInt(0),XL=t=>typeof t=="bigint"&&ay<t&&t<oy,E6e=t=>typeof t=="bigint"&&ay<t&&t<ny,VL={};function sy(t,...e){let r=VL[t];if(r===void 0){let n=(0,ry.sha256)(Uint8Array.from(t,i=>i.charCodeAt(0)));r=(0,Yo.concatBytes)(n,n),VL[t]=r}return(0,ry.sha256)((0,Yo.concatBytes)(r,...e))}var uT=t=>t.toRawBytes(!0).slice(1),oT=t=>(0,Yo.numberToBytesBE)(t,32),sT=t=>(0,Vs.mod)(t,oy),s4=t=>(0,Vs.mod)(t,ny),cT=ss.secp256k1.ProjectivePoint,A6e=(t,e,r)=>cT.BASE.multiplyAndAddUnsafe(t,e,r);function aT(t){let e=ss.secp256k1.utils.normPrivateKeyToScalar(t),r=cT.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:s4(-e),bytes:uT(r)}}function ZL(t){if(!XL(t))throw new Error("bad x: need 0 < x < p");let e=sT(t*t),r=sT(e*t+BigInt(7)),n=YL(r);n%iy!==ay&&(n=sT(-n));let i=new cT(t,n,WL);return i.assertValidity(),i}function JL(...t){return s4((0,Yo.bytesToNumberBE)(sy("BIP0340/challenge",...t)))}function T6e(t){return aT(t).bytes}function I6e(t,e,r=(0,S6e.randomBytes)(32)){let n=(0,Yo.ensureBytes)("message",t),{bytes:i,scalar:s}=aT(e),o=(0,Yo.ensureBytes)("auxRand",r,32),a=oT(s^(0,Yo.bytesToNumberBE)(sy("BIP0340/aux",o))),u=sy("BIP0340/nonce",a,i,n),c=s4((0,Yo.bytesToNumberBE)(u));if(c===ay)throw new Error("sign failed: k is zero");let{bytes:d,scalar:f}=aT(c),m=JL(d,i,n),p=new Uint8Array(64);if(p.set(d,0),p.set(oT(s4(f+m*s)),32),!QL(p,n,i))throw new Error("sign: Invalid signature produced");return p}function QL(t,e,r){let n=(0,Yo.ensureBytes)("signature",t,64),i=(0,Yo.ensureBytes)("message",e),s=(0,Yo.ensureBytes)("publicKey",r,32);try{let o=ZL((0,Yo.bytesToNumberBE)(s)),a=(0,Yo.bytesToNumberBE)(n.subarray(0,32));if(!XL(a))return!1;let u=(0,Yo.bytesToNumberBE)(n.subarray(32,64));if(!E6e(u))return!1;let c=JL(oT(a),uT(o),i),d=A6e(o,u,s4(-c));return!(!d||!d.hasEvenY()||d.toAffine().x!==a)}catch{return!1}}ss.schnorr={getPublicKey:T6e,sign:I6e,verify:QL,utils:{randomPrivateKey:ss.secp256k1.utils.randomPrivateKey,lift_x:ZL,pointToBytes:uT,numberToBytesBE:Yo.numberToBytesBE,bytesToNumberBE:Yo.bytesToNumberBE,taggedHash:sy,mod:Vs.mod}};var P6e=GL.isogenyMap(wl,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),O6e=(0,w6e.mapToCurveSimpleSWU)(wl,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:wl.create(BigInt("-11"))});iT=GL.createHasher(ss.secp256k1.ProjectivePoint,t=>{let{x:e,y:r}=O6e(wl.create(t[0]));return P6e(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:wl.ORDER,m:1,k:128,expand:"xmd",hash:ry.sha256}),ss.hashToCurve=iT.hashToCurve,ss.encodeToCurve=iT.encodeToCurve});var nU=j(xl=>{"use strict";B();M();Object.defineProperty(xl,"__esModule",{value:!0});xl.poseidon=xl.splitConstants=xl.validateOpts=void 0;var tU=pp();function rU(t){let{Fp:e}=t;(0,tU.validateField)(e);for(let u of["t","roundsFull","roundsPartial"])if(typeof t[u]!="number"||!Number.isSafeInteger(t[u]))throw new Error(`Poseidon: invalid param ${u}=${t[u]} (${typeof t[u]})`);if(t.reversePartialPowIdx!==void 0&&typeof t.reversePartialPowIdx!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${t.reversePartialPowIdx}`);let r=t.sboxPower;if(r===void 0&&(r=5),typeof r!="number"||!Number.isSafeInteger(r))throw new Error(`Poseidon wrong sboxPower=${r}`);let n=BigInt(r),i=u=>(0,tU.FpPow)(e,u,n);if(r===3?i=u=>e.mul(e.sqrN(u),u):r===5&&(i=u=>e.mul(e.sqrN(e.sqrN(u)),u)),t.roundsFull%2!==0)throw new Error(`Poseidon roundsFull is not even: ${t.roundsFull}`);let s=t.roundsFull+t.roundsPartial;if(!Array.isArray(t.roundConstants)||t.roundConstants.length!==s)throw new Error("Poseidon: wrong round constants");let o=t.roundConstants.map(u=>{if(!Array.isArray(u)||u.length!==t.t)throw new Error(`Poseidon wrong round constants: ${u}`);return u.map(c=>{if(typeof c!="bigint"||!e.isValid(c))throw new Error(`Poseidon wrong round constant=${c}`);return e.create(c)})});if(!Array.isArray(t.mds)||t.mds.length!==t.t)throw new Error("Poseidon: wrong MDS matrix");let a=t.mds.map(u=>{if(!Array.isArray(u)||u.length!==t.t)throw new Error(`Poseidon MDS matrix row: ${u}`);return u.map(c=>{if(typeof c!="bigint")throw new Error(`Poseidon MDS matrix value=${c}`);return e.create(c)})});return Object.freeze({...t,rounds:s,sboxFn:i,roundConstants:o,mds:a})}xl.validateOpts=rU;function B6e(t,e){if(typeof e!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(t)||t.length%e)throw new Error("poseidonSplitConstants: wrong rc");let r=[],n=[];for(let i=0;i<t.length;i++)n.push(t[i]),n.length===e&&(r.push(n),n=[]);return r}xl.splitConstants=B6e;function M6e(t){let{t:e,Fp:r,rounds:n,sboxFn:i,reversePartialPowIdx:s}=rU(t),o=Math.floor(t.roundsFull/2),a=s?e-1:0,u=(d,f,m)=>(d=d.map((p,y)=>r.add(p,t.roundConstants[m][y])),f?d=d.map(p=>i(p)):d[a]=i(d[a]),d=t.mds.map(p=>p.reduce((y,w,P)=>r.add(y,r.mulN(w,d[P])),r.ZERO)),d),c=function(f){if(!Array.isArray(f)||f.length!==e)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${e})`);f=f.map(p=>{if(typeof p!="bigint")throw new Error(`Poseidon: wrong value=${p} (${typeof p})`);return r.create(p)});let m=0;for(let p=0;p<o;p++)f=u(f,!0,m++);for(let p=0;p<t.roundsPartial;p++)f=u(f,!1,m++);for(let p=0;p<o;p++)f=u(f,!0,m++);if(m!==n)throw new Error(`Poseidon: wrong number of rounds: last round=${m}, total=${n}`);return f};return c.roundConstants=t.roundConstants,c}xl.poseidon=M6e});var gU=j(Et=>{"use strict";B();M();var k6e=Et&&Et.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),C6e=Et&&Et.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),R6e=Et&&Et.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&k6e(e,t,r);return C6e(e,t),e};Object.defineProperty(Et,"__esModule",{value:!0});Et.poseidonHashMany=Et.poseidonHashSingle=Et.poseidonHashFunc=Et.poseidonHash=Et.poseidonSmall=Et.poseidonCreate=Et.poseidonBasic=Et._poseidonMDS=Et.Fp251=Et.Fp253=Et.keccak=Et.computeHashOnElements=Et.hashChain=Et.pedersen=Et.getAccountPath=Et.ethSigToPrivate=Et.getStarkKey=Et.grindKey=Et.utils=Et.Signature=Et.ProjectivePoint=Et.CURVE=Et.verify=Et.sign=Et.getSharedSecret=Et.getPublicKey=Et._starkCurve=void 0;var N6e=w8(),hT=B5(),F6e=_o(),gp=pp(),H6e=nU(),D6e=ty(),Xo=R6e(Hd()),L6e=nT(),cy=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),oU=252;function iU(t){for(;t[0]===0;)t=t.subarray(1);let e=t.length*8-oU,r=Xo.bytesToNumberBE(t);return e>0?r>>BigInt(e):r}function aU(t){return typeof t=="string"&&(t=pT(t),t.length&1&&(t="0"+t)),Xo.hexToBytes(t)}var mp=(0,D6e.weierstrass)({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:(0,gp.Field)(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:cy,nBitLength:oU,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...(0,L6e.getHash)(hT.sha256),bits2int:iU,bits2int_modN:t=>{let e=Xo.bytesToNumberBE(t).toString(16);return e.length===63&&(t=aU(e+"0")),(0,gp.mod)(iU(t),cy)}});Et._starkCurve=mp;function bp(t){return Xo.ensureBytes("",typeof t=="string"?aU(t):t)}function lT(t){return Xo.bytesToHex(bp(t)).padStart(64,"0")}function uU(t,e=!1){return mp.getPublicKey(lT(t),e)}Et.getPublicKey=uU;function U6e(t,e){return mp.getSharedSecret(lT(t),e)}Et.getSharedSecret=U6e;function q6e(t,e,r){return mp.sign(bp(t),lT(e),r)}Et.sign=q6e;function j6e(t,e,r){let n=t instanceof cU?t:bp(t);return mp.verify(n,bp(e),bp(r))}Et.verify=j6e;var{CURVE:K6e,ProjectivePoint:n2,Signature:cU,utils:$6e}=mp;Et.CURVE=K6e;Et.ProjectivePoint=n2;Et.Signature=cU;Et.utils=$6e;function fU(t){return`0x${Xo.bytesToHex(t.subarray(1)).replace(/^0+/gm,"")}`}function pT(t){return t.replace(/^0x/i,"")}function z6e(t){return`0x${t.toString(16)}`}function dU(t){let e=bp(t),r=2n**256n,n=r-(0,gp.mod)(r,cy);for(let i=0;;i++){let s=fT(Xo.concatBytes(e,Xo.numberToVarBytesBE(BigInt(i))));if(s<n)return(0,gp.mod)(s,cy).toString(16);if(i===1e5)throw new Error("grindKey is broken: tried 100k vals")}}Et.grindKey=dU;function V6e(t){return fU(uU(t,!0))}Et.getStarkKey=V6e;function G6e(t){if(t=pT(t),t.length!==130)throw new Error("Wrong ethereum signature");return dU(t.substring(0,64))}Et.ethSigToPrivate=G6e;var W6e=2n**31n-1n,uy=t=>Number(t&W6e);function Y6e(t,e,r,n){let i=uy(fT(t)),s=uy(fT(e)),o=Xo.hexToNumber(pT(r));return`m/2645'/${i}'/${s}'/${uy(o)}'/${uy(o>>31n)}'/${n}`}Et.getAccountPath=Y6e;var o4=[new n2(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new n2(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new n2(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new n2(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new n2(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function hU(t,e){let r=[],n=t;for(let i=0;i<248;i++)r.push(n),n=n.double();n=e;for(let i=0;i<4;i++)r.push(n),n=n.double();return r}var X6e=hU(o4[1],o4[2]),Z6e=hU(o4[3],o4[4]);function lU(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"){if(!Number.isSafeInteger(t))throw new Error(`Invalid pedersenArg: ${t}`);e=BigInt(t)}else e=Xo.bytesToNumberBE(bp(t));if(!(0n<=e&&e<mp.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${e}`);return e}function sU(t,e,r){let n=lU(e);for(let i=0;i<252;i++){let s=r[i];if(s.equals(t))throw new Error("Same point");(n&1n)!==0n&&(t=t.add(s)),n>>=1n}return t}function bT(t,e){let r=o4[0];return r=sU(r,t,X6e),r=sU(r,e,Z6e),fU(r.toRawBytes(!0))}Et.pedersen=bT;function J6e(t,e=bT){if(!Array.isArray(t)||t.length<1)throw new Error("data should be array of at least 1 element");return t.length===1?z6e(lU(t[0])):Array.from(t).reverse().reduce((r,n)=>e(n,r))}Et.hashChain=J6e;var Q6e=(t,e=bT)=>[0,...t,t.length].reduce((r,n)=>e(r,n));Et.computeHashOnElements=Q6e;var epe=Xo.bitMask(250),tpe=t=>Xo.bytesToNumberBE((0,N6e.keccak_256)(t))&epe;Et.keccak=tpe;var fT=t=>Xo.bytesToNumberBE((0,hT.sha256)(t));Et.Fp253=(0,gp.Field)(BigInt("14474011154664525231415395255581126252639794253786371766033694892385558855681"));Et.Fp251=(0,gp.Field)(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function dT(t,e,r){let n=t.fromBytes((0,hT.sha256)((0,F6e.utf8ToBytes)(`${e}${r}`)));return t.create(n)}function pU(t,e,r,n=0){let i=[],s=[];for(let o=0;o<r;o++)i.push(dT(t,`${e}x`,n*r+o)),s.push(dT(t,`${e}y`,n*r+o));if(new Set([...i,...s]).size!==2*r)throw new Error("X and Y values are not distinct");return i.map(o=>s.map(a=>t.inv(t.sub(o,a))))}Et._poseidonMDS=pU;var rpe=[[3,1,1],[1,-1,1],[1,1,-2]].map(t=>t.map(BigInt));function gT(t,e){if((0,gp.validateField)(t.Fp),!Number.isSafeInteger(t.rate)||!Number.isSafeInteger(t.capacity))throw new Error(`Wrong poseidon opts: ${t}`);let r=t.rate+t.capacity,n=t.roundsFull+t.roundsPartial,i=[];for(let o=0;o<n;o++){let a=[];for(let u=0;u<r;u++)a.push(dT(t.Fp,"Hades",r*o+u));i.push(a)}let s=(0,H6e.poseidon)({...t,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:e,roundConstants:i});return s.m=r,s.rate=t.rate,s.capacity=t.capacity,s}Et.poseidonBasic=gT;function npe(t,e=0){let r=t.rate+t.capacity;if(!Number.isSafeInteger(e))throw new Error(`Wrong mdsAttempt=${e}`);return gT(t,pU(t.Fp,"HadesMDS",r,e))}Et.poseidonCreate=npe;Et.poseidonSmall=gT({Fp:Et.Fp251,rate:2,capacity:1,roundsFull:8,roundsPartial:83},rpe);function bU(t,e,r=Et.poseidonSmall){return r([t,e,2n])[0]}Et.poseidonHash=bU;function ipe(t,e,r=Et.poseidonSmall){return Xo.numberToVarBytesBE(bU(Xo.bytesToNumberBE(t),Xo.bytesToNumberBE(e),r))}Et.poseidonHashFunc=ipe;function spe(t,e=Et.poseidonSmall){return e([t,0n,1n])[0]}Et.poseidonHashSingle=spe;function ope(t,e=Et.poseidonSmall){let{m:r,rate:n}=e;if(!Array.isArray(t))throw new Error("bigint array expected in values");let i=Array.from(t);for(i.push(1n);i.length%n!==0;)i.push(0n);let s=new Array(r).fill(0n);for(let o=0;o<i.length;o+=n){for(let a=0;a<n;a++)s[a]+=i[o+a];s=e(s)}return s[0]}Et.poseidonHashMany=ope});var vU=j(Zo=>{"use strict";B();M();var ape=Zo&&Zo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),upe=Zo&&Zo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mU=Zo&&Zo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ape(e,t,r);return upe(e,t),e};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.bytesToHex=Zo.hexToBytes=Zo.stark=Zo.secp256k1=void 0;Zo.secp256k1=mU(eU());Zo.stark=mU(gU());var yU=Hd();Object.defineProperty(Zo,"hexToBytes",{enumerable:!0,get:function(){return yU.hexToBytes}});Object.defineProperty(Zo,"bytesToHex",{enumerable:!0,get:function(){return yU.bytesToHex}})});var _U=j(Jo=>{"use strict";B();M();var cpe=Jo&&Jo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fpe=Jo&&Jo.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fy=Jo&&Jo.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cpe(e,t,r);return fpe(e,t),e};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.schnorr=Jo.p256=Jo.ed25519=Jo.secp256k1=void 0;Jo.secp256k1=fy(fL());Jo.ed25519=fy(yL());Jo.p256=fy(wL());Jo.schnorr=fy(vU())});var wU=j(i2=>{"use strict";B();M();var dpe=i2&&i2.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i2,"__esModule",{value:!0});i2.Decimal=void 0;var yp=dpe(Is()),SU=100,os=class{static fromUserInput(e,r){os.verifyFractionalDigits(r);let n=e.match(/[^0-9.]/);if(n)throw new Error(`Invalid character at position ${n.index+1}`);let i,s;if(e.search(/\./)===-1)i=e,s="";else{let a=e.split(".");switch(a.length){case 0:case 1:throw new Error("Fewer than two elements in split result. This must not happen here.");case 2:if(!a[1])throw new Error("Fractional part missing");i=a[0],s=a[1].replace(/0+$/,"");break;default:throw new Error("More than one separator found")}}if(s.length>r)throw new Error("Got more fractional digits than supported");let o=`${i}${s.padEnd(r,"0")}`;return new os(o,r)}static fromAtomics(e,r){return os.verifyFractionalDigits(r),new os(e,r)}static zero(e){return os.verifyFractionalDigits(e),new os("0",e)}static one(e){return os.verifyFractionalDigits(e),new os("1"+"0".repeat(e),e)}static verifyFractionalDigits(e){if(!Number.isInteger(e))throw new Error("Fractional digits is not an integer");if(e<0)throw new Error("Fractional digits must not be negative");if(e>SU)throw new Error(`Fractional digits must not exceed ${SU}`)}static compare(e,r){if(e.fractionalDigits!==r.fractionalDigits)throw new Error("Fractional digits do not match");return e.data.atomics.cmp(new yp.default(r.atomics))}get atomics(){return this.data.atomics.toString()}get fractionalDigits(){return this.data.fractionalDigits}constructor(e,r){this.data={atomics:new yp.default(e),fractionalDigits:r}}toString(){let e=new yp.default(10).pow(new yp.default(this.data.fractionalDigits)),r=this.data.atomics.div(e),n=this.data.atomics.mod(e);if(n.isZero())return r.toString();{let s=n.toString().padStart(this.data.fractionalDigits,"0").replace(/0+$/,"");return`${r.toString()}.${s}`}}toFloatApproximation(){let e=Number(this.toString());if(Number.isNaN(e))throw new Error("Conversion to number failed");return e}plus(e){if(this.fractionalDigits!==e.fractionalDigits)throw new Error("Fractional digits do not match");let r=this.data.atomics.add(new yp.default(e.atomics));return new os(r.toString(),this.fractionalDigits)}minus(e){if(this.fractionalDigits!==e.fractionalDigits)throw new Error("Fractional digits do not match");let r=this.data.atomics.sub(new yp.default(e.atomics));if(r.ltn(0))throw new Error("Difference must not be negative");return new os(r.toString(),this.fractionalDigits)}multiply(e){let r=this.data.atomics.mul(new yp.default(e.toString()));return new os(r.toString(),this.fractionalDigits)}equals(e){return os.compare(this,e)===0}isLessThan(e){return os.compare(this,e)<0}isLessThanOrEqual(e){return os.compare(this,e)<=0}isGreaterThan(e){return os.compare(this,e)>0}isGreaterThanOrEqual(e){return os.compare(this,e)>=0}};i2.Decimal=os});var xU=j(sc=>{"use strict";B();M();var hpe=sc&&sc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sc,"__esModule",{value:!0});sc.Uint64=sc.Uint53=sc.Int53=sc.Uint32=void 0;var dy=hpe(Is()),lpe=new dy.default("18446744073709551615",10,"be"),vp=class{static fromBigEndianBytes(e){return vp.fromBytes(e)}static fromBytes(e,r="be"){if(e.length!==4)throw new Error("Invalid input length. Expected 4 bytes.");for(let i=0;i<e.length;++i)if(!Number.isInteger(e[i])||e[i]>255||e[i]<0)throw new Error("Invalid value in byte. Found: "+e[i]);let n=r==="be"?e:Array.from(e).reverse();return new vp(n[0]*2**24+n[1]*2**16+n[2]*2**8+n[3])}static fromString(e){if(!e.match(/^[0-9]+$/))throw new Error("Invalid string format");return new vp(Number.parseInt(e,10))}constructor(e){if(Number.isNaN(e))throw new Error("Input is not a number");if(!Number.isInteger(e))throw new Error("Input is not an integer");if(e<0||e>4294967295)throw new Error("Input not in uint32 range: "+e.toString());this.data=e}toBytesBigEndian(){return new Uint8Array([Math.floor(this.data/2**24)&255,Math.floor(this.data/2**16)&255,Math.floor(this.data/2**8)&255,Math.floor(this.data/2**0)&255])}toBytesLittleEndian(){return new Uint8Array([Math.floor(this.data/2**0)&255,Math.floor(this.data/2**8)&255,Math.floor(this.data/2**16)&255,Math.floor(this.data/2**24)&255])}toNumber(){return this.data}toString(){return this.data.toString()}};sc.Uint32=vp;var _p=class{static fromString(e){if(!e.match(/^-?[0-9]+$/))throw new Error("Invalid string format");return new _p(Number.parseInt(e,10))}constructor(e){if(Number.isNaN(e))throw new Error("Input is not a number");if(!Number.isInteger(e))throw new Error("Input is not an integer");if(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER)throw new Error("Input not in int53 range: "+e.toString());this.data=e}toNumber(){return this.data}toString(){return this.data.toString()}};sc.Int53=_p;var a4=class{static fromString(e){let r=_p.fromString(e);return new a4(r.toNumber())}constructor(e){let r=new _p(e);if(r.toNumber()<0)throw new Error("Input is negative");this.data=r}toNumber(){return this.data.toNumber()}toString(){return this.data.toString()}};sc.Uint53=a4;var El=class{static fromBytesBigEndian(e){return El.fromBytes(e)}static fromBytes(e,r="be"){if(e.length!==8)throw new Error("Invalid input length. Expected 8 bytes.");for(let i=0;i<e.length;++i)if(!Number.isInteger(e[i])||e[i]>255||e[i]<0)throw new Error("Invalid value in byte. Found: "+e[i]);let n=r==="be"?Array.from(e):Array.from(e).reverse();return new El(new dy.default(n))}static fromString(e){if(!e.match(/^[0-9]+$/))throw new Error("Invalid string format");return new El(new dy.default(e,10,"be"))}static fromNumber(e){if(Number.isNaN(e))throw new Error("Input is not a number");if(!Number.isInteger(e))throw new Error("Input is not an integer");let r;try{r=new dy.default(e)}catch{throw new Error("Input is not a safe integer")}return new El(r)}constructor(e){if(e.isNeg())throw new Error("Input is negative");if(e.gt(lpe))throw new Error("Input exceeds uint64 range");this.data=e}toBytesBigEndian(){return Uint8Array.from(this.data.toArray("be",8))}toBytesLittleEndian(){return Uint8Array.from(this.data.toArray("le",8))}toString(){return this.data.toString(10)}toNumber(){return this.data.toNumber()}};sc.Uint64=El});var EU=j(oc=>{"use strict";B();M();Object.defineProperty(oc,"__esModule",{value:!0});oc.Uint64=oc.Uint53=oc.Uint32=oc.Int53=oc.Decimal=void 0;var ppe=wU();Object.defineProperty(oc,"Decimal",{enumerable:!0,get:function(){return ppe.Decimal}});var hy=xU();Object.defineProperty(oc,"Int53",{enumerable:!0,get:function(){return hy.Int53}});Object.defineProperty(oc,"Uint32",{enumerable:!0,get:function(){return hy.Uint32}});Object.defineProperty(oc,"Uint53",{enumerable:!0,get:function(){return hy.Uint53}});Object.defineProperty(oc,"Uint64",{enumerable:!0,get:function(){return hy.Uint64}})});var IU=j((TU,mT)=>{B();M();var AU=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=null;try{e=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function r(b,_,x){this.low=b|0,this.high=_|0,this.unsigned=!!x}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0});function n(b){return(b&&b.__isLong__)===!0}function i(b){var _=Math.clz32(b&-b);return b?31-_:_}r.isLong=n;var s={},o={};function a(b,_){var x,I,A;return _?(b>>>=0,(A=0<=b&&b<256)&&(I=o[b],I)?I:(x=c(b,0,!0),A&&(o[b]=x),x)):(b|=0,(A=-128<=b&&b<128)&&(I=s[b],I)?I:(x=c(b,b<0?-1:0,!1),A&&(s[b]=x),x))}r.fromInt=a;function u(b,_){if(isNaN(b))return _?k:T;if(_){if(b<0)return k;if(b>=P)return N}else{if(b<=-C)return g;if(b+1>=C)return D}return b<0?u(-b,_).neg():c(b%w|0,b/w|0,_)}r.fromNumber=u;function c(b,_,x){return new r(b,_,x)}r.fromBits=c;var d=Math.pow;function f(b,_,x){if(b.length===0)throw Error("empty string");if(typeof _=="number"?(x=_,_=!1):_=!!_,b==="NaN"||b==="Infinity"||b==="+Infinity"||b==="-Infinity")return _?k:T;if(x=x||10,x<2||36<x)throw RangeError("radix");var I;if((I=b.indexOf("-"))>0)throw Error("interior hyphen");if(I===0)return f(b.substring(1),_,x).neg();for(var A=u(d(x,8)),v=T,S=0;S<b.length;S+=8){var O=Math.min(8,b.length-S),q=parseInt(b.substring(S,S+O),x);if(O<8){var J=u(d(x,O));v=v.mul(J).add(u(q))}else v=v.mul(A),v=v.add(u(q))}return v.unsigned=_,v}r.fromString=f;function m(b,_){return typeof b=="number"?u(b,_):typeof b=="string"?f(b,_):c(b.low,b.high,typeof _=="boolean"?_:b.unsigned)}r.fromValue=m;var p=1<<16,y=1<<24,w=p*p,P=w*w,C=P/2,R=a(y),T=a(0);r.ZERO=T;var k=a(0,!0);r.UZERO=k;var H=a(1);r.ONE=H;var F=a(1,!0);r.UONE=F;var L=a(-1);r.NEG_ONE=L;var D=c(-1,2147483647,!1);r.MAX_VALUE=D;var N=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=N;var g=c(0,-2147483648,!1);r.MIN_VALUE=g;var h=r.prototype;h.toInt=function(){return this.unsigned?this.low>>>0:this.low},h.toNumber=function(){return this.unsigned?(this.high>>>0)*w+(this.low>>>0):this.high*w+(this.low>>>0)},h.toString=function(_){if(_=_||10,_<2||36<_)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(g)){var x=u(_),I=this.div(x),A=I.mul(x).sub(this);return I.toString(_)+A.toInt().toString(_)}else return"-"+this.neg().toString(_);for(var v=u(d(_,6),this.unsigned),S=this,O="";;){var q=S.div(v),J=S.sub(q.mul(v)).toInt()>>>0,ne=J.toString(_);if(S=q,S.isZero())return ne+O;for(;ne.length<6;)ne="0"+ne;O=""+ne+O}},h.getHighBits=function(){return this.high},h.getHighBitsUnsigned=function(){return this.high>>>0},h.getLowBits=function(){return this.low},h.getLowBitsUnsigned=function(){return this.low>>>0},h.getNumBitsAbs=function(){if(this.isNegative())return this.eq(g)?64:this.neg().getNumBitsAbs();for(var _=this.high!=0?this.high:this.low,x=31;x>0&&(_&1<<x)==0;x--);return this.high!=0?x+33:x+1},h.isZero=function(){return this.high===0&&this.low===0},h.eqz=h.isZero,h.isNegative=function(){return!this.unsigned&&this.high<0},h.isPositive=function(){return this.unsigned||this.high>=0},h.isOdd=function(){return(this.low&1)===1},h.isEven=function(){return(this.low&1)===0},h.equals=function(_){return n(_)||(_=m(_)),this.unsigned!==_.unsigned&&this.high>>>31===1&&_.high>>>31===1?!1:this.high===_.high&&this.low===_.low},h.eq=h.equals,h.notEquals=function(_){return!this.eq(_)},h.neq=h.notEquals,h.ne=h.notEquals,h.lessThan=function(_){return this.comp(_)<0},h.lt=h.lessThan,h.lessThanOrEqual=function(_){return this.comp(_)<=0},h.lte=h.lessThanOrEqual,h.le=h.lessThanOrEqual,h.greaterThan=function(_){return this.comp(_)>0},h.gt=h.greaterThan,h.greaterThanOrEqual=function(_){return this.comp(_)>=0},h.gte=h.greaterThanOrEqual,h.ge=h.greaterThanOrEqual,h.compare=function(_){if(n(_)||(_=m(_)),this.eq(_))return 0;var x=this.isNegative(),I=_.isNegative();return x&&!I?-1:!x&&I?1:this.unsigned?_.high>>>0>this.high>>>0||_.high===this.high&&_.low>>>0>this.low>>>0?-1:1:this.sub(_).isNegative()?-1:1},h.comp=h.compare,h.negate=function(){return!this.unsigned&&this.eq(g)?g:this.not().add(H)},h.neg=h.negate,h.add=function(_){n(_)||(_=m(_));var x=this.high>>>16,I=this.high&65535,A=this.low>>>16,v=this.low&65535,S=_.high>>>16,O=_.high&65535,q=_.low>>>16,J=_.low&65535,ne=0,oe=0,le=0,pe=0;return pe+=v+J,le+=pe>>>16,pe&=65535,le+=A+q,oe+=le>>>16,le&=65535,oe+=I+O,ne+=oe>>>16,oe&=65535,ne+=x+S,ne&=65535,c(le<<16|pe,ne<<16|oe,this.unsigned)},h.subtract=function(_){return n(_)||(_=m(_)),this.add(_.neg())},h.sub=h.subtract,h.multiply=function(_){if(this.isZero())return this;if(n(_)||(_=m(_)),e){var x=e.mul(this.low,this.high,_.low,_.high);return c(x,e.get_high(),this.unsigned)}if(_.isZero())return this.unsigned?k:T;if(this.eq(g))return _.isOdd()?g:T;if(_.eq(g))return this.isOdd()?g:T;if(this.isNegative())return _.isNegative()?this.neg().mul(_.neg()):this.neg().mul(_).neg();if(_.isNegative())return this.mul(_.neg()).neg();if(this.lt(R)&&_.lt(R))return u(this.toNumber()*_.toNumber(),this.unsigned);var I=this.high>>>16,A=this.high&65535,v=this.low>>>16,S=this.low&65535,O=_.high>>>16,q=_.high&65535,J=_.low>>>16,ne=_.low&65535,oe=0,le=0,pe=0,G=0;return G+=S*ne,pe+=G>>>16,G&=65535,pe+=v*ne,le+=pe>>>16,pe&=65535,pe+=S*J,le+=pe>>>16,pe&=65535,le+=A*ne,oe+=le>>>16,le&=65535,le+=v*J,oe+=le>>>16,le&=65535,le+=S*q,oe+=le>>>16,le&=65535,oe+=I*ne+A*J+v*q+S*O,oe&=65535,c(pe<<16|G,oe<<16|le,this.unsigned)},h.mul=h.multiply,h.divide=function(_){if(n(_)||(_=m(_)),_.isZero())throw Error("division by zero");if(e){if(!this.unsigned&&this.high===-2147483648&&_.low===-1&&_.high===-1)return this;var x=(this.unsigned?e.div_u:e.div_s)(this.low,this.high,_.low,_.high);return c(x,e.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?k:T;var I,A,v;if(this.unsigned){if(_.unsigned||(_=_.toUnsigned()),_.gt(this))return k;if(_.gt(this.shru(1)))return F;v=k}else{if(this.eq(g)){if(_.eq(H)||_.eq(L))return g;if(_.eq(g))return H;var S=this.shr(1);return I=S.div(_).shl(1),I.eq(T)?_.isNegative()?H:L:(A=this.sub(_.mul(I)),v=I.add(A.div(_)),v)}else if(_.eq(g))return this.unsigned?k:T;if(this.isNegative())return _.isNegative()?this.neg().div(_.neg()):this.neg().div(_).neg();if(_.isNegative())return this.div(_.neg()).neg();v=T}for(A=this;A.gte(_);){I=Math.max(1,Math.floor(A.toNumber()/_.toNumber()));for(var O=Math.ceil(Math.log(I)/Math.LN2),q=O<=48?1:d(2,O-48),J=u(I),ne=J.mul(_);ne.isNegative()||ne.gt(A);)I-=q,J=u(I,this.unsigned),ne=J.mul(_);J.isZero()&&(J=H),v=v.add(J),A=A.sub(ne)}return v},h.div=h.divide,h.modulo=function(_){if(n(_)||(_=m(_)),e){var x=(this.unsigned?e.rem_u:e.rem_s)(this.low,this.high,_.low,_.high);return c(x,e.get_high(),this.unsigned)}return this.sub(this.div(_).mul(_))},h.mod=h.modulo,h.rem=h.modulo,h.not=function(){return c(~this.low,~this.high,this.unsigned)},h.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32},h.clz=h.countLeadingZeros,h.countTrailingZeros=function(){return this.low?i(this.low):i(this.high)+32},h.ctz=h.countTrailingZeros,h.and=function(_){return n(_)||(_=m(_)),c(this.low&_.low,this.high&_.high,this.unsigned)},h.or=function(_){return n(_)||(_=m(_)),c(this.low|_.low,this.high|_.high,this.unsigned)},h.xor=function(_){return n(_)||(_=m(_)),c(this.low^_.low,this.high^_.high,this.unsigned)},h.shiftLeft=function(_){return n(_)&&(_=_.toInt()),(_&=63)===0?this:_<32?c(this.low<<_,this.high<<_|this.low>>>32-_,this.unsigned):c(0,this.low<<_-32,this.unsigned)},h.shl=h.shiftLeft,h.shiftRight=function(_){return n(_)&&(_=_.toInt()),(_&=63)===0?this:_<32?c(this.low>>>_|this.high<<32-_,this.high>>_,this.unsigned):c(this.high>>_-32,this.high>=0?0:-1,this.unsigned)},h.shr=h.shiftRight,h.shiftRightUnsigned=function(_){return n(_)&&(_=_.toInt()),(_&=63)===0?this:_<32?c(this.low>>>_|this.high<<32-_,this.high>>>_,this.unsigned):_===32?c(this.high,0,this.unsigned):c(this.high>>>_-32,0,this.unsigned)},h.shru=h.shiftRightUnsigned,h.shr_u=h.shiftRightUnsigned,h.rotateLeft=function(_){var x;return n(_)&&(_=_.toInt()),(_&=63)===0?this:_===32?c(this.high,this.low,this.unsigned):_<32?(x=32-_,c(this.low<<_|this.high>>>x,this.high<<_|this.low>>>x,this.unsigned)):(_-=32,x=32-_,c(this.high<<_|this.low>>>x,this.low<<_|this.high>>>x,this.unsigned))},h.rotl=h.rotateLeft,h.rotateRight=function(_){var x;return n(_)&&(_=_.toInt()),(_&=63)===0?this:_===32?c(this.high,this.low,this.unsigned):_<32?(x=32-_,c(this.high<<x|this.low>>>_,this.low<<x|this.high>>>_,this.unsigned)):(_-=32,x=32-_,c(this.low<<x|this.high>>>_,this.high<<x|this.low>>>_,this.unsigned))},h.rotr=h.rotateRight,h.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},h.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},h.toBytes=function(_){return _?this.toBytesLE():this.toBytesBE()},h.toBytesLE=function(){var _=this.high,x=this.low;return[x&255,x>>>8&255,x>>>16&255,x>>>24,_&255,_>>>8&255,_>>>16&255,_>>>24]},h.toBytesBE=function(){var _=this.high,x=this.low;return[_>>>24,_>>>16&255,_>>>8&255,_&255,x>>>24,x>>>16&255,x>>>8&255,x&255]},r.fromBytes=function(_,x,I){return I?r.fromBytesLE(_,x):r.fromBytesBE(_,x)},r.fromBytesLE=function(_,x){return new r(_[0]|_[1]<<8|_[2]<<16|_[3]<<24,_[4]|_[5]<<8|_[6]<<16|_[7]<<24,x)},r.fromBytesBE=function(_,x){return new r(_[4]<<24|_[5]<<16|_[6]<<8|_[7],_[0]<<24|_[1]<<16|_[2]<<8|_[3],x)};var l=r;return t.default=l,"default"in t?t.default:t}({});typeof define=="function"&&define.amd?define([],function(){return AU}):typeof mT=="object"&&typeof TU=="object"&&(mT.exports=AU)});var dn=j(ar=>{"use strict";B();M();var PU=ar&&ar.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bpe=ar&&ar.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vf=ar&&ar.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PU(e,t,r);return bpe(e,t),e},OU=ar&&ar.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&PU(e,t,r)},ly=ar&&ar.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ar,"__esModule",{value:!0});ar.secp256k1=ar.ed25519=ar.Long=ar._m0=ar.protobuf=ar.typeforce=ar.safeBuffer=ar.BigNumber=ar.BN=ar.math=ar.signUtil=ar.abi=ar.elliptic=ar.bip39=ar.bip32=ar.base=void 0;ar.base=vf(op());ar.bip32=vf(MD());ar.bip39=vf(LA());ar.elliptic=vf(Z5());ar.abi=vf(iL());ar.signUtil=vf(_U());ar.math=vf(EU());var gpe=ly(Is());ar.BN=gpe.default;var mpe=ly(jce());ar.BigNumber=mpe.default;var ype=ly(I5());ar.safeBuffer=ype.default;var vpe=EF();ar.typeforce=vpe;ar.protobuf=vf($ce());ar._m0=vf(zce());var _pe=ly(IU());ar.Long=_pe.default;ar.ed25519=vf(Vce());ar.secp256k1=vf(Gce());OU((Yce(),LE(Wce)),ar);OU((Zce(),LE(Xce)),ar)});var Qo=j(Ht=>{"use strict";B();M();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.oneOf=Ht.Null=Ht.BufferN=Ht.Function=Ht.UInt32=Ht.UInt8=Ht.tuple=Ht.maybe=Ht.Hex=Ht.Buffer=Ht.String=Ht.Boolean=Ht.Array=Ht.Number=Ht.Hash256bit=Ht.Hash160bit=Ht.Buffer256bit=Ht.isTaptree=Ht.isTapleaf=Ht.TAPLEAF_VERSION_MASK=Ht.Satoshi=Ht.Signer=Ht.BIP32Path=Ht.UInt31=Ht.isPoint=Ht.typeforce=void 0;var py=$i(),Bi=dn();Object.defineProperty(Ht,"typeforce",{enumerable:!0,get:function(){return Bi.typeforce}});var BU=py.Buffer.alloc(32,0),MU=py.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function Spe(t){if(!py.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(BU)===0||r.compare(MU)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(BU)===0||n.compare(MU)>=0?!1:e===4&&t.length===65}Ht.isPoint=Spe;var wpe=Math.pow(2,31)-1;function xpe(t){return Bi.typeforce.UInt32(t)&&t<=wpe}Ht.UInt31=xpe;function kU(t){return Bi.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}Ht.BIP32Path=kU;kU.toJSON=()=>"BIP32 derivation path";function Epe(t){return(Bi.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}Ht.Signer=Epe;var Ape=21*1e14;function Tpe(t){return Bi.typeforce.UInt53(t)&&t<=Ape}Ht.Satoshi=Tpe;Ht.TAPLEAF_VERSION_MASK=254;function CU(t){return!t||!("output"in t)||!py.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&Ht.TAPLEAF_VERSION_MASK)===t.version:!0}Ht.isTapleaf=CU;function RU(t){return(0,Ht.Array)(t)?t.length!==2?!1:t.every(e=>RU(e)):CU(t)}Ht.isTaptree=RU;Ht.Buffer256bit=Bi.typeforce.BufferN(32);Ht.Hash160bit=Bi.typeforce.BufferN(20);Ht.Hash256bit=Bi.typeforce.BufferN(32);Ht.Number=Bi.typeforce.Number;Ht.Array=Bi.typeforce.Array;Ht.Boolean=Bi.typeforce.Boolean;Ht.String=Bi.typeforce.String;Ht.Buffer=Bi.typeforce.Buffer;Ht.Hex=Bi.typeforce.Hex;Ht.maybe=Bi.typeforce.maybe;Ht.tuple=Bi.typeforce.tuple;Ht.UInt8=Bi.typeforce.UInt8;Ht.UInt32=Bi.typeforce.UInt32;Ht.Function=Bi.typeforce.Function;Ht.BufferN=Bi.typeforce.BufferN;Ht.Null=Bi.typeforce.Null;Ht.oneOf=Bi.typeforce.oneOf});var UU=j(ac=>{"use strict";B();M();var Ipe=ac&&ac.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ppe=ac&&ac.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DU=ac&&ac.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ipe(e,t,r);return Ppe(e,t),e};Object.defineProperty(ac,"__esModule",{value:!0});ac.encode=ac.decode=void 0;var LU=DU($E()),yT=DU(Qo()),{typeforce:Ope}=yT,NU=E.Buffer.alloc(1,0);function FU(t){let e=0;for(;t[e]===0;)++e;return e===t.length?NU:(t=t.slice(e),t[0]&128?E.Buffer.concat([NU,t],1+t.length):t)}function HU(t){t[0]===0&&(t=t.slice(1));let e=E.Buffer.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function Bpe(t){let e=t.readUInt8(t.length-1),r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=LU.decode(t.slice(0,-1)),i=HU(n.r),s=HU(n.s);return{signature:E.Buffer.concat([i,s],64),hashType:e}}ac.decode=Bpe;function Mpe(t,e){Ope({signature:yT.BufferN(64),hashType:yT.UInt8},{signature:t,hashType:e});let r=e&-193;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=E.Buffer.allocUnsafe(1);n.writeUInt8(e,0);let i=FU(t.slice(0,32)),s=FU(t.slice(32,64));return E.Buffer.concat([LU.encode(i,s),n])}ac.encode=Mpe});var as=j(ln=>{"use strict";B();M();var kpe=ln&&ln.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cpe=ln&&ln.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c4=ln&&ln.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kpe(e,t,r);return Cpe(e,t),e};Object.defineProperty(ln,"__esModule",{value:!0});ln.signature=ln.number=ln.isCanonicalScriptSignature=ln.isDefinedHashType=ln.isCanonicalPubKey=ln.toStack=ln.fromASM=ln.toASM=ln.decompile=ln.compile=ln.isPushOnly=ln.OPS=void 0;var Rpe=c4($E()),Va=ep();Object.defineProperty(ln,"OPS",{enumerable:!0,get:function(){return Va.OPS}});var vT=c4(PF()),qU=c4(OF()),Npe=c4(UU()),m0=c4(Qo()),{typeforce:u4}=m0,jU=Va.OPS.OP_RESERVED;function Fpe(t){return m0.Number(t)&&(t===Va.OPS.OP_0||t>=Va.OPS.OP_1&&t<=Va.OPS.OP_16||t===Va.OPS.OP_1NEGATE)}function Hpe(t){return m0.Buffer(t)||Fpe(t)}function KU(t){return m0.Array(t)&&t.every(Hpe)}ln.isPushOnly=KU;function by(t){if(t.length===0)return Va.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return jU+t[0];if(t[0]===129)return Va.OPS.OP_1NEGATE}}function $U(t){return E.Buffer.isBuffer(t)}function Dpe(t){return m0.Array(t)}function gy(t){return E.Buffer.isBuffer(t)}function zU(t){if($U(t))return t;u4(m0.Array,t);let e=t.reduce((i,s)=>gy(s)?s.length===1&&by(s)!==void 0?i+1:i+vT.encodingLength(s.length)+s.length:i+1,0),r=E.Buffer.allocUnsafe(e),n=0;if(t.forEach(i=>{if(gy(i)){let s=by(i);if(s!==void 0){r.writeUInt8(s,n),n+=1;return}n+=vT.encode(r,i.length,n),i.copy(r,n),n+=i.length}else r.writeUInt8(i,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}ln.compile=zU;function _T(t){if(Dpe(t))return t;u4(m0.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Va.OPS.OP_0&&n<=Va.OPS.OP_PUSHDATA4){let i=vT.decode(t,r);if(i===null||(r+=i.size,r+i.number>t.length))return null;let s=t.slice(r,r+i.number);r+=i.number;let o=by(s);o!==void 0?e.push(o):e.push(s)}else e.push(n),r+=1}return e}ln.decompile=_T;function Lpe(t){return $U(t)&&(t=_T(t)),t.map(e=>{if(gy(e)){let r=by(e);if(r===void 0)return e.toString("hex");e=r}return Va.REVERSE_OPS[e]}).join(" ")}ln.toASM=Lpe;function Upe(t){return u4(m0.String,t),zU(t.split(" ").map(e=>Va.OPS[e]!==void 0?Va.OPS[e]:(u4(m0.Hex,e),E.Buffer.from(e,"hex"))))}ln.fromASM=Upe;function qpe(t){return t=_T(t),u4(KU,t),t.map(e=>gy(e)?e:e===Va.OPS.OP_0?E.Buffer.allocUnsafe(0):qU.encode(e-jU))}ln.toStack=qpe;function jpe(t){return m0.isPoint(t)}ln.isCanonicalPubKey=jpe;function VU(t){let e=t;return e&128&&(e=e&-129),e&64&&(e=e&-65),e>0&&e<4}ln.isDefinedHashType=VU;function Kpe(t){return!E.Buffer.isBuffer(t)||!VU(t[t.length-1])?!1:Rpe.check(t.slice(0,-1))}ln.isCanonicalScriptSignature=Kpe;ln.number=qU;ln.signature=Npe});var Ld=j(s2=>{"use strict";B();M();Object.defineProperty(s2,"__esModule",{value:!0});s2.value=s2.prop=void 0;function $pe(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}s2.prop=$pe;function zpe(t){let e;return()=>(e!==void 0||(e=t()),e)}s2.value=zpe});var XU=j(y0=>{"use strict";B();M();var Vpe=y0&&y0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gpe=y0&&y0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YU=y0&&y0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Vpe(e,t,r);return Gpe(e,t),e};Object.defineProperty(y0,"__esModule",{value:!0});y0.p2data=void 0;var Wpe=Au(),my=YU(as()),Ud=Qo(),GU=YU(Ld()),WU=my.OPS;function Ype(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Xpe(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ud.typeforce)({network:Ud.typeforce.maybe(Ud.typeforce.Object),output:Ud.typeforce.maybe(Ud.typeforce.Buffer),data:Ud.typeforce.maybe(Ud.typeforce.arrayOf(Ud.typeforce.Buffer))},t);let n={name:"embed",network:t.network||Wpe.bitcoin};if(GU.prop(n,"output",()=>{if(!!t.data)return my.compile([WU.OP_RETURN].concat(t.data))}),GU.prop(n,"data",()=>{if(!!t.output)return my.decompile(t.output).slice(1)}),e.validate&&t.output){let i=my.decompile(t.output);if(i[0]!==WU.OP_RETURN)throw new TypeError("Output is invalid");if(!i.slice(1).every(Ud.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!Ype(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}y0.p2data=Xpe});var QU=j(v0=>{"use strict";B();M();var Zpe=v0&&v0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Jpe=v0&&v0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),JU=v0&&v0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Zpe(e,t,r);return Jpe(e,t),e};Object.defineProperty(v0,"__esModule",{value:!0});v0.p2ms=void 0;var Qpe=Au(),o2=JU(as()),Bs=Qo(),Al=JU(Ld()),a2=o2.OPS,yy=a2.OP_RESERVED;function ZU(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function e7e(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(u){return o2.isCanonicalScriptSignature(u)||(e.allowIncomplete&&u===a2.OP_0)!==void 0}(0,Bs.typeforce)({network:Bs.typeforce.maybe(Bs.typeforce.Object),m:Bs.typeforce.maybe(Bs.typeforce.Number),n:Bs.typeforce.maybe(Bs.typeforce.Number),output:Bs.typeforce.maybe(Bs.typeforce.Buffer),pubkeys:Bs.typeforce.maybe(Bs.typeforce.arrayOf(Bs.isPoint)),signatures:Bs.typeforce.maybe(Bs.typeforce.arrayOf(r)),input:Bs.typeforce.maybe(Bs.typeforce.Buffer)},t);let i={network:t.network||Qpe.bitcoin},s=[],o=!1;function a(u){o||(o=!0,s=o2.decompile(u),i.m=s[0]-yy,i.n=s[s.length-2]-yy,i.pubkeys=s.slice(1,-2))}if(Al.prop(i,"output",()=>{if(!!t.m&&!!i.n&&!!t.pubkeys)return o2.compile([].concat(yy+t.m,t.pubkeys,yy+i.n,a2.OP_CHECKMULTISIG))}),Al.prop(i,"m",()=>{if(!!i.output)return a(i.output),i.m}),Al.prop(i,"n",()=>{if(!!i.pubkeys)return i.pubkeys.length}),Al.prop(i,"pubkeys",()=>{if(!!t.output)return a(t.output),i.pubkeys}),Al.prop(i,"signatures",()=>{if(!!t.input)return o2.decompile(t.input).slice(1)}),Al.prop(i,"input",()=>{if(!!t.signatures)return o2.compile([a2.OP_0].concat(t.signatures))}),Al.prop(i,"witness",()=>{if(!!i.input)return[]}),Al.prop(i,"name",()=>{if(!(!i.m||!i.n))return`p2ms(${i.m} of ${i.n})`}),e.validate){if(t.output){if(a(t.output),!Bs.typeforce.Number(s[0]))throw new TypeError("Output is invalid");if(!Bs.typeforce.Number(s[s.length-2]))throw new TypeError("Output is invalid");if(s[s.length-1]!==a2.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(i.m<=0||i.n>16||i.m>i.n||i.n!==s.length-3)throw new TypeError("Output is invalid");if(!i.pubkeys.every(u=>(0,Bs.isPoint)(u)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==i.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==i.n)throw new TypeError("n mismatch");if(t.pubkeys&&!ZU(t.pubkeys,i.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(i.n=t.pubkeys.length,i.n<i.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<i.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>i.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==a2.OP_0)throw new TypeError("Input is invalid");if(i.signatures.length===0||!i.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!ZU(t.signatures,i.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(i,t)}v0.p2ms=e7e});var rq=j(_0=>{"use strict";B();M();var t7e=_0&&_0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),r7e=_0&&_0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tq=_0&&_0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&t7e(e,t,r);return r7e(e,t),e};Object.defineProperty(_0,"__esModule",{value:!0});_0.p2pk=void 0;var n7e=Au(),c2=tq(as()),_f=Qo(),u2=tq(Ld()),eq=c2.OPS;function i7e(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,_f.typeforce)({network:_f.typeforce.maybe(_f.typeforce.Object),output:_f.typeforce.maybe(_f.typeforce.Buffer),pubkey:_f.typeforce.maybe(_f.isPoint),signature:_f.typeforce.maybe(c2.isCanonicalScriptSignature),input:_f.typeforce.maybe(_f.typeforce.Buffer)},t);let r=u2.value(()=>c2.decompile(t.input)),i={name:"p2pk",network:t.network||n7e.bitcoin};if(u2.prop(i,"output",()=>{if(!!t.pubkey)return c2.compile([t.pubkey,eq.OP_CHECKSIG])}),u2.prop(i,"pubkey",()=>{if(!!t.output)return t.output.slice(1,-1)}),u2.prop(i,"signature",()=>{if(!!t.input)return r()[0]}),u2.prop(i,"input",()=>{if(!!t.signature)return c2.compile([t.signature])}),u2.prop(i,"witness",()=>{if(!!i.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==eq.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,_f.isPoint)(i.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(i.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(i.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!c2.isCanonicalScriptSignature(i.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(i,t)}_0.p2pk=i7e});var xo=j(uc=>{"use strict";B();M();Object.defineProperty(uc,"__esModule",{value:!0});uc.taggedHash=uc.hash256=uc.hash160=uc.sha256=uc.ripemd160=void 0;var nq=dn();function iq(t){return E.Buffer.from(nq.base.ripemd160(t))}uc.ripemd160=iq;function f2(t){return E.Buffer.from(nq.base.sha256(t))}uc.sha256=f2;function s7e(t){return iq(f2(t))}uc.hash160=s7e;function o7e(t){return f2(f2(t))}uc.hash256=o7e;var a7e=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],u7e=Object.fromEntries(a7e.map(t=>{let e=f2(E.Buffer.from(t));return[t,E.Buffer.concat([e,e])]}));function c7e(t,e){return f2(E.Buffer.concat([u7e[t],e]))}uc.taggedHash=c7e});var oq=j(S0=>{"use strict";B();M();var f7e=S0&&S0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),d7e=S0&&S0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wT=S0&&S0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&f7e(e,t,r);return d7e(e,t),e};Object.defineProperty(S0,"__esModule",{value:!0});S0.p2pkh=void 0;var ST=wT(xo()),h7e=Au(),d2=wT(as()),_a=Qo(),qd=wT(Ld()),Tl=d2.OPS,sq=dn();function l7e(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,_a.typeforce)({network:_a.typeforce.maybe(_a.typeforce.Object),address:_a.typeforce.maybe(_a.typeforce.String),hash:_a.typeforce.maybe(_a.typeforce.BufferN(20)),output:_a.typeforce.maybe(_a.typeforce.BufferN(25)),pubkey:_a.typeforce.maybe(_a.isPoint),signature:_a.typeforce.maybe(d2.isCanonicalScriptSignature),input:_a.typeforce.maybe(_a.typeforce.Buffer)},t);let r=qd.value(()=>{let o=sq.base.fromBase58Check(t.address),a=o.readUInt8(0),u=o.slice(1);return{version:a,hash:u}}),n=qd.value(()=>d2.decompile(t.input)),i=t.network||h7e.bitcoin,s={name:"p2pkh",network:i};if(qd.prop(s,"address",()=>{if(!s.hash)return;let o=E.Buffer.allocUnsafe(21);return o.writeUInt8(i.pubKeyHash,0),s.hash.copy(o,1),sq.base.toBase58Check(o)}),qd.prop(s,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||s.pubkey)return ST.hash160(t.pubkey||s.pubkey)}),qd.prop(s,"output",()=>{if(!!s.hash)return d2.compile([Tl.OP_DUP,Tl.OP_HASH160,s.hash,Tl.OP_EQUALVERIFY,Tl.OP_CHECKSIG])}),qd.prop(s,"pubkey",()=>{if(!!t.input)return n()[1]}),qd.prop(s,"signature",()=>{if(!!t.input)return n()[0]}),qd.prop(s,"input",()=>{if(!!t.pubkey&&!!t.signature)return d2.compile([t.signature,t.pubkey])}),qd.prop(s,"witness",()=>{if(!!s.input)return[]}),e.validate){let o=E.Buffer.from([]);if(t.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");o=r().hash}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==Tl.OP_DUP||t.output[1]!==Tl.OP_HASH160||t.output[2]!==20||t.output[23]!==Tl.OP_EQUALVERIFY||t.output[24]!==Tl.OP_CHECKSIG)throw new TypeError("Output is invalid");let a=t.output.slice(3,23);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.pubkey){let a=ST.hash160(t.pubkey);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.input){let a=n();if(a.length!==2)throw new TypeError("Input is invalid");if(!d2.isCanonicalScriptSignature(a[0]))throw new TypeError("Input has invalid signature");if(!(0,_a.isPoint)(a[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(a[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(a[1]))throw new TypeError("Pubkey mismatch");let u=ST.hash160(a[1]);if(o.length>0&&!o.equals(u))throw new TypeError("Hash mismatch")}}return Object.assign(s,t)}S0.p2pkh=l7e});var cq=j(x0=>{"use strict";B();M();var p7e=x0&&x0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),b7e=x0&&x0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xT=x0&&x0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&p7e(e,t,r);return b7e(e,t),e};Object.defineProperty(x0,"__esModule",{value:!0});x0.p2sh=void 0;var aq=xT(xo()),g7e=Au(),jd=xT(as()),ui=Qo(),w0=xT(Ld()),uq=dn(),vy=jd.OPS;function m7e(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function y7e(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,ui.typeforce)({network:ui.typeforce.maybe(ui.typeforce.Object),address:ui.typeforce.maybe(ui.typeforce.String),hash:ui.typeforce.maybe(ui.typeforce.BufferN(20)),output:ui.typeforce.maybe(ui.typeforce.BufferN(23)),redeem:ui.typeforce.maybe({network:ui.typeforce.maybe(ui.typeforce.Object),output:ui.typeforce.maybe(ui.typeforce.Buffer),input:ui.typeforce.maybe(ui.typeforce.Buffer),witness:ui.typeforce.maybe(ui.typeforce.arrayOf(ui.typeforce.Buffer))}),input:ui.typeforce.maybe(ui.typeforce.Buffer),witness:ui.typeforce.maybe(ui.typeforce.arrayOf(ui.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||g7e.bitcoin);let n={network:r},i=w0.value(()=>{let a=uq.base.fromBase58Check(t.address),u=a.readUInt8(0),c=a.slice(1);return{version:u,hash:c}}),s=w0.value(()=>jd.decompile(t.input)),o=w0.value(()=>{let a=s();return{network:r,output:a[a.length-1],input:jd.compile(a.slice(0,-1)),witness:t.witness||[]}});if(w0.prop(n,"address",()=>{if(!n.hash)return;let a=E.Buffer.allocUnsafe(21);return a.writeUInt8(n.network.scriptHash,0),n.hash.copy(a,1),uq.base.toBase58Check(a)}),w0.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return i().hash;if(n.redeem&&n.redeem.output)return aq.hash160(n.redeem.output)}),w0.prop(n,"output",()=>{if(!!n.hash)return jd.compile([vy.OP_HASH160,n.hash,vy.OP_EQUAL])}),w0.prop(n,"redeem",()=>{if(!!t.input)return o()}),w0.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return jd.compile([].concat(jd.decompile(t.redeem.input),t.redeem.output))}),w0.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),w0.prop(n,"name",()=>{let a=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&a.push(n.redeem.name),a.join("-")}),e.validate){let a=E.Buffer.from([]);if(t.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");a=i().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==vy.OP_HASH160||t.output[1]!==20||t.output[22]!==vy.OP_EQUAL)throw new TypeError("Output is invalid");let c=t.output.slice(2,22);if(a.length>0&&!a.equals(c))throw new TypeError("Hash mismatch");a=c}let u=c=>{if(c.output){let d=jd.decompile(c.output);if(!d||d.length<1)throw new TypeError("Redeem.output too short");let f=aq.hash160(c.output);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(c.input){let d=c.input.length>0,f=c.witness&&c.witness.length>0;if(!d&&!f)throw new TypeError("Empty input");if(d&&f)throw new TypeError("Input and witness provided");if(d){let m=jd.decompile(c.input);if(!jd.isPushOnly(m))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let c=s();if(!c||c.length<1)throw new TypeError("Input too short");if(!E.Buffer.isBuffer(o().output))throw new TypeError("Input is invalid");u(o())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let c=o();if(t.redeem.output&&!t.redeem.output.equals(c.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(c.input))throw new TypeError("Redeem.input mismatch")}u(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!m7e(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}x0.p2sh=y7e});var dq=j(E0=>{"use strict";B();M();var v7e=E0&&E0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_7e=E0&&E0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AT=E0&&E0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&v7e(e,t,r);return _7e(e,t),e};Object.defineProperty(E0,"__esModule",{value:!0});E0.p2wpkh=void 0;var ET=AT(xo()),S7e=Au(),Sy=AT(as()),Ms=Qo(),Il=AT(Ld()),_y=dn(),fq=Sy.OPS,w7e=E.Buffer.alloc(0);function x7e(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ms.typeforce)({address:Ms.typeforce.maybe(Ms.typeforce.String),hash:Ms.typeforce.maybe(Ms.typeforce.BufferN(20)),input:Ms.typeforce.maybe(Ms.typeforce.BufferN(0)),network:Ms.typeforce.maybe(Ms.typeforce.Object),output:Ms.typeforce.maybe(Ms.typeforce.BufferN(22)),pubkey:Ms.typeforce.maybe(Ms.isPoint),signature:Ms.typeforce.maybe(Sy.isCanonicalScriptSignature),witness:Ms.typeforce.maybe(Ms.typeforce.arrayOf(Ms.typeforce.Buffer))},t);let r=Il.value(()=>{let s=_y.base.bech32.decode(t.address),o=s.words.shift(),a=_y.base.bech32.fromWords(s.words);return{version:o,prefix:s.prefix,data:E.Buffer.from(a)}}),n=t.network||S7e.bitcoin,i={name:"p2wpkh",network:n};if(Il.prop(i,"address",()=>{if(!i.hash)return;let s=_y.base.bech32.toWords(i.hash);return s.unshift(0),_y.base.bech32.encode(n.bech32,s)}),Il.prop(i,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||i.pubkey)return ET.hash160(t.pubkey||i.pubkey)}),Il.prop(i,"output",()=>{if(!!i.hash)return Sy.compile([fq.OP_0,i.hash])}),Il.prop(i,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(!!t.witness)return t.witness[1]}),Il.prop(i,"signature",()=>{if(!!t.witness)return t.witness[0]}),Il.prop(i,"input",()=>{if(!!i.witness)return w7e}),Il.prop(i,"witness",()=>{if(!!t.pubkey&&!!t.signature)return[t.signature,t.pubkey]}),e.validate){let s=E.Buffer.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==fq.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(s.length>0&&!s.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");s=t.output.slice(2)}if(t.pubkey){let o=ET.hash160(t.pubkey);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch");if(s=o,!(0,Ms.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!Sy.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,Ms.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let o=ET.hash160(t.witness[1]);if(s.length>0&&!s.equals(o))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}E0.p2wpkh=x7e});var pq=j(A0=>{"use strict";B();M();var E7e=A0&&A0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A7e=A0&&A0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),IT=A0&&A0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&E7e(e,t,r);return A7e(e,t),e};Object.defineProperty(A0,"__esModule",{value:!0});A0.p2wsh=void 0;var hq=IT(xo()),T7e=Au(),Pl=IT(as()),Zn=Qo(),Kd=IT(Ld()),wy=dn(),lq=Pl.OPS,TT=E.Buffer.alloc(0);function I7e(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function xy(t){return!!(E.Buffer.isBuffer(t)&&t.length===65&&t[0]===4&&(0,Zn.isPoint)(t))}function P7e(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Zn.typeforce)({network:Zn.typeforce.maybe(Zn.typeforce.Object),address:Zn.typeforce.maybe(Zn.typeforce.String),hash:Zn.typeforce.maybe(Zn.typeforce.BufferN(32)),output:Zn.typeforce.maybe(Zn.typeforce.BufferN(34)),redeem:Zn.typeforce.maybe({input:Zn.typeforce.maybe(Zn.typeforce.Buffer),network:Zn.typeforce.maybe(Zn.typeforce.Object),output:Zn.typeforce.maybe(Zn.typeforce.Buffer),witness:Zn.typeforce.maybe(Zn.typeforce.arrayOf(Zn.typeforce.Buffer))}),input:Zn.typeforce.maybe(Zn.typeforce.BufferN(0)),witness:Zn.typeforce.maybe(Zn.typeforce.arrayOf(Zn.typeforce.Buffer))},t);let r=Kd.value(()=>{let o=wy.base.bech32.decode(t.address),a=o.words.shift(),u=wy.base.bech32.fromWords(o.words);return{version:a,prefix:o.prefix,data:E.Buffer.from(u)}}),n=Kd.value(()=>Pl.decompile(t.redeem.input)),i=t.network;i||(i=t.redeem&&t.redeem.network||T7e.bitcoin);let s={network:i};if(Kd.prop(s,"address",()=>{if(!s.hash)return;let o=wy.base.bech32.toWords(s.hash);return o.unshift(0),wy.base.bech32.encode(i.bech32,o)}),Kd.prop(s,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.redeem&&s.redeem.output)return hq.sha256(s.redeem.output)}),Kd.prop(s,"output",()=>{if(!!s.hash)return Pl.compile([lq.OP_0,s.hash])}),Kd.prop(s,"redeem",()=>{if(!!t.witness)return{output:t.witness[t.witness.length-1],input:TT,witness:t.witness.slice(0,-1)}}),Kd.prop(s,"input",()=>{if(!!s.witness)return TT}),Kd.prop(s,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let o=Pl.toStack(n());return s.redeem=Object.assign({witness:o},t.redeem),s.redeem.input=TT,[].concat(o,t.redeem.output)}if(!!t.redeem&&!!t.redeem.output&&!!t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),Kd.prop(s,"name",()=>{let o=["p2wsh"];return s.redeem!==void 0&&s.redeem.name!==void 0&&o.push(s.redeem.name),o.join("-")}),e.validate){let o=E.Buffer.from([]);if(t.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");o=r().data}if(t.hash){if(o.length>0&&!o.equals(t.hash))throw new TypeError("Hash mismatch");o=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==lq.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let a=t.output.slice(2);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.redeem){if(t.redeem.network&&t.redeem.network!==i)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){if(Pl.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");let a=hq.sha256(t.redeem.output);if(o.length>0&&!o.equals(a))throw new TypeError("Hash mismatch");o=a}if(t.redeem.input&&!Pl.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!I7e(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(xy)||t.redeem.output&&(Pl.decompile(t.redeem.output)||[]).some(xy))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let a=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(a))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(xy)||(Pl.decompile(a)||[]).some(xy))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(s,t)}A0.p2wsh=P7e});var BT=j((bJe,gq)=>{"use strict";B();M();var PT=I5().Buffer,O7e=9007199254740991;function OT(t){if(t<0||t>O7e||t%1!==0)throw new RangeError("value out of range")}function f4(t,e,r){if(OT(t),e||(e=PT.allocUnsafe(bq(t))),!PT.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),f4.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),f4.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),f4.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),f4.bytes=9),e}function d4(t,e){if(!PT.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return d4.bytes=1,r;if(r===253)return d4.bytes=3,t.readUInt16LE(e+1);if(r===254)return d4.bytes=5,t.readUInt32LE(e+1);d4.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return OT(s),s}function bq(t){return OT(t),t<253?1:t<=65535?3:t<=4294967295?5:9}gq.exports={encode:f4,decode:d4,encodingLength:bq}});var Ol=j(Mi=>{"use strict";B();M();var B7e=Mi&&Mi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),M7e=Mi&&Mi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),mq=Mi&&Mi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&B7e(e,t,r);return M7e(e,t),e};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.BufferReader=Mi.BufferWriter=Mi.cloneBuffer=Mi.reverseBuffer=Mi.writeUInt64LE=Mi.readUInt64LE=Mi.varuint=void 0;var Sp=mq(Qo()),{typeforce:yq}=Sp,h4=mq(BT());Mi.varuint=h4;function vq(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function _q(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,vq(n+r,9007199254740991),n+r}Mi.readUInt64LE=_q;function Sq(t,e,r){return vq(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}Mi.writeUInt64LE=Sq;function k7e(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}Mi.reverseBuffer=k7e;function C7e(t){let e=E.Buffer.allocUnsafe(t.length);return t.copy(e),e}Mi.cloneBuffer=C7e;var l4=class{static withCapacity(e){return new l4(E.Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,yq(Sp.tuple(Sp.Buffer,Sp.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=Sq(this.buffer,e,this.offset)}writeVarInt(e){h4.encode(e,this.buffer,this.offset),this.offset+=h4.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};Mi.BufferWriter=l4;var MT=class{constructor(e,r=0){this.buffer=e,this.offset=r,yq(Sp.tuple(Sp.Buffer,Sp.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=_q(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=h4.decode(this.buffer,this.offset);return this.offset+=h4.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};Mi.BufferReader=MT});var RT=j(T0=>{"use strict";B();M();Object.defineProperty(T0,"__esModule",{value:!0});T0.encode=T0.decode=T0.encodeRaw=T0.decodeRaw=void 0;var kT=dn();function wq(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}T0.decodeRaw=wq;function CT(t,e,r){let n=E.Buffer.alloc(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}T0.encodeRaw=CT;function R7e(t,e){return wq(kT.base.fromBase58Check(t),e)}T0.decode=R7e;function N7e(t,e,r){return typeof t=="number"?kT.base.toBase58Check(CT(t,e,r)):kT.base.toBase58Check(CT(t.version,t.privateKey,t.compressed))}T0.encode=N7e});var h2=j(Ga=>{"use strict";B();M();var F7e=Ga&&Ga.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),H7e=Ga&&Ga.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),D7e=Ga&&Ga.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&F7e(e,t,r);return H7e(e,t),e};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.countAdjustedVsize=Ga.convertScriptSigAsm=Ga.countScriptSigops=void 0;var L7e=ep(),U7e=Iu(),xq=dn(),q7e=D7e(Wa());function p4(t,e=!1,r=!1){if(!t?.length)return 0;let n=0;if(n+=t.match(/OP_CHECKSIG/g)?.length||0,e)n+=20*(t.match(/OP_CHECKMULTISIG/g)?.length||0);else{let i=t.matchAll(/(?:OP_(?:PUSHNUM_)?(\d+))? OP_CHECKMULTISIG/g);for(let s of i){let o=parseInt(s[1]);Number.isInteger(o)?n+=o:n+=20}}return r?n:n*4}Ga.countScriptSigops=p4;function b4(t){if(t?.length==0)return"";let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>=1&&n<=78){r++;let i;n===76?(i=t.readUInt8(r),e.push("OP_PUSHDATA1"),r+=1):n===77?(i=t.readUInt16LE(r),e.push("OP_PUSHDATA2"),r+=2):n===78?(i=t.readUInt32LE(r),e.push("OP_PUSHDATA4"),r+=4):(i=n,e.push("OP_PUSHBYTES_"+i));let s=t.slice(r,r+i);if(s.length!==i)break;e.push(s.toString("hex")),r+=s.length}else{if(n===0)e.push("OP_0");else if(n===79)e.push("OP_PUSHNUM_NEG1");else if(n===177)e.push("OP_CLTV");else if(n===178)e.push("OP_CSV");else if(n===186)e.push("OP_CHECKSIGADD");else{let i=L7e.REVERSE_OPS[n];i&&n<253?/^OP_(\d+)$/.test(i)?e.push(i.replace(/^OP_(\d+)$/,"OP_PUSHNUM_$1")):e.push(i):e.push("OP_RETURN_"+n)}r+=1}}return e.join(" ")}Ga.convertScriptSigAsm=b4;function j7e(t,e,r){if(t==null)return 0;r==null&&(r=q7e.networks.bitcoin);let n=0;(e!=null||null)&&e.length==t.ins.length&&t.ins.forEach((s,o)=>{if(s.script!=null&&(n+=p4(b4(s.script),!0)),e.length<=o||e[o]==null||null||e[o]=="")return;let a=(0,U7e.getAddressType)(e[o],r);switch(!0){case(a==="segwit_nested"&&s.witness?.length===2&&s.script&&xq.base.toHex(s.script).startsWith("160014")):case a==="segwit_native":n+=1;break;case(a==="segwit_nested"&&s.witness?.length&&s.script&&xq.base.toHex(s.script).startsWith("220020")):case a==="segwit_native":s.witness?.length&&(n+=p4(b4(s.witness[s.witness.length-1]),!1,!0));break;case a==="segwit_nested":s.script&&(n+=p4(b4(s.script)));break}});for(let s of t.outs)s&&(n+=p4(b4(s.script),!0));let i=t.virtualSize();return i>n*5?i:n*5}Ga.countAdjustedVsize=j7e});var Iu=j(gr=>{"use strict";B();M();var K7e=gr&&gr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$7e=gr&&gr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),g4=gr&&gr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&K7e(e,t,r);return $7e(e,t),e};Object.defineProperty(gr,"__esModule",{value:!0});gr.fakeSign=gr.estimateBchFee=gr.estimateBtcFee=gr.ValidSignedTransaction=gr.getMPCTransaction=gr.calculateBchTxSize=gr.calculateTxSize=gr.signBch=gr.getAddressType=gr.signBtc=gr.TxBuild=gr.private2Wif=gr.wif2Public=gr.sign=gr.private2public=gr.privateKeyFromWIF=gr.Array=void 0;var Ur=g4(Wa()),Aq=Wa(),Tt=dn(),Tq=g4(RT()),Eq=l2(),Iq=g4(xo()),Pq=g4(I0()),$d=g4(as()),Bl=ep(),z7e=h2(),Oq=Tt.signUtil.schnorr.secp256k1.schnorr;gr.Array=Tt.typeforce.Array;function NT(t,e){let r=Tq.decode(t),n=r.version;if((0,gr.Array)(e)){if(e=e.filter(i=>n===i.wif).pop(),!e)throw new Error("Unknown network version")}else if(e=e||Ur.networks.bitcoin,n!==e.wif)throw new Error("Invalid network version");return Tt.base.toHex(r.privateKey)}gr.privateKeyFromWIF=NT;function FT(t){return Tt.signUtil.secp256k1.publicKeyCreate(Tt.base.fromHex(t),!0)}gr.private2public=FT;function Ey(t,e){let{signature:r}=Tt.signUtil.secp256k1.sign(t,Tt.base.fromHex(e));return E.Buffer.from(r)}gr.sign=Ey;function V7e(t,e){let r=NT(t,e);return FT(r)}gr.wif2Public=V7e;function m4(t,e){return e=e||Ur.networks.bitcoin,Tq.encode(e.wif,t,!0)}gr.private2Wif=m4;var wp=class{constructor(e,r,n,i,s){this.tx=new Ur.Transaction,this.network=Ur.networks.bitcoin,e?this.tx.version=e:this.tx.version=2,r&&(this.network=r),this.inputs=[],this.outputs=[],this.bitcoinCash=n||!1,this.hardware=i||!1,this.fakeKey=s||!1}addInput(e,r,n,i,s,o,a,u){this.inputs.push({txId:e,index:r,privateKey:n,address:i,script:s,value:o,publicKey:a,sequence:u})}addOutput(e,r,n){this.outputs.push({address:e,value:r,omniScript:n})}build(e){let r=[];for(let n of this.inputs){let i=Tt.base.reverseBuffer(E.Buffer.from(n.txId,"hex"));this.tx.addInput(i,n.index,n.sequence),n.privateKey?r.push(NT(n.privateKey,this.network)):r.push("")}for(let n of this.outputs)if(n.omniScript)this.tx.addOutput(Tt.base.fromHex(n.omniScript),0);else{let i=Ur.address.toOutputScript(n.address,this.network);this.tx.addOutput(i,n.value)}if(this.hardware)return this.tx.toHex();for(let n=0;n<r.length;n++){let i=r[n],s;i?s=FT(i):this.hardware||(s=Tt.base.fromHex(this.inputs[n].publicKey));let o,a=Ur.Transaction.SIGHASH_ALL;if(this.bitcoinCash){let u=Ur.payments.p2pkh({pubkey:s}).output;a=Ur.Transaction.SIGHASH_ALL|Ur.Transaction.SIGHASH_BITCOINCASHBIP143;let c=this.inputs[n].value||0;o=this.tx.hashForCashSignature(n,u,c,a);let d;e?(e.push(Tt.base.toHex(o)),d=E.Buffer.alloc(64,0)):d=Ey(o,i);let f=Ur.payments.p2pkh({output:u,pubkey:s,signature:Ur.script.signature.encode(d,a)});f.input&&(this.tx.ins[n].script=f.input)}else{let u=Bq(this.inputs[n].address,this.network);if(this.fakeKey){let{witness:c,script:d}=Mq(u);c!==void 0&&(this.tx.ins[n].witness=c),d!==void 0&&(this.tx.ins[n].script=d);continue}if(u==="legacy"){let c=Ur.payments.p2pkh({pubkey:s}).output;o=this.tx.hashForSignature(n,c,a);let d;e?(e.push(Tt.base.toHex(o)),d=E.Buffer.alloc(64,0)):d=Ey(o,i);let f=Ur.payments.p2pkh({output:c,pubkey:s,signature:Ur.script.signature.encode(d,a)});f.input&&(this.tx.ins[n].script=f.input)}else if(u==="segwit_taproot"){let c=this.inputs.map(m=>Ur.address.toOutputScript(m.address,this.network)),d=this.inputs.map(m=>m.value);o=this.tx.hashForWitnessV1(n,c,d,Ur.Transaction.SIGHASH_DEFAULT);let f;if(e)e.push(Tt.base.toHex(o)),f=E.Buffer.alloc(64,0);else{let m=Pq.taprootTweakPrivKey(Tt.base.fromHex(i));f=E.Buffer.from(Oq.sign(o,m,Tt.base.randomBytes(32)))}this.tx.ins[n].witness=[E.Buffer.from(f)]}else{let c=Iq.hash160(s),d=E.Buffer.of(25,118,169,20,...c,136,172),f=this.inputs[n].value||0;o=this.tx.hashForWitness(n,d,f,a);let m;e?(e.push(Tt.base.toHex(o)),m=E.Buffer.alloc(64,0)):m=Ey(o,i),this.tx.ins[n].witness=[],this.tx.ins[n].witness.push(Ur.script.signature.encode(m,a)),this.tx.ins[n].witness.push(s);let p=E.Buffer.of(22,0,20,...c);u!=="segwit_native"&&(this.tx.ins[n].script=p)}}}return this.tx.toHex()}virtualSize(){return(0,z7e.countAdjustedVsize)(this.tx,this.inputs.map(e=>e.address),this.network||Ur.networks.bitcoin)}};gr.TxBuild=wp;function G7e(t,e,r,n,i,s){let o=t.inputs,a=t.outputs,u=t.address,c=t.feePerB||10,d=t.dustSize||546;if(r=r||Ur.networks.bitcoin,t.memo&&(Tt.base.isHexString(t.memo)?Tt.base.fromHex(t.memo):E.Buffer.from(Tt.base.toUtf8(t.memo))).length>80)throw new Error("data after op_return is  too long");let f=e;if(f||(f=m4(Tt.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r)),s){let{inputAmount:C,outputAmount:R,virtualSize:T}=Ay(o,a,u,f,r,d,!1,t.memo,t.memoPos);return(C-R-Math.ceil(T*c)).toString()}let{inputAmount:m,outputAmount:p,virtualSize:y}=Ay(o,a,u,f,r,d,!1,t.memo,t.memoPos),w=m-p-Math.ceil(y*c),P=new wp(2,r,!1,i);for(let C=0;C<o.length;C++){let R=o[C],T=R.privateKey||e,k=R.address||u;P.addInput(R.txId,R.vOut,T,k,R.reedScript,R.amount,R.publicKey,R.sequence)}t.memo&&t.memoPos==0&&P.addOutput("",0,Tt.base.toHex($d.compile([Bl.OPS.OP_RETURN].concat(Tt.base.isHexString(t.memo)?Tt.base.fromHex(t.memo):E.Buffer.from(Tt.base.toUtf8(t.memo))))));for(let C=0;C<a.length;C++){let R=a[C];P.addOutput(R.address,R.amount,R.omniScript),t.memo&&t.memoPos&&P.outputs.length==t.memoPos&&P.addOutput("",0,Tt.base.toHex($d.compile([Bl.OPS.OP_RETURN].concat(Tt.base.isHexString(t.memo)?Tt.base.fromHex(t.memo):E.Buffer.from(Tt.base.toUtf8(t.memo))))))}return w>d&&(P.addOutput(u,w),t.memo&&t.memoPos&&P.outputs.length==t.memoPos&&P.addOutput("",0,Tt.base.toHex($d.compile([Bl.OPS.OP_RETURN].concat(Tt.base.isHexString(t.memo)?Tt.base.fromHex(t.memo):E.Buffer.from(Tt.base.toUtf8(t.memo))))))),t.memo&&(t.memoPos==null||t.memoPos<0||t.memoPos>P.outputs.length)&&P.addOutput("",0,Tt.base.toHex($d.compile([Bl.OPS.OP_RETURN].concat(Tt.base.isHexString(t.memo)?Tt.base.fromHex(t.memo):E.Buffer.from(Tt.base.toUtf8(t.memo)))))),P.build(n)}gr.signBtc=G7e;function Bq(t,e){let r,n;try{r=(0,Eq.fromBase58Check)(t)}catch{}if(r){if(r.version===e.pubKeyHash)return"legacy";if(r.version===e.scriptHash)return"segwit_nested"}else{try{n=(0,Eq.fromBech32)(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0)return"segwit_native";if(n.version===1)return"segwit_taproot"}}return"legacy"}gr.getAddressType=Bq;function W7e(t,e,r,n,i){let s=t.inputs,o=t.outputs,a=t.address,u=t.feePerB||10,c=t.dustSize||546;r=r||Ur.networks.bitcoin;let d=e;d||(d=m4(Tt.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),r));let{inputAmount:f,outputAmount:m,virtualSize:p}=HT(s,o,a,d,r,c),y=f-m-p*u,w=new wp(2,r,!0,i);for(let P=0;P<s.length;P++){let C=s[P];w.addInput(C.txId,C.vOut,e,a,void 0,C.amount,C.publicKey,C.sequence)}for(let P=0;P<o.length;P++){let C=o[P];w.addOutput(C.address,C.amount)}return y>c&&w.addOutput(a,y),w.build(n)}gr.signBch=W7e;function Ay(t,e,r,n,i,s,o,a,u){let c=new wp(2,i,!1,o,!0),d=0;for(let y=0;y<t.length;y++){let w=t[y],P=w.privateKey||n,C=w.address||r;c.addInput(w.txId,w.vOut,P,C,w.reedScript,w.amount,w.publicKey,w.sequence),d=d+(w.amount||0)}a&&u==0&&c.addOutput("",0,Tt.base.toHex($d.compile([Bl.OPS.OP_RETURN].concat(Tt.base.isHexString(a)?Tt.base.fromHex(a):E.Buffer.from(Tt.base.toUtf8(a))))));let f=0;for(let y=0;y<e.length;y++){let w=e[y];c.addOutput(w.address,w.amount,w.omniScript),f=f+w.amount,a&&u&&c.outputs.length==u&&c.addOutput("",0,Tt.base.toHex($d.compile([Bl.OPS.OP_RETURN].concat(Tt.base.isHexString(a)?Tt.base.fromHex(a):E.Buffer.from(Tt.base.toUtf8(a))))))}d-f>s&&(c.addOutput(r,d-f),a&&u&&c.outputs.length==u&&c.addOutput("",0,Tt.base.toHex($d.compile([Bl.OPS.OP_RETURN].concat(Tt.base.isHexString(a)?Tt.base.fromHex(a):E.Buffer.from(Tt.base.toUtf8(a))))))),a&&(u==null||u<0||u>c.outputs.length)&&c.addOutput("",0,Tt.base.toHex($d.compile([Bl.OPS.OP_RETURN].concat(Tt.base.isHexString(a)?Tt.base.fromHex(a):E.Buffer.from(Tt.base.toUtf8(a))))));let m=c.build(),p=c.virtualSize();return{inputAmount:d,outputAmount:f,virtualSize:p,txHex:m}}gr.calculateTxSize=Ay;function HT(t,e,r,n,i,s,o){let a=new wp(2,i,!0,o),u=0;for(let m=0;m<t.length;m++){let p=t[m];a.addInput(p.txId,p.vOut,n,r,void 0,p.amount,p.publicKey,p.sequence),u=u+(p.amount||0)}let c=0;for(let m=0;m<e.length;m++){let p=e[m];a.addOutput(p.address,p.amount),c=c+p.amount}u-c>s&&a.addOutput(r,u-c);let d=a.build(),f=a.tx.virtualSize();return{inputAmount:u,outputAmount:c,virtualSize:f,txHex:d}}gr.calculateBchTxSize=HT;function Y7e(t,e,r){let n=Aq.Transaction.fromBuffer(Tt.base.fromHex(t),!1);for(let i=0;i<n.ins.length;i++){let s=n.ins[i],o=Tt.base.fromHex(e[i]),a=Ur.Transaction.SIGHASH_ALL;if(r){a=Ur.Transaction.SIGHASH_ALL|Ur.Transaction.SIGHASH_BITCOINCASHBIP143;let u=Ur.payments.p2pkh({input:s.script}),c=Ur.payments.p2pkh({pubkey:u.pubkey,signature:Ur.script.signature.encode(o,a)});c.input&&(s.script=c.input)}else{let u;if(s.witness.length===2)u="segwit_native";else if(s.witness.length===1)u="segwit_taproot";else if(s.witness.length===0)u="legacy";else throw Error("unknown witness length");if(u==="legacy"){let c=Ur.payments.p2pkh({input:s.script}),d=Ur.payments.p2pkh({pubkey:c.pubkey,signature:Ur.script.signature.encode(o,a)});d.input&&(s.script=d.input)}else u==="segwit_taproot"?s.witness=[o]:s.witness[0]=Ur.script.signature.encode(o,a)}}return n.toHex()}gr.getMPCTransaction=Y7e;function X7e(t,e,r){let n=Aq.Transaction.fromBuffer(Tt.base.fromHex(t),!1);if(!e)return n;for(let i=0;i<n.ins.length;i++){let s=n.ins[i],o=e[i],a;if(s.witness.length===2)a="segwit_native";else if(s.witness.length===1)a="segwit_taproot";else if(s.witness.length===0)a="legacy";else throw Error("unknown witness length");if(a==="legacy"){let u=$d.decompile(s.script),c=u[0],d=u[1],f=Ur.script.signature.decode(c),m=Ur.address.toOutputScript(o.address,r),p=n.hashForSignature(i,m,f.hashType);if(!Tt.signUtil.secp256k1.verifyWithNoRecovery(p,f.signature,d))throw Error("signature error")}else if(a==="segwit_native"){let u=s.witness[0],c=s.witness[1],d=Ur.script.signature.decode(u),f=E.Buffer.of(25,118,169,20,...Iq.hash160(c),136,172),m=n.hashForWitness(i,f,o.value,d.hashType);if(!Tt.signUtil.secp256k1.verifyWithNoRecovery(m,d.signature,c))throw Error("signature error")}else{let u=s.witness[0],c=e.map(p=>Ur.address.toOutputScript(p.address,r)),d=e.map(p=>p.value),f=n.hashForWitnessV1(i,c,d,Ur.Transaction.SIGHASH_DEFAULT),m=Pq.taprootTweakPubkey(Tt.base.fromHex(o.publicKey).slice(1))[0];if(!Oq.verify(Tt.base.toHex(u),Tt.base.toHex(f),Tt.base.toHex(m)))throw Error("signature error")}}for(let i of n.ins)i.hash=Tt.base.reverseBuffer(i.hash);return n}gr.ValidSignedTransaction=X7e;function Z7e(t,e){let r=t.inputs,n=t.outputs,i=t.feePerB||10,s=t.dustSize||546;e=e||Ur.networks.bitcoin;let o=m4(Tt.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e),{virtualSize:a}=Ay(r,n,t.address,o,e,s,!1,t.memo);return Math.ceil(a*i)}gr.estimateBtcFee=Z7e;function J7e(t,e){let r=t.inputs,n=t.outputs,i=t.feePerB||10,s=t.dustSize||546;e=e||Ur.networks.bitcoin;let o=m4(Tt.base.fromHex("853fd8960ff34838208d662ecd3b9f8cf413e13e0f74f95e554f8089f5058db0"),e),{virtualSize:a}=HT(r,n,t.address,o,e,s);return a*i}gr.estimateBchFee=J7e;function Mq(t){let e,r;return t==="segwit_taproot"?e=[E.Buffer.alloc(64)]:t==="legacy"?r=E.Buffer.alloc(107):(e=[E.Buffer.alloc(72),E.Buffer.alloc(33)],t==="segwit_nested"&&(r=E.Buffer.alloc(23))),{witness:e,script:r}}gr.fakeSign=Mq});var I0=j(Ml=>{"use strict";B();M();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.taprootSignSighash=Ml.taprootTweakPubkey=Ml.taprootTweakPrivKey=void 0;var DT=dn(),Q7e=Iu(),UT=DT.signUtil.schnorr.secp256k1,Ty=UT.schnorr,kq=UT.secp256k1.ProjectivePoint,LT=UT.secp256k1.CURVE.n;function Cq(t,e){let r=Ty.utils,n=r.taggedHash("TapTweak",t,e),i=r.bytesToNumberBE(n);if(i>=LT)throw new Error("tweak higher than curve order");return i}function Rq(t,e=new Uint8Array){let r=Ty.utils,n=r.bytesToNumberBE(t),i=kq.fromPrivateKey(n),s=i.hasEvenY()?n:r.mod(-n,LT),o=r.pointToBytes(i),a=Cq(o,e);return r.numberToBytesBE(r.mod(s+a,LT),32)}Ml.taprootTweakPrivKey=Rq;function e5e(t,e){e||(e=new Uint8Array);let r=Ty.utils,n=Cq(t,e),s=r.lift_x(r.bytesToNumberBE(t)).add(kq.fromPrivateKey(n)),o=s.hasEvenY()?0:1;return[r.pointToBytes(s),o]}Ml.taprootTweakPubkey=e5e;function t5e(t,e,r){let n=Rq(DT.base.fromHex((0,Q7e.privateKeyFromWIF)(t)));return e.map(s=>{let o=E.Buffer.from(Ty.sign(s,n,r));return DT.base.toHex(o)})}Ml.taprootSignSighash=t5e});var Iy=j(Jn=>{"use strict";B();M();var r5e=Jn&&Jn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),n5e=Jn&&Jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i5e=Jn&&Jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&r5e(e,t,r);return n5e(e,t),e};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.tweakKey=Jn.tapTweakHash=Jn.tapleafHash=Jn.findScriptPath=Jn.toHashTree=Jn.rootHashFromPath=Jn.MAX_TAPTREE_DEPTH=Jn.LEAF_VERSION_TAPSCRIPT=void 0;var kl=$i(),$T=i5e(xo()),Nq=Ol(),s5e=Qo(),o5e=I0();Jn.LEAF_VERSION_TAPSCRIPT=192;Jn.MAX_TAPTREE_DEPTH=128;var a5e=t=>"left"in t&&"right"in t;function u5e(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let i=0;i<r;i++){let s=t.slice(33+32*i,65+32*i);n.compare(s)<0?n=KT(n,s):n=KT(s,n)}return n}Jn.rootHashFromPath=u5e;function qT(t){if((0,s5e.isTapleaf)(t))return{hash:Fq(t)};let e=[qT(t[0]),qT(t[1])];e.sort((i,s)=>i.hash.compare(s.hash));let[r,n]=e;return{hash:KT(r.hash,n.hash),left:r,right:n}}Jn.toHashTree=qT;function jT(t,e){if(a5e(t)){let r=jT(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=jT(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}Jn.findScriptPath=jT;function Fq(t){let e=t.version||Jn.LEAF_VERSION_TAPSCRIPT;return $T.taggedHash("TapLeaf",kl.Buffer.concat([kl.Buffer.from([e]),d5e(t.output)]))}Jn.tapleafHash=Fq;function c5e(t,e){return $T.taggedHash("TapTweak",kl.Buffer.concat(e?[t,e]:[t]))}Jn.tapTweakHash=c5e;function f5e(t,e){if(!kl.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=(0,o5e.taprootTweakPubkey)(t,e);return{parity:r[1],x:kl.Buffer.from(r[0])}}Jn.tweakKey=f5e;function KT(t,e){return $T.taggedHash("TapBranch",kl.Buffer.concat([t,e]))}function d5e(t){let e=Nq.varuint.encodingLength(t.length),r=kl.Buffer.allocUnsafe(e);return Nq.varuint.encode(t.length,r),kl.Buffer.concat([r,t])}});var Uq=j(P0=>{"use strict";B();M();var h5e=P0&&P0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),l5e=P0&&P0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Lq=P0&&P0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&h5e(e,t,r);return l5e(e,t),e};Object.defineProperty(P0,"__esModule",{value:!0});P0.p2tr=void 0;var Py=$i(),p5e=Au(),zT=Lq(as()),an=Qo(),Ya=Iy(),cc=Lq(Ld()),Oy=dn(),Hq=zT.OPS,Dq=1,b5e=80;function g5e(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,an.typeforce)({address:an.typeforce.maybe(an.typeforce.String),input:an.typeforce.maybe(an.typeforce.BufferN(0)),network:an.typeforce.maybe(an.typeforce.Object),output:an.typeforce.maybe(an.typeforce.BufferN(34)),internalPubkey:an.typeforce.maybe(an.typeforce.BufferN(32)),hash:an.typeforce.maybe(an.typeforce.BufferN(32)),pubkey:an.typeforce.maybe(an.typeforce.BufferN(32)),witness:an.typeforce.maybe(an.typeforce.arrayOf(an.typeforce.Buffer)),scriptTree:an.typeforce.maybe(an.isTaptree),redeem:an.typeforce.maybe({output:an.typeforce.maybe(an.typeforce.Buffer),redeemVersion:an.typeforce.maybe(an.typeforce.Number),witness:an.typeforce.maybe(an.typeforce.arrayOf(an.typeforce.Buffer))}),redeemVersion:an.typeforce.maybe(an.typeforce.Number)},t);let r=cc.value(()=>{let a=Oy.base.bech32m.decode(t.address),u=a.words.shift(),c=Oy.base.bech32m.fromWords(a.words);return{version:u,prefix:a.prefix,data:Py.Buffer.from(c)}}),n=cc.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===b5e?t.witness.slice(0,-1):t.witness.slice()}),i=cc.value(()=>{if(t.scriptTree)return(0,Ya.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),s=t.network||p5e.bitcoin,o={name:"p2tr",network:s};if(cc.prop(o,"address",()=>{if(!o.pubkey)return;let a=Oy.base.bech32m.toWords(o.pubkey);return a.unshift(Dq),Oy.base.bech32m.encode(s.bech32,a)}),cc.prop(o,"hash",()=>{let a=i();if(a)return a.hash;let u=n();if(u&&u.length>1){let c=u[u.length-1],d=c[0]&an.TAPLEAF_VERSION_MASK,f=u[u.length-2],m=(0,Ya.tapleafHash)({output:f,version:d});return(0,Ya.rootHashFromPath)(c,m)}return null}),cc.prop(o,"output",()=>{if(!!o.pubkey)return zT.compile([Hq.OP_1,o.pubkey])}),cc.prop(o,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:Ya.LEAF_VERSION_TAPSCRIPT),cc.prop(o,"redeem",()=>{let a=n();if(!(!a||a.length<2))return{output:a[a.length-2],witness:a.slice(0,-2),redeemVersion:a[a.length-1][0]&an.TAPLEAF_VERSION_MASK}}),cc.prop(o,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(o.internalPubkey){let a=(0,Ya.tweakKey)(o.internalPubkey,o.hash);if(a)return a.x}}),cc.prop(o,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let a=n();if(a&&a.length>1)return a[a.length-1].slice(1,33)}),cc.prop(o,"signature",()=>{if(t.signature)return t.signature;let a=n();if(!(!a||a.length!==1))return a[0]}),cc.prop(o,"witness",()=>{if(t.witness)return t.witness;let a=i();if(a&&t.redeem&&t.redeem.output&&t.internalPubkey){let u=(0,Ya.tapleafHash)({output:t.redeem.output,version:o.redeemVersion}),c=(0,Ya.findScriptPath)(a,u);if(!c)return;let d=(0,Ya.tweakKey)(t.internalPubkey,a.hash);if(!d)return;let f=Py.Buffer.concat([Py.Buffer.from([o.redeemVersion|d.parity]),t.internalPubkey].concat(c));return[t.redeem.output,f]}if(t.signature)return[t.signature]}),e.validate){let a=Py.Buffer.from([]);if(t.address){if(s&&s.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==Dq)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(t.pubkey){if(a.length>0&&!a.equals(t.pubkey))throw new TypeError("Pubkey mismatch");a=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==Hq.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(a.length>0&&!a.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");a=t.output.slice(2)}if(t.internalPubkey){let d=(0,Ya.tweakKey)(t.internalPubkey,o.hash);if(a.length>0&&!a.equals(d.x))throw new TypeError("Pubkey mismatch");a=d.x}if(a&&a.length&&a.length!==32)throw new TypeError("Invalid pubkey for p2tr");let u=i();if(t.hash&&u&&!t.hash.equals(u.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&u){let d=(0,Ya.tapleafHash)({output:t.redeem.output,version:o.redeemVersion});if(!(0,Ya.findScriptPath)(u,d))throw new TypeError("Redeem script not in tree")}let c=n();if(t.redeem&&o.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==o.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(zT.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(o.redeem.output&&!t.redeem.output.equals(o.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&o.redeem.witness&&!m5e(t.redeem.witness,o.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(c&&c.length)if(c.length===1){if(t.signature&&!t.signature.equals(c[0]))throw new TypeError("Signature mismatch")}else{let d=c[c.length-1];if(d.length<33)throw new TypeError(`The control-block length is too small. Got ${d.length}, expected min 33.`);if((d.length-33)%32!==0)throw new TypeError(`The control-block length of ${d.length} is incorrect!`);let f=(d.length-33)/32;if(f>128)throw new TypeError(`The script path is too long. Got ${f}, expected max 128.`);let m=d.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(m))throw new TypeError("Internal pubkey mismatch");if(m.length!==32)throw new TypeError("Invalid internalPubkey for p2tr witness");let p=d[0]&an.TAPLEAF_VERSION_MASK,y=c[c.length-2],w=(0,Ya.tapleafHash)({output:y,version:p}),P=(0,Ya.rootHashFromPath)(d,w),C=(0,Ya.tweakKey)(m,P);if(!C)throw new TypeError("Invalid outputKey for p2tr witness");if(a.length&&!a.equals(C.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(C.parity!==(d[0]&1))throw new Error("Incorrect parity")}}return Object.assign(o,t)}P0.p2tr=g5e;function m5e(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var Cl=j(Gs=>{"use strict";B();M();Object.defineProperty(Gs,"__esModule",{value:!0});Gs.p2tr=Gs.p2wsh=Gs.p2wpkh=Gs.p2sh=Gs.p2pkh=Gs.p2pk=Gs.p2ms=Gs.embed=void 0;var y5e=XU();Object.defineProperty(Gs,"embed",{enumerable:!0,get:function(){return y5e.p2data}});var v5e=QU();Object.defineProperty(Gs,"p2ms",{enumerable:!0,get:function(){return v5e.p2ms}});var _5e=rq();Object.defineProperty(Gs,"p2pk",{enumerable:!0,get:function(){return _5e.p2pk}});var S5e=oq();Object.defineProperty(Gs,"p2pkh",{enumerable:!0,get:function(){return S5e.p2pkh}});var w5e=cq();Object.defineProperty(Gs,"p2sh",{enumerable:!0,get:function(){return w5e.p2sh}});var x5e=dq();Object.defineProperty(Gs,"p2wpkh",{enumerable:!0,get:function(){return x5e.p2wpkh}});var E5e=pq();Object.defineProperty(Gs,"p2wsh",{enumerable:!0,get:function(){return E5e.p2wsh}});var A5e=Uq();Object.defineProperty(Gs,"p2tr",{enumerable:!0,get:function(){return A5e.p2tr}})});var l2=j(us=>{"use strict";B();M();var T5e=us&&us.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),I5e=us&&us.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),My=us&&us.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&T5e(e,t,r);return I5e(e,t),e};Object.defineProperty(us,"__esModule",{value:!0});us.toOutputScript=us.fromOutputScript=us.toBech32=us.toBase58Check=us.fromBech32=us.fromBase58Check=void 0;var qq=My(Au()),O0=My(Cl()),jq=My(as()),By=My(Qo()),Rl=dn(),{typeforce:P5e}=By,Kq=40,$q=2,zq=16,Vq=2,Gq=80,Wq="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function O5e(t,e){let r=t.slice(2);if(r.length<$q||r.length>Kq)throw new TypeError("Invalid program length for segwit address");let n=t[0]-Gq;if(n<Vq||n>zq)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(Wq),Zq(r,n,e.bech32)}function Yq(t){let e=Rl.base.fromBase58Check(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}us.fromBase58Check=Yq;function Xq(t){let e,r;try{e=Rl.base.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=Rl.base.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=Rl.base.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:E.Buffer.from(n)}}us.fromBech32=Xq;function B5e(t,e){P5e(By.tuple(By.Hash160bit,By.UInt8),arguments);let r=E.Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),Rl.base.toBase58Check(r)}us.toBase58Check=B5e;function Zq(t,e,r){let n=Rl.base.bech32.toWords(t);return n.unshift(e),e===0?Rl.base.bech32.encode(r,n):Rl.base.bech32m.encode(r,n)}us.toBech32=Zq;function M5e(t,e){e=e||qq.bitcoin;try{return O0.p2pkh({output:t,network:e}).address}catch{}try{return O0.p2sh({output:t,network:e}).address}catch{}try{return O0.p2wpkh({output:t,network:e}).address}catch{}try{return O0.p2wsh({output:t,network:e}).address}catch{}try{return O0.p2tr({output:t,network:e}).address}catch{}try{return O5e(t,e)}catch{}throw new Error(jq.toASM(t)+" has no matching Address")}us.fromOutputScript=M5e;function k5e(t,e){e=e||qq.bitcoin;let r,n;try{r=Yq(t)}catch{}if(r){if(r.version===e.pubKeyHash)return O0.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return O0.p2sh({hash:r.hash}).output}else{try{n=Xq(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return O0.p2wpkh({hash:n.data}).output;if(n.data.length===32)return O0.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return O0.p2tr({pubkey:n.data}).output}else if(n.version>=Vq&&n.version<=zq&&n.data.length>=$q&&n.data.length<=Kq)return console.warn(Wq),jq.compile([n.version+Gq,n.data])}}throw new Error(t+" has no matching Script")}us.toOutputScript=k5e});var Fl=j(Za=>{"use strict";B();M();var C5e=Za&&Za.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),R5e=Za&&Za.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VT=Za&&Za.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C5e(e,t,r);return R5e(e,t),e};Object.defineProperty(Za,"__esModule",{value:!0});Za.Transaction=Za.vectorSize=Za.varSliceSize=void 0;var Qn=Ol(),cs=VT(xo()),Jq=VT(as()),N5e=as(),Fr=VT(Qo()),{typeforce:Sf}=Fr;function Xa(t){let e=t.length;return Qn.varuint.encodingLength(e)+e}Za.varSliceSize=Xa;function tj(t){let e=t.length;return Qn.varuint.encodingLength(e)+t.reduce((r,n)=>r+Xa(n),0)}Za.vectorSize=tj;var Nl=E.Buffer.allocUnsafe(0),Qq=[],p2=E.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),ej=E.Buffer.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),F5e=E.Buffer.from("ffffffffffffffff","hex"),H5e={script:Nl,valueBuffer:F5e};function D5e(t){return t.value!==void 0}var Qt=class{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new Qn.BufferReader(e),i=new Qt;i.version=n.readInt32();let s=n.readUInt8(),o=n.readUInt8(),a=!1;s===Qt.ADVANCED_TRANSACTION_MARKER&&o===Qt.ADVANCED_TRANSACTION_FLAG?a=!0:n.offset-=2;let u=n.readVarInt();for(let d=0;d<u;++d)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:Qq});let c=n.readVarInt();for(let d=0;d<c;++d)i.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(a){for(let d=0;d<u;++d)i.ins[d].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return i}static fromHex(e){return Qt.fromBuffer(E.Buffer.from(e,"hex"),!1)}static isCoinbaseHash(e){Sf(Fr.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&Qt.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,i){return Sf(Fr.tuple(Fr.Hash256bit,Fr.UInt32,Fr.maybe(Fr.UInt32),Fr.maybe(Fr.Buffer)),arguments),Fr.Null(n)&&(n=Qt.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:i||Nl,sequence:n,witness:Qq})-1}addOutput(e,r){return Sf(Fr.tuple(Fr.Buffer,Fr.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}dogeByteLength(){let e=26+this.ins.reduce((r,n)=>{let i=40+Xa(n.script);return r+32+4+i},0)+this.outs.reduce((r,n)=>r+9+n.script.length,0);return Math.ceil(e)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+Qn.varuint.encodingLength(this.ins.length)+Qn.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,i)=>n+40+Xa(i.script),0)+this.outs.reduce((n,i)=>n+8+Xa(i.script),0)+(r?this.ins.reduce((n,i)=>n+tj(i.witness),0):0)}clone(){let e=new Qt;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(Sf(Fr.tuple(Fr.UInt32,Fr.Buffer,Fr.Number),arguments),e>=this.ins.length)return ej;let i=Jq.compile(Jq.decompile(r).filter(a=>a!==N5e.OPS.OP_CODESEPARATOR)),s=this.clone();if((n&31)===Qt.SIGHASH_NONE)s.outs=[],s.ins.forEach((a,u)=>{u!==e&&(a.sequence=0)});else if((n&31)===Qt.SIGHASH_SINGLE){if(e>=this.outs.length)return ej;s.outs.length=e+1;for(let a=0;a<e;a++)s.outs[a]=H5e;s.ins.forEach((a,u)=>{u!==e&&(a.sequence=0)})}n&Qt.SIGHASH_ANYONECANPAY?(s.ins=[s.ins[e]],s.ins[0].script=i):(s.ins.forEach(a=>{a.script=Nl}),s.ins[e].script=i);let o=E.Buffer.allocUnsafe(s.byteLength(!1)+4);return o.writeInt32LE(n,o.length-4),s.__toBuffer(o,0,!1),cs.hash256(o)}hashForCashSignature(e,r,n,i){if(i&Qt.SIGHASH_BITCOINCASHBIP143){if(Fr.Null(n))throw new Error("Bitcoin Cash sighash requires value of input to be signed.");return this.hashForWitnessV0(e,r,n,i)}else return this.hashForSignature(e,r,i)}hashForWitnessV1(e,r,n,i,s,o){if(Sf(Fr.tuple(Fr.UInt32,Sf.arrayOf(Fr.Buffer),Sf.arrayOf(Fr.Satoshi),Fr.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let a=i===Qt.SIGHASH_DEFAULT?Qt.SIGHASH_ALL:i&Qt.SIGHASH_OUTPUT_MASK,c=(i&Qt.SIGHASH_INPUT_MASK)===Qt.SIGHASH_ANYONECANPAY,d=a===Qt.SIGHASH_NONE,f=a===Qt.SIGHASH_SINGLE,m=Nl,p=Nl,y=Nl,w=Nl,P=Nl;if(!c){let k=Qn.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(H=>{k.writeSlice(H.hash),k.writeUInt32(H.index)}),m=cs.sha256(k.end()),k=Qn.BufferWriter.withCapacity(8*this.ins.length),n.forEach(H=>k.writeUInt64(H)),p=cs.sha256(k.end()),k=Qn.BufferWriter.withCapacity(r.map(Xa).reduce((H,F)=>H+F)),r.forEach(H=>k.writeVarSlice(H)),y=cs.sha256(k.end()),k=Qn.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(H=>k.writeUInt32(H.sequence)),w=cs.sha256(k.end())}if(d||f){if(f&&e<this.outs.length){let k=this.outs[e],H=Qn.BufferWriter.withCapacity(8+Xa(k.script));H.writeUInt64(k.value),H.writeVarSlice(k.script),P=cs.sha256(H.end())}}else{let k=this.outs.map(F=>8+Xa(F.script)).reduce((F,L)=>F+L),H=Qn.BufferWriter.withCapacity(k);this.outs.forEach(F=>{H.writeUInt64(F.value),H.writeVarSlice(F.script)}),P=cs.sha256(H.end())}let C=(s?2:0)+(o?1:0),R=174-(c?49:0)-(d?32:0)+(o?32:0)+(s?37:0),T=Qn.BufferWriter.withCapacity(R);if(T.writeUInt8(i),T.writeInt32(this.version),T.writeUInt32(this.locktime),T.writeSlice(m),T.writeSlice(p),T.writeSlice(y),T.writeSlice(w),d||f||T.writeSlice(P),T.writeUInt8(C),c){let k=this.ins[e];T.writeSlice(k.hash),T.writeUInt32(k.index),T.writeUInt64(n[e]),T.writeVarSlice(r[e]),T.writeUInt32(k.sequence)}else T.writeUInt32(e);if(o){let k=Qn.BufferWriter.withCapacity(Xa(o));k.writeVarSlice(o),T.writeSlice(cs.sha256(k.end()))}return f&&T.writeSlice(P),s&&(T.writeSlice(s),T.writeUInt8(0),T.writeUInt32(4294967295)),cs.taggedHash("TapSighash",E.Buffer.concat([E.Buffer.of(0),T.end()]))}hashForWitnessV0(e,r,n,i){Sf(Fr.tuple(Fr.UInt32,Fr.Buffer,Fr.Satoshi,Fr.UInt32),arguments);let s=E.Buffer.from([]),o,a=p2,u=p2,c=p2;if(i&Qt.SIGHASH_ANYONECANPAY||(s=E.Buffer.allocUnsafe(36*this.ins.length),o=new Qn.BufferWriter(s,0),this.ins.forEach(f=>{o.writeSlice(f.hash),o.writeUInt32(f.index)}),u=cs.hash256(s)),!(i&Qt.SIGHASH_ANYONECANPAY)&&(i&31)!==Qt.SIGHASH_SINGLE&&(i&31)!==Qt.SIGHASH_NONE&&(s=E.Buffer.allocUnsafe(4*this.ins.length),o=new Qn.BufferWriter(s,0),this.ins.forEach(f=>{o.writeUInt32(f.sequence)}),c=cs.hash256(s)),(i&31)!==Qt.SIGHASH_SINGLE&&(i&31)!==Qt.SIGHASH_NONE){let f=this.outs.reduce((m,p)=>m+8+Xa(p.script),0);s=E.Buffer.allocUnsafe(f),o=new Qn.BufferWriter(s,0),this.outs.forEach(m=>{o.writeUInt64(m.value),o.writeVarSlice(m.script)}),a=cs.hash256(s)}else if((i&31)===Qt.SIGHASH_SINGLE&&e<this.outs.length){let f=this.outs[e];s=E.Buffer.allocUnsafe(8+Xa(f.script)),o=new Qn.BufferWriter(s,0),o.writeUInt64(f.value),o.writeVarSlice(f.script),a=cs.hash256(s)}s=E.Buffer.allocUnsafe(156+Xa(r)),o=new Qn.BufferWriter(s,0);let d=this.ins[e];return o.writeInt32(this.version),o.writeSlice(u),o.writeSlice(c),o.writeSlice(d.hash),o.writeUInt32(d.index),o.writeVarSlice(r),o.writeUInt64(n),o.writeUInt32(d.sequence),o.writeSlice(a),o.writeUInt32(this.locktime),o.writeUInt32(i),cs.hash256(s)}getHash(e){return e&&this.isCoinbase()?E.Buffer.alloc(32,0):cs.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,Qn.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){Sf(Fr.tuple(Fr.Number,Fr.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){Sf(Fr.tuple(Fr.Number,[Fr.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=E.Buffer.allocUnsafe(this.byteLength(n)));let i=new Qn.BufferWriter(e,r||0);i.writeInt32(this.version);let s=n&&this.hasWitnesses();return s&&(i.writeUInt8(Qt.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(Qt.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(o=>{i.writeSlice(o.hash),i.writeUInt32(o.index),i.writeVarSlice(o.script),i.writeUInt32(o.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(o=>{D5e(o)?i.writeUInt64(o.value):i.writeSlice(o.valueBuffer),i.writeVarSlice(o.script)}),s&&this.ins.forEach(o=>{i.writeVector(o.witness)}),i.writeUInt32(this.locktime),r!==void 0?e.slice(r,i.offset):e}hashForWitness(e,r,n,i){Sf(Fr.tuple(Fr.UInt32,Fr.Buffer,Fr.Satoshi,Fr.UInt32),arguments);let s=E.Buffer.from([]),o,a=p2,u=p2,c=p2;if(i&Qt.SIGHASH_ANYONECANPAY||(s=E.Buffer.allocUnsafe(36*this.ins.length),o=new Qn.BufferWriter(s,0),this.ins.forEach(f=>{o.writeSlice(f.hash),o.writeUInt32(f.index)}),u=cs.hash256(s)),!(i&Qt.SIGHASH_ANYONECANPAY)&&(i&31)!==Qt.SIGHASH_SINGLE&&(i&31)!==Qt.SIGHASH_NONE&&(s=E.Buffer.allocUnsafe(4*this.ins.length),o=new Qn.BufferWriter(s,0),this.ins.forEach(f=>{o.writeUInt32(f.sequence)}),c=cs.hash256(s)),(i&31)!==Qt.SIGHASH_SINGLE&&(i&31)!==Qt.SIGHASH_NONE){let f=this.outs.reduce((m,p)=>m+8+Xa(p.script),0);s=E.Buffer.allocUnsafe(f),o=new Qn.BufferWriter(s,0),this.outs.forEach(m=>{o.writeUInt64(m.value),o.writeVarSlice(m.script)}),a=cs.hash256(s)}else if((i&31)===Qt.SIGHASH_SINGLE&&e<this.outs.length){let f=this.outs[e];s=E.Buffer.allocUnsafe(8+Xa(f.script)),o=new Qn.BufferWriter(s,0),o.writeUInt64(f.value),o.writeVarSlice(f.script),a=cs.hash256(s)}s=E.Buffer.allocUnsafe(156+r.length),o=new Qn.BufferWriter(s,0);let d=this.ins[e];return o.writeInt32(this.version),o.writeSlice(u),o.writeSlice(c),o.writeSlice(d.hash),o.writeUInt32(d.index),o.writeSlice(r),o.writeUInt64(n),o.writeUInt32(d.sequence),o.writeSlice(a),o.writeUInt32(this.locktime),o.writeUInt32(i),cs.hash256(s)}};Za.Transaction=Qt;Qt.DEFAULT_SEQUENCE=4294967295;Qt.SIGHASH_DEFAULT=0;Qt.SIGHASH_ALL=1;Qt.SIGHASH_NONE=2;Qt.SIGHASH_SINGLE=3;Qt.SIGHASH_ANYONECANPAY=128;Qt.SIGHASH_OUTPUT_MASK=3;Qt.SIGHASH_INPUT_MASK=128;Qt.SIGHASH_BITCOINCASHBIP143=64;Qt.ADVANCED_TRANSACTION_MARKER=0;Qt.ADVANCED_TRANSACTION_FLAG=1});var Ws=j(Eo=>{"use strict";B();M();Object.defineProperty(Eo,"__esModule",{value:!0});Eo.OUTPUT_TYPE_NAMES=Eo.OutputTypes=Eo.INPUT_TYPE_NAMES=Eo.InputTypes=Eo.GLOBAL_TYPE_NAMES=Eo.GlobalTypes=void 0;var L5e;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(L5e=Eo.GlobalTypes||(Eo.GlobalTypes={}));Eo.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var U5e;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(U5e=Eo.InputTypes||(Eo.InputTypes={}));Eo.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var q5e;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(q5e=Eo.OutputTypes||(Eo.OutputTypes={}));Eo.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var nj=j(fc=>{"use strict";B();M();Object.defineProperty(fc,"__esModule",{value:!0});fc.canAddToArray=fc.check=fc.expected=fc.encode=fc.decode=void 0;var rj=Ws(),j5e=t=>[...Array(t).keys()];function K5e(t){if(t.key[0]!==rj.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of j5e(t.value.length/4-1)){let i=t.value.readUInt32LE(n*4+4),s=!!(i&2147483648),o=i&2147483647;r.path+="/"+o.toString(10)+(s?"'":"")}return r}fc.decode=K5e;function $5e(t){let e=E.Buffer.from([rj.GlobalTypes.GLOBAL_XPUB]),r=E.Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),i=E.Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(i,0);let s=4;return n.slice(1).forEach(o=>{let a=o.slice(-1)==="'",u=2147483647&parseInt(a?o.slice(0,-1):o,10);a&&(u+=2147483648),i.writeUInt32LE(u,s),s+=4}),{key:r,value:i}}fc.encode=$5e;fc.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function z5e(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return E.Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&E.Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}fc.check=z5e;function V5e(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.extendedPubkey.equals(e.extendedPubkey)).length===0)}fc.canAddToArray=V5e});var ij=j(ky=>{"use strict";B();M();Object.defineProperty(ky,"__esModule",{value:!0});ky.encode=void 0;var G5e=Ws();function W5e(t){return{key:E.Buffer.from([G5e.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}ky.encode=W5e});var oj=j(dc=>{"use strict";B();M();Object.defineProperty(dc,"__esModule",{value:!0});dc.canAdd=dc.check=dc.expected=dc.encode=dc.decode=void 0;var sj=Ws();function Y5e(t){if(t.key[0]!==sj.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}dc.decode=Y5e;function X5e(t){return{key:E.Buffer.from([sj.InputTypes.FINAL_SCRIPTSIG]),value:t}}dc.encode=X5e;dc.expected="Buffer";function Z5e(t){return E.Buffer.isBuffer(t)}dc.check=Z5e;function J5e(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}dc.canAdd=J5e});var uj=j(hc=>{"use strict";B();M();Object.defineProperty(hc,"__esModule",{value:!0});hc.canAdd=hc.check=hc.expected=hc.encode=hc.decode=void 0;var aj=Ws();function Q5e(t){if(t.key[0]!==aj.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}hc.decode=Q5e;function e2e(t){return{key:E.Buffer.from([aj.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}hc.encode=e2e;hc.expected="Buffer";function t2e(t){return E.Buffer.isBuffer(t)}hc.check=t2e;function r2e(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}hc.canAdd=r2e});var fj=j(lc=>{"use strict";B();M();Object.defineProperty(lc,"__esModule",{value:!0});lc.canAdd=lc.check=lc.expected=lc.encode=lc.decode=void 0;var cj=Ws();function n2e(t){if(t.key[0]!==cj.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}lc.decode=n2e;function i2e(t){return{key:E.Buffer.from([cj.InputTypes.NON_WITNESS_UTXO]),value:t}}lc.encode=i2e;lc.expected="Buffer";function s2e(t){return E.Buffer.isBuffer(t)}lc.check=s2e;function o2e(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}lc.canAdd=o2e});var hj=j(pc=>{"use strict";B();M();Object.defineProperty(pc,"__esModule",{value:!0});pc.canAddToArray=pc.check=pc.expected=pc.encode=pc.decode=void 0;var dj=Ws();function a2e(t){if(t.key[0]!==dj.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}pc.decode=a2e;function u2e(t){let e=E.Buffer.from([dj.InputTypes.PARTIAL_SIG]);return{key:E.Buffer.concat([e,t.pubkey]),value:t.signature}}pc.encode=u2e;pc.expected="{ pubkey: Buffer; signature: Buffer; }";function c2e(t){return E.Buffer.isBuffer(t.pubkey)&&E.Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&f2e(t.signature)}pc.check=c2e;function f2e(t){if(!E.Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function d2e(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)).length===0)}pc.canAddToArray=d2e});var pj=j(bc=>{"use strict";B();M();Object.defineProperty(bc,"__esModule",{value:!0});bc.canAdd=bc.check=bc.expected=bc.encode=bc.decode=void 0;var lj=Ws();function h2e(t){if(t.key[0]!==lj.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}bc.decode=h2e;function l2e(t){return{key:E.Buffer.from([lj.InputTypes.POR_COMMITMENT]),value:E.Buffer.from(t,"utf8")}}bc.encode=l2e;bc.expected="string";function p2e(t){return typeof t=="string"}bc.check=p2e;function b2e(t,e){return!!t&&!!e&&t.porCommitment===void 0}bc.canAdd=b2e});var gj=j(gc=>{"use strict";B();M();Object.defineProperty(gc,"__esModule",{value:!0});gc.canAdd=gc.check=gc.expected=gc.encode=gc.decode=void 0;var bj=Ws();function g2e(t){if(t.key[0]!==bj.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}gc.decode=g2e;function m2e(t){let e=E.Buffer.from([bj.InputTypes.SIGHASH_TYPE]),r=E.Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}gc.encode=m2e;gc.expected="number";function y2e(t){return typeof t=="number"}gc.check=y2e;function v2e(t,e){return!!t&&!!e&&t.sighashType===void 0}gc.canAdd=v2e});var vj=j(mc=>{"use strict";B();M();Object.defineProperty(mc,"__esModule",{value:!0});mc.canAdd=mc.check=mc.expected=mc.encode=mc.decode=void 0;var mj=Ws();function _2e(t){if(t.key[0]!==mj.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!yj(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}mc.decode=_2e;function S2e(t){return{key:E.Buffer.from([mj.InputTypes.TAP_KEY_SIG]),value:t}}mc.encode=S2e;mc.expected="Buffer";function yj(t){return E.Buffer.isBuffer(t)&&(t.length===64||t.length===65)}mc.check=yj;function w2e(t,e){return!!t&&!!e&&t.tapKeySig===void 0}mc.canAdd=w2e});var Sj=j(yc=>{"use strict";B();M();Object.defineProperty(yc,"__esModule",{value:!0});yc.canAddToArray=yc.check=yc.expected=yc.encode=yc.decode=void 0;var _j=Ws();function x2e(t){if(t.key[0]!==_j.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}yc.decode=x2e;function E2e(t){let e=E.Buffer.from([_j.InputTypes.TAP_LEAF_SCRIPT]),r=E.Buffer.from([t.leafVersion]);return{key:E.Buffer.concat([e,t.controlBlock]),value:E.Buffer.concat([t.script,r])}}yc.encode=E2e;yc.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function A2e(t){return E.Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&E.Buffer.isBuffer(t.script)}yc.check=A2e;function T2e(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.controlBlock.equals(e.controlBlock)).length===0)}yc.canAddToArray=T2e});var Ej=j(vc=>{"use strict";B();M();Object.defineProperty(vc,"__esModule",{value:!0});vc.canAdd=vc.check=vc.expected=vc.encode=vc.decode=void 0;var wj=Ws();function I2e(t){if(t.key[0]!==wj.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!xj(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}vc.decode=I2e;function P2e(t){return{key:E.Buffer.from([wj.InputTypes.TAP_MERKLE_ROOT]),value:t}}vc.encode=P2e;vc.expected="Buffer";function xj(t){return E.Buffer.isBuffer(t)&&t.length===32}vc.check=xj;function O2e(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}vc.canAdd=O2e});var Tj=j(_c=>{"use strict";B();M();Object.defineProperty(_c,"__esModule",{value:!0});_c.canAddToArray=_c.check=_c.expected=_c.encode=_c.decode=void 0;var Aj=Ws();function B2e(t){if(t.key[0]!==Aj.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}_c.decode=B2e;function M2e(t){let e=E.Buffer.from([Aj.InputTypes.TAP_SCRIPT_SIG]);return{key:E.Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}_c.encode=M2e;_c.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function k2e(t){return E.Buffer.isBuffer(t.pubkey)&&E.Buffer.isBuffer(t.leafHash)&&E.Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}_c.check=k2e;function C2e(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(i=>i.pubkey.equals(e.pubkey)&&i.leafHash.equals(e.leafHash)).length===0)}_c.canAddToArray=C2e});var Dl=j(Hl=>{"use strict";B();M();Object.defineProperty(Hl,"__esModule",{value:!0});Hl.encodingLength=Hl.decode=Hl.encode=void 0;var R2e=9007199254740991;function GT(t){if(t<0||t>R2e||t%1!==0)throw new RangeError("value out of range")}function y4(t,e,r){if(GT(t),e||(e=E.Buffer.allocUnsafe(Ij(t))),!E.Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(y4,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(y4,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(y4,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(y4,{bytes:9})),e}Hl.encode=y4;function v4(t,e){if(!E.Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(v4,{bytes:1}),r;if(r===253)return Object.assign(v4,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(v4,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(v4,{bytes:9});let n=t.readUInt32LE(e+1),s=t.readUInt32LE(e+5)*4294967296+n;return GT(s),s}}Hl.decode=v4;function Ij(t){return GT(t),t<253?1:t<=65535?3:t<=4294967295?5:9}Hl.encodingLength=Ij});var Ry=j(fs=>{"use strict";B();M();var N2e=fs&&fs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),F2e=fs&&fs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),H2e=fs&&fs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&N2e(e,t,r);return F2e(e,t),e};Object.defineProperty(fs,"__esModule",{value:!0});fs.writeUInt64LE=fs.readUInt64LE=fs.keyValToBuffer=fs.keyValsToBuffer=fs.reverseBuffer=fs.range=void 0;var Cy=H2e(Dl()),D2e=t=>[...Array(t).keys()];fs.range=D2e;function L2e(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}fs.reverseBuffer=L2e;function U2e(t){let e=t.map(Pj);return e.push(E.Buffer.from([0])),E.Buffer.concat(e)}fs.keyValsToBuffer=U2e;function Pj(t){let e=t.key.length,r=t.value.length,n=Cy.encodingLength(e),i=Cy.encodingLength(r),s=E.Buffer.allocUnsafe(n+e+i+r);return Cy.encode(e,s,0),t.key.copy(s,n),Cy.encode(r,s,n+e),t.value.copy(s,n+e+i),s}fs.keyValToBuffer=Pj;function Oj(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function q2e(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,Oj(n+r,9007199254740991),n+r}fs.readUInt64LE=q2e;function j2e(t,e,r){return Oj(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}fs.writeUInt64LE=j2e});var kj=j(Ys=>{"use strict";B();M();var K2e=Ys&&Ys.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),$2e=Ys&&Ys.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),z2e=Ys&&Ys.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&K2e(e,t,r);return $2e(e,t),e};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.canAdd=Ys.check=Ys.expected=Ys.encode=Ys.decode=void 0;var Bj=Ws(),Mj=Ry(),Ny=z2e(Dl());function V2e(t){if(t.key[0]!==Bj.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=(0,Mj.readUInt64LE)(t.value,0),r=8,n=Ny.decode(t.value,r);r+=Ny.encodingLength(n);let i=t.value.slice(r);if(i.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:i,value:e}}Ys.decode=V2e;function G2e(t){let{script:e,value:r}=t,n=Ny.encodingLength(e.length),i=E.Buffer.allocUnsafe(8+n+e.length);return(0,Mj.writeUInt64LE)(i,r,0),Ny.encode(e.length,i,8),e.copy(i,8+n),{key:E.Buffer.from([Bj.InputTypes.WITNESS_UTXO]),value:i}}Ys.encode=G2e;Ys.expected="{ script: Buffer; value: number; }";function W2e(t){return E.Buffer.isBuffer(t.script)&&typeof t.value=="number"}Ys.check=W2e;function Y2e(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}Ys.canAdd=Y2e});var Rj=j(Xs=>{"use strict";B();M();var X2e=Xs&&Xs.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Z2e=Xs&&Xs.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),J2e=Xs&&Xs.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&X2e(e,t,r);return Z2e(e,t),e};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.canAdd=Xs.check=Xs.expected=Xs.encode=Xs.decode=void 0;var Cj=Ws(),WT=J2e(Dl());function Q2e(t){if(t.key[0]!==Cj.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],i=t.value[e++],s=WT.decode(t.value,e);e+=WT.encodingLength(s),r.push({depth:n,leafVersion:i,script:t.value.slice(e,e+s)}),e+=s}return{leaves:r}}Xs.decode=Q2e;function e3e(t){let e=E.Buffer.from([Cj.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[E.Buffer.of(n.depth,n.leafVersion),WT.encode(n.script.length),n.script]));return{key:e,value:E.Buffer.concat(r)}}Xs.encode=e3e;Xs.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function t3e(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&E.Buffer.isBuffer(e.script))}Xs.check=t3e;function r3e(t,e){return!!t&&!!e&&t.tapTree===void 0}Xs.canAdd=r3e});var YT=j(Fy=>{"use strict";B();M();Object.defineProperty(Fy,"__esModule",{value:!0});Fy.makeConverter=void 0;var n3e=t=>[...Array(t).keys()],i3e=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function s3e(t,e=i3e){function r(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+a.key.toString("hex"));let u=a.key.slice(1);if(!e(u))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+a.key.toString("hex"));if(a.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let c={masterFingerprint:a.value.slice(0,4),pubkey:u,path:"m"};for(let d of n3e(a.value.length/4-1)){let f=a.value.readUInt32LE(d*4+4),m=!!(f&2147483648),p=f&2147483647;c.path+="/"+p.toString(10)+(m?"'":"")}return c}function n(a){let u=E.Buffer.from([t]),c=E.Buffer.concat([u,a.pubkey]),d=a.path.split("/"),f=E.Buffer.allocUnsafe(d.length*4);a.masterFingerprint.copy(f,0);let m=4;return d.slice(1).forEach(p=>{let y=p.slice(-1)==="'",w=2147483647&parseInt(y?p.slice(0,-1):p,10);y&&(w+=2147483648),f.writeUInt32LE(w,m),m+=4}),{key:c,value:f}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function s(a){return E.Buffer.isBuffer(a.pubkey)&&E.Buffer.isBuffer(a.masterFingerprint)&&typeof a.path=="string"&&e(a.pubkey)&&a.masterFingerprint.length===4}function o(a,u,c){let d=u.pubkey.toString("hex");return c.has(d)?!1:(c.add(d),a.filter(f=>f.pubkey.equals(u.pubkey)).length===0)}return{decode:r,encode:n,check:s,expected:i,canAddToArray:o}}Fy.makeConverter=s3e});var Nj=j(Hy=>{"use strict";B();M();Object.defineProperty(Hy,"__esModule",{value:!0});Hy.makeChecker=void 0;function o3e(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}Hy.makeChecker=o3e});var Fj=j(Dy=>{"use strict";B();M();Object.defineProperty(Dy,"__esModule",{value:!0});Dy.makeConverter=void 0;function a3e(t){function e(o){if(o.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+o.key.toString("hex"));return o.value}function r(o){return{key:E.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return E.Buffer.isBuffer(o)}function s(o,a){return!!o&&!!a&&o.redeemScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}Dy.makeConverter=a3e});var Dj=j(B0=>{"use strict";B();M();var u3e=B0&&B0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),c3e=B0&&B0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Hj=B0&&B0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&u3e(e,t,r);return c3e(e,t),e};Object.defineProperty(B0,"__esModule",{value:!0});B0.makeConverter=void 0;var Ly=Hj(Dl()),f3e=Hj(YT()),d3e=t=>t.length===32;function h3e(t){let e=f3e.makeConverter(t,d3e);function r(o){let a=Ly.decode(o.value),u=Ly.encodingLength(a),c=e.decode({key:o.key,value:o.value.slice(u+a*32)}),d=new Array(a);for(let f=0,m=u;f<a;f++,m+=32)d[f]=o.value.slice(m,m+32);return{...c,leafHashes:d}}function n(o){let a=e.encode(o),u=Ly.encodingLength(o.leafHashes.length),c=E.Buffer.allocUnsafe(u);Ly.encode(o.leafHashes.length,c);let d=E.Buffer.concat([c,...o.leafHashes,a.value]);return{...a,value:d}}let i="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function s(o){return Array.isArray(o.leafHashes)&&o.leafHashes.every(a=>E.Buffer.isBuffer(a)&&a.length===32)&&e.check(o)}return{decode:r,encode:n,check:s,expected:i,canAddToArray:e.canAddToArray}}B0.makeConverter=h3e});var Lj=j(Uy=>{"use strict";B();M();Object.defineProperty(Uy,"__esModule",{value:!0});Uy.makeConverter=void 0;function l3e(t){function e(o){if(o.key[0]!==t||o.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+o.key.toString("hex"));if(o.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return o.value}function r(o){return{key:E.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return E.Buffer.isBuffer(o)&&o.length===32}function s(o,a){return!!o&&!!a&&o.tapInternalKey===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}Uy.makeConverter=l3e});var Uj=j(qy=>{"use strict";B();M();Object.defineProperty(qy,"__esModule",{value:!0});qy.makeConverter=void 0;function p3e(t){function e(o){if(o.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+o.key.toString("hex"));return o.value}function r(o){return{key:E.Buffer.from([t]),value:o}}let n="Buffer";function i(o){return E.Buffer.isBuffer(o)}function s(o,a){return!!o&&!!a&&o.witnessScript===void 0}return{decode:e,encode:r,check:i,expected:n,canAdd:s}}qy.makeConverter=p3e});var jy=j(Ja=>{"use strict";B();M();var b3e=Ja&&Ja.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),g3e=Ja&&Ja.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ds=Ja&&Ja.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&b3e(e,t,r);return g3e(e,t),e};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.outputs=Ja.inputs=Ja.globals=void 0;var Pu=Ws(),m3e=ds(nj()),y3e=ds(ij()),v3e=ds(oj()),_3e=ds(uj()),S3e=ds(fj()),w3e=ds(hj()),x3e=ds(pj()),E3e=ds(gj()),A3e=ds(vj()),T3e=ds(Sj()),I3e=ds(Ej()),P3e=ds(Tj()),O3e=ds(kj()),B3e=ds(Rj()),qj=ds(YT()),XT=ds(Nj()),jj=ds(Fj()),Kj=ds(Dj()),$j=ds(Lj()),zj=ds(Uj()),M3e={unsignedTx:y3e,globalXpub:m3e,checkPubkey:XT.makeChecker([])};Ja.globals=M3e;var k3e={nonWitnessUtxo:S3e,partialSig:w3e,sighashType:E3e,finalScriptSig:v3e,finalScriptWitness:_3e,porCommitment:x3e,witnessUtxo:O3e,bip32Derivation:qj.makeConverter(Pu.InputTypes.BIP32_DERIVATION),redeemScript:jj.makeConverter(Pu.InputTypes.REDEEM_SCRIPT),witnessScript:zj.makeConverter(Pu.InputTypes.WITNESS_SCRIPT),checkPubkey:XT.makeChecker([Pu.InputTypes.PARTIAL_SIG,Pu.InputTypes.BIP32_DERIVATION]),tapKeySig:A3e,tapScriptSig:P3e,tapLeafScript:T3e,tapBip32Derivation:Kj.makeConverter(Pu.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:$j.makeConverter(Pu.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:I3e};Ja.inputs=k3e;var C3e={bip32Derivation:qj.makeConverter(Pu.OutputTypes.BIP32_DERIVATION),redeemScript:jj.makeConverter(Pu.OutputTypes.REDEEM_SCRIPT),witnessScript:zj.makeConverter(Pu.OutputTypes.WITNESS_SCRIPT),checkPubkey:XT.makeChecker([Pu.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:Kj.makeConverter(Pu.OutputTypes.TAP_BIP32_DERIVATION),tapTree:B3e,tapInternalKey:$j.makeConverter(Pu.OutputTypes.TAP_INTERNAL_KEY)};Ja.outputs=C3e});var Yj=j(Qa=>{"use strict";B();M();var R3e=Qa&&Qa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),N3e=Qa&&Qa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gj=Qa&&Qa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&R3e(e,t,r);return N3e(e,t),e};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.psbtFromKeyVals=Qa.checkKeyBuffer=Qa.psbtFromBuffer=void 0;var ei=Gj(jy()),Ky=Ry(),Vj=Gj(Dl()),Er=Ws();function F3e(t,e){let r=0;function n(){let P=Vj.decode(t,r);r+=Vj.encodingLength(P);let C=t.slice(r,r+P);return r+=P,C}function i(){let P=t.readUInt32BE(r);return r+=4,P}function s(){let P=t.readUInt8(r);return r+=1,P}function o(){let P=n(),C=n();return{key:P,value:C}}function a(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let P=t.readUInt8(r)===0;return P&&r++,P}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(s()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let u=[],c={};for(;!a();){let P=o(),C=P.key.toString("hex");if(c[C])throw new Error("Format Error: Keys must be unique for global keymap: key "+C);c[C]=1,u.push(P)}let d=u.filter(P=>P.key[0]===Er.GlobalTypes.UNSIGNED_TX);if(d.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let f=e(d[0].value),{inputCount:m,outputCount:p}=f.getInputOutputCounts(),y=[],w=[];for(let P of(0,Ky.range)(m)){let C={},R=[];for(;!a();){let T=o(),k=T.key.toString("hex");if(C[k])throw new Error("Format Error: Keys must be unique for each input: input index "+P+" key "+k);C[k]=1,R.push(T)}y.push(R)}for(let P of(0,Ky.range)(p)){let C={},R=[];for(;!a();){let T=o(),k=T.key.toString("hex");if(C[k])throw new Error("Format Error: Keys must be unique for each output: output index "+P+" key "+k);C[k]=1,R.push(T)}w.push(R)}return Wj(f,{globalMapKeyVals:u,inputKeyVals:y,outputKeyVals:w})}Qa.psbtFromBuffer=F3e;function Ao(t,e,r){if(!e.equals(E.Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}Qa.checkKeyBuffer=Ao;function Wj(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let i={unsignedTx:t},s=0;for(let d of e)switch(d.key[0]){case Er.GlobalTypes.UNSIGNED_TX:if(Ao("global",d.key,Er.GlobalTypes.UNSIGNED_TX),s>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");s++;break;case Er.GlobalTypes.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(ei.globals.globalXpub.decode(d));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(d)}let o=r.length,a=n.length,u=[],c=[];for(let d of(0,Ky.range)(o)){let f={};for(let m of r[d])switch(ei.inputs.checkPubkey(m),m.key[0]){case Er.InputTypes.NON_WITNESS_UTXO:if(Ao("input",m.key,Er.InputTypes.NON_WITNESS_UTXO),f.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");f.nonWitnessUtxo=ei.inputs.nonWitnessUtxo.decode(m);break;case Er.InputTypes.WITNESS_UTXO:if(Ao("input",m.key,Er.InputTypes.WITNESS_UTXO),f.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");f.witnessUtxo=ei.inputs.witnessUtxo.decode(m);break;case Er.InputTypes.PARTIAL_SIG:f.partialSig===void 0&&(f.partialSig=[]),f.partialSig.push(ei.inputs.partialSig.decode(m));break;case Er.InputTypes.SIGHASH_TYPE:if(Ao("input",m.key,Er.InputTypes.SIGHASH_TYPE),f.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");f.sighashType=ei.inputs.sighashType.decode(m);break;case Er.InputTypes.REDEEM_SCRIPT:if(Ao("input",m.key,Er.InputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");f.redeemScript=ei.inputs.redeemScript.decode(m);break;case Er.InputTypes.WITNESS_SCRIPT:if(Ao("input",m.key,Er.InputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");f.witnessScript=ei.inputs.witnessScript.decode(m);break;case Er.InputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(ei.inputs.bip32Derivation.decode(m));break;case Er.InputTypes.FINAL_SCRIPTSIG:Ao("input",m.key,Er.InputTypes.FINAL_SCRIPTSIG),f.finalScriptSig=ei.inputs.finalScriptSig.decode(m);break;case Er.InputTypes.FINAL_SCRIPTWITNESS:Ao("input",m.key,Er.InputTypes.FINAL_SCRIPTWITNESS),f.finalScriptWitness=ei.inputs.finalScriptWitness.decode(m);break;case Er.InputTypes.POR_COMMITMENT:Ao("input",m.key,Er.InputTypes.POR_COMMITMENT),f.porCommitment=ei.inputs.porCommitment.decode(m);break;case Er.InputTypes.TAP_KEY_SIG:Ao("input",m.key,Er.InputTypes.TAP_KEY_SIG),f.tapKeySig=ei.inputs.tapKeySig.decode(m);break;case Er.InputTypes.TAP_SCRIPT_SIG:f.tapScriptSig===void 0&&(f.tapScriptSig=[]),f.tapScriptSig.push(ei.inputs.tapScriptSig.decode(m));break;case Er.InputTypes.TAP_LEAF_SCRIPT:f.tapLeafScript===void 0&&(f.tapLeafScript=[]),f.tapLeafScript.push(ei.inputs.tapLeafScript.decode(m));break;case Er.InputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(ei.inputs.tapBip32Derivation.decode(m));break;case Er.InputTypes.TAP_INTERNAL_KEY:Ao("input",m.key,Er.InputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=ei.inputs.tapInternalKey.decode(m);break;case Er.InputTypes.TAP_MERKLE_ROOT:Ao("input",m.key,Er.InputTypes.TAP_MERKLE_ROOT),f.tapMerkleRoot=ei.inputs.tapMerkleRoot.decode(m);break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(m)}u.push(f)}for(let d of(0,Ky.range)(a)){let f={};for(let m of n[d])switch(ei.outputs.checkPubkey(m),m.key[0]){case Er.OutputTypes.REDEEM_SCRIPT:if(Ao("output",m.key,Er.OutputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");f.redeemScript=ei.outputs.redeemScript.decode(m);break;case Er.OutputTypes.WITNESS_SCRIPT:if(Ao("output",m.key,Er.OutputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");f.witnessScript=ei.outputs.witnessScript.decode(m);break;case Er.OutputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(ei.outputs.bip32Derivation.decode(m));break;case Er.OutputTypes.TAP_INTERNAL_KEY:Ao("output",m.key,Er.OutputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=ei.outputs.tapInternalKey.decode(m);break;case Er.OutputTypes.TAP_TREE:Ao("output",m.key,Er.OutputTypes.TAP_TREE),f.tapTree=ei.outputs.tapTree.decode(m);break;case Er.OutputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(ei.outputs.tapBip32Derivation.decode(m));break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(m)}c.push(f)}return{globalMap:i,inputs:u,outputs:c}}Qa.psbtFromKeyVals=Wj});var Jj=j(Sc=>{"use strict";B();M();var H3e=Sc&&Sc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),D3e=Sc&&Sc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),L3e=Sc&&Sc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&H3e(e,t,r);return D3e(e,t),e};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.psbtToKeyVals=Sc.psbtToBuffer=void 0;var ZT=L3e(jy()),Xj=Ry();function U3e({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:i,outputKeyVals:s}=Zj({globalMap:t,inputs:e,outputs:r}),o=(0,Xj.keyValsToBuffer)(n),a=f=>f.length===0?[E.Buffer.from([0])]:f.map(Xj.keyValsToBuffer),u=a(i),c=a(s),d=E.Buffer.allocUnsafe(5);return d.writeUIntBE(482972169471,0,5),E.Buffer.concat([d,o].concat(u,c))}Sc.psbtToBuffer=U3e;var q3e=(t,e)=>t.key.compare(e.key);function JT(t,e){let r=new Set,n=Object.entries(t).reduce((s,[o,a])=>{if(o==="unknownKeyVals")return s;let u=e[o];if(u===void 0)return s;let c=(Array.isArray(a)?a:[a]).map(u.encode);return c.map(f=>f.key.toString("hex")).forEach(f=>{if(r.has(f))throw new Error("Serialize Error: Duplicate key: "+f);r.add(f)}),s.concat(c)},[]),i=t.unknownKeyVals?t.unknownKeyVals.filter(s=>!r.has(s.key.toString("hex"))):[];return n.concat(i).sort(q3e)}function Zj({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:JT(t,ZT.globals),inputKeyVals:e.map(n=>JT(n,ZT.inputs)),outputKeyVals:r.map(n=>JT(n,ZT.outputs))}}Sc.psbtToKeyVals=Zj});var QT=j(Ll=>{"use strict";B();M();var j3e=Ll&&Ll.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Qj=Ll&&Ll.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&j3e(e,t,r)};Object.defineProperty(Ll,"__esModule",{value:!0});Qj(Yj(),Ll);Qj(Jj(),Ll)});var tK=j($y=>{"use strict";B();M();Object.defineProperty($y,"__esModule",{value:!0});$y.combine=void 0;var eI=QT();function K3e(t){let e=t[0],r=(0,eI.psbtToKeyVals)(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let i=eK(e);if(i===void 0)throw new Error("Combine: Self missing transaction");let s=b2(r.globalKeyVals),o=r.inputKeyVals.map(b2),a=r.outputKeyVals.map(b2);for(let u of n){let c=eK(u);if(c===void 0||!c.toBuffer().equals(i.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let d=(0,eI.psbtToKeyVals)(u);b2(d.globalKeyVals).forEach(tI(s,r.globalKeyVals,d.globalKeyVals)),d.inputKeyVals.map(b2).forEach((y,w)=>y.forEach(tI(o[w],r.inputKeyVals[w],d.inputKeyVals[w]))),d.outputKeyVals.map(b2).forEach((y,w)=>y.forEach(tI(a[w],r.outputKeyVals[w],d.outputKeyVals[w])))}return(0,eI.psbtFromKeyVals)(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}$y.combine=K3e;function tI(t,e,r){return n=>{if(t.has(n))return;let i=r.filter(s=>s.key.toString("hex")===n)[0];e.push(i),t.add(n)}}function eK(t){return t.globalMap.unsignedTx}function b2(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var nI=j(rn=>{"use strict";B();M();var $3e=rn&&rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),z3e=rn&&rn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),V3e=rn&&rn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$3e(e,t,r);return z3e(e,t),e};Object.defineProperty(rn,"__esModule",{value:!0});rn.defaultLocktimeSetter=rn.defaultVersionSetter=rn.addOutputAttributes=rn.addInputAttributes=rn.updateOutput=rn.updateInput=rn.updateGlobal=rn.inputCheckUncleanFinalized=rn.getEnumLength=rn.checkHasKey=rn.checkForOutput=rn.checkForInput=void 0;var G3e=V3e(jy());function nK(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}rn.checkForInput=nK;function iK(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}rn.checkForOutput=iK;function W3e(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}rn.checkHasKey=W3e;function Y3e(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}rn.getEnumLength=Y3e;function X3e(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,i=!!e.witnessScript,s=!n||!!e.finalScriptSig,o=!i||!!e.finalScriptWitness,a=!!e.finalScriptSig||!!e.finalScriptWitness;r=s&&o&&a}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}rn.inputCheckUncleanFinalized=X3e;function rK(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function rI(t){return(e,r)=>{for(let n of Object.keys(e)){let i=e[n],{canAdd:s,canAddToArray:o,check:a,expected:u}=G3e[t+"s"][n]||{},c=!!o;if(a)if(c){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(a)||rK(t,n,u,i);let d=r[n]||[],f=new Set;if(!i.every(m=>o(d,m,f)))throw new Error("Can not add duplicate data to array");r[n]=d.concat(i)}else{if(a(i)||rK(t,n,u,i),!s(r,i))throw new Error(`Can not add duplicate data to ${t}`);r[n]=i}}}}rn.updateGlobal=rI("global");rn.updateInput=rI("input");rn.updateOutput=rI("output");function Z3e(t,e){let r=t.length-1,n=nK(t,r);(0,rn.updateInput)(e,n)}rn.addInputAttributes=Z3e;function J3e(t,e){let r=t.length-1,n=iK(t,r);(0,rn.updateOutput)(e,n)}rn.addOutputAttributes=J3e;function Q3e(t,e){if(!E.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}rn.defaultVersionSetter=Q3e;function e9e(t,e){if(!E.Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}rn.defaultLocktimeSetter=e9e});var oK=j(zy=>{"use strict";B();M();Object.defineProperty(zy,"__esModule",{value:!0});zy.Psbt=void 0;var t9e=tK(),sK=QT(),iI=Ws(),To=nI(),sI=class{static fromBase64(e,r){let n=E.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=E.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=(0,sK.psbtFromBuffer)(e,r),i=new this(n.globalMap.unsignedTx);return Object.assign(i,n),i}constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return(0,sK.psbtToBuffer)(this)}updateGlobal(e){return(0,To.updateGlobal)(e,this.globalMap),this}updateInput(e,r){let n=(0,To.checkForInput)(this.inputs,e);return(0,To.updateInput)(r,n),this}updateOutput(e,r){let n=(0,To.checkForOutput)(this.outputs,e);return(0,To.updateOutput)(r,n),this}addUnknownKeyValToGlobal(e){return(0,To.checkHasKey)(e,this.globalMap.unknownKeyVals,(0,To.getEnumLength)(iI.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=(0,To.checkForInput)(this.inputs,e);return(0,To.checkHasKey)(r,n.unknownKeyVals,(0,To.getEnumLength)(iI.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=(0,To.checkForOutput)(this.outputs,e);return(0,To.checkHasKey)(r,n.unknownKeyVals,(0,To.getEnumLength)(iI.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),(0,To.addInputAttributes)(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(i=>this.addUnknownKeyValToInput(n,i)),(0,To.addOutputAttributes)(this.outputs,e),this}clearFinalizedInput(e){let r=(0,To.checkForInput)(this.inputs,e);(0,To.inputCheckUncleanFinalized)(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=(0,t9e.combine)([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};zy.Psbt=sI});var Ap=j(pn=>{"use strict";B();M();var r9e=pn&&pn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),n9e=pn&&pn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),oI=pn&&pn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&r9e(e,t,r);return n9e(e,t),e};Object.defineProperty(pn,"__esModule",{value:!0});pn.signatureBlocksAction=pn.checkInputForSig=pn.pubkeyInScript=pn.pubkeyPositionInScript=pn.witnessStackToScriptWitness=pn.isP2TR=pn.isP2SHScript=pn.isP2WSHScript=pn.isP2WPKH=pn.isP2PKH=pn.isP2PK=pn.isP2MS=void 0;var aK=oI(Dl()),_4=oI(as()),Vy=Fl(),i9e=xo(),xp=oI(Cl());function Ep(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}pn.isP2MS=Ep(xp.p2ms);pn.isP2PK=Ep(xp.p2pk);pn.isP2PKH=Ep(xp.p2pkh);pn.isP2WPKH=Ep(xp.p2wpkh);pn.isP2WSHScript=Ep(xp.p2wsh);pn.isP2SHScript=Ep(xp.p2sh);pn.isP2TR=Ep(xp.p2tr);function s9e(t){let e=E.Buffer.allocUnsafe(0);function r(o){e=E.Buffer.concat([e,E.Buffer.from(o)])}function n(o){let a=e.length,u=aK.encodingLength(o);e=E.Buffer.concat([e,E.Buffer.allocUnsafe(u)]),aK.encode(o,e,a)}function i(o){n(o.length),r(o)}function s(o){n(o.length),o.forEach(i)}return s(t),e}pn.witnessStackToScriptWitness=s9e;function uK(t,e){let r=(0,i9e.hash160)(t),n=t.slice(1,33),i=_4.decompile(e);if(i===null)throw new Error("Unknown script error");return i.findIndex(s=>typeof s=="number"?!1:s.equals(t)||s.equals(r)||s.equals(n))}pn.pubkeyPositionInScript=uK;function o9e(t,e){return uK(t,e)!==-1}pn.pubkeyInScript=o9e;function a9e(t,e){return u9e(t).some(n=>cK(n,_4.signature.decode,e))}pn.checkInputForSig=a9e;function cK(t,e,r){let{hashType:n}=e(t),i=[];switch(n&Vy.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case Vy.Transaction.SIGHASH_ALL:break;case Vy.Transaction.SIGHASH_SINGLE:case Vy.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}pn.signatureBlocksAction=cK;function u9e(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=c9e(t)}else e=t.partialSig;return e.map(r=>r.signature)}function c9e(t){let e=t.finalScriptSig?_4.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?_4.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>E.Buffer.isBuffer(n)&&_4.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var dI=j(ci=>{"use strict";B();M();Object.defineProperty(ci,"__esModule",{value:!0});ci.checkTaprootInputForSigs=ci.tapTreeFromList=ci.tapTreeToList=ci.tweakInternalPubKey=ci.checkTaprootOutputFields=ci.checkTaprootInputFields=ci.isTaprootOutput=ci.isTaprootInput=ci.serializeTaprootSignature=ci.tapScriptFinalizer=ci.toXOnly=void 0;var fI=Qo(),f9e=Fl(),Yy=Ap(),Ul=Iy(),d9e=Cl(),h9e=Ap(),l9e=t=>t.length===32?t:t.slice(1,33);ci.toXOnly=l9e;function p9e(t,e,r){let n=k9e(e,t,r);try{let s=B9e(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,Yy.witnessStackToScriptWitness)(s)}}catch(i){throw new Error(`Can not finalize taproot input #${t}: ${i}`)}}ci.tapScriptFinalizer=p9e;function b9e(t,e){let r=e?E.Buffer.from([e]):E.Buffer.from([]);return E.Buffer.concat([t,r])}ci.serializeTaprootSignature=b9e;function Gy(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,Yy.isP2TR)(t.witnessUtxo.script))}ci.isTaprootInput=Gy;function Wy(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,Yy.isP2TR)(e))}ci.isTaprootOutput=Wy;function g9e(t,e,r){I9e(t,e,r),O9e(t,e,r)}ci.checkTaprootInputFields=g9e;function m9e(t,e,r){P9e(t,e,r),y9e(t,e)}ci.checkTaprootOutputFields=m9e;function y9e(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:i}=t,s=v9e(r,n);if(i&&!i.equals(s))throw new Error("Error adding output. Script or address missmatch.")}}function v9e(t,e){let r=e&&fK(e.leaves),{output:n}=(0,d9e.p2tr)({internalPubkey:t,scriptTree:r});return n}function _9e(t,e){let r=e.tapInternalKey,n=r&&(0,Ul.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}ci.tweakInternalPubKey=_9e;function S9e(t){if(!(0,fI.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return uI(t)}ci.tapTreeToList=S9e;function fK(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:T9e(t)}ci.tapTreeFromList=fK;function w9e(t,e){return E9e(t).some(n=>(0,h9e.signatureBlocksAction)(n,x9e,e))}ci.checkTaprootInputForSigs=w9e;function x9e(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||f9e.Transaction.SIGHASH_DEFAULT}}function E9e(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=A9e(t.finalScriptWitness);r&&e.push(r)}return e}function A9e(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function uI(t,e=[],r=0){if(r>Ul.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,fI.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||Ul.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&uI(t[0],e,r+1),t[1]&&uI(t[1],e,r+1),e):[]}function T9e(t){let e;for(let r of t)if(e=cI(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function cI(t,e,r=0){if(r>Ul.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,fI.isTapleaf)(e))return;let n=cI(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let i=cI(t,e&&e[1],r+1);if(i)return[e&&e[0],i]}function I9e(t,e,r){let n=Gy(t)&&g2(e),i=g2(t)&&Gy(e),s=t===e&&Gy(e)&&g2(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function P9e(t,e,r){let n=Wy(t)&&g2(e),i=g2(t)&&Wy(e),s=t===e&&Wy(e)&&g2(e);if(n||i||s)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function O9e(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(s=>aI(s,e.tapMerkleRoot)),i=(t.tapLeafScript||[]).every(s=>aI(s,e.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(i=>aI(i,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function aI(t,e){if(!e)return!0;let r=(0,Ul.tapleafHash)({output:t.script,version:t.leafVersion});return(0,Ul.rootHashFromPath)(t.controlBlock,r).equals(e)}function B9e(t,e){let r=(0,Ul.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>M9e(e.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function M9e(t,e){return Object.assign({positionInScript:(0,Yy.pubkeyPositionInScript)(e.pubkey,t)},e)}function k9e(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((i,s)=>i.controlBlock.length-s.controlBlock.length).find(i=>C9e(i,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function C9e(t,e,r){let n=(0,Ul.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(s=>s.leafHash.equals(n))!==void 0}function g2(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var tv=j(xc=>{"use strict";B();M();var R9e=xc&&xc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),N9e=xc&&xc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bI=xc&&xc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&R9e(e,t,r);return N9e(e,t),e};Object.defineProperty(xc,"__esModule",{value:!0});xc.getHashAndSighashType=xc.Psbt=void 0;var dK=oK(),hK=bI(Dl()),Sa=nI(),lK=l2(),m2=Ol(),F9e=Au(),wc=bI(Cl()),H9e=Iy(),zd=bI(as()),ki=Fl(),Rn=dI(),Zs=Ap(),x4=dn(),D9e=as(),L9e=I0(),U9e=x4.signUtil.schnorr.secp256k1.schnorr,q9e={network:F9e.bitcoin,maximumFeeRate:5e3},y2=class{static fromBase64(e,r={}){let n=E.Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=E.Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=dK.Psbt.fromBuffer(e,j9e),i=new y2(r,n);return G9e(i.__CACHE.__TX,i.__CACHE),i}constructor(e={},r=new dK.Psbt(new Zy)){this.data=r,this.opts=Object.assign({},q9e,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(i,s,o,a)=>Object.defineProperty(i,s,{enumerable:o,writable:a});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,m2.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,lK.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,m2.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=y2.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){Xy(e),this.opts.maximumFeeRate=e}setVersion(e){Xy(e),S4(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){Xy(e),S4(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){Xy(r),S4(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Rn.checkTaprootInputFields)(e,e,"addInput"),S4(this.data.inputs,"addInput"),e.witnessScript&&Jy(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];wK(r,n);let i=this.data.inputs.length-1,s=this.data.inputs[i];return s.nonWitnessUtxo&&pI(this.__CACHE,s,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");S4(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:i}=this.opts,s=(0,lK.toOutputScript)(r,i);e=Object.assign(e,{script:s})}(0,Rn.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(_K))throw new Error("Not finalized");let r=this.__CACHE;if(e||$9e(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return IK(this.data.inputs,n,r,!0),n}getFeeRate(){return yK("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return yK("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,Sa.checkForInput)(this.data.inputs,0),w4(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,Sa.checkForInput)(this.data.inputs,e);return(0,Rn.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Rn.tapScriptFinalizer){let i=(0,Sa.checkForInput)(this.data.inputs,e);if((0,Rn.isTaprootInput)(i))return this._finalizeTaprootInput(e,i,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=W9e){let{script:i,isP2SH:s,isP2WSH:o,isSegwit:a}=J9e(e,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${e}`);z9e(r);let{finalScriptSig:u,finalScriptWitness:c}=n(e,r,i,a,s,o);if(u&&this.data.updateInput(e,{finalScriptSig:u}),c&&this.data.updateInput(e,{finalScriptWitness:c}),!u&&!c)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,i=Rn.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let s=wc.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),o=(0,Zs.witnessStackToScriptWitness)(s.witness);this.data.updateInput(e,{finalScriptWitness:o})}else{let{finalScriptWitness:s}=i(e,r,n);this.data.updateInput(e,{finalScriptWitness:s})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,Sa.checkForInput)(this.data.inputs,e),n=PK(e,r,this.__CACHE),i=ev(n,e,"input",r.redeemScript||nbe(r.finalScriptSig),r.witnessScript||ibe(r.finalScriptWitness)),s=i.type==="raw"?"":i.type+"-",o=MK(i.meaningfulScript);return s+o}inputHasPubkey(e,r){let n=(0,Sa.checkForInput)(this.data.inputs,e);return tbe(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,Sa.checkForInput)(this.data.inputs,e),i=bK(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(e,r){let n=(0,Sa.checkForOutput)(this.data.outputs,e);return rbe(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,Sa.checkForOutput)(this.data.outputs,e),i=bK(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(e){return(0,Sa.checkForInput)(this.data.inputs,0),w4(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,i)=>i===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e];return(0,Rn.isTaprootInput)(i)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).partialSig;if(!i||!s||s.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let o=n?s.filter(f=>f.pubkey.equals(n)):s;if(o.length<1)throw new Error("No signatures for this pubkey");let a=[],u,c,d;for(let f of o){let m=zd.signature.decode(f.signature),{hash:p,script:y}=d!==m.hashType?EK(e,Object.assign({},i,{sighashType:m.hashType}),this.__CACHE,!0):{hash:u,script:c};d=m.hashType,u=p,c=y,SK(f.pubkey,y,"verify"),a.push(r(f.pubkey,p,m.signature))}return a.every(f=>f===!0)}validateSignaturesOfTaprootInput(e,r,n){let i=this.data.inputs[e],s=(i||{}).tapKeySig,o=(i||{}).tapScriptSig;if(!i&&!s&&!(o&&!o.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Rn.toXOnly)(n);let a=n?lI(e,i,this.data.inputs,n,this.__CACHE):X9e(e,i,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");let u=a.find(c=>!!c.leafHash);if(s&&u&&!r(u.pubkey,u.hash,s))return!1;if(o)for(let c of o){let d=a.find(f=>c.pubkey.equals(f.pubkey));if(d&&!r(c.pubkey,d.hash,c.signature))return!1}return!0}signAllInputsHD(e,r=[ki.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let i of w4(this.data.inputs.length))try{this.signInputHD(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[ki.Transaction.SIGHASH_ALL]){return new Promise((n,i)=>{if(!e||!e.publicKey||!e.fingerprint)return i(new Error("Need HDSigner to sign input"));let s=[],o=[];for(let a of w4(this.data.inputs.length))o.push(this.signInputHDAsync(a,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(o).then(()=>{if(s.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[ki.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return vK(e,this.data.inputs,r).forEach(s=>this.signInput(e,s,n)),this}signInputHDAsync(e,r,n=[ki.Transaction.SIGHASH_ALL]){return new Promise((i,s)=>{if(!r||!r.publicKey||!r.fingerprint)return s(new Error("Need HDSigner to sign input"));let a=vK(e,this.data.inputs,r).map(u=>this.signInputAsync(e,u,n));return Promise.all(a).then(()=>{i()}).catch(s)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let i of w4(this.data.inputs.length))try{this.signInput(i,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,i)=>{if(!e||!e.publicKey)return i(new Error("Need Signer to sign input"));let s=[],o=[];for(let[a]of this.data.inputs.entries())o.push(this.signInputAsync(a,e,r).then(()=>{s.push(!0)},()=>{s.push(!1)}));return Promise.all(o).then(()=>{if(s.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,Sa.checkForInput)(this.data.inputs,e);return(0,Rn.isTaprootInput)(s)?this._signTaprootInput(e,s,r,i,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,Sa.checkForInput)(this.data.inputs,e);if((0,Rn.isTaprootInput)(s))return this._signTaprootInput(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)}getHashAndSighashType(e,r,n=[ki.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=E4(this.data.inputs,e,r,this.__CACHE,n);return{hash:i,sighashType:s}}_signInput(e,r,n=[ki.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=E4(this.data.inputs,e,r.publicKey,this.__CACHE,n),o=[{pubkey:r.publicKey,signature:zd.signature.encode(r.sign(i),s)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,r,n,i,s=[ki.Transaction.SIGHASH_DEFAULT]){let o=this.checkTaprootHashesForSig(e,r,n,i,s),a=o.filter(c=>!c.leafHash).map(c=>(0,Rn.serializeTaprootSignature)(n.signSchnorr(c.hash),r.sighashType))[0],u=o.filter(c=>!!c.leafHash).map(c=>({pubkey:(0,Rn.toXOnly)(n.publicKey),signature:(0,Rn.serializeTaprootSignature)(n.signSchnorr(c.hash),r.sighashType),leafHash:c.leafHash}));return a&&this.data.updateInput(e,{tapKeySig:a}),u.length&&this.data.updateInput(e,{tapScriptSig:u}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Sa.checkForInput)(this.data.inputs,e);return(0,Rn.isTaprootInput)(i)?this._signTaprootInputAsync(e,i,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let s=(0,Sa.checkForInput)(this.data.inputs,e);if((0,Rn.isTaprootInput)(s))return this._signTaprootInputAsync(e,s,r,n,i);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[ki.Transaction.SIGHASH_ALL]){let{hash:i,sighashType:s}=E4(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(o=>{let a=[{pubkey:r.publicKey,signature:zd.signature.encode(o,s)}];this.data.updateInput(e,{partialSig:a})})}async _signTaprootInputAsync(e,r,n,i,s=[ki.Transaction.SIGHASH_DEFAULT]){let o=this.checkTaprootHashesForSig(e,r,n,i,s),a=[],u=o.filter(d=>!d.leafHash)[0];if(u){let d=Promise.resolve(n.signSchnorr(u.hash)).then(f=>({tapKeySig:(0,Rn.serializeTaprootSignature)(f,r.sighashType)}));a.push(d)}let c=o.filter(d=>!!d.leafHash);if(c.length){let d=c.map(f=>Promise.resolve(n.signSchnorr(f.hash)).then(m=>({tapScriptSig:[{pubkey:(0,Rn.toXOnly)(n.publicKey),signature:(0,Rn.serializeTaprootSignature)(m,r.sighashType),leafHash:f.leafHash}]})));a.push(...d)}return Promise.all(a).then(d=>{d.forEach(f=>this.data.updateInput(e,f))})}checkTaprootHashesForSig(e,r,n,i,s){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let o=lI(e,r,this.data.inputs,n.publicKey,this.__CACHE,i,s);if(!o||!o.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return o}toBuffer(){return hI(this.__CACHE),this.data.toBuffer()}toHex(){return hI(this.__CACHE),this.data.toHex()}toBase64(){return hI(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&Jy(r.witnessScript),(0,Rn.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&pI(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Rn.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}verify(e,r){let n=[ki.Transaction.SIGHASH_SINGLE|ki.Transaction.SIGHASH_ANYONECANPAY,ki.Transaction.SIGHASH_ALL,ki.Transaction.SIGHASH_DEFAULT];for(let i=0;i<this.inputCount;i++)if((0,Rn.isTaprootInput)(this.data.inputs[i])){let s=E.Buffer.from((0,L9e.taprootTweakPubkey)(e.slice(1))[0]),a=new m2.BufferReader(r).readVector(),u={publicKey:s,sign(f){return E.Buffer.alloc(64)},signSchnorr(f){return E.Buffer.alloc(64)}},d=this.checkTaprootHashesForSig(i,this.data.inputs[i],u,void 0,n).filter(f=>!f.leafHash)[0].hash;if(!U9e.verify(x4.base.toHex(a[0]),x4.base.toHex(d),x4.base.toHex(s)))return!1}else{let{hash:s}=E4(this.data.inputs,i,e,this.__CACHE,n),a=new m2.BufferReader(r).readVector(),u=D9e.signature.decode(a[0]).signature,c=a[1];if(!e.equals(c))throw Error("pubKey error");if(!x4.signUtil.secp256k1.verifyWithNoRecovery(s,u,e))return!1}return!0}};xc.Psbt=y2;var j9e=t=>new Zy(t),Zy=class{constructor(e=E.Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=ki.Transaction.fromBuffer(e),V9e(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!E.Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,m2.reverseBuffer)(E.Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!E.Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function K9e(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return pK(1,t.partialSig);case"multisig":let n=wc.p2ms({output:e});return pK(n.m,t.partialSig,n.pubkeys);default:return!1}}function hI(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function pK(t,e,r){if(!e)return!1;let n;if(r?n=r.map(i=>{let s=sbe(i);return e.find(o=>o.pubkey.equals(s))}).filter(i=>!!i):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function _K(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function bK(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function Xy(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function $9e(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),s=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(s/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function S4(t,e){t.forEach(r=>{if((0,Rn.isTaprootInput)(r)?(0,Rn.checkTaprootInputForSigs)(r,e):(0,Zs.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function z9e(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:i}=zd.signature.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function SK(t,e,r){if(!(0,Zs.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function V9e(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function G9e(t,e){t.ins.forEach(r=>{wK(e,r)})}function wK(t,e){let r=(0,m2.reverseBuffer)(E.Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function xK(t,e){return(r,n,i,s)=>{let o=t({redeem:{output:i}}).output;if(!n.equals(o))throw new Error(`${e} for ${s} #${r} doesn't match the scriptPubKey in the prevout`)}}var gK=xK(wc.p2sh,"Redeem script"),mK=xK(wc.p2wsh,"Witness script");function yK(t,e,r,n){if(!r.every(_K))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let i,s=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,s=!1):i=n.__TX.clone(),IK(r,i,n,s),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function W9e(t,e,r,n,i,s){let o=MK(r);if(!K9e(e,r,o))throw new Error(`Can not finalize input #${t}`);return Y9e(r,o,e.partialSig,n,i,s)}function Y9e(t,e,r,n,i,s){let o,a,u=Z9e(t,e,r),c=s?wc.p2wsh({redeem:u}):null,d=i?wc.p2sh({redeem:c||u}):null;return n?(c?a=(0,Zs.witnessStackToScriptWitness)(c.witness):a=(0,Zs.witnessStackToScriptWitness)(u.witness),d&&(o=d.input)):d?o=d.input:o=u.input,{finalScriptSig:o,finalScriptWitness:a}}function E4(t,e,r,n,i){let s=(0,Sa.checkForInput)(t,e),{hash:o,sighashType:a,script:u}=EK(e,s,n,!1,i);return SK(r,u,"sign"),{hash:o,sighashType:a}}xc.getHashAndSighashType=E4;function EK(t,e,r,n,i){let s=r.__TX,o=e.sighashType||ki.Transaction.SIGHASH_ALL;AK(o,i);let a,u;if(e.nonWitnessUtxo){let f=Qy(r,e,t),m=s.ins[t].hash,p=f.getHash();if(!m.equals(p))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let y=s.ins[t].index;u=f.outs[y]}else if(e.witnessUtxo)u=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:c,type:d}=ev(u.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(d)>=0)a=s.hashForWitnessV0(t,c,u.value,o);else if((0,Zs.isP2WPKH)(c)){let f=wc.p2pkh({hash:c.slice(2)}).output;a=s.hashForWitnessV0(t,f,u.value,o)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${c.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),a=s.hashForSignature(t,c,o)}return{script:c,sighashType:o,hash:a}}function X9e(t,e,r,n){let i=[];if(e.tapInternalKey){let o=(0,Rn.tweakInternalPubKey)(t,e);i.push(o)}if(e.tapScriptSig){let o=e.tapScriptSig.map(a=>a.pubkey);i.push(...o)}return i.map(o=>lI(t,e,r,o,n)).flat()}function lI(t,e,r,n,i,s,o){let a=i.__TX,u=e.sighashType||ki.Transaction.SIGHASH_DEFAULT;AK(u,o);let c=r.map((y,w)=>OK(w,y,i)),d=c.map(y=>y.script),f=c.map(y=>y.value),m=[];if(e.tapInternalKey&&!s){let y=(0,Rn.tweakInternalPubKey)(t,e);if((0,Rn.toXOnly)(n).equals(y)){let w=a.hashForWitnessV1(t,d,f,u);m.push({pubkey:n,hash:w})}}let p=(e.tapLeafScript||[]).map(y=>{let w=(0,H9e.tapleafHash)({output:y.script,version:y.leafVersion});return Object.assign({hash:w},y)}).filter(y=>!s||s.equals(y.hash)).map(y=>{let w=a.hashForWitnessV1(t,d,f,ki.Transaction.SIGHASH_DEFAULT,y.hash);return{pubkey:n,hash:w,leafHash:y.hash}});return m.concat(p)}function AK(t,e){if(e&&e.indexOf(t)<0){let r=ebe(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function Z9e(t,e,r){let n;switch(e){case"multisig":let i=Q9e(t,r);n=wc.p2ms({output:t,signatures:i});break;case"pubkey":n=wc.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=wc.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=wc.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function J9e(t,e,r){let n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){let s=Qy(r,e,t),o=n.ins[t].index;i.script=s.outs[o].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||(0,Zs.isP2WPKH)(i.script))&&(i.isSegwit=!0),i}function vK(t,e,r){let n=(0,Sa.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let i=n.bip32Derivation.map(o=>{if(o.masterFingerprint.equals(r.fingerprint))return o}).filter(o=>!!o);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(o=>{let a=r.derivePath(o.path);if(!o.pubkey.equals(a.publicKey))throw new Error("pubkey did not match bip32Derivation");return a})}function Q9e(t,e){return wc.p2ms({output:t}).pubkeys.map(n=>(e.filter(i=>i.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function TK(t){let e=0;function r(o){return e+=o,t.slice(e-o,e)}function n(){let o=hK.decode(t,e);return e+=hK.decode.bytes,o}function i(){return r(n())}function s(){let o=n(),a=[];for(let u=0;u<o;u++)a.push(i());return a}return s()}function ebe(t){let e=t&ki.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case ki.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case ki.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case ki.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function pI(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=ki.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let i=t,s=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let o=i.__NON_WITNESS_UTXO_BUF_CACHE[s],a=i.__NON_WITNESS_UTXO_TX_CACHE[s];if(o!==void 0)return o;{let u=a.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[s]=u,u}},set(o){i.__NON_WITNESS_UTXO_BUF_CACHE[s]=o}})}function IK(t,e,r,n){let i=0;t.forEach((u,c)=>{if(n&&u.finalScriptSig&&(e.ins[c].script=u.finalScriptSig),n&&u.finalScriptWitness&&(e.ins[c].witness=TK(u.finalScriptWitness)),u.witnessUtxo)i+=u.witnessUtxo.value;else if(u.nonWitnessUtxo){let d=Qy(r,u,c),f=e.ins[c].index,m=d.outs[f];i+=m.value}});let s=e.outs.reduce((u,c)=>u+c.value,0),o=i-s;if(o<0)throw new Error("Outputs are spending more than Inputs");let a=e.virtualSize();r.__FEE=o,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(o/a)}function Qy(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||pI(t,e,r),n[r]}function PK(t,e,r){let{script:n}=OK(t,e,r);return n}function OK(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let i=Qy(r,e,t).outs[r.__TX.ins[t].index];return{script:i.script,value:i.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function tbe(t,e,r,n){let i=PK(r,e,n),{meaningfulScript:s}=ev(i,r,"input",e.redeemScript,e.witnessScript);return(0,Zs.pubkeyInScript)(t,s)}function rbe(t,e,r,n){let i=n.__TX.outs[r].script,{meaningfulScript:s}=ev(i,r,"output",e.redeemScript,e.witnessScript);return(0,Zs.pubkeyInScript)(t,s)}function nbe(t){if(!t)return;let e=zd.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!E.Buffer.isBuffer(r)||BK(r)||obe(r)||!zd.decompile(r)))return r}function ibe(t){if(!t)return;let e=TK(t),r=e[e.length-1];if(!(BK(r)||!zd.decompile(r)))return r}function sbe(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function BK(t){return t.length===33&&zd.isCanonicalPubKey(t)}function obe(t){return zd.isCanonicalScriptSignature(t)}function ev(t,e,r,n,i){let s=(0,Zs.isP2SHScript)(t),o=s&&n&&(0,Zs.isP2WSHScript)(n),a=(0,Zs.isP2WSHScript)(t);if(s&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||o)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let u;return o?(u=i,gK(e,t,n,r),mK(e,n,i,r),Jy(u)):a?(u=i,mK(e,t,i,r),Jy(u)):s?(u=n,gK(e,t,n,r)):u=t,{meaningfulScript:u,type:o?"p2sh-p2wsh":s?"p2sh":a?"p2wsh":"raw"}}function Jy(t){if((0,Zs.isP2WPKH)(t)||(0,Zs.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function MK(t){return(0,Zs.isP2WPKH)(t)?"witnesspubkeyhash":(0,Zs.isP2PKH)(t)?"pubkeyhash":(0,Zs.isP2MS)(t)?"multisig":(0,Zs.isP2PK)(t)?"pubkey":"nonstandard"}function w4(t){return[...Array(t).keys()]}});var SI=j(er=>{"use strict";B();M();var abe=er&&er.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ube=er&&er.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RK=er&&er.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&abe(e,t,r);return ube(e,t),e};Object.defineProperty(er,"__esModule",{value:!0});er.generateMPCSignedPSBT=er.generateMPCUnsignedPSBT=er.generateMPCSignedBuyingTx=er.generateMPCUnsignedBuyingPSBT=er.generateMPCSignedListingPSBT=er.generateMPCUnsignedListingPSBT=er.generateSignedBuyingTx=er.mergeSignedBuyingPsbt=er.generateUnsignedBuyingPsbt=er.generateSignedListingPsbt=er.generateUnsignedListingPsbt=er.extractPsbtTransaction=er.psbtSignImpl=er.signPsbtWithKeyPathAndScriptPathImpl=er.signPsbtWithKeyPathAndScriptPath=er.signPsbtWithKeyPathAndScriptPathBatch=er.psbtDecode=er.psbtSign=er.classicToPsbt=er.buildPsbt=void 0;var eu=tv(),pr=dn(),zi=Iu(),_r=Wa(),ql=RK(I0()),wf=dI(),cbe=l2(),fbe=Ol(),kK=Ap(),gI=RK(as()),dbe=xo(),hbe=Cd(),A4=pr.signUtil.schnorr.secp256k1.schnorr,T4=5e3;function mI(t,e,r){return NK(t,e,r).toHex()}er.buildPsbt=mI;function NK(t,e,r){let n=new eu.Psbt({network:e,maximumFeeRate:r||T4});return t.inputs.forEach(i=>{let s=(0,cbe.toOutputScript)(i.address,e),o={hash:i.txId,index:i.vOut,witnessUtxo:{script:s,value:i.amount}},a=(0,zi.getAddressType)(i.address,e||_r.networks.bitcoin);i.bip32Derivation&&(a==="segwit_taproot"?o.tapBip32Derivation=i.bip32Derivation.map(u=>{let c=pr.base.fromHex(u.pubkey);return c.length!=32&&(c=c.slice(1)),{masterFingerprint:pr.base.fromHex(u.masterFingerprint),pubkey:c,path:u.path,leafHashes:u.leafHashes.map(d=>E.Buffer.from(d,"hex"))}}):o.bip32Derivation=i.bip32Derivation.map(u=>({masterFingerprint:pr.base.fromHex(u.masterFingerprint),pubkey:pr.base.fromHex(u.pubkey),path:u.path}))),a==="legacy"?o.nonWitnessUtxo=pr.base.fromHex(i.nonWitnessUtxo):a==="segwit_taproot"?i.publicKey&&(o.tapInternalKey=(0,wf.toXOnly)(pr.base.fromHex(i.publicKey))):a==="segwit_nested"&&(o.redeemScript=_r.payments.p2wpkh({pubkey:E.Buffer.from(i.publicKey,"hex"),network:e}).output),i.sighashType&&(o.sighashType=i.sighashType),n.addInput(o)}),t.outputs.forEach(i=>{if(i.omniScript)n.addOutput({script:pr.base.fromHex(i.omniScript),value:0});else{let s={address:i.address,value:i.amount};i.bip32Derivation&&(s.bip32Derivation=i.bip32Derivation.map(o=>({masterFingerprint:pr.base.fromHex(o.masterFingerprint),pubkey:pr.base.fromHex(o.pubkey),path:o.path}))),n.addOutput(s)}}),n}er.classicToPsbt=NK;function yI(t,e,r,n){let i=eu.Psbt.fromBase64(t,{network:r,maximumFeeRate:n||T4});return DK(i,e,r),i.toBase64()}er.psbtSign=yI;function lbe(t,e,r){try{let n=eu.Psbt.fromHex(t,{network:e,maximumFeeRate:r||T4});return n.txInputs?n.txInputs.filter(i=>!i.hash.equals(E.Buffer.alloc(32))).map(i=>({txId:pr.base.toHex(pr.base.reverseBuffer(i.hash)),vOut:i.index})):[]}catch{let i=eu.Psbt.fromBase64(t,{network:e,maximumFeeRate:r||T4});return i.txInputs?i.txInputs.filter(s=>!s.hash.equals(E.Buffer.alloc(32))).map(s=>({txId:pr.base.toHex(pr.base.reverseBuffer(s.hash)),vOut:s.index})):[]}}er.psbtDecode=lbe;function pbe(t,e,r,n){if(t==null||t.length==0)return[];let i=[],s=n==null?0:n.length,o=0;for(o=0;o<t.length;o++){let a={};o<s&&n&&(a=n[o]);let u=FK(t[o],e,r,{autoFinalized:a.autoFinalized,toSignInputs:a.toSignInputs});i.push(u)}return i}er.signPsbtWithKeyPathAndScriptPathBatch=pbe;function FK(t,e,r,n={}){let i=_I(t,r);return HK(i,e,r,n.autoFinalized,n.toSignInputs),i.toHex()}er.signPsbtWithKeyPathAndScriptPath=FK;function HK(t,e,r,n,i){r=r||_r.networks.bitcoin;let s=(0,zi.privateKeyFromWIF)(e,r),o=new Map;i?.map(f=>{o.set(f.index,f)});let a={psbtIndex:0,needTweak:!0,tweakHash:E.Buffer.alloc(0),toSignInputsMap:o,publicKey:E.Buffer.alloc(0),sign(f){return(0,zi.sign)(f,s)},signSchnorr(f){let m=ql.taprootTweakPrivKey(pr.base.fromHex(s));return this.toSignInputsMap?.has(this.psbtIndex)&&this.toSignInputsMap.get(this.psbtIndex)?.disableTweakSigner?E.Buffer.from(A4.sign(f,s,pr.base.randomBytes(32))):this.needTweak?(this.needTweak&&this.tweakHash.length>0&&(m=ql.taprootTweakPrivKey(pr.base.fromHex(s),this.tweakHash)),E.Buffer.from(A4.sign(f,m,pr.base.randomBytes(32)))):E.Buffer.from(A4.sign(f,s,pr.base.randomBytes(32)))}},u=[_r.Transaction.SIGHASH_SINGLE|_r.Transaction.SIGHASH_ANYONECANPAY,_r.Transaction.SIGHASH_ALL,_r.Transaction.SIGHASH_DEFAULT],c=()=>({psbtIndex:0,needTweak:!0,tweakHash:E.Buffer.alloc(0),toSignInputsMap:o,publicKey:E.Buffer.alloc(0),getPrivateKey(){let f=pr.base.fromHex(s);return this.needTweak&&(f=E.Buffer.from(ql.taprootTweakPrivKey(f,this.tweakHash))),f},sign(f){return(0,zi.sign)(f,this.getPrivateKey().toString("hex"))},signSchnorr(f){return E.Buffer.from(A4.sign(f,this.getPrivateKey(),pr.base.randomBytes(32)))}}),d=()=>[_r.Transaction.SIGHASH_SINGLE|_r.Transaction.SIGHASH_ANYONECANPAY,_r.Transaction.SIGHASH_ALL,_r.Transaction.SIGHASH_DEFAULT];for(let f=0;f<t.inputCount;f++)if(!(o?.size>0&&!o?.has(f)))if(o?.get(f)?.useTweakSigner!==void 0){let m=t.data.inputs[f],p,y=c(),w=d();y.psbtIndex=f,y.publicKey=(0,zi.wif2Public)(e,r);let P=o.get(f);P.sighashTypes!==void 0&&(w=P.sighashTypes),y.needTweak=P.useTweakSigner,y.needTweak&&(y.publicKey=E.Buffer.from(ql.taprootTweakPubkey((0,wf.toXOnly)((0,zi.wif2Public)(e,r)),y.tweakHash)[0])),(0,wf.isTaprootInput)(m)&&(!m.tapInternalKey&&!m.tapLeafScript&&(m.tapInternalKey=(0,wf.toXOnly)((0,zi.wif2Public)(e,r))),P.tapLeafHashToSign!==void 0&&(p=E.Buffer.from(P.tapLeafHashToSign,"hex")));try{if(t.signInput(f,y,w,p),n!=null&&!n)continue;t.finalizeInput(f)}catch(C){throw C}}else{a.psbtIndex=f;let m=t.data.inputs[f];(0,wf.isTaprootInput)(m)?(m.tapInternalKey||(m.tapInternalKey=(0,wf.toXOnly)((0,zi.wif2Public)(e,r))),a.needTweak=!0,a.publicKey=E.Buffer.from(ql.taprootTweakPubkey((0,wf.toXOnly)((0,zi.wif2Public)(e,r)))[0]),o?.has(f)&&o?.get(f)?.disableTweakSigner&&(a.publicKey=(0,zi.wif2Public)(e,r),a.needTweak=!1),m.tapLeafScript&&m.tapLeafScript?.length>0&&!m.tapMerkleRoot?m.tapLeafScript.map(p=>{p.controlBlock&&p.script&&(a.publicKey=(0,zi.wif2Public)(e,r),a.needTweak=!1)}):m.tapMerkleRoot&&(a.needTweak=!0,a.tweakHash=m.tapMerkleRoot,a.publicKey=E.Buffer.from(ql.taprootTweakPubkey((0,wf.toXOnly)((0,zi.wif2Public)(e,r)),m.tapMerkleRoot)[0]))):(a.needTweak=!1,a.tweakHash=E.Buffer.alloc(0),a.publicKey=(0,zi.wif2Public)(e,r));try{if(o?.has(f)){let p=o?.get(f)?.sighashTypes;p!=null&&(u=p)}if(t.signInput(f,a,u),n!=null&&!n)continue;t.finalizeInput(f)}catch(p){if(o?.size>0&&o?.has(f))throw p}}}er.signPsbtWithKeyPathAndScriptPathImpl=HK;function DK(t,e,r){r=r||_r.networks.bitcoin;let n=(0,zi.privateKeyFromWIF)(e,r),i={publicKey:E.Buffer.alloc(0),sign(o){return(0,zi.sign)(o,n)},signSchnorr(o){let a=ql.taprootTweakPrivKey(pr.base.fromHex(n));return E.Buffer.from(A4.sign(o,a,pr.base.randomBytes(32)))}},s=[_r.Transaction.SIGHASH_SINGLE|_r.Transaction.SIGHASH_ANYONECANPAY,_r.Transaction.SIGHASH_ALL|_r.Transaction.SIGHASH_ANYONECANPAY,_r.Transaction.SIGHASH_ALL,_r.Transaction.SIGHASH_DEFAULT];for(let o=0;o<t.inputCount;o++){if((0,wf.isTaprootInput)(t.data.inputs[o])){let a=t.data.inputs[o];a.tapInternalKey||(a.tapInternalKey=(0,wf.toXOnly)((0,zi.wif2Public)(e,r))),i.publicKey=E.Buffer.from(ql.taprootTweakPubkey((0,wf.toXOnly)((0,zi.wif2Public)(e,r)))[0])}else i.publicKey=(0,zi.wif2Public)(e,r);try{t.signInput(o,i,s)}catch{}}}er.psbtSignImpl=DK;function vI(t,e,r){let n=eu.Psbt.fromHex(t,{network:e,maximumFeeRate:r||T4}),i;try{i=n.finalizeAllInputs().extractTransaction()}catch(s){i=n.extractTransaction(),console.log(s)}return i.toHex()}er.extractPsbtTransaction=vI;function LK(t,e,r){let n=_r.address.toOutputScript(t.nftAddress,e);if(((0,kK.isP2SHScript)(n)||(0,kK.isP2TR)(n))&&!r)throw new Error("Missing publicKey");let i={inputs:[],outputs:[]},s="bc1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6sw3rzmr";e===_r.networks.testnet&&(s="tb1pcyj5mt2q4t4py8jnur8vpxvxxchke4pzy7tdr9yvj3u3kdfgrj6see4dpv"),i.inputs.push({txId:"0".repeat(64),vOut:0,amount:0,address:s},{txId:"0".repeat(64),vOut:1,amount:0,address:s}),i.outputs.push({address:s,amount:0},{address:s,amount:0}),i.inputs.push({txId:t.nftUtxo.txHash,vOut:t.nftUtxo.vout,address:t.nftAddress,amount:t.nftUtxo.coinAmount,publicKey:r,nonWitnessUtxo:t.nftUtxo.rawTransation,sighashType:_r.Transaction.SIGHASH_SINGLE|_r.Transaction.SIGHASH_ANYONECANPAY}),i.outputs.push({address:t.receiveBtcAddress,amount:t.price});let o=mI(i,e);return pr.base.toBase64(pr.base.fromHex(o))}er.generateUnsignedListingPsbt=LK;function bbe(t,e,r){let n=pr.base.toHex((0,zi.wif2Public)(e,r));return yI(LK(t,r,n),e,r)}er.generateSignedListingPsbt=bbe;var jl=2,gbe=600,mbe=546;function UK(t,e,r){let n={inputs:[],outputs:[],address:t.paymentAndChangeAddress,feePerB:t.feeRate};t.dummyUtxos.forEach(o=>{n.inputs.push({txId:o.txHash,vOut:o.vout,address:t.paymentAndChangeAddress,amount:o.coinAmount,publicKey:r,nonWitnessUtxo:o.rawTransation})}),n.outputs.push({address:t.paymentAndChangeAddress,amount:t.dummyUtxos.reduce((o,a)=>o+a.coinAmount,0)});let i=[];t.sellerPsbts.forEach(o=>{let a=eu.Psbt.fromBase64(o,{network:e}),u=a.data.globalMap.unsignedTx.tx.ins[jl];i.push(a.data.globalMap.unsignedTx.tx.outs[jl]);let c=a.data.inputs[jl].witnessUtxo;c||(c=_r.Transaction.fromBuffer(a.data.inputs[jl].nonWitnessUtxo).outs[u.index]),n.inputs.push({txId:pr.base.toHex((0,fbe.reverseBuffer)(u.hash)),vOut:u.index,address:_r.address.fromOutputScript(c.script,e),amount:c.value,sighashType:_r.Transaction.SIGHASH_SINGLE|_r.Transaction.SIGHASH_ANYONECANPAY}),n.outputs.push({address:t.receiveNftAddress,amount:c.value})}),i.forEach(o=>{n.outputs.push({address:_r.address.fromOutputScript(o.script,e),amount:o.value})}),t.paymentUtxos.forEach(o=>{n.inputs.push({txId:o.txHash,vOut:o.vout,address:t.paymentAndChangeAddress,amount:o.coinAmount,publicKey:r,nonWitnessUtxo:o.rawTransation})}),t.dummyUtxos.forEach(()=>{n.outputs.push({address:t.paymentAndChangeAddress,amount:gbe})});let s=parseInt((0,zi.signBtc)(n,"",e,void 0,!1,!0));return s>=mbe&&n.outputs.push({address:t.paymentAndChangeAddress,amount:s}),pr.base.toBase64(pr.base.fromHex(mI(n,e)))}er.generateUnsignedBuyingPsbt=UK;function qK(t,e){let r=eu.Psbt.fromBase64(t),n=e.length+1;return e.forEach((i,s)=>{let o=eu.Psbt.fromBase64(i);r.data.globalMap.unsignedTx.tx.ins[n+s]=o.data.globalMap.unsignedTx.tx.ins[jl],r.data.inputs[n+s]=o.data.inputs[jl]}),r}er.mergeSignedBuyingPsbt=qK;function ybe(t,e,r){let n=pr.base.toHex((0,zi.wif2Public)(e,r)),i=yI(UK(t,r,n),e,r);return vI(qK(i,t.sellerPsbts).toHex(),r)}er.generateSignedBuyingTx=ybe;function vbe(t,e,r){let n=eu.Psbt.fromBase64(t,{network:r}),i=pr.base.fromHex(e),s=[_r.Transaction.SIGHASH_SINGLE|_r.Transaction.SIGHASH_ANYONECANPAY],o=[];for(let a=0;a<n.inputCount;a++){if(a!=jl)continue;let{hash:u,sighashType:c}=n.getHashAndSighashType(a,i,s);o.push(pr.base.toHex(u))}return{psbtBase64:t,signHashList:o}}er.generateMPCUnsignedListingPSBT=vbe;function _be(t,e,r,n){let i=eu.Psbt.fromBase64(t,{network:n}),o=[{pubkey:pr.base.fromHex(e),signature:gI.signature.encode(pr.base.fromHex(r),_r.Transaction.SIGHASH_SINGLE|_r.Transaction.SIGHASH_ANYONECANPAY)}];return i.data.updateInput(jl,{partialSig:o}),i.toBase64()}er.generateMPCSignedListingPSBT=_be;function Sbe(t,e,r,n=1){let i=eu.Psbt.fromBase64(t,{network:r}),s=pr.base.fromHex(e),o=[_r.Transaction.SIGHASH_ALL],a=[],u=n+1;for(let c=0;c<i.inputCount;c++){if(c>=u&&c<u+n)continue;let{hash:d,sighashType:f}=i.getHashAndSighashType(c,s,o);a.push(pr.base.toHex(d))}return{psbtBase64:t,signHashList:a}}er.generateMPCUnsignedBuyingPSBT=Sbe;function wbe(t,e,r,n,i=1){let s=eu.Psbt.fromBase64(t,{network:n}),o=pr.base.fromHex(e),a=i+1;for(let u=0;u<s.inputCount;u++){if(u>=a&&u<a+i)continue;let c=[{pubkey:o,signature:gI.signature.encode(pr.base.fromHex(r[u]),_r.Transaction.SIGHASH_ALL)}];s.data.updateInput(u,{partialSig:c})}return vI(s.toHex(),n)}er.generateMPCSignedBuyingTx=wbe;function jK(t,e,r){let n=_I(t,r),i=pr.base.fromHex(e),s=[_r.Transaction.SIGHASH_SINGLE|_r.Transaction.SIGHASH_ANYONECANPAY,_r.Transaction.SIGHASH_SINGLE|_r.Transaction.SIGHASH_ANYONECANPAY,_r.Transaction.SIGHASH_ALL|_r.Transaction.SIGHASH_ANYONECANPAY,_r.Transaction.SIGHASH_ALL,_r.Transaction.SIGHASH_DEFAULT],o=[];for(let u=0;u<n.inputCount;u++)try{let{hash:c,sighashType:d}=n.getHashAndSighashType(u,i,s);o.push(pr.base.toHex(c))}catch{let d=CK();o.push(d)}let a=new Map;return o.map((u,c)=>{let d=a.get(u);d=d??0,d!=null&&d>=1&&(o[c]=CK()),a.set(u,d+1)}),{psbtStr:t,signHashList:o}}er.generateMPCUnsignedPSBT=jK;function CK(){let t=(0,dbe.sha256)((0,hbe.randomBytes)(32));return"ffffffff"+pr.base.toHex(t.slice(0,28))}function xbe(t,e,r,n){let i=_I(t,n),s=pr.base.fromHex(e),o=_r.Transaction.SIGHASH_ALL,u=jK(t,e,n).signHashList;for(let c=0;c<i.inputCount;c++){if(u[c].slice(0,8)=="ffffffff")continue;i.data.inputs[c].sighashType!=null&&(o=i.data.inputs[c].sighashType);let d=[{pubkey:s,signature:gI.signature.encode(pr.base.fromHex(r[c]),o)}];try{i.data.updateInput(c,{partialSig:d})}catch{}}return i.toHex()}er.generateMPCSignedPSBT=xbe;function _I(t,e){let r;return pr.base.isHexString("0x"+t)?r=eu.Psbt.fromHex(t,{network:e}):r=eu.Psbt.fromBase64(t,{network:e}),r}});var YK=j(_2=>{"use strict";B();M();Object.defineProperty(_2,"__esModule",{value:!0});_2.verifySimple=_2.signSimple=void 0;var v2=dn(),$K=l2(),zK=Fl(),VK=tv(),KK=BT(),Ebe=SI(),Abe=Iu(),GK=Ap();function WK(t){let e="BIP0322-signed-message",r=v2.base.sha256(E.Buffer.from(e)),n=v2.base.sha256(E.Buffer.concat([r,r,E.Buffer.from(t)]));return v2.base.toHex(n)}async function Tbe(t,e,r,n){let i=(0,$K.toOutputScript)(e,n),s=E.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),o=4294967295,a=0,u=E.Buffer.concat([E.Buffer.from("0020","hex"),E.Buffer.from(WK(t),"hex")]),c=new zK.Transaction;c.version=0,c.addInput(s,o,a,u),c.addOutput(i,0);let d=new VK.Psbt({network:n});d.setVersion(0),d.addInput({hash:c.getHash(),index:0,sequence:0,witnessUtxo:{script:i,value:0}}),(0,GK.isP2TR)(i)&&d.updateInput(0,{tapInternalKey:(0,Abe.wif2Public)(r,n).slice(1)}),d.addOutput({script:E.Buffer.from("6a","hex"),value:0}),(0,Ebe.psbtSignImpl)(d,r,n),d.finalizeAllInputs();let f=d.extractTransaction();function m(w){return E.Buffer.concat([(0,KK.encode)(w.byteLength),w])}let p=(0,KK.encode)(f.ins[0].witness.length),y=E.Buffer.concat([p,...f.ins[0].witness.map(w=>m(w))]);return v2.base.toBase64(y)}_2.signSimple=Tbe;function Ibe(t,e,r,n,i){let s=(0,$K.toOutputScript)(e,i),o=E.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),a=4294967295,u=0,c=E.Buffer.concat([E.Buffer.from("0020","hex"),E.Buffer.from(WK(t),"hex")]),d=new zK.Transaction;d.version=0,d.addInput(o,a,u,c),d.addOutput(s,0);let f=new VK.Psbt;f.setVersion(0),f.addInput({hash:d.getHash(),index:0,sequence:0,witnessUtxo:{script:s,value:0}});let m=v2.base.fromHex(n);return(0,GK.isP2TR)(s)&&f.updateInput(0,{tapInternalKey:m.slice(1)}),f.addOutput({script:E.Buffer.from("6a","hex"),value:0}),f.verify(m,E.Buffer.from(v2.base.fromBase64(r)))}_2.verifySimple=Ibe});var Wa=j(Nn=>{"use strict";B();M();var Pbe=Nn&&Nn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Obe=Nn&&Nn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tp=Nn&&Nn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pbe(e,t,r);return Obe(e,t),e};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.BufferWriter=Nn.Transaction=Nn.psbt=Nn.bip0322=Nn.script=Nn.payments=Nn.networks=Nn.crypto=Nn.address=void 0;var Bbe=Tp(l2());Nn.address=Bbe;var Mbe=Tp(xo());Nn.crypto=Mbe;var kbe=Tp(Au());Nn.networks=kbe;var Cbe=Tp(Cl());Nn.payments=Cbe;var Rbe=Tp(as());Nn.script=Rbe;var Nbe=Tp(YK());Nn.bip0322=Nbe;var Fbe=Tp(tv());Nn.psbt=Fbe;var Hbe=Fl();Object.defineProperty(Nn,"Transaction",{enumerable:!0,get:function(){return Hbe.Transaction}});var Dbe=Ol();Object.defineProperty(Nn,"BufferWriter",{enumerable:!0,get:function(){return Dbe.BufferWriter}})});var nv=j(rv=>{"use strict";B();M();Object.defineProperty(rv,"__esModule",{value:!0});rv.validate=void 0;function Lbe(t,e){if(!t)throw new Error(e)}rv.validate=Lbe});var JK=j(S2=>{"use strict";B();M();Object.defineProperty(S2,"__esModule",{value:!0});S2.decode=S2.encode=void 0;var ZK=nv(),Ube="qpzry9x8gf2tvdw0s3jn54khce6mua7l",XK={q:0,p:1,z:2,r:3,y:4,9:5,x:6,8:7,g:8,f:9,2:10,t:11,v:12,d:13,w:14,0:15,s:16,3:17,j:18,n:19,5:20,4:21,k:22,h:23,c:24,e:25,6:26,m:27,u:28,a:29,7:30,l:31};function qbe(t){for(var e="",r=0;r<t.length;++r){var n=t[r];(0,ZK.validate)(0<=n&&n<32,"Invalid value: "+n+"."),e+=Ube[n]}return e}S2.encode=qbe;function jbe(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r){var n=t[r];(0,ZK.validate)(n in XK,"Invalid value: "+n+"."),e[r]=XK[n]}return e}S2.decode=jbe});var QK=j((rtt,iv)=>{B();M();var hs=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=d(n),s=Math.log(n);function o(z,Q){return typeof z>"u"?o[0]:typeof Q<"u"?+Q==10?Me(z):ke(z,Q):Me(z)}function a(z,Q){this.value=z,this.sign=Q,this.isSmall=!1}a.prototype=Object.create(o.prototype);function u(z){this.value=z,this.sign=z<0,this.isSmall=!0}u.prototype=Object.create(o.prototype);function c(z){return-n<z&&z<n}function d(z){return z<1e7?[z]:z<1e14?[z%1e7,Math.floor(z/1e7)]:[z%1e7,Math.floor(z/1e7)%1e7,Math.floor(z/1e14)]}function f(z){m(z);var Q=z.length;if(Q<4&&I(z,i)<0)switch(Q){case 0:return 0;case 1:return z[0];case 2:return z[0]+z[1]*e;default:return z[0]+(z[1]+z[2]*e)*e}return z}function m(z){for(var Q=z.length;z[--Q]===0;);z.length=Q+1}function p(z){for(var Q=new Array(z),Y=-1;++Y<z;)Q[Y]=0;return Q}function y(z){return z>0?Math.floor(z):Math.ceil(z)}function w(z,Q){var Y=z.length,ee=Q.length,ie=new Array(Y),se=0,ce=e,me,he;for(he=0;he<ee;he++)me=z[he]+Q[he]+se,se=me>=ce?1:0,ie[he]=me-se*ce;for(;he<Y;)me=z[he]+se,se=me===ce?1:0,ie[he++]=me-se*ce;return se>0&&ie.push(se),ie}function P(z,Q){return z.length>=Q.length?w(z,Q):w(Q,z)}function C(z,Q){var Y=z.length,ee=new Array(Y),ie=e,se,ce;for(ce=0;ce<Y;ce++)se=z[ce]-ie+Q,Q=Math.floor(se/ie),ee[ce]=se-Q*ie,Q+=1;for(;Q>0;)ee[ce++]=Q%ie,Q=Math.floor(Q/ie);return ee}a.prototype.add=function(z){var Q=Me(z);if(this.sign!==Q.sign)return this.subtract(Q.negate());var Y=this.value,ee=Q.value;return Q.isSmall?new a(C(Y,Math.abs(ee)),this.sign):new a(P(Y,ee),this.sign)},a.prototype.plus=a.prototype.add,u.prototype.add=function(z){var Q=Me(z),Y=this.value;if(Y<0!==Q.sign)return this.subtract(Q.negate());var ee=Q.value;if(Q.isSmall){if(c(Y+ee))return new u(Y+ee);ee=d(Math.abs(ee))}return new a(C(ee,Math.abs(Y)),Y<0)},u.prototype.plus=u.prototype.add;function R(z,Q){var Y=z.length,ee=Q.length,ie=new Array(Y),se=0,ce=e,me,he;for(me=0;me<ee;me++)he=z[me]-se-Q[me],he<0?(he+=ce,se=1):se=0,ie[me]=he;for(me=ee;me<Y;me++){if(he=z[me]-se,he<0)he+=ce;else{ie[me++]=he;break}ie[me]=he}for(;me<Y;me++)ie[me]=z[me];return m(ie),ie}function T(z,Q,Y){var ee;return I(z,Q)>=0?ee=R(z,Q):(ee=R(Q,z),Y=!Y),ee=f(ee),typeof ee=="number"?(Y&&(ee=-ee),new u(ee)):new a(ee,Y)}function k(z,Q,Y){var ee=z.length,ie=new Array(ee),se=-Q,ce=e,me,he;for(me=0;me<ee;me++)he=z[me]+se,se=Math.floor(he/ce),he%=ce,ie[me]=he<0?he+ce:he;return ie=f(ie),typeof ie=="number"?(Y&&(ie=-ie),new u(ie)):new a(ie,Y)}a.prototype.subtract=function(z){var Q=Me(z);if(this.sign!==Q.sign)return this.add(Q.negate());var Y=this.value,ee=Q.value;return Q.isSmall?k(Y,Math.abs(ee),this.sign):T(Y,ee,this.sign)},a.prototype.minus=a.prototype.subtract,u.prototype.subtract=function(z){var Q=Me(z),Y=this.value;if(Y<0!==Q.sign)return this.add(Q.negate());var ee=Q.value;return Q.isSmall?new u(Y-ee):k(ee,Math.abs(Y),Y>=0)},u.prototype.minus=u.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},u.prototype.negate=function(){var z=this.sign,Q=new u(-this.value);return Q.sign=!z,Q},a.prototype.abs=function(){return new a(this.value,!1)},u.prototype.abs=function(){return new u(Math.abs(this.value))};function H(z,Q){var Y=z.length,ee=Q.length,ie=Y+ee,se=p(ie),ce=e,me,he,Ee,Te,Fe;for(Ee=0;Ee<Y;++Ee){Te=z[Ee];for(var Ce=0;Ce<ee;++Ce)Fe=Q[Ce],me=Te*Fe+se[Ee+Ce],he=Math.floor(me/ce),se[Ee+Ce]=me-he*ce,se[Ee+Ce+1]+=he}return m(se),se}function F(z,Q){var Y=z.length,ee=new Array(Y),ie=e,se=0,ce,me;for(me=0;me<Y;me++)ce=z[me]*Q+se,se=Math.floor(ce/ie),ee[me]=ce-se*ie;for(;se>0;)ee[me++]=se%ie,se=Math.floor(se/ie);return ee}function L(z,Q){for(var Y=[];Q-- >0;)Y.push(0);return Y.concat(z)}function D(z,Q){var Y=Math.max(z.length,Q.length);if(Y<=30)return H(z,Q);Y=Math.ceil(Y/2);var ee=z.slice(Y),ie=z.slice(0,Y),se=Q.slice(Y),ce=Q.slice(0,Y),me=D(ie,ce),he=D(ee,se),Ee=D(P(ie,ee),P(ce,se)),Te=P(P(me,L(R(R(Ee,me),he),Y)),L(he,2*Y));return m(Te),Te}function N(z,Q){return-.012*z-.012*Q+15e-6*z*Q>0}a.prototype.multiply=function(z){var Q=Me(z),Y=this.value,ee=Q.value,ie=this.sign!==Q.sign,se;if(Q.isSmall){if(ee===0)return o[0];if(ee===1)return this;if(ee===-1)return this.negate();if(se=Math.abs(ee),se<e)return new a(F(Y,se),ie);ee=d(se)}return N(Y.length,ee.length)?new a(D(Y,ee),ie):new a(H(Y,ee),ie)},a.prototype.times=a.prototype.multiply;function g(z,Q,Y){return z<e?new a(F(Q,z),Y):new a(H(Q,d(z)),Y)}u.prototype._multiplyBySmall=function(z){return c(z.value*this.value)?new u(z.value*this.value):g(Math.abs(z.value),d(Math.abs(this.value)),this.sign!==z.sign)},a.prototype._multiplyBySmall=function(z){return z.value===0?o[0]:z.value===1?this:z.value===-1?this.negate():g(Math.abs(z.value),this.value,this.sign!==z.sign)},u.prototype.multiply=function(z){return Me(z)._multiplyBySmall(this)},u.prototype.times=u.prototype.multiply;function h(z){var Q=z.length,Y=p(Q+Q),ee=e,ie,se,ce,me,he;for(ce=0;ce<Q;ce++){me=z[ce],se=0-me*me;for(var Ee=ce;Ee<Q;Ee++)he=z[Ee],ie=2*(me*he)+Y[ce+Ee]+se,se=Math.floor(ie/ee),Y[ce+Ee]=ie-se*ee;Y[ce+Q]=se}return m(Y),Y}a.prototype.square=function(){return new a(h(this.value),!1)},u.prototype.square=function(){var z=this.value*this.value;return c(z)?new u(z):new a(h(d(Math.abs(this.value))),!1)};function l(z,Q){var Y=z.length,ee=Q.length,ie=e,se=p(Q.length),ce=Q[ee-1],me=Math.ceil(ie/(2*ce)),he=F(z,me),Ee=F(Q,me),Te,Fe,Ce,Ge,ft,tt,rt;for(he.length<=Y&&he.push(0),Ee.push(0),ce=Ee[ee-1],Fe=Y-ee;Fe>=0;Fe--){for(Te=ie-1,he[Fe+ee]!==ce&&(Te=Math.floor((he[Fe+ee]*ie+he[Fe+ee-1])/ce)),Ce=0,Ge=0,tt=Ee.length,ft=0;ft<tt;ft++)Ce+=Te*Ee[ft],rt=Math.floor(Ce/ie),Ge+=he[Fe+ft]-(Ce-rt*ie),Ce=rt,Ge<0?(he[Fe+ft]=Ge+ie,Ge=-1):(he[Fe+ft]=Ge,Ge=0);for(;Ge!==0;){for(Te-=1,Ce=0,ft=0;ft<tt;ft++)Ce+=he[Fe+ft]-ie+Ee[ft],Ce<0?(he[Fe+ft]=Ce+ie,Ce=0):(he[Fe+ft]=Ce,Ce=1);Ge+=Ce}se[Fe]=Te}return he=_(he,me)[0],[f(se),f(he)]}function b(z,Q){for(var Y=z.length,ee=Q.length,ie=[],se=[],ce=e,me,he,Ee,Te,Fe;Y;){if(se.unshift(z[--Y]),m(se),I(se,Q)<0){ie.push(0);continue}he=se.length,Ee=se[he-1]*ce+se[he-2],Te=Q[ee-1]*ce+Q[ee-2],he>ee&&(Ee=(Ee+1)*ce),me=Math.ceil(Ee/Te);do{if(Fe=F(Q,me),I(Fe,se)<=0)break;me--}while(me);ie.push(me),se=R(se,Fe)}return ie.reverse(),[f(ie),f(se)]}function _(z,Q){var Y=z.length,ee=p(Y),ie=e,se,ce,me,he;for(me=0,se=Y-1;se>=0;--se)he=me*ie+z[se],ce=y(he/Q),me=he-ce*Q,ee[se]=ce|0;return[ee,me|0]}function x(z,Q){var Y,ee=Me(Q),ie=z.value,se=ee.value,ce;if(se===0)throw new Error("Cannot divide by zero");if(z.isSmall)return ee.isSmall?[new u(y(ie/se)),new u(ie%se)]:[o[0],z];if(ee.isSmall){if(se===1)return[z,o[0]];if(se==-1)return[z.negate(),o[0]];var me=Math.abs(se);if(me<e){Y=_(ie,me),ce=f(Y[0]);var he=Y[1];return z.sign&&(he=-he),typeof ce=="number"?(z.sign!==ee.sign&&(ce=-ce),[new u(ce),new u(he)]):[new a(ce,z.sign!==ee.sign),new u(he)]}se=d(me)}var Ee=I(ie,se);if(Ee===-1)return[o[0],z];if(Ee===0)return[o[z.sign===ee.sign?1:-1],o[0]];ie.length+se.length<=200?Y=l(ie,se):Y=b(ie,se),ce=Y[0];var Te=z.sign!==ee.sign,Fe=Y[1],Ce=z.sign;return typeof ce=="number"?(Te&&(ce=-ce),ce=new u(ce)):ce=new a(ce,Te),typeof Fe=="number"?(Ce&&(Fe=-Fe),Fe=new u(Fe)):Fe=new a(Fe,Ce),[ce,Fe]}a.prototype.divmod=function(z){var Q=x(this,z);return{quotient:Q[0],remainder:Q[1]}},u.prototype.divmod=a.prototype.divmod,a.prototype.divide=function(z){return x(this,z)[0]},u.prototype.over=u.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(z){return x(this,z)[1]},u.prototype.remainder=u.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(z){var Q=Me(z),Y=this.value,ee=Q.value,ie,se,ce;if(ee===0)return o[1];if(Y===0)return o[0];if(Y===1)return o[1];if(Y===-1)return Q.isEven()?o[1]:o[-1];if(Q.sign)return o[0];if(!Q.isSmall)throw new Error("The exponent "+Q.toString()+" is too large.");if(this.isSmall&&c(ie=Math.pow(Y,ee)))return new u(y(ie));for(se=this,ce=o[1];ee&!0&&(ce=ce.times(se),--ee),ee!==0;)ee/=2,se=se.square();return ce},u.prototype.pow=a.prototype.pow,a.prototype.modPow=function(z,Q){if(z=Me(z),Q=Me(Q),Q.isZero())throw new Error("Cannot take modPow with modulus 0");for(var Y=o[1],ee=this.mod(Q);z.isPositive();){if(ee.isZero())return o[0];z.isOdd()&&(Y=Y.multiply(ee).mod(Q)),z=z.divide(2),ee=ee.square().mod(Q)}return Y},u.prototype.modPow=a.prototype.modPow;function I(z,Q){if(z.length!==Q.length)return z.length>Q.length?1:-1;for(var Y=z.length-1;Y>=0;Y--)if(z[Y]!==Q[Y])return z[Y]>Q[Y]?1:-1;return 0}a.prototype.compareAbs=function(z){var Q=Me(z),Y=this.value,ee=Q.value;return Q.isSmall?1:I(Y,ee)},u.prototype.compareAbs=function(z){var Q=Me(z),Y=Math.abs(this.value),ee=Q.value;return Q.isSmall?(ee=Math.abs(ee),Y===ee?0:Y>ee?1:-1):-1},a.prototype.compare=function(z){if(z===1/0)return-1;if(z===-1/0)return 1;var Q=Me(z),Y=this.value,ee=Q.value;return this.sign!==Q.sign?Q.sign?1:-1:Q.isSmall?this.sign?-1:1:I(Y,ee)*(this.sign?-1:1)},a.prototype.compareTo=a.prototype.compare,u.prototype.compare=function(z){if(z===1/0)return-1;if(z===-1/0)return 1;var Q=Me(z),Y=this.value,ee=Q.value;return Q.isSmall?Y==ee?0:Y>ee?1:-1:Y<0!==Q.sign?Y<0?-1:1:Y<0?1:-1},u.prototype.compareTo=u.prototype.compare,a.prototype.equals=function(z){return this.compare(z)===0},u.prototype.eq=u.prototype.equals=a.prototype.eq=a.prototype.equals,a.prototype.notEquals=function(z){return this.compare(z)!==0},u.prototype.neq=u.prototype.notEquals=a.prototype.neq=a.prototype.notEquals,a.prototype.greater=function(z){return this.compare(z)>0},u.prototype.gt=u.prototype.greater=a.prototype.gt=a.prototype.greater,a.prototype.lesser=function(z){return this.compare(z)<0},u.prototype.lt=u.prototype.lesser=a.prototype.lt=a.prototype.lesser,a.prototype.greaterOrEquals=function(z){return this.compare(z)>=0},u.prototype.geq=u.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals,a.prototype.lesserOrEquals=function(z){return this.compare(z)<=0},u.prototype.leq=u.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals,a.prototype.isEven=function(){return(this.value[0]&1)===0},u.prototype.isEven=function(){return(this.value&1)===0},a.prototype.isOdd=function(){return(this.value[0]&1)===1},u.prototype.isOdd=function(){return(this.value&1)===1},a.prototype.isPositive=function(){return!this.sign},u.prototype.isPositive=function(){return this.value>0},a.prototype.isNegative=function(){return this.sign},u.prototype.isNegative=function(){return this.value<0},a.prototype.isUnit=function(){return!1},u.prototype.isUnit=function(){return Math.abs(this.value)===1},a.prototype.isZero=function(){return!1},u.prototype.isZero=function(){return this.value===0},a.prototype.isDivisibleBy=function(z){var Q=Me(z),Y=Q.value;return Y===0?!1:Y===1?!0:Y===2?this.isEven():this.mod(Q).equals(o[0])},u.prototype.isDivisibleBy=a.prototype.isDivisibleBy;function A(z){var Q=z.abs();if(Q.isUnit())return!1;if(Q.equals(2)||Q.equals(3)||Q.equals(5))return!0;if(Q.isEven()||Q.isDivisibleBy(3)||Q.isDivisibleBy(5))return!1;if(Q.lesser(49))return!0}function v(z,Q){for(var Y=z.prev(),ee=Y,ie=0,se,ce,me,he;ee.isEven();)ee=ee.divide(2),ie++;e:for(me=0;me<Q.length;me++)if(!z.lesser(Q[me])&&(he=hs(Q[me]).modPow(ee,z),!(he.equals(o[1])||he.equals(Y)))){for(se=ie-1;se!=0;se--){if(he=he.square().mod(z),he.isUnit())return!1;if(he.equals(Y))continue e}return!1}return!0}a.prototype.isPrime=function(z){var Q=A(this);if(Q!==t)return Q;var Y=this.abs(),ee=Y.bitLength();if(ee<=64)return v(Y,[2,325,9375,28178,450775,9780504,1795265022]);for(var ie=Math.log(2)*ee,se=Math.ceil(z===!0?2*Math.pow(ie,2):ie),ce=[],me=0;me<se;me++)ce.push(hs(me+2));return v(Y,ce)},u.prototype.isPrime=a.prototype.isPrime,a.prototype.isProbablePrime=function(z){var Q=A(this);if(Q!==t)return Q;for(var Y=this.abs(),ee=z===t?5:z,ie=[],se=0;se<ee;se++)ie.push(hs.randBetween(2,Y.minus(2)));return v(Y,ie)},u.prototype.isProbablePrime=a.prototype.isProbablePrime,a.prototype.modInv=function(z){for(var Q=hs.zero,Y=hs.one,ee=Me(z),ie=this.abs(),se,ce,me;!ie.equals(hs.zero);)se=ee.divide(ie),ce=Q,me=ee,Q=Y,ee=ie,Y=ce.subtract(se.multiply(Y)),ie=me.subtract(se.multiply(ie));if(!ee.equals(1))throw new Error(this.toString()+" and "+z.toString()+" are not co-prime");return Q.compare(0)===-1&&(Q=Q.add(z)),this.isNegative()?Q.negate():Q},u.prototype.modInv=a.prototype.modInv,a.prototype.next=function(){var z=this.value;return this.sign?k(z,1,this.sign):new a(C(z,1),this.sign)},u.prototype.next=function(){var z=this.value;return z+1<n?new u(z+1):new a(i,!1)},a.prototype.prev=function(){var z=this.value;return this.sign?new a(C(z,1),!0):k(z,1,this.sign)},u.prototype.prev=function(){var z=this.value;return z-1>-n?new u(z-1):new a(i,!0)};for(var S=[1];2*S[S.length-1]<=e;)S.push(2*S[S.length-1]);var O=S.length,q=S[O-1];function J(z){return(typeof z=="number"||typeof z=="string")&&+Math.abs(z)<=e||z instanceof a&&z.value.length<=1}a.prototype.shiftLeft=function(z){if(!J(z))throw new Error(String(z)+" is too large for shifting.");if(z=+z,z<0)return this.shiftRight(-z);var Q=this;if(Q.isZero())return Q;for(;z>=O;)Q=Q.multiply(q),z-=O-1;return Q.multiply(S[z])},u.prototype.shiftLeft=a.prototype.shiftLeft,a.prototype.shiftRight=function(z){var Q;if(!J(z))throw new Error(String(z)+" is too large for shifting.");if(z=+z,z<0)return this.shiftLeft(-z);for(var Y=this;z>=O;){if(Y.isZero()||Y.isNegative()&&Y.isUnit())return Y;Q=x(Y,q),Y=Q[1].isNegative()?Q[0].prev():Q[0],z-=O-1}return Q=x(Y,S[z]),Q[1].isNegative()?Q[0].prev():Q[0]},u.prototype.shiftRight=a.prototype.shiftRight;function ne(z,Q,Y){Q=Me(Q);for(var ee=z.isNegative(),ie=Q.isNegative(),se=ee?z.not():z,ce=ie?Q.not():Q,me=0,he=0,Ee=null,Te=null,Fe=[];!se.isZero()||!ce.isZero();)Ee=x(se,q),me=Ee[1].toJSNumber(),ee&&(me=q-1-me),Te=x(ce,q),he=Te[1].toJSNumber(),ie&&(he=q-1-he),se=Ee[0],ce=Te[0],Fe.push(Y(me,he));for(var Ce=Y(ee?1:0,ie?1:0)!==0?hs(-1):hs(0),Ge=Fe.length-1;Ge>=0;Ge-=1)Ce=Ce.multiply(q).add(hs(Fe[Ge]));return Ce}a.prototype.not=function(){return this.negate().prev()},u.prototype.not=a.prototype.not,a.prototype.and=function(z){return ne(this,z,function(Q,Y){return Q&Y})},u.prototype.and=a.prototype.and,a.prototype.or=function(z){return ne(this,z,function(Q,Y){return Q|Y})},u.prototype.or=a.prototype.or,a.prototype.xor=function(z){return ne(this,z,function(Q,Y){return Q^Y})},u.prototype.xor=a.prototype.xor;var oe=1<<30,le=(e&-e)*(e&-e)|oe;function pe(z){var Q=z.value,Y=typeof Q=="number"?Q|oe:Q[0]+Q[1]*e|le;return Y&-Y}function G(z,Q){if(Q.compareTo(z)<=0){var Y=G(z,Q.square(Q)),ee=Y.p,ie=Y.e,se=ee.multiply(Q);return se.compareTo(z)<=0?{p:se,e:ie*2+1}:{p:ee,e:ie*2}}return{p:hs(1),e:0}}a.prototype.bitLength=function(){var z=this;return z.compareTo(hs(0))<0&&(z=z.negate().subtract(hs(1))),z.compareTo(hs(0))===0?hs(0):hs(G(z,hs(2)).e).add(hs(1))},u.prototype.bitLength=a.prototype.bitLength;function te(z,Q){return z=Me(z),Q=Me(Q),z.greater(Q)?z:Q}function ae(z,Q){return z=Me(z),Q=Me(Q),z.lesser(Q)?z:Q}function be(z,Q){if(z=Me(z).abs(),Q=Me(Q).abs(),z.equals(Q))return z;if(z.isZero())return Q;if(Q.isZero())return z;for(var Y=o[1],ee,ie;z.isEven()&&Q.isEven();)ee=Math.min(pe(z),pe(Q)),z=z.divide(ee),Q=Q.divide(ee),Y=Y.multiply(ee);for(;z.isEven();)z=z.divide(pe(z));do{for(;Q.isEven();)Q=Q.divide(pe(Q));z.greater(Q)&&(ie=Q,Q=z,z=ie),Q=Q.subtract(z)}while(!Q.isZero());return Y.isUnit()?z:z.multiply(Y)}function ye(z,Q){return z=Me(z).abs(),Q=Me(Q).abs(),z.divide(be(z,Q)).multiply(Q)}function _e(z,Q){z=Me(z),Q=Me(Q);var Y=ae(z,Q),ee=te(z,Q),ie=ee.subtract(Y).add(1);if(ie.isSmall)return Y.add(Math.floor(Math.random()*ie));for(var se=ie.value.length-1,ce=[],me=!0,he=se;he>=0;he--){var Ee=me?ie.value[he]:e,Te=y(Math.random()*Ee);ce.unshift(Te),Te<Ee&&(me=!1)}return ce=f(ce),Y.add(typeof ce=="number"?new u(ce):new a(ce,!1))}var ke=function(z,Q){for(var Y=z.length,ee,ie=Math.abs(Q),ee=0;ee<Y;ee++){var se=z[ee].toLowerCase();if(se!=="-"&&/[a-z0-9]/.test(se)){if(/[0-9]/.test(se)&&+se>=ie){if(se==="1"&&ie===1)continue;throw new Error(se+" is not a valid digit in base "+Q+".")}else if(se.charCodeAt(0)-87>=ie)throw new Error(se+" is not a valid digit in base "+Q+".")}}if(2<=Q&&Q<=36&&Y<=s/Math.log(Q)){var ce=parseInt(z,Q);if(isNaN(ce))throw new Error(se+" is not a valid digit in base "+Q+".");return new u(parseInt(z,Q))}Q=Me(Q);var me=[],he=z[0]==="-";for(ee=he?1:0;ee<z.length;ee++){var se=z[ee].toLowerCase(),Ee=se.charCodeAt(0);if(48<=Ee&&Ee<=57)me.push(Me(se));else if(97<=Ee&&Ee<=122)me.push(Me(se.charCodeAt(0)-87));else if(se==="<"){var Te=ee;do ee++;while(z[ee]!==">");me.push(Me(z.slice(Te+1,ee)))}else throw new Error(se+" is not a valid character")}return He(me,Q,he)};function He(z,Q,Y){var ee=o[0],ie=o[1],se;for(se=z.length-1;se>=0;se--)ee=ee.add(z[se].times(ie)),ie=ie.times(Q);return Y?ee.negate():ee}function ze(z){return z<=35?"0123456789abcdefghijklmnopqrstuvwxyz".charAt(z):"<"+z+">"}function qe(z,Q){if(Q=hs(Q),Q.isZero()){if(z.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(Q.equals(-1)){if(z.isZero())return{value:[0],isNegative:!1};if(z.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-z)).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var Y=Array.apply(null,Array(+z-1)).map(Array.prototype.valueOf,[0,1]);return Y.unshift([1]),{value:[].concat.apply([],Y),isNegative:!1}}var ee=!1;if(z.isNegative()&&Q.isPositive()&&(ee=!0,z=z.abs()),Q.equals(1))return z.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(+z)).map(Number.prototype.valueOf,1),isNegative:ee};for(var ie=[],se=z,ce;se.isNegative()||se.compareAbs(Q)>=0;){ce=se.divmod(Q),se=ce.quotient;var me=ce.remainder;me.isNegative()&&(me=Q.minus(me).abs(),se=se.next()),ie.push(me.toJSNumber())}return ie.push(se.toJSNumber()),{value:ie.reverse(),isNegative:ee}}function Ve(z,Q){var Y=qe(z,Q);return(Y.isNegative?"-":"")+Y.value.map(ze).join("")}a.prototype.toArray=function(z){return qe(this,z)},u.prototype.toArray=function(z){return qe(this,z)},a.prototype.toString=function(z){if(z===t&&(z=10),z!==10)return Ve(this,z);for(var Q=this.value,Y=Q.length,ee=String(Q[--Y]),ie="0000000",se;--Y>=0;)se=String(Q[Y]),ee+=ie.slice(se.length)+se;var ce=this.sign?"-":"";return ce+ee},u.prototype.toString=function(z){return z===t&&(z=10),z!=10?Ve(this,z):String(this.value)},a.prototype.toJSON=u.prototype.toJSON=function(){return this.toString()},a.prototype.valueOf=function(){return parseInt(this.toString(),10)},a.prototype.toJSNumber=a.prototype.valueOf,u.prototype.valueOf=function(){return this.value},u.prototype.toJSNumber=u.prototype.valueOf;function Xe(z){if(c(+z)){var Q=+z;if(Q===y(Q))return new u(Q);throw new Error("Invalid integer: "+z)}var Y=z[0]==="-";Y&&(z=z.slice(1));var ee=z.split(/e/i);if(ee.length>2)throw new Error("Invalid integer: "+ee.join("e"));if(ee.length===2){var ie=ee[1];if(ie[0]==="+"&&(ie=ie.slice(1)),ie=+ie,ie!==y(ie)||!c(ie))throw new Error("Invalid integer: "+ie+" is not a valid exponent.");var se=ee[0],ce=se.indexOf(".");if(ce>=0&&(ie-=se.length-ce-1,se=se.slice(0,ce)+se.slice(ce+1)),ie<0)throw new Error("Cannot include negative exponent part for integers");se+=new Array(ie+1).join("0"),z=se}var me=/^([0-9][0-9]*)$/.test(z);if(!me)throw new Error("Invalid integer: "+z);for(var he=[],Ee=z.length,Te=r,Fe=Ee-Te;Ee>0;)he.push(+z.slice(Fe,Ee)),Fe-=Te,Fe<0&&(Fe=0),Ee-=Te;return m(he),new a(he,Y)}function je(z){if(c(z)){if(z!==y(z))throw new Error(z+" is not an integer.");return new u(z)}return Xe(z.toString())}function Me(z){return typeof z=="number"?je(z):typeof z=="string"?Xe(z):z}for(var it=0;it<1e3;it++)o[it]=new u(it),it>0&&(o[-it]=new u(-it));return o.one=o[1],o.zero=o[0],o.minusOne=o[-1],o.max=te,o.min=ae,o.gcd=be,o.lcm=ye,o.isInstance=function(z){return z instanceof a||z instanceof u},o.randBetween=_e,o.fromArray=function(z,Q,Y){return He(z.map(Me),Me(Q||10),Y)},o}();typeof iv<"u"&&iv.hasOwnProperty("exports")&&(iv.exports=hs);typeof define=="function"&&define.amd&&define("big-integer",[],function(){return hs})});var t$=j(sv=>{"use strict";B();M();Object.defineProperty(sv,"__esModule",{value:!0});sv.convert=void 0;var e$=nv();function Kbe(t,e,r,n){for(var i=n?Math.floor(t.length*e/r):Math.ceil(t.length*e/r),s=(1<<r)-1,o=new Uint8Array(i),a=0,u=0,c=0,d=0;d<t.length;++d){var f=t[d];for((0,e$.validate)(0<=f&&f>>e===0,"Invalid value: "+f+"."),u=u<<e|f,c+=e;c>=r;)c-=r,o[a]=u>>c&s,++a}return n?(0,e$.validate)(c<e&&(u<<r-c&s)===0,"Input cannot be converted to "+r+" bits without padding, but strict mode was used."):c>0&&(o[a]=u<<r-c&s,++a),o}sv.convert=Kbe});var a$=j(Ec=>{"use strict";B();M();var $be=Ec&&Ec.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zbe=Ec&&Ec.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r$=Ec&&Ec.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$be(e,t,r);return zbe(e,t),e};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.decode=Ec.encode=void 0;var n$=r$(JK()),Vbe=QK(),i$=r$(t$()),wI=nv();function Gbe(t,e,r){let n=Ip(s$(t),new Uint8Array(1)),i=Xbe(e)+Jbe(r),s=e4e(Ip(new Uint8Array([i]),r)),o=Ip(Ip(n,s),new Uint8Array(8)),a=Ip(s,Ybe(o$(o)));return t+":"+n$.encode(a)}Ec.encode=Gbe;function Wbe(t){let e=t.toLowerCase().split(":");(0,wI.validate)(e.length===2,"Missing prefix: "+t+".");let r=e[0],n=n$.decode(e[1]);(0,wI.validate)(r4e(r,n),"Invalid checksum: "+t+".");let i=t4e(n.subarray(0,-8)),s=i[0],o=i.subarray(1);(0,wI.validate)(Qbe(s)===o.length*8,"Invalid hash size: "+t+".");let a=Zbe(s);return{prefix:r,type:a,hash:o}}Ec.decode=Wbe;function s$(t){for(var e=new Uint8Array(t.length),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0)&31;return e}function Ybe(t){for(var e=new Uint8Array(8),r=0;r<8;++r)e[7-r]=t.and(31).toJSNumber(),t=t.shiftRight(5);return e}function Xbe(t){switch(t){case"P2PKH":return 0;case"P2SH":return 8;default:throw new Error("Invalid type: "+t+".")}}function Zbe(t){switch(t&120){case 0:return"P2PKH";case 8:return"P2SH";default:throw new Error("Invalid address type in version byte: "+t+".")}}function Jbe(t){switch(t.length*8){case 160:return 0;case 192:return 1;case 224:return 2;case 256:return 3;case 320:return 4;case 384:return 5;case 448:return 6;case 512:return 7;default:throw new Error("Invalid hash size: "+t.length+".")}}function Qbe(t){switch(t&7){case 0:return 160;case 1:return 192;case 2:return 224;case 3:return 256;case 4:return 320;case 5:return 384;case 6:return 448;case 7:return 512}}function e4e(t){return i$.convert(t,8,5,!1)}function t4e(t){return i$.convert(t,5,8,!0)}function Ip(t,e){var r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function o$(t){for(var e=[656907472481,522768456162,0xf33e5fb3c4,748107326120,130178868336],r=Vbe(1),n=0;n<t.length;++n){var i=t[n],s=r.shiftRight(35);r=r.and(34359738367).shiftLeft(5).xor(i);for(var o=0;o<e.length;++o)s.shiftRight(o).and(1).equals(1)&&(r=r.xor(e[o]))}return r.xor(1)}function r4e(t,e){var r=Ip(s$(t),new Uint8Array(1)),n=Ip(r,e);return o$(n).equals(0)}});var d$=j(ls=>{"use strict";B();M();var n4e=ls&&ls.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),i4e=ls&&ls.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c$=ls&&ls.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&n4e(e,t,r);return i4e(e,t),e};Object.defineProperty(ls,"__esModule",{value:!0});ls.convert2LegacyAddress=ls.isCashAddress=ls.ValidateBitcashP2PkHAddress=ls.GetBitcashP2PkHAddressByPublicKey=ls.GetBitcashAddressByPublicKey=ls.GetBitcashAddressByHash=void 0;var f$=xo(),ov=c$(a$()),u$=c$(Cl());function xI(t,e,r){return ov.encode(t,e,r)}ls.GetBitcashAddressByHash=xI;function s4e(t,e,r){let n=(0,f$.hash160)(E.Buffer.from(r));return xI(t,e,n)}ls.GetBitcashAddressByPublicKey=s4e;function o4e(t){let e=(0,f$.hash160)(E.Buffer.from(t));return xI("bitcoincash","P2PKH",e)}ls.GetBitcashP2PkHAddressByPublicKey=o4e;function a4e(t){try{t.indexOf(":")===-1&&(t="bitcoincash:"+t);let{prefix:e,type:r,hash:n}=ov.decode(t);return r==="P2PKH"&&n.length===20}catch{return!1}}ls.ValidateBitcashP2PkHAddress=a4e;function u4e(t){try{return t.startsWith("bitcoincash:")||(t="bitcoincash:"+t,ov.decode(t)),!0}catch{return!1}}ls.isCashAddress=u4e;function c4e(t,e){t.indexOf(":")===-1&&(t="bitcoincash:"+t);let{type:r,hash:n}=ov.decode(t);if(r=="P2PKH")return u$.p2pkh({hash:E.Buffer.from(n),network:e}).address;if(r=="P2SH")return u$.p2sh({hash:E.Buffer.from(n),network:e}).address;throw new Error("convert2LegacyAddress error")}ls.convert2LegacyAddress=c4e});var l$=j(h$=>{"use strict";B();M();Object.defineProperty(h$,"__esModule",{value:!0})});var y$=j(Ac=>{"use strict";B();M();var f4e=Ac&&Ac.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),d4e=Ac&&Ac.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),EI=Ac&&Ac.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&f4e(e,t,r);return d4e(e,t),e};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.srcInscribe=Ac.SrcInscriptionTool=void 0;var ea=EI(Wa()),Pp=dn(),h4e=EI(I0()),l4e=EI(xo()),I4=Iu(),p4e=Wa(),p$=h2(),b4e=Pp.signUtil.schnorr.secp256k1.schnorr,g4e=2,b$=31,m4e=4294967293,y4e=7800,v4e=7800,mtt=4e6/10,w2=class{constructor(){this.network=ea.networks.bitcoin,this.revealTxs=[],this.commitTx=new ea.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newSrcInscriptionTool(e,r){let n=new w2;n.network=e;let i=r.revealOutValue||y4e,s=r.minChangeValue||v4e;return n.buildCommitTx(e,r.inscriptionData,i,r.commitTxPrevOutputList,r.changeAddress,r.commitFeeRate,s)||n.signCommitTx(r.commitTxPrevOutputList),n}buildCommitTx(e,r,n,i,s,o,a){let u=E.Buffer.from(r.contentType),c=E.Buffer.from(r.body);for(;c[c.length-1]==0;)c=c.slice(0,c.length-1);let d=2+u.length+c.length,f=d%62==0?d:d+62-d%62,m=p4e.BufferWriter.withCapacity(f);m.writeSlice(E.Buffer.from([(u.length+c.length)/256,(u.length+c.length)%256])),m.writeSlice(u),m.writeSlice(c),f>d&&m.writeSlice(E.Buffer.alloc(f-d));let p=m.end(),y=Pp.base.fromHex(x4e(i[0].txId,p.toString("hex"))),w=0,P=0,C=new ea.Transaction;for(C.version=g4e,P+=n,C.addOutput(ea.address.toOutputScript(r.revealAddr,e),n);y.length;){let L=y.slice(0,Math.min(b$,y.length)),D=L.toString("hex");D.length<62&&(D=D+"0".repeat(62-D.length)),y=y.slice(L.length);let g=y.slice(0,Math.min(b$,y.length)).toString("hex");g.length<62&&(g=g+"0".repeat(62-g.length)),y=y.slice(L.length);let h=["03"+D+"00","02"+g+"00","020202020202020202020202020202020202020202020202020202020202020202"].map(b=>E.Buffer.from(b,"hex")),l=ea.payments.p2ms({m:1,pubkeys:h});C.addOutput(l.output,n),P+=n}i.forEach(L=>{let D=Pp.base.reverseBuffer(Pp.base.fromHex(L.txId));C.addInput(D,L.vOut,m4e),this.commitTxPrevOutputFetcher.push(L.amount),w+=L.amount});let R=ea.address.toOutputScript(s,e);C.addOutput(R,0);let T=C.clone();g$(T,i,this.network);let k=(0,p$.countAdjustedVsize)(T,i.map(L=>L.address),e),H=Math.floor(k*o),F=w-P-H;if(F>=a)C.outs[C.outs.length-1].value=F;else{C.outs=C.outs.slice(0,C.outs.length-1),T.outs=T.outs.slice(0,T.outs.length-1);let L=(0,p$.countAdjustedVsize)(T,i.map(N=>N.address),e),D=Math.floor(L*o);if(w-P-D<0)return this.mustCommitTxFee=H,!0}return this.commitTx=C,!1}signCommitTx(e){g$(this.commitTx,e,this.network)}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};Ac.SrcInscriptionTool=w2;function g$(t,e,r){t.ins.forEach((n,i)=>{let s=(0,I4.getAddressType)(e[i].address,r),o=Pp.base.fromHex((0,I4.privateKeyFromWIF)(e[i].privateKey,r)),a=Pp.base.toHex(o),u=(0,I4.private2public)(a);if(s==="segwit_taproot"){let c=e.map(y=>ea.address.toOutputScript(y.address,r)),d=e.map(y=>y.amount),f=t.hashForWitnessV1(i,c,d,ea.Transaction.SIGHASH_DEFAULT),m=h4e.taprootTweakPrivKey(o),p=E.Buffer.from(b4e.sign(f,m,Pp.base.randomBytes(32)));n.witness=[E.Buffer.from(p)]}else if(s==="legacy"){let c=ea.address.toOutputScript(e[i].address,r),d=t.hashForSignature(i,c,ea.Transaction.SIGHASH_ALL),f=(0,I4.sign)(d,a),m=ea.payments.p2pkh({signature:ea.script.signature.encode(f,ea.Transaction.SIGHASH_ALL),pubkey:u});n.script=m.input}else{let c=l4e.hash160(u),d=E.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,m=t.hashForWitness(i,d,f,ea.Transaction.SIGHASH_ALL),p=(0,I4.sign)(m,a);n.witness=[ea.script.signature.encode(p,ea.Transaction.SIGHASH_ALL),u];let y=E.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function _4e(t,e){let r=w2.newSrcInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Ac.srcInscribe=_4e;function S4e(t,e){for(var r=[],n=0,i,s="",o=0;o<256;o++)r[o]=o;for(o=0;o<256;o++)n=(n+r[o]+t.charCodeAt(o%t.length))%256,i=r[o],r[o]=r[n],r[n]=i;o=0,n=0;for(var a=0;a<e.length;a++)o=(o+1)%256,n=(n+r[o])%256,i=r[o],r[o]=r[n],r[n]=i,s+=String.fromCharCode(e.charCodeAt(a)^r[(r[o]+r[n])%256]);return s}function m$(t){for(var e=[],r,n=0;n<t.length-1;n+=2){var i=parseInt(t.substr(n,2),16);e.push(i)}return r=String.fromCharCode.apply(String,e),r}function w4e(t){var e,r,n="",i;for(t+="",e=0,r=t.length;e<r;e++)i=t.charCodeAt(e).toString(16),n+=i.length<2?"0"+i:i;return n}function x4e(t,e){return w4e(S4e(m$(t),m$(e)))}});var T$=j(ta=>{"use strict";B();M();var E4e=ta&&ta.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),A4e=ta&&ta.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),II=ta&&ta.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&E4e(e,t,r);return A4e(e,t),e};Object.defineProperty(ta,"__esModule",{value:!0});ta.inscribeForMPCSigned=ta.inscribeForMPCUnsigned=ta.inscribe=ta.InscriptionTool=void 0;var mr=II(Wa()),tu=dn(),T4e=II(I0()),_$=II(xo()),S$=Fl(),Kl=Iu(),AI=Ap(),av=h2(),PI=tu.signUtil.schnorr.secp256k1.schnorr,uv=2,cv=4294967293,w$=546,x$=546,v$=4e6/10,x2=class{constructor(){this.network=mr.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new mr.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newInscriptionTool(e,r){let n=new x2;n.network=e;let i=r.revealOutValue||w$,s=r.minChangeValue||x$,o=r.commitTxPrevOutputList[0].privateKey;r.inscriptionDataList.forEach(c=>{n.inscriptionTxCtxDataList.push(E$(e,c,o))});let a=n.buildEmptyRevealTx(e,i,r.revealFeeRate);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,a,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTx(e,r,n){let i=0,s=[],o=[],a=[];return this.inscriptionTxCtxDataList.forEach((u,c)=>{let d=new mr.Transaction;d.version=uv,d.addInput(E.Buffer.alloc(32),c,cv),d.addOutput(u.revealPkScript,r);let f=E.Buffer.alloc(64),m=E.Buffer.alloc(33),p=[];p.push(f),p.push(u.inscriptionScript),p.push(m);let y=Math.floor((d.byteLength()+Math.floor(((0,S$.vectorSize)(p)+2+3)/4))*n),w=r+y;u.revealTxPrevOutput={pkScript:u.commitTxAddressPkScript,value:w},i+=w,s.push(d),o.push(y),a.push(u.commitTxAddress)}),this.revealTxs=s,this.mustRevealTxFees=o,this.commitAddrs=a,i}buildCommitTx(e,r,n,i,s,o){let a=0,u=new mr.Transaction;u.version=uv,r.forEach(y=>{let w=tu.base.reverseBuffer(tu.base.fromHex(y.txId));u.addInput(w,y.vOut,cv),this.commitTxPrevOutputFetcher.push(y.amount),a+=y.amount}),this.inscriptionTxCtxDataList.forEach(y=>{u.addOutput(y.revealTxPrevOutput.pkScript,y.revealTxPrevOutput.value)});let c=mr.address.toOutputScript(n,e);u.addOutput(c,0);let d=u.clone();TI(d,r.map(y=>({...y,privateKey:""})),this.network);let f=(0,av.countAdjustedVsize)(d,r.map(y=>y.address),e),m=Math.floor(f*s),p=a-i-m;if(p>=o)u.outs[u.outs.length-1].value=p;else{u.outs=u.outs.slice(0,u.outs.length-1),d.outs=d.outs.slice(0,d.outs.length-1);let y=(0,av.countAdjustedVsize)(d,r.map(P=>P.address),e),w=Math.floor(y*s);if(a-i-w<0)return this.mustCommitTxFee=m,!0}return this.commitTx=u,!1}signCommitTx(e){TI(this.commitTx,e,this.network)}completeRevealTx(){this.revealTxs.forEach((e,r)=>{e.ins[0].hash=this.commitTx.getHash();let n=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.pkScript],i=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value];this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value);let s=e.hashForWitnessV1(0,n,i,mr.Transaction.SIGHASH_DEFAULT,this.inscriptionTxCtxDataList[r].hash),o=E.Buffer.from(PI.sign(s,this.inscriptionTxCtxDataList[r].privateKey,tu.base.randomBytes(32)));e.ins[0].witness=[E.Buffer.from(o),...this.inscriptionTxCtxDataList[r].witness];let a=e.weight();if(a>v$)throw new Error(`reveal(index ${r}) transaction weight greater than ${v$} (MAX_STANDARD_TX_WEIGHT): ${a}`)})}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};ta.InscriptionTool=x2;function TI(t,e,r){t.ins.forEach((n,i)=>{let s=(0,Kl.getAddressType)(e[i].address,r);if(e[i].privateKey==""){let{witness:c,script:d}=(0,Kl.fakeSign)(s);c!==void 0&&(n.witness=c),d!==void 0&&(n.script=d);return}let o=tu.base.fromHex((0,Kl.privateKeyFromWIF)(e[i].privateKey,r)),a=tu.base.toHex(o),u=(0,Kl.private2public)(a);if(s==="segwit_taproot"){let c=e.map(y=>mr.address.toOutputScript(y.address,r)),d=e.map(y=>y.amount),f=t.hashForWitnessV1(i,c,d,mr.Transaction.SIGHASH_DEFAULT),m=T4e.taprootTweakPrivKey(o),p=E.Buffer.from(PI.sign(f,m,tu.base.randomBytes(32)));n.witness=[E.Buffer.from(p)]}else if(s==="legacy"){let c=mr.address.toOutputScript(e[i].address,r),d=t.hashForSignature(i,c,mr.Transaction.SIGHASH_ALL),f=(0,Kl.sign)(d,a),m=mr.payments.p2pkh({signature:mr.script.signature.encode(f,mr.Transaction.SIGHASH_ALL),pubkey:u});n.script=m.input}else{let c=_$.hash160(u),d=E.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,m=t.hashForWitness(i,d,f,mr.Transaction.SIGHASH_ALL),p=(0,Kl.sign)(m,a);n.witness=[mr.script.signature.encode(p,mr.Transaction.SIGHASH_ALL),u];let y=E.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function E$(t,e,r){let n=tu.base.fromHex((0,Kl.privateKeyFromWIF)(r,t)),i=(0,Kl.wif2Public)(r,t).slice(1),s=mr.script.OPS,o=[];o.push(i),o.push(s.OP_CHECKSIG),o.push(s.OP_FALSE),o.push(s.OP_IF),o.push(E.Buffer.from("ord")),o.push(s.OP_DATA_1),o.push(s.OP_DATA_1),o.push(E.Buffer.from(e.contentType)),o.push(s.OP_0);let a=520,u=E.Buffer.from(e.body),c=u.length;for(let C=0;C<c;C+=a){let R=C+a;R>c&&(R=c),o.push(u.slice(C,R))}o.push(s.OP_ENDIF);let d=mr.script.compile(o),f={output:d},m={output:d,redeemVersion:192},{output:p,witness:y,hash:w,address:P}=mr.payments.p2tr({internalPubkey:i,scriptTree:f,redeem:m,network:t});return{privateKey:n,inscriptionScript:d,commitTxAddress:P,commitTxAddressPkScript:p,witness:y,hash:w,revealTxPrevOutput:{pkScript:E.Buffer.alloc(0),value:0},revealPkScript:mr.address.toOutputScript(e.revealAddr,t)}}function I4e(t,e){let r=x2.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}ta.inscribe=I4e;function A$(t,e,r,n){let i=t.commitTxPrevOutputList[0].privateKey,s=[];t.inscriptionDataList.forEach(H=>{s.push(E$(e,H,i))});let o=0,a=t.revealOutValue||w$,u=[];s.forEach((H,F)=>{let L=new mr.Transaction;L.version=uv,L.addInput(E.Buffer.alloc(32),F,cv),L.addOutput(H.revealPkScript,a),u.push(L);let D=E.Buffer.alloc(64),N=E.Buffer.alloc(33),g=[];g.push(D),g.push(H.inscriptionScript),g.push(N);let h=Math.floor((L.byteLength()+Math.floor(((0,S$.vectorSize)(g)+2+3)/4))*t.revealFeeRate),l=a+h;H.revealTxPrevOutput={pkScript:H.commitTxAddressPkScript,value:l},o+=l});let c=0,d=new mr.Transaction;d.version=uv,t.commitTxPrevOutputList.forEach(H=>{d.addInput(tu.base.reverseBuffer(tu.base.fromHex(H.txId)),H.vOut,cv),c+=H.amount});let f=[];s.forEach(H=>{d.addOutput(H.revealTxPrevOutput.pkScript,H.revealTxPrevOutput.value),f.push(H.commitTxAddress)});let m=mr.address.toOutputScript(t.changeAddress,e);d.addOutput(m,0);let p=d.clone();TI(p,t.commitTxPrevOutputList,e);let y=(0,av.countAdjustedVsize)(p,t.commitTxPrevOutputList.map(H=>H.address),e),w=Math.floor(y*t.commitFeeRate),P=c-o-w;if(P>=(t.minChangeValue||x$))d.outs[d.outs.length-1].value=P;else{d.outs=d.outs.slice(0,d.outs.length-1),p.outs=p.outs.slice(0,p.outs.length-1);let H=(0,av.countAdjustedVsize)(p,t.commitTxPrevOutputList.map(L=>L.address),e),F=Math.floor(H*t.commitFeeRate);if(c-o-F<0)throw new Error("insufficient balance")}let C=O4e(d,t.commitTxPrevOutputList,e),R=d.getHash();n&&(R=n),u.forEach((H,F)=>{H.ins[0].hash=R;let L=[s[F].revealTxPrevOutput.pkScript],D=[s[F].revealTxPrevOutput.value],N=H.hashForWitnessV1(0,L,D,mr.Transaction.SIGHASH_DEFAULT,s[F].hash),g=E.Buffer.from(PI.sign(N,s[F].privateKey,tu.base.randomBytes(32)));H.ins[0].witness=[g,...s[F].witness]});let T=0;d.ins.forEach((H,F)=>{T+=t.commitTxPrevOutputList[F].amount}),d.outs.forEach(H=>{T-=H.value});let k=[];return u.forEach((H,F)=>{let L=0;L+=s[F].revealTxPrevOutput.value,L-=H.outs[0].value,k.push(L)}),{signHashList:C,commitTx:d.toHex(),revealTxs:u.map(H=>H.toHex()),commitTxFee:T,revealTxFees:k,commitAddrs:f}}ta.inscribeForMPCUnsigned=A$;function P4e(t,e){let r=t.commitTx,n=t.signatureList,i=mr.Transaction.fromHex(r),s=i.getHash();i.ins.forEach((u,c)=>{let d=tu.base.fromHex(n[c]);!u.witness||u.witness.length==0?u.script=mr.payments.p2pkh({pubkey:mr.payments.p2pkh({input:u.script}).pubkey,signature:mr.script.signature.encode(d,mr.Transaction.SIGHASH_ALL)}).input:u.witness[0]=mr.script.signature.encode(d,mr.Transaction.SIGHASH_ALL)});let o=i.getHash(),a=A$(t,e,s,o);return{signHashList:null,commitTx:i.toHex(),revealTxs:a.revealTxs,commitTxFee:a.commitTxFee,revealTxFees:a.revealTxFees,commitAddrs:a.commitAddrs}}ta.inscribeForMPCSigned=P4e;function O4e(t,e,r){let n=[];return t.ins.forEach((i,s)=>{let o=tu.base.fromHex(e[s].publicKey),a=mr.address.toOutputScript(e[s].address,r),u=E.Buffer.alloc(64,0),c;if((0,AI.isP2TR)(a)){let d=e.map(m=>mr.address.toOutputScript(m.address,r)),f=e.map(m=>m.amount);c=t.hashForWitnessV1(s,d,f,mr.Transaction.SIGHASH_DEFAULT),i.witness=[u]}else if((0,AI.isP2PKH)(a)){let d=mr.address.toOutputScript(e[s].address,r);c=t.hashForSignature(s,d,mr.Transaction.SIGHASH_ALL),i.script=mr.payments.p2pkh({pubkey:o,signature:mr.script.signature.encode(u,mr.Transaction.SIGHASH_ALL)}).input}else{let d=_$.hash160(o),f=E.Buffer.of(25,118,169,20,...d,136,172);c=t.hashForWitness(s,f,e[s].amount,mr.Transaction.SIGHASH_ALL),i.witness=mr.payments.p2wpkh({pubkey:o,signature:mr.script.signature.encode(u,mr.Transaction.SIGHASH_ALL)}).witness;let m=E.Buffer.of(22,0,20,...d);(0,AI.isP2SHScript)(a)&&(i.script=m)}n.push(tu.base.toHex(c))}),n}});var B$=j(ru=>{"use strict";B();M();var B4e=ru&&ru.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),M4e=ru&&ru.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),OI=ru&&ru.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&B4e(e,t,r);return M4e(e,t),e};Object.defineProperty(ru,"__esModule",{value:!0});ru.inscribeRefundFee=ru.createInscriptionTxCtxData=ru.InscriptionRefundFeeTool=void 0;var Js=OI(Wa()),Bp=dn(),k4e=OI(I0()),C4e=OI(xo()),Op=Iu(),I$=h2(),R4e=Bp.signUtil.schnorr.secp256k1.schnorr,N4e=2,F4e=4294967293,H4e=546,Ett=4e6/10,E2=class{constructor(){this.network=Js.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.refundFeeTx=new Js.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustTxFee=0,this.dustChange=0,this.commitAddrs=[],this.merkleRoot=new Uint8Array}static newInscriptionRefundFeeTool(e,r){let n=new E2;n.network=e;let i=r.minChangeValue||H4e;if(r.inputs&&r.inputs.length>600)throw new Error("invalid amount of inputs");let s=100;r.maxAmountOfInput&&(s=r.maxAmountOfInput),s>r.inputs.length&&(s=r.inputs.length);let o=r.inputs[0].privateKey;if(r.inscriptionRefundFeeDataList.forEach(u=>{n.inscriptionTxCtxDataList.push(O$(e,u,o))}),r.middleAddress&&r.middleAddress!=n.inscriptionTxCtxDataList[0].commitTxAddress)throw new Error("invalid middle address");return n.commitAddrs=[n.inscriptionTxCtxDataList[0].commitTxAddress],n.merkleRoot=n.inscriptionTxCtxDataList[0].hash,n.buildrRefundFeeTx(e,r.inputs.slice(0,s),r.changeAddress,0,r.feeRate,i)||n.signRefundFeeTx(r.inputs.slice(0,s)),n}buildrRefundFeeTx(e,r,n,i,s,o){let a=0,u=new Js.Transaction;u.version=N4e,r.forEach(y=>{let w=Bp.base.reverseBuffer(Bp.base.fromHex(y.txId));u.addInput(w,y.vOut,F4e),this.commitTxPrevOutputFetcher.push(y.amount),a+=y.amount});let c=Js.address.toOutputScript(n,e);u.addOutput(c,0);let d=u.clone();P$(d,r,this.network);let f=(0,I$.countAdjustedVsize)(d,r.map(y=>y.address),e),m=Math.floor(f*s),p=a-i-m;if(p>=o)u.outs[u.outs.length-1].value=p;else{if(u.outs.length<=1)return this.dustChange=p,!0;u.outs=u.outs.slice(0,u.outs.length-1),d.outs=d.outs.slice(0,d.outs.length-1);let y=(0,I$.countAdjustedVsize)(d,r.map(P=>P.address),e),w=Math.floor(y*s);if(a-i-w<0)return this.mustTxFee=m,!0}return this.refundFeeTx=u,!1}signRefundFeeTx(e){P$(this.refundFeeTx,e,this.network,this.merkleRoot)}calculateFee(){let e=0;return this.refundFeeTx.ins.forEach((r,n)=>{e+=this.commitTxPrevOutputFetcher[n]}),this.refundFeeTx.outs.forEach(r=>{e-=r.value}),{refundFeeTxFee:e}}};ru.InscriptionRefundFeeTool=E2;function P$(t,e,r,n=new Uint8Array){t.ins.forEach((i,s)=>{let o=(0,Op.getAddressType)(e[s].address,r),a=Bp.base.fromHex((0,Op.privateKeyFromWIF)(e[s].privateKey,r)),u=Bp.base.toHex(a),c=(0,Op.private2public)(u);if(o==="segwit_taproot"){let d=e.map(w=>Js.address.toOutputScript(w.address,r)),f=e.map(w=>w.amount),m=t.hashForWitnessV1(s,d,f,Js.Transaction.SIGHASH_DEFAULT),p=k4e.taprootTweakPrivKey(a,n),y=E.Buffer.from(R4e.sign(m,p,Bp.base.randomBytes(32)));i.witness=[E.Buffer.from(y)]}else if(o==="legacy"){let d=Js.address.toOutputScript(e[s].address,r),f=t.hashForSignature(s,d,Js.Transaction.SIGHASH_ALL),m=(0,Op.sign)(f,u),p=Js.payments.p2pkh({signature:Js.script.signature.encode(m,Js.Transaction.SIGHASH_ALL),pubkey:c});i.script=p.input}else{let d=C4e.hash160(c),f=E.Buffer.of(25,118,169,20,...d,136,172),m=e[s].amount,p=t.hashForWitness(s,f,m,Js.Transaction.SIGHASH_ALL),y=(0,Op.sign)(p,u);i.witness=[Js.script.signature.encode(y,Js.Transaction.SIGHASH_ALL),c];let w=E.Buffer.of(22,0,20,...d);o==="segwit_nested"&&(i.script=w)}})}function O$(t,e,r){let n=Bp.base.fromHex((0,Op.privateKeyFromWIF)(r,t)),i=(0,Op.wif2Public)(r,t).slice(1),s=Js.script.OPS,o=[];o.push(i),o.push(s.OP_CHECKSIG),o.push(s.OP_FALSE),o.push(s.OP_IF),o.push(E.Buffer.from("ord")),o.push(s.OP_DATA_1),o.push(s.OP_DATA_1),o.push(E.Buffer.from(e.contentType)),o.push(s.OP_0);let a=520,u=E.Buffer.from(e.body),c=u.length;for(let C=0;C<c;C+=a){let R=C+a;R>c&&(R=c),o.push(u.slice(C,R))}o.push(s.OP_ENDIF);let d=Js.script.compile(o),f={output:d},m={output:d,redeemVersion:192},{output:p,witness:y,hash:w,address:P}=Js.payments.p2tr({internalPubkey:i,scriptTree:f,redeem:m,network:t});return{privateKey:n,inscriptionScript:d,commitTxAddress:P,commitTxAddressPkScript:p,witness:y,hash:w,revealTxPrevOutput:{pkScript:E.Buffer.alloc(0),value:0},revealPkScript:Js.address.toOutputScript(e.revealAddr,t)}}ru.createInscriptionTxCtxData=O$;function D4e(t,e){let r=E2.newInscriptionRefundFeeTool(t,e);return r.mustTxFee>0||r.dustChange!=0?{refundFeeTx:"",mustTxFee:r.mustTxFee,dustChange:r.dustChange}:{refundFeeTx:r.refundFeeTx.toHex(),...r.calculateFee(),middleAddresses:r.commitAddrs}}ru.inscribeRefundFee=D4e});var F$=j(Ci=>{"use strict";B();M();var L4e=Ci&&Ci.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),U4e=Ci&&Ci.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kI=Ci&&Ci.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&L4e(e,t,r);return U4e(e,t),e};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.dogInscribe=Ci.DogInscriptionTool=Ci.DogScript=Ci.bufferToChunk=Ci.bufferToBuffer=Ci.CHANGE_OUTPUT_MAX_SIZE=void 0;var Fn=kI(Wa()),M0=dn(),q4e=kI(xo()),Tc=Iu(),N$=Wa(),wa=ep(),j4e=kI(Cl()),$l=Ol();Ci.CHANGE_OUTPUT_MAX_SIZE=20+4+34+4;var M$=2,BI=4294967293,K4e=1e5,$4e=1e5,z4e=240,k$=1500;function C$(t){return{buf:t<=16?void 0:t<128?E.Buffer.from([t]):E.Buffer.from([t%256,t/256]),len:t<=16?0:t<128?1:2,opcodenum:t==0?0:t<=16?80+t:t<128?1:2}}function P4(t){let e=A2(t),r=$l.varuint.encodingLength(e.opcodenum);var n=e.opcodenum;e.buf&&((n===wa.OPS.OP_PUSHDATA1||n===wa.OPS.OP_PUSHDATA2||n===wa.OPS.OP_PUSHDATA4)&&(r+=$l.varuint.encodingLength(e.len)),r+=e.buf.length);let i=N$.BufferWriter.withCapacity(r);return i.writeUInt8(e.opcodenum),e.buf&&(n<wa.OPS.OP_PUSHDATA1?i.writeSlice(e.buf):n===wa.OPS.OP_PUSHDATA1?(i.writeUInt8(e.len),i.writeSlice(e.buf)):n===wa.OPS.OP_PUSHDATA2?(i.writeUInt64(e.len),i.writeSlice(e.buf)):n===wa.OPS.OP_PUSHDATA4&&(i.writeUInt32(e.len),i.writeSlice(e.buf))),i.end()}Ci.bufferToBuffer=P4;function A2(t){return{buf:t.length?t:void 0,len:t.length,opcodenum:t.length<=75?t.length:t.length<=255?76:77}}Ci.bufferToChunk=A2;function MI(t){return{opcodenum:t}}var T2=class{constructor(){this.chunks=[]}total(){return this.chunks.length==0?0:this.chunks.map(r=>{let n=$l.varuint.encodingLength(r.opcodenum);var i=r.opcodenum;return r.buf&&(i<wa.OPS.OP_PUSHDATA1||(i===wa.OPS.OP_PUSHDATA1||i===wa.OPS.OP_PUSHDATA2||i===wa.OPS.OP_PUSHDATA4)&&(n+=$l.varuint.encodingLength(r.len)),n+=r.buf.length),n}).reduce((r,n)=>r+n)}toBuffer(){let e=this.total(),r=N$.BufferWriter.withCapacity(e);for(var n=0;n<this.chunks.length;n++){var i=this.chunks[n],s=i.opcodenum;r.writeUInt8(i.opcodenum),i.buf&&(s<wa.OPS.OP_PUSHDATA1?r.writeSlice(i.buf):s===wa.OPS.OP_PUSHDATA1?(r.writeUInt8(i.len),r.writeSlice(i.buf)):s===wa.OPS.OP_PUSHDATA2?(r.writeUInt64(i.len),r.writeSlice(i.buf)):s===wa.OPS.OP_PUSHDATA4&&(r.writeUInt32(i.len),r.writeSlice(i.buf)))}return r.end()}};Ci.DogScript=T2;var I2=class{constructor(){this.network=Fn.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new Fn.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[],this.fromAddr="",this.revealAddr=""}static newDogInscriptionTool(e,r){let n=new I2;n.network=e;let i=r.revealOutValue||K4e,s=r.minChangeValue||$4e,o=r.commitTxPrevOutputList[0].privateKey;n.inscriptionTxCtxDataList=V4e(e,r.inscriptionData,o),n.revealAddr=r.inscriptionData.revealAddr;let a=M0.base.toHex(M0.base.fromHex((0,Tc.privateKeyFromWIF)(o,e))),u=(0,Tc.private2public)(a);n.fromAddr=Fn.payments.p2pkh({pubkey:u,network:e}).address;let c=n.buildEmptyRevealTxs(e,i,r.revealFeeRate);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,c,i,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTxs(e,r,n){let i=0,s=[],o=[],a=[],u=0;for(let c=this.inscriptionTxCtxDataList.length-1;c>-1;c--){let d=this.inscriptionTxCtxDataList[c],f=new Fn.Transaction;f.version=M$,f.addInput(E.Buffer.alloc(32),0,BI),f.addInput(E.Buffer.alloc(32),1,BI),f.addOutput(c!=this.inscriptionTxCtxDataList.length-1?d.commitTxAddressPkScript:d.revealPkScript,r);let m=E.Buffer.alloc(72),p=E.Buffer.concat([d.inscriptionScript,P4(m),P4(d.redeemScript)]);f.ins[0].script=p,c!=this.inscriptionTxCtxDataList.length-1&&f.addOutput(Fn.address.toOutputScript(this.fromAddr,e),u),f.ins[1].script=E.Buffer.alloc(106);let y=Math.floor((f.dogeByteLength()+Ci.CHANGE_OUTPUT_MAX_SIZE)*n);u+=y;let w=y;d.revealTxPrevOutput={pkScript:d.commitTxAddressPkScript,value:w},i+=w,s.push(f),o.push(y),a.push(d.commitTxAddress)}for(let c=0,d=s.length-1;c<d;c++,d--)[s[c],s[d]]=[s[d],s[c]],[o[c],o[d]]=[o[d],o[c]],[a[c],a[d]]=[a[d],a[c]];return this.revealTxs=s,this.mustRevealTxFees=o,this.commitAddrs=a,i+=r,i}buildCommitTx(e,r,n,i,s,o,a){let u=0,c=new Fn.Transaction;c.version=M$,r.forEach(y=>{let w=M0.base.reverseBuffer(M0.base.fromHex(y.txId));c.addInput(w,y.vOut,BI),this.commitTxPrevOutputFetcher.push(y.amount),u+=y.amount}),c.addOutput(this.inscriptionTxCtxDataList[0].revealTxPrevOutput.pkScript,s),c.addOutput(Fn.address.toOutputScript(this.fromAddr,e),i);let d=Fn.address.toOutputScript(n,e);c.addOutput(d,0);let f=c.clone();R$(f,r,this.network);let m=Math.floor((f.dogeByteLength()+Ci.CHANGE_OUTPUT_MAX_SIZE)*o),p=u-i-m;if(p>=a)c.outs[c.outs.length-1].value=p;else{c.outs=c.outs.slice(0,c.outs.length-1),f.outs=f.outs.slice(0,f.outs.length-1);let y=Math.floor(f.dogeByteLength()*o);if(u-i-y<0)return this.mustCommitTxFee=m,!0}return this.commitTx=c,!1}signCommitTx(e){R$(this.commitTx,e,this.network)}completeRevealTx(){for(let e=0;e<this.revealTxs.length;e++){let r=this.revealTxs[e];r.ins[0].hash=e==0?this.commitTx.getHash():this.revealTxs[e-1].getHash(),r.ins[1].hash=e==0?this.commitTx.getHash():this.revealTxs[e-1].getHash(),this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[e].revealTxPrevOutput.value);let n=this.inscriptionTxCtxDataList[e].redeemScript,i=r.hashForSignature(0,n,Fn.Transaction.SIGHASH_ALL),s=M0.base.toHex(this.inscriptionTxCtxDataList[e].privateKey),o=(0,Tc.sign)(i,s),a=Fn.script.signature.encode(o,Fn.Transaction.SIGHASH_ALL);r.ins[0].script=E.Buffer.concat([this.inscriptionTxCtxDataList[e].inscriptionScript,P4(a),P4(this.inscriptionTxCtxDataList[e].redeemScript)]);let u=Fn.address.toOutputScript(this.fromAddr,this.network),c=r.hashForSignature(1,u,Fn.Transaction.SIGHASH_ALL),d=(0,Tc.sign)(c,s),f=Fn.payments.p2pkh({signature:Fn.script.signature.encode(d,Fn.Transaction.SIGHASH_ALL),pubkey:(0,Tc.private2public)(s)});r.ins[1].script=f.input}}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s=this.revealTxPrevOutputFetcher[i],r.push(s)}),{commitTxFee:e,revealTxFees:r}}};Ci.DogInscriptionTool=I2;function R$(t,e,r){t.ins.forEach((n,i)=>{let s=(0,Tc.getAddressType)(e[i].address,r),o=M0.base.fromHex((0,Tc.privateKeyFromWIF)(e[i].privateKey,r)),a=M0.base.toHex(o),u=(0,Tc.private2public)(a);if(s==="legacy"){let c=Fn.address.toOutputScript(e[i].address,r),d=t.hashForSignature(i,c,Fn.Transaction.SIGHASH_ALL),f=(0,Tc.sign)(d,a),m=Fn.payments.p2pkh({signature:Fn.script.signature.encode(f,Fn.Transaction.SIGHASH_ALL),pubkey:u});n.script=m.input}else{let c=q4e.hash160(u),d=E.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,m=t.hashForWitness(i,d,f,Fn.Transaction.SIGHASH_ALL),p=(0,Tc.sign)(m,a);n.witness=[Fn.script.signature.encode(p,Fn.Transaction.SIGHASH_ALL),u];let y=E.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function V4e(t,e,r){let n=M0.base.fromHex((0,Tc.privateKeyFromWIF)(r,t)),i=(0,Tc.wif2Public)(r,t),s=Fn.script.OPS,o;typeof e.body=="string"?o=E.Buffer.from(e.body):o=e.body;let a=[];for(;o.length;){let d=o.slice(0,Math.min(z4e,o.length));o=o.slice(d.length),a.push(d)}let u=new T2;u.chunks.push(A2(E.Buffer.from("ord"))),u.chunks.push(C$(a.length)),u.chunks.push(A2(E.Buffer.from(e.contentType))),a.forEach((d,f)=>{u.chunks.push(C$(a.length-f-1)),u.chunks.push(A2(d))});let c=[];for(;u.chunks.length;){let d=new T2;for(c.length==0&&d.chunks.push(u.chunks.shift());d.total()<=k$&&u.chunks.length;)d.chunks.push(u.chunks.shift()),d.chunks.push(u.chunks.shift());d.total()>k$&&(u.chunks.unshift(d.chunks.pop()),u.chunks.unshift(d.chunks.pop()));let f=new T2;f.chunks.push(A2(i)),f.chunks.push(MI(s.OP_CHECKSIGVERIFY)),d.chunks.forEach(()=>{f.chunks.push(MI(s.OP_DROP))}),f.chunks.push(MI(s.OP_TRUE));let m=M0.base.ripemd160(M0.base.sha256(f.toBuffer())),{output:p,address:y}=j4e.p2sh({hash:E.Buffer.from(m),network:t}),w={privateKey:n,inscriptionScript:d.toBuffer(),redeemScript:f.toBuffer(),commitTxAddress:y,commitTxAddressPkScript:p,revealTxPrevOutput:{pkScript:E.Buffer.alloc(0),value:1e5},revealPkScript:Fn.address.toOutputScript(e.revealAddr,t)};c.push(w)}return c}function G4e(t,e){let r=I2.newDogInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}Ci.dogInscribe=G4e});var U$=j(nu=>{"use strict";B();M();Object.defineProperty(nu,"__esModule",{value:!0});nu.verifyWithAddress=nu.getMPCSignedMessage=nu.verify=nu.sign=nu.toCompact=nu.magicHash=void 0;var yi=dn(),W4e=Iu(),Y4e=E.Buffer.from(`Bitcoin Signed Message:
`);function H$(t){let e;return t<253?(e=E.Buffer.alloc(1),e.writeUInt8(t,0)):t<65536?(e=E.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=E.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=E.Buffer.alloc(1+8),e.writeUInt8(255,0),e.writeInt32LE(t&-1,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e}function dv(t,e){let r=e?E.Buffer.from(e,"utf8"):Y4e,n=H$(r.length),i=E.Buffer.from(t),s=H$(i.length),o=E.Buffer.concat([n,r,s,i]);return yi.base.doubleSha256(o)}nu.magicHash=dv;function RI(t,e,r){if(!(t===0||t===1||t===2||t===3))throw new Error("i must be equal to 0, 1, 2, or 3");let n=t+27+4;return r||(n=n-4),E.Buffer.concat([Uint8Array.of(n),Uint8Array.from(e)])}nu.toCompact=RI;function X4e(t,e,r,n){let i=dv(e,n);if(!t)return yi.base.toHex(i);let s=yi.base.fromHex((0,W4e.privateKeyFromWIF)(t,r)),{signature:o,recovery:a}=yi.signUtil.secp256k1.sign(E.Buffer.from(i),s);return yi.base.toBase64(RI(a,o,!0))}nu.sign=X4e;function Z4e(t,e,r,n){let i=dv(e,n),s=yi.base.fromBase64(r),o=s[0]-27-4,a=s.slice(1);return yi.signUtil.secp256k1.verify(E.Buffer.from(i),a,o,yi.base.fromHex(t))}nu.verify=Z4e;function J4e(t,e,r){let n=yi.base.fromHex(e),i=n.slice(0,32),s=n.slice(32,64),o=yi.signUtil.secp256k1.getV(yi.base.fromHex(t),yi.base.toHex(i),yi.base.toHex(s),yi.base.fromHex(r));return yi.base.toBase64(RI(o,n,!0))}nu.getMPCSignedMessage=J4e;function Q4e(t,e,r,n){let i=dv(e,n),s=yi.base.fromBase64(r),o=s[0]-27,a=s.slice(1),u=o&3,c=o&8?o&4?CI.P2WPKH:CI.P2SH_P2WPKH:null,d=!!(o&12),f=yi.signUtil.secp256k1.recover(a,u,E.Buffer.from(i),d);if(f==null)return!1;let m=E.Buffer.from(yi.base.hash160(f)),p,y;if(c)c===CI.P2SH_P2WPKH?(p=L$(m),y=yi.base.fromBase58Check(t).slice(1)):(p=m,y=D$(t));else try{return y=D$(t),fv(m,y)}catch{let P=L$(m),C=yi.base.fromBase58Check(t).slice(1);return fv(m,C)||fv(P,C)}return fv(p,y)}nu.verifyWithAddress=Q4e;var CI={P2WPKH:"p2wpkh",P2SH_P2WPKH:"p2sh(p2wpkh)"};function D$(t){let e=yi.base.bech32.decode(t),r=yi.base.bech32.fromWords(e.words.slice(1));return E.Buffer.from(r)}function L$(t){let e=E.Buffer.concat([E.Buffer.from("0014","hex"),t]);return E.Buffer.from(yi.base.hash160(e))}function fv(t,e){if(!E.Buffer.isBuffer(t)||!E.Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return!0;if(typeof t.equals=="function")return t.equals(e);if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}});var NI=j(O4=>{"use strict";B();M();Object.defineProperty(O4,"__esModule",{value:!0});O4.SignType=void 0;var ege;(function(t){t[t.Secp256k1=1]="Secp256k1",t[t.ECDSA_P256=2]="ECDSA_P256",t[t.ED25519=3]="ED25519",t[t.StarknetSignType=4]="StarknetSignType",t[t.TezosSignType=5]="TezosSignType"})(ege=O4.SignType||(O4.SignType={}))});var q$=j(Ic=>{"use strict";B();M();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.CoinCurveMap=Ic.MultiAddressCoins=Ic.segwitType=Ic.Currency=void 0;var qr;(function(t){t[t.NULL=-1]="NULL",t[t.BTC=0]="BTC",t[t.TBTC=1]="TBTC",t[t.ETH=60]="ETH",t[t.LTC=2]="LTC",t[t.DOGE=3]="DOGE",t[t.BCH=145]="BCH",t[t.BSV=236]="BSV",t[t.TRX=195]="TRX",t[t.SOL=501]="SOL",t[t.APTOS=637]="APTOS",t[t.OMNI_USDT=20001]="OMNI_USDT",t[t.OMNI_USDT_TEST=20002]="OMNI_USDT_TEST",t[t.SUI=784]="SUI",t[t.ATOM=118]="ATOM",t[t.OSMO=1e3]="OSMO",t[t.EVMOS=1001]="EVMOS",t[t.AXL=1002]="AXL",t[t.CRO=1003]="CRO",t[t.Iris=1004]="Iris",t[t.Juno=1005]="Juno",t[t.Kava=1006]="Kava",t[t.Kujira=1007]="Kujira",t[t.SCRT=1008]="SCRT",t[t.Stargaze=1009]="Stargaze",t[t.Terra=1010]="Terra",t[t.ZKSPACE=1011]="ZKSPACE",t[t.ZKSYNC=804]="ZKSYNC",t[t.Stx=5757]="Stx",t[t.SEI=2837]="SEI",t[t.WAX=14001]="WAX",t[t.Starknet=9004]="Starknet",t[t.ADA=1815]="ADA",t[t.INJ=2892]="INJ",t[t.Celestia=2854]="Celestia",t[t.DYDX=2897]="DYDX",t[t.Kaspa=111111]="Kaspa",t[t.TON=607]="TON",t[t.NostrAssets=1237]="NostrAssets",t[t.Near=397]="Near"})(qr=Ic.Currency||(Ic.Currency={}));var tge;(function(t){t[t.SEGWIT_NESTED=1]="SEGWIT_NESTED",t[t.SEGWIT_NESTED_49=2]="SEGWIT_NESTED_49",t[t.SEGWIT_NATIVE=3]="SEGWIT_NATIVE",t[t.SEGWIT_TAPROOT=4]="SEGWIT_TAPROOT"})(tge=Ic.segwitType||(Ic.segwitType={}));Ic.MultiAddressCoins=[qr.BTC,qr.TBTC,qr.LTC,qr.DOGE,qr.BSV,qr.OMNI_USDT,qr.OMNI_USDT_TEST];var ti="secp256k1",hv="ed25519";Ic.CoinCurveMap=new Map([[qr.BTC,ti],[qr.TBTC,ti],[qr.ETH,ti],[qr.LTC,ti],[qr.DOGE,ti],[qr.BCH,ti],[qr.BSV,ti],[qr.TRX,ti],[qr.OMNI_USDT,ti],[qr.OMNI_USDT_TEST,ti],[qr.ATOM,ti],[qr.OSMO,ti],[qr.EVMOS,ti],[qr.AXL,ti],[qr.CRO,ti],[qr.Iris,ti],[qr.Juno,ti],[qr.Kava,ti],[qr.Kujira,ti],[qr.SCRT,ti],[qr.Stargaze,ti],[qr.Terra,ti],[qr.SEI,ti],[qr.Celestia,ti],[qr.DYDX,ti],[qr.SOL,hv],[qr.APTOS,hv],[qr.SUI,hv],[qr.TON,hv]])});var FI=j(ut=>{"use strict";B();M();Object.defineProperty(ut,"__esModule",{value:!0});ut.SignCommonMsgError=ut.EstimateFeeError=ut.validSignedTransactionError=ut.GetPayLoadError=ut.HardwareDerivePubKeyError=ut.CalcTxHashError=ut.SignMsgStep3Error=ut.SignMsgSetupError=ut.Ed25519Step3Error=ut.Ed25519Step2Error=ut.Ed25519Step1Error=ut.Ed25519SetupError=ut.EcdsaStep3Error=ut.EcdsaStep2Error=ut.EcdsaStep1Error=ut.EcdsaSetupError=ut.MPCShakeHandsError=ut.MPCStepError=ut.MPCAesKeyMissError=ut.GetHardWareMessageHashError=ut.GetHardwareSignedTransactionError=ut.GetHardwareRawTransactionError=ut.GetMpcTransactionError=ut.GetMpcRawTransactionError=ut.DerivePathError=ut.GenMnemonicError=ut.GenPrivateKeyError=ut.UnsupportedCoinError=ut.SignMsgError=ut.SignTxError=ut.ValidAddressError=ut.NewAddressError=ut.NotImplementedError=void 0;ut.NotImplementedError="no implementation method";ut.NewAddressError="generate address error";ut.ValidAddressError="valid address error";ut.SignTxError="sign tx error";ut.SignMsgError="sign message error";ut.UnsupportedCoinError="unsupported currency";ut.GenPrivateKeyError="generate private key error";ut.GenMnemonicError="generate mnemonic error";ut.DerivePathError="derive hdPath error";ut.GetMpcRawTransactionError="get mpc raw transaction error";ut.GetMpcTransactionError="get mpc transaction error";ut.GetHardwareRawTransactionError="get hardware raw transaction error";ut.GetHardwareSignedTransactionError="get hardware signed transaction error";ut.GetHardWareMessageHashError="get hardware message hash error";ut.MPCAesKeyMissError="mpc get aes key error";ut.MPCStepError="mpc step error";ut.MPCShakeHandsError="mpc shake hands error";ut.EcdsaSetupError="ecdsa setup error";ut.EcdsaStep1Error="ecdsa step1 error";ut.EcdsaStep2Error="ecdsa step2 error";ut.EcdsaStep3Error="ecdsa step3 error";ut.Ed25519SetupError="ed25519 setup error";ut.Ed25519Step1Error="ed25519 step1 error";ut.Ed25519Step2Error="ed25519 step2 error";ut.Ed25519Step3Error="ed25519 step3 error";ut.SignMsgSetupError="sign message setup error";ut.SignMsgStep3Error="sign message step3 error";ut.CalcTxHashError="calculate tx hash error";ut.HardwareDerivePubKeyError="derive sub pub key error";ut.GetPayLoadError="get payload error";ut.validSignedTransactionError="valid signed transaction error";ut.EstimateFeeError="estimate fee error";ut.SignCommonMsgError="sign common msg error"});var j$=j(iu=>{"use strict";B();M();Object.defineProperty(iu,"__esModule",{value:!0});iu.jsonStringifyUniform=iu.cloneObject=iu.assertBufferLength=iu.convert2BigNumber=iu.convert2Number=iu.buildCommonSignMsg=void 0;var lv=dn();function rge(t,e){return`OKX Wallet Sign In

publicKey: ${t}
walletId: ${e}
host: api.wallet.okx
OKX Wallet Sign In`}iu.buildCommonSignMsg=rge;function nge(t){if(t!=null)return typeof t=="string"?parseInt(t):t}iu.convert2Number=nge;function ige(t){if(t!=null)return lv.BigNumber.isBigNumber(t)?t:new lv.BigNumber(t)}iu.convert2BigNumber=ige;function sge(t,e){if(t.length!=e)throw Error("buffer length is illegal")}iu.assertBufferLength=sge;function oge(t){return JSON.parse(JSON.stringify(t))}iu.cloneObject=oge;function age(t){return JSON.stringify(t,(e,r)=>r&&(r.type==="Buffer"||r instanceof Uint8Array?lv.base.toHex(r):typeof r=="bigint"?r.toString():r))}iu.jsonStringifyUniform=age});var HI=j(Mp=>{"use strict";B();M();var uge=Mp&&Mp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),cge=Mp&&Mp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&uge(e,t,r)};Object.defineProperty(Mp,"__esModule",{value:!0});cge(j$(),Mp)});var G$=j(fi=>{"use strict";B();M();Object.defineProperty(fi,"__esModule",{value:!0});fi.SimpleWallet=fi.BaseWallet=fi.ecdsaSign=fi.fromSigned=fi.padWithZeroes=fi.toUnsigned=fi.intToHex=fi.makeSignature=fi.secp256k1SignTest=void 0;var ps=FI(),P2=NI(),bs=dn(),fge=HI();function K$(t){let e=bs.base.sha256("secp256k1-test"),r=bs.signUtil.secp256k1.publicKeyCreate(t,!1),{signature:n,recovery:i}=bs.signUtil.secp256k1.sign(E.Buffer.from(e),t);return bs.signUtil.secp256k1.verify(e,n,i,r)}fi.secp256k1SignTest=K$;function $$(t,e,r){let n=(0,fi.fromSigned)(e),i=(0,fi.fromSigned)(r),s=t,o=DI((0,fi.toUnsigned)(n).toString("hex"),64),a=DI((0,fi.toUnsigned)(i).toString("hex"),64);return bs.base.stripHexPrefix(z$(s)).concat(o,a)}fi.makeSignature=$$;function z$(t){return`0x${t.toString(16)}`}fi.intToHex=z$;var dge=function(t){return E.Buffer.from(t.toTwos(256).toArray())};fi.toUnsigned=dge;function DI(t,e){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(e<0)throw new Error(`Expected a non-negative integer target length. Received: ${e}`);return String.prototype.padStart.call(t,e,"0")}fi.padWithZeroes=DI;var hge=function(t){return new bs.BN(t).fromTwos(256)};fi.fromSigned=hge;function V$(t,e,r){let{signature:n,recovery:i}=bs.signUtil.secp256k1.sign(t,e),s=E.Buffer.from(n.slice(0,32)),o=E.Buffer.from(n.slice(32,64));if(r&&!Number.isSafeInteger(r))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");return{v:r?i+(r*2+35):i+27,r:s,s:o}}fi.ecdsaSign=V$;var pv=class{getRandomPrivateKey(){try{for(;;){let e=bs.base.randomBytes(32);if(K$(e))return Promise.resolve(bs.base.toHex(e,!0))}}catch{}return Promise.reject(ps.GenPrivateKeyError)}getDerivedPrivateKey(e){return bs.bip39.mnemonicToSeed(e.mnemonic).then(r=>{let n=bs.bip32.fromSeed(r).derivePath(e.hdPath);if(n.privateKey){let i=bs.base.toHex(n.privateKey);return Promise.resolve("0x"+i)}else return Promise.reject(ps.GenPrivateKeyError)}).catch(r=>Promise.reject(ps.GenPrivateKeyError))}getDerivedPath(e){return Promise.reject(ps.NotImplementedError)}validPrivateKey(e){return Promise.reject(ps.NotImplementedError)}signMessage(e){return Promise.reject(ps.NotImplementedError)}async signCommonMsg(e){e.signType||(e.signType=P2.SignType.Secp256k1);let r;if(e.message.text)r=e.message.text;else{let a;if(e.publicKey?a=e.publicKey:a=(await this.getNewAddress({privateKey:e.privateKey,addressType:e.addressType,hrp:e.hrp,version:e.version})).publicKey,a.startsWith("0x")&&(a=a.substring(2)),!e.message.walletId)return Promise.reject("invalid walletId");r=(0,fge.buildCommonSignMsg)(a,e.message.walletId)}let n=bs.base.magicHash(r),i=e.privateKeyHex?e.privateKeyHex:e.privateKey,s=bs.base.fromHex(i);var o;switch(e.signType){case P2.SignType.Secp256k1:let{v:a,r:u,s:c}=V$(E.Buffer.from(n),s);return Promise.resolve($$(a,u,c));case P2.SignType.ECDSA_P256:return o=bs.signUtil.p256.sign(E.Buffer.from(n),s).signature,Promise.resolve(bs.base.toHex(o));case P2.SignType.ED25519:return o=bs.signUtil.ed25519.sign(n,s),Promise.resolve(bs.base.toHex(o));case P2.SignType.StarknetSignType:return o=bs.signUtil.schnorr.stark.sign(n,s).toCompactRawBytes(),Promise.resolve(bs.base.toHex(o));case P2.SignType.TezosSignType:return Promise.reject("not support")}}verifyMessage(e){return Promise.reject(ps.NotImplementedError)}ecRecover(e,r){return Promise.reject(ps.NotImplementedError)}getAddressByPublicKey(e){return Promise.reject(ps.NotImplementedError)}getMPCRawTransaction(e){return Promise.reject(ps.NotImplementedError)}getMPCTransaction(e){return Promise.reject(ps.NotImplementedError)}getMPCRawMessage(e){return Promise.reject(ps.NotImplementedError)}getMPCSignedMessage(e){return Promise.reject(ps.NotImplementedError)}getHardWareRawTransaction(e){return Promise.reject(ps.NotImplementedError)}getHardWareSignedTransaction(e){return Promise.reject(ps.NotImplementedError)}getHardWareMessageHash(e){return Promise.reject(ps.NotImplementedError)}calcTxHash(e){return Promise.reject(ps.NotImplementedError)}getRawTransaction(e){return Promise.reject(ps.NotImplementedError)}validSignedTransaction(e){return Promise.reject(ps.NotImplementedError)}estimateFee(e){return Promise.reject(ps.NotImplementedError)}};fi.BaseWallet=pv;var LI=class extends pv{mockData(e,r){this.mockAddress=e,this.mockPublicKey=r}getNewAddress(e){return Promise.resolve({address:this.mockAddress,publicKey:this.mockPublicKey})}validAddress(e){throw new Error("Method not implemented.")}signTransaction(e){throw new Error("Method not implemented.")}};fi.SimpleWallet=LI});var k0=j(xf=>{"use strict";B();M();var lge=xf&&xf.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),B4=xf&&xf.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lge(e,t,r)};Object.defineProperty(xf,"__esModule",{value:!0});B4(NI(),xf);B4(q$(),xf);B4(FI(),xf);B4(G$(),xf);B4(HI(),xf)});var Ef=j(Ri=>{"use strict";B();M();var pge=Ri&&Ri.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bge=Ri&&Ri.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),gge=Ri&&Ri.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&pge(e,t,r);return bge(e,t),e};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.convert2UtxoTx=Ri.number2Hex=Ri.TBtcWallet=Ri.BtcWallet=Ri.BITCOIN_MESSAGE_BIP0322_SIMPLE=Ri.BITCOIN_MESSAGE_ECDSA=void 0;var Ft=k0(),O2=dn(),Ze=gge(su()),Pn=su();Ri.BITCOIN_MESSAGE_ECDSA=0;Ri.BITCOIN_MESSAGE_BIP0322_SIMPLE=1;var bv=class extends Ft.BaseWallet{network(){return Ze.networks.bitcoin}async getDerivedPath(e){return e.segwitType?e.segwitType==Ft.segwitType.SEGWIT_NESTED?`m/84'/0'/0'/0/${e.index}`:e.segwitType==Ft.segwitType.SEGWIT_NESTED_49?`m/49'/0'/0'/0/${e.index}`:e.segwitType==Ft.segwitType.SEGWIT_NATIVE?`m/84'/0'/0'/0/${e.index}`:e.segwitType==Ft.segwitType.SEGWIT_TAPROOT?`m/86'/0'/0'/0/${e.index}`:Promise.reject(Ft.DerivePathError):`m/44'/0'/0'/0/${e.index}`}async validPrivateKey(e){let r;try{let{version:i}=Ze.wif.decode(e.privateKey);r=i===this.network().wif}catch{r=!1}let n={isValid:r,privateKey:e.privateKey};return Promise.resolve(n)}async getNewAddress(e){try{let r=this.network(),n=e.privateKey,i=e.addressType||"Legacy",s=Ze.wif2Public(n,r),o;i==="Legacy"?o=Ze.payments.p2pkh({pubkey:s,network:r}).address:i==="segwit_native"?o=Ze.payments.p2wpkh({pubkey:s,network:r}).address:i==="segwit_nested"?o=Ze.payments.p2sh({redeem:Ze.payments.p2wpkh({pubkey:s,network:r})}).address:i==="segwit_taproot"&&(o=Ze.payments.p2tr({internalPubkey:s.slice(1),network:r}).address);let a={address:o||"",publicKey:O2.base.toHex(i==="segwit_taproot"?s.slice(1):s),compressedPublicKey:O2.base.toHex(s)};return Promise.resolve(a)}catch{return Promise.reject(Ft.NewAddressError)}}async validAddress(e){let r=!1,n=this.network();try{Ze.address.toOutputScript(e.address,n)&&(r=!0)}catch{}e.addressType&&(r=e.addressType===Ze.getAddressType(e.address,n));let i={isValid:r,address:e.address};return Promise.resolve(i)}async signTransaction(e){let r=e.data.type||0;if(r===Ze.BtcXrcTypes.INSCRIBE)try{return Promise.resolve(Ze.inscribe(this.network(),e.data))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.PSBT)try{return Promise.resolve(Ze.psbtSign(e.data.psbt,e.privateKey,this.network()))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.PSBT_DEODE)try{return Promise.resolve(Ze.psbtDecode(e.data.psbt,this.network()))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.PSBT_MPC_UNSIGNED_LIST)try{return Promise.resolve(Ze.generateMPCUnsignedListingPSBT(e.data.psbt,e.data.publicKey,this.network()))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.PSBT_MPC_SIGNED_LIST)try{return Promise.resolve(Ze.generateMPCSignedListingPSBT(e.data.psbt,e.data.publicKey,e.data.signature,this.network()))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.PSBT_MPC_UNSIGNED_BUY)try{return Promise.resolve(Ze.generateMPCUnsignedBuyingPSBT(e.data.psbt,e.data.publicKey,this.network(),e.data.batchSize))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.PSBT_MPC_SIGNED_BUY)try{return Promise.resolve(Ze.generateMPCSignedBuyingTx(e.data.psbt,e.data.publicKey,e.data.signatureList,this.network(),e.data.batchSize))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.PSBT_MPC_UNSIGNED)try{return Promise.resolve(Ze.generateMPCUnsignedPSBT(e.data.psbt,e.data.publicKey,this.network()))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.PSBT_MPC_SIGNED)try{return Promise.resolve(Ze.generateMPCSignedPSBT(e.data.psbt,e.data.publicKey,e.data.signatureList,this.network()))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.PSBT_KEY_SCRIPT_PATH)try{return Promise.resolve(Ze.signPsbtWithKeyPathAndScriptPath(e.data.psbt,e.privateKey,this.network(),{autoFinalized:e.data.autoFinalized,toSignInputs:e.data.toSignInputs}))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.PSBT_KEY_SCRIPT_PATH_BATCH)try{return Promise.resolve(Ze.signPsbtWithKeyPathAndScriptPathBatch(e.data.psbtHexs,e.privateKey,this.network(),e.data.options))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.SRC20)try{return Promise.resolve(Ze.srcInscribe(this.network(),e.data))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.RUNE)try{let n=new Pn.RuneWallet;return this.network()===Pn.networks.testnet&&(n=new Pn.RuneTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.RUNEMAIN)try{let n=new Pn.RuneMainWallet;return this.network()===Pn.networks.testnet&&(n=new Pn.RuneMainTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.ARC20)try{let n=new Pn.AtomicalWallet;return this.network()===Pn.networks.testnet&&(n=new Pn.AtomicalTestWallet),Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(Ft.SignTxError)}else if(r===Ze.BtcXrcTypes.CAT20){let n=new Pn.CatWallet;try{return Promise.resolve(n.signTransaction(e))}catch{return Promise.reject(Ft.SignTxError)}}else if(r===Ze.BtcXrcTypes.PSBT_RUNEMAIN)try{let n=new Pn.RuneMainWallet;return this.network()===Pn.networks.testnet&&(n=new Pn.RuneMainTestWallet),Promise.resolve(n.buildPsbt(e))}catch{return Promise.reject(Ft.SignTxError)}else{let n=null;try{let i=e.privateKey,s=M4(e.data);return n=Ze.signBtc(s,i,this.network()),Promise.resolve(n)}catch{return Promise.reject(Ft.SignTxError)}}}getRandomPrivateKey(){try{let e=this.network();for(;;){let r=O2.base.randomBytes(32);if((0,Ft.secp256k1SignTest)(r)){let n=Ze.private2Wif(r,e);return Promise.resolve(n)}}}catch{return Promise.reject(Ft.GenPrivateKeyError)}}getDerivedPrivateKey(e){let r=this.network();return O2.bip39.mnemonicToSeed(e.mnemonic).then(n=>{let i=O2.bip32.fromSeed(n).derivePath(e.hdPath);if(!i.privateKey)return Promise.reject(Ft.GenPrivateKeyError);let s=Ze.private2Wif(i.privateKey,r);return Promise.resolve(s)}).catch(n=>Promise.reject(Ft.GenPrivateKeyError))}getAddressByPublicKey(e){try{let r=this.network(),n=O2.base.fromHex(e.publicKey);if(e.addressType){if(e.addressType==="Legacy")return Promise.resolve(Ze.payments.p2pkh({pubkey:n,network:r}).address);if(e.addressType==="segwit_nested")return Promise.resolve(Ze.payments.p2sh({redeem:Ze.payments.p2wpkh({pubkey:n,network:r})}).address);if(e.addressType==="segwit_native")return Promise.resolve(Ze.payments.p2wpkh({pubkey:n,network:r}).address);if(e.addressType==="segwit_taproot")return Promise.resolve(Ze.payments.p2tr({internalPubkey:n.slice(1),network:r}).address)}else{let i=[];return i.push({addressType:"Legacy",address:Ze.payments.p2pkh({pubkey:n,network:r}).address}),i.push({addressType:"segwit_nested",address:Ze.payments.p2sh({redeem:Ze.payments.p2wpkh({pubkey:n,network:r})}).address}),i.push({addressType:"segwit_native",address:Ze.payments.p2wpkh({pubkey:n,network:r}).address}),Promise.resolve(i)}}catch{}return Promise.reject(Ft.NewAddressError)}getMPCRawTransaction(e){try{let r=M4(e.data),n=[],s={raw:Ze.signBtc(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(Ft.GetMpcRawTransactionError)}}getMPCTransaction(e){try{let r=Ze.getMPCTransaction(e.raw,e.sigs,!1);return Promise.resolve(r)}catch{return Promise.reject(Ft.GetMpcTransactionError)}}async getMPCRawMessage(e){try{let r=await this.signMessage(e);return Promise.resolve({hash:r})}catch{return Promise.reject(Ft.GetMpcRawTransactionError)}}async getMPCSignedMessage(e){try{return Promise.resolve(Ze.message.getMPCSignedMessage(e.hash,e.sigs,e.publicKey))}catch{return Promise.reject(Ft.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=e.data.type||0,n=M4(e.data);if(r===2){let i=Ze.signBtc(n,"",this.network(),void 0,!0,!0),s=n.dustSize||546;if(parseInt(i)>=s){let a={address:n.address,amount:parseInt(i),bip32Derivation:n.bip32Derivation};n.outputs.push(a)}let o=Ze.buildPsbt(n,this.network());return Promise.resolve(o)}else{let i=Ze.signBtc(n,"",this.network(),void 0,!0);return Promise.resolve(i)}}catch{return Promise.reject(Ft.GetHardwareRawTransactionError)}}async calcTxHash(e){try{return Promise.resolve(Ze.Transaction.fromHex(e.data).getId())}catch{return Promise.reject(Ft.CalcTxHashError)}}signMessage(e){try{let r=e.data,n;return r.type===Ri.BITCOIN_MESSAGE_ECDSA?n=Ze.message.sign(e.privateKey,r.message,this.network()):n=Ze.bip0322.signSimple(r.message,r.address,e.privateKey,this.network()),Promise.resolve(n)}catch{return Promise.reject(Ft.SignMsgError)}}async signCommonMsg(e){let r=await this.getNewAddress({privateKey:e.privateKey,addressType:e.addressType}),n=r.compressedPublicKey?r.compressedPublicKey:r.publicKey;n.startsWith("0x")&&(n=n.substring(2));let i=(0,Pn.privateKeyFromWIF)(e.privateKey,this.network());return super.signCommonMsg({privateKey:e.privateKey,privateKeyHex:i,publicKey:n,addressType:e.addressType,message:e.message,signType:Ft.SignType.Secp256k1})}async verifyMessage(e){try{let r=e.data;if(r.type===Ri.BITCOIN_MESSAGE_ECDSA){let n=Ze.message.verify(r.publicKey,r.message,e.signature);return Promise.resolve(n)}else{let n=Ze.bip0322.verifySimple(r.message,r.address,e.signature,r.publicKey,this.network());return Promise.resolve(n)}}catch{return Promise.reject(Ft.SignMsgError)}}static async extractPsbtTransaction(e){try{return Promise.resolve(Ze.extractPsbtTransaction(e))}catch{return Promise.reject(Ft.SignMsgError)}}async validSignedTransaction(e){try{e.data&&e.data.forEach(n=>n.value=n.amount);let r=Ze.ValidSignedTransaction(e.tx,e.data,this.network());return Promise.resolve((0,Ft.jsonStringifyUniform)(r))}catch{return Promise.reject(Ft.validSignedTransactionError)}}async estimateFee(e){try{let r=e.data.type||0;if(r===Ze.BtcXrcTypes.INSCRIBE)return Promise.reject(Ft.EstimateFeeError);if(r===Ze.BtcXrcTypes.PSBT)return Promise.reject(Ft.EstimateFeeError);if(r===Ze.BtcXrcTypes.RUNE)try{let n=new Pn.RuneWallet;return this.network()===Pn.networks.testnet&&(n=new Pn.RuneTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(Ft.EstimateFeeError)}else if(r===Ze.BtcXrcTypes.RUNEMAIN)try{let n=new Pn.RuneMainWallet;return this.network()===Pn.networks.testnet&&(n=new Pn.RuneMainTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(Ft.EstimateFeeError)}else if(r===Ze.BtcXrcTypes.ARC20)try{let n=new Pn.AtomicalWallet;return this.network()===Pn.networks.testnet&&(n=new Pn.AtomicalTestWallet),Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(Ft.EstimateFeeError)}else if(r===Ze.BtcXrcTypes.CAT20)try{let n=new Pn.CatWallet;return Promise.resolve(n.estimateFee(e))}catch{return Promise.reject(Ft.EstimateFeeError)}else{let n=M4(e.data),i=Ze.estimateBtcFee(n,this.network());return Promise.resolve(i)}}catch{return Promise.reject(Ft.EstimateFeeError)}}static async oneKeyBuildBtcTx(e){try{return Promise.resolve(Ze.oneKeyBuildBtcTx(e))}catch{return Promise.reject(Ft.SignTxError)}}async buildPsbt(e){if((e.data.type||0)===Ze.BtcXrcTypes.RUNEMAIN)try{let n=new Pn.RuneMainWallet;return this.network()===Pn.networks.testnet&&(n=new Pn.RuneMainTestWallet),Promise.resolve(n.buildPsbt(e))}catch{return Promise.reject(Ft.SignTxError)}else{let n=null;try{return Promise.resolve(n)}catch{return Promise.reject(Ft.SignTxError)}}}};Ri.BtcWallet=bv;var UI=class extends bv{network(){return Ze.networks.testnet}};Ri.TBtcWallet=UI;function mge(t,e){let r=t.toString(16),n=e-r.length;if(n>0)for(let i=0;i<n;i++)r="0"+r;return r}Ri.number2Hex=mge;function M4(t){let e=(0,Ft.cloneObject)(t);return e.inputs.forEach(r=>{r.amount=(0,Ft.convert2Number)(r.amount)}),e.outputs.forEach(r=>{r.amount=(0,Ft.convert2Number)(r.amount)}),e.omni&&(e.omni.amount=(0,Ft.convert2Number)(e.omni.amount)),t.dustSize&&(e.dustSize=(0,Ft.convert2Number)(t.dustSize)),e}Ri.convert2UtxoTx=M4});var Y$=j(C0=>{"use strict";B();M();var yge=C0&&C0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),vge=C0&&C0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_ge=C0&&C0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yge(e,t,r);return vge(e,t),e};Object.defineProperty(C0,"__esModule",{value:!0});C0.BchWallet=void 0;var B2=k0(),W$=dn(),k4=Ef(),Hn=_ge(su()),qI=class extends k4.BtcWallet{async getDerivedPath(e){return`m/44'/145'/0'/0/${e.index}`}async getNewAddress(e){try{let r=this.network(),n=e.privateKey,i=Hn.wif2Public(n,r),a={address:Hn.GetBitcashP2PkHAddressByPublicKey(i).replace("bitcoincash:","")||"",publicKey:W$.base.toHex(i)};return Promise.resolve(a)}catch{return Promise.reject(B2.NewAddressError)}}async validAddress(e){let r=!1;try{let i=this.network();Hn.address.toOutputScript(e.address,i)&&(r=!0)}catch{}r||(r=Hn.ValidateBitcashP2PkHAddress(e.address));let n={isValid:r,address:e.address};return Promise.resolve(n)}async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,k4.convert2UtxoTx)(e.data);return i.outputs.forEach(s=>{Hn.isCashAddress(s.address)&&(s.address=Hn.convert2LegacyAddress(s.address,this.network()))}),Hn.isCashAddress(i.address)&&(i.address=Hn.convert2LegacyAddress(i.address,this.network())),r=Hn.signBch(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(B2.SignTxError)}}async estimateFee(e){try{let r=(0,k4.convert2UtxoTx)(e.data);r.outputs.forEach(i=>{Hn.isCashAddress(i.address)&&(i.address=Hn.convert2LegacyAddress(i.address,this.network()))}),Hn.isCashAddress(r.address)&&(r.address=Hn.convert2LegacyAddress(r.address,this.network()));let n=Hn.estimateBchFee(r,this.network());return Promise.resolve(n)}catch{return Promise.reject(B2.EstimateFeeError)}}getMPCRawTransaction(e){try{let r=(0,k4.convert2UtxoTx)(e.data);r.outputs.forEach(o=>{Hn.isCashAddress(o.address)&&(o.address=Hn.convert2LegacyAddress(o.address,this.network()))}),Hn.isCashAddress(r.address)&&(r.address=Hn.convert2LegacyAddress(r.address,this.network()));let n=[],s={raw:Hn.signBch(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(B2.GetMpcRawTransactionError)}}getAddressByPublicKey(e){let r=W$.base.fromHex(e.publicKey),n=Hn.GetBitcashP2PkHAddressByPublicKey(r);return Promise.resolve(n.replace("bitcoincash:",""))}getMPCTransaction(e){try{let r=Hn.getMPCTransaction(e.raw,e.sigs,!0);return Promise.resolve(r)}catch{return Promise.reject(B2.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=(0,k4.convert2UtxoTx)(e.data);r.outputs.forEach(i=>{Hn.isCashAddress(i.address)&&(i.address=Hn.convert2LegacyAddress(i.address,this.network()))}),Hn.isCashAddress(r.address)&&(r.address=Hn.convert2LegacyAddress(r.address,this.network()));let n=Hn.signBch(r,"",this.network(),void 0,!0);return Promise.resolve(n)}catch{return Promise.reject(B2.GetHardwareRawTransactionError)}}};C0.BchWallet=qI});var X$=j(R0=>{"use strict";B();M();var Sge=R0&&R0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wge=R0&&R0.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xge=R0&&R0.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Sge(e,t,r);return wge(e,t),e};Object.defineProperty(R0,"__esModule",{value:!0});R0.BsvWallet=void 0;var C4=k0(),R4=Ef(),N4=xge(su()),jI=class extends R4.BtcWallet{async getDerivedPath(e){return`m/44'/236'/0'/0/${e.index}`}async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,R4.convert2UtxoTx)(e.data);return r=N4.signBch(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(C4.SignTxError)}}async estimateFee(e){try{let r=(0,R4.convert2UtxoTx)(e.data),n=N4.estimateBchFee(r,this.network());return Promise.resolve(n)}catch{return Promise.reject(C4.EstimateFeeError)}}getMPCRawTransaction(e){try{let r=(0,R4.convert2UtxoTx)(e.data),n=[],s={raw:N4.signBch(r,"",this.network(),n),hash:n};return Promise.resolve(s)}catch{return Promise.reject(C4.GetMpcRawTransactionError)}}getMPCTransaction(e){try{let r=N4.getMPCTransaction(e.raw,e.sigs,!0);return Promise.resolve(r)}catch{return Promise.reject(C4.GetMpcTransactionError)}}getHardWareRawTransaction(e){try{let r=(0,R4.convert2UtxoTx)(e.data),n=N4.signBch(r,"",this.network(),void 0,!0);return Promise.resolve(n)}catch{return Promise.reject(C4.GetHardwareRawTransactionError)}}};R0.BsvWallet=jI});var Z$=j(ra=>{"use strict";B();M();var Ege=ra&&ra.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Age=ra&&ra.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Tge=ra&&ra.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Ege(e,t,r);return Age(e,t),e};Object.defineProperty(ra,"__esModule",{value:!0});ra.DogeWallet=ra.dogeCoin=void 0;var gv=Tge(su()),mv=k0(),Ige=Ef();ra.dogeCoin={messagePrefix:`Dogecoin Signed Message:
`,bech32:"bc",bip32:{public:49990397,private:49988504},pubKeyHash:30,scriptHash:22,wif:158};var KI=class extends Ige.BtcWallet{network(){return ra.dogeCoin}async signTransaction(e){let r=e.data.type||0;if(r===1)try{return Promise.resolve(gv.dogInscribe(ra.dogeCoin,e.data))}catch{return Promise.reject(mv.SignTxError)}else if(r===2)try{return Promise.resolve(gv.psbtSign(e.data.psbt,e.privateKey,this.network(),e.data.maximumFeeRate?e.data.maximumFeeRate:1e5))}catch{return Promise.reject(mv.SignTxError)}else return super.signTransaction(e)}signMessage(e){try{let r=e.data,n=gv.message.sign(e.privateKey,r.message,this.network(),ra.dogeCoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(mv.SignMsgError)}}async verifyMessage(e){try{let r=e.data,n=gv.message.verify(r.publicKey,r.message,e.signature,ra.dogeCoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(mv.SignMsgError)}}};ra.DogeWallet=KI});var Q$=j(xa=>{"use strict";B();M();var Pge=xa&&xa.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Oge=xa&&xa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Bge=xa&&xa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pge(e,t,r);return Oge(e,t),e};Object.defineProperty(xa,"__esModule",{value:!0});xa.LtcWallet=xa.litecoin=void 0;var M2=k0(),Mge=Ef(),J$=Bge(su());xa.litecoin={messagePrefix:`Litecoin Signed Message:
`,bech32:"ltc",bip32:{public:27108450,private:27106558},pubKeyHash:48,scriptHash:50,wif:176};var $I=class extends Mge.BtcWallet{network(){return xa.litecoin}async getDerivedPath(e){return e.segwitType?e.segwitType==M2.segwitType.SEGWIT_NESTED?`m/84'/2'/0'/0/${e.index}`:e.segwitType==M2.segwitType.SEGWIT_NESTED_49?`m/49'/2'/0'/0/${e.index}`:e.segwitType==M2.segwitType.SEGWIT_NATIVE?`m/84'/2'/0'/0/${e.index}`:Promise.reject(M2.DerivePathError):`m/44'/2'/0'/0/${e.index}`}signMessage(e){try{let r=e.data,n=J$.message.sign(e.privateKey,r.message,this.network(),xa.litecoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(M2.SignMsgError)}}async verifyMessage(e){try{let r=e.data,n=J$.message.verify(r.publicKey,r.message,e.signature,xa.litecoin.messagePrefix);return Promise.resolve(n)}catch{return Promise.reject(M2.SignMsgError)}}};xa.LtcWallet=$I});var ez=j(Pc=>{"use strict";B();M();var kge=Pc&&Pc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Cge=Pc&&Pc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Rge=Pc&&Pc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&kge(e,t,r);return Cge(e,t),e};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.UsdtTestWallet=Pc.UsdtWallet=void 0;var k2=k0(),N0=Ef(),C2=Rge(su()),yv=class extends N0.BtcWallet{async signTransaction(e){let r=null;try{let n=e.privateKey,i=(0,N0.convert2UtxoTx)(e.data);if(!i.omni)return Promise.reject(k2.SignTxError);let s=(0,N0.number2Hex)(i.omni.coinType||31,8),o=(0,N0.number2Hex)(i.omni.amount,16),u={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+s+o};return i.outputs.push(u),r=C2.signBtc(i,n,this.network()),Promise.resolve(r)}catch{return Promise.reject(k2.SignTxError)}}async estimateFee(e){try{let r=(0,N0.convert2UtxoTx)(e.data);if(!r.omni)return Promise.reject(k2.EstimateFeeError);let n=(0,N0.number2Hex)(r.omni.coinType||31,8),i=(0,N0.number2Hex)(r.omni.amount,16),o={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+n+i};r.outputs.push(o);let a=C2.estimateBtcFee(r,this.network());return Promise.resolve(a)}catch{return Promise.reject(k2.EstimateFeeError)}}getHardWareRawTransaction(e){try{let r=e.data.type||0,n=(0,N0.convert2UtxoTx)(e.data);if(!n.omni)return Promise.reject(k2.SignTxError);let i=(0,N0.number2Hex)(n.omni.coinType||31,8),s=(0,N0.number2Hex)(n.omni.amount,16),a={address:"",amount:0,omniScript:"6a146f6d6e6900000000"+i+s};n.outputs.push(a);let u;if(r===2){let c=C2.signBtc(n,"",this.network(),void 0,!0,!0),d={address:n.address,amount:parseInt(c),bip32Derivation:n.bip32Derivation};n.outputs.push(d),u=C2.buildPsbt(n,this.network())}else u=C2.signBtc(n,"",this.network(),void 0,!0);return Promise.resolve(u)}catch{return Promise.reject(k2.GetHardwareRawTransactionError)}}};Pc.UsdtWallet=yv;var zI=class extends yv{network(){return C2.networks.testnet}};Pc.UsdtTestWallet=zI});var GI=j(di=>{"use strict";B();M();var Nge=di&&di.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Fge=di&&di.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Hge=di&&di.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Nge(e,t,r);return Fge(e,t),e};Object.defineProperty(di,"__esModule",{value:!0});di.buildRuneMainMintOp=di.buildRuneMainMintData=di.buildRuneData=di.encodeToVecV2=di.toVarIntV2=di.fromVarInt=di.encodeToVec=di.toVarInt=void 0;var VI=Hge(as()),F4=ep(),tz=_v(),Dge=dn(),rz=BigInt(0),vrt=BigInt(2),_rt=BigInt(4),Srt=BigInt(6),wrt=BigInt(8),xrt=BigInt(10),Ert=BigInt(12),Art=BigInt(14),Trt=BigInt(16),Irt=BigInt(118),vv=BigInt(20),nz=BigInt(22),Prt=BigInt(126),Ort=BigInt(1),Brt=BigInt(3),Mrt=BigInt(5),krt=BigInt(127);function Lge(t){let e=[];return R2(t,e),new Uint8Array(e)}di.toVarInt=Lge;function R2(t,e){let r=18,n=new Array(19).fill(0);for(n[r]=Number(t&BigInt(127));t>BigInt(127);)t=t/BigInt(128)-BigInt(1),r--,n[r]=Number(t&BigInt(255))|128;e.push(...n.slice(r))}di.encodeToVec=R2;function Uge(t){let e=[];return ks(t,e),new Uint8Array(e)}di.toVarIntV2=Uge;function ks(t,e){for(;t>>7n>0n;)e.push(Number(t&0x7fn|0x80n)),t>>=7n;return e.push(Number(t&0x7fn)),e}di.encodeToVecV2=ks;function qge(t){let e=BigInt(0),r=0;for(;;){let n=BigInt(t[r]);if(n<BigInt(128))return[e+n,r+1];if(e+=n-BigInt(127),e=e*BigInt(128),r++,r>=t.length)throw new Error("Varint decoding error: buffer overflow")}}di.fromVarInt=qge;function jge(t,e){let r=[];for(let s of e)typeof s.amount=="string"&&(s.amount=BigInt(s.amount));if(e.length>0){R2(rz,r),e.sort((o,a)=>o.id-a.id);let s=0;for(let o of e)R2(BigInt(o.id-s),r),R2(BigInt(o.amount),r),R2(BigInt(o.output),r),s=o.id}let n;return t?n="R":n="RUNE_TEST",VI.compile([F4.OPS.OP_RETURN,E.Buffer.from(n),E.Buffer.from(r)])}di.buildRuneData=jge;function Kge(t,e,r,n,i,s){let o=[];for(let u of e)typeof u.amount=="string"&&(u.amount=BigInt(u.amount));if(i!=null&&i&&e[0].block!=null&&(ks(vv,o),ks(BigInt(e[0].block),o),ks(vv,o),ks(BigInt(e[0].id),o)),r&&(ks(nz,o),ks(BigInt(n),o)),e.length>0){ks(rz,o),e.sort((d,f)=>d.block===f.block?d.id<f.id?-1:d.id>f.id?1:0:d.block-f.block);let u=0,c=0;for(let d of e)ks(BigInt(d.block-c),o),ks(BigInt(d.id-u),o),ks(BigInt(d.amount),o),ks(BigInt(d.output),o),u=d.id,c=d.block}if(o.length>80)throw new Error(JSON.stringify({errCode:tz.ErrCodeOpreturnExceeds,date:{payloadLenth:o.length}}));return VI.compile([F4.OPS.OP_RETURN,F4.OPS.OP_13,E.Buffer.from(o)])}di.buildRuneMainMintData=Kge;function $ge(t,e,r,n){let i=[],s=parseInt(t.split(":")[0]),o=parseInt(t.split(":")[1]);if(n!=null&&n&&o!=null&&(ks(vv,i),ks(BigInt(s),i),ks(vv,i),ks(BigInt(o),i)),e&&(ks(nz,i),ks(BigInt(r),i)),i.length>80)throw new Error(JSON.stringify({errCode:tz.ErrCodeOpreturnExceeds,date:{payloadLenth:i.length}}));let a=VI.compile([F4.OPS.OP_RETURN,F4.OPS.OP_13,E.Buffer.from(i)]);return{address:"",amount:0,omniScript:Dge.base.toHex(a)}}di.buildRuneMainMintOp=$ge});var oz=j(Oc=>{"use strict";B();M();var zge=Oc&&Oc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vge=Oc&&Oc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gge=Oc&&Oc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zge(e,t,r);return Vge(e,t),e};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.RuneTestWallet=Oc.RuneWallet=void 0;var Wge=k0(),Yge=Ef(),sz=Gge(su()),iz=su(),Xge=GI(),Zge=dn(),Sv=class extends Yge.BtcWallet{convert2RuneTx(e){let r=(0,Wge.cloneObject)(e);for(let f of r.inputs){let m=f.data;if(m!=null&&m instanceof Array)for(let p of m)typeof p.amount=="string"&&(p.amount=BigInt(p.amount))}for(let f of r.outputs){let m=f.data;if(m!=null&&m instanceof Array)for(let p of m)typeof p.amount=="string"&&(p.amount=BigInt(p.amount))}let n=r.inputs,i=new Map;for(let f of n){let m=f.data;if(m!=null&&m instanceof Array)for(let p of m){let y=p.id,w=BigInt(p.amount);if(y==null||w==null)continue;let P=i.get(y);P==null?i.set(y,w):i.set(y,BigInt(P)+BigInt(w))}}let s=r.outputs,o=new Map;for(let f of s){let m=f.data;if(m!=null){let p=m.id,y=BigInt(m.amount);if(p==null||y==null)continue;let w=o.get(p);w==null?o.set(p,y):o.set(p,BigInt(w)+BigInt(y))}}let a=!1;for(let f of i.keys()){let m=i.get(f),p=o.get(f);(m!=null&&p!=null&&m>p||m!=null&&p==null)&&(a=!0),a=!0}let u=0,c=[];if(a){let f={address:r.address,amount:546};c.push(f),u++}let d=[];for(let f of s){let m=f.data;if(m!=null){let p=m.id,y=BigInt(m.amount);if(p==null||y==null)continue;let w={id:parseInt("0x"+p),amount:BigInt(y),output:u};d.push(w)}f.data=null,c.push(f),u++}return{inputs:r.inputs,outputs:c,address:r.address,feePerB:r.feePerB,runeData:{edicts:d,etching:r.runeData.etching,burn:r.runeData.burn}}}async signTransaction(e){let r=this.network(),n=null;try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s=this.convert2RuneTx(e.data),o=this.getOpReturnOutput(r,s.runeData);return s.outputs.push(o),n=(0,iz.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}}getOpReturnOutput(e,r){let n=!1;iz.networks.bitcoin===e&&(n=!0),r.edicts==null&&(r.edicts=[]);let i=(0,Xge.buildRuneData)(n,r.edicts);return{address:"",amount:0,omniScript:Zge.base.toHex(i)}}async estimateFee(e){try{if(!e.data.runeData)return Promise.reject("missing runeData");let r=this.convert2RuneTx(e.data),n=this.getOpReturnOutput(this.network(),r.runeData);r.outputs.push(n);let i=sz.estimateBtcFee(r,this.network());return Promise.resolve(i)}catch(r){return Promise.reject(r)}}};Oc.RuneWallet=Sv;var WI=class extends Sv{network(){return sz.networks.testnet}};Oc.RuneTestWallet=WI});var fz=j(Dn=>{"use strict";B();M();Object.defineProperty(Dn,"__esModule",{value:!0});Dn.isUpper=Dn.commitment=Dn.Tag=Dn.Flag=Dn.removeSpacers=Dn.getSpacersVal=Dn.applySpacers=Dn.decodeLEB128=Dn.encodeLEB128=Dn.base26Decode=Dn.base26Encode=void 0;var Jge=dn();function az(t){let e=0n;for(let r=0;r<t.length;r++){let n=BigInt(t.charCodeAt(r)-"A".charCodeAt(0)),i=BigInt(t.length)-1n-BigInt(r);if(i==0n)e+=n;else{let s=26n**i;e+=s*(n+1n)}}return e}Dn.base26Encode=az;function Qge(t){if(t===340282366920938463463374607431768211455n)return"BCGDENLQRQWDSLRUGSNLBTMFIJAV";t+=1n;let e=[];for(;t>0;){let r=(t-1n)%26n;e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Number(r))),t=(t-1n)/26n}return e.reverse().join("")}Dn.base26Decode=Qge;function eme(t){let e=[],r=!0;for(;r;){let n=Number(t&BigInt(127));t>>=BigInt(7),t===BigInt(0)?r=!1:n|=128,e.push(n)}return e}Dn.encodeLEB128=eme;function tme(t){let e=BigInt(0);for(let r=0;r<t.length;r++){let n=BigInt(t[r]);if(r>18)throw new Error("Overlong");let i=n&BigInt(127);if(r==18&&(i&BigInt(124))!=BigInt(0))throw new Error("Overflow");if(e|=i<<BigInt(7)*BigInt(r),(n&BigInt(128))==BigInt(0))return{n:e,len:r+1}}throw new Error("Unterminated")}Dn.decodeLEB128=tme;function rme(t,e){let r="";for(let n=0;n<t.length;n++)r+=t.charAt(n),e>0&&((e&1)===1&&(r+="\u2022"),e>>=1);return r}Dn.applySpacers=rme;function nme(t){let e=0,r=0;for(let n=0;n<t.length;n++){let i=t.charAt(n);(i==="\u2022"||i==".")&&(e+=1<<n-1-r,r++)}return e}Dn.getSpacersVal=nme;function uz(t){return t.replace(/[.]+/g,"")}Dn.removeSpacers=uz;var ime;(function(t){t[t.Etching=0]="Etching",t[t.Terms=1]="Terms",t[t.Turbo=2]="Turbo",t[t.Cenotaph=127]="Cenotaph"})(ime=Dn.Flag||(Dn.Flag={}));var sme;(function(t){t[t.Body=0]="Body",t[t.Flags=2]="Flags",t[t.Rune=4]="Rune",t[t.Premine=6]="Premine",t[t.Cap=8]="Cap",t[t.Amount=10]="Amount",t[t.HeightStart=12]="HeightStart",t[t.HeightEnd=14]="HeightEnd",t[t.OffsetStart=16]="OffsetStart",t[t.OffsetEnd=18]="OffsetEnd",t[t.Mint=20]="Mint",t[t.Pointer=22]="Pointer",t[t.Cenotaph=126]="Cenotaph",t[t.Divisibility=1]="Divisibility",t[t.Spacers=3]="Spacers",t[t.Symbol=5]="Symbol",t[t.Nop=127]="Nop"})(sme=Dn.Tag||(Dn.Tag={}));function ome(t){let e;if(typeof t.value=="string"){let n=uz(t.value);if(!cz(n))throw new Error("invalid rune");e=az(n)}else e=t.value;let r=e.toString(16);return r.length%2===1&&(r="0"+r),Jge.base.fromHex(r).reverse()}Dn.commitment=ome;function cz(t){return/^[A-Z]+$/.test(t)}Dn.isUpper=cz});var vz=j(un=>{"use strict";B();M();var ame=un&&un.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ume=un&&un.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wv=un&&un.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&ame(e,t,r);return ume(e,t),e};Object.defineProperty(un,"__esModule",{value:!0});un.buildRuneMainDeployData=un.inscribe=un.runesMainInscribe=un.checkEtching=un.MAX_SPACERS=un.uint64Max=un.uint128Max=un.RunesMainInscriptionTool=void 0;var li=wv(Wa()),Vd=dn(),cme=wv(I0()),fme=wv(xo()),dme=Fl(),F0=Iu(),hme=wv(as()),dz=h2(),hi=fz(),gz=Vd.signUtil.schnorr.secp256k1.schnorr,hz=2,lz=4294967293,lme=546,pme=546,pz=4e6/10,kp=class{constructor(){this.network=li.networks.bitcoin,this.inscriptionTxCtxDataList=[],this.revealTxs=[],this.commitTx=new li.Transaction,this.commitTxPrevOutputFetcher=[],this.revealTxPrevOutputFetcher=[],this.mustCommitTxFee=0,this.mustRevealTxFees=[],this.commitAddrs=[]}static newInscriptionTool(e,r){let n=new kp;n.network=e;let i=r.revealOutValue||lme,s=r.minChangeValue||pme,o=r.runeData.useDefaultOutput||!1,a=r.runeData.defaultOutput||0,u=r.commitTxPrevOutputList[0].privateKey;if(!r.runeData.etching||!r.runeData.revealAddr)throw new Error("etching is null");if(!mz(r.runeData.etching))throw new Error("invalid etching parameter");let c=r.runeData.etching,d=(0,hi.commitment)(c.rune),f=yz(c,o,a);r.runeData.etching.contentType&&r.runeData.etching.body?n.inscriptionTxCtxDataList.push(yme(e,{contentType:r.runeData.etching.contentType,body:r.runeData.etching.body,revealAddr:r.runeData.revealAddr},u,d)):n.inscriptionTxCtxDataList.push(mme(e,u,r.runeData.revealAddr,d));let m=n.buildEmptyRevealTx(e,i,r.revealFeeRate,f);return n.buildCommitTx(e,r.commitTxPrevOutputList,r.changeAddress,m,r.commitFeeRate,s)||(n.signCommitTx(r.commitTxPrevOutputList),n.completeRevealTx()),n}buildEmptyRevealTx(e,r,n,i){let s=0,o=[],a=[],u=[];return this.inscriptionTxCtxDataList.forEach((c,d)=>{let f=new li.Transaction;f.version=hz,f.addInput(E.Buffer.alloc(32),d,lz),i&&f.addOutput(i,0),f.addOutput(c.revealPkScript,r);let m=E.Buffer.alloc(64),p=E.Buffer.alloc(33),y=[];y.push(m),y.push(c.inscriptionScript),y.push(p);let w=Math.floor((f.byteLength()+Math.floor(((0,dme.vectorSize)(y)+2+3)/4))*n),P=r+w;c.revealTxPrevOutput={pkScript:c.commitTxAddressPkScript,value:P},s+=P,o.push(f),a.push(w),u.push(c.commitTxAddress)}),this.revealTxs=o,this.mustRevealTxFees=a,this.commitAddrs=u,s}buildCommitTx(e,r,n,i,s,o){let a=0,u=new li.Transaction;u.version=hz,r.forEach(y=>{let w=Vd.base.reverseBuffer(Vd.base.fromHex(y.txId));u.addInput(w,y.vOut,lz),this.commitTxPrevOutputFetcher.push(y.amount),a+=y.amount}),this.inscriptionTxCtxDataList.forEach(y=>{u.addOutput(y.revealTxPrevOutput.pkScript,y.revealTxPrevOutput.value)});let c=li.address.toOutputScript(n,e);u.addOutput(c,0);let d=u.clone();bz(d,r.map(y=>({...y,privateKey:""})),this.network);let f=(0,dz.countAdjustedVsize)(d,r.map(y=>y.address),e),m=Math.floor(f*s),p=a-i-m;if(p>=o)u.outs[u.outs.length-1].value=p;else{u.outs=u.outs.slice(0,u.outs.length-1),d.outs=d.outs.slice(0,d.outs.length-1);let y=(0,dz.countAdjustedVsize)(d,r.map(P=>P.address),e),w=Math.floor(y*s);if(a-i-w<0)return this.mustCommitTxFee=m,!0}return this.commitTx=u,!1}signCommitTx(e){bz(this.commitTx,e,this.network)}completeRevealTx(){this.revealTxs.forEach((e,r)=>{e.ins[0].hash=this.commitTx.getHash();let n=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.pkScript],i=[this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value];this.revealTxPrevOutputFetcher.push(this.inscriptionTxCtxDataList[r].revealTxPrevOutput.value);let s=e.hashForWitnessV1(0,n,i,li.Transaction.SIGHASH_DEFAULT,this.inscriptionTxCtxDataList[r].hash),o=E.Buffer.from(gz.sign(s,this.inscriptionTxCtxDataList[r].privateKey,Vd.base.randomBytes(32)));e.ins[0].witness=[E.Buffer.from(o),...this.inscriptionTxCtxDataList[r].witness];let a=e.weight();if(a>pz)throw new Error(`reveal(index ${r}) transaction weight greater than ${pz} (MAX_STANDARD_TX_WEIGHT): ${a}`)})}calculateFee(){let e=0;this.commitTx.ins.forEach((n,i)=>{e+=this.commitTxPrevOutputFetcher[i]}),this.commitTx.outs.forEach(n=>{e-=n.value});let r=[];return this.revealTxs.forEach((n,i)=>{let s=0;s+=this.revealTxPrevOutputFetcher[i],s-=n.outs[0].value,r.push(s)}),{commitTxFee:e,revealTxFees:r}}};un.RunesMainInscriptionTool=kp;un.uint128Max=(BigInt(1)<<BigInt(128))-BigInt(1);un.uint64Max=(BigInt(1)<<BigInt(64))-BigInt(1);var bme=38;un.MAX_SPACERS=134217727;function mz(t){let e=t.premine?BigInt(t.premine):BigInt(0);if(e>un.uint128Max||e<0)return!1;if(t.terms){let r=t.terms.amount?BigInt(t.terms.amount):BigInt(0),n=t.terms.cap?BigInt(t.terms.cap):BigInt(0);if(r<0||r>un.uint128Max||n<0||n>un.uint128Max||r*n>un.uint128Max||e+r*n>un.uint128Max||t.terms.height&&(t.terms.height.start&&(t.terms.height.start<0||t.terms.height.start>un.uint64Max)||t.terms.height.end&&(t.terms.height.end<0||t.terms.height.end>un.uint64Max)))return!1}return!(t.divisibility&&(t.divisibility<0||t.divisibility>bme)||typeof t.rune.value=="string"&&((0,hi.getSpacersVal)(t.rune.value)>un.MAX_SPACERS||(0,hi.base26Encode)((0,hi.removeSpacers)(t.rune.value))>un.uint128Max))}un.checkEtching=mz;function gme(t,e){let r=kp.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}un.runesMainInscribe=gme;function bz(t,e,r){t.ins.forEach((n,i)=>{let s=(0,F0.getAddressType)(e[i].address,r);if(e[i].privateKey==""){let{witness:c,script:d}=(0,F0.fakeSign)(s);c!==void 0&&(n.witness=c),d!==void 0&&(n.script=d);return}let o=Vd.base.fromHex((0,F0.privateKeyFromWIF)(e[i].privateKey,r)),a=Vd.base.toHex(o),u=(0,F0.private2public)(a);if(s==="segwit_taproot"){let c=e.map(y=>li.address.toOutputScript(y.address,r)),d=e.map(y=>y.amount),f=t.hashForWitnessV1(i,c,d,li.Transaction.SIGHASH_DEFAULT),m=cme.taprootTweakPrivKey(o),p=E.Buffer.from(gz.sign(f,m,Vd.base.randomBytes(32)));n.witness=[E.Buffer.from(p)]}else if(s==="legacy"){let c=li.address.toOutputScript(e[i].address,r),d=t.hashForSignature(i,c,li.Transaction.SIGHASH_ALL),f=(0,F0.sign)(d,a),m=li.payments.p2pkh({signature:li.script.signature.encode(f,li.Transaction.SIGHASH_ALL),pubkey:u});n.script=m.input}else{let c=fme.hash160(u),d=E.Buffer.of(25,118,169,20,...c,136,172),f=e[i].amount,m=t.hashForWitness(i,d,f,li.Transaction.SIGHASH_ALL),p=(0,F0.sign)(m,a);n.witness=[li.script.signature.encode(p,li.Transaction.SIGHASH_ALL),u];let y=E.Buffer.of(22,0,20,...c);s==="segwit_nested"&&(n.script=y)}})}function mme(t,e,r,n){let i=Vd.base.fromHex((0,F0.privateKeyFromWIF)(e,t)),s=(0,F0.wif2Public)(e,t).slice(1),o=[];o.push(s);let a=li.script.OPS;o.push(a.OP_CHECKSIG),o.push(a.OP_FALSE),o.push(a.OP_IF),o.push(n),o.push(a.OP_ENDIF);let u=li.script.compile(o),c={output:u},d={output:u,redeemVersion:192},{output:f,witness:m,hash:p,address:y}=li.payments.p2tr({internalPubkey:s,scriptTree:c,redeem:d,network:t});return{privateKey:i,inscriptionScript:u,commitTxAddress:y,commitTxAddressPkScript:f,witness:m,hash:p,revealTxPrevOutput:{pkScript:E.Buffer.alloc(0),value:0},revealPkScript:li.address.toOutputScript(r,t)}}function yme(t,e,r,n){let i=Vd.base.fromHex((0,F0.privateKeyFromWIF)(r,t)),s=(0,F0.wif2Public)(r,t).slice(1),o=li.script.OPS,a=[];a.push(s),a.push(o.OP_CHECKSIG),n&&n.length>0&&(a.push(n),a.push(o.OP_DROP)),a.push(o.OP_FALSE),a.push(o.OP_IF),a.push(E.Buffer.from("ord")),a.push(o.OP_DATA_1),a.push(o.OP_DATA_1),a.push(E.Buffer.from(e.contentType)),a.push(o.OP_0);let u=520,c=E.Buffer.from(e.body),d=c.length;for(let R=0;R<d;R+=u){let T=R+u;T>d&&(T=d),a.push(c.slice(R,T))}a.push(o.OP_ENDIF);let f=li.script.compile(a),m={output:f},p={output:f,redeemVersion:192},{output:y,witness:w,hash:P,address:C}=li.payments.p2tr({internalPubkey:s,scriptTree:m,redeem:p,network:t});return{privateKey:i,inscriptionScript:f,commitTxAddress:C,commitTxAddressPkScript:y,witness:w,hash:P,revealTxPrevOutput:{pkScript:E.Buffer.alloc(0),value:0},revealPkScript:li.address.toOutputScript(e.revealAddr,t)}}function vme(t,e){let r=kp.newInscriptionTool(t,e);return r.mustCommitTxFee>0?{commitTx:"",revealTxs:[],commitTxFee:r.mustCommitTxFee,revealTxFees:r.mustRevealTxFees,commitAddrs:r.commitAddrs}:{commitTx:r.commitTx.toHex(),revealTxs:r.revealTxs.map(n=>n.toHex()),...r.calculateFee(),commitAddrs:r.commitAddrs}}un.inscribe=vme;function yz(t,e,r){let n=Sme(t,e,r),i=_me(n),s=E.Buffer.from("6a5d","hex"),o;if(i.length<76)o=E.Buffer.alloc(1),o.writeUint8(i.length);else if(i.length<256)o=E.Buffer.alloc(2),o.writeUint8(76),o.writeUint8(i.length,1);else if(i.length<65536)o=E.Buffer.alloc(3),o.writeUint8(77),o.writeUint16LE(i.length,1);else if(i.length<4294967296)o=E.Buffer.alloc(5),o.writeUint8(78),o.writeUint32LE(i.length,1);else throw new Error("runestone too big!");return hme.compile(E.Buffer.concat([s,o,i]))}un.buildRuneMainDeployData=yz;function _me(t){let e=[];for(let[r,n]of t)for(let i of n){let s=E.Buffer.alloc(1);s.writeUInt8(r),e.push(s),e.push(E.Buffer.from((0,hi.encodeLEB128)(i)))}return E.Buffer.concat(e)}function Sme(t,e,r){let n=new Map,i=1;if(t.terms){let o=1<<hi.Flag.Terms;i|=o}if(t.turbo){let o=1<<hi.Flag.Turbo;i|=o}n.set(hi.Tag.Flags,[BigInt(i)]);let s;if(typeof t.rune.value=="string"?s=(0,hi.base26Encode)((0,hi.removeSpacers)(t.rune.value)):s=t.rune.value,n.set(hi.Tag.Rune,[BigInt(s)]),t.divisibility&&n.set(hi.Tag.Divisibility,[BigInt(t.divisibility)]),t.spacers)n.set(hi.Tag.Spacers,[BigInt(t.spacers)]);else{let o;typeof t.rune.value=="bigint"?o=0:o=(0,hi.getSpacersVal)(t.rune.value),o!==0&&n.set(hi.Tag.Spacers,[BigInt(o)])}if(t.symbol&&n.set(hi.Tag.Symbol,[BigInt(t.symbol.charCodeAt(0))]),t.premine&&n.set(hi.Tag.Premine,[BigInt(t.premine)]),t.terms){if(t.terms.amount&&n.set(hi.Tag.Amount,[BigInt(t.terms.amount)]),t.terms.cap&&n.set(hi.Tag.Cap,[BigInt(t.terms.cap)]),t.terms.height){let o=t.terms.height.start;o&&n.set(hi.Tag.HeightStart,[BigInt(o)]);let a=t.terms.height.end;a&&n.set(hi.Tag.HeightEnd,[BigInt(a)])}if(t.terms.offset){let o=t.terms.offset.start;o&&n.set(hi.Tag.OffsetStart,[BigInt(o)]);let a=t.terms.offset.end;a&&n.set(hi.Tag.OffsetEnd,[BigInt(a)])}}return e&&r&&n.set(hi.Tag.Pointer,[BigInt(r)]),n}});var _z=j(vi=>{"use strict";B();M();var wme=vi&&vi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xme=vi&&vi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Eme=vi&&vi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&wme(e,t,r);return xme(e,t),e};Object.defineProperty(vi,"__esModule",{value:!0});vi.RuneMainTestWallet=vi.RuneMainWallet=vi.ErrCodeMultipleRuneId=vi.ErrCodeRuneIdNotStandard=vi.ErrCodeOpreturnExceeds=vi.ErrCodeLessRunesMainAmt=void 0;var N2=k0(),Ame=Ef(),Cp=Eme(su()),Bc=su(),YI=GI(),Tme=dn(),Ime=vz();vi.ErrCodeLessRunesMainAmt=2010300;vi.ErrCodeOpreturnExceeds=2010301;vi.ErrCodeRuneIdNotStandard=2010302;vi.ErrCodeMultipleRuneId=2010303;var xv=class extends Ame.BtcWallet{convert2RuneTx(e){let r=(0,N2.cloneObject)(e);r.runeData.useDefaultOutput==!0&&r.runeData.defaultOutput==null&&(r.runeData.defaultOutput=0),r.runeData.mint==!0&&r.runeData.mintNum==null&&(r.runeData.mintNUm=1);for(let f of r.inputs){let m=f.data;if(m!=null&&m instanceof Array)for(let p of m)typeof p.amount=="string"&&(r.runeData.mint?p.amount=BigInt(1):p.amount=BigInt(p.amount))}for(let f of r.outputs){let m=f.data;if(m!=null&&m instanceof Array)for(let p of m)typeof p.amount=="string"&&(r.runeData.mint?p.amount=BigInt(1):p.amount=BigInt(p.amount))}let n=r.inputs,i=new Map;for(let f of n){let m=f.data;if(m!=null&&m instanceof Array)for(let p of m){let y=p.id,w=BigInt(1);if(r.runeData.mint||(w=BigInt(p.amount)),y==null||w==null)continue;if(y.split(":").length<=1)throw new Error(JSON.stringify({errCode:vi.ErrCodeRuneIdNotStandard,date:{runeId:y}}));let P=i.get(y);P==null?i.set(y,w):i.set(y,BigInt(P)+BigInt(w))}}if(i.size>1)throw new Error(JSON.stringify({errCode:vi.ErrCodeMultipleRuneId,date:{runeInputMapSize:i.size}}));let s=r.outputs,o=new Map;for(let f of s){let m=f.data;if(m!=null){let p=m.id,y=BigInt(1);if(r.runeData.mint||(y=BigInt(m.amount)),p==null||y==null)continue;let w=o.get(p);w==null?o.set(p,y):o.set(p,BigInt(w)+BigInt(y))}}let a=!1;for(let f of i.keys()){let m=i.get(f),p=o.get(f);(m!=null&&p!=null&&m>p||m!=null&&p==null)&&r.runeData.useDefaultOutput==!1&&(a=!0)}let u=0,c=[];if(a){let f={address:r.address,amount:546};c.push(f),u++}let d=[];for(let f of s){let m=f.data;if(m!=null){let p=m.id,y=BigInt(1);if(r.runeData.mint||(y=BigInt(m.amount)),p==null||y==null)continue;let w={block:parseInt(p.split(":")[0]),id:parseInt(p.split(":")[1]),amount:BigInt(y),output:u};d.push(w)}f.data=null,c.push(f),u++}if(r.runeData.useDefaultOutput==!0&&r.runeData.defaultOutput>c.length-1)throw new Error(JSON.stringify({errCode:vi.ErrCodeLessRunesMainAmt,date:{defaultOutput:r.runeData.defaultOutput,ouputLenth:c.length}}));return{inputs:r.inputs,outputs:c,address:r.address,feePerB:r.feePerB,runeData:{edicts:d,etching:r.runeData.etching,burn:r.runeData.burn,defaultOutput:r.runeData.defaultOutput,mint:r.runeData.mint,mintNum:r.runeData.mintNum}}}getMockMinRuneTx(e,r){let n=(0,N2.cloneObject)(e),i=[],s={block:parseInt(r.id.split(":")[0]),id:parseInt(r.id.split(":")[1]),amount:BigInt(1),output:0};return i.push(s),{inputs:[{txId:n.inputs[0].txId,vOut:0,amount:600,data:[r]}],outputs:[{address:n.address,amount:546,data:r}],address:n.address,feePerB:n.feePerB,runeData:{edicts:i,etching:n.runeData.etching,burn:n.runeData.burn,defaultOutput:n.runeData.defaultOutput,mint:n.runeData.mint,mintNum:n.runeData.mintNum}}}getMinRuneTx(e,r,n,i){let s=(0,N2.cloneObject)(e);return{inputs:[n],outputs:[i],address:s.address,feePerB:s.feePerB,RuneData:s.runeData}}async signTransaction(e){let r=this.network(),n=null;if(e.data.runeData.etching)try{return Promise.resolve((0,Ime.runesMainInscribe)(r,e.data))}catch{return Promise.reject(N2.SignTxError)}else if(e.data.runeData.mintNum==null||e.data.runeData.mintNum<=1)try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s=this.convert2RuneTx(e.data),o=this.getRuneMainOpReturnOutput(r,s.runeData);return s.outputs.push(o),n=(0,Bc.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}else if(e.data.runeData.mint&&!e.data.runeData.serialMint)try{let i=[],s=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let o={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},a=this.getMockMinRuneTx(e.data,o),u=this.getRuneMainOpReturnOutput(r,a.runeData);a.outputs.push(u),n=(0,Bc.signBtc)(a,s,r);let c=Cp.estimateBtcFee(a,this.network())+546,d=this.convert2RuneTx(e.data),f=d.outputs.length;for(let y=0;y<o.mintNum-1;y++)d.outputs.push({address:e.data.address,amount:c});let m=this.getRuneMainOpReturnOutput(r,d.runeData);d.outputs.push(m),n=(0,Bc.signBtc)(d,s,r);let p=Bc.Transaction.fromHex(n).getId();i.push(n);for(let y=0;y<o.mintNum-1;y++){let w={txId:p,vOut:f,address:e.data.address,amount:c,data:[o]},P={address:e.data.address,amount:546};f+=1;let C=this.getMinRuneTx(e.data,o,w,P);C.outputs.push(m);let R=(0,Bc.signBtc)(C,s,r);i.push(R)}return Promise.resolve(i)}catch(i){return Promise.reject(i)}else try{let i=[],s=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let o={id:e.data.outputs[0].data.id,amount:1,mintNum:e.data.runeData.mintNum},a=this.getMockMinRuneTx(e.data,o),u=(0,YI.buildRuneMainMintOp)(o.id,!1,0,!0);a.outputs.push(u);let c=Cp.estimateBtcFee(a,this.network()),d=(o.mintNum-1)*c+546,f=this.convert2RuneTxSerialMint(e.data,d);f.outputs.push(u),n=(0,Bc.signBtc)(f,s,r);let m=Bc.Transaction.fromHex(n).getId();i.push(n);for(let p=1;p<o.mintNum;p++){let y={txId:m,vOut:0,address:e.data.address,amount:d};d=d-c;let w={address:e.data.address,amount:d},P=this.getMinRuneTx(e.data,o,y,w);P.outputs.push(u);let C=(0,Bc.signBtc)(P,s,r);m=Bc.Transaction.fromHex(C).getId(),i.push(C)}return i}catch(i){return Promise.reject(i)}}getRuneMainOpReturnOutput(e,r){let n=!1;Bc.networks.bitcoin===e&&(n=!0),r.useDefaultOutput==null&&(r.useDefaultOutput=!1),r.defaultOutput==null&&(r.defaultOutput=0),r.mint==null&&(r.mint=!1),r.mintNum==null&&(r.mintNum=0);let i=(0,YI.buildRuneMainMintData)(n,r.edicts,r.useDefaultOutput,r.defaultOutput,r.mint,r.mintNum);return{address:"",amount:0,omniScript:Tme.base.toHex(i)}}async estimateFee(e){try{let r=this.network();if(!e.data.runeData)return Promise.reject("missing runeData");let n=this.convert2RuneTx(e.data),i=this.getRuneMainOpReturnOutput(this.network(),n.runeData);n.outputs.push(i);let s={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},o=n.outputs.length;for(let u=0;u<s.mintNum-1;u++)n.outputs.push({address:e.data.address,amount:8e3});let a=Cp.estimateBtcFee(n,this.network());if(e.data.runeData.mintNum==null||e.data.runeData.mintNum<=1)return Promise.resolve(a);if(e.data.runeData.mint&&!e.data.runeData.serialMint){let u=[];u.push(a);let c={id:e.data.outputs[0].data.id,amount:e.data.outputs[0].data.amount,mintNum:e.data.runeData.mintNum},d=this.getMockMinRuneTx(e.data,c),f=this.getRuneMainOpReturnOutput(this.network(),d.runeData);d.outputs.push(f);let m=Cp.estimateBtcFee(d,this.network());for(let p=0;p<e.data.runeData.mintNum-1;p++)u.push(m);return Promise.resolve(u)}else if(e.data.runeData.mint&&e.data.runeData.serialMint){let u=[];if(!e.data.runeData)return Promise.reject("missing runeData");let c={id:e.data.outputs[0].data.id,amount:1,mintNum:e.data.runeData.mintNum},d=this.getMockMinRuneTx(e.data,c),f=(0,YI.buildRuneMainMintOp)(c.id,!1,0,!0);d.outputs.push(f);let m=Cp.estimateBtcFee(d,this.network()),p=(c.mintNum-1)*m+546,y=this.convert2RuneTxSerialMint(e.data,p);y.outputs.push(f);let w=Cp.estimateBtcFee(y,r);u.push(w);for(let P=1;P<c.mintNum;P++)u.push(m);return Promise.resolve(u)}}catch(r){return Promise.reject(r)}}convert2RuneTxSerialMint(e,r){let n=(0,N2.cloneObject)(e),i=[{address:n.address,amount:r}];return{inputs:n.inputs,outputs:i,address:n.address,feePerB:n.feePerB,runeData:{edicts:n.runeData.edicts,etching:n.runeData.etching,burn:n.runeData.burn,defaultOutput:n.runeData.defaultOutput,mint:n.runeData.mint,mintNum:n.runeData.mintNum}}}convert2RuneTxPsbt(e){let r=(0,N2.cloneObject)(e);return{inputs:r.inputs,outputs:r.outputs,address:r.address,feePerB:r.feePerB,runeData:{edicts:r.runeData.edicts,etching:r.runeData.etching,burn:r.runeData.burn,defaultOutput:r.runeData.defaultOutput,mint:r.runeData.mint,mintNum:r.runeData.mintNum}}}async buildPsbt(e){let r=this.network(),n=null;try{let i=e.privateKey;if(!e.data.runeData)return Promise.reject("missing runeData");let s=this.convert2RuneTxPsbt(e.data),o=this.getRuneMainOpReturnOutput(r,s.runeData);s.outputs.push(o);let a="KwdkfXMV2wxDVDMPPuFZsio3NeCskAUd4N2U4PriTgpj2MqAGmmc";s.dustSize==null&&(s.dustSize=546);let{inputAmount:u,outputAmount:c,virtualSize:d}=(0,Bc.calculateTxSize)(s.inputs,s.outputs,s.address,a,r,s.dustSize),f=u-c-Math.ceil(d*s.feePerB);f>s.dustSize&&s.outputs.push({address:s.address,amount:f});let p=[(0,Bc.buildPsbt)(s,r),f];return Promise.resolve(p)}catch(i){return Promise.reject(i)}}};vi.RuneMainWallet=xv;var XI=class extends xv{network(){return Cp.networks.testnet}};vi.RuneMainTestWallet=XI});var wz=j(Hr=>{"use strict";B();M();var Pme=Hr&&Hr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ome=Hr&&Hr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Bme=Hr&&Hr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Pme(e,t,r);return Ome(e,t),e};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.AtomicalTestWallet=Hr.AtomicalWallet=Hr.ErrCodeInvalidInputAsset=Hr.ErrCodeAtomicalNotFullyAllocated=Hr.ErrCodeSemiColorOuput=Hr.ErrCodeMul=Hr.ErrCodeUnknownAsset=Hr.ErrCodeCommon=Hr.ErrCodeVoutDust=Hr.ErrCodeAtomicalChangeFail=Hr.ErrCodeLessAtomicalAmt=void 0;var Mme=k0(),kme=Ef(),Sz=Bme(su()),Cme=su();Hr.ErrCodeLessAtomicalAmt=2011400;Hr.ErrCodeAtomicalChangeFail=2011401;Hr.ErrCodeVoutDust=2011402;Hr.ErrCodeCommon=2011403;Hr.ErrCodeUnknownAsset=2011404;Hr.ErrCodeMul=2011420;Hr.ErrCodeSemiColorOuput=2011405;Hr.ErrCodeAtomicalNotFullyAllocated=2011406;Hr.ErrCodeInvalidInputAsset=2011407;var Ev=class extends kme.BtcWallet{convert2AtomicalTx(e){let r=(0,Mme.cloneObject)(e),n=new Map,i=new Map,s=new Map,o=[],a=r.feePerB||10,u=r.dustSize||546,c=r.inputs;for(let m of c){let p=m.data;if(p!=null&&p instanceof Array)for(let y of p){let w=y.atomicalId,P=y.type,C=Number(y.amount);if(w==null||C==null||P==null||P!="FT"&&P!="NFT")continue;if(C>m.amount)throw new Error(JSON.stringify({errCode:Hr.ErrCodeInvalidInputAsset}));i.get(w)==null&&i.set(w,P);let R=n.get(w);R==null?n.set(w,C):n.set(w,R+C)}if(Object.keys(n).length>1)throw new Error(JSON.stringify({errCode:Hr.ErrCodeMul}))}let d=r.outputs,f=0;for(let m of d){let p=m.data;if(p!=null&&p instanceof Array)for(let y of p){let w=y.atomicalId,P=Number(y.amount),C=y.type;if(C=="FT"&&P!=m.amount&&P>u)throw new Error(JSON.stringify({errCode:Hr.ErrCodeSemiColorOuput}));if(w==null||P==null||C==null||C!="FT"&&C!="NFT")continue;if(C=="FT"&&P!=m.amount&&(f+=1,f==2))throw new Error(JSON.stringify({errCode:Hr.ErrCodeSemiColorOuput}));if(i.get(w)!=C)throw new Error(JSON.stringify({errCode:Hr.ErrCodeUnknownAsset}));let R=s.get(w);if(R==null)s.set(w,P);else if(s.set(w,R+P),C=="NFT")throw new Error(JSON.stringify({errCode:Hr.ErrCodeMul}))}if(Object.keys(s).length>1)throw new Error(JSON.stringify({errCode:Hr.ErrCodeMul}));o.push({amount:m.amount,address:m.address})}for(let m of n.keys()){let p=n.get(m),y=s.get(m);if(p!=y)throw new Error(JSON.stringify({errCode:Hr.ErrCodeAtomicalNotFullyAllocated,date:{atomicalId:m,inputAmount:p,sendAmount:y}}))}for(let[m,p]of o.entries())if(p.amount<u)throw new Error(JSON.stringify({errCode:Hr.ErrCodeVoutDust,vOut:m}));return{inputs:r.inputs,outputs:o,address:r.address,feePerB:a}}async signTransaction(e){let r=this.network(),n=null;try{let i=e.privateKey,s=this.convert2AtomicalTx(e.data);return n=(0,Cme.signBtc)(s,i,r),Promise.resolve(n)}catch(i){return Promise.reject(i)}}async estimateFee(e){try{let r=this.convert2AtomicalTx(e.data),n=Sz.estimateBtcFee(r,this.network());return Promise.resolve(n)}catch(r){return Promise.reject(r)}}};Hr.AtomicalWallet=Ev;var ZI=class extends Ev{network(){return Sz.networks.testnet}};Hr.AtomicalTestWallet=ZI});var xz=j(Av=>{"use strict";B();M();Object.defineProperty(Av,"__esModule",{value:!0});Av.MAX_TOTAL_SUPPLY=void 0;var Rme=2147483647n;Av.MAX_TOTAL_SUPPLY=Rme});var JI=j(na=>{"use strict";B();M();Object.defineProperty(na,"__esModule",{value:!0});na.MinterType=na.CHANGE_MIN_POSTAGE=na.Postage=na.SupportedNetwork=na.CatAddressType=void 0;var Nme;(function(t){t.P2WPKH="p2wpkh",t.P2TR="p2tr"})(Nme=na.CatAddressType||(na.CatAddressType={}));var Fme;(function(t){t.btcSignet="btc-signet",t.fractalMainnet="fractal-mainnet",t.fractalTestnet="fractal-testnet"})(Fme=na.SupportedNetwork||(na.SupportedNetwork={}));var Hme;(function(t){t[t.METADATA_POSTAGE=546]="METADATA_POSTAGE",t[t.GUARD_POSTAGE=332]="GUARD_POSTAGE",t[t.MINTER_POSTAGE=331]="MINTER_POSTAGE",t[t.TOKEN_POSTAGE=330]="TOKEN_POSTAGE"})(Hme=na.Postage||(na.Postage={}));na.CHANGE_MIN_POSTAGE=546;var Dme;(function(t){t.OPEN_MINTER_V1="21cbd2e538f2b6cc40ee180e174f1e25",t.OPEN_MINTER_V2="a6c2e92d74a23c07bb6220b676c6cb9b",t.UNKOWN_MINTER="unkown_minter"})(Dme=na.MinterType||(na.MinterType={}))});var Az=j(Ez=>{"use strict";B();M();Object.defineProperty(Ez,"__esModule",{value:!0})});var Iz=j(Tv=>{"use strict";B();M();Object.defineProperty(Tv,"__esModule",{value:!0});Tv.isOpenMinter=void 0;var Tz=JI();function Lme(t){return Tz.MinterType.OPEN_MINTER_V1===t||Tz.MinterType.OPEN_MINTER_V2===t}Tv.isOpenMinter=Lme});var Oz=j((cnt,Pz)=>{B();M();Pz.exports="0.5.7"});var QI=j((hnt,Mz)=>{B();M();var Ume={8:"\\b",9:"\\t",10:"\\n",12:"\\f",13:"\\r",34:'\\"',92:"\\\\"};function qme(t){return t>=55296&&t<=56319}function jme(t){return t>=56320&&t<=57343}function Bz(t){return typeof t.pipe=="function"&&typeof t._read=="function"&&typeof t._readableState=="object"&&t._readableState!==null}function Kme(t,e,r,n){switch(r&&typeof r.toJSON=="function"&&(r=r.toJSON()),n!==null&&(r=n.call(t,String(e),r)),typeof r){case"function":case"symbol":r=void 0;break;case"object":if(r!==null){let i=r.constructor;(i===String||i===Number||i===Boolean)&&(r=r.valueOf())}break}return r}function $me(t){return t===null||typeof t!="object"?1:Array.isArray(t)?3:2}function zme(t){return t===null||typeof t!="object"?1:typeof t.then=="function"?4:Bz(t)?t._readableState.objectMode?6:5:Array.isArray(t)?3:2}function Vme(t){return typeof t=="function"?t:Array.isArray(t)?[...new Set(t.map(r=>{let n=r&&r.constructor;return n===String||n===Number?String(r):null}).filter(r=>typeof r=="string"))]:null}function Gme(t){return typeof t=="number"?!Number.isFinite(t)||t<1?!1:" ".repeat(Math.min(t,10)):typeof t=="string"&&t.slice(0,10)||!1}Mz.exports={escapableCharCodeSubstitution:Ume,isLeadingSurrogate:qme,isTrailingSurrogate:jme,type:{PRIMITIVE:1,PROMISE:4,ARRAY:3,OBJECT:2,STRING_STREAM:5,OBJECT_STREAM:6},isReadableStream:Bz,replaceValue:Kme,getTypeNative:$me,getTypeAsync:zme,normalizeReplacer:Vme,normalizeSpace:Gme}});var Nz=j((bnt,Rz)=>{B();M();var{normalizeReplacer:Wme,normalizeSpace:Yme,replaceValue:Xme,getTypeNative:Zme,getTypeAsync:Jme,isLeadingSurrogate:Qme,isTrailingSurrogate:e8e,escapableCharCodeSubstitution:t8e,type:{PRIMITIVE:kz,OBJECT:r8e,ARRAY:n8e,PROMISE:i8e,STRING_STREAM:s8e,OBJECT_STREAM:o8e}}=QI(),a8e=Array.from({length:2048}).map((t,e)=>t8e.hasOwnProperty(e)?2:e<32?6:e<128?1:2);function Cz(t){let e=0,r=!1;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i<2048)e+=a8e[i];else if(Qme(i)){e+=6,r=!0;continue}else e8e(i)?e=r?e-2:e+6:e+=3;r=!1}return e+2}function u8e(t){switch(typeof t){case"string":return Cz(t);case"number":return Number.isFinite(t)?String(t).length:4;case"boolean":return t?4:5;case"undefined":case"object":return 4;default:return 0}}function c8e(t){return t=Yme(t),typeof t=="string"?t.length:0}Rz.exports=function(e,r,n,i){function s(P,C,R){if(y)return;R=Xme(P,C,R,r);let T=m(R);if(T!==kz&&u.has(R)){d.add(R),w+=4,i.continueOnCircular||(y=!0);return}switch(T){case kz:R!==void 0||Array.isArray(P)?w+=u8e(R):P===p&&(w+=9);break;case r8e:{if(a.has(R)){c.add(R),w+=a.get(R);break}let k=w,H=0;w+=2,u.add(R);for(let F in R)if(hasOwnProperty.call(R,F)&&(o===null||o.has(F))){let L=w;s(R,F,R[F]),L!==w&&(w+=Cz(F)+1,H++)}H>1&&(w+=H-1),u.delete(R),n>0&&H>0&&(w+=(1+(u.size+1)*n+1)*H,w+=1+u.size*n),a.set(R,w-k);break}case n8e:{if(a.has(R)){c.add(R),w+=a.get(R);break}let k=w;w+=2,u.add(R);for(let H=0;H<R.length;H++)s(R,H,R[H]);R.length>1&&(w+=R.length-1),u.delete(R),n>0&&R.length>0&&(w+=(1+(u.size+1)*n)*R.length,w+=1+u.size*n),a.set(R,w-k);break}case i8e:case s8e:f.add(R);break;case o8e:w+=2,f.add(R);break}}let o=null;r=Wme(r),Array.isArray(r)&&(o=new Set(r),r=null),n=c8e(n),i=i||{};let a=new Map,u=new Set,c=new Set,d=new Set,f=new Set,m=i.async?Jme:Zme,p={"":e},y=!1,w=0;return s(p,"",e),{minLength:isNaN(w)?1/0:w,circular:[...d],duplicate:[...c],async:[...f]}}});var Hz=j((ynt,Fz)=>{B();M();Fz.exports=()=>{throw new Error("Method is not supported")}});var Lz=j((Snt,Dz)=>{B();M();Dz.exports=TextDecoder});var jz=j((Ent,qz)=>{B();M();var{isReadableStream:f8e}=QI(),d8e=Lz(),H4=1,h8e=2,l8e=new d8e;function Uz(t){return t!==null&&typeof t=="object"}function eP(t,e){return t.name==="SyntaxError"&&e.jsonParseOffset&&(t.message=t.message.replace(/at position (\d+)/,(r,n)=>"at position "+(Number(n)+e.jsonParseOffset))),t}function p8e(t,e){let r=t.length;t.length+=e.length;for(let n=0;n<e.length;n++)t[r+n]=e[n]}qz.exports=function(t){let e=new tP;if(Uz(t)&&f8e(t))return new Promise((r,n)=>{t.on("data",i=>{try{e.push(i)}catch(s){n(eP(s,e)),e=null}}).on("error",i=>{e=null,n(i)}).on("end",()=>{try{r(e.finish())}catch(i){n(eP(i,e))}finally{e=null}})});if(typeof t=="function"){let r=t();if(Uz(r)&&(Symbol.iterator in r||Symbol.asyncIterator in r))return new Promise(async(n,i)=>{try{for await(let s of r)e.push(s);n(e.finish())}catch(s){i(eP(s,e))}finally{e=null}})}throw new Error("Chunk emitter should be readable stream, generator, async generator or function returning an iterable object")};var tP=class{constructor(){this.value=void 0,this.valueStack=null,this.stack=new Array(100),this.lastFlushDepth=0,this.flushDepth=0,this.stateString=!1,this.stateStringEscape=!1,this.pendingByteSeq=null,this.pendingChunk=null,this.chunkOffset=0,this.jsonParseOffset=0}parseAndAppend(e,r){this.stack[this.lastFlushDepth-1]===H4?(r&&(this.jsonParseOffset--,e="{"+e+"}"),Object.assign(this.valueStack.value,JSON.parse(e))):(r&&(this.jsonParseOffset--,e="["+e+"]"),p8e(this.valueStack.value,JSON.parse(e)))}prepareAddition(e){let{value:r}=this.valueStack;if(Array.isArray(r)?r.length!==0:Object.keys(r).length!==0){if(e[0]===",")return this.jsonParseOffset++,e.slice(1);if(e[0]!=="}"&&e[0]!=="]")return this.jsonParseOffset-=3,"[[]"+e}return e}flush(e,r,n){let i=e.slice(r,n);if(this.jsonParseOffset=this.chunkOffset+r,this.pendingChunk!==null&&(i=this.pendingChunk+i,this.jsonParseOffset-=this.pendingChunk.length,this.pendingChunk=null),this.flushDepth===this.lastFlushDepth)this.flushDepth>0?this.parseAndAppend(this.prepareAddition(i),!0):(this.value=JSON.parse(i),this.valueStack={value:this.value,prev:null});else if(this.flushDepth>this.lastFlushDepth){for(let s=this.flushDepth-1;s>=this.lastFlushDepth;s--)i+=this.stack[s]===H4?"}":"]";this.lastFlushDepth===0?(this.value=JSON.parse(i),this.valueStack={value:this.value,prev:null}):this.parseAndAppend(this.prepareAddition(i),!0);for(let s=this.lastFlushDepth||1;s<this.flushDepth;s++){let o=this.valueStack.value;if(this.stack[s-1]===H4){let a;for(a in o);o=o[a]}else o=o[o.length-1];this.valueStack={value:o,prev:this.valueStack}}}else{i=this.prepareAddition(i);for(let s=this.lastFlushDepth-1;s>=this.flushDepth;s--)this.jsonParseOffset--,i=(this.stack[s]===H4?"{":"[")+i;this.parseAndAppend(i,!1);for(let s=this.lastFlushDepth-1;s>=this.flushDepth;s--)this.valueStack=this.valueStack.prev}this.lastFlushDepth=this.flushDepth}push(e){if(typeof e!="string"){if(this.pendingByteSeq!==null){let s=e;e=new Uint8Array(this.pendingByteSeq.length+s.length),e.set(this.pendingByteSeq),e.set(s,this.pendingByteSeq.length),this.pendingByteSeq=null}if(e[e.length-1]>127)for(let s=0;s<e.length;s++){let o=e[e.length-1-s];if(o>>6===3){s++,(s!==4&&o>>3===30||s!==3&&o>>4===14||s!==2&&o>>5===6)&&(this.pendingByteSeq=e.slice(e.length-s),e=e.slice(0,-s));break}}e=l8e.decode(e)}let r=e.length,n=0,i=0;e:for(let s=0;s<r;s++){if(this.stateString){for(;s<r;s++)if(this.stateStringEscape)this.stateStringEscape=!1;else switch(e.charCodeAt(s)){case 34:this.stateString=!1;continue e;case 92:this.stateStringEscape=!0}break}switch(e.charCodeAt(s)){case 34:this.stateString=!0,this.stateStringEscape=!1;break;case 44:i=s;break;case 123:i=s+1,this.stack[this.flushDepth++]=H4;break;case 91:i=s+1,this.stack[this.flushDepth++]=h8e;break;case 93:case 125:i=s+1,this.flushDepth--,this.flushDepth<this.lastFlushDepth&&(this.flush(e,n,i),n=i);break;case 9:case 10:case 13:case 32:n===s&&n++,i===s&&i++;break}}i>n&&this.flush(e,n,i),i<r&&(this.pendingChunk!==null?this.pendingChunk+=e:this.pendingChunk=e.slice(i,r)),this.chunkOffset+=r}finish(){return this.pendingChunk!==null&&(this.flush("",0,0),this.pendingChunk=null),this.value}}});var $z=j((Int,Kz)=>{B();M();Kz.exports={version:Oz(),stringifyInfo:Nz(),stringifyStream:Hz(),parseChunked:jz()}});var zz=j((Bnt,b8e)=>{b8e.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var Ou=j(Vz=>{"use strict";B();M();var Af=Vz,g8e=t0(),m8e=UE(),Iv=qE();Af.assert=m8e;Af.toArray=Iv.toArray;Af.zero2=Iv.zero2;Af.toHex=Iv.toHex;Af.encode=Iv.encode;function y8e(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,u=s.andln(i-1);s.isOdd()?(u>(i>>1)-1?a=(i>>1)-u:a=u,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n}Af.getNAF=y8e;function v8e(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o=t.andln(3)+n&3,a=e.andln(3)+i&3;o===3&&(o=-1),a===3&&(a=-1);var u;(o&1)===0?u=0:(s=t.andln(7)+n&7,(s===3||s===5)&&a===2?u=-o:u=o),r[0].push(u);var c;(a&1)===0?c=0:(s=e.andln(7)+i&7,(s===3||s===5)&&o===2?c=-a:c=a),r[1].push(c),2*n===u+1&&(n=1-n),2*i===c+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}Af.getJSF=v8e;function _8e(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}Af.cachedProperty=_8e;function S8e(t){return typeof t=="string"?Af.toArray(t,"hex"):t}Af.parseBytes=S8e;function w8e(t){return new g8e(t,"hex","le")}Af.intFromLE=w8e});var L4=j((Rnt,Gz)=>{"use strict";B();M();var Rp=t0(),D4=Ou(),Pv=D4.getNAF,x8e=D4.getJSF,Ov=D4.assert;function zl(t,e){this.type=t,this.p=new Rp(e.p,16),this.red=e.prime?Rp.red(e.prime):Rp.mont(this.p),this.zero=new Rp(0).toRed(this.red),this.one=new Rp(1).toRed(this.red),this.two=new Rp(2).toRed(this.red),this.n=e.n&&new Rp(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Gz.exports=zl;zl.prototype.point=function(){throw new Error("Not implemented")};zl.prototype.validate=function(){throw new Error("Not implemented")};zl.prototype._fixedNafMul=function(e,r){Ov(e.precomputed);var n=e._getDoubles(),i=Pv(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,u;for(a=0;a<i.length;a+=n.step){u=0;for(var c=a+n.step-1;c>=a;c--)u=(u<<1)+i[c];o.push(u)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),m=s;m>0;m--){for(a=0;a<o.length;a++)u=o[a],u===m?f=f.mixedAdd(n.points[a]):u===-m&&(f=f.mixedAdd(n.points[a].neg()));d=d.add(f)}return d.toP()};zl.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Pv(r,n,this._bitLength),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var c=0;u>=0&&o[u]===0;u--)c++;if(u>=0&&c++,a=a.dblp(c),u<0)break;var d=o[u];Ov(d!==0),e.type==="affine"?d>0?a=a.mixedAdd(s[d-1>>1]):a=a.mixedAdd(s[-d-1>>1].neg()):d>0?a=a.add(s[d-1>>1]):a=a.add(s[-d-1>>1].neg())}return e.type==="affine"?a.toP():a};zl.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,u=this._wnafT3,c=0,d,f,m;for(d=0;d<i;d++){m=r[d];var p=m._getNAFPoints(e);o[d]=p.wnd,a[d]=p.points}for(d=i-1;d>=1;d-=2){var y=d-1,w=d;if(o[y]!==1||o[w]!==1){u[y]=Pv(n[y],o[y],this._bitLength),u[w]=Pv(n[w],o[w],this._bitLength),c=Math.max(u[y].length,c),c=Math.max(u[w].length,c);continue}var P=[r[y],null,null,r[w]];r[y].y.cmp(r[w].y)===0?(P[1]=r[y].add(r[w]),P[2]=r[y].toJ().mixedAdd(r[w].neg())):r[y].y.cmp(r[w].y.redNeg())===0?(P[1]=r[y].toJ().mixedAdd(r[w]),P[2]=r[y].add(r[w].neg())):(P[1]=r[y].toJ().mixedAdd(r[w]),P[2]=r[y].toJ().mixedAdd(r[w].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],R=x8e(n[y],n[w]);for(c=Math.max(R[0].length,c),u[y]=new Array(c),u[w]=new Array(c),f=0;f<c;f++){var T=R[0][f]|0,k=R[1][f]|0;u[y][f]=C[(T+1)*3+(k+1)],u[w][f]=0,a[y]=P}}var H=this.jpoint(null,null,null),F=this._wnafT4;for(d=c;d>=0;d--){for(var L=0;d>=0;){var D=!0;for(f=0;f<i;f++)F[f]=u[f][d]|0,F[f]!==0&&(D=!1);if(!D)break;L++,d--}if(d>=0&&L++,H=H.dblp(L),d<0)break;for(f=0;f<i;f++){var N=F[f];N!==0&&(N>0?m=a[f][N-1>>1]:N<0&&(m=a[f][-N-1>>1].neg()),m.type==="affine"?H=H.mixedAdd(m):H=H.add(m))}}for(d=0;d<i;d++)a[d]=null;return s?H:H.toP()};function Mc(t,e){this.curve=t,this.type=e,this.precomputed=null}zl.BasePoint=Mc;Mc.prototype.eq=function(){throw new Error("Not implemented")};Mc.prototype.validate=function(){return this.curve.validate(this)};zl.prototype.decodePoint=function(e,r){e=D4.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Ov(e[e.length-1]%2===0):e[0]===7&&Ov(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Mc.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Mc.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Mc.prototype.encode=function(e,r){return D4.encode(this._encode(r),e)};Mc.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Mc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Mc.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Mc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Mc.prototype._getBeta=function(){return null};Mc.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var Bv=j((Hnt,rP)=>{B();M();typeof Object.create=="function"?rP.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:rP.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Yz=j((Unt,Wz)=>{"use strict";B();M();var E8e=Ou(),Ni=t0(),nP=Bv(),F2=L4(),A8e=E8e.assert;function kc(t){F2.call(this,"short",t),this.a=new Ni(t.a,16).toRed(this.red),this.b=new Ni(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}nP(kc,F2);Wz.exports=kc;kc.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ni(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ni(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],A8e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Ni(a.a,16),b:new Ni(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};kc.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ni.mont(e),n=new Ni(2).toRed(r).redInvm(),i=n.redNeg(),s=new Ni(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};kc.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Ni(1),o=new Ni(0),a=new Ni(0),u=new Ni(1),c,d,f,m,p,y,w,P=0,C,R;n.cmpn(0)!==0;){var T=i.div(n);C=i.sub(T.mul(n)),R=a.sub(T.mul(s));var k=u.sub(T.mul(o));if(!f&&C.cmp(r)<0)c=w.neg(),d=s,f=C.neg(),m=R;else if(f&&++P===2)break;w=C,i=n,n=C,a=s,s=R,u=o,o=k}p=C.neg(),y=R;var H=f.sqr().add(m.sqr()),F=p.sqr().add(y.sqr());return F.cmp(H)>=0&&(p=c,y=d),f.negative&&(f=f.neg(),m=m.neg()),p.negative&&(p=p.neg(),y=y.neg()),[{a:f,b:m},{a:p,b:y}]};kc.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),u=o.mul(i.a),c=s.mul(n.b),d=o.mul(i.b),f=e.sub(a).sub(u),m=c.add(d).neg();return{k1:f,k2:m}};kc.prototype.pointFromX=function(e,r){e=new Ni(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};kc.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};kc.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),u=e[o],c=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=u,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var d=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return d};function Qs(t,e,r,n){F2.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ni(e,16),this.y=new Ni(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}nP(Qs,F2.BasePoint);kc.prototype.point=function(e,r,n){return new Qs(this,e,r,n)};kc.prototype.pointFromJSON=function(e,r){return Qs.fromJSON(this,e,r)};Qs.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Qs.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Qs.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Qs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Qs.prototype.isInfinity=function(){return this.inf};Qs.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Qs.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Qs.prototype.getX=function(){return this.x.fromRed()};Qs.prototype.getY=function(){return this.y.fromRed()};Qs.prototype.mul=function(e){return e=new Ni(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Qs.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Qs.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Qs.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Qs.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Qs.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Io(t,e,r,n){F2.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ni(0)):(this.x=new Ni(e,16),this.y=new Ni(r,16),this.z=new Ni(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}nP(Io,F2.BasePoint);kc.prototype.jpoint=function(e,r,n){return new Io(this,e,r,n)};Io.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Io.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Io.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),u=i.redSub(s),c=o.redSub(a);if(u.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=u.redSqr(),f=d.redMul(u),m=i.redMul(d),p=c.redSqr().redIAdd(f).redISub(m).redISub(m),y=c.redMul(m.redISub(p)).redISub(o.redMul(f)),w=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(p,y,w)};Io.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),d=c.redMul(a),f=n.redMul(c),m=u.redSqr().redIAdd(d).redISub(f).redISub(f),p=u.redMul(f.redISub(m)).redISub(s.redMul(d)),y=this.z.redMul(a);return this.curve.jpoint(m,p,y)};Io.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,u=this.z,c=u.redSqr().redSqr(),d=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),m=d.redSqr(),p=m.redSqr(),y=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(c)),w=o.redMul(m),P=y.redSqr().redISub(w.redAdd(w)),C=w.redISub(P),R=y.redMul(C);R=R.redIAdd(R).redISub(p);var T=d.redMul(u);r+1<e&&(c=c.redMul(p)),o=P,u=T,d=R}return this.curve.jpoint(o,d.redMul(s),u)};Io.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Io.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i),c=u.redSqr().redISub(a).redISub(a),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),e=c,r=u.redMul(a.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),m=this.y.redSqr(),p=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(f).redISub(p);y=y.redIAdd(y);var w=f.redAdd(f).redIAdd(f),P=w.redSqr(),C=p.redIAdd(p);C=C.redIAdd(C),C=C.redIAdd(C),e=P.redISub(y).redISub(y),r=w.redMul(y.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Io.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=u.redSqr().redISub(a).redISub(a);e=c;var d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),r=u.redMul(a.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),m=this.y.redSqr(),p=this.x.redMul(m),y=this.x.redSub(f).redMul(this.x.redAdd(f));y=y.redAdd(y).redIAdd(y);var w=p.redIAdd(p);w=w.redIAdd(w);var P=w.redAdd(w);e=y.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(f);var C=m.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=y.redMul(w.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)};Io.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var d=c.redMul(a),f=u.redSqr().redISub(d.redAdd(d)),m=d.redISub(f),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var y=u.redMul(m).redISub(p),w=n.redAdd(n).redMul(i);return this.curve.jpoint(f,y,w)};Io.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var u=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=s.redIAdd(a).redSqr().redISub(o).redISub(u).redISub(c),f=r.redMul(d);f=f.redIAdd(f),f=f.redIAdd(f);var m=this.x.redMul(u).redISub(f);m=m.redIAdd(m),m=m.redIAdd(m);var p=this.y.redMul(d.redMul(c.redISub(d)).redISub(a.redMul(u)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var y=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(m,p,y)};Io.prototype.mul=function(e,r){return e=new Ni(e,r),this.curve._wnafMul(this,e)};Io.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Io.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Io.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Io.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var Jz=j((Knt,Zz)=>{"use strict";B();M();var H2=t0(),Xz=Bv(),Mv=L4(),T8e=Ou();function D2(t){Mv.call(this,"mont",t),this.a=new H2(t.a,16).toRed(this.red),this.b=new H2(t.b,16).toRed(this.red),this.i4=new H2(4).toRed(this.red).redInvm(),this.two=new H2(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Xz(D2,Mv);Zz.exports=D2;D2.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function eo(t,e,r){Mv.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new H2(e,16),this.z=new H2(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Xz(eo,Mv.BasePoint);D2.prototype.decodePoint=function(e,r){return this.point(T8e.toArray(e,r),1)};D2.prototype.point=function(e,r){return new eo(this,e,r)};D2.prototype.pointFromJSON=function(e){return eo.fromJSON(this,e)};eo.prototype.precompute=function(){};eo.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};eo.fromJSON=function(e,r){return new eo(e,r[0],r[1]||e.one)};eo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};eo.prototype.isInfinity=function(){return this.z.cmpn(0)===0};eo.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};eo.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};eo.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),u=s.redMul(i),c=r.z.redMul(a.redAdd(u).redSqr()),d=r.x.redMul(a.redISub(u).redSqr());return this.curve.point(c,d)};eo.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};eo.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};eo.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};eo.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};eo.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};eo.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var tV=j((Vnt,eV)=>{"use strict";B();M();var I8e=Ou(),Gd=t0(),Qz=Bv(),kv=L4(),P8e=I8e.assert;function H0(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,kv.call(this,"edwards",t),this.a=new Gd(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Gd(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Gd(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),P8e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}Qz(H0,kv);eV.exports=H0;H0.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};H0.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};H0.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};H0.prototype.pointFromX=function(e,r){e=new Gd(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var u=a.fromRed().isOdd();return(r&&!u||!r&&u)&&(a=a.redNeg()),this.point(e,a)};H0.prototype.pointFromY=function(e,r){e=new Gd(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};H0.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Ln(t,e,r,n,i){kv.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Gd(e,16),this.y=new Gd(r,16),this.z=n?new Gd(n,16):this.curve.one,this.t=i&&new Gd(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}Qz(Ln,kv.BasePoint);H0.prototype.pointFromJSON=function(e){return Ln.fromJSON(this,e)};H0.prototype.point=function(e,r,n,i){return new Ln(this,e,r,n,i)};Ln.fromJSON=function(e,r){return new Ln(e,r[0],r[1],r[2])};Ln.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ln.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ln.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),u=i.redSub(r),c=s.redMul(a),d=o.redMul(u),f=s.redMul(u),m=a.redMul(o);return this.curve.point(c,d,m,f)};Ln.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,u,c;if(this.curve.twisted){a=this.curve._mulA(r);var d=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(d.redSub(this.curve.two)),s=d.redMul(a.redSub(n)),o=d.redSqr().redSub(d).redSub(d)):(u=this.z.redSqr(),c=d.redSub(u).redISub(u),i=e.redSub(r).redISub(n).redMul(c),s=d.redMul(a.redSub(n)),o=d.redMul(c))}else a=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),c=a.redSub(u).redSub(u),i=this.curve._mulC(e.redISub(a)).redMul(c),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(c);return this.curve.point(i,s,o)};Ln.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ln.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),u=s.redAdd(i),c=n.redAdd(r),d=o.redMul(a),f=u.redMul(c),m=o.redMul(c),p=a.redMul(u);return this.curve.point(d,f,p,m)};Ln.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),u=n.redAdd(o),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),d=r.redMul(a).redMul(c),f,m;return this.curve.twisted?(f=r.redMul(u).redMul(s.redSub(this.curve._mulA(i))),m=a.redMul(u)):(f=r.redMul(u).redMul(s.redSub(i)),m=this.curve._mulC(a).redMul(u)),this.curve.point(d,f,m)};Ln.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ln.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ln.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Ln.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Ln.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ln.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ln.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ln.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ln.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ln.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Ln.prototype.toP=Ln.prototype.normalize;Ln.prototype.mixedAdd=Ln.prototype.add});var iP=j(rV=>{"use strict";B();M();var Cv=rV;Cv.base=L4();Cv.short=Yz();Cv.mont=Jz();Cv.edwards=tV()});var iV=j((Jnt,nV)=>{B();M();nV.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var Rv=j(aV=>{"use strict";B();M();var oP=aV,Vl=Q6(),sP=iP(),O8e=Ou(),sV=O8e.assert;function oV(t){t.type==="short"?this.curve=new sP.short(t):t.type==="edwards"?this.curve=new sP.edwards(t):this.curve=new sP.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,sV(this.g.validate(),"Invalid curve"),sV(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}oP.PresetCurve=oV;function Gl(t,e){Object.defineProperty(oP,t,{configurable:!0,enumerable:!0,get:function(){var r=new oV(e);return Object.defineProperty(oP,t,{configurable:!0,enumerable:!0,value:r}),r}})}Gl("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Vl.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Gl("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Vl.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Gl("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Vl.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Gl("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Vl.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Gl("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Vl.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Gl("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Vl.sha256,gRed:!1,g:["9"]});Gl("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Vl.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var aP;try{aP=iV()}catch{aP=void 0}Gl("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Vl.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",aP]})});var cV=j((iit,uV)=>{"use strict";B();M();var B8e=t0(),M8e=Ou(),uP=M8e.assert;function ia(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}uV.exports=ia;ia.fromPublic=function(e,r,n){return r instanceof ia?r:new ia(e,{pub:r,pubEnc:n})};ia.fromPrivate=function(e,r,n){return r instanceof ia?r:new ia(e,{priv:r,privEnc:n})};ia.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ia.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ia.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ia.prototype._importPrivate=function(e,r){this.priv=new B8e(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ia.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?uP(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&uP(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ia.prototype.derive=function(e){return e.validate()||uP(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ia.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ia.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};ia.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var hV=j((ait,dV)=>{"use strict";B();M();var Nv=t0(),dP=Ou(),k8e=dP.assert;function Fv(t,e){if(t instanceof Fv)return t;this._importDER(t,e)||(k8e(t.r&&t.s,"Signature without r or s"),this.r=new Nv(t.r,16),this.s=new Nv(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}dV.exports=Fv;function C8e(){this.place=0}function cP(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function fV(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Fv.prototype._importDER=function(e,r){e=dP.toArray(e,r);var n=new C8e;if(e[n.place++]!==48)return!1;var i=cP(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=cP(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=cP(e,n);if(a===!1||e.length!==a+n.place)return!1;var u=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new Nv(o),this.s=new Nv(u),this.recoveryParam=null,!0};function fP(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Fv.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=fV(r),n=fV(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];fP(i,r.length),i=i.concat(r),i.push(2),fP(i,n.length);var s=i.concat(n),o=[48];return fP(o,s.length),o=o.concat(s),dP.encode(o,e)}});var gV=j((fit,bV)=>{"use strict";B();M();var Np=t0(),lV=jE(),R8e=Ou(),hP=Rv(),N8e=Rb(),pV=R8e.assert,lP=cV(),Hv=hV();function Cc(t){if(!(this instanceof Cc))return new Cc(t);typeof t=="string"&&(pV(Object.prototype.hasOwnProperty.call(hP,t),"Unknown curve "+t),t=hP[t]),t instanceof hP.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}bV.exports=Cc;Cc.prototype.keyPair=function(e){return new lP(this,e)};Cc.prototype.keyFromPrivate=function(e,r){return lP.fromPrivate(this,e,r)};Cc.prototype.keyFromPublic=function(e,r){return lP.fromPublic(this,e,r)};Cc.prototype.genKeyPair=function(e){e||(e={});for(var r=new lV({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||N8e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Np(2));;){var s=new Np(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Cc.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Cc.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Np(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),u=new lV({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new Np(1)),d=0;;d++){var f=i.k?i.k(d):new Np(u.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(c)>=0)){var m=this.g.mul(f);if(!m.isInfinity()){var p=m.getX(),y=p.umod(this.n);if(y.cmpn(0)!==0){var w=f.invm(this.n).mul(y.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var P=(m.getY().isOdd()?1:0)|(p.cmp(y)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),P^=1),new Hv({r:y,s:w,recoveryParam:P})}}}}}};Cc.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Np(e,16)),n=this.keyFromPublic(n,i),r=new Hv(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),u=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(u,n.getPublic(),c),d.isInfinity()?!1:d.eqXToP(s)):(d=this.g.mulAdd(u,n.getPublic(),c),d.isInfinity()?!1:d.getX().umod(this.n).cmp(s)===0)};Cc.prototype.recoverPubKey=function(t,e,r,n){pV((3&r)===r,"The recovery param is more than two bits"),e=new Hv(e,n);var i=this.n,s=new Np(t),o=e.r,a=e.s,u=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var d=e.r.invm(i),f=i.sub(s).mul(d).umod(i),m=a.mul(d).umod(i);return this.g.mulAdd(f,o,m)};Cc.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Hv(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var _V=j((lit,vV)=>{"use strict";B();M();var U4=Ou(),yV=U4.assert,mV=U4.parseBytes,L2=U4.cachedProperty;function to(t,e){this.eddsa=t,this._secret=mV(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=mV(e.pub)}to.fromPublic=function(e,r){return r instanceof to?r:new to(e,{pub:r})};to.fromSecret=function(e,r){return r instanceof to?r:new to(e,{secret:r})};to.prototype.secret=function(){return this._secret};L2(to,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});L2(to,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});L2(to,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});L2(to,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});L2(to,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});L2(to,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});to.prototype.sign=function(e){return yV(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};to.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};to.prototype.getSecret=function(e){return yV(this._secret,"KeyPair is public only"),U4.encode(this.secret(),e)};to.prototype.getPublic=function(e){return U4.encode(this.pubBytes(),e)};vV.exports=to});var wV=j((git,SV)=>{"use strict";B();M();var F8e=t0(),Dv=Ou(),H8e=Dv.assert,Lv=Dv.cachedProperty,D8e=Dv.parseBytes;function Fp(t,e){this.eddsa=t,typeof e!="object"&&(e=D8e(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),H8e(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof F8e&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Lv(Fp,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Lv(Fp,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Lv(Fp,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Lv(Fp,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Fp.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Fp.prototype.toHex=function(){return Dv.encode(this.toBytes(),"hex").toUpperCase()};SV.exports=Fp});var IV=j((vit,TV)=>{"use strict";B();M();var L8e=Q6(),U8e=Rv(),U2=Ou(),q8e=U2.assert,EV=U2.parseBytes,AV=_V(),xV=wV();function ou(t){if(q8e(t==="ed25519","only tested with ed25519 so far"),!(this instanceof ou))return new ou(t);t=U8e[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=L8e.sha512}TV.exports=ou;ou.prototype.sign=function(e,r){e=EV(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:o})};ou.prototype.verify=function(e,r,n){e=EV(e),r=this.makeSignature(r);var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};ou.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return U2.intFromLE(e.digest()).umod(this.curve.n)};ou.prototype.keyFromPublic=function(e){return AV.fromPublic(this,e)};ou.prototype.keyFromSecret=function(e){return AV.fromSecret(this,e)};ou.prototype.makeSignature=function(e){return e instanceof xV?e:new xV(this,e)};ou.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};ou.prototype.decodePoint=function(e){e=U2.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=U2.intFromLE(n);return this.curve.pointFromY(s,i)};ou.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};ou.prototype.decodeInt=function(e){return U2.intFromLE(e)};ou.prototype.isPoint=function(e){return e instanceof this.pointClass}});var OV=j(PV=>{"use strict";B();M();var Hp=PV;Hp.version=zz().version;Hp.utils=Ou();Hp.rand=Rb();Hp.curve=iP();Hp.curves=Rv();Hp.ec=gV();Hp.eddsa=IV()});var MV=j((Ait,BV)=>{"use strict";B();M();var Uv=I5().Buffer;function j8e(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=Uv.from(p)),!Uv.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var y=0,w=0,P=0,C=p.length;P!==C&&p[P]===0;)P++,y++;for(var R=(C-P)*c+1>>>0,T=new Uint8Array(R);P!==C;){for(var k=p[P],H=0,F=R-1;(k!==0||H<w)&&F!==-1;F--,H++)k+=256*T[F]>>>0,T[F]=k%o>>>0,k=k/o>>>0;if(k!==0)throw new Error("Non-zero carry");w=H,P++}for(var L=R-w;L!==R&&T[L]===0;)L++;for(var D=a.repeat(y);L<R;++L)D+=t.charAt(T[L]);return D}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return Uv.alloc(0);var y=0;if(p[y]!==" "){for(var w=0,P=0;p[y]===a;)w++,y++;for(var C=(p.length-y)*u+1>>>0,R=new Uint8Array(C);p[y];){var T=e[p.charCodeAt(y)];if(T===255)return;for(var k=0,H=C-1;(T!==0||k<P)&&H!==-1;H--,k++)T+=o*R[H]>>>0,R[H]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");P=k,y++}if(p[y]!==" "){for(var F=C-P;F!==C&&R[F]===0;)F++;var L=Uv.allocUnsafe(w+(C-F));L.fill(0,0,w);for(var D=w;F!==C;)L[D++]=R[F++];return L}}}function m(p){var y=f(p);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:f,decode:m}}BV.exports=j8e});var CV=j((Pit,kV)=>{B();M();var K8e=MV(),$8e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";kV.exports=K8e($8e)});var RV=j((Mit,pP)=>{B();M();typeof Object.create=="function"?pP.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:pP.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var FV=j((NV,bP)=>{B();M();(function(t){"use strict";for(var e=[null,0,{}],r=10,n=44032,i=4352,s=4449,o=4519,a=19,u=21,c=28,d=u*c,f=a*d,m=function(A,v){this.codepoint=A,this.feature=v},p={},y=[],w=0;w<=255;++w)y[w]=0;function P(A,v,S){var O=p[v];return O||(O=A(v,S),!!O.feature&&++y[v>>8&255]>r&&(p[v]=O)),O}function C(A,v,S){var O=v&65280,q=m.udata[O]||{},J=q[v];return J?new m(v,J):new m(v,e)}function R(A,v,S){return S?A(v,S):new m(v,null)}function T(A,v,S){var O;if(v<i||i+a<=v&&v<n||n+f<v)return A(v,S);if(i<=v&&v<i+a){var q={},J=(v-i)*u;for(O=0;O<u;++O)q[s+O]=n+c*(O+J);return new m(v,[,,q])}var ne=v-n,oe=ne%c,le=[];if(oe!==0)le[0]=[n+ne-oe,o+oe];else for(le[0]=[i+Math.floor(ne/d),s+Math.floor(ne%d/c)],le[2]={},O=1;O<c;++O)le[2][o+O]=v+O;return new m(v,le)}function k(A,v,S){return v<60||13311<v&&v<42607?new m(v,e):A(v,S)}var H=[k,P,R,T,C];m.fromCharCode=H.reduceRight(function(A,v){return function(S,O){return v(A,S,O)}},null),m.isHighSurrogate=function(A){return A>=55296&&A<=56319},m.isLowSurrogate=function(A){return A>=56320&&A<=57343},m.prototype.prepFeature=function(){this.feature||(this.feature=m.fromCharCode(this.codepoint,!0).feature)},m.prototype.toString=function(){if(this.codepoint<65536)return String.fromCharCode(this.codepoint);var A=this.codepoint-65536;return String.fromCharCode(Math.floor(A/1024)+55296,A%1024+56320)},m.prototype.getDecomp=function(){return this.prepFeature(),this.feature[0]||null},m.prototype.isCompatibility=function(){return this.prepFeature(),!!this.feature[1]&&this.feature[1]&1<<8},m.prototype.isExclude=function(){return this.prepFeature(),!!this.feature[1]&&this.feature[1]&1<<9},m.prototype.getCanonicalClass=function(){return this.prepFeature(),this.feature[1]?this.feature[1]&255:0},m.prototype.getComposite=function(A){if(this.prepFeature(),!this.feature[2])return null;var v=this.feature[2][A.codepoint];return v?m.fromCharCode(v):null};var F=function(A){this.str=A,this.cursor=0};F.prototype.next=function(){if(!!this.str&&this.cursor<this.str.length){var A=this.str.charCodeAt(this.cursor++),v;return m.isHighSurrogate(A)&&this.cursor<this.str.length&&m.isLowSurrogate(v=this.str.charCodeAt(this.cursor))&&(A=(A-55296)*1024+(v-56320)+65536,++this.cursor),m.fromCharCode(A)}else return this.str=null,null};var L=function(A,v){this.it=A,this.canonical=v,this.resBuf=[]};L.prototype.next=function(){function A(S,O){var q=O.getDecomp();if(!!q&&!(S&&O.isCompatibility())){for(var J=[],ne=0;ne<q.length;++ne){var oe=A(S,m.fromCharCode(q[ne]));J=J.concat(oe)}return J}else return[O]}if(this.resBuf.length===0){var v=this.it.next();if(!v)return null;this.resBuf=A(this.canonical,v)}return this.resBuf.shift()};var D=function(A){this.it=A,this.resBuf=[]};D.prototype.next=function(){var A;if(this.resBuf.length===0)do{var v=this.it.next();if(!v)break;A=v.getCanonicalClass();var S=this.resBuf.length;if(A!==0)for(;S>0;--S){var O=this.resBuf[S-1],q=O.getCanonicalClass();if(q<=A)break}this.resBuf.splice(S,0,v)}while(A!==0);return this.resBuf.shift()};var N=function(A){this.it=A,this.procBuf=[],this.resBuf=[],this.lastClass=null};N.prototype.next=function(){for(;this.resBuf.length===0;){var A=this.it.next();if(!A){this.resBuf=this.procBuf,this.procBuf=[];break}if(this.procBuf.length===0)this.lastClass=A.getCanonicalClass(),this.procBuf.push(A);else{var v=this.procBuf[0],S=v.getComposite(A),O=A.getCanonicalClass();!!S&&(this.lastClass<O||this.lastClass===0)?this.procBuf[0]=S:(O===0&&(this.resBuf=this.procBuf,this.procBuf=[]),this.lastClass=O,this.procBuf.push(A))}}return this.resBuf.shift()};var g=function(A,v){switch(A){case"NFD":return new D(new L(new F(v),!0));case"NFKD":return new D(new L(new F(v),!1));case"NFC":return new N(new D(new L(new F(v),!0)));case"NFKC":return new N(new D(new L(new F(v),!1)))}throw A+" is invalid"},h=function(A,v){for(var S=g(A,v),O="",q;q=S.next();)O+=q.toString();return O};function l(A){return h("NFD",A)}function b(A){return h("NFKD",A)}function _(A){return h("NFC",A)}function x(A){return h("NFKC",A)}m.udata={0:{60:[,,{824:8814}],61:[,,{824:8800}],62:[,,{824:8815}],65:[,,{768:192,769:193,770:194,771:195,772:256,774:258,775:550,776:196,777:7842,778:197,780:461,783:512,785:514,803:7840,805:7680,808:260}],66:[,,{775:7682,803:7684,817:7686}],67:[,,{769:262,770:264,775:266,780:268,807:199}],68:[,,{775:7690,780:270,803:7692,807:7696,813:7698,817:7694}],69:[,,{768:200,769:201,770:202,771:7868,772:274,774:276,775:278,776:203,777:7866,780:282,783:516,785:518,803:7864,807:552,808:280,813:7704,816:7706}],70:[,,{775:7710}],71:[,,{769:500,770:284,772:7712,774:286,775:288,780:486,807:290}],72:[,,{770:292,775:7714,776:7718,780:542,803:7716,807:7720,814:7722}],73:[,,{768:204,769:205,770:206,771:296,772:298,774:300,775:304,776:207,777:7880,780:463,783:520,785:522,803:7882,808:302,816:7724}],74:[,,{770:308}],75:[,,{769:7728,780:488,803:7730,807:310,817:7732}],76:[,,{769:313,780:317,803:7734,807:315,813:7740,817:7738}],77:[,,{769:7742,775:7744,803:7746}],78:[,,{768:504,769:323,771:209,775:7748,780:327,803:7750,807:325,813:7754,817:7752}],79:[,,{768:210,769:211,770:212,771:213,772:332,774:334,775:558,776:214,777:7886,779:336,780:465,783:524,785:526,795:416,803:7884,808:490}],80:[,,{769:7764,775:7766}],82:[,,{769:340,775:7768,780:344,783:528,785:530,803:7770,807:342,817:7774}],83:[,,{769:346,770:348,775:7776,780:352,803:7778,806:536,807:350}],84:[,,{775:7786,780:356,803:7788,806:538,807:354,813:7792,817:7790}],85:[,,{768:217,769:218,770:219,771:360,772:362,774:364,776:220,777:7910,778:366,779:368,780:467,783:532,785:534,795:431,803:7908,804:7794,808:370,813:7798,816:7796}],86:[,,{771:7804,803:7806}],87:[,,{768:7808,769:7810,770:372,775:7814,776:7812,803:7816}],88:[,,{775:7818,776:7820}],89:[,,{768:7922,769:221,770:374,771:7928,772:562,775:7822,776:376,777:7926,803:7924}],90:[,,{769:377,770:7824,775:379,780:381,803:7826,817:7828}],97:[,,{768:224,769:225,770:226,771:227,772:257,774:259,775:551,776:228,777:7843,778:229,780:462,783:513,785:515,803:7841,805:7681,808:261}],98:[,,{775:7683,803:7685,817:7687}],99:[,,{769:263,770:265,775:267,780:269,807:231}],100:[,,{775:7691,780:271,803:7693,807:7697,813:7699,817:7695}],101:[,,{768:232,769:233,770:234,771:7869,772:275,774:277,775:279,776:235,777:7867,780:283,783:517,785:519,803:7865,807:553,808:281,813:7705,816:7707}],102:[,,{775:7711}],103:[,,{769:501,770:285,772:7713,774:287,775:289,780:487,807:291}],104:[,,{770:293,775:7715,776:7719,780:543,803:7717,807:7721,814:7723,817:7830}],105:[,,{768:236,769:237,770:238,771:297,772:299,774:301,776:239,777:7881,780:464,783:521,785:523,803:7883,808:303,816:7725}],106:[,,{770:309,780:496}],107:[,,{769:7729,780:489,803:7731,807:311,817:7733}],108:[,,{769:314,780:318,803:7735,807:316,813:7741,817:7739}],109:[,,{769:7743,775:7745,803:7747}],110:[,,{768:505,769:324,771:241,775:7749,780:328,803:7751,807:326,813:7755,817:7753}],111:[,,{768:242,769:243,770:244,771:245,772:333,774:335,775:559,776:246,777:7887,779:337,780:466,783:525,785:527,795:417,803:7885,808:491}],112:[,,{769:7765,775:7767}],114:[,,{769:341,775:7769,780:345,783:529,785:531,803:7771,807:343,817:7775}],115:[,,{769:347,770:349,775:7777,780:353,803:7779,806:537,807:351}],116:[,,{775:7787,776:7831,780:357,803:7789,806:539,807:355,813:7793,817:7791}],117:[,,{768:249,769:250,770:251,771:361,772:363,774:365,776:252,777:7911,778:367,779:369,780:468,783:533,785:535,795:432,803:7909,804:7795,808:371,813:7799,816:7797}],118:[,,{771:7805,803:7807}],119:[,,{768:7809,769:7811,770:373,775:7815,776:7813,778:7832,803:7817}],120:[,,{775:7819,776:7821}],121:[,,{768:7923,769:253,770:375,771:7929,772:563,775:7823,776:255,777:7927,778:7833,803:7925}],122:[,,{769:378,770:7825,775:380,780:382,803:7827,817:7829}],160:[[32],256],168:[[32,776],256,{768:8173,769:901,834:8129}],170:[[97],256],175:[[32,772],256],178:[[50],256],179:[[51],256],180:[[32,769],256],181:[[956],256],184:[[32,807],256],185:[[49],256],186:[[111],256],188:[[49,8260,52],256],189:[[49,8260,50],256],190:[[51,8260,52],256],192:[[65,768]],193:[[65,769]],194:[[65,770],,{768:7846,769:7844,771:7850,777:7848}],195:[[65,771]],196:[[65,776],,{772:478}],197:[[65,778],,{769:506}],198:[,,{769:508,772:482}],199:[[67,807],,{769:7688}],200:[[69,768]],201:[[69,769]],202:[[69,770],,{768:7872,769:7870,771:7876,777:7874}],203:[[69,776]],204:[[73,768]],205:[[73,769]],206:[[73,770]],207:[[73,776],,{769:7726}],209:[[78,771]],210:[[79,768]],211:[[79,769]],212:[[79,770],,{768:7890,769:7888,771:7894,777:7892}],213:[[79,771],,{769:7756,772:556,776:7758}],214:[[79,776],,{772:554}],216:[,,{769:510}],217:[[85,768]],218:[[85,769]],219:[[85,770]],220:[[85,776],,{768:475,769:471,772:469,780:473}],221:[[89,769]],224:[[97,768]],225:[[97,769]],226:[[97,770],,{768:7847,769:7845,771:7851,777:7849}],227:[[97,771]],228:[[97,776],,{772:479}],229:[[97,778],,{769:507}],230:[,,{769:509,772:483}],231:[[99,807],,{769:7689}],232:[[101,768]],233:[[101,769]],234:[[101,770],,{768:7873,769:7871,771:7877,777:7875}],235:[[101,776]],236:[[105,768]],237:[[105,769]],238:[[105,770]],239:[[105,776],,{769:7727}],241:[[110,771]],242:[[111,768]],243:[[111,769]],244:[[111,770],,{768:7891,769:7889,771:7895,777:7893}],245:[[111,771],,{769:7757,772:557,776:7759}],246:[[111,776],,{772:555}],248:[,,{769:511}],249:[[117,768]],250:[[117,769]],251:[[117,770]],252:[[117,776],,{768:476,769:472,772:470,780:474}],253:[[121,769]],255:[[121,776]]},256:{256:[[65,772]],257:[[97,772]],258:[[65,774],,{768:7856,769:7854,771:7860,777:7858}],259:[[97,774],,{768:7857,769:7855,771:7861,777:7859}],260:[[65,808]],261:[[97,808]],262:[[67,769]],263:[[99,769]],264:[[67,770]],265:[[99,770]],266:[[67,775]],267:[[99,775]],268:[[67,780]],269:[[99,780]],270:[[68,780]],271:[[100,780]],274:[[69,772],,{768:7700,769:7702}],275:[[101,772],,{768:7701,769:7703}],276:[[69,774]],277:[[101,774]],278:[[69,775]],279:[[101,775]],280:[[69,808]],281:[[101,808]],282:[[69,780]],283:[[101,780]],284:[[71,770]],285:[[103,770]],286:[[71,774]],287:[[103,774]],288:[[71,775]],289:[[103,775]],290:[[71,807]],291:[[103,807]],292:[[72,770]],293:[[104,770]],296:[[73,771]],297:[[105,771]],298:[[73,772]],299:[[105,772]],300:[[73,774]],301:[[105,774]],302:[[73,808]],303:[[105,808]],304:[[73,775]],306:[[73,74],256],307:[[105,106],256],308:[[74,770]],309:[[106,770]],310:[[75,807]],311:[[107,807]],313:[[76,769]],314:[[108,769]],315:[[76,807]],316:[[108,807]],317:[[76,780]],318:[[108,780]],319:[[76,183],256],320:[[108,183],256],323:[[78,769]],324:[[110,769]],325:[[78,807]],326:[[110,807]],327:[[78,780]],328:[[110,780]],329:[[700,110],256],332:[[79,772],,{768:7760,769:7762}],333:[[111,772],,{768:7761,769:7763}],334:[[79,774]],335:[[111,774]],336:[[79,779]],337:[[111,779]],340:[[82,769]],341:[[114,769]],342:[[82,807]],343:[[114,807]],344:[[82,780]],345:[[114,780]],346:[[83,769],,{775:7780}],347:[[115,769],,{775:7781}],348:[[83,770]],349:[[115,770]],350:[[83,807]],351:[[115,807]],352:[[83,780],,{775:7782}],353:[[115,780],,{775:7783}],354:[[84,807]],355:[[116,807]],356:[[84,780]],357:[[116,780]],360:[[85,771],,{769:7800}],361:[[117,771],,{769:7801}],362:[[85,772],,{776:7802}],363:[[117,772],,{776:7803}],364:[[85,774]],365:[[117,774]],366:[[85,778]],367:[[117,778]],368:[[85,779]],369:[[117,779]],370:[[85,808]],371:[[117,808]],372:[[87,770]],373:[[119,770]],374:[[89,770]],375:[[121,770]],376:[[89,776]],377:[[90,769]],378:[[122,769]],379:[[90,775]],380:[[122,775]],381:[[90,780]],382:[[122,780]],383:[[115],256,{775:7835}],416:[[79,795],,{768:7900,769:7898,771:7904,777:7902,803:7906}],417:[[111,795],,{768:7901,769:7899,771:7905,777:7903,803:7907}],431:[[85,795],,{768:7914,769:7912,771:7918,777:7916,803:7920}],432:[[117,795],,{768:7915,769:7913,771:7919,777:7917,803:7921}],439:[,,{780:494}],452:[[68,381],256],453:[[68,382],256],454:[[100,382],256],455:[[76,74],256],456:[[76,106],256],457:[[108,106],256],458:[[78,74],256],459:[[78,106],256],460:[[110,106],256],461:[[65,780]],462:[[97,780]],463:[[73,780]],464:[[105,780]],465:[[79,780]],466:[[111,780]],467:[[85,780]],468:[[117,780]],469:[[220,772]],470:[[252,772]],471:[[220,769]],472:[[252,769]],473:[[220,780]],474:[[252,780]],475:[[220,768]],476:[[252,768]],478:[[196,772]],479:[[228,772]],480:[[550,772]],481:[[551,772]],482:[[198,772]],483:[[230,772]],486:[[71,780]],487:[[103,780]],488:[[75,780]],489:[[107,780]],490:[[79,808],,{772:492}],491:[[111,808],,{772:493}],492:[[490,772]],493:[[491,772]],494:[[439,780]],495:[[658,780]],496:[[106,780]],497:[[68,90],256],498:[[68,122],256],499:[[100,122],256],500:[[71,769]],501:[[103,769]],504:[[78,768]],505:[[110,768]],506:[[197,769]],507:[[229,769]],508:[[198,769]],509:[[230,769]],510:[[216,769]],511:[[248,769]],66045:[,220]},512:{512:[[65,783]],513:[[97,783]],514:[[65,785]],515:[[97,785]],516:[[69,783]],517:[[101,783]],518:[[69,785]],519:[[101,785]],520:[[73,783]],521:[[105,783]],522:[[73,785]],523:[[105,785]],524:[[79,783]],525:[[111,783]],526:[[79,785]],527:[[111,785]],528:[[82,783]],529:[[114,783]],530:[[82,785]],531:[[114,785]],532:[[85,783]],533:[[117,783]],534:[[85,785]],535:[[117,785]],536:[[83,806]],537:[[115,806]],538:[[84,806]],539:[[116,806]],542:[[72,780]],543:[[104,780]],550:[[65,775],,{772:480}],551:[[97,775],,{772:481}],552:[[69,807],,{774:7708}],553:[[101,807],,{774:7709}],554:[[214,772]],555:[[246,772]],556:[[213,772]],557:[[245,772]],558:[[79,775],,{772:560}],559:[[111,775],,{772:561}],560:[[558,772]],561:[[559,772]],562:[[89,772]],563:[[121,772]],658:[,,{780:495}],688:[[104],256],689:[[614],256],690:[[106],256],691:[[114],256],692:[[633],256],693:[[635],256],694:[[641],256],695:[[119],256],696:[[121],256],728:[[32,774],256],729:[[32,775],256],730:[[32,778],256],731:[[32,808],256],732:[[32,771],256],733:[[32,779],256],736:[[611],256],737:[[108],256],738:[[115],256],739:[[120],256],740:[[661],256],66272:[,220]},768:{768:[,230],769:[,230],770:[,230],771:[,230],772:[,230],773:[,230],774:[,230],775:[,230],776:[,230,{769:836}],777:[,230],778:[,230],779:[,230],780:[,230],781:[,230],782:[,230],783:[,230],784:[,230],785:[,230],786:[,230],787:[,230],788:[,230],789:[,232],790:[,220],791:[,220],792:[,220],793:[,220],794:[,232],795:[,216],796:[,220],797:[,220],798:[,220],799:[,220],800:[,220],801:[,202],802:[,202],803:[,220],804:[,220],805:[,220],806:[,220],807:[,202],808:[,202],809:[,220],810:[,220],811:[,220],812:[,220],813:[,220],814:[,220],815:[,220],816:[,220],817:[,220],818:[,220],819:[,220],820:[,1],821:[,1],822:[,1],823:[,1],824:[,1],825:[,220],826:[,220],827:[,220],828:[,220],829:[,230],830:[,230],831:[,230],832:[[768],230],833:[[769],230],834:[,230],835:[[787],230],836:[[776,769],230],837:[,240],838:[,230],839:[,220],840:[,220],841:[,220],842:[,230],843:[,230],844:[,230],845:[,220],846:[,220],848:[,230],849:[,230],850:[,230],851:[,220],852:[,220],853:[,220],854:[,220],855:[,230],856:[,232],857:[,220],858:[,220],859:[,230],860:[,233],861:[,234],862:[,234],863:[,233],864:[,234],865:[,234],866:[,233],867:[,230],868:[,230],869:[,230],870:[,230],871:[,230],872:[,230],873:[,230],874:[,230],875:[,230],876:[,230],877:[,230],878:[,230],879:[,230],884:[[697]],890:[[32,837],256],894:[[59]],900:[[32,769],256],901:[[168,769]],902:[[913,769]],903:[[183]],904:[[917,769]],905:[[919,769]],906:[[921,769]],908:[[927,769]],910:[[933,769]],911:[[937,769]],912:[[970,769]],913:[,,{768:8122,769:902,772:8121,774:8120,787:7944,788:7945,837:8124}],917:[,,{768:8136,769:904,787:7960,788:7961}],919:[,,{768:8138,769:905,787:7976,788:7977,837:8140}],921:[,,{768:8154,769:906,772:8153,774:8152,776:938,787:7992,788:7993}],927:[,,{768:8184,769:908,787:8008,788:8009}],929:[,,{788:8172}],933:[,,{768:8170,769:910,772:8169,774:8168,776:939,788:8025}],937:[,,{768:8186,769:911,787:8040,788:8041,837:8188}],938:[[921,776]],939:[[933,776]],940:[[945,769],,{837:8116}],941:[[949,769]],942:[[951,769],,{837:8132}],943:[[953,769]],944:[[971,769]],945:[,,{768:8048,769:940,772:8113,774:8112,787:7936,788:7937,834:8118,837:8115}],949:[,,{768:8050,769:941,787:7952,788:7953}],951:[,,{768:8052,769:942,787:7968,788:7969,834:8134,837:8131}],953:[,,{768:8054,769:943,772:8145,774:8144,776:970,787:7984,788:7985,834:8150}],959:[,,{768:8056,769:972,787:8e3,788:8001}],961:[,,{787:8164,788:8165}],965:[,,{768:8058,769:973,772:8161,774:8160,776:971,787:8016,788:8017,834:8166}],969:[,,{768:8060,769:974,787:8032,788:8033,834:8182,837:8179}],970:[[953,776],,{768:8146,769:912,834:8151}],971:[[965,776],,{768:8162,769:944,834:8167}],972:[[959,769]],973:[[965,769]],974:[[969,769],,{837:8180}],976:[[946],256],977:[[952],256],978:[[933],256,{769:979,776:980}],979:[[978,769]],980:[[978,776]],981:[[966],256],982:[[960],256],1008:[[954],256],1009:[[961],256],1010:[[962],256],1012:[[920],256],1013:[[949],256],1017:[[931],256],66422:[,230],66423:[,230],66424:[,230],66425:[,230],66426:[,230]},1024:{1024:[[1045,768]],1025:[[1045,776]],1027:[[1043,769]],1030:[,,{776:1031}],1031:[[1030,776]],1036:[[1050,769]],1037:[[1048,768]],1038:[[1059,774]],1040:[,,{774:1232,776:1234}],1043:[,,{769:1027}],1045:[,,{768:1024,774:1238,776:1025}],1046:[,,{774:1217,776:1244}],1047:[,,{776:1246}],1048:[,,{768:1037,772:1250,774:1049,776:1252}],1049:[[1048,774]],1050:[,,{769:1036}],1054:[,,{776:1254}],1059:[,,{772:1262,774:1038,776:1264,779:1266}],1063:[,,{776:1268}],1067:[,,{776:1272}],1069:[,,{776:1260}],1072:[,,{774:1233,776:1235}],1075:[,,{769:1107}],1077:[,,{768:1104,774:1239,776:1105}],1078:[,,{774:1218,776:1245}],1079:[,,{776:1247}],1080:[,,{768:1117,772:1251,774:1081,776:1253}],1081:[[1080,774]],1082:[,,{769:1116}],1086:[,,{776:1255}],1091:[,,{772:1263,774:1118,776:1265,779:1267}],1095:[,,{776:1269}],1099:[,,{776:1273}],1101:[,,{776:1261}],1104:[[1077,768]],1105:[[1077,776]],1107:[[1075,769]],1110:[,,{776:1111}],1111:[[1110,776]],1116:[[1082,769]],1117:[[1080,768]],1118:[[1091,774]],1140:[,,{783:1142}],1141:[,,{783:1143}],1142:[[1140,783]],1143:[[1141,783]],1155:[,230],1156:[,230],1157:[,230],1158:[,230],1159:[,230],1217:[[1046,774]],1218:[[1078,774]],1232:[[1040,774]],1233:[[1072,774]],1234:[[1040,776]],1235:[[1072,776]],1238:[[1045,774]],1239:[[1077,774]],1240:[,,{776:1242}],1241:[,,{776:1243}],1242:[[1240,776]],1243:[[1241,776]],1244:[[1046,776]],1245:[[1078,776]],1246:[[1047,776]],1247:[[1079,776]],1250:[[1048,772]],1251:[[1080,772]],1252:[[1048,776]],1253:[[1080,776]],1254:[[1054,776]],1255:[[1086,776]],1256:[,,{776:1258}],1257:[,,{776:1259}],1258:[[1256,776]],1259:[[1257,776]],1260:[[1069,776]],1261:[[1101,776]],1262:[[1059,772]],1263:[[1091,772]],1264:[[1059,776]],1265:[[1091,776]],1266:[[1059,779]],1267:[[1091,779]],1268:[[1063,776]],1269:[[1095,776]],1272:[[1067,776]],1273:[[1099,776]]},1280:{1415:[[1381,1410],256],1425:[,220],1426:[,230],1427:[,230],1428:[,230],1429:[,230],1430:[,220],1431:[,230],1432:[,230],1433:[,230],1434:[,222],1435:[,220],1436:[,230],1437:[,230],1438:[,230],1439:[,230],1440:[,230],1441:[,230],1442:[,220],1443:[,220],1444:[,220],1445:[,220],1446:[,220],1447:[,220],1448:[,230],1449:[,230],1450:[,220],1451:[,230],1452:[,230],1453:[,222],1454:[,228],1455:[,230],1456:[,10],1457:[,11],1458:[,12],1459:[,13],1460:[,14],1461:[,15],1462:[,16],1463:[,17],1464:[,18],1465:[,19],1466:[,19],1467:[,20],1468:[,21],1469:[,22],1471:[,23],1473:[,24],1474:[,25],1476:[,230],1477:[,220],1479:[,18]},1536:{1552:[,230],1553:[,230],1554:[,230],1555:[,230],1556:[,230],1557:[,230],1558:[,230],1559:[,230],1560:[,30],1561:[,31],1562:[,32],1570:[[1575,1619]],1571:[[1575,1620]],1572:[[1608,1620]],1573:[[1575,1621]],1574:[[1610,1620]],1575:[,,{1619:1570,1620:1571,1621:1573}],1608:[,,{1620:1572}],1610:[,,{1620:1574}],1611:[,27],1612:[,28],1613:[,29],1614:[,30],1615:[,31],1616:[,32],1617:[,33],1618:[,34],1619:[,230],1620:[,230],1621:[,220],1622:[,220],1623:[,230],1624:[,230],1625:[,230],1626:[,230],1627:[,230],1628:[,220],1629:[,230],1630:[,230],1631:[,220],1648:[,35],1653:[[1575,1652],256],1654:[[1608,1652],256],1655:[[1735,1652],256],1656:[[1610,1652],256],1728:[[1749,1620]],1729:[,,{1620:1730}],1730:[[1729,1620]],1746:[,,{1620:1747}],1747:[[1746,1620]],1749:[,,{1620:1728}],1750:[,230],1751:[,230],1752:[,230],1753:[,230],1754:[,230],1755:[,230],1756:[,230],1759:[,230],1760:[,230],1761:[,230],1762:[,230],1763:[,220],1764:[,230],1767:[,230],1768:[,230],1770:[,220],1771:[,230],1772:[,230],1773:[,220]},1792:{1809:[,36],1840:[,230],1841:[,220],1842:[,230],1843:[,230],1844:[,220],1845:[,230],1846:[,230],1847:[,220],1848:[,220],1849:[,220],1850:[,230],1851:[,220],1852:[,220],1853:[,230],1854:[,220],1855:[,230],1856:[,230],1857:[,230],1858:[,220],1859:[,230],1860:[,220],1861:[,230],1862:[,220],1863:[,230],1864:[,220],1865:[,230],1866:[,230],2027:[,230],2028:[,230],2029:[,230],2030:[,230],2031:[,230],2032:[,230],2033:[,230],2034:[,220],2035:[,230]},2048:{2070:[,230],2071:[,230],2072:[,230],2073:[,230],2075:[,230],2076:[,230],2077:[,230],2078:[,230],2079:[,230],2080:[,230],2081:[,230],2082:[,230],2083:[,230],2085:[,230],2086:[,230],2087:[,230],2089:[,230],2090:[,230],2091:[,230],2092:[,230],2093:[,230],2137:[,220],2138:[,220],2139:[,220],2276:[,230],2277:[,230],2278:[,220],2279:[,230],2280:[,230],2281:[,220],2282:[,230],2283:[,230],2284:[,230],2285:[,220],2286:[,220],2287:[,220],2288:[,27],2289:[,28],2290:[,29],2291:[,230],2292:[,230],2293:[,230],2294:[,220],2295:[,230],2296:[,230],2297:[,220],2298:[,220],2299:[,230],2300:[,230],2301:[,230],2302:[,230],2303:[,230]},2304:{2344:[,,{2364:2345}],2345:[[2344,2364]],2352:[,,{2364:2353}],2353:[[2352,2364]],2355:[,,{2364:2356}],2356:[[2355,2364]],2364:[,7],2381:[,9],2385:[,230],2386:[,220],2387:[,230],2388:[,230],2392:[[2325,2364],512],2393:[[2326,2364],512],2394:[[2327,2364],512],2395:[[2332,2364],512],2396:[[2337,2364],512],2397:[[2338,2364],512],2398:[[2347,2364],512],2399:[[2351,2364],512],2492:[,7],2503:[,,{2494:2507,2519:2508}],2507:[[2503,2494]],2508:[[2503,2519]],2509:[,9],2524:[[2465,2492],512],2525:[[2466,2492],512],2527:[[2479,2492],512]},2560:{2611:[[2610,2620],512],2614:[[2616,2620],512],2620:[,7],2637:[,9],2649:[[2582,2620],512],2650:[[2583,2620],512],2651:[[2588,2620],512],2654:[[2603,2620],512],2748:[,7],2765:[,9],68109:[,220],68111:[,230],68152:[,230],68153:[,1],68154:[,220],68159:[,9],68325:[,230],68326:[,220]},2816:{2876:[,7],2887:[,,{2878:2891,2902:2888,2903:2892}],2888:[[2887,2902]],2891:[[2887,2878]],2892:[[2887,2903]],2893:[,9],2908:[[2849,2876],512],2909:[[2850,2876],512],2962:[,,{3031:2964}],2964:[[2962,3031]],3014:[,,{3006:3018,3031:3020}],3015:[,,{3006:3019}],3018:[[3014,3006]],3019:[[3015,3006]],3020:[[3014,3031]],3021:[,9]},3072:{3142:[,,{3158:3144}],3144:[[3142,3158]],3149:[,9],3157:[,84],3158:[,91],3260:[,7],3263:[,,{3285:3264}],3264:[[3263,3285]],3270:[,,{3266:3274,3285:3271,3286:3272}],3271:[[3270,3285]],3272:[[3270,3286]],3274:[[3270,3266],,{3285:3275}],3275:[[3274,3285]],3277:[,9]},3328:{3398:[,,{3390:3402,3415:3404}],3399:[,,{3390:3403}],3402:[[3398,3390]],3403:[[3399,3390]],3404:[[3398,3415]],3405:[,9],3530:[,9],3545:[,,{3530:3546,3535:3548,3551:3550}],3546:[[3545,3530]],3548:[[3545,3535],,{3530:3549}],3549:[[3548,3530]],3550:[[3545,3551]]},3584:{3635:[[3661,3634],256],3640:[,103],3641:[,103],3642:[,9],3656:[,107],3657:[,107],3658:[,107],3659:[,107],3763:[[3789,3762],256],3768:[,118],3769:[,118],3784:[,122],3785:[,122],3786:[,122],3787:[,122],3804:[[3755,3737],256],3805:[[3755,3745],256]},3840:{3852:[[3851],256],3864:[,220],3865:[,220],3893:[,220],3895:[,220],3897:[,216],3907:[[3906,4023],512],3917:[[3916,4023],512],3922:[[3921,4023],512],3927:[[3926,4023],512],3932:[[3931,4023],512],3945:[[3904,4021],512],3953:[,129],3954:[,130],3955:[[3953,3954],512],3956:[,132],3957:[[3953,3956],512],3958:[[4018,3968],512],3959:[[4018,3969],256],3960:[[4019,3968],512],3961:[[4019,3969],256],3962:[,130],3963:[,130],3964:[,130],3965:[,130],3968:[,130],3969:[[3953,3968],512],3970:[,230],3971:[,230],3972:[,9],3974:[,230],3975:[,230],3987:[[3986,4023],512],3997:[[3996,4023],512],4002:[[4001,4023],512],4007:[[4006,4023],512],4012:[[4011,4023],512],4025:[[3984,4021],512],4038:[,220]},4096:{4133:[,,{4142:4134}],4134:[[4133,4142]],4151:[,7],4153:[,9],4154:[,9],4237:[,220],4348:[[4316],256],69702:[,9],69759:[,9],69785:[,,{69818:69786}],69786:[[69785,69818]],69787:[,,{69818:69788}],69788:[[69787,69818]],69797:[,,{69818:69803}],69803:[[69797,69818]],69817:[,9],69818:[,7]},4352:{69888:[,230],69889:[,230],69890:[,230],69934:[[69937,69927]],69935:[[69938,69927]],69937:[,,{69927:69934}],69938:[,,{69927:69935}],69939:[,9],69940:[,9],70003:[,7],70080:[,9]},4608:{70197:[,9],70198:[,7],70377:[,7],70378:[,9]},4864:{4957:[,230],4958:[,230],4959:[,230],70460:[,7],70471:[,,{70462:70475,70487:70476}],70475:[[70471,70462]],70476:[[70471,70487]],70477:[,9],70502:[,230],70503:[,230],70504:[,230],70505:[,230],70506:[,230],70507:[,230],70508:[,230],70512:[,230],70513:[,230],70514:[,230],70515:[,230],70516:[,230]},5120:{70841:[,,{70832:70844,70842:70843,70845:70846}],70843:[[70841,70842]],70844:[[70841,70832]],70846:[[70841,70845]],70850:[,9],70851:[,7]},5376:{71096:[,,{71087:71098}],71097:[,,{71087:71099}],71098:[[71096,71087]],71099:[[71097,71087]],71103:[,9],71104:[,7]},5632:{71231:[,9],71350:[,9],71351:[,7]},5888:{5908:[,9],5940:[,9],6098:[,9],6109:[,230]},6144:{6313:[,228]},6400:{6457:[,222],6458:[,230],6459:[,220]},6656:{6679:[,230],6680:[,220],6752:[,9],6773:[,230],6774:[,230],6775:[,230],6776:[,230],6777:[,230],6778:[,230],6779:[,230],6780:[,230],6783:[,220],6832:[,230],6833:[,230],6834:[,230],6835:[,230],6836:[,230],6837:[,220],6838:[,220],6839:[,220],6840:[,220],6841:[,220],6842:[,220],6843:[,230],6844:[,230],6845:[,220]},6912:{6917:[,,{6965:6918}],6918:[[6917,6965]],6919:[,,{6965:6920}],6920:[[6919,6965]],6921:[,,{6965:6922}],6922:[[6921,6965]],6923:[,,{6965:6924}],6924:[[6923,6965]],6925:[,,{6965:6926}],6926:[[6925,6965]],6929:[,,{6965:6930}],6930:[[6929,6965]],6964:[,7],6970:[,,{6965:6971}],6971:[[6970,6965]],6972:[,,{6965:6973}],6973:[[6972,6965]],6974:[,,{6965:6976}],6975:[,,{6965:6977}],6976:[[6974,6965]],6977:[[6975,6965]],6978:[,,{6965:6979}],6979:[[6978,6965]],6980:[,9],7019:[,230],7020:[,220],7021:[,230],7022:[,230],7023:[,230],7024:[,230],7025:[,230],7026:[,230],7027:[,230],7082:[,9],7083:[,9],7142:[,7],7154:[,9],7155:[,9]},7168:{7223:[,7],7376:[,230],7377:[,230],7378:[,230],7380:[,1],7381:[,220],7382:[,220],7383:[,220],7384:[,220],7385:[,220],7386:[,230],7387:[,230],7388:[,220],7389:[,220],7390:[,220],7391:[,220],7392:[,230],7394:[,1],7395:[,1],7396:[,1],7397:[,1],7398:[,1],7399:[,1],7400:[,1],7405:[,220],7412:[,230],7416:[,230],7417:[,230]},7424:{7468:[[65],256],7469:[[198],256],7470:[[66],256],7472:[[68],256],7473:[[69],256],7474:[[398],256],7475:[[71],256],7476:[[72],256],7477:[[73],256],7478:[[74],256],7479:[[75],256],7480:[[76],256],7481:[[77],256],7482:[[78],256],7484:[[79],256],7485:[[546],256],7486:[[80],256],7487:[[82],256],7488:[[84],256],7489:[[85],256],7490:[[87],256],7491:[[97],256],7492:[[592],256],7493:[[593],256],7494:[[7426],256],7495:[[98],256],7496:[[100],256],7497:[[101],256],7498:[[601],256],7499:[[603],256],7500:[[604],256],7501:[[103],256],7503:[[107],256],7504:[[109],256],7505:[[331],256],7506:[[111],256],7507:[[596],256],7508:[[7446],256],7509:[[7447],256],7510:[[112],256],7511:[[116],256],7512:[[117],256],7513:[[7453],256],7514:[[623],256],7515:[[118],256],7516:[[7461],256],7517:[[946],256],7518:[[947],256],7519:[[948],256],7520:[[966],256],7521:[[967],256],7522:[[105],256],7523:[[114],256],7524:[[117],256],7525:[[118],256],7526:[[946],256],7527:[[947],256],7528:[[961],256],7529:[[966],256],7530:[[967],256],7544:[[1085],256],7579:[[594],256],7580:[[99],256],7581:[[597],256],7582:[[240],256],7583:[[604],256],7584:[[102],256],7585:[[607],256],7586:[[609],256],7587:[[613],256],7588:[[616],256],7589:[[617],256],7590:[[618],256],7591:[[7547],256],7592:[[669],256],7593:[[621],256],7594:[[7557],256],7595:[[671],256],7596:[[625],256],7597:[[624],256],7598:[[626],256],7599:[[627],256],7600:[[628],256],7601:[[629],256],7602:[[632],256],7603:[[642],256],7604:[[643],256],7605:[[427],256],7606:[[649],256],7607:[[650],256],7608:[[7452],256],7609:[[651],256],7610:[[652],256],7611:[[122],256],7612:[[656],256],7613:[[657],256],7614:[[658],256],7615:[[952],256],7616:[,230],7617:[,230],7618:[,220],7619:[,230],7620:[,230],7621:[,230],7622:[,230],7623:[,230],7624:[,230],7625:[,230],7626:[,220],7627:[,230],7628:[,230],7629:[,234],7630:[,214],7631:[,220],7632:[,202],7633:[,230],7634:[,230],7635:[,230],7636:[,230],7637:[,230],7638:[,230],7639:[,230],7640:[,230],7641:[,230],7642:[,230],7643:[,230],7644:[,230],7645:[,230],7646:[,230],7647:[,230],7648:[,230],7649:[,230],7650:[,230],7651:[,230],7652:[,230],7653:[,230],7654:[,230],7655:[,230],7656:[,230],7657:[,230],7658:[,230],7659:[,230],7660:[,230],7661:[,230],7662:[,230],7663:[,230],7664:[,230],7665:[,230],7666:[,230],7667:[,230],7668:[,230],7669:[,230],7676:[,233],7677:[,220],7678:[,230],7679:[,220]},7680:{7680:[[65,805]],7681:[[97,805]],7682:[[66,775]],7683:[[98,775]],7684:[[66,803]],7685:[[98,803]],7686:[[66,817]],7687:[[98,817]],7688:[[199,769]],7689:[[231,769]],7690:[[68,775]],7691:[[100,775]],7692:[[68,803]],7693:[[100,803]],7694:[[68,817]],7695:[[100,817]],7696:[[68,807]],7697:[[100,807]],7698:[[68,813]],7699:[[100,813]],7700:[[274,768]],7701:[[275,768]],7702:[[274,769]],7703:[[275,769]],7704:[[69,813]],7705:[[101,813]],7706:[[69,816]],7707:[[101,816]],7708:[[552,774]],7709:[[553,774]],7710:[[70,775]],7711:[[102,775]],7712:[[71,772]],7713:[[103,772]],7714:[[72,775]],7715:[[104,775]],7716:[[72,803]],7717:[[104,803]],7718:[[72,776]],7719:[[104,776]],7720:[[72,807]],7721:[[104,807]],7722:[[72,814]],7723:[[104,814]],7724:[[73,816]],7725:[[105,816]],7726:[[207,769]],7727:[[239,769]],7728:[[75,769]],7729:[[107,769]],7730:[[75,803]],7731:[[107,803]],7732:[[75,817]],7733:[[107,817]],7734:[[76,803],,{772:7736}],7735:[[108,803],,{772:7737}],7736:[[7734,772]],7737:[[7735,772]],7738:[[76,817]],7739:[[108,817]],7740:[[76,813]],7741:[[108,813]],7742:[[77,769]],7743:[[109,769]],7744:[[77,775]],7745:[[109,775]],7746:[[77,803]],7747:[[109,803]],7748:[[78,775]],7749:[[110,775]],7750:[[78,803]],7751:[[110,803]],7752:[[78,817]],7753:[[110,817]],7754:[[78,813]],7755:[[110,813]],7756:[[213,769]],7757:[[245,769]],7758:[[213,776]],7759:[[245,776]],7760:[[332,768]],7761:[[333,768]],7762:[[332,769]],7763:[[333,769]],7764:[[80,769]],7765:[[112,769]],7766:[[80,775]],7767:[[112,775]],7768:[[82,775]],7769:[[114,775]],7770:[[82,803],,{772:7772}],7771:[[114,803],,{772:7773}],7772:[[7770,772]],7773:[[7771,772]],7774:[[82,817]],7775:[[114,817]],7776:[[83,775]],7777:[[115,775]],7778:[[83,803],,{775:7784}],7779:[[115,803],,{775:7785}],7780:[[346,775]],7781:[[347,775]],7782:[[352,775]],7783:[[353,775]],7784:[[7778,775]],7785:[[7779,775]],7786:[[84,775]],7787:[[116,775]],7788:[[84,803]],7789:[[116,803]],7790:[[84,817]],7791:[[116,817]],7792:[[84,813]],7793:[[116,813]],7794:[[85,804]],7795:[[117,804]],7796:[[85,816]],7797:[[117,816]],7798:[[85,813]],7799:[[117,813]],7800:[[360,769]],7801:[[361,769]],7802:[[362,776]],7803:[[363,776]],7804:[[86,771]],7805:[[118,771]],7806:[[86,803]],7807:[[118,803]],7808:[[87,768]],7809:[[119,768]],7810:[[87,769]],7811:[[119,769]],7812:[[87,776]],7813:[[119,776]],7814:[[87,775]],7815:[[119,775]],7816:[[87,803]],7817:[[119,803]],7818:[[88,775]],7819:[[120,775]],7820:[[88,776]],7821:[[120,776]],7822:[[89,775]],7823:[[121,775]],7824:[[90,770]],7825:[[122,770]],7826:[[90,803]],7827:[[122,803]],7828:[[90,817]],7829:[[122,817]],7830:[[104,817]],7831:[[116,776]],7832:[[119,778]],7833:[[121,778]],7834:[[97,702],256],7835:[[383,775]],7840:[[65,803],,{770:7852,774:7862}],7841:[[97,803],,{770:7853,774:7863}],7842:[[65,777]],7843:[[97,777]],7844:[[194,769]],7845:[[226,769]],7846:[[194,768]],7847:[[226,768]],7848:[[194,777]],7849:[[226,777]],7850:[[194,771]],7851:[[226,771]],7852:[[7840,770]],7853:[[7841,770]],7854:[[258,769]],7855:[[259,769]],7856:[[258,768]],7857:[[259,768]],7858:[[258,777]],7859:[[259,777]],7860:[[258,771]],7861:[[259,771]],7862:[[7840,774]],7863:[[7841,774]],7864:[[69,803],,{770:7878}],7865:[[101,803],,{770:7879}],7866:[[69,777]],7867:[[101,777]],7868:[[69,771]],7869:[[101,771]],7870:[[202,769]],7871:[[234,769]],7872:[[202,768]],7873:[[234,768]],7874:[[202,777]],7875:[[234,777]],7876:[[202,771]],7877:[[234,771]],7878:[[7864,770]],7879:[[7865,770]],7880:[[73,777]],7881:[[105,777]],7882:[[73,803]],7883:[[105,803]],7884:[[79,803],,{770:7896}],7885:[[111,803],,{770:7897}],7886:[[79,777]],7887:[[111,777]],7888:[[212,769]],7889:[[244,769]],7890:[[212,768]],7891:[[244,768]],7892:[[212,777]],7893:[[244,777]],7894:[[212,771]],7895:[[244,771]],7896:[[7884,770]],7897:[[7885,770]],7898:[[416,769]],7899:[[417,769]],7900:[[416,768]],7901:[[417,768]],7902:[[416,777]],7903:[[417,777]],7904:[[416,771]],7905:[[417,771]],7906:[[416,803]],7907:[[417,803]],7908:[[85,803]],7909:[[117,803]],7910:[[85,777]],7911:[[117,777]],7912:[[431,769]],7913:[[432,769]],7914:[[431,768]],7915:[[432,768]],7916:[[431,777]],7917:[[432,777]],7918:[[431,771]],7919:[[432,771]],7920:[[431,803]],7921:[[432,803]],7922:[[89,768]],7923:[[121,768]],7924:[[89,803]],7925:[[121,803]],7926:[[89,777]],7927:[[121,777]],7928:[[89,771]],7929:[[121,771]]},7936:{7936:[[945,787],,{768:7938,769:7940,834:7942,837:8064}],7937:[[945,788],,{768:7939,769:7941,834:7943,837:8065}],7938:[[7936,768],,{837:8066}],7939:[[7937,768],,{837:8067}],7940:[[7936,769],,{837:8068}],7941:[[7937,769],,{837:8069}],7942:[[7936,834],,{837:8070}],7943:[[7937,834],,{837:8071}],7944:[[913,787],,{768:7946,769:7948,834:7950,837:8072}],7945:[[913,788],,{768:7947,769:7949,834:7951,837:8073}],7946:[[7944,768],,{837:8074}],7947:[[7945,768],,{837:8075}],7948:[[7944,769],,{837:8076}],7949:[[7945,769],,{837:8077}],7950:[[7944,834],,{837:8078}],7951:[[7945,834],,{837:8079}],7952:[[949,787],,{768:7954,769:7956}],7953:[[949,788],,{768:7955,769:7957}],7954:[[7952,768]],7955:[[7953,768]],7956:[[7952,769]],7957:[[7953,769]],7960:[[917,787],,{768:7962,769:7964}],7961:[[917,788],,{768:7963,769:7965}],7962:[[7960,768]],7963:[[7961,768]],7964:[[7960,769]],7965:[[7961,769]],7968:[[951,787],,{768:7970,769:7972,834:7974,837:8080}],7969:[[951,788],,{768:7971,769:7973,834:7975,837:8081}],7970:[[7968,768],,{837:8082}],7971:[[7969,768],,{837:8083}],7972:[[7968,769],,{837:8084}],7973:[[7969,769],,{837:8085}],7974:[[7968,834],,{837:8086}],7975:[[7969,834],,{837:8087}],7976:[[919,787],,{768:7978,769:7980,834:7982,837:8088}],7977:[[919,788],,{768:7979,769:7981,834:7983,837:8089}],7978:[[7976,768],,{837:8090}],7979:[[7977,768],,{837:8091}],7980:[[7976,769],,{837:8092}],7981:[[7977,769],,{837:8093}],7982:[[7976,834],,{837:8094}],7983:[[7977,834],,{837:8095}],7984:[[953,787],,{768:7986,769:7988,834:7990}],7985:[[953,788],,{768:7987,769:7989,834:7991}],7986:[[7984,768]],7987:[[7985,768]],7988:[[7984,769]],7989:[[7985,769]],7990:[[7984,834]],7991:[[7985,834]],7992:[[921,787],,{768:7994,769:7996,834:7998}],7993:[[921,788],,{768:7995,769:7997,834:7999}],7994:[[7992,768]],7995:[[7993,768]],7996:[[7992,769]],7997:[[7993,769]],7998:[[7992,834]],7999:[[7993,834]],8e3:[[959,787],,{768:8002,769:8004}],8001:[[959,788],,{768:8003,769:8005}],8002:[[8e3,768]],8003:[[8001,768]],8004:[[8e3,769]],8005:[[8001,769]],8008:[[927,787],,{768:8010,769:8012}],8009:[[927,788],,{768:8011,769:8013}],8010:[[8008,768]],8011:[[8009,768]],8012:[[8008,769]],8013:[[8009,769]],8016:[[965,787],,{768:8018,769:8020,834:8022}],8017:[[965,788],,{768:8019,769:8021,834:8023}],8018:[[8016,768]],8019:[[8017,768]],8020:[[8016,769]],8021:[[8017,769]],8022:[[8016,834]],8023:[[8017,834]],8025:[[933,788],,{768:8027,769:8029,834:8031}],8027:[[8025,768]],8029:[[8025,769]],8031:[[8025,834]],8032:[[969,787],,{768:8034,769:8036,834:8038,837:8096}],8033:[[969,788],,{768:8035,769:8037,834:8039,837:8097}],8034:[[8032,768],,{837:8098}],8035:[[8033,768],,{837:8099}],8036:[[8032,769],,{837:8100}],8037:[[8033,769],,{837:8101}],8038:[[8032,834],,{837:8102}],8039:[[8033,834],,{837:8103}],8040:[[937,787],,{768:8042,769:8044,834:8046,837:8104}],8041:[[937,788],,{768:8043,769:8045,834:8047,837:8105}],8042:[[8040,768],,{837:8106}],8043:[[8041,768],,{837:8107}],8044:[[8040,769],,{837:8108}],8045:[[8041,769],,{837:8109}],8046:[[8040,834],,{837:8110}],8047:[[8041,834],,{837:8111}],8048:[[945,768],,{837:8114}],8049:[[940]],8050:[[949,768]],8051:[[941]],8052:[[951,768],,{837:8130}],8053:[[942]],8054:[[953,768]],8055:[[943]],8056:[[959,768]],8057:[[972]],8058:[[965,768]],8059:[[973]],8060:[[969,768],,{837:8178}],8061:[[974]],8064:[[7936,837]],8065:[[7937,837]],8066:[[7938,837]],8067:[[7939,837]],8068:[[7940,837]],8069:[[7941,837]],8070:[[7942,837]],8071:[[7943,837]],8072:[[7944,837]],8073:[[7945,837]],8074:[[7946,837]],8075:[[7947,837]],8076:[[7948,837]],8077:[[7949,837]],8078:[[7950,837]],8079:[[7951,837]],8080:[[7968,837]],8081:[[7969,837]],8082:[[7970,837]],8083:[[7971,837]],8084:[[7972,837]],8085:[[7973,837]],8086:[[7974,837]],8087:[[7975,837]],8088:[[7976,837]],8089:[[7977,837]],8090:[[7978,837]],8091:[[7979,837]],8092:[[7980,837]],8093:[[7981,837]],8094:[[7982,837]],8095:[[7983,837]],8096:[[8032,837]],8097:[[8033,837]],8098:[[8034,837]],8099:[[8035,837]],8100:[[8036,837]],8101:[[8037,837]],8102:[[8038,837]],8103:[[8039,837]],8104:[[8040,837]],8105:[[8041,837]],8106:[[8042,837]],8107:[[8043,837]],8108:[[8044,837]],8109:[[8045,837]],8110:[[8046,837]],8111:[[8047,837]],8112:[[945,774]],8113:[[945,772]],8114:[[8048,837]],8115:[[945,837]],8116:[[940,837]],8118:[[945,834],,{837:8119}],8119:[[8118,837]],8120:[[913,774]],8121:[[913,772]],8122:[[913,768]],8123:[[902]],8124:[[913,837]],8125:[[32,787],256],8126:[[953]],8127:[[32,787],256,{768:8141,769:8142,834:8143}],8128:[[32,834],256],8129:[[168,834]],8130:[[8052,837]],8131:[[951,837]],8132:[[942,837]],8134:[[951,834],,{837:8135}],8135:[[8134,837]],8136:[[917,768]],8137:[[904]],8138:[[919,768]],8139:[[905]],8140:[[919,837]],8141:[[8127,768]],8142:[[8127,769]],8143:[[8127,834]],8144:[[953,774]],8145:[[953,772]],8146:[[970,768]],8147:[[912]],8150:[[953,834]],8151:[[970,834]],8152:[[921,774]],8153:[[921,772]],8154:[[921,768]],8155:[[906]],8157:[[8190,768]],8158:[[8190,769]],8159:[[8190,834]],8160:[[965,774]],8161:[[965,772]],8162:[[971,768]],8163:[[944]],8164:[[961,787]],8165:[[961,788]],8166:[[965,834]],8167:[[971,834]],8168:[[933,774]],8169:[[933,772]],8170:[[933,768]],8171:[[910]],8172:[[929,788]],8173:[[168,768]],8174:[[901]],8175:[[96]],8178:[[8060,837]],8179:[[969,837]],8180:[[974,837]],8182:[[969,834],,{837:8183}],8183:[[8182,837]],8184:[[927,768]],8185:[[908]],8186:[[937,768]],8187:[[911]],8188:[[937,837]],8189:[[180]],8190:[[32,788],256,{768:8157,769:8158,834:8159}]},8192:{8192:[[8194]],8193:[[8195]],8194:[[32],256],8195:[[32],256],8196:[[32],256],8197:[[32],256],8198:[[32],256],8199:[[32],256],8200:[[32],256],8201:[[32],256],8202:[[32],256],8209:[[8208],256],8215:[[32,819],256],8228:[[46],256],8229:[[46,46],256],8230:[[46,46,46],256],8239:[[32],256],8243:[[8242,8242],256],8244:[[8242,8242,8242],256],8246:[[8245,8245],256],8247:[[8245,8245,8245],256],8252:[[33,33],256],8254:[[32,773],256],8263:[[63,63],256],8264:[[63,33],256],8265:[[33,63],256],8279:[[8242,8242,8242,8242],256],8287:[[32],256],8304:[[48],256],8305:[[105],256],8308:[[52],256],8309:[[53],256],8310:[[54],256],8311:[[55],256],8312:[[56],256],8313:[[57],256],8314:[[43],256],8315:[[8722],256],8316:[[61],256],8317:[[40],256],8318:[[41],256],8319:[[110],256],8320:[[48],256],8321:[[49],256],8322:[[50],256],8323:[[51],256],8324:[[52],256],8325:[[53],256],8326:[[54],256],8327:[[55],256],8328:[[56],256],8329:[[57],256],8330:[[43],256],8331:[[8722],256],8332:[[61],256],8333:[[40],256],8334:[[41],256],8336:[[97],256],8337:[[101],256],8338:[[111],256],8339:[[120],256],8340:[[601],256],8341:[[104],256],8342:[[107],256],8343:[[108],256],8344:[[109],256],8345:[[110],256],8346:[[112],256],8347:[[115],256],8348:[[116],256],8360:[[82,115],256],8400:[,230],8401:[,230],8402:[,1],8403:[,1],8404:[,230],8405:[,230],8406:[,230],8407:[,230],8408:[,1],8409:[,1],8410:[,1],8411:[,230],8412:[,230],8417:[,230],8421:[,1],8422:[,1],8423:[,230],8424:[,220],8425:[,230],8426:[,1],8427:[,1],8428:[,220],8429:[,220],8430:[,220],8431:[,220],8432:[,230]},8448:{8448:[[97,47,99],256],8449:[[97,47,115],256],8450:[[67],256],8451:[[176,67],256],8453:[[99,47,111],256],8454:[[99,47,117],256],8455:[[400],256],8457:[[176,70],256],8458:[[103],256],8459:[[72],256],8460:[[72],256],8461:[[72],256],8462:[[104],256],8463:[[295],256],8464:[[73],256],8465:[[73],256],8466:[[76],256],8467:[[108],256],8469:[[78],256],8470:[[78,111],256],8473:[[80],256],8474:[[81],256],8475:[[82],256],8476:[[82],256],8477:[[82],256],8480:[[83,77],256],8481:[[84,69,76],256],8482:[[84,77],256],8484:[[90],256],8486:[[937]],8488:[[90],256],8490:[[75]],8491:[[197]],8492:[[66],256],8493:[[67],256],8495:[[101],256],8496:[[69],256],8497:[[70],256],8499:[[77],256],8500:[[111],256],8501:[[1488],256],8502:[[1489],256],8503:[[1490],256],8504:[[1491],256],8505:[[105],256],8507:[[70,65,88],256],8508:[[960],256],8509:[[947],256],8510:[[915],256],8511:[[928],256],8512:[[8721],256],8517:[[68],256],8518:[[100],256],8519:[[101],256],8520:[[105],256],8521:[[106],256],8528:[[49,8260,55],256],8529:[[49,8260,57],256],8530:[[49,8260,49,48],256],8531:[[49,8260,51],256],8532:[[50,8260,51],256],8533:[[49,8260,53],256],8534:[[50,8260,53],256],8535:[[51,8260,53],256],8536:[[52,8260,53],256],8537:[[49,8260,54],256],8538:[[53,8260,54],256],8539:[[49,8260,56],256],8540:[[51,8260,56],256],8541:[[53,8260,56],256],8542:[[55,8260,56],256],8543:[[49,8260],256],8544:[[73],256],8545:[[73,73],256],8546:[[73,73,73],256],8547:[[73,86],256],8548:[[86],256],8549:[[86,73],256],8550:[[86,73,73],256],8551:[[86,73,73,73],256],8552:[[73,88],256],8553:[[88],256],8554:[[88,73],256],8555:[[88,73,73],256],8556:[[76],256],8557:[[67],256],8558:[[68],256],8559:[[77],256],8560:[[105],256],8561:[[105,105],256],8562:[[105,105,105],256],8563:[[105,118],256],8564:[[118],256],8565:[[118,105],256],8566:[[118,105,105],256],8567:[[118,105,105,105],256],8568:[[105,120],256],8569:[[120],256],8570:[[120,105],256],8571:[[120,105,105],256],8572:[[108],256],8573:[[99],256],8574:[[100],256],8575:[[109],256],8585:[[48,8260,51],256],8592:[,,{824:8602}],8594:[,,{824:8603}],8596:[,,{824:8622}],8602:[[8592,824]],8603:[[8594,824]],8622:[[8596,824]],8653:[[8656,824]],8654:[[8660,824]],8655:[[8658,824]],8656:[,,{824:8653}],8658:[,,{824:8655}],8660:[,,{824:8654}]},8704:{8707:[,,{824:8708}],8708:[[8707,824]],8712:[,,{824:8713}],8713:[[8712,824]],8715:[,,{824:8716}],8716:[[8715,824]],8739:[,,{824:8740}],8740:[[8739,824]],8741:[,,{824:8742}],8742:[[8741,824]],8748:[[8747,8747],256],8749:[[8747,8747,8747],256],8751:[[8750,8750],256],8752:[[8750,8750,8750],256],8764:[,,{824:8769}],8769:[[8764,824]],8771:[,,{824:8772}],8772:[[8771,824]],8773:[,,{824:8775}],8775:[[8773,824]],8776:[,,{824:8777}],8777:[[8776,824]],8781:[,,{824:8813}],8800:[[61,824]],8801:[,,{824:8802}],8802:[[8801,824]],8804:[,,{824:8816}],8805:[,,{824:8817}],8813:[[8781,824]],8814:[[60,824]],8815:[[62,824]],8816:[[8804,824]],8817:[[8805,824]],8818:[,,{824:8820}],8819:[,,{824:8821}],8820:[[8818,824]],8821:[[8819,824]],8822:[,,{824:8824}],8823:[,,{824:8825}],8824:[[8822,824]],8825:[[8823,824]],8826:[,,{824:8832}],8827:[,,{824:8833}],8828:[,,{824:8928}],8829:[,,{824:8929}],8832:[[8826,824]],8833:[[8827,824]],8834:[,,{824:8836}],8835:[,,{824:8837}],8836:[[8834,824]],8837:[[8835,824]],8838:[,,{824:8840}],8839:[,,{824:8841}],8840:[[8838,824]],8841:[[8839,824]],8849:[,,{824:8930}],8850:[,,{824:8931}],8866:[,,{824:8876}],8872:[,,{824:8877}],8873:[,,{824:8878}],8875:[,,{824:8879}],8876:[[8866,824]],8877:[[8872,824]],8878:[[8873,824]],8879:[[8875,824]],8882:[,,{824:8938}],8883:[,,{824:8939}],8884:[,,{824:8940}],8885:[,,{824:8941}],8928:[[8828,824]],8929:[[8829,824]],8930:[[8849,824]],8931:[[8850,824]],8938:[[8882,824]],8939:[[8883,824]],8940:[[8884,824]],8941:[[8885,824]]},8960:{9001:[[12296]],9002:[[12297]]},9216:{9312:[[49],256],9313:[[50],256],9314:[[51],256],9315:[[52],256],9316:[[53],256],9317:[[54],256],9318:[[55],256],9319:[[56],256],9320:[[57],256],9321:[[49,48],256],9322:[[49,49],256],9323:[[49,50],256],9324:[[49,51],256],9325:[[49,52],256],9326:[[49,53],256],9327:[[49,54],256],9328:[[49,55],256],9329:[[49,56],256],9330:[[49,57],256],9331:[[50,48],256],9332:[[40,49,41],256],9333:[[40,50,41],256],9334:[[40,51,41],256],9335:[[40,52,41],256],9336:[[40,53,41],256],9337:[[40,54,41],256],9338:[[40,55,41],256],9339:[[40,56,41],256],9340:[[40,57,41],256],9341:[[40,49,48,41],256],9342:[[40,49,49,41],256],9343:[[40,49,50,41],256],9344:[[40,49,51,41],256],9345:[[40,49,52,41],256],9346:[[40,49,53,41],256],9347:[[40,49,54,41],256],9348:[[40,49,55,41],256],9349:[[40,49,56,41],256],9350:[[40,49,57,41],256],9351:[[40,50,48,41],256],9352:[[49,46],256],9353:[[50,46],256],9354:[[51,46],256],9355:[[52,46],256],9356:[[53,46],256],9357:[[54,46],256],9358:[[55,46],256],9359:[[56,46],256],9360:[[57,46],256],9361:[[49,48,46],256],9362:[[49,49,46],256],9363:[[49,50,46],256],9364:[[49,51,46],256],9365:[[49,52,46],256],9366:[[49,53,46],256],9367:[[49,54,46],256],9368:[[49,55,46],256],9369:[[49,56,46],256],9370:[[49,57,46],256],9371:[[50,48,46],256],9372:[[40,97,41],256],9373:[[40,98,41],256],9374:[[40,99,41],256],9375:[[40,100,41],256],9376:[[40,101,41],256],9377:[[40,102,41],256],9378:[[40,103,41],256],9379:[[40,104,41],256],9380:[[40,105,41],256],9381:[[40,106,41],256],9382:[[40,107,41],256],9383:[[40,108,41],256],9384:[[40,109,41],256],9385:[[40,110,41],256],9386:[[40,111,41],256],9387:[[40,112,41],256],9388:[[40,113,41],256],9389:[[40,114,41],256],9390:[[40,115,41],256],9391:[[40,116,41],256],9392:[[40,117,41],256],9393:[[40,118,41],256],9394:[[40,119,41],256],9395:[[40,120,41],256],9396:[[40,121,41],256],9397:[[40,122,41],256],9398:[[65],256],9399:[[66],256],9400:[[67],256],9401:[[68],256],9402:[[69],256],9403:[[70],256],9404:[[71],256],9405:[[72],256],9406:[[73],256],9407:[[74],256],9408:[[75],256],9409:[[76],256],9410:[[77],256],9411:[[78],256],9412:[[79],256],9413:[[80],256],9414:[[81],256],9415:[[82],256],9416:[[83],256],9417:[[84],256],9418:[[85],256],9419:[[86],256],9420:[[87],256],9421:[[88],256],9422:[[89],256],9423:[[90],256],9424:[[97],256],9425:[[98],256],9426:[[99],256],9427:[[100],256],9428:[[101],256],9429:[[102],256],9430:[[103],256],9431:[[104],256],9432:[[105],256],9433:[[106],256],9434:[[107],256],9435:[[108],256],9436:[[109],256],9437:[[110],256],9438:[[111],256],9439:[[112],256],9440:[[113],256],9441:[[114],256],9442:[[115],256],9443:[[116],256],9444:[[117],256],9445:[[118],256],9446:[[119],256],9447:[[120],256],9448:[[121],256],9449:[[122],256],9450:[[48],256]},10752:{10764:[[8747,8747,8747,8747],256],10868:[[58,58,61],256],10869:[[61,61],256],10870:[[61,61,61],256],10972:[[10973,824],512]},11264:{11388:[[106],256],11389:[[86],256],11503:[,230],11504:[,230],11505:[,230]},11520:{11631:[[11617],256],11647:[,9],11744:[,230],11745:[,230],11746:[,230],11747:[,230],11748:[,230],11749:[,230],11750:[,230],11751:[,230],11752:[,230],11753:[,230],11754:[,230],11755:[,230],11756:[,230],11757:[,230],11758:[,230],11759:[,230],11760:[,230],11761:[,230],11762:[,230],11763:[,230],11764:[,230],11765:[,230],11766:[,230],11767:[,230],11768:[,230],11769:[,230],11770:[,230],11771:[,230],11772:[,230],11773:[,230],11774:[,230],11775:[,230]},11776:{11935:[[27597],256],12019:[[40863],256]},12032:{12032:[[19968],256],12033:[[20008],256],12034:[[20022],256],12035:[[20031],256],12036:[[20057],256],12037:[[20101],256],12038:[[20108],256],12039:[[20128],256],12040:[[20154],256],12041:[[20799],256],12042:[[20837],256],12043:[[20843],256],12044:[[20866],256],12045:[[20886],256],12046:[[20907],256],12047:[[20960],256],12048:[[20981],256],12049:[[20992],256],12050:[[21147],256],12051:[[21241],256],12052:[[21269],256],12053:[[21274],256],12054:[[21304],256],12055:[[21313],256],12056:[[21340],256],12057:[[21353],256],12058:[[21378],256],12059:[[21430],256],12060:[[21448],256],12061:[[21475],256],12062:[[22231],256],12063:[[22303],256],12064:[[22763],256],12065:[[22786],256],12066:[[22794],256],12067:[[22805],256],12068:[[22823],256],12069:[[22899],256],12070:[[23376],256],12071:[[23424],256],12072:[[23544],256],12073:[[23567],256],12074:[[23586],256],12075:[[23608],256],12076:[[23662],256],12077:[[23665],256],12078:[[24027],256],12079:[[24037],256],12080:[[24049],256],12081:[[24062],256],12082:[[24178],256],12083:[[24186],256],12084:[[24191],256],12085:[[24308],256],12086:[[24318],256],12087:[[24331],256],12088:[[24339],256],12089:[[24400],256],12090:[[24417],256],12091:[[24435],256],12092:[[24515],256],12093:[[25096],256],12094:[[25142],256],12095:[[25163],256],12096:[[25903],256],12097:[[25908],256],12098:[[25991],256],12099:[[26007],256],12100:[[26020],256],12101:[[26041],256],12102:[[26080],256],12103:[[26085],256],12104:[[26352],256],12105:[[26376],256],12106:[[26408],256],12107:[[27424],256],12108:[[27490],256],12109:[[27513],256],12110:[[27571],256],12111:[[27595],256],12112:[[27604],256],12113:[[27611],256],12114:[[27663],256],12115:[[27668],256],12116:[[27700],256],12117:[[28779],256],12118:[[29226],256],12119:[[29238],256],12120:[[29243],256],12121:[[29247],256],12122:[[29255],256],12123:[[29273],256],12124:[[29275],256],12125:[[29356],256],12126:[[29572],256],12127:[[29577],256],12128:[[29916],256],12129:[[29926],256],12130:[[29976],256],12131:[[29983],256],12132:[[29992],256],12133:[[3e4],256],12134:[[30091],256],12135:[[30098],256],12136:[[30326],256],12137:[[30333],256],12138:[[30382],256],12139:[[30399],256],12140:[[30446],256],12141:[[30683],256],12142:[[30690],256],12143:[[30707],256],12144:[[31034],256],12145:[[31160],256],12146:[[31166],256],12147:[[31348],256],12148:[[31435],256],12149:[[31481],256],12150:[[31859],256],12151:[[31992],256],12152:[[32566],256],12153:[[32593],256],12154:[[32650],256],12155:[[32701],256],12156:[[32769],256],12157:[[32780],256],12158:[[32786],256],12159:[[32819],256],12160:[[32895],256],12161:[[32905],256],12162:[[33251],256],12163:[[33258],256],12164:[[33267],256],12165:[[33276],256],12166:[[33292],256],12167:[[33307],256],12168:[[33311],256],12169:[[33390],256],12170:[[33394],256],12171:[[33400],256],12172:[[34381],256],12173:[[34411],256],12174:[[34880],256],12175:[[34892],256],12176:[[34915],256],12177:[[35198],256],12178:[[35211],256],12179:[[35282],256],12180:[[35328],256],12181:[[35895],256],12182:[[35910],256],12183:[[35925],256],12184:[[35960],256],12185:[[35997],256],12186:[[36196],256],12187:[[36208],256],12188:[[36275],256],12189:[[36523],256],12190:[[36554],256],12191:[[36763],256],12192:[[36784],256],12193:[[36789],256],12194:[[37009],256],12195:[[37193],256],12196:[[37318],256],12197:[[37324],256],12198:[[37329],256],12199:[[38263],256],12200:[[38272],256],12201:[[38428],256],12202:[[38582],256],12203:[[38585],256],12204:[[38632],256],12205:[[38737],256],12206:[[38750],256],12207:[[38754],256],12208:[[38761],256],12209:[[38859],256],12210:[[38893],256],12211:[[38899],256],12212:[[38913],256],12213:[[39080],256],12214:[[39131],256],12215:[[39135],256],12216:[[39318],256],12217:[[39321],256],12218:[[39340],256],12219:[[39592],256],12220:[[39640],256],12221:[[39647],256],12222:[[39717],256],12223:[[39727],256],12224:[[39730],256],12225:[[39740],256],12226:[[39770],256],12227:[[40165],256],12228:[[40565],256],12229:[[40575],256],12230:[[40613],256],12231:[[40635],256],12232:[[40643],256],12233:[[40653],256],12234:[[40657],256],12235:[[40697],256],12236:[[40701],256],12237:[[40718],256],12238:[[40723],256],12239:[[40736],256],12240:[[40763],256],12241:[[40778],256],12242:[[40786],256],12243:[[40845],256],12244:[[40860],256],12245:[[40864],256]},12288:{12288:[[32],256],12330:[,218],12331:[,228],12332:[,232],12333:[,222],12334:[,224],12335:[,224],12342:[[12306],256],12344:[[21313],256],12345:[[21316],256],12346:[[21317],256],12358:[,,{12441:12436}],12363:[,,{12441:12364}],12364:[[12363,12441]],12365:[,,{12441:12366}],12366:[[12365,12441]],12367:[,,{12441:12368}],12368:[[12367,12441]],12369:[,,{12441:12370}],12370:[[12369,12441]],12371:[,,{12441:12372}],12372:[[12371,12441]],12373:[,,{12441:12374}],12374:[[12373,12441]],12375:[,,{12441:12376}],12376:[[12375,12441]],12377:[,,{12441:12378}],12378:[[12377,12441]],12379:[,,{12441:12380}],12380:[[12379,12441]],12381:[,,{12441:12382}],12382:[[12381,12441]],12383:[,,{12441:12384}],12384:[[12383,12441]],12385:[,,{12441:12386}],12386:[[12385,12441]],12388:[,,{12441:12389}],12389:[[12388,12441]],12390:[,,{12441:12391}],12391:[[12390,12441]],12392:[,,{12441:12393}],12393:[[12392,12441]],12399:[,,{12441:12400,12442:12401}],12400:[[12399,12441]],12401:[[12399,12442]],12402:[,,{12441:12403,12442:12404}],12403:[[12402,12441]],12404:[[12402,12442]],12405:[,,{12441:12406,12442:12407}],12406:[[12405,12441]],12407:[[12405,12442]],12408:[,,{12441:12409,12442:12410}],12409:[[12408,12441]],12410:[[12408,12442]],12411:[,,{12441:12412,12442:12413}],12412:[[12411,12441]],12413:[[12411,12442]],12436:[[12358,12441]],12441:[,8],12442:[,8],12443:[[32,12441],256],12444:[[32,12442],256],12445:[,,{12441:12446}],12446:[[12445,12441]],12447:[[12424,12426],256],12454:[,,{12441:12532}],12459:[,,{12441:12460}],12460:[[12459,12441]],12461:[,,{12441:12462}],12462:[[12461,12441]],12463:[,,{12441:12464}],12464:[[12463,12441]],12465:[,,{12441:12466}],12466:[[12465,12441]],12467:[,,{12441:12468}],12468:[[12467,12441]],12469:[,,{12441:12470}],12470:[[12469,12441]],12471:[,,{12441:12472}],12472:[[12471,12441]],12473:[,,{12441:12474}],12474:[[12473,12441]],12475:[,,{12441:12476}],12476:[[12475,12441]],12477:[,,{12441:12478}],12478:[[12477,12441]],12479:[,,{12441:12480}],12480:[[12479,12441]],12481:[,,{12441:12482}],12482:[[12481,12441]],12484:[,,{12441:12485}],12485:[[12484,12441]],12486:[,,{12441:12487}],12487:[[12486,12441]],12488:[,,{12441:12489}],12489:[[12488,12441]],12495:[,,{12441:12496,12442:12497}],12496:[[12495,12441]],12497:[[12495,12442]],12498:[,,{12441:12499,12442:12500}],12499:[[12498,12441]],12500:[[12498,12442]],12501:[,,{12441:12502,12442:12503}],12502:[[12501,12441]],12503:[[12501,12442]],12504:[,,{12441:12505,12442:12506}],12505:[[12504,12441]],12506:[[12504,12442]],12507:[,,{12441:12508,12442:12509}],12508:[[12507,12441]],12509:[[12507,12442]],12527:[,,{12441:12535}],12528:[,,{12441:12536}],12529:[,,{12441:12537}],12530:[,,{12441:12538}],12532:[[12454,12441]],12535:[[12527,12441]],12536:[[12528,12441]],12537:[[12529,12441]],12538:[[12530,12441]],12541:[,,{12441:12542}],12542:[[12541,12441]],12543:[[12467,12488],256]},12544:{12593:[[4352],256],12594:[[4353],256],12595:[[4522],256],12596:[[4354],256],12597:[[4524],256],12598:[[4525],256],12599:[[4355],256],12600:[[4356],256],12601:[[4357],256],12602:[[4528],256],12603:[[4529],256],12604:[[4530],256],12605:[[4531],256],12606:[[4532],256],12607:[[4533],256],12608:[[4378],256],12609:[[4358],256],12610:[[4359],256],12611:[[4360],256],12612:[[4385],256],12613:[[4361],256],12614:[[4362],256],12615:[[4363],256],12616:[[4364],256],12617:[[4365],256],12618:[[4366],256],12619:[[4367],256],12620:[[4368],256],12621:[[4369],256],12622:[[4370],256],12623:[[4449],256],12624:[[4450],256],12625:[[4451],256],12626:[[4452],256],12627:[[4453],256],12628:[[4454],256],12629:[[4455],256],12630:[[4456],256],12631:[[4457],256],12632:[[4458],256],12633:[[4459],256],12634:[[4460],256],12635:[[4461],256],12636:[[4462],256],12637:[[4463],256],12638:[[4464],256],12639:[[4465],256],12640:[[4466],256],12641:[[4467],256],12642:[[4468],256],12643:[[4469],256],12644:[[4448],256],12645:[[4372],256],12646:[[4373],256],12647:[[4551],256],12648:[[4552],256],12649:[[4556],256],12650:[[4558],256],12651:[[4563],256],12652:[[4567],256],12653:[[4569],256],12654:[[4380],256],12655:[[4573],256],12656:[[4575],256],12657:[[4381],256],12658:[[4382],256],12659:[[4384],256],12660:[[4386],256],12661:[[4387],256],12662:[[4391],256],12663:[[4393],256],12664:[[4395],256],12665:[[4396],256],12666:[[4397],256],12667:[[4398],256],12668:[[4399],256],12669:[[4402],256],12670:[[4406],256],12671:[[4416],256],12672:[[4423],256],12673:[[4428],256],12674:[[4593],256],12675:[[4594],256],12676:[[4439],256],12677:[[4440],256],12678:[[4441],256],12679:[[4484],256],12680:[[4485],256],12681:[[4488],256],12682:[[4497],256],12683:[[4498],256],12684:[[4500],256],12685:[[4510],256],12686:[[4513],256],12690:[[19968],256],12691:[[20108],256],12692:[[19977],256],12693:[[22235],256],12694:[[19978],256],12695:[[20013],256],12696:[[19979],256],12697:[[30002],256],12698:[[20057],256],12699:[[19993],256],12700:[[19969],256],12701:[[22825],256],12702:[[22320],256],12703:[[20154],256]},12800:{12800:[[40,4352,41],256],12801:[[40,4354,41],256],12802:[[40,4355,41],256],12803:[[40,4357,41],256],12804:[[40,4358,41],256],12805:[[40,4359,41],256],12806:[[40,4361,41],256],12807:[[40,4363,41],256],12808:[[40,4364,41],256],12809:[[40,4366,41],256],12810:[[40,4367,41],256],12811:[[40,4368,41],256],12812:[[40,4369,41],256],12813:[[40,4370,41],256],12814:[[40,4352,4449,41],256],12815:[[40,4354,4449,41],256],12816:[[40,4355,4449,41],256],12817:[[40,4357,4449,41],256],12818:[[40,4358,4449,41],256],12819:[[40,4359,4449,41],256],12820:[[40,4361,4449,41],256],12821:[[40,4363,4449,41],256],12822:[[40,4364,4449,41],256],12823:[[40,4366,4449,41],256],12824:[[40,4367,4449,41],256],12825:[[40,4368,4449,41],256],12826:[[40,4369,4449,41],256],12827:[[40,4370,4449,41],256],12828:[[40,4364,4462,41],256],12829:[[40,4363,4457,4364,4453,4523,41],256],12830:[[40,4363,4457,4370,4462,41],256],12832:[[40,19968,41],256],12833:[[40,20108,41],256],12834:[[40,19977,41],256],12835:[[40,22235,41],256],12836:[[40,20116,41],256],12837:[[40,20845,41],256],12838:[[40,19971,41],256],12839:[[40,20843,41],256],12840:[[40,20061,41],256],12841:[[40,21313,41],256],12842:[[40,26376,41],256],12843:[[40,28779,41],256],12844:[[40,27700,41],256],12845:[[40,26408,41],256],12846:[[40,37329,41],256],12847:[[40,22303,41],256],12848:[[40,26085,41],256],12849:[[40,26666,41],256],12850:[[40,26377,41],256],12851:[[40,31038,41],256],12852:[[40,21517,41],256],12853:[[40,29305,41],256],12854:[[40,36001,41],256],12855:[[40,31069,41],256],12856:[[40,21172,41],256],12857:[[40,20195,41],256],12858:[[40,21628,41],256],12859:[[40,23398,41],256],12860:[[40,30435,41],256],12861:[[40,20225,41],256],12862:[[40,36039,41],256],12863:[[40,21332,41],256],12864:[[40,31085,41],256],12865:[[40,20241,41],256],12866:[[40,33258,41],256],12867:[[40,33267,41],256],12868:[[21839],256],12869:[[24188],256],12870:[[25991],256],12871:[[31631],256],12880:[[80,84,69],256],12881:[[50,49],256],12882:[[50,50],256],12883:[[50,51],256],12884:[[50,52],256],12885:[[50,53],256],12886:[[50,54],256],12887:[[50,55],256],12888:[[50,56],256],12889:[[50,57],256],12890:[[51,48],256],12891:[[51,49],256],12892:[[51,50],256],12893:[[51,51],256],12894:[[51,52],256],12895:[[51,53],256],12896:[[4352],256],12897:[[4354],256],12898:[[4355],256],12899:[[4357],256],12900:[[4358],256],12901:[[4359],256],12902:[[4361],256],12903:[[4363],256],12904:[[4364],256],12905:[[4366],256],12906:[[4367],256],12907:[[4368],256],12908:[[4369],256],12909:[[4370],256],12910:[[4352,4449],256],12911:[[4354,4449],256],12912:[[4355,4449],256],12913:[[4357,4449],256],12914:[[4358,4449],256],12915:[[4359,4449],256],12916:[[4361,4449],256],12917:[[4363,4449],256],12918:[[4364,4449],256],12919:[[4366,4449],256],12920:[[4367,4449],256],12921:[[4368,4449],256],12922:[[4369,4449],256],12923:[[4370,4449],256],12924:[[4366,4449,4535,4352,4457],256],12925:[[4364,4462,4363,4468],256],12926:[[4363,4462],256],12928:[[19968],256],12929:[[20108],256],12930:[[19977],256],12931:[[22235],256],12932:[[20116],256],12933:[[20845],256],12934:[[19971],256],12935:[[20843],256],12936:[[20061],256],12937:[[21313],256],12938:[[26376],256],12939:[[28779],256],12940:[[27700],256],12941:[[26408],256],12942:[[37329],256],12943:[[22303],256],12944:[[26085],256],12945:[[26666],256],12946:[[26377],256],12947:[[31038],256],12948:[[21517],256],12949:[[29305],256],12950:[[36001],256],12951:[[31069],256],12952:[[21172],256],12953:[[31192],256],12954:[[30007],256],12955:[[22899],256],12956:[[36969],256],12957:[[20778],256],12958:[[21360],256],12959:[[27880],256],12960:[[38917],256],12961:[[20241],256],12962:[[20889],256],12963:[[27491],256],12964:[[19978],256],12965:[[20013],256],12966:[[19979],256],12967:[[24038],256],12968:[[21491],256],12969:[[21307],256],12970:[[23447],256],12971:[[23398],256],12972:[[30435],256],12973:[[20225],256],12974:[[36039],256],12975:[[21332],256],12976:[[22812],256],12977:[[51,54],256],12978:[[51,55],256],12979:[[51,56],256],12980:[[51,57],256],12981:[[52,48],256],12982:[[52,49],256],12983:[[52,50],256],12984:[[52,51],256],12985:[[52,52],256],12986:[[52,53],256],12987:[[52,54],256],12988:[[52,55],256],12989:[[52,56],256],12990:[[52,57],256],12991:[[53,48],256],12992:[[49,26376],256],12993:[[50,26376],256],12994:[[51,26376],256],12995:[[52,26376],256],12996:[[53,26376],256],12997:[[54,26376],256],12998:[[55,26376],256],12999:[[56,26376],256],13e3:[[57,26376],256],13001:[[49,48,26376],256],13002:[[49,49,26376],256],13003:[[49,50,26376],256],13004:[[72,103],256],13005:[[101,114,103],256],13006:[[101,86],256],13007:[[76,84,68],256],13008:[[12450],256],13009:[[12452],256],13010:[[12454],256],13011:[[12456],256],13012:[[12458],256],13013:[[12459],256],13014:[[12461],256],13015:[[12463],256],13016:[[12465],256],13017:[[12467],256],13018:[[12469],256],13019:[[12471],256],13020:[[12473],256],13021:[[12475],256],13022:[[12477],256],13023:[[12479],256],13024:[[12481],256],13025:[[12484],256],13026:[[12486],256],13027:[[12488],256],13028:[[12490],256],13029:[[12491],256],13030:[[12492],256],13031:[[12493],256],13032:[[12494],256],13033:[[12495],256],13034:[[12498],256],13035:[[12501],256],13036:[[12504],256],13037:[[12507],256],13038:[[12510],256],13039:[[12511],256],13040:[[12512],256],13041:[[12513],256],13042:[[12514],256],13043:[[12516],256],13044:[[12518],256],13045:[[12520],256],13046:[[12521],256],13047:[[12522],256],13048:[[12523],256],13049:[[12524],256],13050:[[12525],256],13051:[[12527],256],13052:[[12528],256],13053:[[12529],256],13054:[[12530],256]},13056:{13056:[[12450,12497,12540,12488],256],13057:[[12450,12523,12501,12449],256],13058:[[12450,12531,12506,12450],256],13059:[[12450,12540,12523],256],13060:[[12452,12491,12531,12464],256],13061:[[12452,12531,12481],256],13062:[[12454,12457,12531],256],13063:[[12456,12473,12463,12540,12489],256],13064:[[12456,12540,12459,12540],256],13065:[[12458,12531,12473],256],13066:[[12458,12540,12512],256],13067:[[12459,12452,12522],256],13068:[[12459,12521,12483,12488],256],13069:[[12459,12525,12522,12540],256],13070:[[12460,12525,12531],256],13071:[[12460,12531,12510],256],13072:[[12462,12460],256],13073:[[12462,12491,12540],256],13074:[[12461,12517,12522,12540],256],13075:[[12462,12523,12480,12540],256],13076:[[12461,12525],256],13077:[[12461,12525,12464,12521,12512],256],13078:[[12461,12525,12513,12540,12488,12523],256],13079:[[12461,12525,12527,12483,12488],256],13080:[[12464,12521,12512],256],13081:[[12464,12521,12512,12488,12531],256],13082:[[12463,12523,12476,12452,12525],256],13083:[[12463,12525,12540,12493],256],13084:[[12465,12540,12473],256],13085:[[12467,12523,12490],256],13086:[[12467,12540,12509],256],13087:[[12469,12452,12463,12523],256],13088:[[12469,12531,12481,12540,12512],256],13089:[[12471,12522,12531,12464],256],13090:[[12475,12531,12481],256],13091:[[12475,12531,12488],256],13092:[[12480,12540,12473],256],13093:[[12487,12471],256],13094:[[12489,12523],256],13095:[[12488,12531],256],13096:[[12490,12494],256],13097:[[12494,12483,12488],256],13098:[[12495,12452,12484],256],13099:[[12497,12540,12475,12531,12488],256],13100:[[12497,12540,12484],256],13101:[[12496,12540,12524,12523],256],13102:[[12500,12450,12473,12488,12523],256],13103:[[12500,12463,12523],256],13104:[[12500,12467],256],13105:[[12499,12523],256],13106:[[12501,12449,12521,12483,12489],256],13107:[[12501,12451,12540,12488],256],13108:[[12502,12483,12471,12455,12523],256],13109:[[12501,12521,12531],256],13110:[[12504,12463,12479,12540,12523],256],13111:[[12506,12477],256],13112:[[12506,12491,12498],256],13113:[[12504,12523,12484],256],13114:[[12506,12531,12473],256],13115:[[12506,12540,12472],256],13116:[[12505,12540,12479],256],13117:[[12509,12452,12531,12488],256],13118:[[12508,12523,12488],256],13119:[[12507,12531],256],13120:[[12509,12531,12489],256],13121:[[12507,12540,12523],256],13122:[[12507,12540,12531],256],13123:[[12510,12452,12463,12525],256],13124:[[12510,12452,12523],256],13125:[[12510,12483,12495],256],13126:[[12510,12523,12463],256],13127:[[12510,12531,12471,12519,12531],256],13128:[[12511,12463,12525,12531],256],13129:[[12511,12522],256],13130:[[12511,12522,12496,12540,12523],256],13131:[[12513,12460],256],13132:[[12513,12460,12488,12531],256],13133:[[12513,12540,12488,12523],256],13134:[[12516,12540,12489],256],13135:[[12516,12540,12523],256],13136:[[12518,12450,12531],256],13137:[[12522,12483,12488,12523],256],13138:[[12522,12521],256],13139:[[12523,12500,12540],256],13140:[[12523,12540,12502,12523],256],13141:[[12524,12512],256],13142:[[12524,12531,12488,12466,12531],256],13143:[[12527,12483,12488],256],13144:[[48,28857],256],13145:[[49,28857],256],13146:[[50,28857],256],13147:[[51,28857],256],13148:[[52,28857],256],13149:[[53,28857],256],13150:[[54,28857],256],13151:[[55,28857],256],13152:[[56,28857],256],13153:[[57,28857],256],13154:[[49,48,28857],256],13155:[[49,49,28857],256],13156:[[49,50,28857],256],13157:[[49,51,28857],256],13158:[[49,52,28857],256],13159:[[49,53,28857],256],13160:[[49,54,28857],256],13161:[[49,55,28857],256],13162:[[49,56,28857],256],13163:[[49,57,28857],256],13164:[[50,48,28857],256],13165:[[50,49,28857],256],13166:[[50,50,28857],256],13167:[[50,51,28857],256],13168:[[50,52,28857],256],13169:[[104,80,97],256],13170:[[100,97],256],13171:[[65,85],256],13172:[[98,97,114],256],13173:[[111,86],256],13174:[[112,99],256],13175:[[100,109],256],13176:[[100,109,178],256],13177:[[100,109,179],256],13178:[[73,85],256],13179:[[24179,25104],256],13180:[[26157,21644],256],13181:[[22823,27491],256],13182:[[26126,27835],256],13183:[[26666,24335,20250,31038],256],13184:[[112,65],256],13185:[[110,65],256],13186:[[956,65],256],13187:[[109,65],256],13188:[[107,65],256],13189:[[75,66],256],13190:[[77,66],256],13191:[[71,66],256],13192:[[99,97,108],256],13193:[[107,99,97,108],256],13194:[[112,70],256],13195:[[110,70],256],13196:[[956,70],256],13197:[[956,103],256],13198:[[109,103],256],13199:[[107,103],256],13200:[[72,122],256],13201:[[107,72,122],256],13202:[[77,72,122],256],13203:[[71,72,122],256],13204:[[84,72,122],256],13205:[[956,8467],256],13206:[[109,8467],256],13207:[[100,8467],256],13208:[[107,8467],256],13209:[[102,109],256],13210:[[110,109],256],13211:[[956,109],256],13212:[[109,109],256],13213:[[99,109],256],13214:[[107,109],256],13215:[[109,109,178],256],13216:[[99,109,178],256],13217:[[109,178],256],13218:[[107,109,178],256],13219:[[109,109,179],256],13220:[[99,109,179],256],13221:[[109,179],256],13222:[[107,109,179],256],13223:[[109,8725,115],256],13224:[[109,8725,115,178],256],13225:[[80,97],256],13226:[[107,80,97],256],13227:[[77,80,97],256],13228:[[71,80,97],256],13229:[[114,97,100],256],13230:[[114,97,100,8725,115],256],13231:[[114,97,100,8725,115,178],256],13232:[[112,115],256],13233:[[110,115],256],13234:[[956,115],256],13235:[[109,115],256],13236:[[112,86],256],13237:[[110,86],256],13238:[[956,86],256],13239:[[109,86],256],13240:[[107,86],256],13241:[[77,86],256],13242:[[112,87],256],13243:[[110,87],256],13244:[[956,87],256],13245:[[109,87],256],13246:[[107,87],256],13247:[[77,87],256],13248:[[107,937],256],13249:[[77,937],256],13250:[[97,46,109,46],256],13251:[[66,113],256],13252:[[99,99],256],13253:[[99,100],256],13254:[[67,8725,107,103],256],13255:[[67,111,46],256],13256:[[100,66],256],13257:[[71,121],256],13258:[[104,97],256],13259:[[72,80],256],13260:[[105,110],256],13261:[[75,75],256],13262:[[75,77],256],13263:[[107,116],256],13264:[[108,109],256],13265:[[108,110],256],13266:[[108,111,103],256],13267:[[108,120],256],13268:[[109,98],256],13269:[[109,105,108],256],13270:[[109,111,108],256],13271:[[80,72],256],13272:[[112,46,109,46],256],13273:[[80,80,77],256],13274:[[80,82],256],13275:[[115,114],256],13276:[[83,118],256],13277:[[87,98],256],13278:[[86,8725,109],256],13279:[[65,8725,109],256],13280:[[49,26085],256],13281:[[50,26085],256],13282:[[51,26085],256],13283:[[52,26085],256],13284:[[53,26085],256],13285:[[54,26085],256],13286:[[55,26085],256],13287:[[56,26085],256],13288:[[57,26085],256],13289:[[49,48,26085],256],13290:[[49,49,26085],256],13291:[[49,50,26085],256],13292:[[49,51,26085],256],13293:[[49,52,26085],256],13294:[[49,53,26085],256],13295:[[49,54,26085],256],13296:[[49,55,26085],256],13297:[[49,56,26085],256],13298:[[49,57,26085],256],13299:[[50,48,26085],256],13300:[[50,49,26085],256],13301:[[50,50,26085],256],13302:[[50,51,26085],256],13303:[[50,52,26085],256],13304:[[50,53,26085],256],13305:[[50,54,26085],256],13306:[[50,55,26085],256],13307:[[50,56,26085],256],13308:[[50,57,26085],256],13309:[[51,48,26085],256],13310:[[51,49,26085],256],13311:[[103,97,108],256]},27136:{92912:[,1],92913:[,1],92914:[,1],92915:[,1],92916:[,1]},27392:{92976:[,230],92977:[,230],92978:[,230],92979:[,230],92980:[,230],92981:[,230],92982:[,230]},42496:{42607:[,230],42612:[,230],42613:[,230],42614:[,230],42615:[,230],42616:[,230],42617:[,230],42618:[,230],42619:[,230],42620:[,230],42621:[,230],42652:[[1098],256],42653:[[1100],256],42655:[,230],42736:[,230],42737:[,230]},42752:{42864:[[42863],256],43e3:[[294],256],43001:[[339],256]},43008:{43014:[,9],43204:[,9],43232:[,230],43233:[,230],43234:[,230],43235:[,230],43236:[,230],43237:[,230],43238:[,230],43239:[,230],43240:[,230],43241:[,230],43242:[,230],43243:[,230],43244:[,230],43245:[,230],43246:[,230],43247:[,230],43248:[,230],43249:[,230]},43264:{43307:[,220],43308:[,220],43309:[,220],43347:[,9],43443:[,7],43456:[,9]},43520:{43696:[,230],43698:[,230],43699:[,230],43700:[,220],43703:[,230],43704:[,230],43710:[,230],43711:[,230],43713:[,230],43766:[,9]},43776:{43868:[[42791],256],43869:[[43831],256],43870:[[619],256],43871:[[43858],256],44013:[,9]},48128:{113822:[,1]},53504:{119134:[[119127,119141],512],119135:[[119128,119141],512],119136:[[119135,119150],512],119137:[[119135,119151],512],119138:[[119135,119152],512],119139:[[119135,119153],512],119140:[[119135,119154],512],119141:[,216],119142:[,216],119143:[,1],119144:[,1],119145:[,1],119149:[,226],119150:[,216],119151:[,216],119152:[,216],119153:[,216],119154:[,216],119163:[,220],119164:[,220],119165:[,220],119166:[,220],119167:[,220],119168:[,220],119169:[,220],119170:[,220],119173:[,230],119174:[,230],119175:[,230],119176:[,230],119177:[,230],119178:[,220],119179:[,220],119210:[,230],119211:[,230],119212:[,230],119213:[,230],119227:[[119225,119141],512],119228:[[119226,119141],512],119229:[[119227,119150],512],119230:[[119228,119150],512],119231:[[119227,119151],512],119232:[[119228,119151],512]},53760:{119362:[,230],119363:[,230],119364:[,230]},54272:{119808:[[65],256],119809:[[66],256],119810:[[67],256],119811:[[68],256],119812:[[69],256],119813:[[70],256],119814:[[71],256],119815:[[72],256],119816:[[73],256],119817:[[74],256],119818:[[75],256],119819:[[76],256],119820:[[77],256],119821:[[78],256],119822:[[79],256],119823:[[80],256],119824:[[81],256],119825:[[82],256],119826:[[83],256],119827:[[84],256],119828:[[85],256],119829:[[86],256],119830:[[87],256],119831:[[88],256],119832:[[89],256],119833:[[90],256],119834:[[97],256],119835:[[98],256],119836:[[99],256],119837:[[100],256],119838:[[101],256],119839:[[102],256],119840:[[103],256],119841:[[104],256],119842:[[105],256],119843:[[106],256],119844:[[107],256],119845:[[108],256],119846:[[109],256],119847:[[110],256],119848:[[111],256],119849:[[112],256],119850:[[113],256],119851:[[114],256],119852:[[115],256],119853:[[116],256],119854:[[117],256],119855:[[118],256],119856:[[119],256],119857:[[120],256],119858:[[121],256],119859:[[122],256],119860:[[65],256],119861:[[66],256],119862:[[67],256],119863:[[68],256],119864:[[69],256],119865:[[70],256],119866:[[71],256],119867:[[72],256],119868:[[73],256],119869:[[74],256],119870:[[75],256],119871:[[76],256],119872:[[77],256],119873:[[78],256],119874:[[79],256],119875:[[80],256],119876:[[81],256],119877:[[82],256],119878:[[83],256],119879:[[84],256],119880:[[85],256],119881:[[86],256],119882:[[87],256],119883:[[88],256],119884:[[89],256],119885:[[90],256],119886:[[97],256],119887:[[98],256],119888:[[99],256],119889:[[100],256],119890:[[101],256],119891:[[102],256],119892:[[103],256],119894:[[105],256],119895:[[106],256],119896:[[107],256],119897:[[108],256],119898:[[109],256],119899:[[110],256],119900:[[111],256],119901:[[112],256],119902:[[113],256],119903:[[114],256],119904:[[115],256],119905:[[116],256],119906:[[117],256],119907:[[118],256],119908:[[119],256],119909:[[120],256],119910:[[121],256],119911:[[122],256],119912:[[65],256],119913:[[66],256],119914:[[67],256],119915:[[68],256],119916:[[69],256],119917:[[70],256],119918:[[71],256],119919:[[72],256],119920:[[73],256],119921:[[74],256],119922:[[75],256],119923:[[76],256],119924:[[77],256],119925:[[78],256],119926:[[79],256],119927:[[80],256],119928:[[81],256],119929:[[82],256],119930:[[83],256],119931:[[84],256],119932:[[85],256],119933:[[86],256],119934:[[87],256],119935:[[88],256],119936:[[89],256],119937:[[90],256],119938:[[97],256],119939:[[98],256],119940:[[99],256],119941:[[100],256],119942:[[101],256],119943:[[102],256],119944:[[103],256],119945:[[104],256],119946:[[105],256],119947:[[106],256],119948:[[107],256],119949:[[108],256],119950:[[109],256],119951:[[110],256],119952:[[111],256],119953:[[112],256],119954:[[113],256],119955:[[114],256],119956:[[115],256],119957:[[116],256],119958:[[117],256],119959:[[118],256],119960:[[119],256],119961:[[120],256],119962:[[121],256],119963:[[122],256],119964:[[65],256],119966:[[67],256],119967:[[68],256],119970:[[71],256],119973:[[74],256],119974:[[75],256],119977:[[78],256],119978:[[79],256],119979:[[80],256],119980:[[81],256],119982:[[83],256],119983:[[84],256],119984:[[85],256],119985:[[86],256],119986:[[87],256],119987:[[88],256],119988:[[89],256],119989:[[90],256],119990:[[97],256],119991:[[98],256],119992:[[99],256],119993:[[100],256],119995:[[102],256],119997:[[104],256],119998:[[105],256],119999:[[106],256],12e4:[[107],256],120001:[[108],256],120002:[[109],256],120003:[[110],256],120005:[[112],256],120006:[[113],256],120007:[[114],256],120008:[[115],256],120009:[[116],256],120010:[[117],256],120011:[[118],256],120012:[[119],256],120013:[[120],256],120014:[[121],256],120015:[[122],256],120016:[[65],256],120017:[[66],256],120018:[[67],256],120019:[[68],256],120020:[[69],256],120021:[[70],256],120022:[[71],256],120023:[[72],256],120024:[[73],256],120025:[[74],256],120026:[[75],256],120027:[[76],256],120028:[[77],256],120029:[[78],256],120030:[[79],256],120031:[[80],256],120032:[[81],256],120033:[[82],256],120034:[[83],256],120035:[[84],256],120036:[[85],256],120037:[[86],256],120038:[[87],256],120039:[[88],256],120040:[[89],256],120041:[[90],256],120042:[[97],256],120043:[[98],256],120044:[[99],256],120045:[[100],256],120046:[[101],256],120047:[[102],256],120048:[[103],256],120049:[[104],256],120050:[[105],256],120051:[[106],256],120052:[[107],256],120053:[[108],256],120054:[[109],256],120055:[[110],256],120056:[[111],256],120057:[[112],256],120058:[[113],256],120059:[[114],256],120060:[[115],256],120061:[[116],256],120062:[[117],256],120063:[[118],256]},54528:{120064:[[119],256],120065:[[120],256],120066:[[121],256],120067:[[122],256],120068:[[65],256],120069:[[66],256],120071:[[68],256],120072:[[69],256],120073:[[70],256],120074:[[71],256],120077:[[74],256],120078:[[75],256],120079:[[76],256],120080:[[77],256],120081:[[78],256],120082:[[79],256],120083:[[80],256],120084:[[81],256],120086:[[83],256],120087:[[84],256],120088:[[85],256],120089:[[86],256],120090:[[87],256],120091:[[88],256],120092:[[89],256],120094:[[97],256],120095:[[98],256],120096:[[99],256],120097:[[100],256],120098:[[101],256],120099:[[102],256],120100:[[103],256],120101:[[104],256],120102:[[105],256],120103:[[106],256],120104:[[107],256],120105:[[108],256],120106:[[109],256],120107:[[110],256],120108:[[111],256],120109:[[112],256],120110:[[113],256],120111:[[114],256],120112:[[115],256],120113:[[116],256],120114:[[117],256],120115:[[118],256],120116:[[119],256],120117:[[120],256],120118:[[121],256],120119:[[122],256],120120:[[65],256],120121:[[66],256],120123:[[68],256],120124:[[69],256],120125:[[70],256],120126:[[71],256],120128:[[73],256],120129:[[74],256],120130:[[75],256],120131:[[76],256],120132:[[77],256],120134:[[79],256],120138:[[83],256],120139:[[84],256],120140:[[85],256],120141:[[86],256],120142:[[87],256],120143:[[88],256],120144:[[89],256],120146:[[97],256],120147:[[98],256],120148:[[99],256],120149:[[100],256],120150:[[101],256],120151:[[102],256],120152:[[103],256],120153:[[104],256],120154:[[105],256],120155:[[106],256],120156:[[107],256],120157:[[108],256],120158:[[109],256],120159:[[110],256],120160:[[111],256],120161:[[112],256],120162:[[113],256],120163:[[114],256],120164:[[115],256],120165:[[116],256],120166:[[117],256],120167:[[118],256],120168:[[119],256],120169:[[120],256],120170:[[121],256],120171:[[122],256],120172:[[65],256],120173:[[66],256],120174:[[67],256],120175:[[68],256],120176:[[69],256],120177:[[70],256],120178:[[71],256],120179:[[72],256],120180:[[73],256],120181:[[74],256],120182:[[75],256],120183:[[76],256],120184:[[77],256],120185:[[78],256],120186:[[79],256],120187:[[80],256],120188:[[81],256],120189:[[82],256],120190:[[83],256],120191:[[84],256],120192:[[85],256],120193:[[86],256],120194:[[87],256],120195:[[88],256],120196:[[89],256],120197:[[90],256],120198:[[97],256],120199:[[98],256],120200:[[99],256],120201:[[100],256],120202:[[101],256],120203:[[102],256],120204:[[103],256],120205:[[104],256],120206:[[105],256],120207:[[106],256],120208:[[107],256],120209:[[108],256],120210:[[109],256],120211:[[110],256],120212:[[111],256],120213:[[112],256],120214:[[113],256],120215:[[114],256],120216:[[115],256],120217:[[116],256],120218:[[117],256],120219:[[118],256],120220:[[119],256],120221:[[120],256],120222:[[121],256],120223:[[122],256],120224:[[65],256],120225:[[66],256],120226:[[67],256],120227:[[68],256],120228:[[69],256],120229:[[70],256],120230:[[71],256],120231:[[72],256],120232:[[73],256],120233:[[74],256],120234:[[75],256],120235:[[76],256],120236:[[77],256],120237:[[78],256],120238:[[79],256],120239:[[80],256],120240:[[81],256],120241:[[82],256],120242:[[83],256],120243:[[84],256],120244:[[85],256],120245:[[86],256],120246:[[87],256],120247:[[88],256],120248:[[89],256],120249:[[90],256],120250:[[97],256],120251:[[98],256],120252:[[99],256],120253:[[100],256],120254:[[101],256],120255:[[102],256],120256:[[103],256],120257:[[104],256],120258:[[105],256],120259:[[106],256],120260:[[107],256],120261:[[108],256],120262:[[109],256],120263:[[110],256],120264:[[111],256],120265:[[112],256],120266:[[113],256],120267:[[114],256],120268:[[115],256],120269:[[116],256],120270:[[117],256],120271:[[118],256],120272:[[119],256],120273:[[120],256],120274:[[121],256],120275:[[122],256],120276:[[65],256],120277:[[66],256],120278:[[67],256],120279:[[68],256],120280:[[69],256],120281:[[70],256],120282:[[71],256],120283:[[72],256],120284:[[73],256],120285:[[74],256],120286:[[75],256],120287:[[76],256],120288:[[77],256],120289:[[78],256],120290:[[79],256],120291:[[80],256],120292:[[81],256],120293:[[82],256],120294:[[83],256],120295:[[84],256],120296:[[85],256],120297:[[86],256],120298:[[87],256],120299:[[88],256],120300:[[89],256],120301:[[90],256],120302:[[97],256],120303:[[98],256],120304:[[99],256],120305:[[100],256],120306:[[101],256],120307:[[102],256],120308:[[103],256],120309:[[104],256],120310:[[105],256],120311:[[106],256],120312:[[107],256],120313:[[108],256],120314:[[109],256],120315:[[110],256],120316:[[111],256],120317:[[112],256],120318:[[113],256],120319:[[114],256]},54784:{120320:[[115],256],120321:[[116],256],120322:[[117],256],120323:[[118],256],120324:[[119],256],120325:[[120],256],120326:[[121],256],120327:[[122],256],120328:[[65],256],120329:[[66],256],120330:[[67],256],120331:[[68],256],120332:[[69],256],120333:[[70],256],120334:[[71],256],120335:[[72],256],120336:[[73],256],120337:[[74],256],120338:[[75],256],120339:[[76],256],120340:[[77],256],120341:[[78],256],120342:[[79],256],120343:[[80],256],120344:[[81],256],120345:[[82],256],120346:[[83],256],120347:[[84],256],120348:[[85],256],120349:[[86],256],120350:[[87],256],120351:[[88],256],120352:[[89],256],120353:[[90],256],120354:[[97],256],120355:[[98],256],120356:[[99],256],120357:[[100],256],120358:[[101],256],120359:[[102],256],120360:[[103],256],120361:[[104],256],120362:[[105],256],120363:[[106],256],120364:[[107],256],120365:[[108],256],120366:[[109],256],120367:[[110],256],120368:[[111],256],120369:[[112],256],120370:[[113],256],120371:[[114],256],120372:[[115],256],120373:[[116],256],120374:[[117],256],120375:[[118],256],120376:[[119],256],120377:[[120],256],120378:[[121],256],120379:[[122],256],120380:[[65],256],120381:[[66],256],120382:[[67],256],120383:[[68],256],120384:[[69],256],120385:[[70],256],120386:[[71],256],120387:[[72],256],120388:[[73],256],120389:[[74],256],120390:[[75],256],120391:[[76],256],120392:[[77],256],120393:[[78],256],120394:[[79],256],120395:[[80],256],120396:[[81],256],120397:[[82],256],120398:[[83],256],120399:[[84],256],120400:[[85],256],120401:[[86],256],120402:[[87],256],120403:[[88],256],120404:[[89],256],120405:[[90],256],120406:[[97],256],120407:[[98],256],120408:[[99],256],120409:[[100],256],120410:[[101],256],120411:[[102],256],120412:[[103],256],120413:[[104],256],120414:[[105],256],120415:[[106],256],120416:[[107],256],120417:[[108],256],120418:[[109],256],120419:[[110],256],120420:[[111],256],120421:[[112],256],120422:[[113],256],120423:[[114],256],120424:[[115],256],120425:[[116],256],120426:[[117],256],120427:[[118],256],120428:[[119],256],120429:[[120],256],120430:[[121],256],120431:[[122],256],120432:[[65],256],120433:[[66],256],120434:[[67],256],120435:[[68],256],120436:[[69],256],120437:[[70],256],120438:[[71],256],120439:[[72],256],120440:[[73],256],120441:[[74],256],120442:[[75],256],120443:[[76],256],120444:[[77],256],120445:[[78],256],120446:[[79],256],120447:[[80],256],120448:[[81],256],120449:[[82],256],120450:[[83],256],120451:[[84],256],120452:[[85],256],120453:[[86],256],120454:[[87],256],120455:[[88],256],120456:[[89],256],120457:[[90],256],120458:[[97],256],120459:[[98],256],120460:[[99],256],120461:[[100],256],120462:[[101],256],120463:[[102],256],120464:[[103],256],120465:[[104],256],120466:[[105],256],120467:[[106],256],120468:[[107],256],120469:[[108],256],120470:[[109],256],120471:[[110],256],120472:[[111],256],120473:[[112],256],120474:[[113],256],120475:[[114],256],120476:[[115],256],120477:[[116],256],120478:[[117],256],120479:[[118],256],120480:[[119],256],120481:[[120],256],120482:[[121],256],120483:[[122],256],120484:[[305],256],120485:[[567],256],120488:[[913],256],120489:[[914],256],120490:[[915],256],120491:[[916],256],120492:[[917],256],120493:[[918],256],120494:[[919],256],120495:[[920],256],120496:[[921],256],120497:[[922],256],120498:[[923],256],120499:[[924],256],120500:[[925],256],120501:[[926],256],120502:[[927],256],120503:[[928],256],120504:[[929],256],120505:[[1012],256],120506:[[931],256],120507:[[932],256],120508:[[933],256],120509:[[934],256],120510:[[935],256],120511:[[936],256],120512:[[937],256],120513:[[8711],256],120514:[[945],256],120515:[[946],256],120516:[[947],256],120517:[[948],256],120518:[[949],256],120519:[[950],256],120520:[[951],256],120521:[[952],256],120522:[[953],256],120523:[[954],256],120524:[[955],256],120525:[[956],256],120526:[[957],256],120527:[[958],256],120528:[[959],256],120529:[[960],256],120530:[[961],256],120531:[[962],256],120532:[[963],256],120533:[[964],256],120534:[[965],256],120535:[[966],256],120536:[[967],256],120537:[[968],256],120538:[[969],256],120539:[[8706],256],120540:[[1013],256],120541:[[977],256],120542:[[1008],256],120543:[[981],256],120544:[[1009],256],120545:[[982],256],120546:[[913],256],120547:[[914],256],120548:[[915],256],120549:[[916],256],120550:[[917],256],120551:[[918],256],120552:[[919],256],120553:[[920],256],120554:[[921],256],120555:[[922],256],120556:[[923],256],120557:[[924],256],120558:[[925],256],120559:[[926],256],120560:[[927],256],120561:[[928],256],120562:[[929],256],120563:[[1012],256],120564:[[931],256],120565:[[932],256],120566:[[933],256],120567:[[934],256],120568:[[935],256],120569:[[936],256],120570:[[937],256],120571:[[8711],256],120572:[[945],256],120573:[[946],256],120574:[[947],256],120575:[[948],256]},55040:{120576:[[949],256],120577:[[950],256],120578:[[951],256],120579:[[952],256],120580:[[953],256],120581:[[954],256],120582:[[955],256],120583:[[956],256],120584:[[957],256],120585:[[958],256],120586:[[959],256],120587:[[960],256],120588:[[961],256],120589:[[962],256],120590:[[963],256],120591:[[964],256],120592:[[965],256],120593:[[966],256],120594:[[967],256],120595:[[968],256],120596:[[969],256],120597:[[8706],256],120598:[[1013],256],120599:[[977],256],120600:[[1008],256],120601:[[981],256],120602:[[1009],256],120603:[[982],256],120604:[[913],256],120605:[[914],256],120606:[[915],256],120607:[[916],256],120608:[[917],256],120609:[[918],256],120610:[[919],256],120611:[[920],256],120612:[[921],256],120613:[[922],256],120614:[[923],256],120615:[[924],256],120616:[[925],256],120617:[[926],256],120618:[[927],256],120619:[[928],256],120620:[[929],256],120621:[[1012],256],120622:[[931],256],120623:[[932],256],120624:[[933],256],120625:[[934],256],120626:[[935],256],120627:[[936],256],120628:[[937],256],120629:[[8711],256],120630:[[945],256],120631:[[946],256],120632:[[947],256],120633:[[948],256],120634:[[949],256],120635:[[950],256],120636:[[951],256],120637:[[952],256],120638:[[953],256],120639:[[954],256],120640:[[955],256],120641:[[956],256],120642:[[957],256],120643:[[958],256],120644:[[959],256],120645:[[960],256],120646:[[961],256],120647:[[962],256],120648:[[963],256],120649:[[964],256],120650:[[965],256],120651:[[966],256],120652:[[967],256],120653:[[968],256],120654:[[969],256],120655:[[8706],256],120656:[[1013],256],120657:[[977],256],120658:[[1008],256],120659:[[981],256],120660:[[1009],256],120661:[[982],256],120662:[[913],256],120663:[[914],256],120664:[[915],256],120665:[[916],256],120666:[[917],256],120667:[[918],256],120668:[[919],256],120669:[[920],256],120670:[[921],256],120671:[[922],256],120672:[[923],256],120673:[[924],256],120674:[[925],256],120675:[[926],256],120676:[[927],256],120677:[[928],256],120678:[[929],256],120679:[[1012],256],120680:[[931],256],120681:[[932],256],120682:[[933],256],120683:[[934],256],120684:[[935],256],120685:[[936],256],120686:[[937],256],120687:[[8711],256],120688:[[945],256],120689:[[946],256],120690:[[947],256],120691:[[948],256],120692:[[949],256],120693:[[950],256],120694:[[951],256],120695:[[952],256],120696:[[953],256],120697:[[954],256],120698:[[955],256],120699:[[956],256],120700:[[957],256],120701:[[958],256],120702:[[959],256],120703:[[960],256],120704:[[961],256],120705:[[962],256],120706:[[963],256],120707:[[964],256],120708:[[965],256],120709:[[966],256],120710:[[967],256],120711:[[968],256],120712:[[969],256],120713:[[8706],256],120714:[[1013],256],120715:[[977],256],120716:[[1008],256],120717:[[981],256],120718:[[1009],256],120719:[[982],256],120720:[[913],256],120721:[[914],256],120722:[[915],256],120723:[[916],256],120724:[[917],256],120725:[[918],256],120726:[[919],256],120727:[[920],256],120728:[[921],256],120729:[[922],256],120730:[[923],256],120731:[[924],256],120732:[[925],256],120733:[[926],256],120734:[[927],256],120735:[[928],256],120736:[[929],256],120737:[[1012],256],120738:[[931],256],120739:[[932],256],120740:[[933],256],120741:[[934],256],120742:[[935],256],120743:[[936],256],120744:[[937],256],120745:[[8711],256],120746:[[945],256],120747:[[946],256],120748:[[947],256],120749:[[948],256],120750:[[949],256],120751:[[950],256],120752:[[951],256],120753:[[952],256],120754:[[953],256],120755:[[954],256],120756:[[955],256],120757:[[956],256],120758:[[957],256],120759:[[958],256],120760:[[959],256],120761:[[960],256],120762:[[961],256],120763:[[962],256],120764:[[963],256],120765:[[964],256],120766:[[965],256],120767:[[966],256],120768:[[967],256],120769:[[968],256],120770:[[969],256],120771:[[8706],256],120772:[[1013],256],120773:[[977],256],120774:[[1008],256],120775:[[981],256],120776:[[1009],256],120777:[[982],256],120778:[[988],256],120779:[[989],256],120782:[[48],256],120783:[[49],256],120784:[[50],256],120785:[[51],256],120786:[[52],256],120787:[[53],256],120788:[[54],256],120789:[[55],256],120790:[[56],256],120791:[[57],256],120792:[[48],256],120793:[[49],256],120794:[[50],256],120795:[[51],256],120796:[[52],256],120797:[[53],256],120798:[[54],256],120799:[[55],256],120800:[[56],256],120801:[[57],256],120802:[[48],256],120803:[[49],256],120804:[[50],256],120805:[[51],256],120806:[[52],256],120807:[[53],256],120808:[[54],256],120809:[[55],256],120810:[[56],256],120811:[[57],256],120812:[[48],256],120813:[[49],256],120814:[[50],256],120815:[[51],256],120816:[[52],256],120817:[[53],256],120818:[[54],256],120819:[[55],256],120820:[[56],256],120821:[[57],256],120822:[[48],256],120823:[[49],256],120824:[[50],256],120825:[[51],256],120826:[[52],256],120827:[[53],256],120828:[[54],256],120829:[[55],256],120830:[[56],256],120831:[[57],256]},59392:{125136:[,220],125137:[,220],125138:[,220],125139:[,220],125140:[,220],125141:[,220],125142:[,220]},60928:{126464:[[1575],256],126465:[[1576],256],126466:[[1580],256],126467:[[1583],256],126469:[[1608],256],126470:[[1586],256],126471:[[1581],256],126472:[[1591],256],126473:[[1610],256],126474:[[1603],256],126475:[[1604],256],126476:[[1605],256],126477:[[1606],256],126478:[[1587],256],126479:[[1593],256],126480:[[1601],256],126481:[[1589],256],126482:[[1602],256],126483:[[1585],256],126484:[[1588],256],126485:[[1578],256],126486:[[1579],256],126487:[[1582],256],126488:[[1584],256],126489:[[1590],256],126490:[[1592],256],126491:[[1594],256],126492:[[1646],256],126493:[[1722],256],126494:[[1697],256],126495:[[1647],256],126497:[[1576],256],126498:[[1580],256],126500:[[1607],256],126503:[[1581],256],126505:[[1610],256],126506:[[1603],256],126507:[[1604],256],126508:[[1605],256],126509:[[1606],256],126510:[[1587],256],126511:[[1593],256],126512:[[1601],256],126513:[[1589],256],126514:[[1602],256],126516:[[1588],256],126517:[[1578],256],126518:[[1579],256],126519:[[1582],256],126521:[[1590],256],126523:[[1594],256],126530:[[1580],256],126535:[[1581],256],126537:[[1610],256],126539:[[1604],256],126541:[[1606],256],126542:[[1587],256],126543:[[1593],256],126545:[[1589],256],126546:[[1602],256],126548:[[1588],256],126551:[[1582],256],126553:[[1590],256],126555:[[1594],256],126557:[[1722],256],126559:[[1647],256],126561:[[1576],256],126562:[[1580],256],126564:[[1607],256],126567:[[1581],256],126568:[[1591],256],126569:[[1610],256],126570:[[1603],256],126572:[[1605],256],126573:[[1606],256],126574:[[1587],256],126575:[[1593],256],126576:[[1601],256],126577:[[1589],256],126578:[[1602],256],126580:[[1588],256],126581:[[1578],256],126582:[[1579],256],126583:[[1582],256],126585:[[1590],256],126586:[[1592],256],126587:[[1594],256],126588:[[1646],256],126590:[[1697],256],126592:[[1575],256],126593:[[1576],256],126594:[[1580],256],126595:[[1583],256],126596:[[1607],256],126597:[[1608],256],126598:[[1586],256],126599:[[1581],256],126600:[[1591],256],126601:[[1610],256],126603:[[1604],256],126604:[[1605],256],126605:[[1606],256],126606:[[1587],256],126607:[[1593],256],126608:[[1601],256],126609:[[1589],256],126610:[[1602],256],126611:[[1585],256],126612:[[1588],256],126613:[[1578],256],126614:[[1579],256],126615:[[1582],256],126616:[[1584],256],126617:[[1590],256],126618:[[1592],256],126619:[[1594],256],126625:[[1576],256],126626:[[1580],256],126627:[[1583],256],126629:[[1608],256],126630:[[1586],256],126631:[[1581],256],126632:[[1591],256],126633:[[1610],256],126635:[[1604],256],126636:[[1605],256],126637:[[1606],256],126638:[[1587],256],126639:[[1593],256],126640:[[1601],256],126641:[[1589],256],126642:[[1602],256],126643:[[1585],256],126644:[[1588],256],126645:[[1578],256],126646:[[1579],256],126647:[[1582],256],126648:[[1584],256],126649:[[1590],256],126650:[[1592],256],126651:[[1594],256]},61696:{127232:[[48,46],256],127233:[[48,44],256],127234:[[49,44],256],127235:[[50,44],256],127236:[[51,44],256],127237:[[52,44],256],127238:[[53,44],256],127239:[[54,44],256],127240:[[55,44],256],127241:[[56,44],256],127242:[[57,44],256],127248:[[40,65,41],256],127249:[[40,66,41],256],127250:[[40,67,41],256],127251:[[40,68,41],256],127252:[[40,69,41],256],127253:[[40,70,41],256],127254:[[40,71,41],256],127255:[[40,72,41],256],127256:[[40,73,41],256],127257:[[40,74,41],256],127258:[[40,75,41],256],127259:[[40,76,41],256],127260:[[40,77,41],256],127261:[[40,78,41],256],127262:[[40,79,41],256],127263:[[40,80,41],256],127264:[[40,81,41],256],127265:[[40,82,41],256],127266:[[40,83,41],256],127267:[[40,84,41],256],127268:[[40,85,41],256],127269:[[40,86,41],256],127270:[[40,87,41],256],127271:[[40,88,41],256],127272:[[40,89,41],256],127273:[[40,90,41],256],127274:[[12308,83,12309],256],127275:[[67],256],127276:[[82],256],127277:[[67,68],256],127278:[[87,90],256],127280:[[65],256],127281:[[66],256],127282:[[67],256],127283:[[68],256],127284:[[69],256],127285:[[70],256],127286:[[71],256],127287:[[72],256],127288:[[73],256],127289:[[74],256],127290:[[75],256],127291:[[76],256],127292:[[77],256],127293:[[78],256],127294:[[79],256],127295:[[80],256],127296:[[81],256],127297:[[82],256],127298:[[83],256],127299:[[84],256],127300:[[85],256],127301:[[86],256],127302:[[87],256],127303:[[88],256],127304:[[89],256],127305:[[90],256],127306:[[72,86],256],127307:[[77,86],256],127308:[[83,68],256],127309:[[83,83],256],127310:[[80,80,86],256],127311:[[87,67],256],127338:[[77,67],256],127339:[[77,68],256],127376:[[68,74],256]},61952:{127488:[[12411,12363],256],127489:[[12467,12467],256],127490:[[12469],256],127504:[[25163],256],127505:[[23383],256],127506:[[21452],256],127507:[[12487],256],127508:[[20108],256],127509:[[22810],256],127510:[[35299],256],127511:[[22825],256],127512:[[20132],256],127513:[[26144],256],127514:[[28961],256],127515:[[26009],256],127516:[[21069],256],127517:[[24460],256],127518:[[20877],256],127519:[[26032],256],127520:[[21021],256],127521:[[32066],256],127522:[[29983],256],127523:[[36009],256],127524:[[22768],256],127525:[[21561],256],127526:[[28436],256],127527:[[25237],256],127528:[[25429],256],127529:[[19968],256],127530:[[19977],256],127531:[[36938],256],127532:[[24038],256],127533:[[20013],256],127534:[[21491],256],127535:[[25351],256],127536:[[36208],256],127537:[[25171],256],127538:[[31105],256],127539:[[31354],256],127540:[[21512],256],127541:[[28288],256],127542:[[26377],256],127543:[[26376],256],127544:[[30003],256],127545:[[21106],256],127546:[[21942],256],127552:[[12308,26412,12309],256],127553:[[12308,19977,12309],256],127554:[[12308,20108,12309],256],127555:[[12308,23433,12309],256],127556:[[12308,28857,12309],256],127557:[[12308,25171,12309],256],127558:[[12308,30423,12309],256],127559:[[12308,21213,12309],256],127560:[[12308,25943,12309],256],127568:[[24471],256],127569:[[21487],256]},63488:{194560:[[20029]],194561:[[20024]],194562:[[20033]],194563:[[131362]],194564:[[20320]],194565:[[20398]],194566:[[20411]],194567:[[20482]],194568:[[20602]],194569:[[20633]],194570:[[20711]],194571:[[20687]],194572:[[13470]],194573:[[132666]],194574:[[20813]],194575:[[20820]],194576:[[20836]],194577:[[20855]],194578:[[132380]],194579:[[13497]],194580:[[20839]],194581:[[20877]],194582:[[132427]],194583:[[20887]],194584:[[20900]],194585:[[20172]],194586:[[20908]],194587:[[20917]],194588:[[168415]],194589:[[20981]],194590:[[20995]],194591:[[13535]],194592:[[21051]],194593:[[21062]],194594:[[21106]],194595:[[21111]],194596:[[13589]],194597:[[21191]],194598:[[21193]],194599:[[21220]],194600:[[21242]],194601:[[21253]],194602:[[21254]],194603:[[21271]],194604:[[21321]],194605:[[21329]],194606:[[21338]],194607:[[21363]],194608:[[21373]],194609:[[21375]],194610:[[21375]],194611:[[21375]],194612:[[133676]],194613:[[28784]],194614:[[21450]],194615:[[21471]],194616:[[133987]],194617:[[21483]],194618:[[21489]],194619:[[21510]],194620:[[21662]],194621:[[21560]],194622:[[21576]],194623:[[21608]],194624:[[21666]],194625:[[21750]],194626:[[21776]],194627:[[21843]],194628:[[21859]],194629:[[21892]],194630:[[21892]],194631:[[21913]],194632:[[21931]],194633:[[21939]],194634:[[21954]],194635:[[22294]],194636:[[22022]],194637:[[22295]],194638:[[22097]],194639:[[22132]],194640:[[20999]],194641:[[22766]],194642:[[22478]],194643:[[22516]],194644:[[22541]],194645:[[22411]],194646:[[22578]],194647:[[22577]],194648:[[22700]],194649:[[136420]],194650:[[22770]],194651:[[22775]],194652:[[22790]],194653:[[22810]],194654:[[22818]],194655:[[22882]],194656:[[136872]],194657:[[136938]],194658:[[23020]],194659:[[23067]],194660:[[23079]],194661:[[23e3]],194662:[[23142]],194663:[[14062]],194664:[[14076]],194665:[[23304]],194666:[[23358]],194667:[[23358]],194668:[[137672]],194669:[[23491]],194670:[[23512]],194671:[[23527]],194672:[[23539]],194673:[[138008]],194674:[[23551]],194675:[[23558]],194676:[[24403]],194677:[[23586]],194678:[[14209]],194679:[[23648]],194680:[[23662]],194681:[[23744]],194682:[[23693]],194683:[[138724]],194684:[[23875]],194685:[[138726]],194686:[[23918]],194687:[[23915]],194688:[[23932]],194689:[[24033]],194690:[[24034]],194691:[[14383]],194692:[[24061]],194693:[[24104]],194694:[[24125]],194695:[[24169]],194696:[[14434]],194697:[[139651]],194698:[[14460]],194699:[[24240]],194700:[[24243]],194701:[[24246]],194702:[[24266]],194703:[[172946]],194704:[[24318]],194705:[[140081]],194706:[[140081]],194707:[[33281]],194708:[[24354]],194709:[[24354]],194710:[[14535]],194711:[[144056]],194712:[[156122]],194713:[[24418]],194714:[[24427]],194715:[[14563]],194716:[[24474]],194717:[[24525]],194718:[[24535]],194719:[[24569]],194720:[[24705]],194721:[[14650]],194722:[[14620]],194723:[[24724]],194724:[[141012]],194725:[[24775]],194726:[[24904]],194727:[[24908]],194728:[[24910]],194729:[[24908]],194730:[[24954]],194731:[[24974]],194732:[[25010]],194733:[[24996]],194734:[[25007]],194735:[[25054]],194736:[[25074]],194737:[[25078]],194738:[[25104]],194739:[[25115]],194740:[[25181]],194741:[[25265]],194742:[[25300]],194743:[[25424]],194744:[[142092]],194745:[[25405]],194746:[[25340]],194747:[[25448]],194748:[[25475]],194749:[[25572]],194750:[[142321]],194751:[[25634]],194752:[[25541]],194753:[[25513]],194754:[[14894]],194755:[[25705]],194756:[[25726]],194757:[[25757]],194758:[[25719]],194759:[[14956]],194760:[[25935]],194761:[[25964]],194762:[[143370]],194763:[[26083]],194764:[[26360]],194765:[[26185]],194766:[[15129]],194767:[[26257]],194768:[[15112]],194769:[[15076]],194770:[[20882]],194771:[[20885]],194772:[[26368]],194773:[[26268]],194774:[[32941]],194775:[[17369]],194776:[[26391]],194777:[[26395]],194778:[[26401]],194779:[[26462]],194780:[[26451]],194781:[[144323]],194782:[[15177]],194783:[[26618]],194784:[[26501]],194785:[[26706]],194786:[[26757]],194787:[[144493]],194788:[[26766]],194789:[[26655]],194790:[[26900]],194791:[[15261]],194792:[[26946]],194793:[[27043]],194794:[[27114]],194795:[[27304]],194796:[[145059]],194797:[[27355]],194798:[[15384]],194799:[[27425]],194800:[[145575]],194801:[[27476]],194802:[[15438]],194803:[[27506]],194804:[[27551]],194805:[[27578]],194806:[[27579]],194807:[[146061]],194808:[[138507]],194809:[[146170]],194810:[[27726]],194811:[[146620]],194812:[[27839]],194813:[[27853]],194814:[[27751]],194815:[[27926]]},63744:{63744:[[35912]],63745:[[26356]],63746:[[36554]],63747:[[36040]],63748:[[28369]],63749:[[20018]],63750:[[21477]],63751:[[40860]],63752:[[40860]],63753:[[22865]],63754:[[37329]],63755:[[21895]],63756:[[22856]],63757:[[25078]],63758:[[30313]],63759:[[32645]],63760:[[34367]],63761:[[34746]],63762:[[35064]],63763:[[37007]],63764:[[27138]],63765:[[27931]],63766:[[28889]],63767:[[29662]],63768:[[33853]],63769:[[37226]],63770:[[39409]],63771:[[20098]],63772:[[21365]],63773:[[27396]],63774:[[29211]],63775:[[34349]],63776:[[40478]],63777:[[23888]],63778:[[28651]],63779:[[34253]],63780:[[35172]],63781:[[25289]],63782:[[33240]],63783:[[34847]],63784:[[24266]],63785:[[26391]],63786:[[28010]],63787:[[29436]],63788:[[37070]],63789:[[20358]],63790:[[20919]],63791:[[21214]],63792:[[25796]],63793:[[27347]],63794:[[29200]],63795:[[30439]],63796:[[32769]],63797:[[34310]],63798:[[34396]],63799:[[36335]],63800:[[38706]],63801:[[39791]],63802:[[40442]],63803:[[30860]],63804:[[31103]],63805:[[32160]],63806:[[33737]],63807:[[37636]],63808:[[40575]],63809:[[35542]],63810:[[22751]],63811:[[24324]],63812:[[31840]],63813:[[32894]],63814:[[29282]],63815:[[30922]],63816:[[36034]],63817:[[38647]],63818:[[22744]],63819:[[23650]],63820:[[27155]],63821:[[28122]],63822:[[28431]],63823:[[32047]],63824:[[32311]],63825:[[38475]],63826:[[21202]],63827:[[32907]],63828:[[20956]],63829:[[20940]],63830:[[31260]],63831:[[32190]],63832:[[33777]],63833:[[38517]],63834:[[35712]],63835:[[25295]],63836:[[27138]],63837:[[35582]],63838:[[20025]],63839:[[23527]],63840:[[24594]],63841:[[29575]],63842:[[30064]],63843:[[21271]],63844:[[30971]],63845:[[20415]],63846:[[24489]],63847:[[19981]],63848:[[27852]],63849:[[25976]],63850:[[32034]],63851:[[21443]],63852:[[22622]],63853:[[30465]],63854:[[33865]],63855:[[35498]],63856:[[27578]],63857:[[36784]],63858:[[27784]],63859:[[25342]],63860:[[33509]],63861:[[25504]],63862:[[30053]],63863:[[20142]],63864:[[20841]],63865:[[20937]],63866:[[26753]],63867:[[31975]],63868:[[33391]],63869:[[35538]],63870:[[37327]],63871:[[21237]],63872:[[21570]],63873:[[22899]],63874:[[24300]],63875:[[26053]],63876:[[28670]],63877:[[31018]],63878:[[38317]],63879:[[39530]],63880:[[40599]],63881:[[40654]],63882:[[21147]],63883:[[26310]],63884:[[27511]],63885:[[36706]],63886:[[24180]],63887:[[24976]],63888:[[25088]],63889:[[25754]],63890:[[28451]],63891:[[29001]],63892:[[29833]],63893:[[31178]],63894:[[32244]],63895:[[32879]],63896:[[36646]],63897:[[34030]],63898:[[36899]],63899:[[37706]],63900:[[21015]],63901:[[21155]],63902:[[21693]],63903:[[28872]],63904:[[35010]],63905:[[35498]],63906:[[24265]],63907:[[24565]],63908:[[25467]],63909:[[27566]],63910:[[31806]],63911:[[29557]],63912:[[20196]],63913:[[22265]],63914:[[23527]],63915:[[23994]],63916:[[24604]],63917:[[29618]],63918:[[29801]],63919:[[32666]],63920:[[32838]],63921:[[37428]],63922:[[38646]],63923:[[38728]],63924:[[38936]],63925:[[20363]],63926:[[31150]],63927:[[37300]],63928:[[38584]],63929:[[24801]],63930:[[20102]],63931:[[20698]],63932:[[23534]],63933:[[23615]],63934:[[26009]],63935:[[27138]],63936:[[29134]],63937:[[30274]],63938:[[34044]],63939:[[36988]],63940:[[40845]],63941:[[26248]],63942:[[38446]],63943:[[21129]],63944:[[26491]],63945:[[26611]],63946:[[27969]],63947:[[28316]],63948:[[29705]],63949:[[30041]],63950:[[30827]],63951:[[32016]],63952:[[39006]],63953:[[20845]],63954:[[25134]],63955:[[38520]],63956:[[20523]],63957:[[23833]],63958:[[28138]],63959:[[36650]],63960:[[24459]],63961:[[24900]],63962:[[26647]],63963:[[29575]],63964:[[38534]],63965:[[21033]],63966:[[21519]],63967:[[23653]],63968:[[26131]],63969:[[26446]],63970:[[26792]],63971:[[27877]],63972:[[29702]],63973:[[30178]],63974:[[32633]],63975:[[35023]],63976:[[35041]],63977:[[37324]],63978:[[38626]],63979:[[21311]],63980:[[28346]],63981:[[21533]],63982:[[29136]],63983:[[29848]],63984:[[34298]],63985:[[38563]],63986:[[40023]],63987:[[40607]],63988:[[26519]],63989:[[28107]],63990:[[33256]],63991:[[31435]],63992:[[31520]],63993:[[31890]],63994:[[29376]],63995:[[28825]],63996:[[35672]],63997:[[20160]],63998:[[33590]],63999:[[21050]],194816:[[27966]],194817:[[28023]],194818:[[27969]],194819:[[28009]],194820:[[28024]],194821:[[28037]],194822:[[146718]],194823:[[27956]],194824:[[28207]],194825:[[28270]],194826:[[15667]],194827:[[28363]],194828:[[28359]],194829:[[147153]],194830:[[28153]],194831:[[28526]],194832:[[147294]],194833:[[147342]],194834:[[28614]],194835:[[28729]],194836:[[28702]],194837:[[28699]],194838:[[15766]],194839:[[28746]],194840:[[28797]],194841:[[28791]],194842:[[28845]],194843:[[132389]],194844:[[28997]],194845:[[148067]],194846:[[29084]],194847:[[148395]],194848:[[29224]],194849:[[29237]],194850:[[29264]],194851:[[149e3]],194852:[[29312]],194853:[[29333]],194854:[[149301]],194855:[[149524]],194856:[[29562]],194857:[[29579]],194858:[[16044]],194859:[[29605]],194860:[[16056]],194861:[[16056]],194862:[[29767]],194863:[[29788]],194864:[[29809]],194865:[[29829]],194866:[[29898]],194867:[[16155]],194868:[[29988]],194869:[[150582]],194870:[[30014]],194871:[[150674]],194872:[[30064]],194873:[[139679]],194874:[[30224]],194875:[[151457]],194876:[[151480]],194877:[[151620]],194878:[[16380]],194879:[[16392]],194880:[[30452]],194881:[[151795]],194882:[[151794]],194883:[[151833]],194884:[[151859]],194885:[[30494]],194886:[[30495]],194887:[[30495]],194888:[[30538]],194889:[[16441]],194890:[[30603]],194891:[[16454]],194892:[[16534]],194893:[[152605]],194894:[[30798]],194895:[[30860]],194896:[[30924]],194897:[[16611]],194898:[[153126]],194899:[[31062]],194900:[[153242]],194901:[[153285]],194902:[[31119]],194903:[[31211]],194904:[[16687]],194905:[[31296]],194906:[[31306]],194907:[[31311]],194908:[[153980]],194909:[[154279]],194910:[[154279]],194911:[[31470]],194912:[[16898]],194913:[[154539]],194914:[[31686]],194915:[[31689]],194916:[[16935]],194917:[[154752]],194918:[[31954]],194919:[[17056]],194920:[[31976]],194921:[[31971]],194922:[[32e3]],194923:[[155526]],194924:[[32099]],194925:[[17153]],194926:[[32199]],194927:[[32258]],194928:[[32325]],194929:[[17204]],194930:[[156200]],194931:[[156231]],194932:[[17241]],194933:[[156377]],194934:[[32634]],194935:[[156478]],194936:[[32661]],194937:[[32762]],194938:[[32773]],194939:[[156890]],194940:[[156963]],194941:[[32864]],194942:[[157096]],194943:[[32880]],194944:[[144223]],194945:[[17365]],194946:[[32946]],194947:[[33027]],194948:[[17419]],194949:[[33086]],194950:[[23221]],194951:[[157607]],194952:[[157621]],194953:[[144275]],194954:[[144284]],194955:[[33281]],194956:[[33284]],194957:[[36766]],194958:[[17515]],194959:[[33425]],194960:[[33419]],194961:[[33437]],194962:[[21171]],194963:[[33457]],194964:[[33459]],194965:[[33469]],194966:[[33510]],194967:[[158524]],194968:[[33509]],194969:[[33565]],194970:[[33635]],194971:[[33709]],194972:[[33571]],194973:[[33725]],194974:[[33767]],194975:[[33879]],194976:[[33619]],194977:[[33738]],194978:[[33740]],194979:[[33756]],194980:[[158774]],194981:[[159083]],194982:[[158933]],194983:[[17707]],194984:[[34033]],194985:[[34035]],194986:[[34070]],194987:[[160714]],194988:[[34148]],194989:[[159532]],194990:[[17757]],194991:[[17761]],194992:[[159665]],194993:[[159954]],194994:[[17771]],194995:[[34384]],194996:[[34396]],194997:[[34407]],194998:[[34409]],194999:[[34473]],195e3:[[34440]],195001:[[34574]],195002:[[34530]],195003:[[34681]],195004:[[34600]],195005:[[34667]],195006:[[34694]],195007:[[17879]],195008:[[34785]],195009:[[34817]],195010:[[17913]],195011:[[34912]],195012:[[34915]],195013:[[161383]],195014:[[35031]],195015:[[35038]],195016:[[17973]],195017:[[35066]],195018:[[13499]],195019:[[161966]],195020:[[162150]],195021:[[18110]],195022:[[18119]],195023:[[35488]],195024:[[35565]],195025:[[35722]],195026:[[35925]],195027:[[162984]],195028:[[36011]],195029:[[36033]],195030:[[36123]],195031:[[36215]],195032:[[163631]],195033:[[133124]],195034:[[36299]],195035:[[36284]],195036:[[36336]],195037:[[133342]],195038:[[36564]],195039:[[36664]],195040:[[165330]],195041:[[165357]],195042:[[37012]],195043:[[37105]],195044:[[37137]],195045:[[165678]],195046:[[37147]],195047:[[37432]],195048:[[37591]],195049:[[37592]],195050:[[37500]],195051:[[37881]],195052:[[37909]],195053:[[166906]],195054:[[38283]],195055:[[18837]],195056:[[38327]],195057:[[167287]],195058:[[18918]],195059:[[38595]],195060:[[23986]],195061:[[38691]],195062:[[168261]],195063:[[168474]],195064:[[19054]],195065:[[19062]],195066:[[38880]],195067:[[168970]],195068:[[19122]],195069:[[169110]],195070:[[38923]],195071:[[38923]]},64e3:{64e3:[[20999]],64001:[[24230]],64002:[[25299]],64003:[[31958]],64004:[[23429]],64005:[[27934]],64006:[[26292]],64007:[[36667]],64008:[[34892]],64009:[[38477]],64010:[[35211]],64011:[[24275]],64012:[[20800]],64013:[[21952]],64016:[[22618]],64018:[[26228]],64021:[[20958]],64022:[[29482]],64023:[[30410]],64024:[[31036]],64025:[[31070]],64026:[[31077]],64027:[[31119]],64028:[[38742]],64029:[[31934]],64030:[[32701]],64032:[[34322]],64034:[[35576]],64037:[[36920]],64038:[[37117]],64042:[[39151]],64043:[[39164]],64044:[[39208]],64045:[[40372]],64046:[[37086]],64047:[[38583]],64048:[[20398]],64049:[[20711]],64050:[[20813]],64051:[[21193]],64052:[[21220]],64053:[[21329]],64054:[[21917]],64055:[[22022]],64056:[[22120]],64057:[[22592]],64058:[[22696]],64059:[[23652]],64060:[[23662]],64061:[[24724]],64062:[[24936]],64063:[[24974]],64064:[[25074]],64065:[[25935]],64066:[[26082]],64067:[[26257]],64068:[[26757]],64069:[[28023]],64070:[[28186]],64071:[[28450]],64072:[[29038]],64073:[[29227]],64074:[[29730]],64075:[[30865]],64076:[[31038]],64077:[[31049]],64078:[[31048]],64079:[[31056]],64080:[[31062]],64081:[[31069]],64082:[[31117]],64083:[[31118]],64084:[[31296]],64085:[[31361]],64086:[[31680]],64087:[[32244]],64088:[[32265]],64089:[[32321]],64090:[[32626]],64091:[[32773]],64092:[[33261]],64093:[[33401]],64094:[[33401]],64095:[[33879]],64096:[[35088]],64097:[[35222]],64098:[[35585]],64099:[[35641]],64100:[[36051]],64101:[[36104]],64102:[[36790]],64103:[[36920]],64104:[[38627]],64105:[[38911]],64106:[[38971]],64107:[[24693]],64108:[[148206]],64109:[[33304]],64112:[[20006]],64113:[[20917]],64114:[[20840]],64115:[[20352]],64116:[[20805]],64117:[[20864]],64118:[[21191]],64119:[[21242]],64120:[[21917]],64121:[[21845]],64122:[[21913]],64123:[[21986]],64124:[[22618]],64125:[[22707]],64126:[[22852]],64127:[[22868]],64128:[[23138]],64129:[[23336]],64130:[[24274]],64131:[[24281]],64132:[[24425]],64133:[[24493]],64134:[[24792]],64135:[[24910]],64136:[[24840]],64137:[[24974]],64138:[[24928]],64139:[[25074]],64140:[[25140]],64141:[[25540]],64142:[[25628]],64143:[[25682]],64144:[[25942]],64145:[[26228]],64146:[[26391]],64147:[[26395]],64148:[[26454]],64149:[[27513]],64150:[[27578]],64151:[[27969]],64152:[[28379]],64153:[[28363]],64154:[[28450]],64155:[[28702]],64156:[[29038]],64157:[[30631]],64158:[[29237]],64159:[[29359]],64160:[[29482]],64161:[[29809]],64162:[[29958]],64163:[[30011]],64164:[[30237]],64165:[[30239]],64166:[[30410]],64167:[[30427]],64168:[[30452]],64169:[[30538]],64170:[[30528]],64171:[[30924]],64172:[[31409]],64173:[[31680]],64174:[[31867]],64175:[[32091]],64176:[[32244]],64177:[[32574]],64178:[[32773]],64179:[[33618]],64180:[[33775]],64181:[[34681]],64182:[[35137]],64183:[[35206]],64184:[[35222]],64185:[[35519]],64186:[[35576]],64187:[[35531]],64188:[[35585]],64189:[[35582]],64190:[[35565]],64191:[[35641]],64192:[[35722]],64193:[[36104]],64194:[[36664]],64195:[[36978]],64196:[[37273]],64197:[[37494]],64198:[[38524]],64199:[[38627]],64200:[[38742]],64201:[[38875]],64202:[[38911]],64203:[[38923]],64204:[[38971]],64205:[[39698]],64206:[[40860]],64207:[[141386]],64208:[[141380]],64209:[[144341]],64210:[[15261]],64211:[[16408]],64212:[[16441]],64213:[[152137]],64214:[[154832]],64215:[[163539]],64216:[[40771]],64217:[[40846]],195072:[[38953]],195073:[[169398]],195074:[[39138]],195075:[[19251]],195076:[[39209]],195077:[[39335]],195078:[[39362]],195079:[[39422]],195080:[[19406]],195081:[[170800]],195082:[[39698]],195083:[[4e4]],195084:[[40189]],195085:[[19662]],195086:[[19693]],195087:[[40295]],195088:[[172238]],195089:[[19704]],195090:[[172293]],195091:[[172558]],195092:[[172689]],195093:[[40635]],195094:[[19798]],195095:[[40697]],195096:[[40702]],195097:[[40709]],195098:[[40719]],195099:[[40726]],195100:[[40763]],195101:[[173568]]},64256:{64256:[[102,102],256],64257:[[102,105],256],64258:[[102,108],256],64259:[[102,102,105],256],64260:[[102,102,108],256],64261:[[383,116],256],64262:[[115,116],256],64275:[[1396,1398],256],64276:[[1396,1381],256],64277:[[1396,1387],256],64278:[[1406,1398],256],64279:[[1396,1389],256],64285:[[1497,1460],512],64286:[,26],64287:[[1522,1463],512],64288:[[1506],256],64289:[[1488],256],64290:[[1491],256],64291:[[1492],256],64292:[[1499],256],64293:[[1500],256],64294:[[1501],256],64295:[[1512],256],64296:[[1514],256],64297:[[43],256],64298:[[1513,1473],512],64299:[[1513,1474],512],64300:[[64329,1473],512],64301:[[64329,1474],512],64302:[[1488,1463],512],64303:[[1488,1464],512],64304:[[1488,1468],512],64305:[[1489,1468],512],64306:[[1490,1468],512],64307:[[1491,1468],512],64308:[[1492,1468],512],64309:[[1493,1468],512],64310:[[1494,1468],512],64312:[[1496,1468],512],64313:[[1497,1468],512],64314:[[1498,1468],512],64315:[[1499,1468],512],64316:[[1500,1468],512],64318:[[1502,1468],512],64320:[[1504,1468],512],64321:[[1505,1468],512],64323:[[1507,1468],512],64324:[[1508,1468],512],64326:[[1510,1468],512],64327:[[1511,1468],512],64328:[[1512,1468],512],64329:[[1513,1468],512],64330:[[1514,1468],512],64331:[[1493,1465],512],64332:[[1489,1471],512],64333:[[1499,1471],512],64334:[[1508,1471],512],64335:[[1488,1500],256],64336:[[1649],256],64337:[[1649],256],64338:[[1659],256],64339:[[1659],256],64340:[[1659],256],64341:[[1659],256],64342:[[1662],256],64343:[[1662],256],64344:[[1662],256],64345:[[1662],256],64346:[[1664],256],64347:[[1664],256],64348:[[1664],256],64349:[[1664],256],64350:[[1658],256],64351:[[1658],256],64352:[[1658],256],64353:[[1658],256],64354:[[1663],256],64355:[[1663],256],64356:[[1663],256],64357:[[1663],256],64358:[[1657],256],64359:[[1657],256],64360:[[1657],256],64361:[[1657],256],64362:[[1700],256],64363:[[1700],256],64364:[[1700],256],64365:[[1700],256],64366:[[1702],256],64367:[[1702],256],64368:[[1702],256],64369:[[1702],256],64370:[[1668],256],64371:[[1668],256],64372:[[1668],256],64373:[[1668],256],64374:[[1667],256],64375:[[1667],256],64376:[[1667],256],64377:[[1667],256],64378:[[1670],256],64379:[[1670],256],64380:[[1670],256],64381:[[1670],256],64382:[[1671],256],64383:[[1671],256],64384:[[1671],256],64385:[[1671],256],64386:[[1677],256],64387:[[1677],256],64388:[[1676],256],64389:[[1676],256],64390:[[1678],256],64391:[[1678],256],64392:[[1672],256],64393:[[1672],256],64394:[[1688],256],64395:[[1688],256],64396:[[1681],256],64397:[[1681],256],64398:[[1705],256],64399:[[1705],256],64400:[[1705],256],64401:[[1705],256],64402:[[1711],256],64403:[[1711],256],64404:[[1711],256],64405:[[1711],256],64406:[[1715],256],64407:[[1715],256],64408:[[1715],256],64409:[[1715],256],64410:[[1713],256],64411:[[1713],256],64412:[[1713],256],64413:[[1713],256],64414:[[1722],256],64415:[[1722],256],64416:[[1723],256],64417:[[1723],256],64418:[[1723],256],64419:[[1723],256],64420:[[1728],256],64421:[[1728],256],64422:[[1729],256],64423:[[1729],256],64424:[[1729],256],64425:[[1729],256],64426:[[1726],256],64427:[[1726],256],64428:[[1726],256],64429:[[1726],256],64430:[[1746],256],64431:[[1746],256],64432:[[1747],256],64433:[[1747],256],64467:[[1709],256],64468:[[1709],256],64469:[[1709],256],64470:[[1709],256],64471:[[1735],256],64472:[[1735],256],64473:[[1734],256],64474:[[1734],256],64475:[[1736],256],64476:[[1736],256],64477:[[1655],256],64478:[[1739],256],64479:[[1739],256],64480:[[1733],256],64481:[[1733],256],64482:[[1737],256],64483:[[1737],256],64484:[[1744],256],64485:[[1744],256],64486:[[1744],256],64487:[[1744],256],64488:[[1609],256],64489:[[1609],256],64490:[[1574,1575],256],64491:[[1574,1575],256],64492:[[1574,1749],256],64493:[[1574,1749],256],64494:[[1574,1608],256],64495:[[1574,1608],256],64496:[[1574,1735],256],64497:[[1574,1735],256],64498:[[1574,1734],256],64499:[[1574,1734],256],64500:[[1574,1736],256],64501:[[1574,1736],256],64502:[[1574,1744],256],64503:[[1574,1744],256],64504:[[1574,1744],256],64505:[[1574,1609],256],64506:[[1574,1609],256],64507:[[1574,1609],256],64508:[[1740],256],64509:[[1740],256],64510:[[1740],256],64511:[[1740],256]},64512:{64512:[[1574,1580],256],64513:[[1574,1581],256],64514:[[1574,1605],256],64515:[[1574,1609],256],64516:[[1574,1610],256],64517:[[1576,1580],256],64518:[[1576,1581],256],64519:[[1576,1582],256],64520:[[1576,1605],256],64521:[[1576,1609],256],64522:[[1576,1610],256],64523:[[1578,1580],256],64524:[[1578,1581],256],64525:[[1578,1582],256],64526:[[1578,1605],256],64527:[[1578,1609],256],64528:[[1578,1610],256],64529:[[1579,1580],256],64530:[[1579,1605],256],64531:[[1579,1609],256],64532:[[1579,1610],256],64533:[[1580,1581],256],64534:[[1580,1605],256],64535:[[1581,1580],256],64536:[[1581,1605],256],64537:[[1582,1580],256],64538:[[1582,1581],256],64539:[[1582,1605],256],64540:[[1587,1580],256],64541:[[1587,1581],256],64542:[[1587,1582],256],64543:[[1587,1605],256],64544:[[1589,1581],256],64545:[[1589,1605],256],64546:[[1590,1580],256],64547:[[1590,1581],256],64548:[[1590,1582],256],64549:[[1590,1605],256],64550:[[1591,1581],256],64551:[[1591,1605],256],64552:[[1592,1605],256],64553:[[1593,1580],256],64554:[[1593,1605],256],64555:[[1594,1580],256],64556:[[1594,1605],256],64557:[[1601,1580],256],64558:[[1601,1581],256],64559:[[1601,1582],256],64560:[[1601,1605],256],64561:[[1601,1609],256],64562:[[1601,1610],256],64563:[[1602,1581],256],64564:[[1602,1605],256],64565:[[1602,1609],256],64566:[[1602,1610],256],64567:[[1603,1575],256],64568:[[1603,1580],256],64569:[[1603,1581],256],64570:[[1603,1582],256],64571:[[1603,1604],256],64572:[[1603,1605],256],64573:[[1603,1609],256],64574:[[1603,1610],256],64575:[[1604,1580],256],64576:[[1604,1581],256],64577:[[1604,1582],256],64578:[[1604,1605],256],64579:[[1604,1609],256],64580:[[1604,1610],256],64581:[[1605,1580],256],64582:[[1605,1581],256],64583:[[1605,1582],256],64584:[[1605,1605],256],64585:[[1605,1609],256],64586:[[1605,1610],256],64587:[[1606,1580],256],64588:[[1606,1581],256],64589:[[1606,1582],256],64590:[[1606,1605],256],64591:[[1606,1609],256],64592:[[1606,1610],256],64593:[[1607,1580],256],64594:[[1607,1605],256],64595:[[1607,1609],256],64596:[[1607,1610],256],64597:[[1610,1580],256],64598:[[1610,1581],256],64599:[[1610,1582],256],64600:[[1610,1605],256],64601:[[1610,1609],256],64602:[[1610,1610],256],64603:[[1584,1648],256],64604:[[1585,1648],256],64605:[[1609,1648],256],64606:[[32,1612,1617],256],64607:[[32,1613,1617],256],64608:[[32,1614,1617],256],64609:[[32,1615,1617],256],64610:[[32,1616,1617],256],64611:[[32,1617,1648],256],64612:[[1574,1585],256],64613:[[1574,1586],256],64614:[[1574,1605],256],64615:[[1574,1606],256],64616:[[1574,1609],256],64617:[[1574,1610],256],64618:[[1576,1585],256],64619:[[1576,1586],256],64620:[[1576,1605],256],64621:[[1576,1606],256],64622:[[1576,1609],256],64623:[[1576,1610],256],64624:[[1578,1585],256],64625:[[1578,1586],256],64626:[[1578,1605],256],64627:[[1578,1606],256],64628:[[1578,1609],256],64629:[[1578,1610],256],64630:[[1579,1585],256],64631:[[1579,1586],256],64632:[[1579,1605],256],64633:[[1579,1606],256],64634:[[1579,1609],256],64635:[[1579,1610],256],64636:[[1601,1609],256],64637:[[1601,1610],256],64638:[[1602,1609],256],64639:[[1602,1610],256],64640:[[1603,1575],256],64641:[[1603,1604],256],64642:[[1603,1605],256],64643:[[1603,1609],256],64644:[[1603,1610],256],64645:[[1604,1605],256],64646:[[1604,1609],256],64647:[[1604,1610],256],64648:[[1605,1575],256],64649:[[1605,1605],256],64650:[[1606,1585],256],64651:[[1606,1586],256],64652:[[1606,1605],256],64653:[[1606,1606],256],64654:[[1606,1609],256],64655:[[1606,1610],256],64656:[[1609,1648],256],64657:[[1610,1585],256],64658:[[1610,1586],256],64659:[[1610,1605],256],64660:[[1610,1606],256],64661:[[1610,1609],256],64662:[[1610,1610],256],64663:[[1574,1580],256],64664:[[1574,1581],256],64665:[[1574,1582],256],64666:[[1574,1605],256],64667:[[1574,1607],256],64668:[[1576,1580],256],64669:[[1576,1581],256],64670:[[1576,1582],256],64671:[[1576,1605],256],64672:[[1576,1607],256],64673:[[1578,1580],256],64674:[[1578,1581],256],64675:[[1578,1582],256],64676:[[1578,1605],256],64677:[[1578,1607],256],64678:[[1579,1605],256],64679:[[1580,1581],256],64680:[[1580,1605],256],64681:[[1581,1580],256],64682:[[1581,1605],256],64683:[[1582,1580],256],64684:[[1582,1605],256],64685:[[1587,1580],256],64686:[[1587,1581],256],64687:[[1587,1582],256],64688:[[1587,1605],256],64689:[[1589,1581],256],64690:[[1589,1582],256],64691:[[1589,1605],256],64692:[[1590,1580],256],64693:[[1590,1581],256],64694:[[1590,1582],256],64695:[[1590,1605],256],64696:[[1591,1581],256],64697:[[1592,1605],256],64698:[[1593,1580],256],64699:[[1593,1605],256],64700:[[1594,1580],256],64701:[[1594,1605],256],64702:[[1601,1580],256],64703:[[1601,1581],256],64704:[[1601,1582],256],64705:[[1601,1605],256],64706:[[1602,1581],256],64707:[[1602,1605],256],64708:[[1603,1580],256],64709:[[1603,1581],256],64710:[[1603,1582],256],64711:[[1603,1604],256],64712:[[1603,1605],256],64713:[[1604,1580],256],64714:[[1604,1581],256],64715:[[1604,1582],256],64716:[[1604,1605],256],64717:[[1604,1607],256],64718:[[1605,1580],256],64719:[[1605,1581],256],64720:[[1605,1582],256],64721:[[1605,1605],256],64722:[[1606,1580],256],64723:[[1606,1581],256],64724:[[1606,1582],256],64725:[[1606,1605],256],64726:[[1606,1607],256],64727:[[1607,1580],256],64728:[[1607,1605],256],64729:[[1607,1648],256],64730:[[1610,1580],256],64731:[[1610,1581],256],64732:[[1610,1582],256],64733:[[1610,1605],256],64734:[[1610,1607],256],64735:[[1574,1605],256],64736:[[1574,1607],256],64737:[[1576,1605],256],64738:[[1576,1607],256],64739:[[1578,1605],256],64740:[[1578,1607],256],64741:[[1579,1605],256],64742:[[1579,1607],256],64743:[[1587,1605],256],64744:[[1587,1607],256],64745:[[1588,1605],256],64746:[[1588,1607],256],64747:[[1603,1604],256],64748:[[1603,1605],256],64749:[[1604,1605],256],64750:[[1606,1605],256],64751:[[1606,1607],256],64752:[[1610,1605],256],64753:[[1610,1607],256],64754:[[1600,1614,1617],256],64755:[[1600,1615,1617],256],64756:[[1600,1616,1617],256],64757:[[1591,1609],256],64758:[[1591,1610],256],64759:[[1593,1609],256],64760:[[1593,1610],256],64761:[[1594,1609],256],64762:[[1594,1610],256],64763:[[1587,1609],256],64764:[[1587,1610],256],64765:[[1588,1609],256],64766:[[1588,1610],256],64767:[[1581,1609],256]},64768:{64768:[[1581,1610],256],64769:[[1580,1609],256],64770:[[1580,1610],256],64771:[[1582,1609],256],64772:[[1582,1610],256],64773:[[1589,1609],256],64774:[[1589,1610],256],64775:[[1590,1609],256],64776:[[1590,1610],256],64777:[[1588,1580],256],64778:[[1588,1581],256],64779:[[1588,1582],256],64780:[[1588,1605],256],64781:[[1588,1585],256],64782:[[1587,1585],256],64783:[[1589,1585],256],64784:[[1590,1585],256],64785:[[1591,1609],256],64786:[[1591,1610],256],64787:[[1593,1609],256],64788:[[1593,1610],256],64789:[[1594,1609],256],64790:[[1594,1610],256],64791:[[1587,1609],256],64792:[[1587,1610],256],64793:[[1588,1609],256],64794:[[1588,1610],256],64795:[[1581,1609],256],64796:[[1581,1610],256],64797:[[1580,1609],256],64798:[[1580,1610],256],64799:[[1582,1609],256],64800:[[1582,1610],256],64801:[[1589,1609],256],64802:[[1589,1610],256],64803:[[1590,1609],256],64804:[[1590,1610],256],64805:[[1588,1580],256],64806:[[1588,1581],256],64807:[[1588,1582],256],64808:[[1588,1605],256],64809:[[1588,1585],256],64810:[[1587,1585],256],64811:[[1589,1585],256],64812:[[1590,1585],256],64813:[[1588,1580],256],64814:[[1588,1581],256],64815:[[1588,1582],256],64816:[[1588,1605],256],64817:[[1587,1607],256],64818:[[1588,1607],256],64819:[[1591,1605],256],64820:[[1587,1580],256],64821:[[1587,1581],256],64822:[[1587,1582],256],64823:[[1588,1580],256],64824:[[1588,1581],256],64825:[[1588,1582],256],64826:[[1591,1605],256],64827:[[1592,1605],256],64828:[[1575,1611],256],64829:[[1575,1611],256],64848:[[1578,1580,1605],256],64849:[[1578,1581,1580],256],64850:[[1578,1581,1580],256],64851:[[1578,1581,1605],256],64852:[[1578,1582,1605],256],64853:[[1578,1605,1580],256],64854:[[1578,1605,1581],256],64855:[[1578,1605,1582],256],64856:[[1580,1605,1581],256],64857:[[1580,1605,1581],256],64858:[[1581,1605,1610],256],64859:[[1581,1605,1609],256],64860:[[1587,1581,1580],256],64861:[[1587,1580,1581],256],64862:[[1587,1580,1609],256],64863:[[1587,1605,1581],256],64864:[[1587,1605,1581],256],64865:[[1587,1605,1580],256],64866:[[1587,1605,1605],256],64867:[[1587,1605,1605],256],64868:[[1589,1581,1581],256],64869:[[1589,1581,1581],256],64870:[[1589,1605,1605],256],64871:[[1588,1581,1605],256],64872:[[1588,1581,1605],256],64873:[[1588,1580,1610],256],64874:[[1588,1605,1582],256],64875:[[1588,1605,1582],256],64876:[[1588,1605,1605],256],64877:[[1588,1605,1605],256],64878:[[1590,1581,1609],256],64879:[[1590,1582,1605],256],64880:[[1590,1582,1605],256],64881:[[1591,1605,1581],256],64882:[[1591,1605,1581],256],64883:[[1591,1605,1605],256],64884:[[1591,1605,1610],256],64885:[[1593,1580,1605],256],64886:[[1593,1605,1605],256],64887:[[1593,1605,1605],256],64888:[[1593,1605,1609],256],64889:[[1594,1605,1605],256],64890:[[1594,1605,1610],256],64891:[[1594,1605,1609],256],64892:[[1601,1582,1605],256],64893:[[1601,1582,1605],256],64894:[[1602,1605,1581],256],64895:[[1602,1605,1605],256],64896:[[1604,1581,1605],256],64897:[[1604,1581,1610],256],64898:[[1604,1581,1609],256],64899:[[1604,1580,1580],256],64900:[[1604,1580,1580],256],64901:[[1604,1582,1605],256],64902:[[1604,1582,1605],256],64903:[[1604,1605,1581],256],64904:[[1604,1605,1581],256],64905:[[1605,1581,1580],256],64906:[[1605,1581,1605],256],64907:[[1605,1581,1610],256],64908:[[1605,1580,1581],256],64909:[[1605,1580,1605],256],64910:[[1605,1582,1580],256],64911:[[1605,1582,1605],256],64914:[[1605,1580,1582],256],64915:[[1607,1605,1580],256],64916:[[1607,1605,1605],256],64917:[[1606,1581,1605],256],64918:[[1606,1581,1609],256],64919:[[1606,1580,1605],256],64920:[[1606,1580,1605],256],64921:[[1606,1580,1609],256],64922:[[1606,1605,1610],256],64923:[[1606,1605,1609],256],64924:[[1610,1605,1605],256],64925:[[1610,1605,1605],256],64926:[[1576,1582,1610],256],64927:[[1578,1580,1610],256],64928:[[1578,1580,1609],256],64929:[[1578,1582,1610],256],64930:[[1578,1582,1609],256],64931:[[1578,1605,1610],256],64932:[[1578,1605,1609],256],64933:[[1580,1605,1610],256],64934:[[1580,1581,1609],256],64935:[[1580,1605,1609],256],64936:[[1587,1582,1609],256],64937:[[1589,1581,1610],256],64938:[[1588,1581,1610],256],64939:[[1590,1581,1610],256],64940:[[1604,1580,1610],256],64941:[[1604,1605,1610],256],64942:[[1610,1581,1610],256],64943:[[1610,1580,1610],256],64944:[[1610,1605,1610],256],64945:[[1605,1605,1610],256],64946:[[1602,1605,1610],256],64947:[[1606,1581,1610],256],64948:[[1602,1605,1581],256],64949:[[1604,1581,1605],256],64950:[[1593,1605,1610],256],64951:[[1603,1605,1610],256],64952:[[1606,1580,1581],256],64953:[[1605,1582,1610],256],64954:[[1604,1580,1605],256],64955:[[1603,1605,1605],256],64956:[[1604,1580,1605],256],64957:[[1606,1580,1581],256],64958:[[1580,1581,1610],256],64959:[[1581,1580,1610],256],64960:[[1605,1580,1610],256],64961:[[1601,1605,1610],256],64962:[[1576,1581,1610],256],64963:[[1603,1605,1605],256],64964:[[1593,1580,1605],256],64965:[[1589,1605,1605],256],64966:[[1587,1582,1610],256],64967:[[1606,1580,1610],256],65008:[[1589,1604,1746],256],65009:[[1602,1604,1746],256],65010:[[1575,1604,1604,1607],256],65011:[[1575,1603,1576,1585],256],65012:[[1605,1581,1605,1583],256],65013:[[1589,1604,1593,1605],256],65014:[[1585,1587,1608,1604],256],65015:[[1593,1604,1610,1607],256],65016:[[1608,1587,1604,1605],256],65017:[[1589,1604,1609],256],65018:[[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605],256],65019:[[1580,1604,32,1580,1604,1575,1604,1607],256],65020:[[1585,1740,1575,1604],256]},65024:{65040:[[44],256],65041:[[12289],256],65042:[[12290],256],65043:[[58],256],65044:[[59],256],65045:[[33],256],65046:[[63],256],65047:[[12310],256],65048:[[12311],256],65049:[[8230],256],65056:[,230],65057:[,230],65058:[,230],65059:[,230],65060:[,230],65061:[,230],65062:[,230],65063:[,220],65064:[,220],65065:[,220],65066:[,220],65067:[,220],65068:[,220],65069:[,220],65072:[[8229],256],65073:[[8212],256],65074:[[8211],256],65075:[[95],256],65076:[[95],256],65077:[[40],256],65078:[[41],256],65079:[[123],256],65080:[[125],256],65081:[[12308],256],65082:[[12309],256],65083:[[12304],256],65084:[[12305],256],65085:[[12298],256],65086:[[12299],256],65087:[[12296],256],65088:[[12297],256],65089:[[12300],256],65090:[[12301],256],65091:[[12302],256],65092:[[12303],256],65095:[[91],256],65096:[[93],256],65097:[[8254],256],65098:[[8254],256],65099:[[8254],256],65100:[[8254],256],65101:[[95],256],65102:[[95],256],65103:[[95],256],65104:[[44],256],65105:[[12289],256],65106:[[46],256],65108:[[59],256],65109:[[58],256],65110:[[63],256],65111:[[33],256],65112:[[8212],256],65113:[[40],256],65114:[[41],256],65115:[[123],256],65116:[[125],256],65117:[[12308],256],65118:[[12309],256],65119:[[35],256],65120:[[38],256],65121:[[42],256],65122:[[43],256],65123:[[45],256],65124:[[60],256],65125:[[62],256],65126:[[61],256],65128:[[92],256],65129:[[36],256],65130:[[37],256],65131:[[64],256],65136:[[32,1611],256],65137:[[1600,1611],256],65138:[[32,1612],256],65140:[[32,1613],256],65142:[[32,1614],256],65143:[[1600,1614],256],65144:[[32,1615],256],65145:[[1600,1615],256],65146:[[32,1616],256],65147:[[1600,1616],256],65148:[[32,1617],256],65149:[[1600,1617],256],65150:[[32,1618],256],65151:[[1600,1618],256],65152:[[1569],256],65153:[[1570],256],65154:[[1570],256],65155:[[1571],256],65156:[[1571],256],65157:[[1572],256],65158:[[1572],256],65159:[[1573],256],65160:[[1573],256],65161:[[1574],256],65162:[[1574],256],65163:[[1574],256],65164:[[1574],256],65165:[[1575],256],65166:[[1575],256],65167:[[1576],256],65168:[[1576],256],65169:[[1576],256],65170:[[1576],256],65171:[[1577],256],65172:[[1577],256],65173:[[1578],256],65174:[[1578],256],65175:[[1578],256],65176:[[1578],256],65177:[[1579],256],65178:[[1579],256],65179:[[1579],256],65180:[[1579],256],65181:[[1580],256],65182:[[1580],256],65183:[[1580],256],65184:[[1580],256],65185:[[1581],256],65186:[[1581],256],65187:[[1581],256],65188:[[1581],256],65189:[[1582],256],65190:[[1582],256],65191:[[1582],256],65192:[[1582],256],65193:[[1583],256],65194:[[1583],256],65195:[[1584],256],65196:[[1584],256],65197:[[1585],256],65198:[[1585],256],65199:[[1586],256],65200:[[1586],256],65201:[[1587],256],65202:[[1587],256],65203:[[1587],256],65204:[[1587],256],65205:[[1588],256],65206:[[1588],256],65207:[[1588],256],65208:[[1588],256],65209:[[1589],256],65210:[[1589],256],65211:[[1589],256],65212:[[1589],256],65213:[[1590],256],65214:[[1590],256],65215:[[1590],256],65216:[[1590],256],65217:[[1591],256],65218:[[1591],256],65219:[[1591],256],65220:[[1591],256],65221:[[1592],256],65222:[[1592],256],65223:[[1592],256],65224:[[1592],256],65225:[[1593],256],65226:[[1593],256],65227:[[1593],256],65228:[[1593],256],65229:[[1594],256],65230:[[1594],256],65231:[[1594],256],65232:[[1594],256],65233:[[1601],256],65234:[[1601],256],65235:[[1601],256],65236:[[1601],256],65237:[[1602],256],65238:[[1602],256],65239:[[1602],256],65240:[[1602],256],65241:[[1603],256],65242:[[1603],256],65243:[[1603],256],65244:[[1603],256],65245:[[1604],256],65246:[[1604],256],65247:[[1604],256],65248:[[1604],256],65249:[[1605],256],65250:[[1605],256],65251:[[1605],256],65252:[[1605],256],65253:[[1606],256],65254:[[1606],256],65255:[[1606],256],65256:[[1606],256],65257:[[1607],256],65258:[[1607],256],65259:[[1607],256],65260:[[1607],256],65261:[[1608],256],65262:[[1608],256],65263:[[1609],256],65264:[[1609],256],65265:[[1610],256],65266:[[1610],256],65267:[[1610],256],65268:[[1610],256],65269:[[1604,1570],256],65270:[[1604,1570],256],65271:[[1604,1571],256],65272:[[1604,1571],256],65273:[[1604,1573],256],65274:[[1604,1573],256],65275:[[1604,1575],256],65276:[[1604,1575],256]},65280:{65281:[[33],256],65282:[[34],256],65283:[[35],256],65284:[[36],256],65285:[[37],256],65286:[[38],256],65287:[[39],256],65288:[[40],256],65289:[[41],256],65290:[[42],256],65291:[[43],256],65292:[[44],256],65293:[[45],256],65294:[[46],256],65295:[[47],256],65296:[[48],256],65297:[[49],256],65298:[[50],256],65299:[[51],256],65300:[[52],256],65301:[[53],256],65302:[[54],256],65303:[[55],256],65304:[[56],256],65305:[[57],256],65306:[[58],256],65307:[[59],256],65308:[[60],256],65309:[[61],256],65310:[[62],256],65311:[[63],256],65312:[[64],256],65313:[[65],256],65314:[[66],256],65315:[[67],256],65316:[[68],256],65317:[[69],256],65318:[[70],256],65319:[[71],256],65320:[[72],256],65321:[[73],256],65322:[[74],256],65323:[[75],256],65324:[[76],256],65325:[[77],256],65326:[[78],256],65327:[[79],256],65328:[[80],256],65329:[[81],256],65330:[[82],256],65331:[[83],256],65332:[[84],256],65333:[[85],256],65334:[[86],256],65335:[[87],256],65336:[[88],256],65337:[[89],256],65338:[[90],256],65339:[[91],256],65340:[[92],256],65341:[[93],256],65342:[[94],256],65343:[[95],256],65344:[[96],256],65345:[[97],256],65346:[[98],256],65347:[[99],256],65348:[[100],256],65349:[[101],256],65350:[[102],256],65351:[[103],256],65352:[[104],256],65353:[[105],256],65354:[[106],256],65355:[[107],256],65356:[[108],256],65357:[[109],256],65358:[[110],256],65359:[[111],256],65360:[[112],256],65361:[[113],256],65362:[[114],256],65363:[[115],256],65364:[[116],256],65365:[[117],256],65366:[[118],256],65367:[[119],256],65368:[[120],256],65369:[[121],256],65370:[[122],256],65371:[[123],256],65372:[[124],256],65373:[[125],256],65374:[[126],256],65375:[[10629],256],65376:[[10630],256],65377:[[12290],256],65378:[[12300],256],65379:[[12301],256],65380:[[12289],256],65381:[[12539],256],65382:[[12530],256],65383:[[12449],256],65384:[[12451],256],65385:[[12453],256],65386:[[12455],256],65387:[[12457],256],65388:[[12515],256],65389:[[12517],256],65390:[[12519],256],65391:[[12483],256],65392:[[12540],256],65393:[[12450],256],65394:[[12452],256],65395:[[12454],256],65396:[[12456],256],65397:[[12458],256],65398:[[12459],256],65399:[[12461],256],65400:[[12463],256],65401:[[12465],256],65402:[[12467],256],65403:[[12469],256],65404:[[12471],256],65405:[[12473],256],65406:[[12475],256],65407:[[12477],256],65408:[[12479],256],65409:[[12481],256],65410:[[12484],256],65411:[[12486],256],65412:[[12488],256],65413:[[12490],256],65414:[[12491],256],65415:[[12492],256],65416:[[12493],256],65417:[[12494],256],65418:[[12495],256],65419:[[12498],256],65420:[[12501],256],65421:[[12504],256],65422:[[12507],256],65423:[[12510],256],65424:[[12511],256],65425:[[12512],256],65426:[[12513],256],65427:[[12514],256],65428:[[12516],256],65429:[[12518],256],65430:[[12520],256],65431:[[12521],256],65432:[[12522],256],65433:[[12523],256],65434:[[12524],256],65435:[[12525],256],65436:[[12527],256],65437:[[12531],256],65438:[[12441],256],65439:[[12442],256],65440:[[12644],256],65441:[[12593],256],65442:[[12594],256],65443:[[12595],256],65444:[[12596],256],65445:[[12597],256],65446:[[12598],256],65447:[[12599],256],65448:[[12600],256],65449:[[12601],256],65450:[[12602],256],65451:[[12603],256],65452:[[12604],256],65453:[[12605],256],65454:[[12606],256],65455:[[12607],256],65456:[[12608],256],65457:[[12609],256],65458:[[12610],256],65459:[[12611],256],65460:[[12612],256],65461:[[12613],256],65462:[[12614],256],65463:[[12615],256],65464:[[12616],256],65465:[[12617],256],65466:[[12618],256],65467:[[12619],256],65468:[[12620],256],65469:[[12621],256],65470:[[12622],256],65474:[[12623],256],65475:[[12624],256],65476:[[12625],256],65477:[[12626],256],65478:[[12627],256],65479:[[12628],256],65482:[[12629],256],65483:[[12630],256],65484:[[12631],256],65485:[[12632],256],65486:[[12633],256],65487:[[12634],256],65490:[[12635],256],65491:[[12636],256],65492:[[12637],256],65493:[[12638],256],65494:[[12639],256],65495:[[12640],256],65498:[[12641],256],65499:[[12642],256],65500:[[12643],256],65504:[[162],256],65505:[[163],256],65506:[[172],256],65507:[[175],256],65508:[[166],256],65509:[[165],256],65510:[[8361],256],65512:[[9474],256],65513:[[8592],256],65514:[[8593],256],65515:[[8594],256],65516:[[8595],256],65517:[[9632],256],65518:[[9675],256]}};var I={nfc:_,nfd:l,nfkc:x,nfkd:b};typeof bP=="object"?bP.exports=I:typeof define=="function"&&define.amd?define("unorm",function(){return I}):t.unorm=I,I.shimApplied=!1,String.prototype.normalize||(String.prototype.normalize=function(A){var v=""+this;if(A=A===void 0?"NFC":A,A==="NFC")return I.nfc(v);if(A==="NFD")return I.nfd(v);if(A==="NFKC")return I.nfkc(v);if(A==="NFKD")return I.nfkd(v);throw new RangeError("Invalid normalization form: "+A)},I.shimApplied=!0)})(NV)});var LV=j((Fit,DV)=>{B();M();var Ar=$i(),HV=OV(),Wl=Q6(),mP=CV(),Wd=ff(),j4=RV(),q2=Jce(),q4=FV(),z8e=t0(),jv=globalThis,gP={},qv={},re=jv.parcelRequire76f9;re==null&&(re=function(t){if(t in gP)return gP[t].exports;if(t in qv){var e=qv[t];delete qv[t];var r={id:t,exports:{}};return gP[t]=r,e.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n},re.register=function(e,r){qv[e]=r},jv.parcelRequire76f9=re);var Qe=re.register;Qe("1Q9VF",function(t,e){t.exports=JSON.parse(`{"name":"@scrypt-inc/bsv","version":"1.0.4","description":"A pure and powerful JavaScript Bitcoin SV (BSV) library.","author":"sCrypt.Inc","source":"./index.js","main":"dist/main.js","browser":"dist/browser.js","types":"./index.d.ts","scripts":{"lint":"standard --fix","build":"parcel build --no-cache","dev":"mocha -g 'BIP32' ","test":"standard && mocha","coverage":"nyc --reporter=text npm run test","prepublishOnly":"yarn build","release":"npm publish --access public"},"targets":{"types":false},"keywords":["bitcoin","bsv","scrypt","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],"repository":{"type":"git","url":"git+https://github.com/sCrypt-Inc/bsv"},"dependencies":{"aes-js":"^3.1.2","assert":"^2.1.0","bn.js":"=4.11.9","bs58":"=4.0.1","buffer":"^6.0.3","clone-deep":"^4.0.1","elliptic":"6.5.4","hash.js":"^1.1.7","inherits":"2.0.3","unorm":"1.4.1"},"devDependencies":{"brfs":"2.0.1","chai":"4.2.0","mocha":"^8.4.0","nyc":"^14.1.1","parcel":"latest","sinon":"7.2.3","standard":"12.0.1"},"license":"MIT","standard":{"globals":["afterEach","beforeEach","describe","it"],"ignore":["dist/**","esmTest/**"]}}`)});Qe("dIoYd",function(t,e){var r=Ar.Buffer,n=re("jBF4k"),i=re("6gAsx"),s=re("kBBbb"),o=function(a){for(var u=r.alloc(a.length),c=0;c<a.length;c++)u[c]=a[a.length-1-c];return u};n.Zero=new n(0),n.One=new n(1),n.Minus1=new n(-1),n.fromNumber=function(a){return i.checkArgument(s.isNumber(a)),new n(a)},n.fromString=function(a,u){return i.checkArgument(s.isString(a)),new n(a,u)},n.fromBuffer=function(a,u){typeof u<"u"&&u.endian==="little"&&(a=o(a));var c=a.toString("hex"),d=new n(c,16);return d},n.fromSM=function(a,u){var c;if(a.length===0)return n.fromBuffer(r.from([0]));var d="big";return u&&(d=u.endian),d==="little"&&(a=o(a)),a[0]&128?(a[0]=a[0]&127,c=n.fromBuffer(a),c.neg().copy(c)):c=n.fromBuffer(a),c},n.prototype.toNumber=function(){return parseInt(this.toString(10),10)},n.prototype.toBuffer=function(a){var u,c;if(a&&a.size){c=this.toString(16,2);var d=c.length/2;u=r.from(c,"hex"),d===a.size||(d>a.size?u=n.trim(u,d):d<a.size&&(u=n.pad(u,d,a.size)))}else c=this.toString(16,2),u=r.from(c,"hex");return typeof a<"u"&&a.endian==="little"&&(u=o(u)),u},n.prototype.toSMBigEndian=function(){var a;return this.cmp(n.Zero)===-1?(a=this.neg().toBuffer(),a[0]&128?a=r.concat([r.from([128]),a]):a[0]=a[0]|128):(a=this.toBuffer(),a[0]&128&&(a=r.concat([r.from([0]),a]))),a.length===1&a[0]===0&&(a=r.from([])),a},n.prototype.toSM=function(a){var u=a?a.endian:"big",c=this.toSMBigEndian();return u==="little"&&(c=o(c)),c},n.fromScriptNumBuffer=function(a,u,c){var d=c||Number.MAX_SAFE_INTEGER;if(i.checkArgument(a.length<=d,new Error("script number overflow")),u&&a.length>0&&(a[a.length-1]&127)===0&&(a.length<=1||(a[a.length-2]&128)===0))throw new Error("non-minimally encoded script number");return n.fromSM(a,{endian:"little"})},n.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})},n.trim=function(a,u){return a.slice(u-a.length,a.length)},n.pad=function(a,u,c){for(var d=r.alloc(c),f=0;f<a.length;f++)d[d.length-1-f]=a[a.length-1-f];for(f=0;f<c-u;f++)d[f]=0;return d},n.prototype.toHex=function(...a){return this.toBuffer(...a).toString("hex")},n.fromHex=function(a,...u){return n.fromBuffer(r.from(a,"hex"),...u)},t.exports=n});Qe("jBF4k",function(t,e){var r=Ar.Buffer;(function(n,i){"use strict";function s(h,l){if(!h)throw new Error(l||"Assertion failed")}function o(h,l){h.super_=l;var b=function(){};b.prototype=l.prototype,h.prototype=new b,h.prototype.constructor=h}function a(h,l,b){if(a.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((l==="le"||l==="be")&&(b=l,l=10),this._init(h||0,l||10,b||"be"))}typeof n=="object"?n.exports=a:i.BN=a,a.BN=a,a.wordSize=26,a.isBN=function(l){return l instanceof a?!0:l!==null&&typeof l=="object"&&l.constructor.wordSize===a.wordSize&&Array.isArray(l.words)},a.max=function(l,b){return l.cmp(b)>0?l:b},a.min=function(l,b){return l.cmp(b)<0?l:b},a.prototype._init=function(l,b,_){if(typeof l=="number")return this._initNumber(l,b,_);if(typeof l=="object")return this._initArray(l,b,_);b==="hex"&&(b=16),s(b===(b|0)&&b>=2&&b<=36),l=l.toString().replace(/\s+/g,"");var x=0;l[0]==="-"&&x++,b===16?this._parseHex(l,x):this._parseBase(l,b,x),l[0]==="-"&&(this.negative=1),this.strip(),_==="le"&&this._initArray(this.toArray(),b,_)},a.prototype._initNumber=function(l,b,_){l<0&&(this.negative=1,l=-l),l<67108864?(this.words=[l&67108863],this.length=1):l<4503599627370496?(this.words=[l&67108863,l/67108864&67108863],this.length=2):(s(l<9007199254740992),this.words=[l&67108863,l/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),b,_)},a.prototype._initArray=function(l,b,_){if(s(typeof l.length=="number"),l.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(l.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var I,A,v=0;if(_==="be")for(x=l.length-1,I=0;x>=0;x-=3)A=l[x]|l[x-1]<<8|l[x-2]<<16,this.words[I]|=A<<v&67108863,this.words[I+1]=A>>>26-v&67108863,v+=24,v>=26&&(v-=26,I++);else if(_==="le")for(x=0,I=0;x<l.length;x+=3)A=l[x]|l[x+1]<<8|l[x+2]<<16,this.words[I]|=A<<v&67108863,this.words[I+1]=A>>>26-v&67108863,v+=24,v>=26&&(v-=26,I++);return this.strip()};function u(h,l,b){for(var _=0,x=Math.min(h.length,b),I=l;I<x;I++){var A=h.charCodeAt(I)-48;_<<=4,A>=49&&A<=54?_|=A-49+10:A>=17&&A<=22?_|=A-17+10:_|=A&15}return _}a.prototype._parseHex=function(l,b){this.length=Math.ceil((l.length-b)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var x,I,A=0;for(_=l.length-6,x=0;_>=b;_-=6)I=u(l,_,_+6),this.words[x]|=I<<A&67108863,this.words[x+1]|=I>>>26-A&4194303,A+=24,A>=26&&(A-=26,x++);_+6!==b&&(I=u(l,b,_+6),this.words[x]|=I<<A&67108863,this.words[x+1]|=I>>>26-A&4194303),this.strip()};function c(h,l,b,_){for(var x=0,I=Math.min(h.length,b),A=l;A<I;A++){var v=h.charCodeAt(A)-48;x*=_,v>=49?x+=v-49+10:v>=17?x+=v-17+10:x+=v}return x}a.prototype._parseBase=function(l,b,_){this.words=[0],this.length=1;for(var x=0,I=1;I<=67108863;I*=b)x++;x--,I=I/b|0;for(var A=l.length-_,v=A%x,S=Math.min(A,A-v)+_,O=0,q=_;q<S;q+=x)O=c(l,q,q+x,b),this.imuln(I),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O);if(v!==0){var J=1;for(O=c(l,q,l.length,b),q=0;q<v;q++)J*=b;this.imuln(J),this.words[0]+O<67108864?this.words[0]+=O:this._iaddn(O)}},a.prototype.copy=function(l){l.words=new Array(this.length);for(var b=0;b<this.length;b++)l.words[b]=this.words[b];l.length=this.length,l.negative=this.negative,l.red=this.red},a.prototype.clone=function(){var l=new a(null);return this.copy(l),l},a.prototype._expand=function(l){for(;this.length<l;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(l,b){l=l||10,b=b|0||1;var _;if(l===16||l==="hex"){_="";for(var x=0,I=0,A=0;A<this.length;A++){var v=this.words[A],S=((v<<x|I)&16777215).toString(16);I=v>>>24-x&16777215,x+=2,x>=26&&(x-=26,A--),I!==0||A!==this.length-1?_=d[6-S.length]+S+_:_=S+_}for(I!==0&&(_=I.toString(16)+_);_.length%b!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(l===(l|0)&&l>=2&&l<=36){var O=f[l],q=m[l];_="";var J=this.clone();for(J.negative=0;!J.isZero();){var ne=J.modn(q).toString(l);J=J.idivn(q),J.isZero()?_=ne+_:_=d[O-ne.length]+ne+_}for(this.isZero()&&(_="0"+_);_.length%b!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var l=this.words[0];return this.length===2?l+=this.words[1]*67108864:this.length===3&&this.words[2]===1?l+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-l:l},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(l,b){return s(typeof r<"u"),this.toArrayLike(r,l,b)},a.prototype.toArray=function(l,b){return this.toArrayLike(Array,l,b)},a.prototype.toArrayLike=function(l,b,_){var x=this.byteLength(),I=_||Math.max(1,x);s(x<=I,"byte array longer than desired length"),s(I>0,"Requested array length <= 0"),this.strip();var A=b==="le",v=new l(I),S,O,q=this.clone();if(A){for(O=0;!q.isZero();O++)S=q.andln(255),q.iushrn(8),v[O]=S;for(;O<I;O++)v[O]=0}else{for(O=0;O<I-x;O++)v[O]=0;for(O=0;!q.isZero();O++)S=q.andln(255),q.iushrn(8),v[I-O-1]=S}return v},Math.clz32?a.prototype._countBits=function(l){return 32-Math.clz32(l)}:a.prototype._countBits=function(l){var b=l,_=0;return b>=4096&&(_+=13,b>>>=13),b>=64&&(_+=7,b>>>=7),b>=8&&(_+=4,b>>>=4),b>=2&&(_+=2,b>>>=2),_+b},a.prototype._zeroBits=function(l){if(l===0)return 26;var b=l,_=0;return(b&8191)===0&&(_+=13,b>>>=13),(b&127)===0&&(_+=7,b>>>=7),(b&15)===0&&(_+=4,b>>>=4),(b&3)===0&&(_+=2,b>>>=2),(b&1)===0&&_++,_},a.prototype.bitLength=function(){var l=this.words[this.length-1],b=this._countBits(l);return(this.length-1)*26+b};function p(h){for(var l=new Array(h.bitLength()),b=0;b<l.length;b++){var _=b/26|0,x=b%26;l[b]=(h.words[_]&1<<x)>>>x}return l}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var l=0,b=0;b<this.length;b++){var _=this._zeroBits(this.words[b]);if(l+=_,_!==26)break}return l},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(l){return this.negative!==0?this.abs().inotn(l).iaddn(1):this.clone()},a.prototype.fromTwos=function(l){return this.testn(l-1)?this.notn(l).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(l){for(;this.length<l.length;)this.words[this.length++]=0;for(var b=0;b<l.length;b++)this.words[b]=this.words[b]|l.words[b];return this.strip()},a.prototype.ior=function(l){return s((this.negative|l.negative)===0),this.iuor(l)},a.prototype.or=function(l){return this.length>l.length?this.clone().ior(l):l.clone().ior(this)},a.prototype.uor=function(l){return this.length>l.length?this.clone().iuor(l):l.clone().iuor(this)},a.prototype.iuand=function(l){var b;this.length>l.length?b=l:b=this;for(var _=0;_<b.length;_++)this.words[_]=this.words[_]&l.words[_];return this.length=b.length,this.strip()},a.prototype.iand=function(l){return s((this.negative|l.negative)===0),this.iuand(l)},a.prototype.and=function(l){return this.length>l.length?this.clone().iand(l):l.clone().iand(this)},a.prototype.uand=function(l){return this.length>l.length?this.clone().iuand(l):l.clone().iuand(this)},a.prototype.iuxor=function(l){var b,_;this.length>l.length?(b=this,_=l):(b=l,_=this);for(var x=0;x<_.length;x++)this.words[x]=b.words[x]^_.words[x];if(this!==b)for(;x<b.length;x++)this.words[x]=b.words[x];return this.length=b.length,this.strip()},a.prototype.ixor=function(l){return s((this.negative|l.negative)===0),this.iuxor(l)},a.prototype.xor=function(l){return this.length>l.length?this.clone().ixor(l):l.clone().ixor(this)},a.prototype.uxor=function(l){return this.length>l.length?this.clone().iuxor(l):l.clone().iuxor(this)},a.prototype.inotn=function(l){s(typeof l=="number"&&l>=0);var b=Math.ceil(l/26)|0,_=l%26;this._expand(b),_>0&&b--;for(var x=0;x<b;x++)this.words[x]=~this.words[x]&67108863;return _>0&&(this.words[x]=~this.words[x]&67108863>>26-_),this.strip()},a.prototype.notn=function(l){return this.clone().inotn(l)},a.prototype.setn=function(l,b){s(typeof l=="number"&&l>=0);var _=l/26|0,x=l%26;return this._expand(_+1),b?this.words[_]=this.words[_]|1<<x:this.words[_]=this.words[_]&~(1<<x),this.strip()},a.prototype.iadd=function(l){var b;if(this.negative!==0&&l.negative===0)return this.negative=0,b=this.isub(l),this.negative^=1,this._normSign();if(this.negative===0&&l.negative!==0)return l.negative=0,b=this.isub(l),l.negative=1,b._normSign();var _,x;this.length>l.length?(_=this,x=l):(_=l,x=this);for(var I=0,A=0;A<x.length;A++)b=(_.words[A]|0)+(x.words[A]|0)+I,this.words[A]=b&67108863,I=b>>>26;for(;I!==0&&A<_.length;A++)b=(_.words[A]|0)+I,this.words[A]=b&67108863,I=b>>>26;if(this.length=_.length,I!==0)this.words[this.length]=I,this.length++;else if(_!==this)for(;A<_.length;A++)this.words[A]=_.words[A];return this},a.prototype.add=function(l){var b;return l.negative!==0&&this.negative===0?(l.negative=0,b=this.sub(l),l.negative^=1,b):l.negative===0&&this.negative!==0?(this.negative=0,b=l.sub(this),this.negative=1,b):this.length>l.length?this.clone().iadd(l):l.clone().iadd(this)},a.prototype.isub=function(l){if(l.negative!==0){l.negative=0;var b=this.iadd(l);return l.negative=1,b._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(l),this.negative=1,this._normSign();var _=this.cmp(l);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,I;_>0?(x=this,I=l):(x=l,I=this);for(var A=0,v=0;v<I.length;v++)b=(x.words[v]|0)-(I.words[v]|0)+A,A=b>>26,this.words[v]=b&67108863;for(;A!==0&&v<x.length;v++)b=(x.words[v]|0)+A,A=b>>26,this.words[v]=b&67108863;if(A===0&&v<x.length&&x!==this)for(;v<x.length;v++)this.words[v]=x.words[v];return this.length=Math.max(this.length,v),x!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(l){return this.clone().isub(l)};function y(h,l,b){b.negative=l.negative^h.negative;var _=h.length+l.length|0;b.length=_,_=_-1|0;var x=h.words[0]|0,I=l.words[0]|0,A=x*I,v=A&67108863,S=A/67108864|0;b.words[0]=v;for(var O=1;O<_;O++){for(var q=S>>>26,J=S&67108863,ne=Math.min(O,l.length-1),oe=Math.max(0,O-h.length+1);oe<=ne;oe++){var le=O-oe|0;x=h.words[le]|0,I=l.words[oe]|0,A=x*I+J,q+=A/67108864|0,J=A&67108863}b.words[O]=J|0,S=q|0}return S!==0?b.words[O]=S|0:b.length--,b.strip()}var w=function(l,b,_){var x=l.words,I=b.words,A=_.words,v=0,S,O,q,J=x[0]|0,ne=J&8191,oe=J>>>13,le=x[1]|0,pe=le&8191,G=le>>>13,te=x[2]|0,ae=te&8191,be=te>>>13,ye=x[3]|0,_e=ye&8191,ke=ye>>>13,He=x[4]|0,ze=He&8191,qe=He>>>13,Ve=x[5]|0,Xe=Ve&8191,je=Ve>>>13,Me=x[6]|0,it=Me&8191,z=Me>>>13,Q=x[7]|0,Y=Q&8191,ee=Q>>>13,ie=x[8]|0,se=ie&8191,ce=ie>>>13,me=x[9]|0,he=me&8191,Ee=me>>>13,Te=I[0]|0,Fe=Te&8191,Ce=Te>>>13,Ge=I[1]|0,ft=Ge&8191,tt=Ge>>>13,rt=I[2]|0,zt=rt&8191,at=rt>>>13,dt=I[3]|0,Vt=dt&8191,ht=dt>>>13,lt=I[4]|0,Gt=lt&8191,pt=lt>>>13,bt=I[5]|0,Wt=bt&8191,gt=bt>>>13,mt=I[6]|0,Yt=mt&8191,yt=mt>>>13,vt=I[7]|0,Xt=vt&8191,_t=vt>>>13,St=I[8]|0,Zt=St&8191,wt=St>>>13,xt=I[9]|0,jt=xt&8191,U=xt>>>13;_.negative=l.negative^b.negative,_.length=19,S=Math.imul(ne,Fe),O=Math.imul(ne,Ce),O=O+Math.imul(oe,Fe)|0,q=Math.imul(oe,Ce);var $=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+($>>>26)|0,$&=67108863,S=Math.imul(pe,Fe),O=Math.imul(pe,Ce),O=O+Math.imul(G,Fe)|0,q=Math.imul(G,Ce),S=S+Math.imul(ne,ft)|0,O=O+Math.imul(ne,tt)|0,O=O+Math.imul(oe,ft)|0,q=q+Math.imul(oe,tt)|0;var V=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(V>>>26)|0,V&=67108863,S=Math.imul(ae,Fe),O=Math.imul(ae,Ce),O=O+Math.imul(be,Fe)|0,q=Math.imul(be,Ce),S=S+Math.imul(pe,ft)|0,O=O+Math.imul(pe,tt)|0,O=O+Math.imul(G,ft)|0,q=q+Math.imul(G,tt)|0,S=S+Math.imul(ne,zt)|0,O=O+Math.imul(ne,at)|0,O=O+Math.imul(oe,zt)|0,q=q+Math.imul(oe,at)|0;var W=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(W>>>26)|0,W&=67108863,S=Math.imul(_e,Fe),O=Math.imul(_e,Ce),O=O+Math.imul(ke,Fe)|0,q=Math.imul(ke,Ce),S=S+Math.imul(ae,ft)|0,O=O+Math.imul(ae,tt)|0,O=O+Math.imul(be,ft)|0,q=q+Math.imul(be,tt)|0,S=S+Math.imul(pe,zt)|0,O=O+Math.imul(pe,at)|0,O=O+Math.imul(G,zt)|0,q=q+Math.imul(G,at)|0,S=S+Math.imul(ne,Vt)|0,O=O+Math.imul(ne,ht)|0,O=O+Math.imul(oe,Vt)|0,q=q+Math.imul(oe,ht)|0;var X=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(X>>>26)|0,X&=67108863,S=Math.imul(ze,Fe),O=Math.imul(ze,Ce),O=O+Math.imul(qe,Fe)|0,q=Math.imul(qe,Ce),S=S+Math.imul(_e,ft)|0,O=O+Math.imul(_e,tt)|0,O=O+Math.imul(ke,ft)|0,q=q+Math.imul(ke,tt)|0,S=S+Math.imul(ae,zt)|0,O=O+Math.imul(ae,at)|0,O=O+Math.imul(be,zt)|0,q=q+Math.imul(be,at)|0,S=S+Math.imul(pe,Vt)|0,O=O+Math.imul(pe,ht)|0,O=O+Math.imul(G,Vt)|0,q=q+Math.imul(G,ht)|0,S=S+Math.imul(ne,Gt)|0,O=O+Math.imul(ne,pt)|0,O=O+Math.imul(oe,Gt)|0,q=q+Math.imul(oe,pt)|0;var Z=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(Z>>>26)|0,Z&=67108863,S=Math.imul(Xe,Fe),O=Math.imul(Xe,Ce),O=O+Math.imul(je,Fe)|0,q=Math.imul(je,Ce),S=S+Math.imul(ze,ft)|0,O=O+Math.imul(ze,tt)|0,O=O+Math.imul(qe,ft)|0,q=q+Math.imul(qe,tt)|0,S=S+Math.imul(_e,zt)|0,O=O+Math.imul(_e,at)|0,O=O+Math.imul(ke,zt)|0,q=q+Math.imul(ke,at)|0,S=S+Math.imul(ae,Vt)|0,O=O+Math.imul(ae,ht)|0,O=O+Math.imul(be,Vt)|0,q=q+Math.imul(be,ht)|0,S=S+Math.imul(pe,Gt)|0,O=O+Math.imul(pe,pt)|0,O=O+Math.imul(G,Gt)|0,q=q+Math.imul(G,pt)|0,S=S+Math.imul(ne,Wt)|0,O=O+Math.imul(ne,gt)|0,O=O+Math.imul(oe,Wt)|0,q=q+Math.imul(oe,gt)|0;var ue=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(ue>>>26)|0,ue&=67108863,S=Math.imul(it,Fe),O=Math.imul(it,Ce),O=O+Math.imul(z,Fe)|0,q=Math.imul(z,Ce),S=S+Math.imul(Xe,ft)|0,O=O+Math.imul(Xe,tt)|0,O=O+Math.imul(je,ft)|0,q=q+Math.imul(je,tt)|0,S=S+Math.imul(ze,zt)|0,O=O+Math.imul(ze,at)|0,O=O+Math.imul(qe,zt)|0,q=q+Math.imul(qe,at)|0,S=S+Math.imul(_e,Vt)|0,O=O+Math.imul(_e,ht)|0,O=O+Math.imul(ke,Vt)|0,q=q+Math.imul(ke,ht)|0,S=S+Math.imul(ae,Gt)|0,O=O+Math.imul(ae,pt)|0,O=O+Math.imul(be,Gt)|0,q=q+Math.imul(be,pt)|0,S=S+Math.imul(pe,Wt)|0,O=O+Math.imul(pe,gt)|0,O=O+Math.imul(G,Wt)|0,q=q+Math.imul(G,gt)|0,S=S+Math.imul(ne,Yt)|0,O=O+Math.imul(ne,yt)|0,O=O+Math.imul(oe,Yt)|0,q=q+Math.imul(oe,yt)|0;var fe=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(fe>>>26)|0,fe&=67108863,S=Math.imul(Y,Fe),O=Math.imul(Y,Ce),O=O+Math.imul(ee,Fe)|0,q=Math.imul(ee,Ce),S=S+Math.imul(it,ft)|0,O=O+Math.imul(it,tt)|0,O=O+Math.imul(z,ft)|0,q=q+Math.imul(z,tt)|0,S=S+Math.imul(Xe,zt)|0,O=O+Math.imul(Xe,at)|0,O=O+Math.imul(je,zt)|0,q=q+Math.imul(je,at)|0,S=S+Math.imul(ze,Vt)|0,O=O+Math.imul(ze,ht)|0,O=O+Math.imul(qe,Vt)|0,q=q+Math.imul(qe,ht)|0,S=S+Math.imul(_e,Gt)|0,O=O+Math.imul(_e,pt)|0,O=O+Math.imul(ke,Gt)|0,q=q+Math.imul(ke,pt)|0,S=S+Math.imul(ae,Wt)|0,O=O+Math.imul(ae,gt)|0,O=O+Math.imul(be,Wt)|0,q=q+Math.imul(be,gt)|0,S=S+Math.imul(pe,Yt)|0,O=O+Math.imul(pe,yt)|0,O=O+Math.imul(G,Yt)|0,q=q+Math.imul(G,yt)|0,S=S+Math.imul(ne,Xt)|0,O=O+Math.imul(ne,_t)|0,O=O+Math.imul(oe,Xt)|0,q=q+Math.imul(oe,_t)|0;var ve=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(ve>>>26)|0,ve&=67108863,S=Math.imul(se,Fe),O=Math.imul(se,Ce),O=O+Math.imul(ce,Fe)|0,q=Math.imul(ce,Ce),S=S+Math.imul(Y,ft)|0,O=O+Math.imul(Y,tt)|0,O=O+Math.imul(ee,ft)|0,q=q+Math.imul(ee,tt)|0,S=S+Math.imul(it,zt)|0,O=O+Math.imul(it,at)|0,O=O+Math.imul(z,zt)|0,q=q+Math.imul(z,at)|0,S=S+Math.imul(Xe,Vt)|0,O=O+Math.imul(Xe,ht)|0,O=O+Math.imul(je,Vt)|0,q=q+Math.imul(je,ht)|0,S=S+Math.imul(ze,Gt)|0,O=O+Math.imul(ze,pt)|0,O=O+Math.imul(qe,Gt)|0,q=q+Math.imul(qe,pt)|0,S=S+Math.imul(_e,Wt)|0,O=O+Math.imul(_e,gt)|0,O=O+Math.imul(ke,Wt)|0,q=q+Math.imul(ke,gt)|0,S=S+Math.imul(ae,Yt)|0,O=O+Math.imul(ae,yt)|0,O=O+Math.imul(be,Yt)|0,q=q+Math.imul(be,yt)|0,S=S+Math.imul(pe,Xt)|0,O=O+Math.imul(pe,_t)|0,O=O+Math.imul(G,Xt)|0,q=q+Math.imul(G,_t)|0,S=S+Math.imul(ne,Zt)|0,O=O+Math.imul(ne,wt)|0,O=O+Math.imul(oe,Zt)|0,q=q+Math.imul(oe,wt)|0;var de=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(de>>>26)|0,de&=67108863,S=Math.imul(he,Fe),O=Math.imul(he,Ce),O=O+Math.imul(Ee,Fe)|0,q=Math.imul(Ee,Ce),S=S+Math.imul(se,ft)|0,O=O+Math.imul(se,tt)|0,O=O+Math.imul(ce,ft)|0,q=q+Math.imul(ce,tt)|0,S=S+Math.imul(Y,zt)|0,O=O+Math.imul(Y,at)|0,O=O+Math.imul(ee,zt)|0,q=q+Math.imul(ee,at)|0,S=S+Math.imul(it,Vt)|0,O=O+Math.imul(it,ht)|0,O=O+Math.imul(z,Vt)|0,q=q+Math.imul(z,ht)|0,S=S+Math.imul(Xe,Gt)|0,O=O+Math.imul(Xe,pt)|0,O=O+Math.imul(je,Gt)|0,q=q+Math.imul(je,pt)|0,S=S+Math.imul(ze,Wt)|0,O=O+Math.imul(ze,gt)|0,O=O+Math.imul(qe,Wt)|0,q=q+Math.imul(qe,gt)|0,S=S+Math.imul(_e,Yt)|0,O=O+Math.imul(_e,yt)|0,O=O+Math.imul(ke,Yt)|0,q=q+Math.imul(ke,yt)|0,S=S+Math.imul(ae,Xt)|0,O=O+Math.imul(ae,_t)|0,O=O+Math.imul(be,Xt)|0,q=q+Math.imul(be,_t)|0,S=S+Math.imul(pe,Zt)|0,O=O+Math.imul(pe,wt)|0,O=O+Math.imul(G,Zt)|0,q=q+Math.imul(G,wt)|0,S=S+Math.imul(ne,jt)|0,O=O+Math.imul(ne,U)|0,O=O+Math.imul(oe,jt)|0,q=q+Math.imul(oe,U)|0;var xe=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(xe>>>26)|0,xe&=67108863,S=Math.imul(he,ft),O=Math.imul(he,tt),O=O+Math.imul(Ee,ft)|0,q=Math.imul(Ee,tt),S=S+Math.imul(se,zt)|0,O=O+Math.imul(se,at)|0,O=O+Math.imul(ce,zt)|0,q=q+Math.imul(ce,at)|0,S=S+Math.imul(Y,Vt)|0,O=O+Math.imul(Y,ht)|0,O=O+Math.imul(ee,Vt)|0,q=q+Math.imul(ee,ht)|0,S=S+Math.imul(it,Gt)|0,O=O+Math.imul(it,pt)|0,O=O+Math.imul(z,Gt)|0,q=q+Math.imul(z,pt)|0,S=S+Math.imul(Xe,Wt)|0,O=O+Math.imul(Xe,gt)|0,O=O+Math.imul(je,Wt)|0,q=q+Math.imul(je,gt)|0,S=S+Math.imul(ze,Yt)|0,O=O+Math.imul(ze,yt)|0,O=O+Math.imul(qe,Yt)|0,q=q+Math.imul(qe,yt)|0,S=S+Math.imul(_e,Xt)|0,O=O+Math.imul(_e,_t)|0,O=O+Math.imul(ke,Xt)|0,q=q+Math.imul(ke,_t)|0,S=S+Math.imul(ae,Zt)|0,O=O+Math.imul(ae,wt)|0,O=O+Math.imul(be,Zt)|0,q=q+Math.imul(be,wt)|0,S=S+Math.imul(pe,jt)|0,O=O+Math.imul(pe,U)|0,O=O+Math.imul(G,jt)|0,q=q+Math.imul(G,U)|0;var Oe=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,S=Math.imul(he,zt),O=Math.imul(he,at),O=O+Math.imul(Ee,zt)|0,q=Math.imul(Ee,at),S=S+Math.imul(se,Vt)|0,O=O+Math.imul(se,ht)|0,O=O+Math.imul(ce,Vt)|0,q=q+Math.imul(ce,ht)|0,S=S+Math.imul(Y,Gt)|0,O=O+Math.imul(Y,pt)|0,O=O+Math.imul(ee,Gt)|0,q=q+Math.imul(ee,pt)|0,S=S+Math.imul(it,Wt)|0,O=O+Math.imul(it,gt)|0,O=O+Math.imul(z,Wt)|0,q=q+Math.imul(z,gt)|0,S=S+Math.imul(Xe,Yt)|0,O=O+Math.imul(Xe,yt)|0,O=O+Math.imul(je,Yt)|0,q=q+Math.imul(je,yt)|0,S=S+Math.imul(ze,Xt)|0,O=O+Math.imul(ze,_t)|0,O=O+Math.imul(qe,Xt)|0,q=q+Math.imul(qe,_t)|0,S=S+Math.imul(_e,Zt)|0,O=O+Math.imul(_e,wt)|0,O=O+Math.imul(ke,Zt)|0,q=q+Math.imul(ke,wt)|0,S=S+Math.imul(ae,jt)|0,O=O+Math.imul(ae,U)|0,O=O+Math.imul(be,jt)|0,q=q+Math.imul(be,U)|0;var Ne=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,S=Math.imul(he,Vt),O=Math.imul(he,ht),O=O+Math.imul(Ee,Vt)|0,q=Math.imul(Ee,ht),S=S+Math.imul(se,Gt)|0,O=O+Math.imul(se,pt)|0,O=O+Math.imul(ce,Gt)|0,q=q+Math.imul(ce,pt)|0,S=S+Math.imul(Y,Wt)|0,O=O+Math.imul(Y,gt)|0,O=O+Math.imul(ee,Wt)|0,q=q+Math.imul(ee,gt)|0,S=S+Math.imul(it,Yt)|0,O=O+Math.imul(it,yt)|0,O=O+Math.imul(z,Yt)|0,q=q+Math.imul(z,yt)|0,S=S+Math.imul(Xe,Xt)|0,O=O+Math.imul(Xe,_t)|0,O=O+Math.imul(je,Xt)|0,q=q+Math.imul(je,_t)|0,S=S+Math.imul(ze,Zt)|0,O=O+Math.imul(ze,wt)|0,O=O+Math.imul(qe,Zt)|0,q=q+Math.imul(qe,wt)|0,S=S+Math.imul(_e,jt)|0,O=O+Math.imul(_e,U)|0,O=O+Math.imul(ke,jt)|0,q=q+Math.imul(ke,U)|0;var nt=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(nt>>>26)|0,nt&=67108863,S=Math.imul(he,Gt),O=Math.imul(he,pt),O=O+Math.imul(Ee,Gt)|0,q=Math.imul(Ee,pt),S=S+Math.imul(se,Wt)|0,O=O+Math.imul(se,gt)|0,O=O+Math.imul(ce,Wt)|0,q=q+Math.imul(ce,gt)|0,S=S+Math.imul(Y,Yt)|0,O=O+Math.imul(Y,yt)|0,O=O+Math.imul(ee,Yt)|0,q=q+Math.imul(ee,yt)|0,S=S+Math.imul(it,Xt)|0,O=O+Math.imul(it,_t)|0,O=O+Math.imul(z,Xt)|0,q=q+Math.imul(z,_t)|0,S=S+Math.imul(Xe,Zt)|0,O=O+Math.imul(Xe,wt)|0,O=O+Math.imul(je,Zt)|0,q=q+Math.imul(je,wt)|0,S=S+Math.imul(ze,jt)|0,O=O+Math.imul(ze,U)|0,O=O+Math.imul(qe,jt)|0,q=q+Math.imul(qe,U)|0;var Jt=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,S=Math.imul(he,Wt),O=Math.imul(he,gt),O=O+Math.imul(Ee,Wt)|0,q=Math.imul(Ee,gt),S=S+Math.imul(se,Yt)|0,O=O+Math.imul(se,yt)|0,O=O+Math.imul(ce,Yt)|0,q=q+Math.imul(ce,yt)|0,S=S+Math.imul(Y,Xt)|0,O=O+Math.imul(Y,_t)|0,O=O+Math.imul(ee,Xt)|0,q=q+Math.imul(ee,_t)|0,S=S+Math.imul(it,Zt)|0,O=O+Math.imul(it,wt)|0,O=O+Math.imul(z,Zt)|0,q=q+Math.imul(z,wt)|0,S=S+Math.imul(Xe,jt)|0,O=O+Math.imul(Xe,U)|0,O=O+Math.imul(je,jt)|0,q=q+Math.imul(je,U)|0;var Rt=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,S=Math.imul(he,Yt),O=Math.imul(he,yt),O=O+Math.imul(Ee,Yt)|0,q=Math.imul(Ee,yt),S=S+Math.imul(se,Xt)|0,O=O+Math.imul(se,_t)|0,O=O+Math.imul(ce,Xt)|0,q=q+Math.imul(ce,_t)|0,S=S+Math.imul(Y,Zt)|0,O=O+Math.imul(Y,wt)|0,O=O+Math.imul(ee,Zt)|0,q=q+Math.imul(ee,wt)|0,S=S+Math.imul(it,jt)|0,O=O+Math.imul(it,U)|0,O=O+Math.imul(z,jt)|0,q=q+Math.imul(z,U)|0;var yn=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(yn>>>26)|0,yn&=67108863,S=Math.imul(he,Xt),O=Math.imul(he,_t),O=O+Math.imul(Ee,Xt)|0,q=Math.imul(Ee,_t),S=S+Math.imul(se,Zt)|0,O=O+Math.imul(se,wt)|0,O=O+Math.imul(ce,Zt)|0,q=q+Math.imul(ce,wt)|0,S=S+Math.imul(Y,jt)|0,O=O+Math.imul(Y,U)|0,O=O+Math.imul(ee,jt)|0,q=q+Math.imul(ee,U)|0;var Nr=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,S=Math.imul(he,Zt),O=Math.imul(he,wt),O=O+Math.imul(Ee,Zt)|0,q=Math.imul(Ee,wt),S=S+Math.imul(se,jt)|0,O=O+Math.imul(se,U)|0,O=O+Math.imul(ce,jt)|0,q=q+Math.imul(ce,U)|0;var As=(v+S|0)+((O&8191)<<13)|0;v=(q+(O>>>13)|0)+(As>>>26)|0,As&=67108863,S=Math.imul(he,jt),O=Math.imul(he,U),O=O+Math.imul(Ee,jt)|0,q=Math.imul(Ee,U);var vn=(v+S|0)+((O&8191)<<13)|0;return v=(q+(O>>>13)|0)+(vn>>>26)|0,vn&=67108863,A[0]=$,A[1]=V,A[2]=W,A[3]=X,A[4]=Z,A[5]=ue,A[6]=fe,A[7]=ve,A[8]=de,A[9]=xe,A[10]=Oe,A[11]=Ne,A[12]=nt,A[13]=Jt,A[14]=Rt,A[15]=yn,A[16]=Nr,A[17]=As,A[18]=vn,v!==0&&(A[19]=v,_.length++),_};Math.imul||(w=y);function P(h,l,b){b.negative=l.negative^h.negative,b.length=h.length+l.length;for(var _=0,x=0,I=0;I<b.length-1;I++){var A=x;x=0;for(var v=_&67108863,S=Math.min(I,l.length-1),O=Math.max(0,I-h.length+1);O<=S;O++){var q=I-O,J=h.words[q]|0,ne=l.words[O]|0,oe=J*ne,le=oe&67108863;A=A+(oe/67108864|0)|0,le=le+v|0,v=le&67108863,A=A+(le>>>26)|0,x+=A>>>26,A&=67108863}b.words[I]=v,_=A,A=x}return _!==0?b.words[I]=_:b.length--,b.strip()}function C(h,l,b){var _=new R;return _.mulp(h,l,b)}a.prototype.mulTo=function(l,b){var _,x=this.length+l.length;return this.length===10&&l.length===10?_=w(this,l,b):x<63?_=y(this,l,b):x<1024?_=P(this,l,b):_=C(this,l,b),_};function R(h,l){this.x=h,this.y=l}R.prototype.makeRBT=function(l){for(var b=new Array(l),_=a.prototype._countBits(l)-1,x=0;x<l;x++)b[x]=this.revBin(x,_,l);return b},R.prototype.revBin=function(l,b,_){if(l===0||l===_-1)return l;for(var x=0,I=0;I<b;I++)x|=(l&1)<<b-I-1,l>>=1;return x},R.prototype.permute=function(l,b,_,x,I,A){for(var v=0;v<A;v++)x[v]=b[l[v]],I[v]=_[l[v]]},R.prototype.transform=function(l,b,_,x,I,A){this.permute(A,l,b,_,x,I);for(var v=1;v<I;v<<=1)for(var S=v<<1,O=Math.cos(2*Math.PI/S),q=Math.sin(2*Math.PI/S),J=0;J<I;J+=S)for(var ne=O,oe=q,le=0;le<v;le++){var pe=_[J+le],G=x[J+le],te=_[J+le+v],ae=x[J+le+v],be=ne*te-oe*ae;ae=ne*ae+oe*te,te=be,_[J+le]=pe+te,x[J+le]=G+ae,_[J+le+v]=pe-te,x[J+le+v]=G-ae,le!==S&&(be=O*ne-q*oe,oe=O*oe+q*ne,ne=be)}},R.prototype.guessLen13b=function(l,b){var _=Math.max(b,l)|1,x=_&1,I=0;for(_=_/2|0;_;_=_>>>1)I++;return 1<<I+1+x},R.prototype.conjugate=function(l,b,_){if(!(_<=1))for(var x=0;x<_/2;x++){var I=l[x];l[x]=l[_-x-1],l[_-x-1]=I,I=b[x],b[x]=-b[_-x-1],b[_-x-1]=-I}},R.prototype.normalize13b=function(l,b){for(var _=0,x=0;x<b/2;x++){var I=Math.round(l[2*x+1]/b)*8192+Math.round(l[2*x]/b)+_;l[x]=I&67108863,I<67108864?_=0:_=I/67108864|0}return l},R.prototype.convert13b=function(l,b,_,x){for(var I=0,A=0;A<b;A++)I=I+(l[A]|0),_[2*A]=I&8191,I=I>>>13,_[2*A+1]=I&8191,I=I>>>13;for(A=2*b;A<x;++A)_[A]=0;s(I===0),s((I&-8192)===0)},R.prototype.stub=function(l){for(var b=new Array(l),_=0;_<l;_++)b[_]=0;return b},R.prototype.mulp=function(l,b,_){var x=2*this.guessLen13b(l.length,b.length),I=this.makeRBT(x),A=this.stub(x),v=new Array(x),S=new Array(x),O=new Array(x),q=new Array(x),J=new Array(x),ne=new Array(x),oe=_.words;oe.length=x,this.convert13b(l.words,l.length,v,x),this.convert13b(b.words,b.length,q,x),this.transform(v,A,S,O,x,I),this.transform(q,A,J,ne,x,I);for(var le=0;le<x;le++){var pe=S[le]*J[le]-O[le]*ne[le];O[le]=S[le]*ne[le]+O[le]*J[le],S[le]=pe}return this.conjugate(S,O,x),this.transform(S,O,oe,A,x,I),this.conjugate(oe,A,x),this.normalize13b(oe,x),_.negative=l.negative^b.negative,_.length=l.length+b.length,_.strip()},a.prototype.mul=function(l){var b=new a(null);return b.words=new Array(this.length+l.length),this.mulTo(l,b)},a.prototype.mulf=function(l){var b=new a(null);return b.words=new Array(this.length+l.length),C(this,l,b)},a.prototype.imul=function(l){return this.clone().mulTo(l,this)},a.prototype.imuln=function(l){s(typeof l=="number"),s(l<67108864);for(var b=0,_=0;_<this.length;_++){var x=(this.words[_]|0)*l,I=(x&67108863)+(b&67108863);b>>=26,b+=x/67108864|0,b+=I>>>26,this.words[_]=I&67108863}return b!==0&&(this.words[_]=b,this.length++),this},a.prototype.muln=function(l){return this.clone().imuln(l)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(l){var b=p(l);if(b.length===0)return new a(1);for(var _=this,x=0;x<b.length&&b[x]===0;x++,_=_.sqr());if(++x<b.length)for(var I=_.sqr();x<b.length;x++,I=I.sqr())b[x]!==0&&(_=_.mul(I));return _},a.prototype.iushln=function(l){s(typeof l=="number"&&l>=0);var b=l%26,_=(l-b)/26,x=67108863>>>26-b<<26-b,I;if(b!==0){var A=0;for(I=0;I<this.length;I++){var v=this.words[I]&x,S=(this.words[I]|0)-v<<b;this.words[I]=S|A,A=v>>>26-b}A&&(this.words[I]=A,this.length++)}if(_!==0){for(I=this.length-1;I>=0;I--)this.words[I+_]=this.words[I];for(I=0;I<_;I++)this.words[I]=0;this.length+=_}return this.strip()},a.prototype.ishln=function(l){return s(this.negative===0),this.iushln(l)},a.prototype.iushrn=function(l,b,_){s(typeof l=="number"&&l>=0);var x;b?x=(b-b%26)/26:x=0;var I=l%26,A=Math.min((l-I)/26,this.length),v=67108863^67108863>>>I<<I,S=_;if(x-=A,x=Math.max(0,x),S){for(var O=0;O<A;O++)S.words[O]=this.words[O];S.length=A}if(A!==0)if(this.length>A)for(this.length-=A,O=0;O<this.length;O++)this.words[O]=this.words[O+A];else this.words[0]=0,this.length=1;var q=0;for(O=this.length-1;O>=0&&(q!==0||O>=x);O--){var J=this.words[O]|0;this.words[O]=q<<26-I|J>>>I,q=J&v}return S&&q!==0&&(S.words[S.length++]=q),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(l,b,_){return s(this.negative===0),this.iushrn(l,b,_)},a.prototype.shln=function(l){return this.clone().ishln(l)},a.prototype.ushln=function(l){return this.clone().iushln(l)},a.prototype.shrn=function(l){return this.clone().ishrn(l)},a.prototype.ushrn=function(l){return this.clone().iushrn(l)},a.prototype.testn=function(l){s(typeof l=="number"&&l>=0);var b=l%26,_=(l-b)/26,x=1<<b;if(this.length<=_)return!1;var I=this.words[_];return!!(I&x)},a.prototype.imaskn=function(l){s(typeof l=="number"&&l>=0);var b=l%26,_=(l-b)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(b!==0&&_++,this.length=Math.min(_,this.length),b!==0){var x=67108863^67108863>>>b<<b;this.words[this.length-1]&=x}return this.strip()},a.prototype.maskn=function(l){return this.clone().imaskn(l)},a.prototype.iaddn=function(l){return s(typeof l=="number"),s(l<67108864),l<0?this.isubn(-l):this.negative!==0?this.length===1&&(this.words[0]|0)<l?(this.words[0]=l-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(l),this.negative=1,this):this._iaddn(l)},a.prototype._iaddn=function(l){this.words[0]+=l;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},a.prototype.isubn=function(l){if(s(typeof l=="number"),s(l<67108864),l<0)return this.iaddn(-l);if(this.negative!==0)return this.negative=0,this.iaddn(l),this.negative=1,this;if(this.words[0]-=l,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this.strip()},a.prototype.addn=function(l){return this.clone().iaddn(l)},a.prototype.subn=function(l){return this.clone().isubn(l)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(l,b,_){var x=l.length+_,I;this._expand(x);var A,v=0;for(I=0;I<l.length;I++){A=(this.words[I+_]|0)+v;var S=(l.words[I]|0)*b;A-=S&67108863,v=(A>>26)-(S/67108864|0),this.words[I+_]=A&67108863}for(;I<this.length-_;I++)A=(this.words[I+_]|0)+v,v=A>>26,this.words[I+_]=A&67108863;if(v===0)return this.strip();for(s(v===-1),v=0,I=0;I<this.length;I++)A=-(this.words[I]|0)+v,v=A>>26,this.words[I]=A&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(l,b){var _=this.length-l.length,x=this.clone(),I=l,A=I.words[I.length-1]|0,v=this._countBits(A);_=26-v,_!==0&&(I=I.ushln(_),x.iushln(_),A=I.words[I.length-1]|0);var S=x.length-I.length,O;if(b!=="mod"){O=new a(null),O.length=S+1,O.words=new Array(O.length);for(var q=0;q<O.length;q++)O.words[q]=0}var J=x.clone()._ishlnsubmul(I,1,S);J.negative===0&&(x=J,O&&(O.words[S]=1));for(var ne=S-1;ne>=0;ne--){var oe=(x.words[I.length+ne]|0)*67108864+(x.words[I.length+ne-1]|0);for(oe=Math.min(oe/A|0,67108863),x._ishlnsubmul(I,oe,ne);x.negative!==0;)oe--,x.negative=0,x._ishlnsubmul(I,1,ne),x.isZero()||(x.negative^=1);O&&(O.words[ne]=oe)}return O&&O.strip(),x.strip(),b!=="div"&&_!==0&&x.iushrn(_),{div:O||null,mod:x}},a.prototype.divmod=function(l,b,_){if(s(!l.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var x,I,A;return this.negative!==0&&l.negative===0?(A=this.neg().divmod(l,b),b!=="mod"&&(x=A.div.neg()),b!=="div"&&(I=A.mod.neg(),_&&I.negative!==0&&I.iadd(l)),{div:x,mod:I}):this.negative===0&&l.negative!==0?(A=this.divmod(l.neg(),b),b!=="mod"&&(x=A.div.neg()),{div:x,mod:A.mod}):(this.negative&l.negative)!==0?(A=this.neg().divmod(l.neg(),b),b!=="div"&&(I=A.mod.neg(),_&&I.negative!==0&&I.isub(l)),{div:A.div,mod:I}):l.length>this.length||this.cmp(l)<0?{div:new a(0),mod:this}:l.length===1?b==="div"?{div:this.divn(l.words[0]),mod:null}:b==="mod"?{div:null,mod:new a(this.modn(l.words[0]))}:{div:this.divn(l.words[0]),mod:new a(this.modn(l.words[0]))}:this._wordDiv(l,b)},a.prototype.div=function(l){return this.divmod(l,"div",!1).div},a.prototype.mod=function(l){return this.divmod(l,"mod",!1).mod},a.prototype.umod=function(l){return this.divmod(l,"mod",!0).mod},a.prototype.divRound=function(l){var b=this.divmod(l);if(b.mod.isZero())return b.div;var _=b.div.negative!==0?b.mod.isub(l):b.mod,x=l.ushrn(1),I=l.andln(1),A=_.cmp(x);return A<0||I===1&&A===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},a.prototype.modn=function(l){s(l<=67108863);for(var b=67108864%l,_=0,x=this.length-1;x>=0;x--)_=(b*_+(this.words[x]|0))%l;return _},a.prototype.idivn=function(l){s(l<=67108863);for(var b=0,_=this.length-1;_>=0;_--){var x=(this.words[_]|0)+b*67108864;this.words[_]=x/l|0,b=x%l}return this.strip()},a.prototype.divn=function(l){return this.clone().idivn(l)},a.prototype.egcd=function(l){s(l.negative===0),s(!l.isZero());var b=this,_=l.clone();b.negative!==0?b=b.umod(l):b=b.clone();for(var x=new a(1),I=new a(0),A=new a(0),v=new a(1),S=0;b.isEven()&&_.isEven();)b.iushrn(1),_.iushrn(1),++S;for(var O=_.clone(),q=b.clone();!b.isZero();){for(var J=0,ne=1;(b.words[0]&ne)===0&&J<26;++J,ne<<=1);if(J>0)for(b.iushrn(J);J-- >0;)(x.isOdd()||I.isOdd())&&(x.iadd(O),I.isub(q)),x.iushrn(1),I.iushrn(1);for(var oe=0,le=1;(_.words[0]&le)===0&&oe<26;++oe,le<<=1);if(oe>0)for(_.iushrn(oe);oe-- >0;)(A.isOdd()||v.isOdd())&&(A.iadd(O),v.isub(q)),A.iushrn(1),v.iushrn(1);b.cmp(_)>=0?(b.isub(_),x.isub(A),I.isub(v)):(_.isub(b),A.isub(x),v.isub(I))}return{a:A,b:v,gcd:_.iushln(S)}},a.prototype._invmp=function(l){s(l.negative===0),s(!l.isZero());var b=this,_=l.clone();b.negative!==0?b=b.umod(l):b=b.clone();for(var x=new a(1),I=new a(0),A=_.clone();b.cmpn(1)>0&&_.cmpn(1)>0;){for(var v=0,S=1;(b.words[0]&S)===0&&v<26;++v,S<<=1);if(v>0)for(b.iushrn(v);v-- >0;)x.isOdd()&&x.iadd(A),x.iushrn(1);for(var O=0,q=1;(_.words[0]&q)===0&&O<26;++O,q<<=1);if(O>0)for(_.iushrn(O);O-- >0;)I.isOdd()&&I.iadd(A),I.iushrn(1);b.cmp(_)>=0?(b.isub(_),x.isub(I)):(_.isub(b),I.isub(x))}var J;return b.cmpn(1)===0?J=x:J=I,J.cmpn(0)<0&&J.iadd(l),J},a.prototype.gcd=function(l){if(this.isZero())return l.abs();if(l.isZero())return this.abs();var b=this.clone(),_=l.clone();b.negative=0,_.negative=0;for(var x=0;b.isEven()&&_.isEven();x++)b.iushrn(1),_.iushrn(1);do{for(;b.isEven();)b.iushrn(1);for(;_.isEven();)_.iushrn(1);var I=b.cmp(_);if(I<0){var A=b;b=_,_=A}else if(I===0||_.cmpn(1)===0)break;b.isub(_)}while(!0);return _.iushln(x)},a.prototype.invm=function(l){return this.egcd(l).a.umod(l)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(l){return this.words[0]&l},a.prototype.bincn=function(l){s(typeof l=="number");var b=l%26,_=(l-b)/26,x=1<<b;if(this.length<=_)return this._expand(_+1),this.words[_]|=x,this;for(var I=x,A=_;I!==0&&A<this.length;A++){var v=this.words[A]|0;v+=I,I=v>>>26,v&=67108863,this.words[A]=v}return I!==0&&(this.words[A]=I,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(l){var b=l<0;if(this.negative!==0&&!b)return-1;if(this.negative===0&&b)return 1;this.strip();var _;if(this.length>1)_=1;else{b&&(l=-l),s(l<=67108863,"Number is too big");var x=this.words[0]|0;_=x===l?0:x<l?-1:1}return this.negative!==0?-_|0:_},a.prototype.cmp=function(l){if(this.negative!==0&&l.negative===0)return-1;if(this.negative===0&&l.negative!==0)return 1;var b=this.ucmp(l);return this.negative!==0?-b|0:b},a.prototype.ucmp=function(l){if(this.length>l.length)return 1;if(this.length<l.length)return-1;for(var b=0,_=this.length-1;_>=0;_--){var x=this.words[_]|0,I=l.words[_]|0;if(x!==I){x<I?b=-1:x>I&&(b=1);break}}return b},a.prototype.gtn=function(l){return this.cmpn(l)===1},a.prototype.gt=function(l){return this.cmp(l)===1},a.prototype.gten=function(l){return this.cmpn(l)>=0},a.prototype.gte=function(l){return this.cmp(l)>=0},a.prototype.ltn=function(l){return this.cmpn(l)===-1},a.prototype.lt=function(l){return this.cmp(l)===-1},a.prototype.lten=function(l){return this.cmpn(l)<=0},a.prototype.lte=function(l){return this.cmp(l)<=0},a.prototype.eqn=function(l){return this.cmpn(l)===0},a.prototype.eq=function(l){return this.cmp(l)===0},a.red=function(l){return new N(l)},a.prototype.toRed=function(l){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),l.convertTo(this)._forceRed(l)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(l){return this.red=l,this},a.prototype.forceRed=function(l){return s(!this.red,"Already a number in reduction context"),this._forceRed(l)},a.prototype.redAdd=function(l){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,l)},a.prototype.redIAdd=function(l){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,l)},a.prototype.redSub=function(l){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,l)},a.prototype.redISub=function(l){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,l)},a.prototype.redShl=function(l){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,l)},a.prototype.redMul=function(l){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.mul(this,l)},a.prototype.redIMul=function(l){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,l),this.red.imul(this,l)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(l){return s(this.red&&!l.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,l)};var T={k256:null,p224:null,p192:null,p25519:null};function k(h,l){this.name=h,this.p=new a(l,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}k.prototype._tmp=function(){var l=new a(null);return l.words=new Array(Math.ceil(this.n/13)),l},k.prototype.ireduce=function(l){var b=l,_;do this.split(b,this.tmp),b=this.imulK(b),b=b.iadd(this.tmp),_=b.bitLength();while(_>this.n);var x=_<this.n?-1:b.ucmp(this.p);return x===0?(b.words[0]=0,b.length=1):x>0?b.isub(this.p):b.strip!==void 0?b.strip():b._strip(),b},k.prototype.split=function(l,b){l.iushrn(this.n,0,b)},k.prototype.imulK=function(l){return l.imul(this.k)};function H(){k.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(H,k),H.prototype.split=function(l,b){for(var _=4194303,x=Math.min(l.length,9),I=0;I<x;I++)b.words[I]=l.words[I];if(b.length=x,l.length<=9){l.words[0]=0,l.length=1;return}var A=l.words[9];for(b.words[b.length++]=A&_,I=10;I<l.length;I++){var v=l.words[I]|0;l.words[I-10]=(v&_)<<4|A>>>22,A=v}A>>>=22,l.words[I-10]=A,A===0&&l.length>10?l.length-=10:l.length-=9},H.prototype.imulK=function(l){l.words[l.length]=0,l.words[l.length+1]=0,l.length+=2;for(var b=0,_=0;_<l.length;_++){var x=l.words[_]|0;b+=x*977,l.words[_]=b&67108863,b=x*64+(b/67108864|0)}return l.words[l.length-1]===0&&(l.length--,l.words[l.length-1]===0&&l.length--),l};function F(){k.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(F,k);function L(){k.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(L,k);function D(){k.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(D,k),D.prototype.imulK=function(l){for(var b=0,_=0;_<l.length;_++){var x=(l.words[_]|0)*19+b,I=x&67108863;x>>>=26,l.words[_]=I,b=x}return b!==0&&(l.words[l.length++]=b),l},a._prime=function(l){if(T[l])return T[l];var b;if(l==="k256")b=new H;else if(l==="p224")b=new F;else if(l==="p192")b=new L;else if(l==="p25519")b=new D;else throw new Error("Unknown prime "+l);return T[l]=b,b};function N(h){if(typeof h=="string"){var l=a._prime(h);this.m=l.p,this.prime=l}else s(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}N.prototype._verify1=function(l){s(l.negative===0,"red works only with positives"),s(l.red,"red works only with red numbers")},N.prototype._verify2=function(l,b){s((l.negative|b.negative)===0,"red works only with positives"),s(l.red&&l.red===b.red,"red works only with red numbers")},N.prototype.imod=function(l){return this.prime?this.prime.ireduce(l)._forceRed(this):l.umod(this.m)._forceRed(this)},N.prototype.neg=function(l){return l.isZero()?l.clone():this.m.sub(l)._forceRed(this)},N.prototype.add=function(l,b){this._verify2(l,b);var _=l.add(b);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},N.prototype.iadd=function(l,b){this._verify2(l,b);var _=l.iadd(b);return _.cmp(this.m)>=0&&_.isub(this.m),_},N.prototype.sub=function(l,b){this._verify2(l,b);var _=l.sub(b);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},N.prototype.isub=function(l,b){this._verify2(l,b);var _=l.isub(b);return _.cmpn(0)<0&&_.iadd(this.m),_},N.prototype.shl=function(l,b){return this._verify1(l),this.imod(l.ushln(b))},N.prototype.imul=function(l,b){return this._verify2(l,b),this.imod(l.imul(b))},N.prototype.mul=function(l,b){return this._verify2(l,b),this.imod(l.mul(b))},N.prototype.isqr=function(l){return this.imul(l,l.clone())},N.prototype.sqr=function(l){return this.mul(l,l)},N.prototype.sqrt=function(l){if(l.isZero())return l.clone();var b=this.m.andln(3);if(s(b%2===1),b===3){var _=this.m.add(new a(1)).iushrn(2);return this.pow(l,_)}for(var x=this.m.subn(1),I=0;!x.isZero()&&x.andln(1)===0;)I++,x.iushrn(1);s(!x.isZero());var A=new a(1).toRed(this),v=A.redNeg(),S=this.m.subn(1).iushrn(1),O=this.m.bitLength();for(O=new a(2*O*O).toRed(this);this.pow(O,S).cmp(v)!==0;)O.redIAdd(v);for(var q=this.pow(O,x),J=this.pow(l,x.addn(1).iushrn(1)),ne=this.pow(l,x),oe=I;ne.cmp(A)!==0;){for(var le=ne,pe=0;le.cmp(A)!==0;pe++)le=le.redSqr();s(pe<oe);var G=this.pow(q,new a(1).iushln(oe-pe-1));J=J.redMul(G),q=G.redSqr(),ne=ne.redMul(q),oe=pe}return J},N.prototype.invm=function(l){var b=l._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},N.prototype.pow=function(l,b){if(b.isZero())return new a(1).toRed(this);if(b.cmpn(1)===0)return l.clone();var _=4,x=new Array(1<<_);x[0]=new a(1).toRed(this),x[1]=l;for(var I=2;I<x.length;I++)x[I]=this.mul(x[I-1],l);var A=x[0],v=0,S=0,O=b.bitLength()%26;for(O===0&&(O=26),I=b.length-1;I>=0;I--){for(var q=b.words[I],J=O-1;J>=0;J--){var ne=q>>J&1;if(A!==x[0]&&(A=this.sqr(A)),ne===0&&v===0){S=0;continue}v<<=1,v|=ne,S++,!(S!==_&&(I!==0||J!==0))&&(A=this.mul(A,x[v]),S=0,v=0)}O=26}return A},N.prototype.convertTo=function(l){var b=l.umod(this.m);return b===l?b.clone():b},N.prototype.convertFrom=function(l){var b=l.clone();return b.red=null,b},a.mont=function(l){return new g(l)};function g(h){N.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(g,N),g.prototype.convertTo=function(l){return this.imod(l.ushln(this.shift))},g.prototype.convertFrom=function(l){var b=this.imod(l.mul(this.rinv));return b.red=null,b},g.prototype.imul=function(l,b){if(l.isZero()||b.isZero())return l.words[0]=0,l.length=1,l;var _=l.imul(b),x=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=_.isub(x).iushrn(this.shift),A=I;return I.cmp(this.m)>=0?A=I.isub(this.m):I.cmpn(0)<0&&(A=I.iadd(this.m)),A._forceRed(this)},g.prototype.mul=function(l,b){if(l.isZero()||b.isZero())return new a(0)._forceRed(this);var _=l.mul(b),x=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),I=_.isub(x).iushrn(this.shift),A=I;return I.cmp(this.m)>=0?A=I.isub(this.m):I.cmpn(0)<0&&(A=I.iadd(this.m)),A._forceRed(this)},g.prototype.invm=function(l){var b=this.imod(l._invmp(this.m).mul(this.r2));return b._forceRed(this)}})(t,this)});Qe("6gAsx",function(t,e){var r=Ar.Buffer,n=re("kooOK"),i=re("kBBbb");t.exports={checkState:function(s,o){if(!s)throw new n.InvalidState(o)},checkArgument:function(s,o,a,u){if(!s)throw new n.InvalidArgument(o,a,u)},checkArgumentType:function(s,o,a){if(a=a||"(unknown name)",i.isString(o)){if(o==="Buffer"){if(!r.isBuffer(s))throw new n.InvalidArgumentType(s,o,a)}else if(typeof s!==o)throw new n.InvalidArgumentType(s,o,a)}else if(!(s instanceof o))throw new n.InvalidArgumentType(s,o.name,a)}}});Qe("kooOK",function(t,e){"use strict";var r=re("kBBbb");function n(c,d){return c.replace("{0}",d[0]).replace("{1}",d[1]).replace("{2}",d[2])}var i=function(c,d){var f=function(){if(r.isString(d.message))this.message=n(d.message,arguments);else if(r.isFunction(d.message))this.message=d.message.apply(null,arguments);else throw new Error("Invalid error definition for "+d.name);this.stack=this.message+`
`+new Error().stack};return f.prototype=Object.create(c.prototype),f.prototype.name=c.prototype.name+d.name,c[d.name]=f,d.errors&&s(f,d.errors),f},s=function(c,d){r.each(d,function(f){i(c,f)})},o=function(c,d){return s(c,d),c},a={};a.Error=function(){this.message="Internal error",this.stack=this.message+`
`+new Error().stack},a.Error.prototype=Object.create(Error.prototype),a.Error.prototype.name="bsv.Error";var u=re("hDuMS");o(a.Error,u),t.exports=a.Error,t.exports.extend=function(c){return i(a.Error,c)}});Qe("kBBbb",function(t,e){"use strict";var r={};r.isArray=n=>Array.isArray(n),r.isNumber=n=>typeof n=="number",r.isObject=n=>n&&typeof n=="object",r.isString=n=>typeof n=="string",r.isUndefined=n=>typeof n>"u",r.isFunction=n=>typeof n=="function",r.isNull=n=>n===null,r.isDate=n=>n instanceof Date,r.extend=(n,i)=>Object.assign(n,i),r.noop=()=>{},r.every=(n,i)=>n.every(i||(s=>s)),r.map=(n,i)=>Array.from(n).map(i||(s=>s)),r.includes=(n,i)=>n.includes(i),r.each=(n,i)=>n.forEach(i),r.clone=n=>Object.assign({},n),r.pick=(n,i)=>{let s={};return i.forEach(o=>{typeof n[o]<"u"&&(s[o]=n[o])}),s},r.values=n=>Object.values(n),r.filter=(n,i)=>n.filter(i),r.reduce=(n,i,s)=>n.reduce(i,s),r.without=(n,i)=>n.filter(s=>s!==i),r.shuffle=n=>{let i=n.slice(0);for(let s=i.length-1;s>0;s--){let o=Math.floor(Math.random()*(s+1));[i[s],i[o]]=[i[o],i[s]]}return i},r.difference=(n,i)=>n.filter(s=>!i.includes(s)),r.findIndex=(n,i)=>n.findIndex(i),r.some=(n,i)=>n.some(i),r.range=n=>[...Array(n).keys()],r.isPositiveNumber=n=>n<126,t.exports=r});Qe("hDuMS",function(t,e){"use strict";var r="https://docs.moneybutton.com/";t.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: "+r+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"MissingInput",message:"Invalid inputIndex."}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"MissingOutput",message:"Output not found"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"},{name:"TransactionAlreadySealed",message:"Cannot update sealed transaction"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"},{name:"InvalidOpcode",message:'Invalid Opcode: got "{0}"'}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]},{name:"ECIES",message:"Internal Error on bsv-ecies Module {0}",errors:[{name:"DecryptionError",message:"Invalid Message: {0}"},{name:"UnsupportAlgorithm",message:"Unsupport Algorithm: {0}"}]},{name:"Mnemonic",message:"Internal Error on bsv-mnemonic module {0}",errors:[{name:"InvalidEntropy",message:"Entropy length must be an even multiple of 11 bits: {0}"},{name:"UnknownWordlist",message:"Could not detect the used word list: {0}"},{name:"InvalidMnemonic",message:"Mnemonic string is invalid: {0}"}]}]});Qe("kmMTb",function(t,e){var r=Ar.Buffer,n=re("dIoYd"),i=re("f0gTO"),s=re("gIXub"),o=re("arkeG"),a=re("7X5Fe"),u=re("bTTXN"),c=re("kBBbb"),d=re("6gAsx"),f=function m(p){if(!(this instanceof m))return new m(p);p&&this.set(p)};f.prototype.set=function(m){return this.hashbuf=m.hashbuf||this.hashbuf,this.endian=m.endian||this.endian,this.privkey=m.privkey||this.privkey,this.pubkey=m.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=m.sig||this.sig,this.k=m.k||this.k,this.verified=m.verified||this.verified,this},f.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()},f.prototype.calci=function(){for(var m=0;m<4;m++){this.sig.i=m;var p;try{p=this.toPublicKey()}catch(y){console.error(y);continue}if(p.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")},f.fromString=function(m){var p=JSON.parse(m);return new f(p)},f.prototype.randomK=function(){var m=i.getN(),p;do p=n.fromBuffer(a.getRandomBuffer(32));while(!(p.lt(m)&&p.gt(n.Zero)));return this.k=p,this},f.prototype.deterministicK=function(m){c.isUndefined(m)&&(m=0);var p=r.alloc(32);p.fill(1);var y=r.alloc(32);y.fill(0);var w=this.privkey.bn.toBuffer({size:32}),P=this.endian==="little"?r.from(this.hashbuf).reverse():this.hashbuf;y=u.sha256hmac(r.concat([p,r.from([0]),w,P]),y),p=u.sha256hmac(p,y),y=u.sha256hmac(r.concat([p,r.from([1]),w,P]),y),p=u.sha256hmac(p,y),p=u.sha256hmac(p,y);for(var C=n.fromBuffer(p),R=i.getN(),T=0;T<m||!(C.lt(R)&&C.gt(n.Zero));T++)y=u.sha256hmac(r.concat([p,r.from([0])]),y),p=u.sha256hmac(p,y),p=u.sha256hmac(p,y),C=n.fromBuffer(p);return this.k=C,this},f.prototype.toPublicKey=function(){var m=this.sig.i;d.checkArgument(m===0||m===1||m===2||m===3,new Error("i must be equal to 0, 1, 2, or 3"));var p=n.fromBuffer(this.hashbuf),y=this.sig.r,w=this.sig.s,P=m&1,C=m>>1,R=i.getN(),T=i.getG(),k=C?y.add(R):y,H=i.fromX(P,k),F=H.mul(R);if(!F.isInfinity())throw new Error("nR is not a valid curve point");var L=p.neg().umod(R),D=y.invm(R),N=H.mul(w).add(T.mul(L)).mul(D),g=o.fromPoint(N,this.sig.compressed);return g},f.prototype.sigError=function(){if(!r.isBuffer(this.hashbuf)||this.hashbuf.length!==32)return"hashbuf must be a 32 byte buffer";var m=this.sig.r,p=this.sig.s;if(!(m.gt(n.Zero)&&m.lt(i.getN()))||!(p.gt(n.Zero)&&p.lt(i.getN())))return"r and s not in range";var y=n.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),w=i.getN(),P=p.invm(w),C=P.mul(y).umod(w),R=P.mul(m).umod(w),T=i.getG().mulAdd(C,this.pubkey.point,R);return T.isInfinity()?"p is infinity":T.getX().umod(w).cmp(m)!==0?"Invalid signature":!1},f.toLowS=function(m){return m.gt(n.fromBuffer(r.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(m=i.getN().sub(m)),m},f.prototype._findSignature=function(m,p){var y=i.getN(),w=i.getG(),P=0,C,R,T,k;do(!this.k||P>0)&&this.deterministicK(P),P++,C=this.k,R=w.mul(C),T=new n(1).mul(R.x.umod(y)),k=C.invm(y).mul(p.add(m.mul(T))).umod(y);while(T.cmp(n.Zero)<=0||k.cmp(n.Zero)<=0);return k=f.toLowS(k),{s:k,r:T}},f.prototype.sign=function(){var m=this.hashbuf,p=this.privkey,y=p.bn;d.checkState(m&&p&&y,new Error("invalid parameters")),d.checkState(r.isBuffer(m)&&m.length===32,new Error("hashbuf must be a 32 byte buffer"));var w=n.fromBuffer(m,this.endian?{endian:this.endian}:void 0),P=this._findSignature(y,w);return P.compressed=this.pubkey.compressed,this.sig=new s(P),this},f.prototype.signRandomK=function(){return this.randomK(),this.sign()},f.prototype.toString=function(){var m={};return this.hashbuf&&(m.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(m.privkey=this.privkey.toString()),this.pubkey&&(m.pubkey=this.pubkey.toString()),this.sig&&(m.sig=this.sig.toString()),this.k&&(m.k=this.k.toString()),JSON.stringify(m)},f.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this},f.sign=function(m,p,y){return f().set({hashbuf:m,endian:y,privkey:p}).sign().sig},f.signWithCalcI=function(m,p,y){return f().set({hashbuf:m,endian:y,privkey:p}).sign().calci().sig},f.signRandomK=function(m,p,y){return f().set({hashbuf:m,endian:y,privkey:p}).signRandomK().sig},f.verify=function(m,p,y,w){return f().set({hashbuf:m,endian:w,sig:p,pubkey:y}).verify().verified},t.exports=f});Qe("f0gTO",function(t,e){var r=Ar.Buffer,n=re("dIoYd"),i=HV.ec,s=new i("secp256k1"),o=s.curve.point.bind(s.curve),a=s.curve.pointFromX.bind(s.curve),u=function(d,f,m){try{var p=o(d,f,m)}catch{throw new Error("Invalid Point")}return p.validate(),p};u.prototype=Object.getPrototypeOf(s.curve.point()),u.fromX=function(d,f){try{var m=a(f,d)}catch{throw new Error("Invalid X")}return m.validate(),m},u.getG=function(){return s.curve.g},u.getN=function(){return new n(s.curve.n.toArray())},u.prototype._getX||(u.prototype._getX=u.prototype.getX),u.prototype.getX=function(){return new n(this._getX().toArray())},u.prototype._getY||(u.prototype._getY=u.prototype.getY),u.prototype.getY=function(){return new n(this._getY().toArray())},u.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var d;try{d=a(this.getX(),this.getY().isOdd())}catch{throw new Error("Point does not lie on the curve")}if(d.y.cmp(this.y)!==0)throw new Error("Invalid y value for curve.");if(!this.mul(u.getN()).isInfinity())throw new Error("Point times N must be infinity");return this},u.pointToCompressed=function(d){var f=d.getX().toBuffer({size:32}),m=d.getY().toBuffer({size:32}),p,y=m[m.length-1]%2;return y?p=r.from([3]):p=r.from([2]),r.concat([p,f])},u.pointFromCompressed=function(c){if(c.length!==33)throw new Error("invalid buffer length");let d=c[0],f;if(d===3)f=!0;else if(d===2)f=!1;else throw new Error("invalid value of compressed prefix");let m=c.slice(1,33),p=n.fromBuffer(m);return u.fromX(f,p)},u.prototype.toBuffer=function(){return u.pointToCompressed(this)},u.prototype.toHex=function(){return this.toBuffer().toString("hex")},u.fromBuffer=function(c){return u.pointFromCompressed(c)},u.fromHex=function(c){return u.fromBuffer(r.from(c,"hex"))},t.exports=u});Qe("gIXub",function(t,e){var r=Ar.Buffer,n=re("dIoYd"),i=re("kBBbb"),s=re("6gAsx"),o=re("gk75r"),a=function u(c,d){if(!(this instanceof u))return new u(c,d);if(c instanceof n)this.set({r:c,s:d});else if(c){var f=c;this.set(f)}};a.prototype.set=function(u){return this.r=u.r||this.r||void 0,this.s=u.s||this.s||void 0,this.i=typeof u.i<"u"?u.i:this.i,this.compressed=typeof u.compressed<"u"?u.compressed:this.compressed,this.nhashtype=u.nhashtype||this.nhashtype||void 0,this},a.fromCompact=function(u){s.checkArgument(r.isBuffer(u),"Argument is expected to be a Buffer");var c=new a,d=!0,f=u.slice(0,1)[0]-27-4;f<0&&(d=!1,f=f+4);var m=u.slice(1,33),p=u.slice(33,65);return s.checkArgument(f===0||f===1||f===2||f===3,new Error("i must be 0, 1, 2, or 3")),s.checkArgument(m.length===32,new Error("r must be 32 bytes")),s.checkArgument(p.length===32,new Error("s must be 32 bytes")),c.compressed=d,c.i=f,c.r=n.fromBuffer(m),c.s=n.fromBuffer(p),c},a.fromDER=a.fromBuffer=function(u,c){var d=a.parseDER(u,c),f=new a;return f.r=d.r,f.s=d.s,f},a.fromTxFormat=function(u){var c=u.readUInt8(u.length-1),d=u.slice(0,u.length-1),f=a.fromDER(d,!1);return f.nhashtype=c,f},a.fromString=function(u){var c=r.from(u,"hex");return a.fromDER(c)},a.parseDER=function(u,c){s.checkArgument(r.isBuffer(u),new Error("DER formatted signature should be a buffer")),i.isUndefined(c)&&(c=!0);var d=u[0];s.checkArgument(d===48,new Error("Header byte should be 0x30"));var f=u[1],m=u.slice(2).length;s.checkArgument(!c||f===m,new Error("Length byte should length of what follows")),f=f<m?f:m;var p=u[2];s.checkArgument(p===2,new Error("Integer byte for r should be 0x02"));var y=u[3],w=u.slice(4,4+y),P=n.fromBuffer(w),C=u[4]===0;s.checkArgument(y===w.length,new Error("Length of r incorrect"));var R=u[4+y+0];s.checkArgument(R===2,new Error("Integer byte for s should be 0x02"));var T=u[4+y+1],k=u.slice(4+y+2,4+y+2+T),H=n.fromBuffer(k),F=u[4+y+2+2]===0;s.checkArgument(T===k.length,new Error("Length of s incorrect"));var L=4+y+2+T;s.checkArgument(f===L-2,new Error("Length of signature incorrect"));var D={header:d,length:f,rheader:p,rlength:y,rneg:C,rbuf:w,r:P,sheader:R,slength:T,sneg:F,sbuf:k,s:H};return D},a.prototype.toCompact=function(u,c){if(u=typeof u=="number"?u:this.i,c=typeof c=="boolean"?c:this.compressed,!(u===0||u===1||u===2||u===3))throw new Error("i must be equal to 0, 1, 2, or 3");var d=u+27+4;c===!1&&(d=d-4);var f=r.from([d]),m=this.r.toBuffer({size:32}),p=this.s.toBuffer({size:32});return r.concat([f,m,p])},a.prototype.toBuffer=a.prototype.toDER=function(){var u=this.r.toBuffer(),c=this.s.toBuffer(),d=!!(u[0]&128),f=!!(c[0]&128),m=d?r.concat([r.from([0]),u]):u,p=f?r.concat([r.from([0]),c]):c,y=m.length,w=p.length,P=2+y+2+w,C=2,R=2,T=48,k=r.concat([r.from([T,P,C,y]),m,r.from([R,w]),p]);return k},a.prototype.toString=function(){var u=this.toDER();return u.toString("hex")},a.isTxDER=function(u){if(u.length<9||u.length>73||u[0]!==48||u[1]!==u.length-3)return!1;var c=u[3];if(5+c>=u.length)return!1;var d=u[5+c];if(c+d+7!==u.length)return!1;var f=u.slice(4);if(u[2]!==2||c===0||f[0]&128||c>1&&f[0]===0&&!(f[1]&128))return!1;var m=u.slice(6+c);return!(u[6+c-2]!==2||d===0||m[0]&128||d>1&&m[0]===0&&!(m[1]&128))},a.prototype.hasLowS=function(){return!(this.s.lt(new n(1))||this.s.gt(new n("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))},a.prototype.hasDefinedHashtype=function(){if(!o.isNaturalNumber(this.nhashtype))return!1;var u=this.nhashtype&31;return!(u<a.SIGHASH_ALL||u>a.SIGHASH_SINGLE)},a.prototype.toTxFormat=function(){var u=this.toDER(),c=r.alloc(1);return c.writeUInt8(this.nhashtype,0),r.concat([u,c])},a.SIGHASH_ALL=1,a.SIGHASH_NONE=2,a.SIGHASH_SINGLE=3,a.SIGHASH_FORKID=64,a.SIGHASH_ANYONECANPAY=128,a.ALL=65,a.NONE=66,a.SINGLE=67,a.ANYONECANPAY_ALL=193,a.ANYONECANPAY_NONE=194,a.ANYONECANPAY_SINGLE=195,t.exports=a});Qe("gk75r",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("6gAsx"),s=function(a){return n.isString(a)?/^[0-9a-fA-F]+$/.test(a):!1};t.exports={isValidJSON:function(a){var u;if(!n.isString(a))return!1;try{u=JSON.parse(a)}catch{return!1}return typeof u=="object"},isHexa:s,isHexaString:s,defineImmutable:function(a,u){return Object.keys(u).forEach(function(c){Object.defineProperty(a,c,{configurable:!1,enumerable:!0,value:u[c]})}),a},isNaturalNumber:function(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a&&a>=0},integerAsBuffer:function(a){i.checkArgumentType(a,"number","integer");let u=r.allocUnsafe(4);return u.writeUInt32BE(a,0),u}}});Qe("arkeG",function(t,e){var r=Ar.Buffer,n=re("dIoYd"),i=re("f0gTO"),s=re("bTTXN"),o=re("gk75r"),a=re("cyjag"),u=re("kBBbb"),c=re("6gAsx");function d(f,m){if(!(this instanceof d))return new d(f,m);if(c.checkArgument(f,"First argument is required, please include public key data."),f instanceof d)return f;m=m||{};var p=this._classifyArgs(f,m);return p.point.validate(),o.defineImmutable(this,{point:p.point,compressed:p.compressed,network:p.network||a.defaultNetwork}),this}d.prototype._classifyArgs=function(f,m){var p={compressed:u.isUndefined(m.compressed)||m.compressed};if(f instanceof i)p.point=f;else if(f.x&&f.y)p=d._transformObject(f);else if(typeof f=="string")p=d._transformDER(r.from(f,"hex"));else if(d._isBuffer(f))p=d._transformDER(f);else if(d._isPrivateKey(f))p=d._transformPrivateKey(f);else throw new TypeError("First argument is an unrecognized data format.");return p.network||(p.network=u.isUndefined(m.network)?void 0:a.get(m.network)),p},d._isPrivateKey=function(f){var m=re("7smYJ");return f instanceof m},d._isBuffer=function(f){return f instanceof r||f instanceof Uint8Array},d._transformPrivateKey=function(f){c.checkArgument(d._isPrivateKey(f),"Must be an instance of PrivateKey");var m={};return m.point=i.getG().mul(f.bn),m.compressed=f.compressed,m.network=f.network,m},d._transformDER=function(f,m){c.checkArgument(d._isBuffer(f),"Must be a buffer of DER encoded public key");var p={};m=u.isUndefined(m)?!0:m;var y,w,P,C;if(f[0]===4||!m&&(f[0]===6||f[0]===7)){if(P=f.slice(1,33),C=f.slice(33,65),P.length!==32||C.length!==32||f.length!==65)throw new TypeError("Length of x and y must be 32 bytes");y=new n(P),w=new n(C),p.point=new i(y,w),p.compressed=!1}else if(f[0]===3)P=f.slice(1),y=new n(P),p=d._transformX(!0,y),p.compressed=!0;else if(f[0]===2)P=f.slice(1),y=new n(P),p=d._transformX(!1,y),p.compressed=!0;else throw new TypeError("Invalid DER format public key");return p},d._transformX=function(f,m){c.checkArgument(typeof f=="boolean","Must specify whether y is odd or not (true or false)");var p={};return p.point=i.fromX(f,m),p},d._transformObject=function(f){var m=new n(f.x,"hex"),p=new n(f.y,"hex"),y=new i(m,p);return new d(y,{compressed:f.compressed})},d.fromPrivateKey=function(f){c.checkArgument(d._isPrivateKey(f),"Must be an instance of PrivateKey");var m=d._transformPrivateKey(f);return new d(m.point,{compressed:m.compressed,network:m.network})},d.fromDER=d.fromBuffer=function(f,m){c.checkArgument(d._isBuffer(f),"Must be a buffer of DER encoded public key");var p=d._transformDER(f,m);return new d(p.point,{compressed:p.compressed})},d.fromPoint=function(f,m){return c.checkArgument(f instanceof i,"First argument must be an instance of Point."),new d(f,{compressed:m})},d.fromHex=d.fromString=function(f,m){var p=r.from(f,m||"hex"),y=d._transformDER(p);return new d(y.point,{compressed:y.compressed})},d.fromX=function(f,m){var p=d._transformX(f,m);return new d(p.point,{compressed:p.compressed})},d.getValidationError=function(f){var m;try{new d(f)}catch(p){m=p}return m},d.isValid=function(f){return!d.getValidationError(f)},d.prototype.toObject=d.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}},d.prototype.toBuffer=d.prototype.toDER=function(){var f=this.point.getX(),m=this.point.getY(),p=f.toBuffer({size:32}),y=m.toBuffer({size:32}),w;if(this.compressed){var P=y[y.length-1]%2;return P?w=r.from([3]):w=r.from([2]),r.concat([w,p])}else return w=r.from([4]),r.concat([w,p,y])},d.prototype._getID=function(){return s.sha256ripemd160(this.toBuffer())},d.prototype.toAddress=function(f){var m=re("iSUUt");return m.fromPublicKey(this,f||this.network)},d.prototype.toString=d.prototype.toHex=function(){return this.toDER().toString("hex")},d.prototype.inspect=function(){return"<PublicKey: "+this.toHex()+(this.compressed?"":", uncompressed")+">"},t.exports=d});Qe("bTTXN",function(t,e){t.exports=re("8Asny")});Qe("8Asny",function(t,e){var r=Ar.Buffer,n=re("6gAsx"),i=t.exports;i.sha1=function(s){return n.checkArgument(r.isBuffer(s)),r.from(Wl.sha1().update(s).digest("hex"),"hex")},i.sha1.blocksize=512,i.sha256=function(s){return n.checkArgument(r.isBuffer(s)),r.from(Wl.sha256().update(s).digest("hex"),"hex")},i.sha256.blocksize=512,i.sha256sha256=function(s){return n.checkArgument(r.isBuffer(s)),i.sha256(i.sha256(s))},i.ripemd160=function(s){return n.checkArgument(r.isBuffer(s)),r.from(Wl.ripemd160().update(s).digest("hex"),"hex")},i.sha256ripemd160=function(s){return n.checkArgument(r.isBuffer(s)),i.ripemd160(i.sha256(s))},i.sha512=function(s){return n.checkArgument(r.isBuffer(s)),r.from(Wl.sha512().update(s).digest("hex"),"hex")},i.sha512.blocksize=1024,i.hmac=function(s,o,a){n.checkArgument(r.isBuffer(o)),n.checkArgument(r.isBuffer(a)),n.checkArgument(s.blocksize);var u=s.blocksize/8;if(a.length>u)a=s(a);else if(a<u){var c=r.alloc(u);c.fill(0),a.copy(c),a=c}var d=r.alloc(u);d.fill(92);var f=r.alloc(u);f.fill(54);for(var m=r.alloc(u),p=r.alloc(u),y=0;y<u;y++)m[y]=d[y]^a[y],p[y]=f[y]^a[y];return s(r.concat([m,s(r.concat([p,o]))]))},i.sha256hmac=function(s,o){return i.hmac(i.sha256,s,o)},i.sha512hmac=function(s,o){return i.hmac(i.sha512,s,o)}});Qe("cyjag",function(t,e){"use strict";var r=re("kBBbb"),n=re("gk75r"),i=[],s={};function o(){}o.prototype.toString=function(){return this.name};function a(_,x){if(~i.indexOf(_))return _;if(x){r.isArray(x)||(x=[x]);for(var I=0;I<i.length;I++){var A=i[I],v=r.pick(A,x),S=r.values(v);if(~S.indexOf(_))return A}return}return s[_]}function u(_){for(var x=[],I=0;I<_.length;I++)x.push(_.charCodeAt(I)&31);return x}function c(_){var x=new o;n.defineImmutable(x,{name:_.name,alias:_.alias,pubkeyhash:_.pubkeyhash,privatekey:_.privatekey,scripthash:_.scripthash,xpubkey:_.xpubkey,xprivkey:_.xprivkey});var I=_.indexBy||Object.keys(_);return _.cashAddrPrefix&&r.extend(x,{cashAddrPrefix:_.cashAddrPrefix,cashAddrPrefixArray:u(_.cashAddrPrefix)}),_.networkMagic&&r.extend(x,{networkMagic:n.integerAsBuffer(_.networkMagic)}),_.port&&r.extend(x,{port:_.port}),_.dnsSeeds&&r.extend(x,{dnsSeeds:_.dnsSeeds}),i.push(x),d(x,I),x}function d(_,x){for(var I=0;I<x.length;I++){var A=x[I],v=_[A];!r.isUndefined(v)&&!r.isObject(v)&&(s[v]=_)}}function f(_,x){for(var I=0;I<x.length;I++){var A=x[I];s[A]===_&&delete s[A]}}function m(_){for(var x=0;x<i.length;x++)i[x]===_&&i.splice(x,1);f(_,Object.keys(s))}var p={livenet:3823236072,testnet:4108710900,regtest:3669344250,stn:4224632057},y=["seed.bitcoinsv.org","seed.bitcoinunlimited.info"],w={PORT:18333,NETWORK_MAGIC:p.testnet,DNS_SEEDS:y,PREFIX:"testnet",CASHADDRPREFIX:"bchtest"},P={PORT:18444,NETWORK_MAGIC:p.regtest,DNS_SEEDS:[],PREFIX:"regtest",CASHADDRPREFIX:"bchreg"},C={PORT:9333,NETWORK_MAGIC:p.stn,DNS_SEEDS:["stn-seed.bitcoinsv.io"],PREFIX:"stn",CASHADDRPREFIX:"bsvstn"},R={name:"livenet",alias:"mainnet",prefix:"bitcoin",cashAddrPrefix:"bitcoincash",pubkeyhash:0,privatekey:128,scripthash:5,xpubkey:76067358,xprivkey:76066276,networkMagic:p.livenet,port:8333,dnsSeeds:y},T={name:"testnet",prefix:w.PREFIX,cashAddrPrefix:w.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:w.NETWORK_MAGIC},k={name:"regtest",prefix:P.PREFIX,cashAddrPrefix:P.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:P.NETWORK_MAGIC,port:P.PORT,dnsSeeds:[],indexBy:["port","name","cashAddrPrefix","networkMagic"]},H={name:"stn",prefix:C.PREFIX,cashAddrPrefix:C.CASHADDRPREFIX,pubkeyhash:111,privatekey:239,scripthash:196,xpubkey:70617039,xprivkey:70615956,networkMagic:C.NETWORK_MAGIC,indexBy:["port","name","cashAddrPrefix","networkMagic"]};c(T),c(H),c(k),c(R);var F=a("livenet"),L=a("regtest"),D=a("testnet"),N=a("stn");Object.defineProperty(D,"port",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?P.PORT:this.stnEnabled?C.PORT:w.PORT}}),Object.defineProperty(D,"networkMagic",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?n.integerAsBuffer(P.NETWORK_MAGIC):this.stnEnabled?n.integerAsBuffer(C.NETWORK_MAGIC):n.integerAsBuffer(w.NETWORK_MAGIC)}}),Object.defineProperty(D,"dnsSeeds",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?P.DNS_SEEDS:this.stnEnabled?C.DNS_SEEDS:w.DNS_SEEDS}}),Object.defineProperty(D,"cashAddrPrefix",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?P.CASHADDRPREFIX:this.stnEnabled?C.CASHADDRPREFIX:w.CASHADDRPREFIX}}),Object.defineProperty(D,"cashAddrPrefixArray",{enumerable:!0,configurable:!1,get:function(){return this.regtestEnabled?u(P.CASHADDRPREFIX):this.stnEnabled?C.cashAddrPrefixToArray(C.CASHADDRPREFIX):u(w.CASHADDRPREFIX)}});function g(){D.regtestEnabled=!0}function h(){D.regtestEnabled=!1}function l(){D.stnEnabled=!0}function b(){D.stnEnabled=!1}t.exports={add:c,remove:m,defaultNetwork:F,livenet:F,mainnet:F,testnet:D,regtest:L,stn:N,get:a,enableRegtest:g,disableRegtest:h,enableStn:l,disableStn:b}});Qe("7smYJ",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("iSUUt"),s=re("j7ODq"),o=re("dIoYd"),a=re("gk75r"),u=re("cyjag"),c=re("f0gTO"),d=re("arkeG"),f=re("7X5Fe"),m=re("6gAsx");function p(y,w){if(!(this instanceof p))return new p(y,w);if(y instanceof p)return y;var P=this._classifyArguments(y,w);if(!P.bn||P.bn.cmp(new o(0))===0)throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!P.bn.lt(c.getN()))throw new TypeError("Number must be less than N");if(typeof P.network>"u")throw new TypeError('Must specify the network ("livenet" or "testnet")');return a.defineImmutable(this,{bn:P.bn,compressed:P.compressed,network:P.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}p.prototype._classifyArguments=function(y,w){var P={compressed:!0,network:w?u.get(w):u.defaultNetwork};if(n.isUndefined(y)||n.isNull(y))P.bn=p._getRandomBN();else if(y instanceof o)P.bn=y;else if(y instanceof r||y instanceof Uint8Array)P=p._transformBuffer(y,w);else if(y.bn&&y.network)P=p._transformObject(y);else if(!w&&u.get(y))P.bn=p._getRandomBN(),P.network=u.get(y);else if(typeof y=="string")a.isHexa(y)?P.bn=new o(r.from(y,"hex")):P=p._transformWIF(y,w);else throw new TypeError("First argument is an unrecognized data type.");return P},p._getRandomBN=function(){var y,w;do{var P=f.getRandomBuffer(32);w=o.fromBuffer(P),y=w.lt(c.getN())}while(!y);return w},p._transformBuffer=function(y,w){var P={};if(y.length===32)return p._transformBNBuffer(y,w);if(P.network=u.get(y[0],"privatekey"),!P.network)throw new Error("Invalid network");if(w&&P.network!==u.get(w))throw new TypeError("Private key network mismatch");if(y.length===34&&y[33]===1)P.compressed=!0;else if(y.length===33)P.compressed=!1;else throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");return P.bn=o.fromBuffer(y.slice(1,33)),P},p._transformBNBuffer=function(y,w){var P={};return P.network=u.get(w)||u.defaultNetwork,P.bn=o.fromBuffer(y),P.compressed=!1,P},p._transformWIF=function(y,w){return p._transformBuffer(s.decode(y),w)},p.fromBuffer=function(y,w){return new p(y,w)},p.fromHex=function(y,w){return p.fromBuffer(r.from(y,"hex"),w)},p._transformObject=function(y){var w=new o(y.bn,"hex"),P=u.get(y.network);return{bn:w,network:P,compressed:y.compressed}},p.fromString=p.fromWIF=function(y){return m.checkArgument(n.isString(y),"First argument is expected to be a string."),new p(y)},p.fromObject=p.fromJSON=function(y){return m.checkArgument(n.isObject(y),"First argument is expected to be an object."),new p(y)},p.fromRandom=function(y){var w=p._getRandomBN();return new p(w,y)},p.getValidationError=function(y,w){var P;try{new p(y,w)}catch(C){P=C}return P},p.isValid=function(y,w){return y?!p.getValidationError(y,w):!1},p.prototype.toString=function(){return this.toWIF()},p.prototype.toWIF=function(){var y=this.network,w=this.compressed,P;return w?P=r.concat([r.from([y.privatekey]),this.bn.toBuffer({size:32}),r.from([1])]):P=r.concat([r.from([y.privatekey]),this.bn.toBuffer({size:32})]),s.encode(P)},p.prototype.toBigNumber=function(){return this.bn},p.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})},p.prototype.toHex=function(){return this.toBuffer().toString("hex")},p.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=d.fromPrivateKey(this)),this._pubkey},p.prototype.toAddress=function(y){var w=this.toPublicKey();return i.fromPublicKey(w,y||this.network)},p.prototype.toObject=p.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}},p.prototype.inspect=function(){var y=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toHex()+", network: "+this.network+y+">"},t.exports=p});Qe("iSUUt",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("6gAsx"),s=re("kooOK"),o=re("j7ODq"),a=re("cyjag"),u=re("bTTXN"),c=re("gk75r"),d=re("arkeG");function f(m,p,y){if(!(this instanceof f))return new f(m,p,y);if(n.isArray(m)&&n.isNumber(p))return f.createMultisig(m,p,y);if(m instanceof f)return m;if(i.checkArgument(m,"First argument is required, please include address data.","guide/address.html"),p&&!a.get(p))throw new TypeError('Second argument must be "livenet", "testnet", or "regtest".');if(y&&y!==f.PayToPublicKeyHash&&y!==f.PayToScriptHash)throw new TypeError('Third argument must be "pubkeyhash" or "scripthash".');var w=this._classifyArguments(m,p,y);return w.network=w.network||a.get(p)||a.defaultNetwork,w.type=w.type||y||f.PayToPublicKeyHash,c.defineImmutable(this,{hashBuffer:w.hashBuffer,network:w.network,type:w.type}),this}f.prototype._classifyArguments=function(m,p,y){var w=re("hkiTH");if((m instanceof r||m instanceof Uint8Array)&&m.length===20)return f._transformHash(m);if((m instanceof r||m instanceof Uint8Array)&&m.length===21)return f._transformBuffer(m,p,y);if(m instanceof d)return f._transformPublicKey(m);if(m instanceof w)return f._transformScript(m,p);if(typeof m=="string")return f._transformString(m,p,y);if(n.isObject(m))return f._transformObject(m);throw new TypeError("First argument is an unrecognized data format.")},f.PayToPublicKeyHash="pubkeyhash",f.PayToScriptHash="scripthash",f._transformHash=function(m){var p={};if(!(m instanceof r)&&!(m instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(m.length!==20)throw new TypeError("Address hashbuffers must be exactly 20 bytes.");return p.hashBuffer=m,p},f._transformObject=function(m){return i.checkArgument(m.hash||m.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),i.checkArgument(m.type,"Must provide a `type` property"),{hashBuffer:m.hash?r.from(m.hash,"hex"):m.hashBuffer,network:a.get(m.network)||a.defaultNetwork,type:m.type}},f._classifyFromVersion=function(m){var p={},y=a.get(m[0],"pubkeyhash"),w=a.get(m[0],"scripthash");return y?(p.network=y,p.type=f.PayToPublicKeyHash):w&&(p.network=w,p.type=f.PayToScriptHash),p},f._transformBuffer=function(m,p,y){var w={};if(!(m instanceof r)&&!(m instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(m.length!==21)throw new TypeError("Address buffers must be exactly 21 bytes.");var P=a.get(p),C=f._classifyFromVersion(m);if(p&&!P)throw new TypeError("Unknown network");if(!C.network||P&&P!==C.network)throw new TypeError("Address has mismatched network type.");if(!C.type||y&&y!==C.type)throw new TypeError("Address has mismatched type.");return w.hashBuffer=m.slice(1),w.network=C.network,w.type=C.type,w},f._transformPublicKey=function(m){var p={};if(!(m instanceof d))throw new TypeError("Address must be an instance of PublicKey.");return p.hashBuffer=u.sha256ripemd160(m.toBuffer()),p.type=f.PayToPublicKeyHash,p},f._transformScript=function(m,p){var y=re("hkiTH");i.checkArgument(m instanceof y,"script must be a Script instance");var w=m.getAddressInfo(p);if(!w)throw new s.Script.CantDeriveAddress(m);return w},f.createMultisig=function(m,p,y){var w=re("hkiTH");return y=y||m[0].network||a.defaultNetwork,f.payingTo(w.buildMultisigOut(m,p),y)},f._transformString=function(m,p,y){if(typeof m!="string")throw new TypeError("data parameter supplied is not a string.");if(m.length<27)throw new Error("Invalid Address string provided");m=m.trim();var w=a.get(p);if(p&&!w)throw new TypeError("Unknown network");var P=o.decode(m);return f._transformBuffer(P,p,y)},f.fromPublicKey=function(m,p){var y=f._transformPublicKey(m);return p=p||a.defaultNetwork,new f(y.hashBuffer,p,y.type)},f.fromPrivateKey=function(m,p){let y=d.fromPrivateKey(m);return p=p||m.network||a.defaultNetwork,f.fromPublicKey(y,p)},f.fromPublicKeyHash=function(m,p){var y=f._transformHash(m);return new f(y.hashBuffer,p,f.PayToPublicKeyHash)},f.fromScriptHash=function(m,p){i.checkArgument(m,"hash parameter is required");var y=f._transformHash(m);return new f(y.hashBuffer,p,f.PayToScriptHash)},f.payingTo=function(m,p){var y=re("hkiTH");return i.checkArgument(m,"script is required"),i.checkArgument(m instanceof y,"script must be instance of Script"),f.fromScriptHash(u.sha256ripemd160(m.toBuffer()),p)},f.fromScript=function(m,p){var y=re("hkiTH");i.checkArgument(m instanceof y,"script must be a Script instance");var w=f._transformScript(m,p);return new f(w.hashBuffer,p,w.type)},f.fromBuffer=function(m,p,y){var w=f._transformBuffer(m,p,y);return new f(w.hashBuffer,w.network,w.type)},f.fromHex=function(m,p,y){return f.fromBuffer(r.from(m,"hex"),p,y)},f.fromString=function(m,p,y){var w=f._transformString(m,p,y);return new f(w.hashBuffer,w.network,w.type)},f.fromObject=function(p){i.checkState(c.isHexa(p.hash),'Unexpected hash property, "'+p.hash+'", expected to be hex.');var y=r.from(p.hash,"hex");return new f(y,p.network,p.type)},f.getValidationError=function(m,p,y){var w;try{new f(m,p,y)}catch(P){w=P}return w},f.isValid=function(m,p,y){return!f.getValidationError(m,p,y)},f.prototype.isPayToPublicKeyHash=function(){return this.type===f.PayToPublicKeyHash},f.prototype.isPayToScriptHash=function(){return this.type===f.PayToScriptHash},f.prototype.toBuffer=function(){var m=r.from([this.network[this.type]]),p=r.concat([m,this.hashBuffer]);return p},f.prototype.toHex=function(){return this.toBuffer().toString("hex")},f.prototype.toObject=f.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}},f.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"},f.prototype.toString=function(){return o.encode(this.toBuffer())},t.exports=f});Qe("j7ODq",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("jG967"),s=re("bTTXN"),o=s.sha256sha256,a=function u(c){if(!(this instanceof u))return new u(c);if(r.isBuffer(c)){var d=c;this.fromBuffer(d)}else if(typeof c=="string"){var f=c;this.fromString(f)}};a.prototype.set=function(u){return this.buf=u.buf||this.buf||void 0,this},a.validChecksum=function(c,d){return n.isString(c)&&(c=r.from(i.decode(c))),n.isString(d)&&(d=r.from(i.decode(d))),d||(d=c.slice(-4),c=c.slice(0,-4)),a.checksum(c).toString("hex")===d.toString("hex")},a.decode=function(u){if(typeof u!="string")throw new Error("Input must be a string");var c=r.from(i.decode(u));if(c.length<4)throw new Error("Input string too short");var d=c.slice(0,-4),f=c.slice(-4),m=o(d),p=m.slice(0,4);if(f.toString("hex")!==p.toString("hex"))throw new Error("Checksum mismatch");return d},a.checksum=function(u){return o(u).slice(0,4)},a.encode=function(u){if(!r.isBuffer(u))throw new Error("Input must be a buffer");var c=r.alloc(u.length+4),d=a.checksum(u);return u.copy(c),d.copy(c,u.length),i.encode(c)},a.prototype.fromBuffer=function(u){return this.buf=u,this},a.fromBuffer=function(u){return new a().fromBuffer(u)},a.fromHex=function(u){return a.fromBuffer(r.from(u,"hex"))},a.prototype.fromString=function(u){var c=a.decode(u);return this.buf=c,this},a.fromString=function(u){var c=a.decode(u);return new i(c)},a.prototype.toBuffer=function(){return this.buf},a.prototype.toHex=function(){return this.toBuffer().toString("hex")},a.prototype.toString=function(){return a.encode(this.buf)},t.exports=a});Qe("jG967",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),s=function o(a){if(!(this instanceof o))return new o(a);if(r.isBuffer(a)){var u=a;this.fromBuffer(u)}else if(typeof a=="string"){var c=a;this.fromString(c)}};s.validCharacters=function(a){return r.isBuffer(a)&&(a=a.toString()),n.every(n.map(a,function(u){return n.includes(i,u)}))},s.prototype.set=function(o){return this.buf=o.buf||this.buf||void 0,this},s.encode=function(o){if(!r.isBuffer(o))throw new Error("Input should be a buffer");return mP.encode(o)},s.decode=function(o){if(typeof o!="string")throw new Error("Input should be a string");return r.from(mP.decode(o))},s.prototype.fromBuffer=function(o){return this.buf=o,this},s.fromBuffer=function(o){return new s().fromBuffer(o)},s.fromHex=function(o){return s.fromBuffer(r.from(o,"hex"))},s.prototype.fromString=function(o){var a=s.decode(o);return this.buf=a,this},s.fromString=function(o){return new s().fromString(o)},s.prototype.toBuffer=function(){return this.buf},s.prototype.toHex=function(){return this.toBuffer().toString("hex")},s.prototype.toString=function(){return s.encode(this.buf)},t.exports=s});Qe("hkiTH",function(t,e){t.exports=re("eIR83"),t.exports.Interpreter=re("g4xmW"),t.exports.Stack=re("bSS4t")});Qe("eIR83",function(t,e){var r=Ar.Buffer,n=re("iSUUt"),i=re("2AZ1V"),s=re("bTTXN"),o=re("bpasi"),a=re("arkeG"),u=re("gIXub"),c=re("cyjag"),d=re("6gAsx"),f=re("kBBbb"),m=re("kooOK"),p=re("gk75r"),y=re("apNYJ"),w=re("62MER"),P=re("kndCV");let C=new WeakMap;var R=function T(k){if(!(this instanceof T))return new T(k);if(this.buffer=r.from([]),r.isBuffer(k))return T.fromBuffer(k);if(k instanceof n)return T.fromAddress(k);if(k instanceof T)return T.fromBuffer(k.toBuffer());if(f.isString(k))return T.fromString(k);if(f.isObject(k)&&f.isArray(k.chunks))return T.fromChunks(k.chunks);if(f.isObject(k)&&r.isBuffer(k.buffer))return T.fromBuffer(k.buffer)};R.prototype.set=function(T){if(d.checkArgument(f.isObject(T)),T.chunks&&f.isArray(T.chunks)){var k=R.fromChunks(T.chunks);return this.buffer=k.buffer,this}return d.checkArgument(r.isBuffer(T.buffer)),this.buffer=T.buffer,this},R.fromBuffer=function(T){d.checkArgument(r.isBuffer(T));var k=new R;return k.buffer=T,k},R.fromChunks=function(T){var k=new R;let H=new i;for(let F=0;F<T.length;F++){let L=T[F];H.writeUInt8(L.opcodenum),L.buf&&(L.opcodenum<o.OP_PUSHDATA1?H.write(L.buf):L.opcodenum===o.OP_PUSHDATA1?(H.writeUInt8(L.len),H.write(L.buf)):L.opcodenum===o.OP_PUSHDATA2?(H.writeUInt16LE(L.len),H.write(L.buf)):L.opcodenum===o.OP_PUSHDATA4&&(H.writeUInt32LE(L.len),H.write(L.buf)))}return k.buffer=H.toBuffer(),k},R.prototype.toBuffer=function(){return this.buffer},R.fromASM=function(T){return R.fromBuffer(w(T))},R.fromHex=function(T){return new R(r.from(T,"hex"))},R.fromString=function(T){if(p.isHexa(T)||T.length===0)return new R(r.from(T,"hex"));for(var k=[],H=T.split(" "),F=0;F<H.length;){var L=H[F],D=o(L),N=D.toNumber();if(f.isUndefined(N))if(N=parseInt(L),N>0&&N<o.OP_PUSHDATA1){var g=r.from(H[F+1].slice(2),"hex");if(g.length!==N)throw new Error("Invalid script buf len: "+JSON.stringify(T));k.push({buf:r.from(H[F+1].slice(2),"hex"),len:N,opcodenum:N}),F=F+2}else throw new Error("Invalid script: "+JSON.stringify(T));else if(N===o.OP_PUSHDATA1||N===o.OP_PUSHDATA2||N===o.OP_PUSHDATA4){if(H[F+2].slice(0,2)!=="0x")throw new Error("Pushdata data must start with 0x");k.push({buf:r.from(H[F+2].slice(2),"hex"),len:parseInt(H[F+1]),opcodenum:N}),F=F+3}else k.push({opcodenum:N}),F=F+1}return R.fromChunks(k)},R.prototype.slice=function(T,k){return this.buffer.slice(T,k)},Object.defineProperty(R.prototype,"chunks",{get(){if(C.has(this))return C.get(this);let T=y(this.buffer);return C.set(this,T),T}}),Object.defineProperty(R.prototype,"length",{get(){return this.buffer.length}}),R.prototype._chunkToString=function(T,k){var H=T.opcodenum,F=k==="asm",L="";if(T.buf)!F&&(H===o.OP_PUSHDATA1||H===o.OP_PUSHDATA2||H===o.OP_PUSHDATA4)&&(L=L+" "+o(H).toString()),T.len>0&&(F?L=L+" "+T.buf.toString("hex"):L=L+" "+T.len+" 0x"+T.buf.toString("hex"));else if(typeof o.reverseMap[H]<"u")F?H===0?L=L+" 0":H===79?L=L+" -1":L=L+" "+o(H).toString():L=L+" "+o(H).toString();else{var D=H.toString(16);D.length%2!==0&&(D="0"+D),F?L=L+" "+D:L=L+" 0x"+D}return L},R.prototype.toASM=function(){for(var T="",k=this.chunks,H=0;H<k.length;H++){var F=this.chunks[H];T+=this._chunkToString(F,"asm")}return T.substr(1)},R.prototype.toString=function(){for(var T="",k=0;k<this.chunks.length;k++){var H=this.chunks[k];T+=this._chunkToString(H)}return T.substr(1)},R.prototype.toHex=function(){return P(this.buffer)},R.prototype.inspect=function(){return"<Script: "+this.toString()+">"},R.prototype.isPublicKeyHashOut=function(){return!!(this.chunks.length===5&&this.chunks[0].opcodenum===o.OP_DUP&&this.chunks[1].opcodenum===o.OP_HASH160&&this.chunks[2].buf&&this.chunks[2].buf.length===20&&this.chunks[3].opcodenum===o.OP_EQUALVERIFY&&this.chunks[4].opcodenum===o.OP_CHECKSIG)},R.prototype.isPublicKeyHashIn=function(){if(this.chunks.length===2){var T=this.chunks[0].buf,k=this.chunks[1].buf;if(T&&T.length&&T[0]===48&&k&&k.length){var H=k[0];if((H===4||H===6||H===7)&&k.length===65)return!0;if((H===3||H===2)&&k.length===33)return!0}}return!1},R.prototype.getPublicKey=function(){return d.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf},R.prototype.getPublicKeyHash=function(){return d.checkState(this.isPublicKeyHashOut(),"Can't retrieve PublicKeyHash from a non-PKH output"),this.chunks[2].buf},R.prototype.isPublicKeyOut=function(){if(this.chunks.length===2&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===o.OP_CHECKSIG){var T=this.chunks[0].buf,k=T[0],H=!1;if(((k===4||k===6||k===7)&&T.length===65||(k===3||k===2)&&T.length===33)&&(H=!0),H)return a.isValid(T)}return!1},R.prototype.isPublicKeyIn=function(){if(this.chunks.length===1){var T=this.chunks[0].buf;if(T&&T.length&&T[0]===48)return!0}return!1},R.prototype.isScriptHashOut=function(){var T=this.toBuffer();return T.length===23&&T[0]===o.OP_HASH160&&T[1]===20&&T[T.length-1]===o.OP_EQUAL},R.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var T=this.chunks[this.chunks.length-1],k=T.buf;if(!k)return!1;var H;try{H=R.fromBuffer(k)}catch(L){if(L instanceof m.Script.InvalidBuffer)return!1;throw L}var F=H.classify();return F!==R.types.UNKNOWN},R.prototype.isMultisigOut=function(){return this.chunks.length>3&&o.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(T){return T.buf&&r.isBuffer(T.buf)})&&o.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===o.OP_CHECKMULTISIG},R.prototype.isMultisigIn=function(){return this.chunks.length>=2&&this.chunks[0].opcodenum===0&&this.chunks.slice(1,this.chunks.length).every(function(T){return T.buf&&r.isBuffer(T.buf)&&u.isTxDER(T.buf)})},R.prototype.isDataOut=function(){var T=this.buffer.length>=1&&this.buffer[0]===o.OP_RETURN;if(!T)return!1;var k=this.buffer.slice(1),H=new R({buffer:k});return H.isPushOnly()},R.prototype.isSafeDataOut=function(){if(this.buffer.length<2||this.buffer[0]!==o.OP_FALSE)return!1;var T=this.buffer.slice(1),k=new R({buffer:T});return k.isDataOut()},R.prototype.getData=function(){if(this.isSafeDataOut()){var T=this.chunks.slice(2),k=T.map(H=>H.buf);return k}if(this.isDataOut()||this.isScriptHashOut())return f.isUndefined(this.chunks[1])?r.alloc(0):r.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return r.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")},R.prototype.isPushOnly=function(){return f.every(this.chunks,function(T){return T.opcodenum<=o.OP_16||T.opcodenum===o.OP_PUSHDATA1||T.opcodenum===o.OP_PUSHDATA2||T.opcodenum===o.OP_PUSHDATA4})},R.types={},R.types.UNKNOWN="Unknown",R.types.PUBKEY_OUT="Pay to public key",R.types.PUBKEY_IN="Spend from public key",R.types.PUBKEYHASH_OUT="Pay to public key hash",R.types.PUBKEYHASH_IN="Spend from public key hash",R.types.SCRIPTHASH_OUT="Pay to script hash",R.types.SCRIPTHASH_IN="Spend from script hash",R.types.MULTISIG_OUT="Pay to multisig",R.types.MULTISIG_IN="Spend from multisig",R.types.DATA_OUT="Data push",R.types.SAFE_DATA_OUT="Safe data push",R.OP_RETURN_STANDARD_SIZE=220,R.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var T=this.classifyOutput();return T!==R.types.UNKNOWN?T:this.classifyInput()},R.outputIdentifiers={},R.outputIdentifiers.PUBKEY_OUT=R.prototype.isPublicKeyOut,R.outputIdentifiers.PUBKEYHASH_OUT=R.prototype.isPublicKeyHashOut,R.outputIdentifiers.MULTISIG_OUT=R.prototype.isMultisigOut,R.outputIdentifiers.SCRIPTHASH_OUT=R.prototype.isScriptHashOut,R.outputIdentifiers.DATA_OUT=R.prototype.isDataOut,R.outputIdentifiers.SAFE_DATA_OUT=R.prototype.isSafeDataOut,R.prototype.classifyOutput=function(){for(var T in R.outputIdentifiers)if(R.outputIdentifiers[T].bind(this)())return R.types[T];return R.types.UNKNOWN},R.inputIdentifiers={},R.inputIdentifiers.PUBKEY_IN=R.prototype.isPublicKeyIn,R.inputIdentifiers.PUBKEYHASH_IN=R.prototype.isPublicKeyHashIn,R.inputIdentifiers.MULTISIG_IN=R.prototype.isMultisigIn,R.inputIdentifiers.SCRIPTHASH_IN=R.prototype.isScriptHashIn,R.prototype.classifyInput=function(){for(var T in R.inputIdentifiers)if(R.inputIdentifiers[T].bind(this)())return R.types[T];return R.types.UNKNOWN},R.prototype.isStandard=function(){return this.classify()!==R.types.UNKNOWN},R.prototype.prepend=function(T){return this._addByType(T,!0),this},R.prototype.equals=function(T){if(d.checkState(T instanceof R,"Must provide another script"),this.buffer.length!==T.buffer.length)return!1;var k;for(k=0;k<this.buffer.length;k++)if(this.buffer[k]!==T.buffer[k])return!1;return!0},R.prototype.add=function(T){return this._addByType(T,!1),this},R.prototype._addByType=function(T,k){if(typeof T=="string")this._addOpcode(T,k);else if(typeof T=="number")this._addOpcode(T,k);else if(T instanceof o)this._addOpcode(T,k);else if(r.isBuffer(T))this._addBuffer(T,k);else if(T instanceof R)this._insertAtPosition(T.buffer,k);else if(typeof T=="object"){var H=R.fromChunks([T]);this._insertAtPosition(H.toBuffer(),k)}else throw new Error("Invalid script chunk")},R.prototype._insertAtPosition=function(T,k){var H=new i;k?(H.write(T),H.write(this.buffer)):(H.write(this.buffer),H.write(T)),this.buffer=H.toBuffer()},R.prototype._addOpcode=function(T,k){var H;if(typeof T=="number"?H=T:T instanceof o?H=T.toNumber():H=o(T).toNumber(),H>255)throw new m.Script.InvalidOpcode(H);return this._insertAtPosition(R.fromChunks([{opcodenum:H}]).toBuffer(),k),this},R.prototype._addBuffer=function(T,k){var H=new i,F,L=T.length;if(L===0)F=0,H.writeUInt8(F);else if(L>0&&L<o.OP_PUSHDATA1)F=L,H.writeUInt8(F),H.write(T);else if(L<Math.pow(2,8))F=o.OP_PUSHDATA1,H.writeUInt8(F),H.writeUInt8(L),H.write(T);else if(L<Math.pow(2,16))F=o.OP_PUSHDATA2,H.writeUInt8(F),H.writeUInt16LE(L),H.write(T);else if(L<Math.pow(2,32))F=o.OP_PUSHDATA4,H.writeUInt8(F),H.writeUInt32LE(L),H.write(T);else throw new Error("You can't push that much data");return this._insertAtPosition(H.toBuffer(),k),this},R.prototype.clone=function(){return R.fromBuffer(this.buffer.slice())},R.prototype.removeCodeseparators=function(){for(var T=[],k=0;k<this.chunks.length;k++)this.chunks[k].opcodenum!==o.OP_CODESEPARATOR&&T.push(this.chunks[k]);return C.delete(this),this.buffer=R.fromChunks(T).toBuffer(),this},R.prototype.subScript=function(T){for(var k=0,H=0;H<this.chunks.length;H++)if(this.chunks[H].opcodenum===o.OP_CODESEPARATOR){if(k===T)return R.fromChunks(this.chunks.slice(H+1));k++}return this},R.buildMultisigOut=function(T,k,H){d.checkArgument(k<=T.length,"Number of required signatures must be less than or equal to the number of public keys"),H=H||{};var F=new R;F.add(o.smallInt(k)),T=f.map(T,a);var L=T;H.noSorting||(L=T.map(g=>g.toString("hex")).sort().map(g=>new a(g)));for(var D=0;D<L.length;D++){var N=L[D];F.add(N.toBuffer())}return F.add(o.smallInt(T.length)),F.add(o.OP_CHECKMULTISIG),F},R.buildMultisigIn=function(T,k,H,F){d.checkArgument(f.isArray(T)),d.checkArgument(f.isNumber(k)),d.checkArgument(f.isArray(H)),F=F||{};var L=new R;return L.add(o.OP_0),f.each(H,function(D){d.checkArgument(r.isBuffer(D),"Signatures must be an array of Buffers"),L.add(D)}),L},R.buildP2SHMultisigIn=function(T,k,H,F){d.checkArgument(f.isArray(T)),d.checkArgument(f.isNumber(k)),d.checkArgument(f.isArray(H)),F=F||{};var L=new R;return L.add(o.OP_0),f.each(H,function(D){d.checkArgument(r.isBuffer(D),"Signatures must be an array of Buffers"),L.add(D)}),L.add((F.cachedMultisig||R.buildMultisigOut(T,k,F)).toBuffer()),L},R.buildPublicKeyHashOut=function(T){d.checkArgument(!f.isUndefined(T)),d.checkArgument(T instanceof a||T instanceof n||f.isString(T)),T instanceof a?T=T.toAddress():f.isString(T)&&(T=new n(T));var k=new R;return k.add(o.OP_DUP).add(o.OP_HASH160).add(T.hashBuffer).add(o.OP_EQUALVERIFY).add(o.OP_CHECKSIG),k._network=T.network,k},R.buildPublicKeyOut=function(T){d.checkArgument(T instanceof a);var k=new R;return k.add(T.toBuffer()).add(o.OP_CHECKSIG),k},R.buildDataOut=function(T,k){d.checkArgument(f.isUndefined(T)||f.isString(T)||f.isArray(T)||r.isBuffer(T));var H=T;f.isArray(H)||(H=[T]);var F=new R;F.add(o.OP_RETURN);for(let L of H)d.checkArgument(f.isUndefined(L)||f.isString(L)||r.isBuffer(L)),f.isString(L)&&(L=r.from(L,k)),f.isUndefined(L)||F.add(L);return F},R.buildSafeDataOut=function(T,k){var H=R.buildDataOut(T,k),F=new R;return F.add(o.OP_FALSE),F.add(H),F},R.buildScriptHashOut=function(T){d.checkArgument(T instanceof R||T instanceof n&&T.isPayToScriptHash());var k=new R;return k.add(o.OP_HASH160).add(T instanceof n?T.hashBuffer:s.sha256ripemd160(T.toBuffer())).add(o.OP_EQUAL),k._network=T._network||T.network,k},R.buildPublicKeyIn=function(T,k){d.checkArgument(T instanceof u||r.isBuffer(T)),d.checkArgument(f.isUndefined(k)||f.isNumber(k)),T instanceof u&&(T=T.toBuffer());var H=new R;return H.add(r.concat([T,r.from([(k||u.SIGHASH_ALL)&255])])),H},R.buildPublicKeyHashIn=function(T,k,H){d.checkArgument(k instanceof u||r.isBuffer(k)),d.checkArgument(f.isUndefined(H)||f.isNumber(H)),k instanceof u&&(k=k.toBuffer());var F=new R().add(r.concat([k,r.from([(H||u.SIGHASH_ALL)&255])])).add(new a(T).toBuffer());return F},R.empty=function(){return new R},R.prototype.toScriptHashOut=function(){return R.buildScriptHashOut(this)},R.fromAddress=function(T){if(T=n(T),T.isPayToScriptHash())return R.buildScriptHashOut(T);if(T.isPayToPublicKeyHash())return R.buildPublicKeyHashOut(T);throw new m.Script.UnrecognizedAddress(T)},R.prototype.getAddressInfo=function(T){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var k=this._getOutputAddressInfo();return k||this._getInputAddressInfo()},R.prototype._getOutputAddressInfo=function(){var T={};if(this.isScriptHashOut())T.hashBuffer=this.getData(),T.type=n.PayToScriptHash;else if(this.isPublicKeyHashOut())T.hashBuffer=this.getData(),T.type=n.PayToPublicKeyHash;else return!1;return T},R.prototype._getInputAddressInfo=function(){var T={};if(this.isPublicKeyHashIn())T.hashBuffer=s.sha256ripemd160(this.chunks[1].buf),T.type=n.PayToPublicKeyHash;else if(this.isScriptHashIn())T.hashBuffer=s.sha256ripemd160(this.chunks[this.chunks.length-1].buf),T.type=n.PayToScriptHash;else return!1;return T},R.prototype.toAddress=function(T){var k=this.getAddressInfo();return k?(k.network=c.get(T)||this._network||c.defaultNetwork,new n(k)):!1},R.prototype.findAndDelete=function(T){for(var k=T.toBuffer(),H=k.toString("hex"),F=this.chunks,L=0;L<F.length;L++){var D=R.fromChunks([F[L]]),N=D.toBuffer(),g=N.toString("hex");H===g&&(F.splice(L,1),this.buffer=R.fromChunks(F).toBuffer())}return this},R.prototype.checkMinimalPush=function(T){var k=this.chunks[T],H=k.buf,F=k.opcodenum;return H?H.length===0?F===o.OP_0:H.length===1&&H[0]>=1&&H[0]<=16?F===o.OP_1+(H[0]-1):H.length===1&&H[0]===129?F===o.OP_1NEGATE:H.length<=75?F===H.length:H.length<=255?F===o.OP_PUSHDATA1:H.length<=65535?F===o.OP_PUSHDATA2:!0:!0},R.prototype._decodeOP_N=function(T){if(T===o.OP_0)return 0;if(T>=o.OP_1&&T<=o.OP_16)return T-(o.OP_1-1);throw new Error("Invalid opcode: "+JSON.stringify(T))},R.prototype.getSignatureOperationsCount=function(T){T=f.isUndefined(T)?!0:T;var k=this,H=0,F=o.OP_INVALIDOPCODE;return f.each(k.chunks,function(D){var N=D.opcodenum;N===o.OP_CHECKSIG||N===o.OP_CHECKSIGVERIFY?H++:(N===o.OP_CHECKMULTISIG||N===o.OP_CHECKMULTISIGVERIFY)&&(T&&F>=o.OP_1&&F<=o.OP_16?H+=k._decodeOP_N(F):H+=20),F=N}),H},t.exports=R});Qe("2AZ1V",function(t,e){var r=Ar.Buffer,n=re("1gpKq"),i=re("8H5li"),s=re("cMUqj"),o=re("lHHTh"),a=re("dZClM");class u{constructor(d){d?this.set(d):(this.buffers=[],this.length=0)}write(d){return this.buffers.push(d),this.length+=d.length,this}set(d){return this.buffers=d.buffers||d.bufs||this.buffers||[],this.length=this.buffers.reduce(function(f,m){return f+m.length},0),this}concat(){return this.toBuffer()}toBuffer(){if(this.buffers.length===1)return r.from(this.buffers[0]);let d=new Uint8Array(this.length),f=0;return this.buffers.forEach(m=>{d.set(m,f),f+=m.length}),r.from(d)}writeReverse(d){return Wd(r.isBuffer(d)),this.write(r.from(d).reverse()),this}writeUInt16LE(d){return i(this,d),this}writeUInt16BE(d){var f=new u;return f.writeUInt16LE(d),this.writeReverse(f.toBuffer()),this}writeUInt32LE(d){return s(this,d),this}writeUInt32BE(d){var f=new u;return f.writeUInt32LE(d),this.writeReverse(f.toBuffer()),this}writeUInt8(d){return n(this,d),this}writeUInt64LEBN(d){var f=d.toBuffer({size:8});return this.writeReverse(f),this}writeUInt64BEBN(d){var f=new u;return f.writeUInt64LEBN(d),this.writeReverse(f.toBuffer()),this}writeVarintNum(d){return a(this,d),this}writeInt32LE(d){return o(this,d),this}static varintBufNum(d){var f=new u;return f.writeVarintNum(d),f.toBuffer()}writeVarintBN(d){var f=d.toNumber();if(f<253)n(this,f);else if(f<65536)n(this,253),i(this,f);else if(f<4294967296)n(this,254),s(this,f);else{var m=new u;m.writeUInt8(255),m.writeUInt64LEBN(d);var p=m.toBuffer();this.write(p)}return this}}t.exports=u});Qe("1gpKq",function(t,e){function r(n,i){if(i>255)throw new Error("number too large");let s=new Uint8Array(1);return s[0]=i,n.write(s)}t.exports=r});Qe("8H5li",function(t,e){function r(n,i){if(i>65535)throw new Error("number too large");let s=new Uint8Array(2);return s[0]=i%256,i=i>>8,s[1]=i%256,n.write(s)}t.exports=r});Qe("cMUqj",function(t,e){function r(n,i){if(i>4294967295)throw new Error("number too large");let s=new Uint8Array(4);return s[0]=i%256,i=Math.floor(i/256),s[1]=i%256,i=i>>8,s[2]=i%256,i=i>>8,s[3]=i,n.write(s)}t.exports=r});Qe("lHHTh",function(t,e){function r(n,i){if(i<-2147483648||i>2147483647)throw new Error("Out of range. It must be >= -2147483648 and <= 2147483647.");let s=new Uint8Array(4);return s[0]=i%256,i=Math.floor(i/256),s[1]=i%256,i=i>>8,s[2]=i%256,i=i>>8,s[3]=i,n.write(s)}t.exports=r});Qe("dZClM",function(t,e){function r(n,i){if(i>Number.MAX_SAFE_INTEGER)throw new Error("varint too large");if(i<=252)return n.write([i]);if(i<=65535)return n.write([253,i%256,Math.floor(i/256)]);if(i<=4294967295){let o=new Uint8Array(5);return o[0]=254,o[1]=i%256,i=Math.floor(i/256),o[2]=i%256,i=Math.floor(i/256),o[3]=i%256,i=Math.floor(i/256),o[4]=i,n.write(o)}let s=new Uint8Array(9);return s[0]=255,s[1]=i%256,i=Math.floor(i/256),s[2]=i%256,i=Math.floor(i/256),s[3]=i%256,i=Math.floor(i/256),s[4]=i%256,i=Math.floor(i/256),s[5]=i%256,i=Math.floor(i/256),s[6]=i%256,i=Math.floor(i/256),s[7]=i%256,i=Math.floor(i/256),s[8]=i,n.write(s)}t.exports=r});Qe("bpasi",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("6gAsx"),s=re("gk75r");function o(u){if(!(this instanceof o))return new o(u);var c;if(n.isNumber(u))c=u;else if(n.isString(u))c=o.map[u];else throw new TypeError('Unrecognized num type: "'+typeof u+'" for Opcode');return s.defineImmutable(this,{num:c}),this}o.fromBuffer=function(u){return i.checkArgument(r.isBuffer(u)),new o(Number("0x"+u.toString("hex")))},o.fromNumber=function(u){return i.checkArgument(n.isNumber(u)),new o(u)},o.fromString=function(u){i.checkArgument(n.isString(u));var c=o.map[u];if(typeof c>"u")throw new TypeError("Invalid opcodestr");return new o(c)},o.prototype.toHex=function(){return this.num.toString(16)},o.prototype.toBuffer=function(){return r.from(this.toHex(),"hex")},o.prototype.toNumber=function(){return this.num},o.prototype.toString=function(){var u=o.reverseMap[this.num];if(typeof u>"u")throw new Error("Opcode does not have a string representation");return u},o.prototype.toSafeString=function(){var u=o.reverseMap[this.num];return typeof u>"u"?this.toHex():u},o.smallInt=function(u){return i.checkArgument(n.isNumber(u),"Invalid Argument: n should be number"),i.checkArgument(u>=0&&u<=16,"Invalid Argument: n must be between 0 and 16"),u===0?o("OP_0"):new o(o.map.OP_1+u-1)},o.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SPLIT:127,OP_NUM2BIN:128,OP_BIN2NUM:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},o.reverseMap=[];for(var a in o.map)o.reverseMap[o.map[a]]=a;n.extend(o,o.map),o.isSmallIntOp=function(u){return u instanceof o&&(u=u.toNumber()),u===o.map.OP_0||u>=o.map.OP_1&&u<=o.map.OP_16},o.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"},t.exports=o});Qe("apNYJ",function(t,e){function r(n){let i=[],s=0,o=0;for(;s<n.length;){let a=n[s];s+=1,a===0?(o=a,i.push({opcodenum:a,len:o})):a<76?(o=a,i.push({opcodenum:a,buf:n.slice(s,s+a),len:o}),s+=a):a===76?(o=n[s],s+=1,i.push({opcodenum:a,buf:n.slice(s,s+o),len:o}),s+=o):a===77?(o=n[s]|n[s+1]<<8,s+=2,i.push({opcodenum:a,buf:n.slice(s,s+o),len:o}),s+=o):a===78?(o=n[s]+n[s+1]*256+n[s+2]*65536+n[s+3]*16777216,s+=4,i.push({opcodenum:a,buf:n.slice(s,s+o),len:o}),s+=o):i.push({opcodenum:a})}return i}t.exports=r});Qe("62MER",function(t,e){var r=re("5CDhN"),n=re("bpasi"),i=re("2AZ1V"),s=re("gVSXN");function o(a){let u=a.split(" "),c=new i;return u.forEach(d=>{if(d in n)c.write([n[d]]);else if(d==="0")c.write([n.OP_0]);else if(d==="-1")c.write([n.OP_1NEGATE]);else{let f=r(d);s(c,f)}}),c.toBuffer()}t.exports=o});Qe("5CDhN",function(t,e){var r=Ar.Buffer,n=re("hAcaU");function i(s){if(typeof s!="string")throw new Error("not a string");if(s.startsWith("0x")&&(s=s.slice(2)),s.length%2===1&&(s="0"+s),!n(s))throw new Error("invalid hex string in script");if(typeof VARIANT>"u"||VARIANT==="browser"){let o=s.length/2,a=new Uint8Array(o),u=c=>c!==c;for(let c=0;c<o;++c){let d=parseInt(s.substr(c*2,2),16);if(u(d))throw new Error("bad hex char");a[c]=d}return a}else return r.from(s,"hex")}t.exports=i});Qe("hAcaU",function(t,e){let r=/^(?:[a-fA-F0-9][a-fA-F0-9])*$/;function n(i){return r.test(i)}t.exports=n});Qe("gVSXN",function(t,e){function r(n,i){if(i.length===0)n.write([0]);else if(i.length<=75)n.write([i.length]),n.write(i);else if(i.length<=255)n.write([76,i.length]),n.write(i);else if(i.length<=65535)n.write([77,i.length%256,i.length>>8]),n.write(i);else if(i.length<=4294967295){let s=new Uint8Array(5);s[0]=78;let o=i.length;s[1]=o%256,o=Math.floor(o/256),s[2]=o%256,o=Math.floor(o/256),s[3]=o%256,o=Math.floor(o/256),s[4]=o,n.write(s),n.write(i)}else throw new Error("data too large");return n}t.exports=r});Qe("kndCV",function(t,e){var r=Ar.Buffer;let n=null;if(typeof VARIANT>"u"||VARIANT==="browser"){let i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];n=function(s){let o=s.length,a=new Array(o);for(let u=0;u<o;++u)a[u]=i[s[u]];return a.join("")}}else n=function(i){return i instanceof r?i.toString("hex"):r.from(i).toString("hex")};t.exports=n});Qe("g4xmW",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("eIR83"),s=re("bpasi"),o=re("dIoYd"),a=re("bTTXN"),u=re("gIXub"),c=re("arkeG"),d=re("bSS4t"),f=function p(y){if(!(this instanceof p))return new p(y);y?(this.initialize(),this.set(y)):this.initialize()};f.prototype.verify=function(p,y,w,P,C,R,T){var k=re("7pkU6");if(n.isUndefined(w)&&(w=new k),n.isUndefined(P)&&(P=0),n.isUndefined(C)&&(C=0),C&f.SCRIPT_ENABLE_SIGHASH_FORKID&&(C|=f.SCRIPT_VERIFY_STRICTENC,!R))throw new Error("internal error - need satoshisBN to verify FORKID transactions");this.set({script:p,tx:w,nin:P,flags:C,satoshisBN:R,sighashScript:T});var H;if((C&f.SCRIPT_VERIFY_SIGPUSHONLY)!==0&&!p.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate("scriptSig"))return!1;C&f.SCRIPT_VERIFY_P2SH&&(H=this.stack.copy());var F=this.stack;if(this.initialize(),this.set({script:y,stack:F,tx:w,nin:P,flags:C,satoshisBN:R,sighashScript:T}),!this.evaluate("scriptPubkey"))return!1;if(this.stack.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var L=this.stack.stacktop(-1);if(!f.castToBool(L))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;if(C&f.SCRIPT_VERIFY_P2SH&&y.isScriptHashOut()){if(!p.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(H.length===0)throw new Error("internal error - stack copy empty");var D=H.stacktop(-1),N=i.fromBuffer(D);if(H.pop(),this.initialize(),this.set({script:N,stack:H,tx:w,nin:P,flags:C,satoshisBN:R}),!this.evaluate())return!1;if(H.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!f.castToBool(H.stacktop(-1)))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1}return(C&f.SCRIPT_VERIFY_CLEANSTACK)!==0&&this.stack.length!==1?(this.errstr="SCRIPT_ERR_CLEANSTACK",!1):!0},t.exports=f,f.prototype.initialize=function(p){this.stack=new d([]),this.altstack=new d([]),this.pc=0,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0,this.nonTopLevelReturnAfterGenesis=!1,this.returned=!1},f.prototype.set=function(p){this.script=p.script||this.script,this.tx=p.tx||this.tx,this.nin=typeof p.nin<"u"?p.nin:this.nin,this.satoshisBN=p.satoshisBN||this.satoshisBN,this.stack=p.stack||this.stack,this.altstack=p.altstack||this.altstack,this.pc=typeof p.pc<"u"?p.pc:this.pc,this.pbegincodehash=typeof p.pbegincodehash<"u"?p.pbegincodehash:this.pbegincodehash,this.nOpCount=typeof p.nOpCount<"u"?p.nOpCount:this.nOpCount,this.vfExec=p.vfExec||this.vfExec,this.errstr=p.errstr||this.errstr,this.flags=typeof p.flags<"u"?p.flags:this.flags,this.sighashScript=p.sighashScript||this.sighashScript},f.prototype.subscript=function(){return this.sighashScript?this.sighashScript.clone():i.fromChunks(this.script.chunks.slice(this.pbegincodehash))},f.getTrue=()=>r.from([1]),f.getFalse=()=>r.from([]),f.MAX_SCRIPT_ELEMENT_SIZE=520,f.MAXIMUM_ELEMENT_SIZE=4,f.LOCKTIME_THRESHOLD=5e8,f.LOCKTIME_THRESHOLD_BN=new o(f.LOCKTIME_THRESHOLD),f.SCRIPT_VERIFY_NONE=0,f.SCRIPT_VERIFY_P2SH=1,f.SCRIPT_VERIFY_STRICTENC=2,f.SCRIPT_VERIFY_DERSIG=4,f.SCRIPT_VERIFY_LOW_S=8,f.SCRIPT_VERIFY_NULLDUMMY=16,f.SCRIPT_VERIFY_SIGPUSHONLY=32,f.SCRIPT_VERIFY_MINIMALDATA=64,f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=128,f.SCRIPT_VERIFY_CLEANSTACK=256,f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=512,f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1024,f.SCRIPT_VERIFY_MINIMALIF=8192,f.SCRIPT_VERIFY_NULLFAIL=16384,f.SCRIPT_VERIFY_COMPRESSED_PUBKEYTYPE=32768,f.SCRIPT_ENABLE_SIGHASH_FORKID=65536,f.SCRIPT_ENABLE_REPLAY_PROTECTION=131072,f.SCRIPT_ENABLE_MONOLITH_OPCODES=262144,f.SCRIPT_ENABLE_MAGNETIC_OPCODES=524288,f.SEQUENCE_LOCKTIME_DISABLE_FLAG=-2147483648,f.SEQUENCE_LOCKTIME_TYPE_FLAG=4194304,f.SEQUENCE_LOCKTIME_MASK=65535,f.MAX_SCRIPT_SIZE=Number.MAX_SAFE_INTEGER,f.MAX_OPCODE_COUNT=Number.MAX_SAFE_INTEGER,f.DEFAULT_FLAGS=f.SCRIPT_ENABLE_MAGNETIC_OPCODES|f.SCRIPT_ENABLE_MONOLITH_OPCODES|f.SCRIPT_VERIFY_STRICTENC|f.SCRIPT_ENABLE_SIGHASH_FORKID|f.SCRIPT_VERIFY_LOW_S|f.SCRIPT_VERIFY_NULLFAIL|f.SCRIPT_VERIFY_DERSIG|f.SCRIPT_VERIFY_MINIMALDATA|f.SCRIPT_VERIFY_NULLDUMMY|f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS|f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY|f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY|f.SCRIPT_VERIFY_CLEANSTACK,f.castToBool=function(p){for(var y=0;y<p.length;y++)if(p[y]!==0)return!(y===p.length-1&&p[y]===128);return!1},f.prototype.checkSignatureEncoding=function(p){var y;if(p.length===0)return!0;if((this.flags&(f.SCRIPT_VERIFY_DERSIG|f.SCRIPT_VERIFY_LOW_S|f.SCRIPT_VERIFY_STRICTENC))!==0&&!u.isTxDER(p))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if((this.flags&f.SCRIPT_VERIFY_LOW_S)!==0){if(y=u.fromTxFormat(p),!y.hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if((this.flags&f.SCRIPT_VERIFY_STRICTENC)!==0){if(y=u.fromTxFormat(p),!y.hasDefinedHashtype())return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;if(!(this.flags&f.SCRIPT_ENABLE_SIGHASH_FORKID)&&y.nhashtype&u.SIGHASH_FORKID)return this.errstr="SCRIPT_ERR_ILLEGAL_FORKID",!1;if(this.flags&f.SCRIPT_ENABLE_SIGHASH_FORKID&&!(y.nhashtype&u.SIGHASH_FORKID))return this.errstr="SCRIPT_ERR_MUST_USE_FORKID",!1}return!0},f.prototype.checkPubkeyEncoding=function(p){return(this.flags&f.SCRIPT_VERIFY_STRICTENC)!==0&&!c.isValid(p)?(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1):!0},f._isMinimallyEncoded=function(p,y){return y=y||f.MAXIMUM_ELEMENT_SIZE,!(p.length>y||p.length>0&&(p[p.length-1]&127)===0&&(p.length<=1||(p[p.length-2]&128)===0))},f._minimallyEncode=function(p){if(p.length===0)return p;var y=p[p.length-1];if(y&127)return p;if(p.length===1)return r.from("");if(p[p.length-2]&128)return p;for(var w=p.length-1;w>0;w--)if(p[w-1]!==0)return p[w-1]&128?p[w++]=y:p[w-1]|=y,p.slice(0,w);return r.from("")},f.prototype.evaluate=function(p){if(this.script.toBuffer().length>f.MAX_SCRIPT_SIZE)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;!this.returned&&this.pc<this.script.chunks.length;){let w={pc:this.pc,fExec:this.vfExec.indexOf(!1)===-1,opcode:s.fromNumber(this.script.chunks[this.pc].opcodenum)};var y=this.step(p);if(this._callbackStep(w),!y)return!1}if(this.stack.length+this.altstack.length>1e3)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}catch(w){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+w,!1}return this.vfExec.length>0?(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1):!0},f.prototype._callbackStep=function(p){if(typeof this.stepListener=="function")try{this.stepListener(p)}catch(y){console.log(`Error in Step callback:${y}`)}},f.prototype._callbackStack=function(p,y,w){if(typeof this.stackListener=="function")try{this.stackListener(p,y,w)}catch(C){var P=this.script.chunks[y];console.error(`Error: ${C} in _updateStack pc: ${y}, opcode ${s.fromNumber(P.opcodenum).toSafeString()}`)}},f.prototype.checkLockTime=function(p){return!(!(this.tx.nLockTime<f.LOCKTIME_THRESHOLD&&p.lt(f.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=f.LOCKTIME_THRESHOLD&&p.gte(f.LOCKTIME_THRESHOLD_BN))||p.gt(new o(this.tx.nLockTime))||this.tx.inputs[this.nin].isFinal())},f.prototype.checkSequence=function(p){var y=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2||y&f.SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var w=f.SEQUENCE_LOCKTIME_TYPE_FLAG|f.SEQUENCE_LOCKTIME_MASK,P=new o(y&w),C=p.and(w),R=new o(f.SEQUENCE_LOCKTIME_TYPE_FLAG);return!(!(P.lt(R)&&C.lt(R)||P.gte(R)&&C.gte(R))||C.gt(P))};function m(p,y){let w=p;for(;w.length<y;)w=r.concat([r.from([0]),w]);return w}f.prototype.step=function(p){var y=this;function w(me){return y.stack.stacktop(me)}function P(me){return y.stack.vartop(me)}function C(me){switch(me){case s.OP_2MUL:case s.OP_2DIV:return!0;case s.OP_INVERT:case s.OP_MUL:case s.OP_LSHIFT:case s.OP_RSHIFT:if((y.flags&f.SCRIPT_ENABLE_MAGNETIC_OPCODES)===0)return!0;break;case s.OP_DIV:case s.OP_MOD:case s.OP_SPLIT:case s.OP_CAT:case s.OP_AND:case s.OP_OR:case s.OP_XOR:case s.OP_BIN2NUM:case s.OP_NUM2BIN:if((y.flags&f.SCRIPT_ENABLE_MONOLITH_OPCODES)===0)return!0;break;default:break}return!1}var R=(this.flags&f.SCRIPT_VERIFY_MINIMALDATA)!==0,T,k,H,F,L,D,N,g,h,l,b,_,x,I,A,v,S,O,q,J,ne=this.script.chunks[this.pc];this.pc++;var oe=ne.opcodenum;if(n.isUndefined(oe))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(ne.buf&&ne.buf.length>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;var le=this.vfExec.indexOf(!1)===-1&&(!this.nonTopLevelReturnAfterGenesis||oe===s.OP_RETURN);if(oe>s.OP_16&&++this.nOpCount>f.MAX_OPCODE_COUNT)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(C(oe))return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(le&&oe>=0&&oe<=s.OP_PUSHDATA4){if(R&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(!ne.buf)this.stack.push(f.getFalse());else{if(ne.len!==ne.buf.length)throw new Error(`Length of push value not equal to length of data (${ne.len},${ne.buf.length})`);this.stack.push(ne.buf)}}else if(le||s.OP_IF<=oe&&oe<=s.OP_ENDIF)switch(oe){case s.OP_1NEGATE:case s.OP_1:case s.OP_2:case s.OP_3:case s.OP_4:case s.OP_5:case s.OP_6:case s.OP_7:case s.OP_8:case s.OP_9:case s.OP_10:case s.OP_11:case s.OP_12:case s.OP_13:case s.OP_14:case s.OP_15:case s.OP_16:L=oe-(s.OP_1-1),T=new o(L).toScriptNumBuffer(),this.stack.push(T);break;case s.OP_NOP:break;case s.OP_NOP2:case s.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var pe=o.fromScriptNumBuffer(this.stack.stacktop(-1),R,5);if(pe.lt(new o(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(pe))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP3:case s.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&f.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var G=o.fromScriptNumBuffer(w(-1),R,5);if(G.lt(new o(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if((G&f.SEQUENCE_LOCKTIME_DISABLE_FLAG)!==0)break;if(!this.checkSequence(G))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case s.OP_NOP1:case s.OP_NOP4:case s.OP_NOP5:case s.OP_NOP6:case s.OP_NOP7:case s.OP_NOP8:case s.OP_NOP9:case s.OP_NOP10:if(this.flags&f.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case s.OP_IF:case s.OP_NOTIF:if(v=!1,le){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(T=w(-1),this.flags&f.SCRIPT_VERIFY_MINIMALIF){if(T.length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(T.length===1&&T[0]!==1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1}v=f.castToBool(T),oe===s.OP_NOTIF&&(v=!v),this.stack.pop()}this.vfExec.push(v);break;case s.OP_ELSE:if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1];break;case s.OP_ENDIF:if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop();break;case s.OP_VERIFY:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(T=w(-1),v=f.castToBool(T),v)this.stack.pop();else return this.errstr="SCRIPT_ERR_VERIFY",!1;break;case s.OP_RETURN:if((this.flags&f.SCRIPT_VERIFY_P2SH)===0){if(this.vfExec.length===0)return this.returned=!0,!0;this.nonTopLevelReturnAfterGenesis=!0}else return!1;break;case s.OP_TOALTSTACK:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;O=P(-1),this.altstack.push(this.stack.pop(),O);break;case s.OP_FROMALTSTACK:if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;let me=this.altstack.vartop(-1);this.stack.push(this.altstack.pop(),me);break;case s.OP_2DROP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop();break;case s.OP_2DUP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;k=w(-2),H=w(-1),O=P(-2),q=P(-1),this.stack.push(r.from(k),`$${O}`),this.stack.push(r.from(H),`$${q}`);break;case s.OP_3DUP:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;k=w(-3),H=w(-2);var te=w(-1);O=P(-3),q=P(-2),J=P(-1),this.stack.push(r.from(k),`$${O}`),this.stack.push(r.from(H),`$${q}`),this.stack.push(r.from(te),`$${J}`);break;case s.OP_2OVER:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;k=w(-4),H=w(-3),O=P(-4),q=P(-3),this.stack.push(r.from(k),`$${O}`),this.stack.push(r.from(H),`$${q}`);break;case s.OP_2ROT:if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;O=P(-6),q=P(-5),F=this.stack.splice(this.stack.length-6,2),this.stack.push(F[0],O),this.stack.push(F[1],q);break;case s.OP_2SWAP:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;O=P(-4),q=P(-3),F=this.stack.splice(this.stack.length-4,2),this.stack.push(F[0],O),this.stack.push(F[1],q);break;case s.OP_IFDUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-1),v=f.castToBool(T),v&&(O=P(-1),this.stack.push(r.from(T),`$${O}`));break;case s.OP_DEPTH:T=new o(this.stack.length).toScriptNumBuffer(),this.stack.push(T,"$depth");break;case s.OP_DROP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop();break;case s.OP_DUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;O=P(-1),this.stack.push(r.from(w(-1)),`$${O}`);break;case s.OP_NIP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1);break;case s.OP_OVER:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;q=P(-2),this.stack.push(r.from(w(-2)),`$${q}`);break;case s.OP_PICK:case s.OP_ROLL:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(T=w(-1),g=o.fromScriptNumBuffer(T,R,4),L=g.toNumber(),this.stack.pop(),L<0||L>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-L-1),O=P(-L-1),oe===s.OP_ROLL?(this.stack.splice(this.stack.length-L-1,1),this.stack.push(r.from(T),O)):this.stack.push(r.from(T),`$${O}`);break;case s.OP_ROT:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;D=w(-3),N=w(-2);var ae=w(-1);O=P(-3),q=P(-2),J=P(-1),this.stack.write(-3,N),this.stack.write(-2,ae),this.stack.write(-1,D),this.stack.updateTopVars([O,J,q]);break;case s.OP_SWAP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;D=w(-2),N=w(-1),O=P(-2),q=P(-1),this.stack.write(-2,N),this.stack.write(-1,D),this.stack.updateTopVars([O,q]);break;case s.OP_TUCK:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;O=P(-2),q=P(-1),this.stack.splice(this.stack.length-2,0,r.from(w(-1))),this.stack.updateTopVars([q,O,`$${q}`]);break;case s.OP_SIZE:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;g=new o(w(-1).length),this.stack.push(g.toScriptNumBuffer(),"$size");break;case s.OP_AND:case s.OP_OR:case s.OP_XOR:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(k=w(-2),H=w(-1),k.length!==H.length)return this.errstr="SCRIPT_ERR_INVALID_OPERAND_SIZE",!1;switch(oe){case s.OP_AND:for(let he=0;he<k.length;he++)k[he]&=H[he];break;case s.OP_OR:for(let he=0;he<k.length;he++)k[he]|=H[he];break;case s.OP_XOR:for(let he=0;he<k.length;he++)k[he]^=H[he];break;default:break}this.stack.pop();break;case s.OP_INVERT:this.stack.length<1&&(this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION"),T=w(-1);for(let he=0;he<T.length;he++)T[he]=~T[he];break;case s.OP_LSHIFT:case s.OP_RSHIFT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(k=w(-2),k.length===0)this.stack.pop();else{if(h=new o(k),l=o.fromScriptNumBuffer(w(-1),R,4),L=l.toNumber(),L<0)return this.errstr="SCRIPT_ERR_INVALID_NUMBER_RANGE",!1;this.stack.pop(),this.stack.pop();let he;oe===s.OP_LSHIFT&&(he=h.ushln(L)),oe===s.OP_RSHIFT&&(he=h.ushrn(L));let Ee=m(r.from(he.toArray().slice(k.length*-1)),k.length);this.stack.push(Ee)}break;case s.OP_EQUAL:case s.OP_EQUALVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;k=w(-2),H=w(-1);var be=k.toString("hex")===H.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(be?f.getTrue():f.getFalse()),oe===s.OP_EQUALVERIFY)if(be)this.stack.pop();else return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1;break;case s.OP_1ADD:case s.OP_1SUB:case s.OP_NEGATE:case s.OP_ABS:case s.OP_NOT:case s.OP_0NOTEQUAL:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(T=w(-1),g=o.fromScriptNumBuffer(T,R),oe){case s.OP_1ADD:g=g.add(o.One);break;case s.OP_1SUB:g=g.sub(o.One);break;case s.OP_NEGATE:g=g.neg();break;case s.OP_ABS:g.cmp(o.Zero)<0&&(g=g.neg());break;case s.OP_NOT:g=new o((g.cmp(o.Zero)===0)+0);break;case s.OP_0NOTEQUAL:g=new o((g.cmp(o.Zero)!==0)+0);break}this.stack.pop(),this.stack.push(g.toScriptNumBuffer());break;case s.OP_ADD:case s.OP_SUB:case s.OP_MUL:case s.OP_MOD:case s.OP_DIV:case s.OP_BOOLAND:case s.OP_BOOLOR:case s.OP_NUMEQUAL:case s.OP_NUMEQUALVERIFY:case s.OP_NUMNOTEQUAL:case s.OP_LESSTHAN:case s.OP_GREATERTHAN:case s.OP_LESSTHANOREQUAL:case s.OP_GREATERTHANOREQUAL:case s.OP_MIN:case s.OP_MAX:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(h=o.fromScriptNumBuffer(w(-2),R),l=o.fromScriptNumBuffer(w(-1),R),g=new o(0),oe){case s.OP_ADD:g=h.add(l);break;case s.OP_SUB:g=h.sub(l);break;case s.OP_MUL:g=h.mul(l);break;case s.OP_DIV:if(l===0)return this.errstr="SCRIPT_ERR_DIV_BY_ZERO",!1;g=h.div(l);break;case s.OP_MOD:if(l===0)return this.errstr="SCRIPT_ERR_DIV_BY_ZERO",!1;g=h.mod(l);break;case s.OP_BOOLAND:g=new o((h.cmp(o.Zero)!==0&&l.cmp(o.Zero)!==0)+0);break;case s.OP_BOOLOR:g=new o((h.cmp(o.Zero)!==0||l.cmp(o.Zero)!==0)+0);break;case s.OP_NUMEQUAL:g=new o((h.cmp(l)===0)+0);break;case s.OP_NUMEQUALVERIFY:g=new o((h.cmp(l)===0)+0);break;case s.OP_NUMNOTEQUAL:g=new o((h.cmp(l)!==0)+0);break;case s.OP_LESSTHAN:g=new o((h.cmp(l)<0)+0);break;case s.OP_GREATERTHAN:g=new o((h.cmp(l)>0)+0);break;case s.OP_LESSTHANOREQUAL:g=new o((h.cmp(l)<=0)+0);break;case s.OP_GREATERTHANOREQUAL:g=new o((h.cmp(l)>=0)+0);break;case s.OP_MIN:g=h.cmp(l)<0?h:l;break;case s.OP_MAX:g=h.cmp(l)>0?h:l;break}if(this.stack.pop(),this.stack.pop(),this.stack.push(g.toScriptNumBuffer()),oe===s.OP_NUMEQUALVERIFY)if(f.castToBool(w(-1)))this.stack.pop();else return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1;break;case s.OP_WITHIN:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;h=o.fromScriptNumBuffer(w(-3),R),l=o.fromScriptNumBuffer(w(-2),R);var ye=o.fromScriptNumBuffer(w(-1),R);v=l.cmp(h)<=0&&h.cmp(ye)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(v?f.getTrue():f.getFalse());break;case s.OP_RIPEMD160:case s.OP_SHA1:case s.OP_SHA256:case s.OP_HASH160:case s.OP_HASH256:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;T=w(-1);var _e;oe===s.OP_RIPEMD160?_e=a.ripemd160(T):oe===s.OP_SHA1?_e=a.sha1(T):oe===s.OP_SHA256?_e=a.sha256(T):oe===s.OP_HASH160?_e=a.sha256ripemd160(T):oe===s.OP_HASH256&&(_e=a.sha256sha256(T)),this.stack.pop(),this.stack.push(_e);break;case s.OP_CODESEPARATOR:this.pbegincodehash=this.pc;break;case s.OP_CHECKSIG:case s.OP_CHECKSIGVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(b=w(-2),_=w(-1),!this.checkSignatureEncoding(b)||!this.checkPubkeyEncoding(_))return!1;x=this.subscript();var ke=new i().add(b);x.findAndDelete(ke);try{I=u.fromTxFormat(b),A=c.fromBuffer(_,!1),S=this.tx.verifySignature(I,A,this.nin,x,this.satoshisBN,this.flags)}catch{S=!1}if(!S&&this.flags&f.SCRIPT_VERIFY_NULLFAIL&&b.length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(S?f.getTrue():f.getFalse()),oe===s.OP_CHECKSIGVERIFY)if(S)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1;break;case s.OP_CHECKMULTISIG:case s.OP_CHECKMULTISIGVERIFY:var He=1;if(this.stack.length<He)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var ze=o.fromScriptNumBuffer(w(-He),R).toNumber();if(ze<0||ze>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=ze,this.nOpCount>f.MAX_OPCODE_COUNT)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var qe=++He;He+=ze;var Ve=ze+2;if(this.stack.length<He)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var Xe=o.fromScriptNumBuffer(w(-He),R).toNumber();if(Xe<0||Xe>ze)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var je=++He;if(He+=Xe,this.stack.length<He)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;x=this.subscript();for(var Me=0;Me<Xe;Me++)b=w(-je-Me),x.findAndDelete(new i().add(b));for(S=!0;S&&Xe>0;){if(b=w(-je),_=w(-qe),!this.checkSignatureEncoding(b)||!this.checkPubkeyEncoding(_))return!1;var it;try{I=u.fromTxFormat(b),A=c.fromBuffer(_,!1),it=this.tx.verifySignature(I,A,this.nin,x,this.satoshisBN,this.flags)}catch{it=!1}it&&(je++,Xe--),qe++,ze--,Xe>ze&&(S=!1)}for(;He-- >1;){if(!S&&this.flags&f.SCRIPT_VERIFY_NULLFAIL&&!Ve&&w(-1).length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;Ve>0&&Ve--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&f.SCRIPT_VERIFY_NULLDUMMY&&w(-1).length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(S?f.getTrue():f.getFalse()),oe===s.OP_CHECKMULTISIGVERIFY)if(S)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1;break;case s.OP_CAT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(k=w(-2),H=w(-1),k.length+H.length>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;this.stack.write(-2,r.concat([k,H])),this.stack.pop();break;case s.OP_SPLIT:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;k=w(-2);var z=o.fromScriptNumBuffer(w(-1),R).toNumber();if(z<0||z>k.length)return this.errstr="SCRIPT_ERR_INVALID_SPLIT_RANGE",!1;var Q=r.from(k);this.stack.write(-2,Q.slice(0,z)),this.stack.write(-1,Q.slice(z));break;case s.OP_NUM2BIN:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var Y=o.fromScriptNumBuffer(w(-1),R).toNumber();if(Y>f.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;this.stack.pop();var ee=w(-1);if(ee=f._minimallyEncode(ee),ee.length>Y)return this.errstr="SCRIPT_ERR_IMPOSSIBLE_ENCODING",!1;if(ee.length===Y){this.stack.write(-1,ee);break}var ie=0;ee.length>0&&(ie=ee[ee.length-1]&128,ee[ee.length-1]&=127);var se=r.alloc(Y);ee.copy(se,0);for(var ce=ee.length-1;ce++<Y-2;)se[ce]=0;se[ce]=ie,this.stack.write(-1,se);break;case s.OP_BIN2NUM:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(k=w(-1),H=f._minimallyEncode(k),this.stack.write(-1,H),!f._isMinimallyEncoded(H))return this.errstr="SCRIPT_ERR_INVALID_NUMBER_RANGE",!1;break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return this.vfExec.indexOf(!1)===-1&&this._callbackStack(this.stack,this.pc,p),!0}});Qe("bSS4t",function(t,e){"use strict";var r=function(s,o){this.stack=s,this.varStack=o||[]};t.exports=r,r.prototype.pushVar=function(i){this.varStack.push(i||"$tmp")},r.prototype.popVar=function(){this.varStack.pop()},r.prototype.push=function(i,s){this.pushVar(s),this.stack.push(i),this.checkConsistency()},r.prototype.pop=function(){this.popVar();let i=this.stack.pop();return this.checkConsistency(),i},r.prototype.updateTopVars=function(i){if(i.length>this.varStack.length)throw new Error(`updateTopVars fail, stack: ${this.stack.length},  varStack: ${this.varStack.length}, vars:${i.length}`);i=i.reverse(),this.varStack.splice(this.varStack.length-i.length,i.length,...i)},r.prototype.stacktop=function(i){return this.stack[this.stack.length+i]},r.prototype.vartop=function(i){return this.varStack[this.varStack.length+i]},r.prototype.slice=function(i,s){return this.stack.slice(i,s)},r.prototype.splice=function(i,s,...o){return this.varStack.splice(i,s,...o),this.stack.splice(i,s,...o)},r.prototype.write=function(i,s){this.stack[this.stack.length+i]=s},r.prototype.copy=function(){return new r(this.stack.slice()||[],this.varStack.slice()||[])};function n(i){return i.reduce(function(s,o){return s+=("0"+(o&255).toString(16)).slice(-2),s},"")}r.prototype.printVarStack=function(){let i=this.varStack.map((s,o)=>({name:s,value:n(this.rawstack[o].data)}));console.log(JSON.stringify(i,null,4))},r.prototype.checkConsistency=function(){if(this.stack.length!==this.varStack.length)throw this.printVarStack(),new Error(`checkConsistency fail, stack: ${this.stack.length}, varStack:${this.varStack.length}`)},r.prototype.checkConsistencyWithVars=function(i){if(this.stack.length<i.length)throw this.printVarStack(),new Error(`checkConsistencyWithVars fail, stack: ${this.stack.length}, varStack:${i.length}`)},Object.defineProperty(r.prototype,"length",{get:function(){return this.stack.length}}),Object.defineProperty(r.prototype,"rawstack",{get:function(){return this.stack}})});Qe("7pkU6",function(t,e){t.exports=re("98CPZ"),t.exports.Input=re("dQaOn"),t.exports.Output=re("bczuf"),t.exports.UnspentOutput=re("G1usC"),t.exports.Signature=re("4Dqlv"),t.exports.Sighash=re("95EnH")});Qe("98CPZ",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("6gAsx"),s=re("kooOK"),o=re("gk75r"),a=re("28ku8"),u=re("2AZ1V"),c=re("1zMJW"),d=re("bTTXN"),f=re("gIXub"),m=re("95EnH"),p=re("iSUUt"),y=re("G1usC"),w=re("dQaOn"),P=w.PublicKeyHash,C=w.PublicKey,R=w.MultiSigScriptHash,T=w.MultiSig,k=re("bczuf"),H=re("hkiTH"),F=re("7smYJ"),L=re("dIoYd");function D(b){if(!(this instanceof D))return new D(b);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,this._inputsMap=new Map,this._outputsMap=new Map,this._privateKey=void 0,this._sigType=void 0,this.sealed=!1,b){if(b instanceof D)return D.shallowCopy(b);if(o.isHexa(b))this.fromString(b);else if(r.isBuffer(b))this.fromBuffer(b);else if(n.isObject(b))this.fromObject(b);else throw new s.InvalidArgument("Must provide an object or string to deserialize a transaction")}else this._newTransaction()}var N=1,g=0;D.DUST_AMOUNT=1,D.FEE_SECURITY_MARGIN=150,D.MAX_MONEY=21e6*1e8,D.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,D.NLOCKTIME_MAX_VALUE=4294967295,D.FEE_PER_KB=50,D.CHANGE_OUTPUT_MAX_SIZE=62,D.DUMMY_PRIVATEKEY=F.fromWIF("cQ3nCBQB9RsFSyjNQM15NQLVpXXMtWh9PUyeFz5KxLJCHsuRH2Su"),D.shallowCopy=function(b){var _=new D(b.toBuffer());return _};var h={configurable:!1,enumerable:!0,get:function(){return this._hash=new a(this._getHash()).readReverse().toString("hex"),this._hash}};Object.defineProperty(D.prototype,"hash",h),Object.defineProperty(D.prototype,"id",h);var l={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(D.prototype,"inputAmount",l),l.get=function(){return this._getOutputAmount()},Object.defineProperty(D.prototype,"outputAmount",l),D.prototype._getHash=function(){return d.sha256sha256(this.toBuffer())},D.prototype.serialize=function(b){return b===!0||b&&b.disableAll?this.uncheckedSerialize():this.checkedSerialize(b)},D.prototype.uncheckedSerialize=D.prototype.toString=function(){return this.toBuffer().toString("hex")},D.prototype.checkedSerialize=function(b){var _=this.getSerializationError(b);if(_)throw _.message+=" - For more information please see: https://bsv.io/api/lib/transaction#serialization-checks",_;return this.uncheckedSerialize()},D.prototype.invalidSatoshis=function(){for(var b=!1,_=0;_<this.outputs.length;_++)this.outputs[_].invalidSatoshis()&&(b=!0);return b},D.prototype.getSerializationError=function(b){if(b=b||{},this.invalidSatoshis())return new s.Transaction.InvalidSatoshis;var _=this.getUnspentValue(),x;return _<0?b.disableMoreOutputThanInput||(x=new s.Transaction.InvalidOutputAmountSum):x=this._hasFeeError(b,_),x||this._hasDustOutputs(b)||this._isMissingSignatures(b)},D.prototype._hasFeeError=function(b,_){if(!n.isUndefined(this._fee)&&this._fee!==_)return new s.Transaction.FeeError.Different("Unspent value is "+_+" but specified fee is "+this._fee);if(!b.disableLargeFees){var x=Math.floor(D.FEE_SECURITY_MARGIN*this._estimateFee());if(_>x)return this._missingChange()?new s.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new s.Transaction.FeeError.TooLarge("expected less than "+x+" but got "+_)}},D.prototype._missingChange=function(){return!this._changeScript},D.prototype._hasDustOutputs=function(b){if(!b.disableDustOutputs){var _,x;for(_ in this.outputs)if(x=this.outputs[_],x.satoshis<D.DUST_AMOUNT&&!x.script.isDataOut()&&!x.script.isSafeDataOut())return new s.Transaction.DustOutputs}},D.prototype._isMissingSignatures=function(b){if(!b.disableIsFullySigned&&!this.isFullySigned())return new s.Transaction.MissingSignatures},D.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"},D.prototype.toBuffer=function(){var b=new u;return this.toBufferWriter(b).toBuffer()},D.prototype.toBufferWriter=function(b){return b.writeUInt32LE(this.version),b.writeVarintNum(this.inputs.length),n.each(this.inputs,function(_){_.toBufferWriter(b)}),b.writeVarintNum(this.outputs.length),n.each(this.outputs,function(_){_.toBufferWriter(b)}),b.writeUInt32LE(this.nLockTime),b},D.prototype.fromBuffer=function(b){var _=new a(b);return this.fromBufferReader(_)},D.prototype.fromBufferReader=function(b){i.checkArgument(!b.finished(),"No transaction data received");var _,x,I;for(this.version=b.readInt32LE(),x=b.readVarintNum(),_=0;_<x;_++){var A=w.fromBufferReader(b);this.inputs.push(A)}for(I=b.readVarintNum(),_=0;_<I;_++)this.outputs.push(k.fromBufferReader(b));return this.nLockTime=b.readUInt32LE(),this},D.prototype.toObject=D.prototype.toJSON=function(){var _=[];this.inputs.forEach(function(A){_.push(A.toObject())});var x=[];this.outputs.forEach(function(A){x.push(A.toObject())});var I={hash:this.hash,version:this.version,inputs:_,outputs:x,nLockTime:this.nLockTime};return this._changeScript&&(I.changeScript=this._changeScript.toString()),this._changeScript&&(I.changeAddress=this._changeAddress.toString()),n.isUndefined(this._changeIndex)||(I.changeIndex=this._changeIndex),n.isUndefined(this._fee)||(I.fee=this._fee),I},D.prototype.fromObject=function(_){i.checkArgument(n.isObject(_)||_ instanceof D);var x=this,I;return _ instanceof D?I=I.toObject():I=_,n.each(I.inputs,function(A){if(!A.output||!A.output.script){x.uncheckedAddInput(new w(A));return}var v=new H(A.output.script),S;if(v.isPublicKeyHashOut())S=new w.PublicKeyHash(A);else if(v.isScriptHashOut()&&A.publicKeys&&A.threshold)S=new w.MultiSigScriptHash(A,A.publicKeys,A.threshold,A.signatures);else if(v.isPublicKeyOut())S=new w.PublicKey(A);else throw new s.Transaction.Input.UnsupportedScript(A.output.script);x.addInput(S)}),n.each(I.outputs,function(A){x.addOutput(new k(A))}),I.changeIndex&&(this._changeIndex=I.changeIndex),I.changeScript&&(this._changeScript=new H(I.changeScript)),I.changeAddress&&(this._changeAddress=p.fromString(I.changeAddress)),I.fee&&(this._fee=I.fee),this.nLockTime=I.nLockTime,this.version=I.version,this._checkConsistency(_),this},D.prototype._checkConsistency=function(b){n.isUndefined(this._changeIndex)||(i.checkState(this._changeScript,"Change script is expected."),i.checkState(this._changeAddress,"Change address is expected."),i.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),i.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),b&&b.hash&&i.checkState(b.hash===this.hash,"Hash in object does not match transaction hash.")},D.prototype.lockUntilDate=function(b){if(i.checkArgument(b),n.isNumber(b)&&b<D.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new s.Transaction.LockTimeTooEarly;n.isDate(b)&&(b=b.getTime()/1e3);for(var _=0;_<this.inputs.length;_++)this.inputs[_].sequenceNumber===w.DEFAULT_SEQNUMBER&&(this.inputs[_].sequenceNumber=w.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=b,this},D.prototype.lockUntilBlockHeight=function(b){if(i.checkArgument(n.isNumber(b)),b>=D.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new s.Transaction.BlockHeightTooHigh;if(b<0)throw new s.Transaction.NLockTimeOutOfRange;for(var _=0;_<this.inputs.length;_++)this.inputs[_].sequenceNumber===w.DEFAULT_SEQNUMBER&&(this.inputs[_].sequenceNumber=w.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=b,this},D.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<D.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},D.prototype.fromString=function(b){this.fromBuffer(r.from(b,"hex"))},D.prototype._newTransaction=function(){this.version=N,this.nLockTime=g},D.prototype.from=function(b,_,x){if(n.isArray(b)){var I=this;return n.each(b,function(v){I.from(v,_,x)}),this}var A=n.some(this.inputs,function(v){return v.prevTxId.toString("hex")===b.txId&&v.outputIndex===b.outputIndex});return A?this:(_&&x?this._fromMultisigUtxo(b,_,x):this._fromNonP2SH(b),this)},D.prototype._fromNonP2SH=function(b){var _;b=new y(b),b.script.isPublicKeyHashOut()?_=P:b.script.isPublicKeyOut()?_=C:_=w,this.addInput(new _({output:new k({script:b.script,satoshis:b.satoshis}),prevTxId:b.txId,outputIndex:b.outputIndex,script:H.empty()}))},D.prototype._fromMultisigUtxo=function(b,_,x){i.checkArgument(x<=_.length,"Number of required signatures must be greater than the number of public keys");var I;if(b=new y(b),b.script.isMultisigOut())I=T;else if(b.script.isScriptHashOut())I=R;else throw new Error("@TODO");this.addInput(new I({output:new k({script:b.script,satoshis:b.satoshis}),prevTxId:b.txId,outputIndex:b.outputIndex,script:H.empty()},_,x))},D.prototype.addInput=function(b,_,x){if(i.checkArgumentType(b,w,"input"),!b.output&&(n.isUndefined(_)||n.isUndefined(x)))throw new s.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return!b.output&&_&&!n.isUndefined(x)&&(_=_ instanceof H?_:new H(_),i.checkArgumentType(x,"number","satoshis"),b.output=new k({script:_,satoshis:x})),this.uncheckedAddInput(b)},D.prototype.uncheckedAddInput=function(b){return i.checkArgumentType(b,w,"input"),this.inputs.push(b),this._inputAmount=void 0,this._updateChangeOutput(),this},D.prototype.hasAllUtxoInfo=function(){return n.every(this.inputs.map(function(b){return!!b.output}))},D.prototype.fee=function(b){return i.checkArgument(n.isNumber(b),"amount must be a number"),this._fee=b,this._updateChangeOutput(),this},D.prototype.feePerKb=function(b){return i.checkArgument(n.isNumber(b),"amount must be a number"),this._feePerKb=b,this._updateChangeOutput(),this},D.prototype.change=function(b){return i.checkArgument(b,"address is required"),this._changeScript=H.fromAddress(b),this._changeAddress=p(b),this._updateChangeOutput(),this},D.prototype.getChangeOutput=function(){return n.isUndefined(this._changeIndex)?null:this.outputs[this._changeIndex]},D.prototype.getChangeAddress=function(){return this._changeAddress?this._changeAddress:null},D.prototype.to=function(b,_){if(n.isArray(b)){var x=this;return n.each(b,function(I){x.to(I.address,I.satoshis)}),this}return i.checkArgument(o.isNaturalNumber(_),"Amount is expected to be a positive integer"),this.addOutput(new k({script:H(new p(b)),satoshis:_})),this},D.prototype.addData=function(b){return this.addOutput(new k({script:H.buildDataOut(b),satoshis:0})),this},D.prototype.addSafeData=function(b){return this.addOutput(new k({script:H.buildSafeDataOut(b),satoshis:0})),this},D.prototype.addOutput=function(b){return i.checkArgumentType(b,k,"output"),this._addOutput(b),this._updateChangeOutput(),this},D.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},D.prototype._addOutput=function(b){this.outputs.push(b),this._outputAmount=void 0},D.prototype._getOutputAmount=function(){if(n.isUndefined(this._outputAmount)){var b=this;this._outputAmount=0,n.each(this.outputs,function(_){b._outputAmount+=_.satoshis})}return this._outputAmount},D.prototype._getInputAmount=function(){if(n.isUndefined(this._inputAmount)){var b=this;this._inputAmount=0,n.each(this.inputs,function(_){if(n.isUndefined(_.output))throw new s.Transaction.Input.MissingPreviousOutput;b._inputAmount+=_.output.satoshis})}return this._inputAmount},D.prototype._updateChangeOutput=function(){if(this.sealed)throw new s.Transaction.TransactionAlreadySealed;if(!!this._changeScript){n.isUndefined(this._changeIndex)||this._removeOutput(this._changeIndex),this._changeIndex=this.outputs.length,this._addOutput(new k({script:this._changeScript,satoshis:0}));var b=this.getUnspentValue(),_=this.getFee(),x=b-_;this._removeOutput(this._changeIndex),this._changeIndex=void 0,x>=D.DUST_AMOUNT&&(this._changeIndex=this.outputs.length,this._addOutput(new k({script:this._changeScript,satoshis:x}))),this._clearSignatures()}},D.prototype.getFee=function(){return this.isCoinbase()?0:n.isUndefined(this._fee)?this._changeScript?this._estimateFee():this.getUnspentValue():this._fee},D.prototype._estimateFee=function(){var b=this._estimateSize();return Math.ceil(b/1e3*(this._feePerKb||D.FEE_PER_KB))},D.prototype.getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},D.prototype._clearSignatures=function(){n.each(this.inputs,function(b){b.clearSignatures()})},D.prototype.getEstimateSize=function(){return this._estimateSize()},D.prototype._estimateSize=function(){var b=8;return b+=c(this.inputs.length).toBuffer().length,b+=c(this.outputs.length).toBuffer().length,n.each(this.inputs,function(_){b+=_._estimateSize()}),n.each(this.outputs,function(_){b+=_.getSize()}),b},D.prototype._removeOutput=function(b){var _=this.outputs[b];this.outputs=n.without(this.outputs,_),this._outputAmount=void 0},D.prototype.removeOutput=function(b){this._removeOutput(b),this._updateChangeOutput()},D.prototype.sort=function(){return this.sortInputs(function(b){var _=Array.prototype.concat.apply([],b);return _.sort(function(x,I){return x.prevTxId.compare(I.prevTxId)||x.outputIndex-I.outputIndex}),_}),this.sortOutputs(function(b){var _=Array.prototype.concat.apply([],b);return _.sort(function(x,I){return x.satoshis-I.satoshis||x.script.toBuffer().compare(I.script.toBuffer())}),_}),this},D.prototype.shuffleOutputs=function(){return this.sortOutputs(n.shuffle)},D.prototype.sortOutputs=function(b){var _=b(this.outputs);return this._newOutputOrder(_)},D.prototype.sortInputs=function(b){return this.inputs=b(this.inputs),this._clearSignatures(),this},D.prototype._newOutputOrder=function(b){var _=this.outputs.length!==b.length||n.difference(this.outputs,b).length!==0;if(_)throw new s.Transaction.InvalidSorting;if(!n.isUndefined(this._changeIndex)){var x=this.outputs[this._changeIndex];this._changeIndex=b.indexOf(x)}return this.outputs=b,this},D.prototype.removeInput=function(b,_){var x;if(!_&&n.isNumber(b)?x=b:x=n.findIndex(this.inputs,function(A){return A.prevTxId.toString("hex")===b&&A.outputIndex===_}),x<0||x>=this.inputs.length)throw new s.Transaction.InvalidIndex(x,this.inputs.length);var I=this.inputs[x];this.inputs=n.without(this.inputs,I),this._inputAmount=void 0,this._updateChangeOutput()},D.prototype.sign=function(b,_){i.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction.");var x=this;return n.isArray(b)?(n.each(b,function(I){x.sign(I,_)}),this):(n.each(this.getSignatures(b,_),function(I){x.applySignature(I)}),this._privateKey=b,this._sigType=_,this)},D.prototype.getSignatures=function(b,_){b=new F(b),_=_||f.SIGHASH_ALL|f.SIGHASH_FORKID;var x=this,I=[],A=d.sha256ripemd160(b.publicKey.toBuffer());return n.each(this.inputs,function(S,O){n.each(S.getSignatures(x,b,O,_,A),function(q){I.push(q)})}),I},D.prototype.applySignature=function(b){return this.inputs[b.inputIndex].addSignature(this,b),this},D.prototype.isFullySigned=function(){return n.each(this.inputs,function(b){if(b.isFullySigned===w.prototype.isFullySigned)throw new s.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction")}),n.every(n.map(this.inputs,function(b){return b.isFullySigned()}))},D.prototype.isValidSignature=function(b){var _=this;if(this.inputs[b.inputIndex].isValidSignature===w.prototype.isValidSignature)throw new s.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[b.inputIndex].isValidSignature(_,b)},D.prototype.verifySignature=function(b,_,x,I,A,v){return m.verify(this,b,_,x,I,A,v)},D.prototype.verify=function(b){if(this.inputs.length===0)return"transaction txins empty";if(this.outputs.length===0)return"transaction txouts empty";for(var _=new L(0),x=0;x<this.outputs.length;x++){var I=this.outputs[x];if(I.invalidSatoshis())return"transaction txout "+x+" satoshis is invalid";if(I._satoshisBN.gt(new L(D.MAX_MONEY,10)))return"transaction txout "+x+" greater than MAX_MONEY";if(_=_.add(I._satoshisBN),_.gt(new L(D.MAX_MONEY)))return"transaction txout "+x+" total output greater than MAX_MONEY"}var A={};for(x=0;x<this.inputs.length;x++){var v=this.inputs[x],S=v.prevTxId+":"+v.outputIndex;if(!n.isUndefined(A[S]))return"transaction input "+x+" duplicate input";A[S]=!0}var O=this.isCoinbase();if(O){var q=this.inputs[0]._scriptBuffer;if(q.length<2||q.length>100)return"coinbase transaction script size invalid"}else for(x=0;x<this.inputs.length;x++){if(this.inputs[x].isNull())return"transaction input "+x+" has null input";if(!b){var J=this.inputs[x].verify(this,x);if(!J.success)return"transaction input "+x+" VerifyError: "+J.error}}return!0},D.prototype.isCoinbase=function(){return this.inputs.length===1&&this.inputs[0].isNull()},D.prototype.setInputScript=function(b,_){var x=0,I,A,v=!1;if(typeof b=="number"?(x=b,A=f.SIGHASH_ALL|f.SIGHASH_FORKID):(x=b.inputIndex||0,I=b.privateKey,A=b.sigtype||f.SIGHASH_ALL|f.SIGHASH_FORKID,v=b.isLowS||!1),_ instanceof Function){var S=this.inputs[x].output;this._inputsMap.set(x,{sigtype:A,privateKey:I,isLowS:v,callback:_});var O=_(this,S);this.inputs[x].setScript(O)}else this.inputs[x].setScript(_);return this},D.prototype.setInputScriptAsync=async function(b,_){var x=0,I,A=!1;if(typeof b=="number"?(x=b,I=f.SIGHASH_ALL|f.SIGHASH_FORKID):(x=b.inputIndex||0,I=b.sigtype||f.SIGHASH_ALL|f.SIGHASH_FORKID,A=b.isLowS||!1),_ instanceof Function){var v=this.inputs[x].output;this._inputsMap.set(x,{sigtype:I,isLowS:A,callback:_});var S=await _(this,v);this.inputs[x].setScript(S)}else throw new s.InvalidArgument("Must provide a callback returns a unlocking script");return this},D.prototype.setInputSequence=function(b,_){return this.inputs[b].sequenceNumber=_,this},D.prototype.setOutput=function(b,_){return _ instanceof Function?(this._outputsMap.set(b,_),this.outputs[b]=_(this)):this.outputs[b]=_,this._updateChangeOutput(),this},D.prototype.seal=function(){var b=this;return this._outputsMap.forEach(function(_,x){b.outputs[x]=_(b)}),this._updateChangeOutput(),this._inputsMap.forEach(function(_,x){var I=b.inputs[x].output,A=_.callback(b,I);b.inputs[x].setScript(A)}),this._privateKey&&this.sign(this._privateKey,this._sigType),this.sealed=!0,this},D.prototype.sealAsync=async function(){var b=this;this._outputsMap.forEach(function(x,I){b.outputs[I]=x(b)}),this._updateChangeOutput();var _=[];return this._inputsMap.forEach(function(x,I){var A=b.inputs[I].output;_.push(Promise.resolve(x.callback(b,A)).then(v=>({key:I,unlockScript:v})))}),await Promise.all(_).then(x=>{x.forEach(({key:I,unlockScript:A})=>{b.inputs[I].setScript(A)})}),this._privateKey&&this.sign(this._privateKey,this._sigType),this.sealed=!0,this},D.prototype.setLockTime=function(b){return this.nLockTime=b,this},D.prototype.getChangeAmount=function(){return n.isUndefined(this._changeIndex)?0:this.outputs[this._changeIndex].satoshis},D.prototype.getEstimateFee=function(){return this._estimateFee()},D.prototype.checkFeeRate=function(b){var _=this.getUnspentValue(),x=this._estimateSize(),I=(b||this._feePerKb||D.FEE_PER_KB)/1e3,A=_/x;return A>=I},D.prototype.prevouts=function(){var b=new u;n.each(this.inputs,function(x){b.writeReverse(x.prevTxId),b.writeUInt32LE(x.outputIndex)});var _=b.toBuffer();return _.toString("hex")},D.prototype.isSealed=function(){return this.sealed},D.prototype.getPreimage=function(b,_,x,I){i.checkArgumentType(b,"number","inputIndex"),_=_||f.SIGHASH_ALL|f.SIGHASH_FORKID,x=x||!1,b=b||0;var A=this.inputs[b].getPreimage(this,b,_,x,I);return A.toString("hex")},D.prototype.getSignature=function(b,_,x){i.checkArgumentType(b,"number","inputIndex");var I=[],A=(this._inputsMap||new Map).get(b);if(_=_||(A?A.privateKey:this._privateKey),_){x=x||f.SIGHASH_ALL|f.SIGHASH_FORKID;var v=this.inputs[b].getSignatures(this,_,b,x);return n.each(v,function(S){I.push(S.signature.toTxFormat().toString("hex"))}),I.length===1?I[0]:I}return[]},D.prototype.addInputFromPrevTx=function(b,_){i.checkArgumentType(b,D,"prevTx");var x=_||0;let I=b.outputs[x];return I.script.isPublicKeyHashOut()?this.addInput(new P({prevTxId:b.id,outputIndex:x,script:new H(""),output:I})):this.addInput(new w({prevTxId:b.id,outputIndex:x,script:new H(""),output:I}))},D.prototype.addDummyInput=function(b,_){return i.checkArgumentType(b,H,"script"),i.checkArgumentType(_,"number","satoshis"),this.addInput(new w({prevTxId:"a477af6b2667c29670467e4e0728b685ee07b240235771862318e29ddbe58458",outputIndex:0,script:new H(""),output:new k({script:b,satoshis:_})}))},D.prototype.dummyChange=function(){return this.change(D.DUMMY_PRIVATEKEY.toAddress())},D.prototype.verifyScript=function(b){if(i.checkArgumentType(b,"number","inputIndex"),!this.inputs[b])throw new s.Transaction.Input.MissingInput;return this.inputs[b].verify(this,b)},D.prototype.verifyInputScript=function(b){return this.verifyScript(b)},D.prototype.getInputAmount=function(b){if(i.checkArgumentType(b,"number","inputIndex"),!this.inputs[b])throw new s.Transaction.Input.MissingInput;return this.inputs[b].output.satoshis},D.prototype.getOutputAmount=function(b){if(i.checkArgumentType(b,"number","outputIndex"),!this.outputs[b])throw new s.Transaction.MissingOutput;return this.outputs[b].satoshis},t.exports=D});Qe("28ku8",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("6gAsx"),s=re("dIoYd"),o=function a(u){if(!(this instanceof a))return new a(u);if(!n.isUndefined(u))if(r.isBuffer(u))this.set({buf:u});else if(n.isString(u)){var c=r.from(u,"hex");if(c.length*2!==u.length)throw new TypeError("Invalid hex string");this.set({buf:c})}else if(n.isObject(u)){var d=u;this.set(d)}else throw new TypeError("Unrecognized argument for BufferReader")};o.prototype.set=function(a){return this.buf=a.buf||this.buf||void 0,this.pos=a.pos||this.pos||0,this},o.prototype.eof=function(){return this.pos>=this.buf.length},o.prototype.finished=o.prototype.eof,o.prototype.read=function(a){i.checkArgument(!n.isUndefined(a),"Must specify a length");var u=this.buf.slice(this.pos,this.pos+a);return this.pos=this.pos+a,u},o.prototype.readAll=function(){var a=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,a},o.prototype.readUInt8=function(){var a=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,a},o.prototype.readUInt16BE=function(){var a=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,a},o.prototype.readUInt16LE=function(){var a=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,a},o.prototype.readUInt32BE=function(){var a=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,a},o.prototype.readUInt32LE=function(){var a=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,a},o.prototype.readInt32LE=function(){var a=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,a},o.prototype.readUInt64BEBN=function(){var a=this.buf.slice(this.pos,this.pos+8),u=s.fromBuffer(a);return this.pos=this.pos+8,u},o.prototype.readUInt64LEBN=function(){var a=this.buf.readUInt32LE(this.pos),u=this.buf.readUInt32LE(this.pos+4),c=u*4294967296+a,d;if(c<=9007199254740991)d=new s(c);else{var f=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);d=new s(f,10,"le")}return this.pos=this.pos+8,d},o.prototype.readVarintNum=function(){var a=this.readUInt8();switch(a){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var u=this.readUInt64LEBN(),c=u.toNumber();if(c<=Math.pow(2,53))return c;throw new Error("number too large to retain precision - use readVarintBN");default:return a}},o.prototype.readVarLengthBuffer=function(){var a=this.readVarintNum(),u=this.read(a);return i.checkState(u.length===a,"Invalid length while reading varlength buffer. Expected to read: "+a+" and read "+u.length),u},o.prototype.readVarintBuf=function(){var a=this.buf.readUInt8(this.pos);switch(a){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}},o.prototype.readVarintBN=function(){var a=this.readUInt8();switch(a){case 253:return new s(this.readUInt16LE());case 254:return new s(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new s(a)}},o.prototype.reverse=function(){for(var a=r.alloc(this.buf.length),u=0;u<a.length;u++)a[u]=this.buf[this.buf.length-1-u];return this.buf=a,this},o.prototype.readReverse=function(a){n.isUndefined(a)&&(a=this.buf.length);var u=this.buf.slice(this.pos,this.pos+a);return this.pos=this.pos+a,r.from(u).reverse()},o.prototype.remaining=function(){return this.buf.length-this.pos},t.exports=o});Qe("1zMJW",function(t,e){var r=Ar.Buffer,n=re("2AZ1V"),i=re("28ku8"),s=re("dIoYd"),o=function a(u){if(!(this instanceof a))return new a(u);if(r.isBuffer(u))this.buf=u;else if(typeof u=="number"){var c=u;this.fromNumber(c)}else if(u instanceof s){var d=u;this.fromBN(d)}else if(u){var f=u;this.set(f)}};o.prototype.set=function(a){return this.buf=a.buf||this.buf,this},o.prototype.fromString=function(a){return this.set({buf:r.from(a,"hex")}),this},o.prototype.toString=function(){return this.buf.toString("hex")},o.prototype.fromBuffer=function(a){return this.buf=a,this},o.prototype.fromBufferReader=function(a){return this.buf=a.readVarintBuf(),this},o.prototype.fromBN=function(a){var u=new n;return this.buf=u.writeVarintBN(a).toBuffer(),this},o.prototype.fromNumber=function(a){var u=new n;return this.buf=u.writeVarintNum(a).toBuffer(),this},o.prototype.toBuffer=function(){return this.buf},o.prototype.toBN=function(){return i(this.buf).readVarintBN()},o.prototype.toNumber=function(){return i(this.buf).readVarintNum()},t.exports=o});Qe("95EnH",function(t,e){var r=Ar.Buffer,n=re("gIXub"),i=re("hkiTH"),s=re("bczuf"),o=re("28ku8"),a=re("2AZ1V"),u=re("dIoYd"),c=re("bTTXN"),d=re("kmMTb"),f=re("6gAsx"),m=re("g4xmW"),p=re("kBBbb"),y=re("l0DuR"),w=r.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),P="ffffffffffffffff",C=m.SCRIPT_ENABLE_SIGHASH_FORKID,R=function(L,D,N,g,h,l=new y){var b=L.inputs[N];f.checkArgument(h instanceof u,"For ForkId=0 signatures, satoshis or complete input must be provided");function _(oe){var le=new a;p.each(oe.inputs,function(te){le.writeReverse(te.prevTxId),le.writeUInt32LE(te.outputIndex)});var pe=le.toBuffer(),G=c.sha256sha256(pe);return G}function x(oe){var le=new a;p.each(oe.inputs,function(te){le.writeUInt32LE(te.sequenceNumber)});var pe=le.toBuffer(),G=c.sha256sha256(pe);return G}function I(oe,le){var pe=new a;p.isUndefined(le)?p.each(oe.outputs,function(ae){ae.toBufferWriter(pe)}):oe.outputs[le].toBufferWriter(pe);var G=pe.toBuffer(),te=c.sha256sha256(G);return te}var A=r.alloc(32),v=r.alloc(32),S=r.alloc(32);D&n.SIGHASH_ANYONECANPAY||(A=l.prevoutsHashBuf?l.prevoutsHashBuf:l.prevoutsHashBuf=_(L)),!(D&n.SIGHASH_ANYONECANPAY)&&(D&31)!==n.SIGHASH_SINGLE&&(D&31)!==n.SIGHASH_NONE&&(v=l.sequenceHashBuf?l.sequenceHashBuf:l.sequenceHashBuf=x(L)),(D&31)!==n.SIGHASH_SINGLE&&(D&31)!==n.SIGHASH_NONE?S=l.outputsHashBuf?l.outputsHashBuf:l.outputsHashBuf=I(L):(D&31)===n.SIGHASH_SINGLE&&N<L.outputs.length&&(S=I(L,N));var O=new a;O.writeUInt32LE(L.version),O.write(A),O.write(v),O.writeReverse(b.prevTxId),O.writeUInt32LE(b.outputIndex);var q=g.toBuffer();O.writeVarintNum(q.length),O.write(q),O.writeUInt64LEBN(h);var J=b.sequenceNumber;O.writeUInt32LE(J),O.write(S),O.writeUInt32LE(L.nLockTime),O.writeUInt32LE(D>>>0);var ne=O.toBuffer();return ne},T=function(D,N,g,h,l,b,_=new y){var x=re("98CPZ"),I=re("dQaOn");if(p.isUndefined(b)&&(b=C),b&m.SCRIPT_ENABLE_REPLAY_PROTECTION){var A=N>>8,v=16711680|A^57005;N=v<<8|N&255}if(N&n.SIGHASH_FORKID&&b&m.SCRIPT_ENABLE_SIGHASH_FORKID)return R(D,N,g,h,l);var S=x.shallowCopy(D);h=new i(h),h.removeCodeseparators();var O;for(O=0;O<S.inputs.length;O++)S.inputs[O]=new I(S.inputs[O]).setScript(i.empty());if(S.inputs[g]=new I(S.inputs[g]).setScript(h),(N&31)===n.SIGHASH_NONE||(N&31)===n.SIGHASH_SINGLE)for(O=0;O<S.inputs.length;O++)O!==g&&(S.inputs[O].sequenceNumber=0);if((N&31)===n.SIGHASH_NONE)S.outputs=[];else if((N&31)===n.SIGHASH_SINGLE){if(g>=S.outputs.length)return w;for(S.outputs.length=g+1,O=0;O<g;O++)S.outputs[O]=new s({satoshis:u.fromBuffer(r.from(P,"hex")),script:i.empty()})}N&n.SIGHASH_ANYONECANPAY&&(S.inputs=[S.inputs[g]]);var q=new a().write(S.toBuffer()).writeInt32LE(N).toBuffer();return q},k=function(D,N,g,h,l,b,_=new y){var x=T(D,N,g,h,l,b,_);if(x.compare(w)===0)return x;var I=c.sha256sha256(x);return I=new o(I).readReverse(),I};function H(L,D,N,g,h,l,b,_=new y){var x=k(L,N,g,h,l,b,_),I=d.sign(x,D,"little").set({nhashtype:N});return I}function F(L,D,N,g,h,l,b,_=new y){f.checkArgument(!p.isUndefined(L)),f.checkArgument(!p.isUndefined(D)&&!p.isUndefined(D.nhashtype));var x=k(L,D.nhashtype,g,h,l,b,_);return d.verify(x,D,N,"little")}t.exports={sighashPreimage:T,sighash:k,sign:H,verify:F}});Qe("bczuf",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("dIoYd"),s=re("gk75r"),o=re("2AZ1V"),a=re("1zMJW"),u=re("hkiTH"),c=re("6gAsx"),d=re("kooOK"),f=9007199254740991;function m(p){if(!(this instanceof m))return new m(p);if(n.isObject(p))if(this.satoshis=p.satoshis,r.isBuffer(p.script))this.setScriptFromBuffer(p.script);else{var y;n.isString(p.script)&&s.isHexa(p.script)?y=r.from(p.script,"hex"):y=p.script,this.setScript(y)}else throw new TypeError("Unrecognized argument for Output")}Object.defineProperty(m.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script}}),Object.defineProperty(m.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(p){p instanceof i?(this._satoshisBN=p,this._satoshis=p.toNumber()):n.isString(p)?(this._satoshis=parseInt(p),this._satoshisBN=i.fromNumber(this._satoshis)):(c.checkArgument(s.isNaturalNumber(p),"Output satoshis is not a natural number"),this._satoshisBN=i.fromNumber(p),this._satoshis=p),c.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),m.prototype.invalidSatoshis=function(){return this._satoshis>f?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0?"transaction txout negative":!1},Object.defineProperty(m.prototype,"satoshisBN",{configurable:!1,enumerable:!0,get:function(){return this._satoshisBN},set:function(p){this._satoshisBN=p,this._satoshis=p.toNumber(),c.checkState(s.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),m.prototype.toObject=m.prototype.toJSON=function(){var y={satoshis:this.satoshis};return y.script=this._script.toBuffer().toString("hex"),y},m.fromObject=function(p){return new m(p)},m.prototype.setScriptFromBuffer=function(p){try{this._script=u.fromBuffer(p),this._script._isOutput=!0}catch(y){if(y instanceof d.Script.InvalidBuffer)this._script=null;else throw y}},m.prototype.setScript=function(p){if(p instanceof u)this._script=p,this._script._isOutput=!0;else if(n.isString(p))this._script=u.fromString(p),this._script._isOutput=!0;else if(r.isBuffer(p))this.setScriptFromBuffer(p);else throw new TypeError("Invalid argument type: script");return this},m.prototype.inspect=function(){var p;return this.script&&(p=this.script.inspect()),"<Output ("+this.satoshis+" sats) "+p+">"},m.fromBufferReader=function(p){var y={};y.satoshis=p.readUInt64LEBN();var w=p.readVarintNum();if(w!==0){if(p.remaining()<w)throw new TypeError("Unrecognized Output");y.script=p.read(w)}else y.script=r.from([]);return new m(y)},m.prototype.toBufferWriter=function(p){p||(p=new o),p.writeUInt64LEBN(this._satoshisBN);var y=this._script.toBuffer();return p.writeVarintNum(y.length),p.write(y),p},m.prototype.getSize=function(){var p=this.script.toBuffer().length,y=a(p).toBuffer().length;return 8+y+p},t.exports=m});Qe("l0DuR",function(t,e){var r=Ar.Buffer;class n{constructor(s,o,a){this.prevoutsHashBuf=s,this.sequenceHashBuf=o,this.outputsHashBuf=a}static fromBuffer(s){return n.fromJSON(JSON.parse(s.toString()))}toBuffer(){return r.from(JSON.stringify(this.toJSON()))}static fromJSON(s){return new n(s.prevoutsHashBuf?r.from(s.prevoutsHashBuf,"hex"):void 0,s.sequenceHashBuf?r.from(s.sequenceHashBuf,"hex"):void 0,s.outputsHashBuf?r.from(s.outputsHashBuf,"hex"):void 0)}toJSON(){return{prevoutsHashBuf:this.prevoutsHashBuf?this.prevoutsHashBuf.toString("hex"):void 0,sequenceHashBuf:this.sequenceHashBuf?this.sequenceHashBuf.toString("hex"):void 0,outputsHashBuf:this.outputsHashBuf?this.outputsHashBuf.toString("hex"):void 0}}toHex(){return this.toBuffer().toString("hex")}static fromHex(s){let o=r.from(s,"hex");return n.fromBuffer(o)}}t.exports=n});Qe("dQaOn",function(t,e){t.exports=re("jbAmm"),t.exports.PublicKey=re("b2vm0"),t.exports.PublicKeyHash=re("ddQTk"),t.exports.MultiSig=re("dHaKi"),t.exports.MultiSigScriptHash=re("eJIfU")});Qe("jbAmm",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("6gAsx"),s=re("kooOK"),o=re("2AZ1V"),a=re("gk75r"),u=re("hkiTH"),c=re("95EnH"),d=re("bczuf"),f=re("gIXub"),m=re("4Dqlv"),p=re("bTTXN"),y=re("g4xmW"),w=re("bpasi"),P=re("7smYJ"),C=4294967295,R=C-2,T=C,k=C-1;function H(L,D,N,g,h){var l=0;do{var b=c.sighashPreimage(L,D,N,g,h),_=p.sha256sha256(b);if(n.isPositiveNumber(_.readUInt8())&&n.isPositiveNumber(_.readUInt8(31)))return b;L.nLockTime++}while(l<Number.MAX_SAFE_INTEGER)}function F(L){if(!(this instanceof F))return new F(L);if(L)return this._fromObject(L)}F.MAXINT=C,F.DEFAULT_SEQNUMBER=T,F.DEFAULT_LOCKTIME_SEQNUMBER=k,F.DEFAULT_RBF_SEQNUMBER=R,F.BASE_SIZE=40,Object.defineProperty(F.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new u(this._scriptBuffer),this._script._isInput=!0),this._script)}}),F.fromObject=function(L){i.checkArgument(n.isObject(L));var D=new F;return D._fromObject(L)},F.prototype._fromObject=function(L){var D;if(n.isString(L.prevTxId)&&a.isHexa(L.prevTxId)?D=r.from(L.prevTxId,"hex"):D=L.prevTxId,this.output=L.output?L.output instanceof d?L.output:new d(L.output):void 0,this.prevTxId=D||L.txidbuf,this.outputIndex=n.isUndefined(L.outputIndex)?L.txoutnum:L.outputIndex,this.sequenceNumber=n.isUndefined(L.sequenceNumber)?n.isUndefined(L.seqnum)?T:L.seqnum:L.sequenceNumber,n.isUndefined(L.script)&&n.isUndefined(L.scriptBuffer))throw new s.Transaction.Input.MissingScript;return this.setScript(L.scriptBuffer||L.script),this},F.prototype.toObject=F.prototype.toJSON=function(){var D={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(D.scriptString=this.script.toString()),this.output&&(D.output=this.output.toObject()),D},F.fromBufferReader=function(L){var D=new F;return D.prevTxId=L.readReverse(32),D.outputIndex=L.readUInt32LE(),D._scriptBuffer=L.readVarLengthBuffer(),D.sequenceNumber=L.readUInt32LE(),D},F.prototype.toBufferWriter=function(L){L||(L=new o),L.writeReverse(this.prevTxId),L.writeUInt32LE(this.outputIndex);var D=this._scriptBuffer;return L.writeVarintNum(D.length),L.write(D),L.writeUInt32LE(this.sequenceNumber),L},F.prototype.setScript=function(L){if(this._script=null,L instanceof u)this._script=L,this._script._isInput=!0,this._scriptBuffer=L.toBuffer();else if(L===null)this._script=u.empty(),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(a.isHexa(L))this._scriptBuffer=r.from(L,"hex");else if(n.isString(L))this._script=new u(L),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(r.isBuffer(L))this._scriptBuffer=r.from(L);else throw new TypeError("Invalid argument type: script");return this},F.prototype.getSignatures=function(L,D,N,g){i.checkState(this.output instanceof d),g=g||f.SIGHASH_ALL|f.SIGHASH_FORKID;var h=[];if(D instanceof P)h.push(new m({publicKey:D.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:N,signature:c.sign(L,D,g,N,this.output.script,this.output.satoshisBN),sigtype:g}));else if(n.isArray(D)){var l=this;n.each(D,function(b,_){var x=g;n.isArray(g)&&(x=g[_]||f.SIGHASH_ALL|f.SIGHASH_FORKID),h.push(new m({publicKey:b.publicKey,prevTxId:l.prevTxId,outputIndex:l.outputIndex,inputIndex:N,signature:c.sign(L,b,x,N,l.output.script,l.output.satoshisBN),sigtype:x}))})}return h},F.prototype.getPreimage=function(L,D,N,g,h){i.checkState(this.output instanceof d),N=N||f.SIGHASH_ALL|f.SIGHASH_FORKID,g=g||!1;var l=typeof h=="number"?this.output.script.subScript(h):this.output.script;return g?H(L,N,D,l,this.output.satoshisBN):c.sighashPreimage(L,N,D,l,this.output.satoshisBN)},F.prototype.isFullySigned=function(){throw new s.AbstractMethodInvoked("Input#isFullySigned")},F.prototype.isFinal=function(){return this.sequenceNumber===F.MAXINT},F.prototype.addSignature=function(){},F.prototype.clearSignatures=function(){},F.prototype.isValidSignature=function(L,D){return D.signature.nhashtype=D.sigtype,c.verify(L,D.signature,D.publicKey,D.inputIndex,this.output.script,this.output.satoshisBN)},F.prototype.isNull=function(){return this.prevTxId.toString("hex")==="0000000000000000000000000000000000000000000000000000000000000000"&&this.outputIndex===4294967295},F.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length},F.prototype.verify=function(L,D){i.checkState(this.output instanceof d),i.checkState(this.script instanceof u),i.checkState(this.output.script instanceof u);var N=this.script,g=this.output.script,h=this.output.satoshisBN;y.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,y.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let l=new y,b={};l.stepListener=function(x){(x.fExec||w.OP_IF<=x.opcode.toNumber()&&x.opcode.toNumber()<=w.OP_ENDIF)&&(w.OP_IF<=x.opcode.toNumber()&&x.opcode.toNumber()<=w.OP_ENDIF||x.opcode.toNumber()===w.OP_RETURN?b.opcode=x.opcode:b=x)};var _=l.verify(N,g,L,D,y.DEFAULT_FLAGS,h);return b.opcode&&(b.opcode=b.opcode.toNumber()),{success:_,error:l.errstr,failedAt:_?{}:b}},t.exports=F});Qe("4Dqlv",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("6gAsx"),s=re("gk75r"),o=re("arkeG"),a=re("kooOK"),u=re("gIXub");function c(d){if(!(this instanceof c))return new c(d);if(d instanceof c)return d;if(n.isObject(d))return this._fromObject(d);throw new a.InvalidArgument("TransactionSignatures must be instantiated from an object")}j4(c,u),c.prototype._fromObject=function(d){return this._checkObjectArgs(d),this.publicKey=new o(d.publicKey),this.prevTxId=r.isBuffer(d.prevTxId)?d.prevTxId:r.from(d.prevTxId,"hex"),this.outputIndex=d.outputIndex,this.inputIndex=d.inputIndex,this.signature=d.signature instanceof u?d.signature:r.isBuffer(d.signature)?u.fromBuffer(d.signature):u.fromString(d.signature),this.sigtype=d.sigtype,this},c.prototype._checkObjectArgs=function(d){i.checkArgument(o(d.publicKey),"publicKey"),i.checkArgument(!n.isUndefined(d.inputIndex),"inputIndex"),i.checkArgument(!n.isUndefined(d.outputIndex),"outputIndex"),i.checkState(n.isNumber(d.inputIndex),"inputIndex must be a number"),i.checkState(n.isNumber(d.outputIndex),"outputIndex must be a number"),i.checkArgument(d.signature,"signature"),i.checkArgument(d.prevTxId,"prevTxId"),i.checkState(d.signature instanceof u||r.isBuffer(d.signature)||s.isHexa(d.signature),"signature must be a buffer or hexa value"),i.checkState(r.isBuffer(d.prevTxId)||s.isHexa(d.prevTxId),"prevTxId must be a buffer or hexa value"),i.checkArgument(d.sigtype,"sigtype"),i.checkState(n.isNumber(d.sigtype),"sigtype must be a number")},c.prototype.toObject=c.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}},c.fromObject=function(d){return i.checkArgument(d),new c(d)},t.exports=c});Qe("b2vm0",function(t,e){"use strict";var r=re("6gAsx"),n=re("jbAmm"),i=re("bczuf"),s=re("95EnH"),o=re("hkiTH"),a=re("gIXub"),u=re("4Dqlv");function c(){n.apply(this,arguments)}j4(c,n),c.prototype.getSignatures=function(d,f,m,p){r.checkState(this.output instanceof i),p=p||a.SIGHASH_ALL|a.SIGHASH_FORKID;var y=f.toPublicKey();return y.toString()===this.output.script.getPublicKey().toString("hex")?[new u({publicKey:y,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:m,signature:s.sign(d,f,p,m,this.output.script,this.output.satoshisBN),sigtype:p})]:[]},c.prototype.addSignature=function(d,f){return r.checkState(this.isValidSignature(d,f),"Signature is invalid"),this.setScript(o.buildPublicKeyIn(f.signature.toDER(),f.sigtype)),this},c.prototype.clearSignatures=function(){return this.setScript(o.empty()),this},c.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()},c.SCRIPT_MAX_SIZE=74,c.prototype._estimateSize=function(){return n.BASE_SIZE+c.SCRIPT_MAX_SIZE},t.exports=c});Qe("ddQTk",function(t,e){"use strict";var r=re("6gAsx"),n=re("bTTXN"),i=re("jbAmm"),s=re("bczuf"),o=re("95EnH"),a=re("hkiTH"),u=re("gIXub"),c=re("4Dqlv");function d(){i.apply(this,arguments)}j4(d,i),d.prototype.getSignatures=function(f,m,p,y,w){return r.checkState(this.output instanceof s),w=w||n.sha256ripemd160(m.publicKey.toBuffer()),y=y||u.SIGHASH_ALL|u.SIGHASH_FORKID,w.equals(this.output.script.getPublicKeyHash())?[new c({publicKey:m.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:p,signature:o.sign(f,m,y,p,this.output.script,this.output.satoshisBN),sigtype:y})]:[]},d.prototype.addSignature=function(f,m){return r.checkState(this.isValidSignature(f,m),"Signature is invalid"),this.setScript(a.buildPublicKeyHashIn(m.publicKey,m.signature.toDER(),m.sigtype)),this},d.prototype.clearSignatures=function(){return this.setScript(a.empty()),this},d.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()},d.SCRIPT_MAX_SIZE=140,d.prototype._estimateSize=function(){return i.BASE_SIZE+d.SCRIPT_MAX_SIZE},t.exports=d});Qe("dHaKi",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("jbAmm"),s=re("bczuf"),o=re("6gAsx"),a=re("hkiTH"),u=re("gIXub"),c=re("95EnH"),d=re("4Dqlv"),f=re("arkeG"),m=re("1zMJW");function p(y,w,P,C){i.apply(this,arguments);var R=this;w=w||y.publicKeys,P=P||y.threshold,C=C||y.signatures,this.publicKeys=w.map(T=>T.toString("hex")).sort().map(T=>new f(T)),o.checkState(a.buildMultisigOut(this.publicKeys,P).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},n.each(this.publicKeys,function(T,k){R.publicKeyIndex[T.toString()]=k}),this.threshold=P,this.signatures=C?this._deserializeSignatures(C):new Array(this.publicKeys.length)}j4(p,i),p.prototype.toObject=function(){var y=i.prototype.toObject.apply(this,arguments);return y.threshold=this.threshold,y.publicKeys=n.map(this.publicKeys,function(w){return w.toString()}),y.signatures=this._serializeSignatures(),y},p.prototype._deserializeSignatures=function(y){return n.map(y,function(w){if(!!w)return new d(w)})},p.prototype._serializeSignatures=function(){return n.map(this.signatures,function(y){if(!!y)return y.toObject()})},p.prototype.getSignatures=function(y,w,P,C){o.checkState(this.output instanceof s),C=C||u.SIGHASH_ALL|u.SIGHASH_FORKID;var R=this,T=[];return n.each(this.publicKeys,function(k){k.toString()===w.publicKey.toString()&&T.push(new d({publicKey:w.publicKey,prevTxId:R.prevTxId,outputIndex:R.outputIndex,inputIndex:P,signature:c.sign(y,w,C,P,R.output.script,R.output.satoshisBN),sigtype:C}))}),T},p.prototype.addSignature=function(y,w){return o.checkState(!this.isFullySigned(),"All needed signatures have already been added"),o.checkArgument(!n.isUndefined(this.publicKeyIndex[w.publicKey.toString()]),"Signature has no matching public key"),o.checkState(this.isValidSignature(y,w)),this.signatures[this.publicKeyIndex[w.publicKey.toString()]]=w,this._updateScript(),this},p.prototype._updateScript=function(){return this.setScript(a.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this},p.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(y){return!n.isUndefined(y)}),function(y){return r.concat([y.signature.toDER(),r.from([y.sigtype&255])])})},p.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},p.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},p.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},p.prototype.countSignatures=function(){return n.reduce(this.signatures,function(y,w){return y+!!w},0)},p.prototype.publicKeysWithoutSignature=function(){var y=this;return n.filter(this.publicKeys,function(w){return!y.signatures[y.publicKeyIndex[w.toString()]]})},p.prototype.isValidSignature=function(y,w){return w.signature.nhashtype=w.sigtype,c.verify(y,w.signature,w.publicKey,w.inputIndex,this.output.script,this.output.satoshisBN)},p.normalizeSignatures=function(y,w,P,C,R){return R.map(function(T){var k=null;return C=C.filter(function(H){if(k)return!0;var F=new d({signature:u.fromTxFormat(H),publicKey:T,prevTxId:w.prevTxId,outputIndex:w.outputIndex,inputIndex:P,sigtype:u.SIGHASH_ALL});F.signature.nhashtype=F.sigtype;var L=c.verify(y,F.signature,F.publicKey,F.inputIndex,w.output.script);return L?(k=F,!1):!0}),k||null})},p.SIGNATURE_SIZE=73,p.prototype._estimateSize=function(){var y=1+this.threshold*p.SIGNATURE_SIZE;return i.BASE_SIZE+m(y).toBuffer().length+y},t.exports=p});Qe("eJIfU",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("jbAmm"),s=re("bczuf"),o=re("6gAsx"),a=re("hkiTH"),u=re("gIXub"),c=re("95EnH"),d=re("4Dqlv"),f=re("arkeG"),m=re("1zMJW");function p(y,w,P,C){i.apply(this,arguments);var R=this;w=w||y.publicKeys,P=P||y.threshold,C=C||y.signatures,this.publicKeys=w.map(T=>T.toString("hex")).sort().map(T=>new f(T)),this.redeemScript=a.buildMultisigOut(this.publicKeys,P),o.checkState(a.buildScriptHashOut(this.redeemScript).equals(this.output.script),"Provided public keys don't hash to the provided output"),this.publicKeyIndex={},n.each(this.publicKeys,function(T,k){R.publicKeyIndex[T.toString()]=k}),this.threshold=P,this.signatures=C?this._deserializeSignatures(C):new Array(this.publicKeys.length)}j4(p,i),p.prototype.toObject=function(){var y=i.prototype.toObject.apply(this,arguments);return y.threshold=this.threshold,y.publicKeys=n.map(this.publicKeys,function(w){return w.toString()}),y.signatures=this._serializeSignatures(),y},p.prototype._deserializeSignatures=function(y){return n.map(y,function(w){if(!!w)return new d(w)})},p.prototype._serializeSignatures=function(){return n.map(this.signatures,function(y){if(!!y)return y.toObject()})},p.prototype.getSignatures=function(y,w,P,C){o.checkState(this.output instanceof s),C=C||u.SIGHASH_ALL|u.SIGHASH_FORKID;var R=this,T=[];return n.each(this.publicKeys,function(k){k.toString()===w.publicKey.toString()&&T.push(new d({publicKey:w.publicKey,prevTxId:R.prevTxId,outputIndex:R.outputIndex,inputIndex:P,signature:c.sign(y,w,C,P,R.redeemScript,R.output.satoshisBN),sigtype:C}))}),T},p.prototype.addSignature=function(y,w){return o.checkState(!this.isFullySigned(),"All needed signatures have already been added"),o.checkArgument(!n.isUndefined(this.publicKeyIndex[w.publicKey.toString()]),"Signature has no matching public key"),o.checkState(this.isValidSignature(y,w)),this.signatures[this.publicKeyIndex[w.publicKey.toString()]]=w,this._updateScript(),this},p.prototype._updateScript=function(){return this.setScript(a.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript})),this},p.prototype._createSignatures=function(){return n.map(n.filter(this.signatures,function(y){return!n.isUndefined(y)}),function(y){return r.concat([y.signature.toDER(),r.from([y.sigtype&255])])})},p.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()},p.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},p.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},p.prototype.countSignatures=function(){return n.reduce(this.signatures,function(y,w){return y+!!w},0)},p.prototype.publicKeysWithoutSignature=function(){var y=this;return n.filter(this.publicKeys,function(w){return!y.signatures[y.publicKeyIndex[w.toString()]]})},p.prototype.isValidSignature=function(y,w){return w.signature.nhashtype=w.sigtype,c.verify(y,w.signature,w.publicKey,w.inputIndex,this.redeemScript,this.output.satoshisBN)},p.SIGNATURE_SIZE=73,p.PUBKEY_SIZE=34,p.prototype._estimateSize=function(){var y=this.publicKeys.length*p.PUBKEY_SIZE,w=this.threshold*p.SIGNATURE_SIZE,P=3+y,C=P<=75?1:P<=255?2:3,R=w+1+C+P;return i.BASE_SIZE+m(R).toBuffer().length+R},t.exports=p});Qe("G1usC",function(t,e){"use strict";var r=re("kBBbb"),n=re("6gAsx"),i=re("gk75r"),s=re("hkiTH"),o=re("iSUUt");function a(u){if(!(this instanceof a))return new a(u);n.checkArgument(r.isObject(u),"Must provide an object from where to extract data");var c=u.address?new o(u.address):void 0,d=u.txid?u.txid:u.txId;if(!d||!i.isHexaString(d)||d.length>64)throw new Error("Invalid TXID in object",u);var f=r.isUndefined(u.vout)?u.outputIndex:u.vout;if(!r.isNumber(f))throw new Error("Invalid outputIndex, received "+f);n.checkArgument(!r.isUndefined(u.scriptPubKey)||!r.isUndefined(u.script),"Must provide the scriptPubKey for that output!");var m=new s(u.scriptPubKey||u.script);n.checkArgument(!r.isUndefined(u.amount)||!r.isUndefined(u.satoshis),"Must provide an amount for the output");var p=r.isUndefined(u.amount)?u.satoshis:Math.round(u.amount*1e8);n.checkArgument(r.isNumber(p),"Amount must be a number"),i.defineImmutable(this,{address:c,txId:d,outputIndex:f,script:m,satoshis:p})}a.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"},a.prototype.toString=function(){return this.txId+":"+this.outputIndex},a.fromObject=function(u){return new a(u)},a.prototype.toObject=a.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:Number.parseFloat((this.satoshis/1e8).toFixed(8))}},t.exports=a});Qe("7X5Fe",function(t,e){t.exports=re("fS7Ty")});Qe("fS7Ty",function(t,e){var r=Ar.Buffer;function n(){}n.getRandomBuffer=function(i){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");var s;if(window.crypto&&window.crypto.getRandomValues)s=window.crypto;else if(window.msCrypto&&window.msCrypto.getRandomValues)s=window.msCrypto;else throw new Error("window.crypto.getRandomValues not available");var o=new Uint8Array(i);s.getRandomValues(o);var a=r.from(o);return a},t.exports=n});Qe("19NsJ",function(t,e){t.exports=re("dhOpK"),t.exports.BlockHeader=re("gGdD6"),t.exports.MerkleBlock=re("hVYHX")});Qe("dhOpK",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("gGdD6"),s=re("dIoYd"),o=re("28ku8"),a=re("2AZ1V"),u=re("bTTXN"),c=re("7pkU6"),d=re("6gAsx");function f(p){return this instanceof f?(n.extend(this,f._from(p)),this):new f(p)}f.MAX_BLOCK_SIZE=128e6,f._from=function(y){var w={};if(r.isBuffer(y))w=f._fromBufferReader(o(y));else if(n.isObject(y))w=f._fromObject(y);else throw new TypeError("Unrecognized argument for Block");return w},f._fromObject=function(y){var w=[];y.transactions.forEach(function(C){C instanceof c?w.push(C):w.push(c().fromObject(C))});var P={header:i.fromObject(y.header),transactions:w};return P},f.fromObject=function(y){var w=f._fromObject(y);return new f(w)},f._fromBufferReader=function(y){var w={};d.checkState(!y.finished(),"No block data received"),w.header=i.fromBufferReader(y);var P=y.readVarintNum();w.transactions=[];for(var C=0;C<P;C++)w.transactions.push(c().fromBufferReader(y));return w},f.fromBufferReader=function(y){d.checkArgument(y,"br is required");var w=f._fromBufferReader(y);return new f(w)},f.fromBuffer=function(y){return f.fromBufferReader(new o(y))},f.fromString=function(y){var w=r.from(y,"hex");return f.fromBuffer(w)},f.fromRawBlock=function(y){r.isBuffer(y)||(y=r.from(y,"binary"));var w=o(y);w.pos=f.Values.START_OF_BLOCK;var P=f._fromBufferReader(w);return new f(P)},f.prototype.toObject=f.prototype.toJSON=function(){var y=[];return this.transactions.forEach(function(w){y.push(w.toObject())}),{header:this.header.toObject(),transactions:y}},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toString=function(){return this.toBuffer().toString("hex")},f.prototype.toBufferWriter=function(y){y||(y=new a),y.write(this.header.toBuffer()),y.writeVarintNum(this.transactions.length);for(var w=0;w<this.transactions.length;w++)this.transactions[w].toBufferWriter(y);return y},f.prototype.getTransactionHashes=function(){var y=[];if(this.transactions.length===0)return[f.Values.NULL_HASH];for(var w=0;w<this.transactions.length;w++)y.push(this.transactions[w]._getHash());return y},f.prototype.getMerkleTree=function(){for(var y=this.getTransactionHashes(),w=0,P=this.transactions.length;P>1;P=Math.floor((P+1)/2)){for(var C=0;C<P;C+=2){var R=Math.min(C+1,P-1),T=r.concat([y[w+C],y[w+R]]);y.push(u.sha256sha256(T))}w+=P}return y},f.prototype.getMerkleRoot=function(){var y=this.getMerkleTree();return y[y.length-1]},f.prototype.validMerkleRoot=function(){var y=new s(this.header.merkleRoot.toString("hex"),"hex"),w=new s(this.getMerkleRoot().toString("hex"),"hex");return y.cmp(w)===0},f.prototype._getHash=function(){return this.header._getHash()};var m={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:n.noop};Object.defineProperty(f.prototype,"id",m),Object.defineProperty(f.prototype,"hash",m),f.prototype.inspect=function(){return"<Block "+this.id+">"},f.Values={START_OF_BLOCK:8,NULL_HASH:r.from("0000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=f});Qe("gGdD6",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("dIoYd"),s=re("28ku8"),o=re("2AZ1V"),a=re("bTTXN"),u=re("6gAsx"),c=486604799,d=function m(p){if(!(this instanceof m))return new m(p);var y=m._from(p);return this.version=y.version,this.prevHash=y.prevHash,this.merkleRoot=y.merkleRoot,this.time=y.time,this.timestamp=y.time,this.bits=y.bits,this.nonce=y.nonce,y.hash&&u.checkState(this.hash===y.hash,"Argument object hash property does not match block hash."),this};d._from=function(p){var y={};if(r.isBuffer(p))y=d._fromBufferReader(s(p));else if(n.isObject(p))y=d._fromObject(p);else throw new TypeError("Unrecognized argument for BlockHeader");return y},d._fromObject=function(p){u.checkArgument(p,"data is required");var y=p.prevHash,w=p.merkleRoot;n.isString(p.prevHash)&&(y=r.from(p.prevHash,"hex").reverse()),n.isString(p.merkleRoot)&&(w=r.from(p.merkleRoot,"hex").reverse());var P={hash:p.hash,version:p.version,prevHash:y,merkleRoot:w,time:p.time,timestamp:p.time,bits:p.bits,nonce:p.nonce};return P},d.fromObject=function(p){var y=d._fromObject(p);return new d(y)},d.fromRawBlock=function(p){r.isBuffer(p)||(p=r.from(p,"binary"));var y=s(p);y.pos=d.Constants.START_OF_HEADER;var w=d._fromBufferReader(y);return new d(w)},d.fromBuffer=function(p){var y=d._fromBufferReader(s(p));return new d(y)},d.fromString=function(p){var y=r.from(p,"hex");return d.fromBuffer(y)},d._fromBufferReader=function(p){var y={};return y.version=p.readInt32LE(),y.prevHash=p.read(32),y.merkleRoot=p.read(32),y.time=p.readUInt32LE(),y.bits=p.readUInt32LE(),y.nonce=p.readUInt32LE(),y},d.fromBufferReader=function(p){var y=d._fromBufferReader(p);return new d(y)},d.prototype.toObject=d.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:r.from(this.prevHash).reverse().toString("hex"),merkleRoot:r.from(this.merkleRoot).reverse().toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}},d.prototype.toBuffer=function(){return this.toBufferWriter().concat()},d.prototype.toString=function(){return this.toBuffer().toString("hex")},d.prototype.toBufferWriter=function(p){return p||(p=new o),p.writeInt32LE(this.version),p.write(this.prevHash),p.write(this.merkleRoot),p.writeUInt32LE(this.time),p.writeUInt32LE(this.bits),p.writeUInt32LE(this.nonce),p},d.prototype.getTargetDifficulty=function(p){p=p||this.bits;for(var y=new i(p&16777215),w=8*((p>>>24)-3);w-- >0;)y=y.mul(new i(2));return y},d.prototype.getDifficulty=function(){var p=this.getTargetDifficulty(c).mul(new i(Math.pow(10,8))),y=this.getTargetDifficulty(),w=p.div(y).toString(10),P=w.length-8;return w=w.slice(0,P)+"."+w.slice(P),parseFloat(w)},d.prototype._getHash=function(){var p=this.toBuffer();return a.sha256sha256(p)};var f={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=s(this._getHash()).readReverse().toString("hex")),this._id},set:n.noop};Object.defineProperty(d.prototype,"id",f),Object.defineProperty(d.prototype,"hash",f),d.prototype.validTimestamp=function(){var p=Math.round(new Date().getTime()/1e3);return!(this.time>p+d.Constants.MAX_TIME_OFFSET)},d.prototype.validProofOfWork=function(){var p=new i(this.id,"hex"),y=this.getTargetDifficulty();return!(p.cmp(y)>0)},d.prototype.inspect=function(){return"<BlockHeader "+this.id+">"},d.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:7200,LARGEST_HASH:new i("10000000000000000000000000000000000000000000000000000000000000000","hex")},t.exports=d});Qe("hVYHX",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("gGdD6"),s=re("28ku8"),o=re("2AZ1V"),a=re("bTTXN"),u=re("7pkU6"),c=re("kooOK"),d=re("6gAsx");function f(m){if(!(this instanceof f))return new f(m);var p={};if(r.isBuffer(m))p=f._fromBufferReader(s(m));else if(n.isObject(m)){var y;m.header instanceof i?y=m.header:y=i.fromObject(m.header),p={header:y,numTransactions:m.numTransactions,hashes:m.hashes,flags:m.flags}}else throw new TypeError("Unrecognized argument for MerkleBlock");return n.extend(this,p),this._flagBitsUsed=0,this._hashesUsed=0,this}f.fromBuffer=function(p){return f.fromBufferReader(s(p))},f.fromBufferReader=function(p){return new f(f._fromBufferReader(p))},f.prototype.toBuffer=function(){return this.toBufferWriter().concat()},f.prototype.toBufferWriter=function(p){p||(p=new o),p.write(this.header.toBuffer()),p.writeUInt32LE(this.numTransactions),p.writeVarintNum(this.hashes.length);for(var y=0;y<this.hashes.length;y++)p.write(r.from(this.hashes[y],"hex"));for(p.writeVarintNum(this.flags.length),y=0;y<this.flags.length;y++)p.writeUInt8(this.flags[y]);return p},f.prototype.toObject=f.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}},f.prototype.validMerkleTree=function(){if(d.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),d.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||this.flags.length*8<this.hashes.length)return!1;var p=this._calcTreeHeight(),y={hashesUsed:0,flagBitsUsed:0},w=this._traverseMerkleTree(p,0,y);return y.hashesUsed!==this.hashes.length?!1:w.equals(this.header.merkleRoot)},f.prototype.filterdTxsHash=function(){throw new Error("filterdTxsHash has been deprecated. use filteredTxsHash.")},f.prototype.filteredTxsHash=function(){if(d.checkState(n.isArray(this.flags),"MerkleBlock flags is not an array"),d.checkState(n.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new c.MerkleBlock.InvalidMerkleTree;if(this.flags.length*8<this.hashes.length)throw new c.MerkleBlock.InvalidMerkleTree;if(this.hashes.length===1)return[];var p=this._calcTreeHeight(),y={hashesUsed:0,flagBitsUsed:0},w=this._traverseMerkleTree(p,0,y,!0);if(y.hashesUsed!==this.hashes.length)throw new c.MerkleBlock.InvalidMerkleTree;return w},f.prototype._traverseMerkleTree=function(p,y,w,P){if(w=w||{},w.txs=w.txs||[],w.flagBitsUsed=w.flagBitsUsed||0,w.hashesUsed=w.hashesUsed||0,P=P||!1,w.flagBitsUsed>this.flags.length*8)return null;var C=this.flags[w.flagBitsUsed>>3]>>>(w.flagBitsUsed++&7)&1;if(p===0||!C){if(w.hashesUsed>=this.hashes.length)return null;var R=this.hashes[w.hashesUsed++];return p===0&&C&&w.txs.push(R),r.from(R,"hex")}else{var T=this._traverseMerkleTree(p-1,y*2,w),k=T;return y*2+1<this._calcTreeWidth(p-1)&&(k=this._traverseMerkleTree(p-1,y*2+1,w)),P?w.txs:a.sha256sha256(r.concat([T,k]))}},f.prototype._calcTreeWidth=function(p){return this.numTransactions+(1<<p)-1>>p},f.prototype._calcTreeHeight=function(){for(var p=0;this._calcTreeWidth(p)>1;)p++;return p},f.prototype.hasTransaction=function(p){d.checkArgument(!n.isUndefined(p),"tx cannot be undefined"),d.checkArgument(p instanceof u||typeof p=="string",'Invalid tx given, tx must be a "string" or "Transaction"');var y=p;p instanceof u&&(y=r.from(p.id,"hex").reverse().toString("hex"));var w=[],P=this._calcTreeHeight();return this._traverseMerkleTree(P,0,{txs:w}),w.indexOf(y)!==-1},f._fromBufferReader=function(p){d.checkState(!p.finished(),"No merkleblock data received");var y={};y.header=i.fromBufferReader(p),y.numTransactions=p.readUInt32LE();var w=p.readVarintNum();y.hashes=[];for(var P=0;P<w;P++)y.hashes.push(p.read(32).toString("hex"));var C=p.readVarintNum();for(y.flags=[],P=0;P<C;P++)y.flags.push(p.readUInt8());return y},f.fromObject=function(p){return new f(p)},t.exports=f});Qe("4bgoH",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("6gAsx"),s=re("dIoYd"),o=re("jG967"),a=re("j7ODq"),u=re("bTTXN"),c=re("cyjag"),d=re("f0gTO"),f=re("7smYJ"),m=re("7X5Fe"),p=re("kooOK"),y=p.HDPrivateKey,w=re("gk75r"),P=128,C=1/8,R=512;function T(k){if(k instanceof T)return k;if(!(this instanceof T))return new T(k);if(!k)return this._generateRandomly();if(c.get(k))return this._generateRandomly(k);if(n.isString(k)||r.isBuffer(k))if(T.isValidSerialized(k))this._buildFromSerialized(k);else if(w.isValidJSON(k))this._buildFromJSON(k);else if(r.isBuffer(k)&&T.isValidSerialized(k.toString()))this._buildFromSerialized(k.toString());else throw T.getSerializedError(k);else if(n.isObject(k))this._buildFromObject(k);else throw new y.UnrecognizedArgument(k)}T.fromRandom=function(){return new T},T.isValidPath=function(k,H){if(n.isString(k)){var F=T._getDerivationIndexes(k);return F!==null&&n.every(F,T.isValidPath)}return n.isNumber(k)?(k<T.Hardened&&H===!0&&(k+=T.Hardened),k>=0&&k<T.MaxIndex):!1},T._getDerivationIndexes=function(k){var H=k.split("/");if(n.includes(T.RootElementAlias,k))return[];if(!n.includes(T.RootElementAlias,H[0]))return null;var F=H.slice(1).map(function(L){var D=L.slice(-1)==="'";if(D&&(L=L.slice(0,-1)),!L||L[0]==="-")return NaN;var N=+L;return D&&(N+=T.Hardened),N});return n.some(F,isNaN)?null:F},T.prototype.derive=function(){throw new Error("derive has been deprecated. use deriveChild or, for the old way, deriveNonCompliantChild.")},T.prototype.deriveChild=function(k,H){if(n.isNumber(k))return this._deriveWithNumber(k,H);if(n.isString(k))return this._deriveFromString(k);throw new y.InvalidDerivationArgument(k)},T.prototype.deriveNonCompliantChild=function(k,H){if(n.isNumber(k))return this._deriveWithNumber(k,H,!0);if(n.isString(k))return this._deriveFromString(k,!0);throw new y.InvalidDerivationArgument(k)},T.prototype._deriveWithNumber=function(k,H,F){if(!T.isValidPath(k,H))throw new y.InvalidPath(k);H=k>=T.Hardened?!0:H,k<T.Hardened&&H===!0&&(k+=T.Hardened);var L=w.integerAsBuffer(k),D;if(H&&F){var N=this.privateKey.bn.toBuffer();D=r.concat([r.from([0]),N,L])}else if(H){var g=this.privateKey.bn.toBuffer({size:32});Wd(g.length===32,"length of private key buffer is expected to be 32 bytes"),D=r.concat([r.from([0]),g,L])}else D=r.concat([this.publicKey.toBuffer(),L]);var h=u.sha512hmac(D,this._buffers.chainCode),l=s.fromBuffer(h.slice(0,32),{size:32}),b=h.slice(32,64),_=l.add(this.privateKey.toBigNumber()).umod(d.getN()).toBuffer({size:32});if(!f.isValid(_))return this._deriveWithNumber(k+1,null,F);var x=new T({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:k,chainCode:b,privateKey:_});return x},T.prototype._deriveFromString=function(k,H){if(!T.isValidPath(k))throw new y.InvalidPath(k);var F=T._getDerivationIndexes(k),L=F.reduce(function(D,N){return D._deriveWithNumber(N,null,H)},this);return L},T.isValidSerialized=function(k,H){return!T.getSerializedError(k,H)},T.getSerializedError=function(k,H){if(!(n.isString(k)||r.isBuffer(k)))return new y.UnrecognizedArgument("Expected string or buffer");if(!o.validCharacters(k))return new p.InvalidB58Char("(unknown)",k);try{k=a.decode(k)}catch{return new p.InvalidB58Checksum(k)}if(k.length!==T.DataLength)return new y.InvalidLength(k);if(!n.isUndefined(H)){var F=T._validateNetwork(k,H);if(F)return F}return null},T._validateNetwork=function(k,H){var F=c.get(H);if(!F)return new p.InvalidNetworkArgument(H);var L=k.slice(0,4);return L.readUInt32BE(0)!==F.xprivkey?new p.InvalidNetwork(L):null},T.fromString=function(k){return i.checkArgument(n.isString(k),"No valid string was provided"),new T(k)},T.fromObject=function(k){return i.checkArgument(n.isObject(k),"No valid argument was provided"),new T(k)},T.prototype._buildFromJSON=function(k){return this._buildFromObject(JSON.parse(k))},T.prototype._buildFromObject=function(k){var H={version:k.network?w.integerAsBuffer(c.get(k.network).xprivkey):k.version,depth:n.isNumber(k.depth)?r.from([k.depth&255]):k.depth,parentFingerPrint:n.isNumber(k.parentFingerPrint)?w.integerAsBuffer(k.parentFingerPrint):k.parentFingerPrint,childIndex:n.isNumber(k.childIndex)?w.integerAsBuffer(k.childIndex):k.childIndex,chainCode:n.isString(k.chainCode)?r.from(k.chainCode,"hex"):k.chainCode,privateKey:n.isString(k.privateKey)&&w.isHexa(k.privateKey)?r.from(k.privateKey,"hex"):k.privateKey,checksum:k.checksum?k.checksum.length?k.checksum:w.integerAsBuffer(k.checksum):void 0};return this._buildFromBuffers(H)},T.prototype._buildFromSerialized=function(k){var H=a.decode(k),F={version:H.slice(T.VersionStart,T.VersionEnd),depth:H.slice(T.DepthStart,T.DepthEnd),parentFingerPrint:H.slice(T.ParentFingerPrintStart,T.ParentFingerPrintEnd),childIndex:H.slice(T.ChildIndexStart,T.ChildIndexEnd),chainCode:H.slice(T.ChainCodeStart,T.ChainCodeEnd),privateKey:H.slice(T.PrivateKeyStart,T.PrivateKeyEnd),checksum:H.slice(T.ChecksumStart,T.ChecksumEnd),xprivkey:k};return this._buildFromBuffers(F)},T.prototype._generateRandomly=function(k){return T.fromSeed(m.getRandomBuffer(64),k)},T.fromSeed=function(k,H){if(w.isHexaString(k)&&(k=r.from(k,"hex")),!r.isBuffer(k))throw new y.InvalidEntropyArgument(k);if(k.length<P*C)throw new y.InvalidEntropyArgument.NotEnoughEntropy(k);if(k.length>R*C)throw new y.InvalidEntropyArgument.TooMuchEntropy(k);var F=u.sha512hmac(k,r.from("Bitcoin seed"));return new T({network:c.get(H)||c.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:F.slice(0,32),chainCode:F.slice(32,64)})},T.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var k=re("8kXe7");this._hdPublicKey=new k(this)}},T.prototype._buildFromBuffers=function(k){T._validateBufferArguments(k),w.defineImmutable(this,{_buffers:k});var H=[k.version,k.depth,k.parentFingerPrint,k.childIndex,k.chainCode,r.alloc(1),k.privateKey],F=r.concat(H);if(!k.checksum||!k.checksum.length)k.checksum=a.checksum(F);else if(k.checksum.toString()!==a.checksum(F).toString())throw new p.InvalidB58Checksum(F);var L=c.get(k.version.readUInt32BE(0)),D;D=a.encode(r.concat(H)),k.xprivkey=r.from(D);var N=new f(s.fromBuffer(k.privateKey),L),g=N.toPublicKey(),h=T.ParentFingerPrintSize,l=u.sha256ripemd160(g.toBuffer()).slice(0,h);return w.defineImmutable(this,{xprivkey:D,network:L,depth:k.depth[0],privateKey:N,publicKey:g,fingerPrint:l}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this},T._validateBufferArguments=function(k){var H=function(F,L){var D=k[F];Wd(r.isBuffer(D),F+" argument is not a buffer"),Wd(D.length===L,F+" has not the expected size: found "+D.length+", expected "+L)};H("version",T.VersionSize),H("depth",T.DepthSize),H("parentFingerPrint",T.ParentFingerPrintSize),H("childIndex",T.ChildIndexSize),H("chainCode",T.ChainCodeSize),H("privateKey",T.PrivateKeySize),k.checksum&&k.checksum.length&&H("checksum",T.CheckSumSize)},T.prototype.toString=function(){return this.xprivkey},T.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"},T.prototype.toObject=T.prototype.toJSON=function(){return{network:c.get(this._buffers.version.readUInt32BE(0),"xprivkey").name,depth:this._buffers.depth[0],fingerPrint:this.fingerPrint.readUInt32BE(0),parentFingerPrint:this._buffers.parentFingerPrint.readUInt32BE(0),childIndex:this._buffers.childIndex.readUInt32BE(0),chainCode:this._buffers.chainCode.toString("hex"),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:this._buffers.checksum.readUInt32BE(0),xprivkey:this.xprivkey}},T.fromBuffer=function(k){return new T(k.toString())},T.fromHex=function(k){return T.fromBuffer(r.from(k,"hex"))},T.prototype.toBuffer=function(){return r.from(this.toString())},T.prototype.toHex=function(){return this.toBuffer().toString("hex")},T.DefaultDepth=0,T.DefaultFingerprint=0,T.DefaultChildIndex=0,T.Hardened=2147483648,T.MaxIndex=2*T.Hardened,T.RootElementAlias=["m","M","m'","M'"],T.VersionSize=4,T.DepthSize=1,T.ParentFingerPrintSize=4,T.ChildIndexSize=4,T.ChainCodeSize=32,T.PrivateKeySize=32,T.CheckSumSize=4,T.DataLength=78,T.SerializedByteSize=82,T.VersionStart=0,T.VersionEnd=T.VersionStart+T.VersionSize,T.DepthStart=T.VersionEnd,T.DepthEnd=T.DepthStart+T.DepthSize,T.ParentFingerPrintStart=T.DepthEnd,T.ParentFingerPrintEnd=T.ParentFingerPrintStart+T.ParentFingerPrintSize,T.ChildIndexStart=T.ParentFingerPrintEnd,T.ChildIndexEnd=T.ChildIndexStart+T.ChildIndexSize,T.ChainCodeStart=T.ChildIndexEnd,T.ChainCodeEnd=T.ChainCodeStart+T.ChainCodeSize,T.PrivateKeyStart=T.ChainCodeEnd+1,T.PrivateKeyEnd=T.PrivateKeyStart+T.PrivateKeySize,T.ChecksumStart=T.PrivateKeyEnd,T.ChecksumEnd=T.ChecksumStart+T.CheckSumSize,Wd(T.ChecksumEnd===T.SerializedByteSize),t.exports=T});Qe("8kXe7",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("6gAsx"),s=re("dIoYd"),o=re("jG967"),a=re("j7ODq"),u=re("bTTXN"),c=re("4bgoH"),d=re("cyjag"),f=re("f0gTO"),m=re("arkeG"),p=re("kooOK"),y=p,w=p.HDPublicKey,P=re("gk75r");function C(R){if(R instanceof C)return R;if(!(this instanceof C))return new C(R);if(R)if(n.isString(R)||r.isBuffer(R)){var T=C.getSerializedError(R);if(T){if(r.isBuffer(R)&&!C.getSerializedError(R.toString()))return this._buildFromSerialized(R.toString());if(T instanceof w.ArgumentIsPrivateExtended)return new c(R).hdPublicKey;throw T}else return this._buildFromSerialized(R)}else{if(n.isObject(R))return R instanceof c?this._buildFromPrivate(R):this._buildFromObject(R);throw new w.UnrecognizedArgument(R)}else throw new w.MustSupplyArgument}C.fromHDPrivateKey=function(R){return new C(R)},C.isValidPath=function(R){if(n.isString(R)){var T=c._getDerivationIndexes(R);return T!==null&&n.every(T,C.isValidPath)}return n.isNumber(R)?R>=0&&R<C.Hardened:!1},C.prototype.derive=function(){throw new Error("derive has been deprecated. use deriveChild or, for the old way, deriveNonCompliantChild.")},C.prototype.deriveChild=function(R,T){if(n.isNumber(R))return this._deriveWithNumber(R,T);if(n.isString(R))return this._deriveFromString(R);throw new w.InvalidDerivationArgument(R)},C.prototype._deriveWithNumber=function(R,T){if(R>=C.Hardened||T)throw new w.InvalidIndexCantDeriveHardened;if(R<0)throw new w.InvalidPath(R);var k=P.integerAsBuffer(R),H=r.concat([this.publicKey.toBuffer(),k]),F=u.sha512hmac(H,this._buffers.chainCode),L=s.fromBuffer(F.slice(0,32),{size:32}),D=F.slice(32,64),N;try{N=m.fromPoint(f.getG().mul(L).add(this.publicKey.point))}catch{return this._deriveWithNumber(R+1)}var g=new C({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:R,chainCode:D,publicKey:N});return g},C.prototype._deriveFromString=function(R){if(n.includes(R,"'"))throw new w.InvalidIndexCantDeriveHardened;if(!C.isValidPath(R))throw new w.InvalidPath(R);var T=c._getDerivationIndexes(R),k=T.reduce(function(H,F){return H._deriveWithNumber(F)},this);return k},C.isValidSerialized=function(R,T){return n.isNull(C.getSerializedError(R,T))},C.getSerializedError=function(R,T){if(!(n.isString(R)||r.isBuffer(R)))return new w.UnrecognizedArgument("expected buffer or string");if(!o.validCharacters(R))return new y.InvalidB58Char("(unknown)",R);try{R=a.decode(R)}catch{return new y.InvalidB58Checksum(R)}if(R.length!==C.DataSize)return new w.InvalidLength(R);if(!n.isUndefined(T)){var k=C._validateNetwork(R,T);if(k)return k}var H=R.readUInt32BE(0);return H===d.livenet.xprivkey||H===d.testnet.xprivkey?new w.ArgumentIsPrivateExtended:null},C._validateNetwork=function(R,T){var k=d.get(T);if(!k)return new y.InvalidNetworkArgument(T);var H=R.slice(C.VersionStart,C.VersionEnd);return H.readUInt32BE(0)!==k.xpubkey?new y.InvalidNetwork(H):null},C.prototype._buildFromPrivate=function(R){var T=n.clone(R._buffers),k=f.getG().mul(s.fromBuffer(T.privateKey));return T.publicKey=f.pointToCompressed(k),T.version=P.integerAsBuffer(d.get(T.version.readUInt32BE(0)).xpubkey),T.privateKey=void 0,T.checksum=void 0,T.xprivkey=void 0,this._buildFromBuffers(T)},C.prototype._buildFromObject=function(R){var T={version:R.network?P.integerAsBuffer(d.get(R.network).xpubkey):R.version,depth:n.isNumber(R.depth)?r.from([R.depth&255]):R.depth,parentFingerPrint:n.isNumber(R.parentFingerPrint)?P.integerAsBuffer(R.parentFingerPrint):R.parentFingerPrint,childIndex:n.isNumber(R.childIndex)?P.integerAsBuffer(R.childIndex):R.childIndex,chainCode:n.isString(R.chainCode)?r.from(R.chainCode,"hex"):R.chainCode,publicKey:n.isString(R.publicKey)?r.from(R.publicKey,"hex"):r.isBuffer(R.publicKey)?R.publicKey:R.publicKey.toBuffer(),checksum:n.isNumber(R.checksum)?P.integerAsBuffer(R.checksum):R.checksum};return this._buildFromBuffers(T)},C.prototype._buildFromSerialized=function(R){var T=a.decode(R),k={version:T.slice(C.VersionStart,C.VersionEnd),depth:T.slice(C.DepthStart,C.DepthEnd),parentFingerPrint:T.slice(C.ParentFingerPrintStart,C.ParentFingerPrintEnd),childIndex:T.slice(C.ChildIndexStart,C.ChildIndexEnd),chainCode:T.slice(C.ChainCodeStart,C.ChainCodeEnd),publicKey:T.slice(C.PublicKeyStart,C.PublicKeyEnd),checksum:T.slice(C.ChecksumStart,C.ChecksumEnd),xpubkey:R};return this._buildFromBuffers(k)},C.prototype._buildFromBuffers=function(R){C._validateBufferArguments(R),P.defineImmutable(this,{_buffers:R});var T=[R.version,R.depth,R.parentFingerPrint,R.childIndex,R.chainCode,R.publicKey],k=r.concat(T),H=a.checksum(k);if(!R.checksum||!R.checksum.length)R.checksum=H;else if(R.checksum.toString("hex")!==H.toString("hex"))throw new y.InvalidB58Checksum(k,H);var F=d.get(R.version.readUInt32BE(0)),L;L=a.encode(r.concat(T)),R.xpubkey=r.from(L);var D=new m(R.publicKey,{network:F}),N=C.ParentFingerPrintSize,g=u.sha256ripemd160(D.toBuffer()).slice(0,N);return P.defineImmutable(this,{xpubkey:L,network:F,depth:R.depth[0],publicKey:D,fingerPrint:g}),this},C._validateBufferArguments=function(R){var T=function(k,H){var F=R[k];Wd(r.isBuffer(F),k+" argument is not a buffer, it's "+typeof F),Wd(F.length===H,k+" has not the expected size: found "+F.length+", expected "+H)};T("version",C.VersionSize),T("depth",C.DepthSize),T("parentFingerPrint",C.ParentFingerPrintSize),T("childIndex",C.ChildIndexSize),T("chainCode",C.ChainCodeSize),T("publicKey",C.PublicKeySize),R.checksum&&R.checksum.length&&T("checksum",C.CheckSumSize)},C.fromString=function(R){return i.checkArgument(n.isString(R),"No valid string was provided"),new C(R)},C.fromObject=function(R){return i.checkArgument(n.isObject(R),"No valid argument was provided"),new C(R)},C.prototype.toString=function(){return this.xpubkey},C.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"},C.prototype.toObject=C.prototype.toJSON=function(){return{network:d.get(this._buffers.version.readUInt32BE(0)).name,depth:this._buffers.depth[0],fingerPrint:this.fingerPrint.readUInt32BE(0),parentFingerPrint:this._buffers.parentFingerPrint.readUInt32BE(0),childIndex:this._buffers.childIndex.readUInt32BE(0),chainCode:this._buffers.chainCode.toString("hex"),publicKey:this.publicKey.toString(),checksum:this._buffers.checksum.readUInt32BE(0),xpubkey:this.xpubkey}},C.fromBuffer=function(R){return new C(R)},C.fromHex=function(R){return C.fromBuffer(r.from(R,"hex"))},C.prototype.toBuffer=function(){return r.from(this._buffers.xpubkey)},C.prototype.toHex=function(){return this.toBuffer().toString("hex")},C.Hardened=2147483648,C.RootElementAlias=["m","M"],C.VersionSize=4,C.DepthSize=1,C.ParentFingerPrintSize=4,C.ChildIndexSize=4,C.ChainCodeSize=32,C.PublicKeySize=33,C.CheckSumSize=4,C.DataSize=78,C.SerializedByteSize=82,C.VersionStart=0,C.VersionEnd=C.VersionStart+C.VersionSize,C.DepthStart=C.VersionEnd,C.DepthEnd=C.DepthStart+C.DepthSize,C.ParentFingerPrintStart=C.DepthEnd,C.ParentFingerPrintEnd=C.ParentFingerPrintStart+C.ParentFingerPrintSize,C.ChildIndexStart=C.ParentFingerPrintEnd,C.ChildIndexEnd=C.ChildIndexStart+C.ChildIndexSize,C.ChainCodeStart=C.ChildIndexEnd,C.ChainCodeEnd=C.ChainCodeStart+C.ChainCodeSize,C.PublicKeyStart=C.ChainCodeEnd,C.PublicKeyEnd=C.PublicKeyStart+C.PublicKeySize,C.ChecksumStart=C.PublicKeyEnd,C.ChecksumEnd=C.ChecksumStart+C.CheckSumSize,Wd(C.PublicKeyEnd===C.DataSize),Wd(C.ChecksumEnd===C.SerializedByteSize),t.exports=C});Qe("de0HV",function(t,e){t.exports=re("fNnUs")});Qe("fNnUs",function(t,e){var r=Ar.Buffer,n=re("arkeG"),i=re("7smYJ"),s=re("bTTXN"),o=re("6gAsx"),a=re("cQlxP"),u=re("kooOK"),c=q2.ModeOfOperation.cbc,d=function(){};d.encrypt=function(p,y,w){o.checkArgument(p),o.checkArgument(y),o.checkArgument(w),o.checkArgument(y.length===16,"keybuf length must be 16"),o.checkArgument(w.length===16,"ivbuf length must be 16"),p=q2.padding.pkcs7.pad(p);var P=new c(y,w),C=P.encrypt(p);return r.from(C)},d.decrypt=function(p,y,w){o.checkArgument(p),o.checkArgument(y),o.checkArgument(w),o.checkArgument(y.length===16,"keybuf length must be 16"),o.checkArgument(w.length===16,"ivbuf length must be 16");var P=new c(y,w),C=P.decrypt(p);return r.from(q2.padding.pkcs7.strip(C))};var f=function p(y,w="BIE1"){if(w!=="BIE1")throw new u.ECIES.UnsupportAlgorithm(w);if(!(this instanceof p))return new p(y,w);this._privateKey=new i,this.opts=y||{},this.opts.ephemeralKey=!0};f.prototype.privateKey=function(p){return o.checkArgument(i.isValid(p),"no private key provided"),this._privateKey=i(p.toHex())||null,this.opts.ephemeralKey=!1,this},f.prototype.publicKey=function(p){return o.checkArgument(n.isValid(p),"no public key provided"),this._publicKey=n(p.toString())||null,this._publicKey!=null&&(this.opts.fixedPublicKey=!0),this};var m=function(p,y){var w="_"+p;Object.defineProperty(f.prototype,p,{configurable:!1,enumerable:!0,get:function(){var P=this[w];return P=this[w]=y.apply(this),P}})};m("Rbuf",function(){return this._privateKey.publicKey.toDER(!0)}),m("ivkEkM",function(){var p=this._privateKey.bn,y=this._publicKey.point,w=y.mul(p),P=n(w),C=P.toBuffer();return s.sha512(C)}),m("iv",function(){return this.ivkEkM.slice(0,16)}),m("kE",function(){return this.ivkEkM.slice(16,32)}),m("kM",function(){return this.ivkEkM.slice(32,64)}),f.prototype.encrypt=function(p){r.isBuffer(p)||(p=r.from(p));var y=d.encrypt(p,this.kE,this.iv),w,P=r.from("BIE1");this.opts.noKey&&!this.opts.ephemeralKey?w=r.concat([P,y]):w=r.concat([P,this.Rbuf,y]);var C=s.sha256hmac(w,this.kM);return this.opts.shortTag&&(C=C.slice(0,4)),r.concat([w,C])},f.prototype.decrypt=function(p){o.checkArgument(r.isBuffer(p),"ciphetext must be a buffer");var y=32,w=4;this.opts.shortTag&&(y=4);var P=p.slice(0,4);if(!P.equals(r.from("BIE1")))throw new u.DecryptionError("Invalid Magic");if(!this.opts.noKey){var C;C=p.slice(4,37),this.opts.fixedPublicKey?console.log('Notice: Overriding PublicKey in message. Consider use "noKey" option if you are not sending message to electrum and do not want to use ephemeral key'):this._publicKey=n.fromDER(C),w=37}var R=p.slice(w,p.length-y),T=p.slice(p.length-y,p.length),k=s.sha256hmac(p.slice(0,p.length-y),this.kM);if(this.opts.shortTag&&(k=k.slice(0,4)),!T.equals(k))throw new u.ECIES.DecryptionError("Invalid checksum");return d.decrypt(R,this.kE,this.iv)},f.bitcoreECIES=a,t.exports=f});Qe("cQlxP",function(t,e){var r=Ar.Buffer,n=re("arkeG"),i=re("bTTXN"),s=re("6gAsx"),o=q2.ModeOfOperation.cbc,a=re("7X5Fe"),u=function(){};u.encrypt=function(f,m,p){s.checkArgument(f),s.checkArgument(m),s.checkArgument(p),p=p||a.getRandomBuffer(16),f=q2.padding.pkcs7.pad(f);var y=new o(m,p),w=y.encrypt(f),P=r.concat([p,w]);return P},u.decrypt=function(f,m){s.checkArgument(f),s.checkArgument(m);var p=f.slice(0,16),y=f.slice(16),w=new o(m,p),P=w.decrypt(y);return P=q2.padding.pkcs7.strip(P),r.from(P)};var c=function f(m){if(!(this instanceof f))return new f;this.opts=m||{}};c.prototype.privateKey=function(f){return s.checkArgument(f,"no private key provided"),this._privateKey=f||null,this},c.prototype.publicKey=function(f){return s.checkArgument(f,"no public key provided"),this._publicKey=f||null,this};var d=function(f,m){var p="_"+f;Object.defineProperty(c.prototype,f,{configurable:!1,enumerable:!0,get:function(){var y=this[p];return y||(y=this[p]=m.apply(this)),y}})};d("Rbuf",function(){return this._privateKey.publicKey.toDER(!0)}),d("kEkM",function(){var f=this._privateKey.bn,m=this._publicKey.point,p=m.mul(f),y=p.getX(),w=y.toBuffer({size:32});return i.sha512(w)}),d("kE",function(){return this.kEkM.slice(0,32)}),d("kM",function(){return this.kEkM.slice(32,64)}),c.prototype.encrypt=function(f,m){r.isBuffer(f)||(f=r.from(f)),m===void 0&&(m=i.sha256hmac(f,this._privateKey.toBuffer()).slice(0,16));var p=u.encrypt(f,this.kE,m),y=i.sha256hmac(p,this.kM);this.opts.shortTag&&(y=y.slice(0,4));var w;return this.opts.noKey?w=r.concat([p,y]):w=r.concat([this.Rbuf,p,y]),w},c.prototype.decrypt=function(f){s.checkArgument(f);var m=0,p=32;if(this.opts.shortTag&&(p=4),!this.opts.noKey){var y;switch(f[0]){case 4:y=f.slice(0,65);break;case 3:case 2:y=f.slice(0,33);break;default:throw new Error("Invalid type: "+f[0])}this._publicKey=n.fromDER(y),m+=y.length}var w=f.slice(m,f.length-p),P=f.slice(f.length-p,f.length),C=i.sha256hmac(w,this.kM);this.opts.shortTag&&(C=C.slice(0,4));for(var R=!0,T=0;T<P.length;T++)R&=P[T]===C[T];if(!R)throw new Error("Invalid checksum");return u.decrypt(w,this.kE)},t.exports=c});Qe("9fBEz",function(t,e){var r=Ar.Buffer,n=re("kBBbb"),i=re("7smYJ"),s=re("arkeG"),o=re("iSUUt"),a=re("2AZ1V"),u=re("kmMTb"),c=re("gIXub"),d=re("bTTXN"),f=d.sha256sha256,m=re("gk75r"),p=re("6gAsx"),y=function w(P){return this instanceof w?(p.checkArgument(n.isString(P)||r.isBuffer(P),"First argument should be a string or Buffer"),n.isString(P)&&(this.messageBuffer=r.from(P)),r.isBuffer(P)&&(this.messageBuffer=P),this):new w(P)};y.sign=function(w,P){return new y(w).sign(P)},y.verify=function(w,P,C){return new y(w).verify(P,C)},y.MAGIC_BYTES=r.from(`Bitcoin Signed Message:
`),y.prototype.magicHash=function(){var P=a.varintBufNum(y.MAGIC_BYTES.length),C=a.varintBufNum(this.messageBuffer.length),R=r.concat([P,y.MAGIC_BYTES,C,this.messageBuffer]),T=f(R);return T},y.prototype._sign=function(P){p.checkArgument(P instanceof i,"First argument should be an instance of PrivateKey");var C=this.magicHash();return u.signWithCalcI(C,P)},y.prototype.sign=function(P){var C=this._sign(P);return C.toCompact().toString("base64")},y.prototype._verify=function(P,C){p.checkArgument(P instanceof s,"First argument should be an instance of PublicKey"),p.checkArgument(C instanceof c,"Second argument should be an instance of Signature");var R=this.magicHash(),T=u.verify(R,C,P);return T||(this.error="The signature was invalid"),T},y.prototype.verify=function(P,C){p.checkArgument(P),p.checkArgument(C&&n.isString(C)),n.isString(P)&&(P=o.fromString(P));var R=c.fromCompact(r.from(C,"base64")),T=new u;T.hashbuf=this.magicHash(),T.sig=R;var k=T.toPublicKey(),H=o.fromPublicKey(k,P.network);return P.toString()!==H.toString()?(this.error="The signature did not match the message digest",!1):this._verify(k,R)},y.fromString=function(w){return new y(w)},y.fromJSON=function(P){return m.isValidJSON(P)&&(P=JSON.parse(P)),y.fromObject(P)},y.prototype.toObject=function(){return{messageHex:this.messageBuffer.toString("hex")}},y.fromObject=function(w){let P=r.from(w.messageHex,"hex");return new y(P)},y.prototype.toJSON=function(){return JSON.stringify(this.toObject())},y.prototype.toString=function(){return this.messageBuffer.toString()},y.prototype.inspect=function(){return"<Message: "+this.toString()+">"},t.exports=y});Qe("amN1b",function(t,e){var r=Ar.Buffer,n=re("dIoYd"),i=re("bTTXN"),s=re("7X5Fe"),o=re("kBBbb"),a=re("d2BaI"),u=re("kooOK"),c=re("6gAsx"),d=re("4bgoH"),f=function(m,p){if(!(this instanceof f))return new f(m,p);o.isArray(m)&&(p=m,m=null);var y,w,P;if(r.isBuffer(m))P=m;else if(o.isString(m))w=q4.nfkd(m);else if(o.isNumber(m))y=m;else if(m)throw new u.InvalidArgument("data","Must be a Buffer, a string or an integer");if(y=y||128,p=p||f._getDictionary(w),w&&!p)throw new u.Mnemonic.UnknownWordlist(w);if(p=p||f.Words.ENGLISH,P&&(w=f._entropy2mnemonic(P,p)),w&&!f.isValid(w,p))throw new u.Mnemonic.InvalidMnemonic(w);if(y%32!==0||y<128)throw new u.InvalidArgument("ENT","Values must be ENT > 128 and ENT % 32 == 0");w=w||f._mnemonic(y,p),Object.defineProperty(this,"wordlist",{configurable:!1,value:p}),Object.defineProperty(this,"phrase",{configurable:!1,value:w})};f.fromRandom=function(m=f.Words.ENGLISH){return new f(m)},f.fromString=function(m,p=f.Words.ENGLISH){return new f(m,p)},f.Words=re("kWjfg"),f.isValid=function(m,p){if(m=q4.nfkd(m),p=p||f._getDictionary(m),!p)return!1;for(var y=m.split(" "),w="",P=0;P<y.length;P++){var C=p.indexOf(y[P]);if(C<0)return!1;w=w+("00000000000"+C.toString(2)).slice(-11)}var R=w.length/33,T=w.slice(-R),k=w.slice(0,w.length-R),H=r.alloc(k.length/8);for(P=0;P<k.length/8;P++)H.writeUInt8(parseInt(w.slice(P*8,(P+1)*8),2),P);var F=f._entropyChecksum(H);return F===T},f._belongsToWordlist=function(m,p){for(var y=q4.nfkd(m).split(" "),w=0;w<y.length;w++){var P=p.indexOf(y[w]);if(P<0)return!1}return!0},f._getDictionary=function(m){if(!m)return null;for(var p=Object.keys(f.Words),y=0;y<p.length;y++){var w=p[y];if(f._belongsToWordlist(m,f.Words[w]))return f.Words[w]}return null},f.prototype.toSeed=function(m){return m=m||"",a(q4.nfkd(this.phrase),q4.nfkd("mnemonic"+m),2048,64)},f.fromSeed=function(m,p){return c.checkArgument(r.isBuffer(m),"seed must be a Buffer."),c.checkArgument(o.isArray(p)||o.isString(p),"wordlist must be a string or an array."),new f(m,p)},f.prototype.toHDPrivateKey=function(m,p){var y=this.toSeed(m);return d.fromSeed(y,p)},f.prototype.toString=function(){return this.phrase},f.prototype.inspect=function(){return"<Mnemonic: "+this.toString()+" >"},f._mnemonic=function(m,p){var y=s.getRandomBuffer(m/8);return f._entropy2mnemonic(y,p)},f._entropy2mnemonic=function(m,p){for(var y="",w=0;w<m.length;w++)y=y+("00000000"+m[w].toString(2)).slice(-8);if(y=y+f._entropyChecksum(m),y.length%11!==0)throw new u.InvalidEntropy(y);var P=[];for(w=0;w<y.length/11;w++){var C=parseInt(y.slice(w*11,(w+1)*11),2);P.push(p[C])}var R;return p===f.Words.JAPANESE?R=P.join("\u3000"):R=P.join(" "),R},f._entropyChecksum=function(m){for(var p=i.sha256(m),y=m.length*8,w=y/32,P=new n(p.toString("hex"),16).toString(2);P.length%256!==0;)P="0"+P;var C=P.slice(0,w);return C},t.exports=f});Qe("d2BaI",function(t,e){t.exports=re("9Uipm")});Qe("9Uipm",function(t,e){var r=Ar.Buffer;function n(i,s,o,a){var u=64;if(a>(Math.pow(2,32)-1)*u)throw Error("Requested key length too long");if(typeof i!="string"&&!r.isBuffer(i))throw new TypeError("key must a string or Buffer");if(typeof s!="string"&&!r.isBuffer(s))throw new TypeError("salt must a string or Buffer");typeof i=="string"&&(i=r.from(i)),typeof s=="string"&&(s=r.from(s));var c=r.alloc(a),d=r.alloc(u),f=r.alloc(u),m=r.alloc(s.length+4),p=Math.ceil(a/u),y=a-(p-1)*u;s.copy(m,0,0,s.length);for(var w=1;w<=p;w++){m[s.length+0]=w>>24&255,m[s.length+1]=w>>16&255,m[s.length+2]=w>>8&255,m[s.length+3]=w>>0&255,d=Wl.hmac(Wl.sha512,i).update(m).digest(),d.copy(f,0,0,u);for(var P=1;P<o;P++){d=Wl.hmac(Wl.sha512,i).update(d).digest();for(var C=0;C<u;C++)f[C]^=d[C]}var R=(w-1)*u,T=w===p?y:u;f.copy(c,R,0,T)}return c}t.exports=n});Qe("kWjfg",function(t,e){t.exports={CHINESE:re("1BMvs"),ENGLISH:re("hKmMn"),FRENCH:re("lnczd"),ITALIAN:re("dr8eV"),JAPANESE:re("9uq94"),SPANISH:re("8YfVJ")}});Qe("1BMvs",function(t,e){"use strict";var r=["\u7684","\u4E00","\u662F","\u5728","\u4E0D","\u4E86","\u6709","\u548C","\u4EBA","\u8FD9","\u4E2D","\u5927","\u4E3A","\u4E0A","\u4E2A","\u56FD","\u6211","\u4EE5","\u8981","\u4ED6","\u65F6","\u6765","\u7528","\u4EEC","\u751F","\u5230","\u4F5C","\u5730","\u4E8E","\u51FA","\u5C31","\u5206","\u5BF9","\u6210","\u4F1A","\u53EF","\u4E3B","\u53D1","\u5E74","\u52A8","\u540C","\u5DE5","\u4E5F","\u80FD","\u4E0B","\u8FC7","\u5B50","\u8BF4","\u4EA7","\u79CD","\u9762","\u800C","\u65B9","\u540E","\u591A","\u5B9A","\u884C","\u5B66","\u6CD5","\u6240","\u6C11","\u5F97","\u7ECF","\u5341","\u4E09","\u4E4B","\u8FDB","\u7740","\u7B49","\u90E8","\u5EA6","\u5BB6","\u7535","\u529B","\u91CC","\u5982","\u6C34","\u5316","\u9AD8","\u81EA","\u4E8C","\u7406","\u8D77","\u5C0F","\u7269","\u73B0","\u5B9E","\u52A0","\u91CF","\u90FD","\u4E24","\u4F53","\u5236","\u673A","\u5F53","\u4F7F","\u70B9","\u4ECE","\u4E1A","\u672C","\u53BB","\u628A","\u6027","\u597D","\u5E94","\u5F00","\u5B83","\u5408","\u8FD8","\u56E0","\u7531","\u5176","\u4E9B","\u7136","\u524D","\u5916","\u5929","\u653F","\u56DB","\u65E5","\u90A3","\u793E","\u4E49","\u4E8B","\u5E73","\u5F62","\u76F8","\u5168","\u8868","\u95F4","\u6837","\u4E0E","\u5173","\u5404","\u91CD","\u65B0","\u7EBF","\u5185","\u6570","\u6B63","\u5FC3","\u53CD","\u4F60","\u660E","\u770B","\u539F","\u53C8","\u4E48","\u5229","\u6BD4","\u6216","\u4F46","\u8D28","\u6C14","\u7B2C","\u5411","\u9053","\u547D","\u6B64","\u53D8","\u6761","\u53EA","\u6CA1","\u7ED3","\u89E3","\u95EE","\u610F","\u5EFA","\u6708","\u516C","\u65E0","\u7CFB","\u519B","\u5F88","\u60C5","\u8005","\u6700","\u7ACB","\u4EE3","\u60F3","\u5DF2","\u901A","\u5E76","\u63D0","\u76F4","\u9898","\u515A","\u7A0B","\u5C55","\u4E94","\u679C","\u6599","\u8C61","\u5458","\u9769","\u4F4D","\u5165","\u5E38","\u6587","\u603B","\u6B21","\u54C1","\u5F0F","\u6D3B","\u8BBE","\u53CA","\u7BA1","\u7279","\u4EF6","\u957F","\u6C42","\u8001","\u5934","\u57FA","\u8D44","\u8FB9","\u6D41","\u8DEF","\u7EA7","\u5C11","\u56FE","\u5C71","\u7EDF","\u63A5","\u77E5","\u8F83","\u5C06","\u7EC4","\u89C1","\u8BA1","\u522B","\u5979","\u624B","\u89D2","\u671F","\u6839","\u8BBA","\u8FD0","\u519C","\u6307","\u51E0","\u4E5D","\u533A","\u5F3A","\u653E","\u51B3","\u897F","\u88AB","\u5E72","\u505A","\u5FC5","\u6218","\u5148","\u56DE","\u5219","\u4EFB","\u53D6","\u636E","\u5904","\u961F","\u5357","\u7ED9","\u8272","\u5149","\u95E8","\u5373","\u4FDD","\u6CBB","\u5317","\u9020","\u767E","\u89C4","\u70ED","\u9886","\u4E03","\u6D77","\u53E3","\u4E1C","\u5BFC","\u5668","\u538B","\u5FD7","\u4E16","\u91D1","\u589E","\u4E89","\u6D4E","\u9636","\u6CB9","\u601D","\u672F","\u6781","\u4EA4","\u53D7","\u8054","\u4EC0","\u8BA4","\u516D","\u5171","\u6743","\u6536","\u8BC1","\u6539","\u6E05","\u7F8E","\u518D","\u91C7","\u8F6C","\u66F4","\u5355","\u98CE","\u5207","\u6253","\u767D","\u6559","\u901F","\u82B1","\u5E26","\u5B89","\u573A","\u8EAB","\u8F66","\u4F8B","\u771F","\u52A1","\u5177","\u4E07","\u6BCF","\u76EE","\u81F3","\u8FBE","\u8D70","\u79EF","\u793A","\u8BAE","\u58F0","\u62A5","\u6597","\u5B8C","\u7C7B","\u516B","\u79BB","\u534E","\u540D","\u786E","\u624D","\u79D1","\u5F20","\u4FE1","\u9A6C","\u8282","\u8BDD","\u7C73","\u6574","\u7A7A","\u5143","\u51B5","\u4ECA","\u96C6","\u6E29","\u4F20","\u571F","\u8BB8","\u6B65","\u7FA4","\u5E7F","\u77F3","\u8BB0","\u9700","\u6BB5","\u7814","\u754C","\u62C9","\u6797","\u5F8B","\u53EB","\u4E14","\u7A76","\u89C2","\u8D8A","\u7EC7","\u88C5","\u5F71","\u7B97","\u4F4E","\u6301","\u97F3","\u4F17","\u4E66","\u5E03","\u590D","\u5BB9","\u513F","\u987B","\u9645","\u5546","\u975E","\u9A8C","\u8FDE","\u65AD","\u6DF1","\u96BE","\u8FD1","\u77FF","\u5343","\u5468","\u59D4","\u7D20","\u6280","\u5907","\u534A","\u529E","\u9752","\u7701","\u5217","\u4E60","\u54CD","\u7EA6","\u652F","\u822C","\u53F2","\u611F","\u52B3","\u4FBF","\u56E2","\u5F80","\u9178","\u5386","\u5E02","\u514B","\u4F55","\u9664","\u6D88","\u6784","\u5E9C","\u79F0","\u592A","\u51C6","\u7CBE","\u503C","\u53F7","\u7387","\u65CF","\u7EF4","\u5212","\u9009","\u6807","\u5199","\u5B58","\u5019","\u6BDB","\u4EB2","\u5FEB","\u6548","\u65AF","\u9662","\u67E5","\u6C5F","\u578B","\u773C","\u738B","\u6309","\u683C","\u517B","\u6613","\u7F6E","\u6D3E","\u5C42","\u7247","\u59CB","\u5374","\u4E13","\u72B6","\u80B2","\u5382","\u4EAC","\u8BC6","\u9002","\u5C5E","\u5706","\u5305","\u706B","\u4F4F","\u8C03","\u6EE1","\u53BF","\u5C40","\u7167","\u53C2","\u7EA2","\u7EC6","\u5F15","\u542C","\u8BE5","\u94C1","\u4EF7","\u4E25","\u9996","\u5E95","\u6DB2","\u5B98","\u5FB7","\u968F","\u75C5","\u82CF","\u5931","\u5C14","\u6B7B","\u8BB2","\u914D","\u5973","\u9EC4","\u63A8","\u663E","\u8C08","\u7F6A","\u795E","\u827A","\u5462","\u5E2D","\u542B","\u4F01","\u671B","\u5BC6","\u6279","\u8425","\u9879","\u9632","\u4E3E","\u7403","\u82F1","\u6C27","\u52BF","\u544A","\u674E","\u53F0","\u843D","\u6728","\u5E2E","\u8F6E","\u7834","\u4E9A","\u5E08","\u56F4","\u6CE8","\u8FDC","\u5B57","\u6750","\u6392","\u4F9B","\u6CB3","\u6001","\u5C01","\u53E6","\u65BD","\u51CF","\u6811","\u6EB6","\u600E","\u6B62","\u6848","\u8A00","\u58EB","\u5747","\u6B66","\u56FA","\u53F6","\u9C7C","\u6CE2","\u89C6","\u4EC5","\u8D39","\u7D27","\u7231","\u5DE6","\u7AE0","\u65E9","\u671D","\u5BB3","\u7EED","\u8F7B","\u670D","\u8BD5","\u98DF","\u5145","\u5175","\u6E90","\u5224","\u62A4","\u53F8","\u8DB3","\u67D0","\u7EC3","\u5DEE","\u81F4","\u677F","\u7530","\u964D","\u9ED1","\u72AF","\u8D1F","\u51FB","\u8303","\u7EE7","\u5174","\u4F3C","\u4F59","\u575A","\u66F2","\u8F93","\u4FEE","\u6545","\u57CE","\u592B","\u591F","\u9001","\u7B14","\u8239","\u5360","\u53F3","\u8D22","\u5403","\u5BCC","\u6625","\u804C","\u89C9","\u6C49","\u753B","\u529F","\u5DF4","\u8DDF","\u867D","\u6742","\u98DE","\u68C0","\u5438","\u52A9","\u5347","\u9633","\u4E92","\u521D","\u521B","\u6297","\u8003","\u6295","\u574F","\u7B56","\u53E4","\u5F84","\u6362","\u672A","\u8DD1","\u7559","\u94A2","\u66FE","\u7AEF","\u8D23","\u7AD9","\u7B80","\u8FF0","\u94B1","\u526F","\u5C3D","\u5E1D","\u5C04","\u8349","\u51B2","\u627F","\u72EC","\u4EE4","\u9650","\u963F","\u5BA3","\u73AF","\u53CC","\u8BF7","\u8D85","\u5FAE","\u8BA9","\u63A7","\u5DDE","\u826F","\u8F74","\u627E","\u5426","\u7EAA","\u76CA","\u4F9D","\u4F18","\u9876","\u7840","\u8F7D","\u5012","\u623F","\u7A81","\u5750","\u7C89","\u654C","\u7565","\u5BA2","\u8881","\u51B7","\u80DC","\u7EDD","\u6790","\u5757","\u5242","\u6D4B","\u4E1D","\u534F","\u8BC9","\u5FF5","\u9648","\u4ECD","\u7F57","\u76D0","\u53CB","\u6D0B","\u9519","\u82E6","\u591C","\u5211","\u79FB","\u9891","\u9010","\u9760","\u6DF7","\u6BCD","\u77ED","\u76AE","\u7EC8","\u805A","\u6C7D","\u6751","\u4E91","\u54EA","\u65E2","\u8DDD","\u536B","\u505C","\u70C8","\u592E","\u5BDF","\u70E7","\u8FC5","\u5883","\u82E5","\u5370","\u6D32","\u523B","\u62EC","\u6FC0","\u5B54","\u641E","\u751A","\u5BA4","\u5F85","\u6838","\u6821","\u6563","\u4FB5","\u5427","\u7532","\u6E38","\u4E45","\u83DC","\u5473","\u65E7","\u6A21","\u6E56","\u8D27","\u635F","\u9884","\u963B","\u6BEB","\u666E","\u7A33","\u4E59","\u5988","\u690D","\u606F","\u6269","\u94F6","\u8BED","\u6325","\u9152","\u5B88","\u62FF","\u5E8F","\u7EB8","\u533B","\u7F3A","\u96E8","\u5417","\u9488","\u5218","\u554A","\u6025","\u5531","\u8BEF","\u8BAD","\u613F","\u5BA1","\u9644","\u83B7","\u8336","\u9C9C","\u7CAE","\u65A4","\u5B69","\u8131","\u786B","\u80A5","\u5584","\u9F99","\u6F14","\u7236","\u6E10","\u8840","\u6B22","\u68B0","\u638C","\u6B4C","\u6C99","\u521A","\u653B","\u8C13","\u76FE","\u8BA8","\u665A","\u7C92","\u4E71","\u71C3","\u77DB","\u4E4E","\u6740","\u836F","\u5B81","\u9C81","\u8D35","\u949F","\u7164","\u8BFB","\u73ED","\u4F2F","\u9999","\u4ECB","\u8FEB","\u53E5","\u4E30","\u57F9","\u63E1","\u5170","\u62C5","\u5F26","\u86CB","\u6C89","\u5047","\u7A7F","\u6267","\u7B54","\u4E50","\u8C01","\u987A","\u70DF","\u7F29","\u5F81","\u8138","\u559C","\u677E","\u811A","\u56F0","\u5F02","\u514D","\u80CC","\u661F","\u798F","\u4E70","\u67D3","\u4E95","\u6982","\u6162","\u6015","\u78C1","\u500D","\u7956","\u7687","\u4FC3","\u9759","\u8865","\u8BC4","\u7FFB","\u8089","\u8DF5","\u5C3C","\u8863","\u5BBD","\u626C","\u68C9","\u5E0C","\u4F24","\u64CD","\u5782","\u79CB","\u5B9C","\u6C22","\u5957","\u7763","\u632F","\u67B6","\u4EAE","\u672B","\u5BAA","\u5E86","\u7F16","\u725B","\u89E6","\u6620","\u96F7","\u9500","\u8BD7","\u5EA7","\u5C45","\u6293","\u88C2","\u80DE","\u547C","\u5A18","\u666F","\u5A01","\u7EFF","\u6676","\u539A","\u76DF","\u8861","\u9E21","\u5B59","\u5EF6","\u5371","\u80F6","\u5C4B","\u4E61","\u4E34","\u9646","\u987E","\u6389","\u5440","\u706F","\u5C81","\u63AA","\u675F","\u8010","\u5267","\u7389","\u8D75","\u8DF3","\u54E5","\u5B63","\u8BFE","\u51EF","\u80E1","\u989D","\u6B3E","\u7ECD","\u5377","\u9F50","\u4F1F","\u84B8","\u6B96","\u6C38","\u5B97","\u82D7","\u5DDD","\u7089","\u5CA9","\u5F31","\u96F6","\u6768","\u594F","\u6CBF","\u9732","\u6746","\u63A2","\u6ED1","\u9547","\u996D","\u6D53","\u822A","\u6000","\u8D76","\u5E93","\u593A","\u4F0A","\u7075","\u7A0E","\u9014","\u706D","\u8D5B","\u5F52","\u53EC","\u9F13","\u64AD","\u76D8","\u88C1","\u9669","\u5EB7","\u552F","\u5F55","\u83CC","\u7EAF","\u501F","\u7CD6","\u76D6","\u6A2A","\u7B26","\u79C1","\u52AA","\u5802","\u57DF","\u67AA","\u6DA6","\u5E45","\u54C8","\u7ADF","\u719F","\u866B","\u6CFD","\u8111","\u58E4","\u78B3","\u6B27","\u904D","\u4FA7","\u5BE8","\u6562","\u5F7B","\u8651","\u659C","\u8584","\u5EAD","\u7EB3","\u5F39","\u9972","\u4F38","\u6298","\u9EA6","\u6E7F","\u6697","\u8377","\u74E6","\u585E","\u5E8A","\u7B51","\u6076","\u6237","\u8BBF","\u5854","\u5947","\u900F","\u6881","\u5200","\u65CB","\u8FF9","\u5361","\u6C2F","\u9047","\u4EFD","\u6BD2","\u6CE5","\u9000","\u6D17","\u6446","\u7070","\u5F69","\u5356","\u8017","\u590F","\u62E9","\u5FD9","\u94DC","\u732E","\u786C","\u4E88","\u7E41","\u5708","\u96EA","\u51FD","\u4EA6","\u62BD","\u7BC7","\u9635","\u9634","\u4E01","\u5C3A","\u8FFD","\u5806","\u96C4","\u8FCE","\u6CDB","\u7238","\u697C","\u907F","\u8C0B","\u5428","\u91CE","\u732A","\u65D7","\u7D2F","\u504F","\u5178","\u9986","\u7D22","\u79E6","\u8102","\u6F6E","\u7237","\u8C46","\u5FFD","\u6258","\u60CA","\u5851","\u9057","\u6108","\u6731","\u66FF","\u7EA4","\u7C97","\u503E","\u5C1A","\u75DB","\u695A","\u8C22","\u594B","\u8D2D","\u78E8","\u541B","\u6C60","\u65C1","\u788E","\u9AA8","\u76D1","\u6355","\u5F1F","\u66B4","\u5272","\u8D2F","\u6B8A","\u91CA","\u8BCD","\u4EA1","\u58C1","\u987F","\u5B9D","\u5348","\u5C18","\u95FB","\u63ED","\u70AE","\u6B8B","\u51AC","\u6865","\u5987","\u8B66","\u7EFC","\u62DB","\u5434","\u4ED8","\u6D6E","\u906D","\u5F90","\u60A8","\u6447","\u8C37","\u8D5E","\u7BB1","\u9694","\u8BA2","\u7537","\u5439","\u56ED","\u7EB7","\u5510","\u8D25","\u5B8B","\u73BB","\u5DE8","\u8015","\u5766","\u8363","\u95ED","\u6E7E","\u952E","\u51E1","\u9A7B","\u9505","\u6551","\u6069","\u5265","\u51DD","\u78B1","\u9F7F","\u622A","\u70BC","\u9EBB","\u7EBA","\u7981","\u5E9F","\u76DB","\u7248","\u7F13","\u51C0","\u775B","\u660C","\u5A5A","\u6D89","\u7B52","\u5634","\u63D2","\u5CB8","\u6717","\u5E84","\u8857","\u85CF","\u59D1","\u8D38","\u8150","\u5974","\u5566","\u60EF","\u4E58","\u4F19","\u6062","\u5300","\u7EB1","\u624E","\u8FA9","\u8033","\u5F6A","\u81E3","\u4EBF","\u7483","\u62B5","\u8109","\u79C0","\u8428","\u4FC4","\u7F51","\u821E","\u5E97","\u55B7","\u7EB5","\u5BF8","\u6C57","\u6302","\u6D2A","\u8D3A","\u95EA","\u67EC","\u7206","\u70EF","\u6D25","\u7A3B","\u5899","\u8F6F","\u52C7","\u50CF","\u6EDA","\u5398","\u8499","\u82B3","\u80AF","\u5761","\u67F1","\u8361","\u817F","\u4EEA","\u65C5","\u5C3E","\u8F67","\u51B0","\u8D21","\u767B","\u9ECE","\u524A","\u94BB","\u52D2","\u9003","\u969C","\u6C28","\u90ED","\u5CF0","\u5E01","\u6E2F","\u4F0F","\u8F68","\u4EA9","\u6BD5","\u64E6","\u83AB","\u523A","\u6D6A","\u79D8","\u63F4","\u682A","\u5065","\u552E","\u80A1","\u5C9B","\u7518","\u6CE1","\u7761","\u7AE5","\u94F8","\u6C64","\u9600","\u4F11","\u6C47","\u820D","\u7267","\u7ED5","\u70B8","\u54F2","\u78F7","\u7EE9","\u670B","\u6DE1","\u5C16","\u542F","\u9677","\u67F4","\u5448","\u5F92","\u989C","\u6CEA","\u7A0D","\u5FD8","\u6CF5","\u84DD","\u62D6","\u6D1E","\u6388","\u955C","\u8F9B","\u58EE","\u950B","\u8D2B","\u865A","\u5F2F","\u6469","\u6CF0","\u5E7C","\u5EF7","\u5C0A","\u7A97","\u7EB2","\u5F04","\u96B6","\u7591","\u6C0F","\u5BAB","\u59D0","\u9707","\u745E","\u602A","\u5C24","\u7434","\u5FAA","\u63CF","\u819C","\u8FDD","\u5939","\u8170","\u7F18","\u73E0","\u7A77","\u68EE","\u679D","\u7AF9","\u6C9F","\u50AC","\u7EF3","\u5FC6","\u90A6","\u5269","\u5E78","\u6D46","\u680F","\u62E5","\u7259","\u8D2E","\u793C","\u6EE4","\u94A0","\u7EB9","\u7F62","\u62CD","\u54B1","\u558A","\u8896","\u57C3","\u52E4","\u7F5A","\u7126","\u6F5C","\u4F0D","\u58A8","\u6B32","\u7F1D","\u59D3","\u520A","\u9971","\u4EFF","\u5956","\u94DD","\u9B3C","\u4E3D","\u8DE8","\u9ED8","\u6316","\u94FE","\u626B","\u559D","\u888B","\u70AD","\u6C61","\u5E55","\u8BF8","\u5F27","\u52B1","\u6885","\u5976","\u6D01","\u707E","\u821F","\u9274","\u82EF","\u8BBC","\u62B1","\u6BC1","\u61C2","\u5BD2","\u667A","\u57D4","\u5BC4","\u5C4A","\u8DC3","\u6E21","\u6311","\u4E39","\u8270","\u8D1D","\u78B0","\u62D4","\u7239","\u6234","\u7801","\u68A6","\u82BD","\u7194","\u8D64","\u6E14","\u54ED","\u656C","\u9897","\u5954","\u94C5","\u4EF2","\u864E","\u7A00","\u59B9","\u4E4F","\u73CD","\u7533","\u684C","\u9075","\u5141","\u9686","\u87BA","\u4ED3","\u9B4F","\u9510","\u6653","\u6C2E","\u517C","\u9690","\u788D","\u8D6B","\u62E8","\u5FE0","\u8083","\u7F38","\u7275","\u62A2","\u535A","\u5DE7","\u58F3","\u5144","\u675C","\u8BAF","\u8BDA","\u78A7","\u7965","\u67EF","\u9875","\u5DE1","\u77E9","\u60B2","\u704C","\u9F84","\u4F26","\u7968","\u5BFB","\u6842","\u94FA","\u5723","\u6050","\u6070","\u90D1","\u8DA3","\u62AC","\u8352","\u817E","\u8D34","\u67D4","\u6EF4","\u731B","\u9614","\u8F86","\u59BB","\u586B","\u64A4","\u50A8","\u7B7E","\u95F9","\u6270","\u7D2B","\u7802","\u9012","\u620F","\u540A","\u9676","\u4F10","\u5582","\u7597","\u74F6","\u5A46","\u629A","\u81C2","\u6478","\u5FCD","\u867E","\u8721","\u90BB","\u80F8","\u5DE9","\u6324","\u5076","\u5F03","\u69FD","\u52B2","\u4E73","\u9093","\u5409","\u4EC1","\u70C2","\u7816","\u79DF","\u4E4C","\u8230","\u4F34","\u74DC","\u6D45","\u4E19","\u6682","\u71E5","\u6A61","\u67F3","\u8FF7","\u6696","\u724C","\u79E7","\u80C6","\u8BE6","\u7C27","\u8E0F","\u74F7","\u8C31","\u5446","\u5BBE","\u7CCA","\u6D1B","\u8F89","\u6124","\u7ADE","\u9699","\u6012","\u7C98","\u4E43","\u7EEA","\u80A9","\u7C4D","\u654F","\u6D82","\u7199","\u7686","\u4FA6","\u60AC","\u6398","\u4EAB","\u7EA0","\u9192","\u72C2","\u9501","\u6DC0","\u6068","\u7272","\u9738","\u722C","\u8D4F","\u9006","\u73A9","\u9675","\u795D","\u79D2","\u6D59","\u8C8C","\u5F79","\u5F7C","\u6089","\u9E2D","\u8D8B","\u51E4","\u6668","\u755C","\u8F88","\u79E9","\u5375","\u7F72","\u68AF","\u708E","\u6EE9","\u68CB","\u9A71","\u7B5B","\u5CE1","\u5192","\u5565","\u5BFF","\u8BD1","\u6D78","\u6CC9","\u5E3D","\u8FDF","\u7845","\u7586","\u8D37","\u6F0F","\u7A3F","\u51A0","\u5AE9","\u80C1","\u82AF","\u7262","\u53DB","\u8680","\u5965","\u9E23","\u5CAD","\u7F8A","\u51ED","\u4E32","\u5858","\u7ED8","\u9175","\u878D","\u76C6","\u9521","\u5E99","\u7B79","\u51BB","\u8F85","\u6444","\u88AD","\u7B4B","\u62D2","\u50DA","\u65F1","\u94BE","\u9E1F","\u6F06","\u6C88","\u7709","\u758F","\u6DFB","\u68D2","\u7A57","\u785D","\u97E9","\u903C","\u626D","\u4FA8","\u51C9","\u633A","\u7897","\u683D","\u7092","\u676F","\u60A3","\u998F","\u529D","\u8C6A","\u8FBD","\u52C3","\u9E3F","\u65E6","\u540F","\u62DC","\u72D7","\u57CB","\u8F8A","\u63A9","\u996E","\u642C","\u9A82","\u8F9E","\u52FE","\u6263","\u4F30","\u848B","\u7ED2","\u96FE","\u4E08","\u6735","\u59C6","\u62DF","\u5B87","\u8F91","\u9655","\u96D5","\u507F","\u84C4","\u5D07","\u526A","\u5021","\u5385","\u54AC","\u9A76","\u85AF","\u5237","\u65A5","\u756A","\u8D4B","\u5949","\u4F5B","\u6D47","\u6F2B","\u66FC","\u6247","\u9499","\u6843","\u6276","\u4ED4","\u8FD4","\u4FD7","\u4E8F","\u8154","\u978B","\u68F1","\u8986","\u6846","\u6084","\u53D4","\u649E","\u9A97","\u52D8","\u65FA","\u6CB8","\u5B64","\u5410","\u5B5F","\u6E20","\u5C48","\u75BE","\u5999","\u60DC","\u4EF0","\u72E0","\u80C0","\u8C10","\u629B","\u9709","\u6851","\u5C97","\u561B","\u8870","\u76D7","\u6E17","\u810F","\u8D56","\u6D8C","\u751C","\u66F9","\u9605","\u808C","\u54E9","\u5389","\u70C3","\u7EAC","\u6BC5","\u6628","\u4F2A","\u75C7","\u716E","\u53F9","\u9489","\u642D","\u830E","\u7B3C","\u9177","\u5077","\u5F13","\u9525","\u6052","\u6770","\u5751","\u9F3B","\u7FFC","\u7EB6","\u53D9","\u72F1","\u902E","\u7F50","\u7EDC","\u68DA","\u6291","\u81A8","\u852C","\u5BFA","\u9AA4","\u7A46","\u51B6","\u67AF","\u518C","\u5C38","\u51F8","\u7EC5","\u576F","\u727A","\u7130","\u8F70","\u6B23","\u664B","\u7626","\u5FA1","\u952D","\u9526","\u4E27","\u65EC","\u953B","\u5784","\u641C","\u6251","\u9080","\u4EAD","\u916F","\u8FC8","\u8212","\u8106","\u9176","\u95F2","\u5FE7","\u915A","\u987D","\u7FBD","\u6DA8","\u5378","\u4ED7","\u966A","\u8F9F","\u60E9","\u676D","\u59DA","\u809A","\u6349","\u98D8","\u6F02","\u6606","\u6B3A","\u543E","\u90CE","\u70F7","\u6C41","\u5475","\u9970","\u8427","\u96C5","\u90AE","\u8FC1","\u71D5","\u6492","\u59FB","\u8D74","\u5BB4","\u70E6","\u503A","\u5E10","\u6591","\u94C3","\u65E8","\u9187","\u8463","\u997C","\u96CF","\u59FF","\u62CC","\u5085","\u8179","\u59A5","\u63C9","\u8D24","\u62C6","\u6B6A","\u8461","\u80FA","\u4E22","\u6D69","\u5FBD","\u6602","\u57AB","\u6321","\u89C8","\u8D2A","\u6170","\u7F34","\u6C6A","\u614C","\u51AF","\u8BFA","\u59DC","\u8C0A","\u51F6","\u52A3","\u8BEC","\u8000","\u660F","\u8EBA","\u76C8","\u9A91","\u4E54","\u6EAA","\u4E1B","\u5362","\u62B9","\u95F7","\u54A8","\u522E","\u9A7E","\u7F06","\u609F","\u6458","\u94D2","\u63B7","\u9887","\u5E7B","\u67C4","\u60E0","\u60E8","\u4F73","\u4EC7","\u814A","\u7A9D","\u6DA4","\u5251","\u77A7","\u5821","\u6CFC","\u8471","\u7F69","\u970D","\u635E","\u80CE","\u82CD","\u6EE8","\u4FE9","\u6345","\u6E58","\u780D","\u971E","\u90B5","\u8404","\u75AF","\u6DEE","\u9042","\u718A","\u7CAA","\u70D8","\u5BBF","\u6863","\u6208","\u9A73","\u5AC2","\u88D5","\u5F99","\u7BAD","\u6350","\u80A0","\u6491","\u6652","\u8FA8","\u6BBF","\u83B2","\u644A","\u6405","\u9171","\u5C4F","\u75AB","\u54C0","\u8521","\u5835","\u6CAB","\u76B1","\u7545","\u53E0","\u9601","\u83B1","\u6572","\u8F96","\u94A9","\u75D5","\u575D","\u5DF7","\u997F","\u7978","\u4E18","\u7384","\u6E9C","\u66F0","\u903B","\u5F6D","\u5C1D","\u537F","\u59A8","\u8247","\u541E","\u97E6","\u6028","\u77EE","\u6B47"];t.exports=r});Qe("hKmMn",function(t,e){"use strict";var r=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];t.exports=r});Qe("lnczd",function(t,e){var r=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","acade\u0301mie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acque\u0301rir","acronyme","acteur","actif","actuel","adepte","ade\u0301quat","adhe\u0301sif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","ae\u0301rer","ae\u0301ronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agre\u0301able","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","alge\u0300bre","algue","alie\u0301ner","aliment","alle\u0301ger","alliage","allouer","allumer","alourdir","alpaga","altesse","alve\u0301ole","amateur","ambigu","ambre","ame\u0301nager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","ane\u0301antir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","ape\u0301ritif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arte\u0301riel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","bannie\u0300re","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","be\u0301lier","belote","be\u0301ne\u0301fice","berceau","berger","berline","bermuda","besace","besogne","be\u0301tail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","bre\u0300che","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafe\u0301ine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","came\u0301ra","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","ce\u0301dille","ceinture","ce\u0301leste","cellule","cendrier","censurer","central","cercle","ce\u0301re\u0301bral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","che\u0301quier","chercher","cheval","chien","chiffre","chignon","chime\u0300re","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cine\u0301ma","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohe\u0301sion","coiffer","coincer","cole\u0300re","colibri","colline","colmater","colonel","combat","come\u0301die","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","corte\u0300ge","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","cre\u0301ature","cre\u0301diter","cre\u0301meux","creuser","crevette","cribler","crier","cristal","crite\u0300re","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuille\u0300re","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","de\u0301battre","de\u0301biter","de\u0301border","de\u0301brider","de\u0301butant","de\u0301caler","de\u0301cembre","de\u0301chirer","de\u0301cider","de\u0301clarer","de\u0301corer","de\u0301crire","de\u0301cupler","de\u0301dale","de\u0301ductif","de\u0301esse","de\u0301fensif","de\u0301filer","de\u0301frayer","de\u0301gager","de\u0301givrer","de\u0301glutir","de\u0301grafer","de\u0301jeuner","de\u0301lice","de\u0301loger","demander","demeurer","de\u0301molir","de\u0301nicher","de\u0301nouer","dentelle","de\u0301nuder","de\u0301part","de\u0301penser","de\u0301phaser","de\u0301placer","de\u0301poser","de\u0301ranger","de\u0301rober","de\u0301sastre","descente","de\u0301sert","de\u0301signer","de\u0301sobe\u0301ir","dessiner","destrier","de\u0301tacher","de\u0301tester","de\u0301tourer","de\u0301tresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","diffe\u0301rer","dige\u0301rer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","e\u0301blouir","e\u0301carter","e\u0301charpe","e\u0301chelle","e\u0301clairer","e\u0301clipse","e\u0301clore","e\u0301cluse","e\u0301cole","e\u0301conomie","e\u0301corce","e\u0301couter","e\u0301craser","e\u0301cre\u0301mer","e\u0301crivain","e\u0301crou","e\u0301cume","e\u0301cureuil","e\u0301difier","e\u0301duquer","effacer","effectif","effigie","effort","effrayer","effusion","e\u0301galiser","e\u0301garer","e\u0301jecter","e\u0301laborer","e\u0301largir","e\u0301lectron","e\u0301le\u0301gant","e\u0301le\u0301phant","e\u0301le\u0300ve","e\u0301ligible","e\u0301litisme","e\u0301loge","e\u0301lucider","e\u0301luder","emballer","embellir","embryon","e\u0301meraude","e\u0301mission","emmener","e\u0301motion","e\u0301mouvoir","empereur","employer","emporter","emprise","e\u0301mulsion","encadrer","enche\u0300re","enclave","encoche","endiguer","endosser","endroit","enduire","e\u0301nergie","enfance","enfermer","enfouir","engager","engin","englober","e\u0301nigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","e\u0301nume\u0301rer","envahir","enviable","envoyer","enzyme","e\u0301olien","e\u0301paissir","e\u0301pargne","e\u0301patant","e\u0301paule","e\u0301picerie","e\u0301pide\u0301mie","e\u0301pier","e\u0301pilogue","e\u0301pine","e\u0301pisode","e\u0301pitaphe","e\u0301poque","e\u0301preuve","e\u0301prouver","e\u0301puisant","e\u0301querre","e\u0301quipe","e\u0301riger","e\u0301rosion","erreur","e\u0301ruption","escalier","espadon","espe\u0300ce","espie\u0300gle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","e\u0301tage\u0300re","e\u0301taler","e\u0301tanche","e\u0301tatique","e\u0301teindre","e\u0301tendoir","e\u0301ternel","e\u0301thanol","e\u0301thique","ethnie","e\u0301tirer","e\u0301toffer","e\u0301toile","e\u0301tonnant","e\u0301tourdir","e\u0301trange","e\u0301troit","e\u0301tude","euphorie","e\u0301valuer","e\u0301vasion","e\u0301ventail","e\u0301vidence","e\u0301viter","e\u0301volutif","e\u0301voquer","exact","exage\u0301rer","exaucer","exceller","excitant","exclusif","excuse","exe\u0301cuter","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expe\u0301dier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","fe\u0301brile","fe\u0301conder","fe\u0301de\u0301rer","fe\u0301lin","femme","fe\u0301mur","fendoir","fe\u0301odal","fermer","fe\u0301roce","ferveur","festival","feuille","feutre","fe\u0301vrier","fiasco","ficeler","fictif","fide\u0300le","figure","filature","filetage","filie\u0300re","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fle\u0301au","fle\u0300che","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fouge\u0300re","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fre\u0301gate","freiner","frelon","fre\u0301mir","fre\u0301ne\u0301sie","fre\u0300re","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","ge\u0301ant","ge\u0301latine","ge\u0301lule","gendarme","ge\u0301ne\u0301ral","ge\u0301nie","genou","gentil","ge\u0301ologie","ge\u0301ome\u0300tre","ge\u0301ranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruye\u0300re","gue\u0301pard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","he\u0301lium","he\u0301matome","herbe","he\u0301risson","hermine","he\u0301ron","he\u0301siter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homoge\u0300ne","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygie\u0300ne","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","impe\u0301rial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","ine\u0301dit","ineptie","inexact","infini","infliger","informer","infusion","inge\u0301rer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irre\u0301el","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juve\u0301nile","kayak","kimono","kiosque","label","labial","labourer","lace\u0301rer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","le\u0301gal","le\u0301ger","le\u0301gume","lessive","lettre","levier","lexique","le\u0301zard","liasse","libe\u0301rer","libre","licence","licorne","lie\u0300ge","lie\u0300vre","ligature","ligoter","ligue","limer","limite","limonade","limpide","line\u0301aire","lingot","lionceau","liquide","lisie\u0300re","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumie\u0300re","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","male\u0301fice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","mate\u0301riel","matie\u0300re","matraque","maudire","maussade","mauve","maximal","me\u0301chant","me\u0301connu","me\u0301daille","me\u0301decin","me\u0301diter","me\u0301duse","meilleur","me\u0301lange","me\u0301lodie","membre","me\u0301moire","menacer","mener","menhir","mensonge","mentor","mercredi","me\u0301rite","merle","messager","mesure","me\u0301tal","me\u0301te\u0301ore","me\u0301thode","me\u0301tier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mine\u0301ral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","mure\u0300ne","murmure","muscle","muse\u0301um","musicien","mutation","muter","mutuel","myriade","myrtille","myste\u0300re","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","ne\u0301buleux","nectar","ne\u0301faste","ne\u0301gation","ne\u0301gliger","ne\u0301gocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","nume\u0301ro","nuptial","nuque","nutritif","obe\u0301ir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","oce\u0301an","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","one\u0301reux","onirique","opale","opaque","ope\u0301rer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxyge\u0300ne","ozone","paisible","palace","palmare\u0300s","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","paste\u0300que","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pe\u0301lican","pelle","pelouse","peluche","pendule","pe\u0301ne\u0301trer","pe\u0301nible","pensif","pe\u0301nurie","pe\u0301pite","pe\u0301plum","perdrix","perforer","pe\u0301riode","permuter","perplexe","persil","perte","peser","pe\u0301tale","petit","pe\u0301trir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","pie\u0300ce","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poe\u0301sie","poe\u0300te","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponde\u0301rer","poney","portique","position","posse\u0301der","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","pre\u0301cieux","pre\u0301dire","pre\u0301fixe","pre\u0301lude","pre\u0301nom","pre\u0301sence","pre\u0301texte","pre\u0301voir","primitif","prince","prison","priver","proble\u0300me","proce\u0301der","prodige","profond","progre\u0300s","proie","projeter","prologue","promener","propre","prospe\u0300re","prote\u0301ger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quie\u0301tude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","re\u0301actif","re\u0301agir","re\u0301aliser","re\u0301animer","recevoir","re\u0301citer","re\u0301clamer","re\u0301colter","recruter","reculer","recycler","re\u0301diger","redouter","refaire","re\u0301flexe","re\u0301former","refrain","refuge","re\u0301galien","re\u0301gion","re\u0301glage","re\u0301gulier","re\u0301ite\u0301rer","rejeter","rejouer","relatif","relever","relief","remarque","reme\u0300de","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","re\u0301serve","re\u0301sineux","re\u0301soudre","respect","rester","re\u0301sultat","re\u0301tablir","retenir","re\u0301ticule","retomber","retracer","re\u0301union","re\u0301ussir","revanche","revivre","re\u0301volte","re\u0301vulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","rivie\u0300re","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","sce\u0301le\u0301rat","sce\u0301nario","sceptre","sche\u0301ma","science","scinder","score","scrutin","sculpter","se\u0301ance","se\u0301cable","se\u0301cher","secouer","se\u0301cre\u0301ter","se\u0301datif","se\u0301duire","seigneur","se\u0301jour","se\u0301lectif","semaine","sembler","semence","se\u0301minal","se\u0301nateur","sensible","sentence","se\u0301parer","se\u0301quence","serein","sergent","se\u0301rieux","serrure","se\u0301rum","service","se\u0301same","se\u0301vir","sevrage","sextuple","side\u0301ral","sie\u0300cle","sie\u0301ger","siffler","sigle","signal","silence","silicium","simple","since\u0300re","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","spe\u0301cial","sphe\u0300re","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succe\u0300s","sucre","suffixe","sugge\u0301rer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","syme\u0301trie","synapse","syntaxe","syste\u0300me","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","te\u0301moin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","te\u0301tine","texte","the\u0300me","the\u0301orie","the\u0301rapie","thorax","tibia","tie\u0300de","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tole\u0301rant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","tre\u0300fle","tremper","tre\u0301sor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","ve\u0301ge\u0301tal","ve\u0301hicule","veinard","ve\u0301loce","vendredi","ve\u0301ne\u0301rer","venger","venimeux","ventouse","verdure","ve\u0301rin","vernir","verrou","verser","vertu","veston","ve\u0301te\u0301ran","ve\u0301tuste","vexant","vexer","viaduc","viande","victoire","vidange","vide\u0301o","vignette","vigueur","vilain","village","vinaigre","violon","vipe\u0300re","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xe\u0301non","yacht","ze\u0300bre","ze\u0301nith","zeste","zoologie"];t.exports=r});Qe("dr8eV",function(t,e){"use strict";var r=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"];t.exports=r});Qe("9uq94",function(t,e){"use strict";var r=["\u3042\u3044\u3053\u304F\u3057\u3093","\u3042\u3044\u3055\u3064","\u3042\u3044\u305F\u3099","\u3042\u304A\u305D\u3099\u3089","\u3042\u304B\u3061\u3083\u3093","\u3042\u304D\u308B","\u3042\u3051\u304B\u3099\u305F","\u3042\u3051\u308B","\u3042\u3053\u304B\u3099\u308C\u308B","\u3042\u3055\u3044","\u3042\u3055\u3072","\u3042\u3057\u3042\u3068","\u3042\u3057\u3099\u308F\u3046","\u3042\u3059\u3099\u304B\u308B","\u3042\u3059\u3099\u304D","\u3042\u305D\u3075\u3099","\u3042\u305F\u3048\u308B","\u3042\u305F\u305F\u3081\u308B","\u3042\u305F\u308A\u307E\u3048","\u3042\u305F\u308B","\u3042\u3064\u3044","\u3042\u3064\u304B\u3046","\u3042\u3063\u3057\u3085\u304F","\u3042\u3064\u307E\u308A","\u3042\u3064\u3081\u308B","\u3042\u3066\u306A","\u3042\u3066\u306F\u307E\u308B","\u3042\u3072\u308B","\u3042\u3075\u3099\u3089","\u3042\u3075\u3099\u308B","\u3042\u3075\u308C\u308B","\u3042\u307E\u3044","\u3042\u307E\u3068\u3099","\u3042\u307E\u3084\u304B\u3059","\u3042\u307E\u308A","\u3042\u307F\u3082\u306E","\u3042\u3081\u308A\u304B","\u3042\u3084\u307E\u308B","\u3042\u3086\u3080","\u3042\u3089\u3044\u304F\u3099\u307E","\u3042\u3089\u3057","\u3042\u3089\u3059\u3057\u3099","\u3042\u3089\u305F\u3081\u308B","\u3042\u3089\u3086\u308B","\u3042\u3089\u308F\u3059","\u3042\u308A\u304B\u3099\u3068\u3046","\u3042\u308F\u305B\u308B","\u3042\u308F\u3066\u308B","\u3042\u3093\u3044","\u3042\u3093\u304B\u3099\u3044","\u3042\u3093\u3053","\u3042\u3093\u305B\u3099\u3093","\u3042\u3093\u3066\u3044","\u3042\u3093\u306A\u3044","\u3042\u3093\u307E\u308A","\u3044\u3044\u305F\u3099\u3059","\u3044\u304A\u3093","\u3044\u304B\u3099\u3044","\u3044\u304B\u3099\u304F","\u3044\u304D\u304A\u3044","\u3044\u304D\u306A\u308A","\u3044\u304D\u3082\u306E","\u3044\u304D\u308B","\u3044\u304F\u3057\u3099","\u3044\u304F\u3075\u3099\u3093","\u3044\u3051\u306F\u3099\u306A","\u3044\u3051\u3093","\u3044\u3053\u3046","\u3044\u3053\u304F","\u3044\u3053\u3064","\u3044\u3055\u307E\u3057\u3044","\u3044\u3055\u3093","\u3044\u3057\u304D","\u3044\u3057\u3099\u3085\u3046","\u3044\u3057\u3099\u3087\u3046","\u3044\u3057\u3099\u308F\u308B","\u3044\u3059\u3099\u307F","\u3044\u3059\u3099\u308C","\u3044\u305B\u3044","\u3044\u305B\u3048\u3072\u3099","\u3044\u305B\u304B\u3044","\u3044\u305B\u304D","\u3044\u305B\u3099\u3093","\u3044\u305D\u3046\u308D\u3046","\u3044\u305D\u304B\u3099\u3057\u3044","\u3044\u305F\u3099\u3044","\u3044\u305F\u3099\u304F","\u3044\u305F\u3059\u3099\u3089","\u3044\u305F\u307F","\u3044\u305F\u308A\u3042","\u3044\u3061\u304A\u3046","\u3044\u3061\u3057\u3099","\u3044\u3061\u3068\u3099","\u3044\u3061\u306F\u3099","\u3044\u3061\u3075\u3099","\u3044\u3061\u308A\u3085\u3046","\u3044\u3064\u304B","\u3044\u3063\u3057\u3085\u3093","\u3044\u3063\u305B\u3044","\u3044\u3063\u305D\u3046","\u3044\u3063\u305F\u3093","\u3044\u3063\u3061","\u3044\u3063\u3066\u3044","\u3044\u3063\u307B\u309A\u3046","\u3044\u3066\u3055\u3099","\u3044\u3066\u3093","\u3044\u3068\u3099\u3046","\u3044\u3068\u3053","\u3044\u306A\u3044","\u3044\u306A\u304B","\u3044\u306D\u3080\u308A","\u3044\u306E\u3061","\u3044\u306E\u308B","\u3044\u306F\u3064","\u3044\u306F\u3099\u308B","\u3044\u306F\u3093","\u3044\u3072\u3099\u304D","\u3044\u3072\u3093","\u3044\u3075\u304F","\u3044\u3078\u3093","\u3044\u307B\u3046","\u3044\u307F\u3093","\u3044\u3082\u3046\u3068","\u3044\u3082\u305F\u308C","\u3044\u3082\u308A","\u3044\u3084\u304B\u3099\u308B","\u3044\u3084\u3059","\u3044\u3088\u304B\u3093","\u3044\u3088\u304F","\u3044\u3089\u3044","\u3044\u3089\u3059\u3068","\u3044\u308A\u304F\u3099\u3061","\u3044\u308A\u3087\u3046","\u3044\u308C\u3044","\u3044\u308C\u3082\u306E","\u3044\u308C\u308B","\u3044\u308D\u3048\u3093\u3072\u309A\u3064","\u3044\u308F\u3044","\u3044\u308F\u3046","\u3044\u308F\u304B\u3093","\u3044\u308F\u306F\u3099","\u3044\u308F\u3086\u308B","\u3044\u3093\u3051\u3099\u3093\u307E\u3081","\u3044\u3093\u3055\u3064","\u3044\u3093\u3057\u3087\u3046","\u3044\u3093\u3088\u3046","\u3046\u3048\u304D","\u3046\u3048\u308B","\u3046\u304A\u3055\u3099","\u3046\u304B\u3099\u3044","\u3046\u304B\u3075\u3099","\u3046\u304B\u3078\u3099\u308B","\u3046\u304D\u308F","\u3046\u304F\u3089\u3044\u306A","\u3046\u304F\u308C\u308C","\u3046\u3051\u305F\u307E\u308F\u308B","\u3046\u3051\u3064\u3051","\u3046\u3051\u3068\u308B","\u3046\u3051\u3082\u3064","\u3046\u3051\u308B","\u3046\u3053\u3099\u304B\u3059","\u3046\u3053\u3099\u304F","\u3046\u3053\u3093","\u3046\u3055\u304D\u3099","\u3046\u3057\u306A\u3046","\u3046\u3057\u308D\u304B\u3099\u307F","\u3046\u3059\u3044","\u3046\u3059\u304D\u3099","\u3046\u3059\u304F\u3099\u3089\u3044","\u3046\u3059\u3081\u308B","\u3046\u305B\u3064","\u3046\u3061\u3042\u308F\u305B","\u3046\u3061\u304B\u3099\u308F","\u3046\u3061\u304D","\u3046\u3061\u3085\u3046","\u3046\u3063\u304B\u308A","\u3046\u3064\u304F\u3057\u3044","\u3046\u3063\u305F\u3048\u308B","\u3046\u3064\u308B","\u3046\u3068\u3099\u3093","\u3046\u306A\u304D\u3099","\u3046\u306A\u3057\u3099","\u3046\u306A\u3059\u3099\u304F","\u3046\u306A\u308B","\u3046\u306D\u308B","\u3046\u306E\u3046","\u3046\u3075\u3099\u3051\u3099","\u3046\u3075\u3099\u3053\u3099\u3048","\u3046\u307E\u308C\u308B","\u3046\u3081\u308B","\u3046\u3082\u3046","\u3046\u3084\u307E\u3046","\u3046\u3088\u304F","\u3046\u3089\u304B\u3099\u3048\u3059","\u3046\u3089\u304F\u3099\u3061","\u3046\u3089\u306A\u3044","\u3046\u308A\u3042\u3051\u3099","\u3046\u308A\u304D\u308C","\u3046\u308B\u3055\u3044","\u3046\u308C\u3057\u3044","\u3046\u308C\u3086\u304D","\u3046\u308C\u308B","\u3046\u308D\u3053","\u3046\u308F\u304D","\u3046\u308F\u3055","\u3046\u3093\u3053\u3046","\u3046\u3093\u3061\u3093","\u3046\u3093\u3066\u3093","\u3046\u3093\u3068\u3099\u3046","\u3048\u3044\u3048\u3093","\u3048\u3044\u304B\u3099","\u3048\u3044\u304D\u3087\u3046","\u3048\u3044\u3053\u3099","\u3048\u3044\u305B\u3044","\u3048\u3044\u3075\u3099\u3093","\u3048\u3044\u3088\u3046","\u3048\u3044\u308F","\u3048\u304A\u308A","\u3048\u304B\u3099\u304A","\u3048\u304B\u3099\u304F","\u3048\u304D\u305F\u3044","\u3048\u304F\u305B\u308B","\u3048\u3057\u3083\u304F","\u3048\u3059\u3066","\u3048\u3064\u3089\u3093","\u3048\u306E\u304F\u3099","\u3048\u307B\u3046\u307E\u304D","\u3048\u307B\u3093","\u3048\u307E\u304D","\u3048\u3082\u3057\u3099","\u3048\u3082\u306E","\u3048\u3089\u3044","\u3048\u3089\u3075\u3099","\u3048\u308A\u3042","\u3048\u3093\u3048\u3093","\u3048\u3093\u304B\u3044","\u3048\u3093\u304D\u3099","\u3048\u3093\u3051\u3099\u304D","\u3048\u3093\u3057\u3085\u3046","\u3048\u3093\u305B\u3099\u3064","\u3048\u3093\u305D\u304F","\u3048\u3093\u3061\u3087\u3046","\u3048\u3093\u3068\u3064","\u304A\u3044\u304B\u3051\u308B","\u304A\u3044\u3053\u3059","\u304A\u3044\u3057\u3044","\u304A\u3044\u3064\u304F","\u304A\u3046\u3048\u3093","\u304A\u3046\u3055\u307E","\u304A\u3046\u3057\u3099","\u304A\u3046\u305B\u3064","\u304A\u3046\u305F\u3044","\u304A\u3046\u3075\u304F","\u304A\u3046\u3078\u3099\u3044","\u304A\u3046\u3088\u3046","\u304A\u3048\u308B","\u304A\u304A\u3044","\u304A\u304A\u3046","\u304A\u304A\u3068\u3099\u304A\u308A","\u304A\u304A\u3084","\u304A\u304A\u3088\u305D","\u304A\u304B\u3048\u308A","\u304A\u304B\u3059\u3099","\u304A\u304B\u3099\u3080","\u304A\u304B\u308F\u308A","\u304A\u304D\u3099\u306A\u3046","\u304A\u304D\u308B","\u304A\u304F\u3055\u307E","\u304A\u304F\u3057\u3099\u3087\u3046","\u304A\u304F\u308A\u304B\u3099\u306A","\u304A\u304F\u308B","\u304A\u304F\u308C\u308B","\u304A\u3053\u3059","\u304A\u3053\u306A\u3046","\u304A\u3053\u308B","\u304A\u3055\u3048\u308B","\u304A\u3055\u306A\u3044","\u304A\u3055\u3081\u308B","\u304A\u3057\u3044\u308C","\u304A\u3057\u3048\u308B","\u304A\u3057\u3099\u304D\u3099","\u304A\u3057\u3099\u3055\u3093","\u304A\u3057\u3083\u308C","\u304A\u305D\u3089\u304F","\u304A\u305D\u308F\u308B","\u304A\u305F\u304B\u3099\u3044","\u304A\u305F\u304F","\u304A\u305F\u3099\u3084\u304B","\u304A\u3061\u3064\u304F","\u304A\u3063\u3068","\u304A\u3064\u308A","\u304A\u3066\u3099\u304B\u3051","\u304A\u3068\u3057\u3082\u306E","\u304A\u3068\u306A\u3057\u3044","\u304A\u3068\u3099\u308A","\u304A\u3068\u3099\u308D\u304B\u3059","\u304A\u306F\u3099\u3055\u3093","\u304A\u307E\u3044\u308A","\u304A\u3081\u3066\u3099\u3068\u3046","\u304A\u3082\u3044\u3066\u3099","\u304A\u3082\u3046","\u304A\u3082\u305F\u3044","\u304A\u3082\u3061\u3083","\u304A\u3084\u3064","\u304A\u3084\u3086\u3072\u3099","\u304A\u3088\u307B\u3099\u3059","\u304A\u3089\u3093\u305F\u3099","\u304A\u308D\u3059","\u304A\u3093\u304B\u3099\u304F","\u304A\u3093\u3051\u3044","\u304A\u3093\u3057\u3083","\u304A\u3093\u305B\u3093","\u304A\u3093\u305F\u3099\u3093","\u304A\u3093\u3061\u3085\u3046","\u304A\u3093\u3068\u3099\u3051\u3044","\u304B\u3042\u3064","\u304B\u3044\u304B\u3099","\u304B\u3099\u3044\u304D","\u304B\u3099\u3044\u3051\u3093","\u304B\u3099\u3044\u3053\u3046","\u304B\u3044\u3055\u3064","\u304B\u3044\u3057\u3083","\u304B\u3044\u3059\u3044\u3088\u304F","\u304B\u3044\u305B\u3099\u3093","\u304B\u3044\u305D\u3099\u3046\u3068\u3099","\u304B\u3044\u3064\u3046","\u304B\u3044\u3066\u3093","\u304B\u3044\u3068\u3046","\u304B\u3044\u3075\u304F","\u304B\u3099\u3044\u3078\u304D","\u304B\u3044\u307B\u3046","\u304B\u3044\u3088\u3046","\u304B\u3099\u3044\u3089\u3044","\u304B\u3044\u308F","\u304B\u3048\u308B","\u304B\u304A\u308A","\u304B\u304B\u3048\u308B","\u304B\u304B\u3099\u304F","\u304B\u304B\u3099\u3057","\u304B\u304B\u3099\u307F","\u304B\u304F\u3053\u3099","\u304B\u304F\u3068\u304F","\u304B\u3055\u3099\u308B","\u304B\u3099\u305D\u3099\u3046","\u304B\u305F\u3044","\u304B\u305F\u3061","\u304B\u3099\u3061\u3087\u3046","\u304B\u3099\u3063\u304D\u3085\u3046","\u304B\u3099\u3063\u3053\u3046","\u304B\u3099\u3063\u3055\u3093","\u304B\u3099\u3063\u3057\u3087\u3046","\u304B\u306A\u3055\u3099\u308F\u3057","\u304B\u306E\u3046","\u304B\u3099\u306F\u304F","\u304B\u3075\u3099\u304B","\u304B\u307B\u3046","\u304B\u307B\u3053\u3099","\u304B\u307E\u3046","\u304B\u307E\u307B\u3099\u3053","\u304B\u3081\u308C\u304A\u3093","\u304B\u3086\u3044","\u304B\u3088\u3046\u3072\u3099","\u304B\u3089\u3044","\u304B\u308B\u3044","\u304B\u308D\u3046","\u304B\u308F\u304F","\u304B\u308F\u3089","\u304B\u3099\u3093\u304B","\u304B\u3093\u3051\u3044","\u304B\u3093\u3053\u3046","\u304B\u3093\u3057\u3083","\u304B\u3093\u305D\u3046","\u304B\u3093\u305F\u3093","\u304B\u3093\u3061","\u304B\u3099\u3093\u306F\u3099\u308B","\u304D\u3042\u3044","\u304D\u3042\u3064","\u304D\u3044\u308D","\u304D\u3099\u3044\u3093","\u304D\u3046\u3044","\u304D\u3046\u3093","\u304D\u3048\u308B","\u304D\u304A\u3046","\u304D\u304A\u304F","\u304D\u304A\u3061","\u304D\u304A\u3093","\u304D\u304B\u3044","\u304D\u304B\u304F","\u304D\u304B\u3093\u3057\u3083","\u304D\u304D\u3066","\u304D\u304F\u306F\u3099\u308A","\u304D\u304F\u3089\u3051\u3099","\u304D\u3051\u3093\u305B\u3044","\u304D\u3053\u3046","\u304D\u3053\u3048\u308B","\u304D\u3053\u304F","\u304D\u3055\u3044","\u304D\u3055\u304F","\u304D\u3055\u307E","\u304D\u3055\u3089\u304D\u3099","\u304D\u3099\u3057\u3099\u304B\u304B\u3099\u304F","\u304D\u3099\u3057\u304D","\u304D\u3099\u3057\u3099\u305F\u3044\u3051\u3093","\u304D\u3099\u3057\u3099\u306B\u3063\u3066\u3044","\u304D\u3099\u3057\u3099\u3085\u3064\u3057\u3083","\u304D\u3059\u3046","\u304D\u305B\u3044","\u304D\u305B\u304D","\u304D\u305B\u3064","\u304D\u305D\u3046","\u304D\u305D\u3099\u304F","\u304D\u305D\u3099\u3093","\u304D\u305F\u3048\u308B","\u304D\u3061\u3087\u3046","\u304D\u3064\u3048\u3093","\u304D\u3099\u3063\u3061\u308A","\u304D\u3064\u3064\u304D","\u304D\u3064\u306D","\u304D\u3066\u3044","\u304D\u3068\u3099\u3046","\u304D\u3068\u3099\u304F","\u304D\u306A\u3044","\u304D\u306A\u304B\u3099","\u304D\u306A\u3053","\u304D\u306C\u3053\u3099\u3057","\u304D\u306D\u3093","\u304D\u306E\u3046","\u304D\u306E\u3057\u305F","\u304D\u306F\u304F","\u304D\u3072\u3099\u3057\u3044","\u304D\u3072\u3093","\u304D\u3075\u304F","\u304D\u3075\u3099\u3093","\u304D\u307B\u3099\u3046","\u304D\u307B\u3093","\u304D\u307E\u308B","\u304D\u307F\u3064","\u304D\u3080\u3059\u3099\u304B\u3057\u3044","\u304D\u3081\u308B","\u304D\u3082\u305F\u3099\u3081\u3057","\u304D\u3082\u3061","\u304D\u3082\u306E","\u304D\u3083\u304F","\u304D\u3084\u304F","\u304D\u3099\u3085\u3046\u306B\u304F","\u304D\u3088\u3046","\u304D\u3087\u3046\u308A\u3085\u3046","\u304D\u3089\u3044","\u304D\u3089\u304F","\u304D\u308A\u3093","\u304D\u308C\u3044","\u304D\u308C\u3064","\u304D\u308D\u304F","\u304D\u3099\u308D\u3093","\u304D\u308F\u3081\u308B","\u304D\u3099\u3093\u3044\u308D","\u304D\u3093\u304B\u304F\u3057\u3099","\u304D\u3093\u3057\u3099\u3087","\u304D\u3093\u3088\u3046\u3072\u3099","\u304F\u3099\u3042\u3044","\u304F\u3044\u3059\u3099","\u304F\u3046\u304B\u3093","\u304F\u3046\u304D","\u304F\u3046\u304F\u3099\u3093","\u304F\u3046\u3053\u3046","\u304F\u3099\u3046\u305B\u3044","\u304F\u3046\u305D\u3046","\u304F\u3099\u3046\u305F\u3089","\u304F\u3046\u3075\u304F","\u304F\u3046\u307B\u3099","\u304F\u304B\u3093","\u304F\u304D\u3087\u3046","\u304F\u3051\u3099\u3093","\u304F\u3099\u3053\u3046","\u304F\u3055\u3044","\u304F\u3055\u304D","\u304F\u3055\u306F\u3099\u306A","\u304F\u3055\u308B","\u304F\u3057\u3083\u307F","\u304F\u3057\u3087\u3046","\u304F\u3059\u306E\u304D","\u304F\u3059\u308A\u3086\u3072\u3099","\u304F\u305B\u3051\u3099","\u304F\u305B\u3093","\u304F\u3099\u305F\u3044\u3066\u304D","\u304F\u305F\u3099\u3055\u308B","\u304F\u305F\u3072\u3099\u308C\u308B","\u304F\u3061\u3053\u307F","\u304F\u3061\u3055\u304D","\u304F\u3064\u3057\u305F","\u304F\u3099\u3063\u3059\u308A","\u304F\u3064\u308D\u304F\u3099","\u304F\u3068\u3046\u3066\u3093","\u304F\u3068\u3099\u304F","\u304F\u306A\u3093","\u304F\u306D\u304F\u306D","\u304F\u306E\u3046","\u304F\u3075\u3046","\u304F\u307F\u3042\u308F\u305B","\u304F\u307F\u305F\u3066\u308B","\u304F\u3081\u308B","\u304F\u3084\u304F\u3057\u3087","\u304F\u3089\u3059","\u304F\u3089\u3078\u3099\u308B","\u304F\u308B\u307E","\u304F\u308C\u308B","\u304F\u308D\u3046","\u304F\u308F\u3057\u3044","\u304F\u3099\u3093\u304B\u3093","\u304F\u3099\u3093\u3057\u3087\u304F","\u304F\u3099\u3093\u305F\u3044","\u304F\u3099\u3093\u3066","\u3051\u3042\u306A","\u3051\u3044\u304B\u304F","\u3051\u3044\u3051\u3093","\u3051\u3044\u3053","\u3051\u3044\u3055\u3064","\u3051\u3099\u3044\u3057\u3099\u3085\u3064","\u3051\u3044\u305F\u3044","\u3051\u3099\u3044\u306E\u3046\u3057\u3099\u3093","\u3051\u3044\u308C\u304D","\u3051\u3044\u308D","\u3051\u304A\u3068\u3059","\u3051\u304A\u308A\u3082\u306E","\u3051\u3099\u304D\u304B","\u3051\u3099\u304D\u3051\u3099\u3093","\u3051\u3099\u304D\u305F\u3099\u3093","\u3051\u3099\u304D\u3061\u3093","\u3051\u3099\u304D\u3068\u3064","\u3051\u3099\u304D\u306F","\u3051\u3099\u304D\u3084\u304F","\u3051\u3099\u3053\u3046","\u3051\u3099\u3053\u304F\u3057\u3099\u3087\u3046","\u3051\u3099\u3055\u3099\u3044","\u3051\u3055\u304D","\u3051\u3099\u3055\u3099\u3093","\u3051\u3057\u304D","\u3051\u3057\u3053\u3099\u3080","\u3051\u3057\u3087\u3046","\u3051\u3099\u3059\u3068","\u3051\u305F\u306F\u3099","\u3051\u3061\u3083\u3063\u3075\u309A","\u3051\u3061\u3089\u3059","\u3051\u3064\u3042\u3064","\u3051\u3064\u3044","\u3051\u3064\u3048\u304D","\u3051\u3063\u3053\u3093","\u3051\u3064\u3057\u3099\u3087","\u3051\u3063\u305B\u304D","\u3051\u3063\u3066\u3044","\u3051\u3064\u307E\u3064","\u3051\u3099\u3064\u3088\u3046\u3072\u3099","\u3051\u3099\u3064\u308C\u3044","\u3051\u3064\u308D\u3093","\u3051\u3099\u3068\u3099\u304F","\u3051\u3068\u306F\u3099\u3059","\u3051\u3068\u308B","\u3051\u306A\u3051\u3099","\u3051\u306A\u3059","\u3051\u306A\u307F","\u3051\u306C\u304D","\u3051\u3099\u306D\u3064","\u3051\u306D\u3093","\u3051\u306F\u3044","\u3051\u3099\u3072\u3093","\u3051\u3075\u3099\u304B\u3044","\u3051\u3099\u307B\u3099\u304F","\u3051\u307E\u308A","\u3051\u307F\u304B\u308B","\u3051\u3080\u3057","\u3051\u3080\u308A","\u3051\u3082\u306E","\u3051\u3089\u3044","\u3051\u308D\u3051\u308D","\u3051\u308F\u3057\u3044","\u3051\u3093\u3044","\u3051\u3093\u3048\u3064","\u3051\u3093\u304A","\u3051\u3093\u304B","\u3051\u3099\u3093\u304D","\u3051\u3093\u3051\u3099\u3093","\u3051\u3093\u3053\u3046","\u3051\u3093\u3055\u304F","\u3051\u3093\u3057\u3085\u3046","\u3051\u3093\u3059\u3046","\u3051\u3099\u3093\u305D\u3046","\u3051\u3093\u3061\u304F","\u3051\u3093\u3066\u3044","\u3051\u3093\u3068\u3046","\u3051\u3093\u306A\u3044","\u3051\u3093\u306B\u3093","\u3051\u3099\u3093\u3075\u3099\u3064","\u3051\u3093\u307E","\u3051\u3093\u307F\u3093","\u3051\u3093\u3081\u3044","\u3051\u3093\u3089\u3093","\u3051\u3093\u308A","\u3053\u3042\u304F\u307E","\u3053\u3044\u306C","\u3053\u3044\u3072\u3099\u3068","\u3053\u3099\u3046\u3044","\u3053\u3046\u3048\u3093","\u3053\u3046\u304A\u3093","\u3053\u3046\u304B\u3093","\u3053\u3099\u3046\u304D\u3085\u3046","\u3053\u3099\u3046\u3051\u3044","\u3053\u3046\u3053\u3046","\u3053\u3046\u3055\u3044","\u3053\u3046\u3057\u3099","\u3053\u3046\u3059\u3044","\u3053\u3099\u3046\u305B\u3044","\u3053\u3046\u305D\u304F","\u3053\u3046\u305F\u3044","\u3053\u3046\u3061\u3083","\u3053\u3046\u3064\u3046","\u3053\u3046\u3066\u3044","\u3053\u3046\u3068\u3099\u3046","\u3053\u3046\u306A\u3044","\u3053\u3046\u306F\u3044","\u3053\u3099\u3046\u307B\u3046","\u3053\u3099\u3046\u307E\u3093","\u3053\u3046\u3082\u304F","\u3053\u3046\u308A\u3064","\u3053\u3048\u308B","\u3053\u304A\u308A","\u3053\u3099\u304B\u3044","\u3053\u3099\u304B\u3099\u3064","\u3053\u3099\u304B\u3093","\u3053\u304F\u3053\u3099","\u3053\u304F\u3055\u3044","\u3053\u304F\u3068\u3046","\u3053\u304F\u306A\u3044","\u3053\u304F\u306F\u304F","\u3053\u304F\u3099\u307E","\u3053\u3051\u3044","\u3053\u3051\u308B","\u3053\u3053\u306E\u304B","\u3053\u3053\u308D","\u3053\u3055\u3081","\u3053\u3057\u3064","\u3053\u3059\u3046","\u3053\u305B\u3044","\u3053\u305B\u304D","\u3053\u305B\u3099\u3093","\u3053\u305D\u305F\u3099\u3066","\u3053\u305F\u3044","\u3053\u305F\u3048\u308B","\u3053\u305F\u3064","\u3053\u3061\u3087\u3046","\u3053\u3063\u304B","\u3053\u3064\u3053\u3064","\u3053\u3064\u306F\u3099\u3093","\u3053\u3064\u3075\u3099","\u3053\u3066\u3044","\u3053\u3066\u3093","\u3053\u3068\u304B\u3099\u3089","\u3053\u3068\u3057","\u3053\u3068\u306F\u3099","\u3053\u3068\u308A","\u3053\u306A\u3053\u3099\u306A","\u3053\u306D\u3053\u306D","\u3053\u306E\u307E\u307E","\u3053\u306E\u307F","\u3053\u306E\u3088","\u3053\u3099\u306F\u3093","\u3053\u3072\u3064\u3057\u3099","\u3053\u3075\u3046","\u3053\u3075\u3093","\u3053\u307B\u3099\u308C\u308B","\u3053\u3099\u307E\u3042\u3075\u3099\u3089","\u3053\u307E\u304B\u3044","\u3053\u3099\u307E\u3059\u308A","\u3053\u307E\u3064\u306A","\u3053\u307E\u308B","\u3053\u3080\u304D\u3099\u3053","\u3053\u3082\u3057\u3099","\u3053\u3082\u3061","\u3053\u3082\u306E","\u3053\u3082\u3093","\u3053\u3084\u304F","\u3053\u3084\u307E","\u3053\u3086\u3046","\u3053\u3086\u3072\u3099","\u3053\u3088\u3044","\u3053\u3088\u3046","\u3053\u308A\u308B","\u3053\u308C\u304F\u3057\u3087\u3093","\u3053\u308D\u3063\u3051","\u3053\u308F\u3082\u3066","\u3053\u308F\u308C\u308B","\u3053\u3093\u3044\u3093","\u3053\u3093\u304B\u3044","\u3053\u3093\u304D","\u3053\u3093\u3057\u3085\u3046","\u3053\u3093\u3059\u3044","\u3053\u3093\u305F\u3099\u3066","\u3053\u3093\u3068\u3093","\u3053\u3093\u306A\u3093","\u3053\u3093\u3072\u3099\u306B","\u3053\u3093\u307B\u309A\u3093","\u3053\u3093\u307E\u3051","\u3053\u3093\u3084","\u3053\u3093\u308C\u3044","\u3053\u3093\u308F\u304F","\u3055\u3099\u3044\u3048\u304D","\u3055\u3044\u304B\u3044","\u3055\u3044\u304D\u3093","\u3055\u3099\u3044\u3051\u3099\u3093","\u3055\u3099\u3044\u3053","\u3055\u3044\u3057\u3087","\u3055\u3044\u305B\u3044","\u3055\u3099\u3044\u305F\u304F","\u3055\u3099\u3044\u3061\u3085\u3046","\u3055\u3044\u3066\u304D","\u3055\u3099\u3044\u308A\u3087\u3046","\u3055\u3046\u306A","\u3055\u304B\u3044\u3057","\u3055\u304B\u3099\u3059","\u3055\u304B\u306A","\u3055\u304B\u307F\u3061","\u3055\u304B\u3099\u308B","\u3055\u304D\u3099\u3087\u3046","\u3055\u304F\u3057","\u3055\u304F\u3072\u3093","\u3055\u304F\u3089","\u3055\u3053\u304F","\u3055\u3053\u3064","\u3055\u3059\u3099\u304B\u308B","\u3055\u3099\u305B\u304D","\u3055\u305F\u3093","\u3055\u3064\u3048\u3044","\u3055\u3099\u3064\u304A\u3093","\u3055\u3099\u3063\u304B","\u3055\u3099\u3064\u304B\u3099\u304F","\u3055\u3063\u304D\u3087\u304F","\u3055\u3099\u3063\u3057","\u3055\u3064\u3057\u3099\u3093","\u3055\u3099\u3063\u305D\u3046","\u3055\u3064\u305F\u306F\u3099","\u3055\u3064\u307E\u3044\u3082","\u3055\u3066\u3044","\u3055\u3068\u3044\u3082","\u3055\u3068\u3046","\u3055\u3068\u304A\u3084","\u3055\u3068\u3057","\u3055\u3068\u308B","\u3055\u306E\u3046","\u3055\u306F\u3099\u304F","\u3055\u3072\u3099\u3057\u3044","\u3055\u3078\u3099\u3064","\u3055\u307B\u3046","\u3055\u307B\u3068\u3099","\u3055\u307E\u3059","\u3055\u307F\u3057\u3044","\u3055\u307F\u305F\u3099\u308C","\u3055\u3080\u3051","\u3055\u3081\u308B","\u3055\u3084\u3048\u3093\u3068\u3099\u3046","\u3055\u3086\u3046","\u3055\u3088\u3046","\u3055\u3088\u304F","\u3055\u3089\u305F\u3099","\u3055\u3099\u308B\u305D\u306F\u3099","\u3055\u308F\u3084\u304B","\u3055\u308F\u308B","\u3055\u3093\u3044\u3093","\u3055\u3093\u304B","\u3055\u3093\u304D\u3083\u304F","\u3055\u3093\u3053\u3046","\u3055\u3093\u3055\u3044","\u3055\u3099\u3093\u3057\u3087","\u3055\u3093\u3059\u3046","\u3055\u3093\u305B\u3044","\u3055\u3093\u305D","\u3055\u3093\u3061","\u3055\u3093\u307E","\u3055\u3093\u307F","\u3055\u3093\u3089\u3093","\u3057\u3042\u3044","\u3057\u3042\u3051\u3099","\u3057\u3042\u3055\u3063\u3066","\u3057\u3042\u308F\u305B","\u3057\u3044\u304F","\u3057\u3044\u3093","\u3057\u3046\u3061","\u3057\u3048\u3044","\u3057\u304A\u3051","\u3057\u304B\u3044","\u3057\u304B\u304F","\u3057\u3099\u304B\u3093","\u3057\u3053\u3099\u3068","\u3057\u3059\u3046","\u3057\u3099\u305F\u3099\u3044","\u3057\u305F\u3046\u3051","\u3057\u305F\u304D\u3099","\u3057\u305F\u3066","\u3057\u305F\u307F","\u3057\u3061\u3087\u3046","\u3057\u3061\u308A\u3093","\u3057\u3063\u304B\u308A","\u3057\u3064\u3057\u3099","\u3057\u3064\u3082\u3093","\u3057\u3066\u3044","\u3057\u3066\u304D","\u3057\u3066\u3064","\u3057\u3099\u3066\u3093","\u3057\u3099\u3068\u3099\u3046","\u3057\u306A\u304D\u3099\u308C","\u3057\u306A\u3082\u306E","\u3057\u306A\u3093","\u3057\u306D\u307E","\u3057\u306D\u3093","\u3057\u306E\u304F\u3099","\u3057\u306E\u3075\u3099","\u3057\u306F\u3044","\u3057\u306F\u3099\u304B\u308A","\u3057\u306F\u3064","\u3057\u306F\u3089\u3044","\u3057\u306F\u3093","\u3057\u3072\u3087\u3046","\u3057\u3075\u304F","\u3057\u3099\u3075\u3099\u3093","\u3057\u3078\u3044","\u3057\u307B\u3046","\u3057\u307B\u3093","\u3057\u307E\u3046","\u3057\u307E\u308B","\u3057\u307F\u3093","\u3057\u3080\u3051\u308B","\u3057\u3099\u3080\u3057\u3087","\u3057\u3081\u3044","\u3057\u3081\u308B","\u3057\u3082\u3093","\u3057\u3083\u3044\u3093","\u3057\u3083\u3046\u3093","\u3057\u3083\u304A\u3093","\u3057\u3099\u3083\u304B\u3099\u3044\u3082","\u3057\u3084\u304F\u3057\u3087","\u3057\u3083\u304F\u307B\u3046","\u3057\u3083\u3051\u3093","\u3057\u3083\u3053","\u3057\u3083\u3055\u3099\u3044","\u3057\u3083\u3057\u3093","\u3057\u3083\u305B\u3093","\u3057\u3083\u305D\u3046","\u3057\u3083\u305F\u3044","\u3057\u3083\u3061\u3087\u3046","\u3057\u3083\u3063\u304D\u3093","\u3057\u3099\u3083\u307E","\u3057\u3083\u308A\u3093","\u3057\u3083\u308C\u3044","\u3057\u3099\u3086\u3046","\u3057\u3099\u3085\u3046\u3057\u3087","\u3057\u3085\u304F\u306F\u304F","\u3057\u3099\u3085\u3057\u3093","\u3057\u3085\u3063\u305B\u304D","\u3057\u3085\u307F","\u3057\u3085\u3089\u306F\u3099","\u3057\u3099\u3085\u3093\u306F\u3099\u3093","\u3057\u3087\u3046\u304B\u3044","\u3057\u3087\u304F\u305F\u304F","\u3057\u3087\u3063\u3051\u3093","\u3057\u3087\u3068\u3099\u3046","\u3057\u3087\u3082\u3064","\u3057\u3089\u305B\u308B","\u3057\u3089\u3078\u3099\u308B","\u3057\u3093\u304B","\u3057\u3093\u3053\u3046","\u3057\u3099\u3093\u3057\u3099\u3083","\u3057\u3093\u305B\u3044\u3057\u3099","\u3057\u3093\u3061\u304F","\u3057\u3093\u308A\u3093","\u3059\u3042\u3051\u3099","\u3059\u3042\u3057","\u3059\u3042\u306A","\u3059\u3099\u3042\u3093","\u3059\u3044\u3048\u3044","\u3059\u3044\u304B","\u3059\u3044\u3068\u3046","\u3059\u3099\u3044\u3075\u3099\u3093","\u3059\u3044\u3088\u3046\u3072\u3099","\u3059\u3046\u304B\u3099\u304F","\u3059\u3046\u3057\u3099\u3064","\u3059\u3046\u305B\u3093","\u3059\u304A\u3068\u3099\u308A","\u3059\u304D\u307E","\u3059\u304F\u3046","\u3059\u304F\u306A\u3044","\u3059\u3051\u308B","\u3059\u3053\u3099\u3044","\u3059\u3053\u3057","\u3059\u3099\u3055\u3093","\u3059\u3059\u3099\u3057\u3044","\u3059\u3059\u3080","\u3059\u3059\u3081\u308B","\u3059\u3063\u304B\u308A","\u3059\u3099\u3063\u3057\u308A","\u3059\u3099\u3063\u3068","\u3059\u3066\u304D","\u3059\u3066\u308B","\u3059\u306D\u308B","\u3059\u306E\u3053","\u3059\u306F\u305F\u3099","\u3059\u306F\u3099\u3089\u3057\u3044","\u3059\u3099\u3072\u3087\u3046","\u3059\u3099\u3075\u3099\u306C\u308C","\u3059\u3075\u3099\u308A","\u3059\u3075\u308C","\u3059\u3078\u3099\u3066","\u3059\u3078\u3099\u308B","\u3059\u3099\u307B\u3046","\u3059\u307B\u3099\u3093","\u3059\u307E\u3044","\u3059\u3081\u3057","\u3059\u3082\u3046","\u3059\u3084\u304D","\u3059\u3089\u3059\u3089","\u3059\u308B\u3081","\u3059\u308C\u3061\u304B\u3099\u3046","\u3059\u308D\u3063\u3068","\u3059\u308F\u308B","\u3059\u3093\u305B\u3099\u3093","\u3059\u3093\u307B\u309A\u3046","\u305B\u3042\u3075\u3099\u3089","\u305B\u3044\u304B\u3064","\u305B\u3044\u3051\u3099\u3093","\u305B\u3044\u3057\u3099","\u305B\u3044\u3088\u3046","\u305B\u304A\u3046","\u305B\u304B\u3044\u304B\u3093","\u305B\u304D\u306B\u3093","\u305B\u304D\u3080","\u305B\u304D\u3086","\u305B\u304D\u3089\u3093\u3046\u3093","\u305B\u3051\u3093","\u305B\u3053\u3046","\u305B\u3059\u3057\u3099","\u305B\u305F\u3044","\u305B\u305F\u3051","\u305B\u3063\u304B\u304F","\u305B\u3063\u304D\u3083\u304F","\u305B\u3099\u3063\u304F","\u305B\u3063\u3051\u3093","\u305B\u3063\u3053\u3064","\u305B\u3063\u3055\u305F\u304F\u307E","\u305B\u3064\u305D\u3099\u304F","\u305B\u3064\u305F\u3099\u3093","\u305B\u3064\u3066\u3099\u3093","\u305B\u3063\u306F\u309A\u3093","\u305B\u3064\u3072\u3099","\u305B\u3064\u3075\u3099\u3093","\u305B\u3064\u3081\u3044","\u305B\u3064\u308A\u3064","\u305B\u306A\u304B","\u305B\u306E\u3072\u3099","\u305B\u306F\u306F\u3099","\u305B\u3072\u3099\u308D","\u305B\u307B\u3099\u306D","\u305B\u307E\u3044","\u305B\u307E\u308B","\u305B\u3081\u308B","\u305B\u3082\u305F\u308C","\u305B\u308A\u3075","\u305B\u3099\u3093\u3042\u304F","\u305B\u3093\u3044","\u305B\u3093\u3048\u3044","\u305B\u3093\u304B","\u305B\u3093\u304D\u3087","\u305B\u3093\u304F","\u305B\u3093\u3051\u3099\u3093","\u305B\u3099\u3093\u3053\u3099","\u305B\u3093\u3055\u3044","\u305B\u3093\u3057\u3085","\u305B\u3093\u3059\u3044","\u305B\u3093\u305B\u3044","\u305B\u3093\u305D\u3099","\u305B\u3093\u305F\u304F","\u305B\u3093\u3061\u3087\u3046","\u305B\u3093\u3066\u3044","\u305B\u3093\u3068\u3046","\u305B\u3093\u306C\u304D","\u305B\u3093\u306D\u3093","\u305B\u3093\u306F\u309A\u3044","\u305B\u3099\u3093\u3075\u3099","\u305B\u3099\u3093\u307B\u309A\u3046","\u305B\u3093\u3080","\u305B\u3093\u3081\u3093\u3057\u3099\u3087","\u305B\u3093\u3082\u3093","\u305B\u3093\u3084\u304F","\u305B\u3093\u3086\u3046","\u305B\u3093\u3088\u3046","\u305B\u3099\u3093\u3089","\u305B\u3099\u3093\u308A\u3083\u304F","\u305B\u3093\u308C\u3044","\u305B\u3093\u308D","\u305D\u3042\u304F","\u305D\u3044\u3068\u3051\u3099\u308B","\u305D\u3044\u306D","\u305D\u3046\u304B\u3099\u3093\u304D\u3087\u3046","\u305D\u3046\u304D","\u305D\u3046\u3053\u3099","\u305D\u3046\u3057\u3093","\u305D\u3046\u305F\u3099\u3093","\u305D\u3046\u306A\u3093","\u305D\u3046\u3072\u3099","\u305D\u3046\u3081\u3093","\u305D\u3046\u308A","\u305D\u3048\u3082\u306E","\u305D\u3048\u3093","\u305D\u304B\u3099\u3044","\u305D\u3051\u3099\u304D","\u305D\u3053\u3046","\u305D\u3053\u305D\u3053","\u305D\u3055\u3099\u3044","\u305D\u3057\u306A","\u305D\u305B\u3044","\u305D\u305B\u3093","\u305D\u305D\u304F\u3099","\u305D\u305F\u3099\u3066\u308B","\u305D\u3064\u3046","\u305D\u3064\u3048\u3093","\u305D\u3063\u304B\u3093","\u305D\u3064\u304D\u3099\u3087\u3046","\u305D\u3063\u3051\u3064","\u305D\u3063\u3053\u3046","\u305D\u3063\u305B\u3093","\u305D\u3063\u3068","\u305D\u3068\u304B\u3099\u308F","\u305D\u3068\u3064\u3099\u3089","\u305D\u306A\u3048\u308B","\u305D\u306A\u305F","\u305D\u3075\u307B\u3099","\u305D\u307B\u3099\u304F","\u305D\u307B\u3099\u308D","\u305D\u307E\u3064","\u305D\u307E\u308B","\u305D\u3080\u304F","\u305D\u3080\u308A\u3048","\u305D\u3081\u308B","\u305D\u3082\u305D\u3082","\u305D\u3088\u304B\u305B\u3099","\u305D\u3089\u307E\u3081","\u305D\u308D\u3046","\u305D\u3093\u304B\u3044","\u305D\u3093\u3051\u3044","\u305D\u3093\u3055\u3099\u3044","\u305D\u3093\u3057\u3064","\u305D\u3093\u305D\u3099\u304F","\u305D\u3093\u3061\u3087\u3046","\u305D\u3099\u3093\u3072\u3099","\u305D\u3099\u3093\u3075\u3099\u3093","\u305D\u3093\u307F\u3093","\u305F\u3042\u3044","\u305F\u3044\u3044\u3093","\u305F\u3044\u3046\u3093","\u305F\u3044\u3048\u304D","\u305F\u3044\u304A\u3046","\u305F\u3099\u3044\u304B\u3099\u304F","\u305F\u3044\u304D","\u305F\u3044\u304F\u3099\u3046","\u305F\u3044\u3051\u3093","\u305F\u3044\u3053","\u305F\u3044\u3055\u3099\u3044","\u305F\u3099\u3044\u3057\u3099\u3087\u3046\u3075\u3099","\u305F\u3099\u3044\u3059\u304D","\u305F\u3044\u305B\u3064","\u305F\u3044\u305D\u3046","\u305F\u3099\u3044\u305F\u3044","\u305F\u3044\u3061\u3087\u3046","\u305F\u3044\u3066\u3044","\u305F\u3099\u3044\u3068\u3099\u3053\u308D","\u305F\u3044\u306A\u3044","\u305F\u3044\u306D\u3064","\u305F\u3044\u306E\u3046","\u305F\u3044\u306F\u3093","\u305F\u3099\u3044\u3072\u3087\u3046","\u305F\u3044\u3075\u3046","\u305F\u3044\u3078\u3093","\u305F\u3044\u307B","\u305F\u3044\u307E\u3064\u306F\u3099\u306A","\u305F\u3044\u307F\u3093\u304F\u3099","\u305F\u3044\u3080","\u305F\u3044\u3081\u3093","\u305F\u3044\u3084\u304D","\u305F\u3044\u3088\u3046","\u305F\u3044\u3089","\u305F\u3044\u308A\u3087\u304F","\u305F\u3044\u308B","\u305F\u3044\u308F\u3093","\u305F\u3046\u3048","\u305F\u3048\u308B","\u305F\u304A\u3059","\u305F\u304A\u308B","\u305F\u304A\u308C\u308B","\u305F\u304B\u3044","\u305F\u304B\u306D","\u305F\u304D\u3072\u3099","\u305F\u304F\u3055\u3093","\u305F\u3053\u304F","\u305F\u3053\u3084\u304D","\u305F\u3055\u3044","\u305F\u3057\u3055\u3099\u3093","\u305F\u3099\u3057\u3099\u3083\u308C","\u305F\u3059\u3051\u308B","\u305F\u3059\u3099\u3055\u308F\u308B","\u305F\u305D\u304B\u3099\u308C","\u305F\u305F\u304B\u3046","\u305F\u305F\u304F","\u305F\u305F\u3099\u3057\u3044","\u305F\u305F\u307F","\u305F\u3061\u306F\u3099\u306A","\u305F\u3099\u3063\u304B\u3044","\u305F\u3099\u3063\u304D\u3083\u304F","\u305F\u3099\u3063\u3053","\u305F\u3099\u3063\u3057\u3085\u3064","\u305F\u3099\u3063\u305F\u3044","\u305F\u3066\u308B","\u305F\u3068\u3048\u308B","\u305F\u306A\u306F\u3099\u305F","\u305F\u306B\u3093","\u305F\u306C\u304D","\u305F\u306E\u3057\u307F","\u305F\u306F\u3064","\u305F\u3075\u3099\u3093","\u305F\u3078\u3099\u308B","\u305F\u307B\u3099\u3046","\u305F\u307E\u3053\u3099","\u305F\u307E\u308B","\u305F\u3099\u3080\u308B","\u305F\u3081\u3044\u304D","\u305F\u3081\u3059","\u305F\u3081\u308B","\u305F\u3082\u3064","\u305F\u3084\u3059\u3044","\u305F\u3088\u308B","\u305F\u3089\u3059","\u305F\u308A\u304D\u307B\u3093\u304B\u3099\u3093","\u305F\u308A\u3087\u3046","\u305F\u308A\u308B","\u305F\u308B\u3068","\u305F\u308C\u308B","\u305F\u308C\u3093\u3068","\u305F\u308D\u3063\u3068","\u305F\u308F\u3080\u308C\u308B","\u305F\u3099\u3093\u3042\u3064","\u305F\u3093\u3044","\u305F\u3093\u304A\u3093","\u305F\u3093\u304B","\u305F\u3093\u304D","\u305F\u3093\u3051\u3093","\u305F\u3093\u3053\u3099","\u305F\u3093\u3055\u3093","\u305F\u3093\u3057\u3099\u3087\u3046\u3072\u3099","\u305F\u3099\u3093\u305B\u3044","\u305F\u3093\u305D\u304F","\u305F\u3093\u305F\u3044","\u305F\u3099\u3093\u3061","\u305F\u3093\u3066\u3044","\u305F\u3093\u3068\u3046","\u305F\u3099\u3093\u306A","\u305F\u3093\u306B\u3093","\u305F\u3099\u3093\u306D\u3064","\u305F\u3093\u306E\u3046","\u305F\u3093\u3072\u309A\u3093","\u305F\u3099\u3093\u307B\u3099\u3046","\u305F\u3093\u307E\u3064","\u305F\u3093\u3081\u3044","\u305F\u3099\u3093\u308C\u3064","\u305F\u3099\u3093\u308D","\u305F\u3099\u3093\u308F","\u3061\u3042\u3044","\u3061\u3042\u3093","\u3061\u3044\u304D","\u3061\u3044\u3055\u3044","\u3061\u3048\u3093","\u3061\u304B\u3044","\u3061\u304B\u3089","\u3061\u304D\u3085\u3046","\u3061\u304D\u3093","\u3061\u3051\u3044\u3059\u3099","\u3061\u3051\u3093","\u3061\u3053\u304F","\u3061\u3055\u3044","\u3061\u3057\u304D","\u3061\u3057\u308A\u3087\u3046","\u3061\u305B\u3044","\u3061\u305D\u3046","\u3061\u305F\u3044","\u3061\u305F\u3093","\u3061\u3061\u304A\u3084","\u3061\u3064\u3057\u3099\u3087","\u3061\u3066\u304D","\u3061\u3066\u3093","\u3061\u306C\u304D","\u3061\u306C\u308A","\u3061\u306E\u3046","\u3061\u3072\u3087\u3046","\u3061\u3078\u3044\u305B\u3093","\u3061\u307B\u3046","\u3061\u307E\u305F","\u3061\u307F\u3064","\u3061\u307F\u3068\u3099\u308D","\u3061\u3081\u3044\u3068\u3099","\u3061\u3083\u3093\u3053\u306A\u3078\u3099","\u3061\u3085\u3046\u3044","\u3061\u3086\u308A\u3087\u304F","\u3061\u3087\u3046\u3057","\u3061\u3087\u3055\u304F\u3051\u3093","\u3061\u3089\u3057","\u3061\u3089\u307F","\u3061\u308A\u304B\u3099\u307F","\u3061\u308A\u3087\u3046","\u3061\u308B\u3068\u3099","\u3061\u308F\u308F","\u3061\u3093\u305F\u3044","\u3061\u3093\u3082\u304F","\u3064\u3044\u304B","\u3064\u3044\u305F\u3061","\u3064\u3046\u304B","\u3064\u3046\u3057\u3099\u3087\u3046","\u3064\u3046\u306F\u3093","\u3064\u3046\u308F","\u3064\u304B\u3046","\u3064\u304B\u308C\u308B","\u3064\u304F\u306D","\u3064\u304F\u308B","\u3064\u3051\u306D","\u3064\u3051\u308B","\u3064\u3053\u3099\u3046","\u3064\u305F\u3048\u308B","\u3064\u3064\u3099\u304F","\u3064\u3064\u3057\u3099","\u3064\u3064\u3080","\u3064\u3068\u3081\u308B","\u3064\u306A\u304B\u3099\u308B","\u3064\u306A\u307F","\u3064\u306D\u3064\u3099\u306D","\u3064\u306E\u308B","\u3064\u3075\u3099\u3059","\u3064\u307E\u3089\u306A\u3044","\u3064\u307E\u308B","\u3064\u307F\u304D","\u3064\u3081\u305F\u3044","\u3064\u3082\u308A","\u3064\u3082\u308B","\u3064\u3088\u3044","\u3064\u308B\u307B\u3099","\u3064\u308B\u307F\u304F","\u3064\u308F\u3082\u306E","\u3064\u308F\u308A","\u3066\u3042\u3057","\u3066\u3042\u3066","\u3066\u3042\u307F","\u3066\u3044\u304A\u3093","\u3066\u3044\u304B","\u3066\u3044\u304D","\u3066\u3044\u3051\u3044","\u3066\u3044\u3053\u304F","\u3066\u3044\u3055\u3064","\u3066\u3044\u3057","\u3066\u3044\u305B\u3044","\u3066\u3044\u305F\u3044","\u3066\u3044\u3068\u3099","\u3066\u3044\u306D\u3044","\u3066\u3044\u3072\u3087\u3046","\u3066\u3044\u3078\u3093","\u3066\u3044\u307B\u3099\u3046","\u3066\u3046\u3061","\u3066\u304A\u304F\u308C","\u3066\u304D\u3068\u3046","\u3066\u304F\u3072\u3099","\u3066\u3099\u3053\u307B\u3099\u3053","\u3066\u3055\u304D\u3099\u3087\u3046","\u3066\u3055\u3051\u3099","\u3066\u3059\u308A","\u3066\u305D\u3046","\u3066\u3061\u304B\u3099\u3044","\u3066\u3061\u3087\u3046","\u3066\u3064\u304B\u3099\u304F","\u3066\u3064\u3064\u3099\u304D","\u3066\u3099\u3063\u306F\u309A","\u3066\u3064\u307B\u3099\u3046","\u3066\u3064\u3084","\u3066\u3099\u306C\u304B\u3048","\u3066\u306C\u304D","\u3066\u306C\u304F\u3099\u3044","\u3066\u306E\u3072\u3089","\u3066\u306F\u3044","\u3066\u3075\u3099\u304F\u308D","\u3066\u3075\u305F\u3099","\u3066\u307B\u3068\u3099\u304D","\u3066\u307B\u3093","\u3066\u307E\u3048","\u3066\u307E\u304D\u3059\u3099\u3057","\u3066\u307F\u3057\u3099\u304B","\u3066\u307F\u3084\u3051\u3099","\u3066\u3089\u3059","\u3066\u308C\u3072\u3099","\u3066\u308F\u3051","\u3066\u308F\u305F\u3057","\u3066\u3099\u3093\u3042\u3064","\u3066\u3093\u3044\u3093","\u3066\u3093\u304B\u3044","\u3066\u3093\u304D","\u3066\u3093\u304F\u3099","\u3066\u3093\u3051\u3093","\u3066\u3093\u3053\u3099\u304F","\u3066\u3093\u3055\u3044","\u3066\u3093\u3057","\u3066\u3093\u3059\u3046","\u3066\u3099\u3093\u3061","\u3066\u3093\u3066\u304D","\u3066\u3093\u3068\u3046","\u3066\u3093\u306A\u3044","\u3066\u3093\u3075\u309A\u3089","\u3066\u3093\u307B\u3099\u3046\u305F\u3099\u3044","\u3066\u3093\u3081\u3064","\u3066\u3093\u3089\u3093\u304B\u3044","\u3066\u3099\u3093\u308A\u3087\u304F","\u3066\u3099\u3093\u308F","\u3068\u3099\u3042\u3044","\u3068\u3044\u308C","\u3068\u3099\u3046\u304B\u3093","\u3068\u3046\u304D\u3085\u3046","\u3068\u3099\u3046\u304F\u3099","\u3068\u3046\u3057","\u3068\u3046\u3080\u304D\u3099","\u3068\u304A\u3044","\u3068\u304A\u304B","\u3068\u304A\u304F","\u3068\u304A\u3059","\u3068\u304A\u308B","\u3068\u304B\u3044","\u3068\u304B\u3059","\u3068\u304D\u304A\u308A","\u3068\u304D\u3068\u3099\u304D","\u3068\u304F\u3044","\u3068\u304F\u3057\u3085\u3046","\u3068\u304F\u3066\u3093","\u3068\u304F\u306B","\u3068\u304F\u3078\u3099\u3064","\u3068\u3051\u3044","\u3068\u3051\u308B","\u3068\u3053\u3084","\u3068\u3055\u304B","\u3068\u3057\u3087\u304B\u3093","\u3068\u305D\u3046","\u3068\u305F\u3093","\u3068\u3061\u3085\u3046","\u3068\u3063\u304D\u3085\u3046","\u3068\u3063\u304F\u3093","\u3068\u3064\u305B\u3099\u3093","\u3068\u3064\u306B\u3085\u3046","\u3068\u3068\u3099\u3051\u308B","\u3068\u3068\u306E\u3048\u308B","\u3068\u306A\u3044","\u3068\u306A\u3048\u308B","\u3068\u306A\u308A","\u3068\u306E\u3055\u307E","\u3068\u306F\u3099\u3059","\u3068\u3099\u3075\u3099\u304B\u3099\u308F","\u3068\u307B\u3046","\u3068\u307E\u308B","\u3068\u3081\u308B","\u3068\u3082\u305F\u3099\u3061","\u3068\u3082\u308B","\u3068\u3099\u3088\u3046\u3072\u3099","\u3068\u3089\u3048\u308B","\u3068\u3093\u304B\u3064","\u3068\u3099\u3093\u3075\u3099\u308A","\u306A\u3044\u304B\u304F","\u306A\u3044\u3053\u3046","\u306A\u3044\u3057\u3087","\u306A\u3044\u3059","\u306A\u3044\u305B\u3093","\u306A\u3044\u305D\u3046","\u306A\u304A\u3059","\u306A\u304B\u3099\u3044","\u306A\u304F\u3059","\u306A\u3051\u3099\u308B","\u306A\u3053\u3046\u3068\u3099","\u306A\u3055\u3051","\u306A\u305F\u3066\u3099\u3053\u3053","\u306A\u3063\u3068\u3046","\u306A\u3064\u3084\u3059\u307F","\u306A\u306A\u304A\u3057","\u306A\u306B\u3053\u3099\u3068","\u306A\u306B\u3082\u306E","\u306A\u306B\u308F","\u306A\u306E\u304B","\u306A\u3075\u305F\u3099","\u306A\u307E\u3044\u304D","\u306A\u307E\u3048","\u306A\u307E\u307F","\u306A\u307F\u305F\u3099","\u306A\u3081\u3089\u304B","\u306A\u3081\u308B","\u306A\u3084\u3080","\u306A\u3089\u3046","\u306A\u3089\u3072\u3099","\u306A\u3089\u3075\u3099","\u306A\u308C\u308B","\u306A\u308F\u3068\u3072\u3099","\u306A\u308F\u306F\u3099\u308A","\u306B\u3042\u3046","\u306B\u3044\u304B\u3099\u305F","\u306B\u3046\u3051","\u306B\u304A\u3044","\u306B\u304B\u3044","\u306B\u304B\u3099\u3066","\u306B\u304D\u3072\u3099","\u306B\u304F\u3057\u307F","\u306B\u304F\u307E\u3093","\u306B\u3051\u3099\u308B","\u306B\u3055\u3093\u304B\u305F\u3093\u305D","\u306B\u3057\u304D","\u306B\u305B\u3082\u306E","\u306B\u3061\u3057\u3099\u3087\u3046","\u306B\u3061\u3088\u3046\u3072\u3099","\u306B\u3063\u304B","\u306B\u3063\u304D","\u306B\u3063\u3051\u3044","\u306B\u3063\u3053\u3046","\u306B\u3063\u3055\u3093","\u306B\u3063\u3057\u3087\u304F","\u306B\u3063\u3059\u3046","\u306B\u3063\u305B\u304D","\u306B\u3063\u3066\u3044","\u306B\u306A\u3046","\u306B\u307B\u3093","\u306B\u307E\u3081","\u306B\u3082\u3064","\u306B\u3084\u308A","\u306B\u3085\u3046\u3044\u3093","\u306B\u308A\u3093\u3057\u3083","\u306B\u308F\u3068\u308A","\u306B\u3093\u3044","\u306B\u3093\u304B","\u306B\u3093\u304D","\u306B\u3093\u3051\u3099\u3093","\u306B\u3093\u3057\u304D","\u306B\u3093\u3059\u3099\u3046","\u306B\u3093\u305D\u3046","\u306B\u3093\u305F\u3044","\u306B\u3093\u3061","\u306B\u3093\u3066\u3044","\u306B\u3093\u306B\u304F","\u306B\u3093\u3075\u309A","\u306B\u3093\u307E\u308A","\u306B\u3093\u3080","\u306B\u3093\u3081\u3044","\u306B\u3093\u3088\u3046","\u306C\u3044\u304F\u304D\u3099","\u306C\u304B\u3059","\u306C\u304F\u3099\u3044\u3068\u308B","\u306C\u304F\u3099\u3046","\u306C\u304F\u3082\u308A","\u306C\u3059\u3080","\u306C\u307E\u3048\u3072\u3099","\u306C\u3081\u308A","\u306C\u3089\u3059","\u306C\u3093\u3061\u3083\u304F","\u306D\u3042\u3051\u3099","\u306D\u3044\u304D","\u306D\u3044\u308B","\u306D\u3044\u308D","\u306D\u304F\u3099\u305B","\u306D\u304F\u305F\u3044","\u306D\u304F\u3089","\u306D\u3053\u305B\u3099","\u306D\u3053\u3080","\u306D\u3055\u3051\u3099","\u306D\u3059\u3053\u3099\u3059","\u306D\u305D\u3078\u3099\u308B","\u306D\u305F\u3099\u3093","\u306D\u3064\u3044","\u306D\u3063\u3057\u3093","\u306D\u3064\u305D\u3099\u3046","\u306D\u3063\u305F\u3044\u304D\u3099\u3087","\u306D\u3075\u3099\u305D\u304F","\u306D\u3075\u305F\u3099","\u306D\u307B\u3099\u3046","\u306D\u307B\u308A\u306F\u307B\u308A","\u306D\u307E\u304D","\u306D\u307E\u308F\u3057","\u306D\u307F\u307F","\u306D\u3080\u3044","\u306D\u3080\u305F\u3044","\u306D\u3082\u3068","\u306D\u3089\u3046","\u306D\u308F\u3055\u3099","\u306D\u3093\u3044\u308A","\u306D\u3093\u304A\u3057","\u306D\u3093\u304B\u3093","\u306D\u3093\u304D\u3093","\u306D\u3093\u304F\u3099","\u306D\u3093\u3055\u3099","\u306D\u3093\u3057","\u306D\u3093\u3061\u3083\u304F","\u306D\u3093\u3068\u3099","\u306D\u3093\u3072\u309A","\u306D\u3093\u3075\u3099\u3064","\u306D\u3093\u307E\u3064","\u306D\u3093\u308A\u3087\u3046","\u306D\u3093\u308C\u3044","\u306E\u3044\u3059\u3099","\u306E\u304A\u3064\u3099\u307E","\u306E\u304B\u3099\u3059","\u306E\u304D\u306A\u307F","\u306E\u3053\u304D\u3099\u308A","\u306E\u3053\u3059","\u306E\u3053\u308B","\u306E\u305B\u308B","\u306E\u305D\u3099\u304F","\u306E\u305D\u3099\u3080","\u306E\u305F\u307E\u3046","\u306E\u3061\u307B\u3068\u3099","\u306E\u3063\u304F","\u306E\u306F\u3099\u3059","\u306E\u306F\u3089","\u306E\u3078\u3099\u308B","\u306E\u307B\u3099\u308B","\u306E\u307F\u3082\u306E","\u306E\u3084\u307E","\u306E\u3089\u3044\u306C","\u306E\u3089\u306D\u3053","\u306E\u308A\u3082\u306E","\u306E\u308A\u3086\u304D","\u306E\u308C\u3093","\u306E\u3093\u304D","\u306F\u3099\u3042\u3044","\u306F\u3042\u304F","\u306F\u3099\u3042\u3055\u3093","\u306F\u3099\u3044\u304B","\u306F\u3099\u3044\u304F","\u306F\u3044\u3051\u3093","\u306F\u3044\u3053\u3099","\u306F\u3044\u3057\u3093","\u306F\u3044\u3059\u3044","\u306F\u3044\u305B\u3093","\u306F\u3044\u305D\u3046","\u306F\u3044\u3061","\u306F\u3099\u3044\u306F\u3099\u3044","\u306F\u3044\u308C\u3064","\u306F\u3048\u308B","\u306F\u304A\u308B","\u306F\u304B\u3044","\u306F\u3099\u304B\u308A","\u306F\u304B\u308B","\u306F\u304F\u3057\u3085","\u306F\u3051\u3093","\u306F\u3053\u3075\u3099","\u306F\u3055\u307F","\u306F\u3055\u3093","\u306F\u3057\u3053\u3099","\u306F\u3099\u3057\u3087","\u306F\u3057\u308B","\u306F\u305B\u308B","\u306F\u309A\u305D\u3053\u3093","\u306F\u305D\u3093","\u306F\u305F\u3093","\u306F\u3061\u307F\u3064","\u306F\u3064\u304A\u3093","\u306F\u3063\u304B\u304F","\u306F\u3064\u3099\u304D","\u306F\u3063\u304D\u308A","\u306F\u3063\u304F\u3064","\u306F\u3063\u3051\u3093","\u306F\u3063\u3053\u3046","\u306F\u3063\u3055\u3093","\u306F\u3063\u3057\u3093","\u306F\u3063\u305F\u3064","\u306F\u3063\u3061\u3085\u3046","\u306F\u3063\u3066\u3093","\u306F\u3063\u3072\u309A\u3087\u3046","\u306F\u3063\u307B\u309A\u3046","\u306F\u306A\u3059","\u306F\u306A\u3072\u3099","\u306F\u306B\u304B\u3080","\u306F\u3075\u3099\u3089\u3057","\u306F\u307F\u304B\u3099\u304D","\u306F\u3080\u304B\u3046","\u306F\u3081\u3064","\u306F\u3084\u3044","\u306F\u3084\u3057","\u306F\u3089\u3046","\u306F\u308D\u3046\u3043\u3093","\u306F\u308F\u3044","\u306F\u3093\u3044","\u306F\u3093\u3048\u3044","\u306F\u3093\u304A\u3093","\u306F\u3093\u304B\u304F","\u306F\u3093\u304D\u3087\u3046","\u306F\u3099\u3093\u304F\u3099\u307F","\u306F\u3093\u3053","\u306F\u3093\u3057\u3083","\u306F\u3093\u3059\u3046","\u306F\u3093\u305F\u3099\u3093","\u306F\u309A\u3093\u3061","\u306F\u309A\u3093\u3064","\u306F\u3093\u3066\u3044","\u306F\u3093\u3068\u3057","\u306F\u3093\u306E\u3046","\u306F\u3093\u306F\u309A","\u306F\u3093\u3075\u3099\u3093","\u306F\u3093\u3078\u309A\u3093","\u306F\u3093\u307B\u3099\u3046\u304D","\u306F\u3093\u3081\u3044","\u306F\u3093\u3089\u3093","\u306F\u3093\u308D\u3093","\u3072\u3044\u304D","\u3072\u3046\u3093","\u3072\u3048\u308B","\u3072\u304B\u304F","\u3072\u304B\u308A","\u3072\u304B\u308B","\u3072\u304B\u3093","\u3072\u304F\u3044","\u3072\u3051\u3064","\u3072\u3053\u3046\u304D","\u3072\u3053\u304F","\u3072\u3055\u3044","\u3072\u3055\u3057\u3075\u3099\u308A","\u3072\u3055\u3093","\u3072\u3099\u3057\u3099\u3085\u3064\u304B\u3093","\u3072\u3057\u3087","\u3072\u305D\u304B","\u3072\u305D\u3080","\u3072\u305F\u3080\u304D","\u3072\u305F\u3099\u308A","\u3072\u305F\u308B","\u3072\u3064\u304D\u3099","\u3072\u3063\u3053\u3057","\u3072\u3063\u3057","\u3072\u3064\u3057\u3099\u3085\u3072\u3093","\u3072\u3063\u3059","\u3072\u3064\u305B\u3099\u3093","\u3072\u309A\u3063\u305F\u308A","\u3072\u309A\u3063\u3061\u308A","\u3072\u3064\u3088\u3046","\u3072\u3066\u3044","\u3072\u3068\u3053\u3099\u307F","\u3072\u306A\u307E\u3064\u308A","\u3072\u306A\u3093","\u3072\u306D\u308B","\u3072\u306F\u3093","\u3072\u3072\u3099\u304F","\u3072\u3072\u3087\u3046","\u3072\u307B\u3046","\u3072\u307E\u308F\u308A","\u3072\u307E\u3093","\u3072\u307F\u3064","\u3072\u3081\u3044","\u3072\u3081\u3057\u3099\u3057","\u3072\u3084\u3051","\u3072\u3084\u3059","\u3072\u3088\u3046","\u3072\u3099\u3087\u3046\u304D","\u3072\u3089\u304B\u3099\u306A","\u3072\u3089\u304F","\u3072\u308A\u3064","\u3072\u308A\u3087\u3046","\u3072\u308B\u307E","\u3072\u308B\u3084\u3059\u307F","\u3072\u308C\u3044","\u3072\u308D\u3044","\u3072\u308D\u3046","\u3072\u308D\u304D","\u3072\u308D\u3086\u304D","\u3072\u3093\u304B\u304F","\u3072\u3093\u3051\u3064","\u3072\u3093\u3053\u3093","\u3072\u3093\u3057\u3085","\u3072\u3093\u305D\u3046","\u3072\u309A\u3093\u3061","\u3072\u3093\u306F\u309A\u3093","\u3072\u3099\u3093\u307B\u3099\u3046","\u3075\u3042\u3093","\u3075\u3044\u3046\u3061","\u3075\u3046\u3051\u3044","\u3075\u3046\u305B\u3093","\u3075\u309A\u3046\u305F\u308D\u3046","\u3075\u3046\u3068\u3046","\u3075\u3046\u3075","\u3075\u3048\u308B","\u3075\u304A\u3093","\u3075\u304B\u3044","\u3075\u304D\u3093","\u3075\u304F\u3055\u3099\u3064","\u3075\u304F\u3075\u3099\u304F\u308D","\u3075\u3053\u3046","\u3075\u3055\u3044","\u3075\u3057\u304D\u3099","\u3075\u3057\u3099\u307F","\u3075\u3059\u307E","\u3075\u305B\u3044","\u3075\u305B\u304F\u3099","\u3075\u305D\u304F","\u3075\u3099\u305F\u306B\u304F","\u3075\u305F\u3093","\u3075\u3061\u3087\u3046","\u3075\u3064\u3046","\u3075\u3064\u304B","\u3075\u3063\u304B\u3064","\u3075\u3063\u304D","\u3075\u3063\u3053\u304F","\u3075\u3099\u3068\u3099\u3046","\u3075\u3068\u308B","\u3075\u3068\u3093","\u3075\u306E\u3046","\u3075\u306F\u3044","\u3075\u3072\u3087\u3046","\u3075\u3078\u3093","\u3075\u307E\u3093","\u3075\u307F\u3093","\u3075\u3081\u3064","\u3075\u3081\u3093","\u3075\u3088\u3046","\u3075\u308A\u3053","\u3075\u308A\u308B","\u3075\u308B\u3044","\u3075\u3093\u3044\u304D","\u3075\u3099\u3093\u304B\u3099\u304F","\u3075\u3099\u3093\u304F\u3099","\u3075\u3093\u3057\u3064","\u3075\u3099\u3093\u305B\u304D","\u3075\u3093\u305D\u3046","\u3075\u3099\u3093\u307B\u309A\u3046","\u3078\u3044\u3042\u3093","\u3078\u3044\u304A\u3093","\u3078\u3044\u304B\u3099\u3044","\u3078\u3044\u304D","\u3078\u3044\u3051\u3099\u3093","\u3078\u3044\u3053\u3046","\u3078\u3044\u3055","\u3078\u3044\u3057\u3083","\u3078\u3044\u305B\u3064","\u3078\u3044\u305D","\u3078\u3044\u305F\u304F","\u3078\u3044\u3066\u3093","\u3078\u3044\u306D\u3064","\u3078\u3044\u308F","\u3078\u304D\u304B\u3099","\u3078\u3053\u3080","\u3078\u3099\u306B\u3044\u308D","\u3078\u3099\u306B\u3057\u3087\u3046\u304B\u3099","\u3078\u3089\u3059","\u3078\u3093\u304B\u3093","\u3078\u3099\u3093\u304D\u3087\u3046","\u3078\u3099\u3093\u3053\u3099\u3057","\u3078\u3093\u3055\u3044","\u3078\u3093\u305F\u3044","\u3078\u3099\u3093\u308A","\u307B\u3042\u3093","\u307B\u3044\u304F","\u307B\u3099\u3046\u304D\u3099\u3087","\u307B\u3046\u3053\u304F","\u307B\u3046\u305D\u3046","\u307B\u3046\u307B\u3046","\u307B\u3046\u3082\u3093","\u307B\u3046\u308A\u3064","\u307B\u3048\u308B","\u307B\u304A\u3093","\u307B\u304B\u3093","\u307B\u304D\u3087\u3046","\u307B\u3099\u304D\u3093","\u307B\u304F\u308D","\u307B\u3051\u3064","\u307B\u3051\u3093","\u307B\u3053\u3046","\u307B\u3053\u308B","\u307B\u3057\u3044","\u307B\u3057\u3064","\u307B\u3057\u3085","\u307B\u3057\u3087\u3046","\u307B\u305B\u3044","\u307B\u305D\u3044","\u307B\u305D\u304F","\u307B\u305F\u3066","\u307B\u305F\u308B","\u307B\u309A\u3061\u3075\u3099\u304F\u308D","\u307B\u3063\u304D\u3087\u304F","\u307B\u3063\u3055","\u307B\u3063\u305F\u3093","\u307B\u3068\u3093\u3068\u3099","\u307B\u3081\u308B","\u307B\u3093\u3044","\u307B\u3093\u304D","\u307B\u3093\u3051","\u307B\u3093\u3057\u3064","\u307B\u3093\u3084\u304F","\u307E\u3044\u306B\u3061","\u307E\u304B\u3044","\u307E\u304B\u305B\u308B","\u307E\u304B\u3099\u308B","\u307E\u3051\u308B","\u307E\u3053\u3068","\u307E\u3055\u3064","\u307E\u3057\u3099\u3081","\u307E\u3059\u304F","\u307E\u305B\u3099\u308B","\u307E\u3064\u308A","\u307E\u3068\u3081","\u307E\u306A\u3075\u3099","\u307E\u306C\u3051","\u307E\u306D\u304F","\u307E\u307B\u3046","\u307E\u3082\u308B","\u307E\u3086\u3051\u3099","\u307E\u3088\u3046","\u307E\u308D\u3084\u304B","\u307E\u308F\u3059","\u307E\u308F\u308A","\u307E\u308F\u308B","\u307E\u3093\u304B\u3099","\u307E\u3093\u304D\u3064","\u307E\u3093\u305D\u3099\u304F","\u307E\u3093\u306A\u304B","\u307F\u3044\u3089","\u307F\u3046\u3061","\u307F\u3048\u308B","\u307F\u304B\u3099\u304F","\u307F\u304B\u305F","\u307F\u304B\u3093","\u307F\u3051\u3093","\u307F\u3053\u3093","\u307F\u3057\u3099\u304B\u3044","\u307F\u3059\u3044","\u307F\u3059\u3048\u308B","\u307F\u305B\u308B","\u307F\u3063\u304B","\u307F\u3064\u304B\u308B","\u307F\u3064\u3051\u308B","\u307F\u3066\u3044","\u307F\u3068\u3081\u308B","\u307F\u306A\u3068","\u307F\u306A\u307F\u304B\u3055\u3044","\u307F\u306D\u3089\u308B","\u307F\u306E\u3046","\u307F\u306E\u304B\u3099\u3059","\u307F\u307B\u3093","\u307F\u3082\u3068","\u307F\u3084\u3051\u3099","\u307F\u3089\u3044","\u307F\u308A\u3087\u304F","\u307F\u308F\u304F","\u307F\u3093\u304B","\u307F\u3093\u305D\u3099\u304F","\u3080\u3044\u304B","\u3080\u3048\u304D","\u3080\u3048\u3093","\u3080\u304B\u3044","\u3080\u304B\u3046","\u3080\u304B\u3048","\u3080\u304B\u3057","\u3080\u304D\u3099\u3061\u3083","\u3080\u3051\u308B","\u3080\u3051\u3099\u3093","\u3080\u3055\u307B\u3099\u308B","\u3080\u3057\u3042\u3064\u3044","\u3080\u3057\u306F\u3099","\u3080\u3057\u3099\u3085\u3093","\u3080\u3057\u308D","\u3080\u3059\u3046","\u3080\u3059\u3053","\u3080\u3059\u3075\u3099","\u3080\u3059\u3081","\u3080\u305B\u308B","\u3080\u305B\u3093","\u3080\u3061\u3085\u3046","\u3080\u306A\u3057\u3044","\u3080\u306E\u3046","\u3080\u3084\u307F","\u3080\u3088\u3046","\u3080\u3089\u3055\u304D","\u3080\u308A\u3087\u3046","\u3080\u308D\u3093","\u3081\u3044\u3042\u3093","\u3081\u3044\u3046\u3093","\u3081\u3044\u3048\u3093","\u3081\u3044\u304B\u304F","\u3081\u3044\u304D\u3087\u304F","\u3081\u3044\u3055\u3044","\u3081\u3044\u3057","\u3081\u3044\u305D\u3046","\u3081\u3044\u3075\u3099\u3064","\u3081\u3044\u308C\u3044","\u3081\u3044\u308F\u304F","\u3081\u304F\u3099\u307E\u308C\u308B","\u3081\u3055\u3099\u3059","\u3081\u3057\u305F","\u3081\u3059\u3099\u3089\u3057\u3044","\u3081\u305F\u3099\u3064","\u3081\u307E\u3044","\u3081\u3084\u3059","\u3081\u3093\u304D\u3087","\u3081\u3093\u305B\u304D","\u3081\u3093\u3068\u3099\u3046","\u3082\u3046\u3057\u3042\u3051\u3099\u308B","\u3082\u3046\u3068\u3099\u3046\u3051\u3093","\u3082\u3048\u308B","\u3082\u304F\u3057","\u3082\u304F\u3066\u304D","\u3082\u304F\u3088\u3046\u3072\u3099","\u3082\u3061\u308D\u3093","\u3082\u3068\u3099\u308B","\u3082\u3089\u3046","\u3082\u3093\u304F","\u3082\u3093\u305F\u3099\u3044","\u3084\u304A\u3084","\u3084\u3051\u308B","\u3084\u3055\u3044","\u3084\u3055\u3057\u3044","\u3084\u3059\u3044","\u3084\u3059\u305F\u308D\u3046","\u3084\u3059\u307F","\u3084\u305B\u308B","\u3084\u305D\u3046","\u3084\u305F\u3044","\u3084\u3061\u3093","\u3084\u3063\u3068","\u3084\u3063\u306F\u309A\u308A","\u3084\u3075\u3099\u308B","\u3084\u3081\u308B","\u3084\u3084\u3053\u3057\u3044","\u3084\u3088\u3044","\u3084\u308F\u3089\u304B\u3044","\u3086\u3046\u304D","\u3086\u3046\u3072\u3099\u3093\u304D\u3087\u304F","\u3086\u3046\u3078\u3099","\u3086\u3046\u3081\u3044","\u3086\u3051\u3064","\u3086\u3057\u3085\u3064","\u3086\u305B\u3093","\u3086\u305D\u3046","\u3086\u305F\u304B","\u3086\u3061\u3083\u304F","\u3086\u3066\u3099\u308B","\u3086\u306B\u3085\u3046","\u3086\u3072\u3099\u308F","\u3086\u3089\u3044","\u3086\u308C\u308B","\u3088\u3046\u3044","\u3088\u3046\u304B","\u3088\u3046\u304D\u3085\u3046","\u3088\u3046\u3057\u3099","\u3088\u3046\u3059","\u3088\u3046\u3061\u3048\u3093","\u3088\u304B\u305B\u3099","\u3088\u304B\u3093","\u3088\u304D\u3093","\u3088\u304F\u305B\u3044","\u3088\u304F\u307B\u3099\u3046","\u3088\u3051\u3044","\u3088\u3053\u3099\u308C\u308B","\u3088\u3055\u3093","\u3088\u3057\u3085\u3046","\u3088\u305D\u3046","\u3088\u305D\u304F","\u3088\u3063\u304B","\u3088\u3066\u3044","\u3088\u3068\u3099\u304B\u3099\u308F\u304F","\u3088\u306D\u3064","\u3088\u3084\u304F","\u3088\u3086\u3046","\u3088\u308D\u3053\u3075\u3099","\u3088\u308D\u3057\u3044","\u3089\u3044\u3046","\u3089\u304F\u304B\u3099\u304D","\u3089\u304F\u3053\u3099","\u3089\u304F\u3055\u3064","\u3089\u304F\u305F\u3099","\u3089\u3057\u3093\u306F\u3099\u3093","\u3089\u305B\u3093","\u3089\u305D\u3099\u304F","\u3089\u305F\u3044","\u3089\u3063\u304B","\u3089\u308C\u3064","\u308A\u3048\u304D","\u308A\u304B\u3044","\u308A\u304D\u3055\u304F","\u308A\u304D\u305B\u3064","\u308A\u304F\u304F\u3099\u3093","\u308A\u304F\u3064","\u308A\u3051\u3093","\u308A\u3053\u3046","\u308A\u305B\u3044","\u308A\u305D\u3046","\u308A\u305D\u304F","\u308A\u3066\u3093","\u308A\u306D\u3093","\u308A\u3086\u3046","\u308A\u3085\u3046\u304B\u3099\u304F","\u308A\u3088\u3046","\u308A\u3087\u3046\u308A","\u308A\u3087\u304B\u3093","\u308A\u3087\u304F\u3061\u3083","\u308A\u3087\u3053\u3046","\u308A\u308A\u304F","\u308A\u308C\u304D","\u308A\u308D\u3093","\u308A\u3093\u3053\u3099","\u308B\u3044\u3051\u3044","\u308B\u3044\u3055\u3044","\u308B\u3044\u3057\u3099","\u308B\u3044\u305B\u304D","\u308B\u3059\u306F\u3099\u3093","\u308B\u308A\u304B\u3099\u308F\u3089","\u308C\u3044\u304B\u3093","\u308C\u3044\u304D\u3099","\u308C\u3044\u305B\u3044","\u308C\u3044\u305D\u3099\u3046\u3053","\u308C\u3044\u3068\u3046","\u308C\u3044\u307B\u3099\u3046","\u308C\u304D\u3057","\u308C\u304D\u305F\u3099\u3044","\u308C\u3093\u3042\u3044","\u308C\u3093\u3051\u3044","\u308C\u3093\u3053\u3093","\u308C\u3093\u3055\u3044","\u308C\u3093\u3057\u3085\u3046","\u308C\u3093\u305D\u3099\u304F","\u308C\u3093\u3089\u304F","\u308D\u3046\u304B","\u308D\u3046\u3053\u3099","\u308D\u3046\u3057\u3099\u3093","\u308D\u3046\u305D\u304F","\u308D\u304F\u304B\u3099","\u308D\u3053\u3064","\u308D\u3057\u3099\u3046\u3089","\u308D\u3057\u3085\u3064","\u308D\u305B\u3093","\u308D\u3066\u3093","\u308D\u3081\u3093","\u308D\u308C\u3064","\u308D\u3093\u304D\u3099","\u308D\u3093\u306F\u309A","\u308D\u3093\u3075\u3099\u3093","\u308D\u3093\u308A","\u308F\u304B\u3059","\u308F\u304B\u3081","\u308F\u304B\u3084\u307E","\u308F\u304B\u308C\u308B","\u308F\u3057\u3064","\u308F\u3057\u3099\u307E\u3057","\u308F\u3059\u308C\u3082\u306E","\u308F\u3089\u3046","\u308F\u308C\u308B"];t.exports=r});Qe("8YfVJ",function(t,e){"use strict";var r=["a\u0301baco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accio\u0301n","aceite","acelga","acento","aceptar","a\u0301cido","aclarar","acne\u0301","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","ae\u0301reo","afectar","aficio\u0301n","afinar","afirmar","a\u0301gil","agitar","agoni\u0301a","agosto","agotar","agregar","agrio","agua","agudo","a\u0301guila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacra\u0301n","alambre","alarma","alba","a\u0301lbum","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodo\u0301n","aliado","aliento","alivio","alma","almeja","almi\u0301bar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","a\u0301mbar","a\u0301mbito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","ande\u0301n","anemia","a\u0301ngulo","anillo","a\u0301nimo","ani\u0301s","anotar","antena","antiguo","antojo","anual","anular","anuncio","an\u0303adir","an\u0303ejo","an\u0303o","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","aran\u0303a","arar","a\u0301rbitro","a\u0301rbol","arbusto","archivo","arco","arder","ardilla","arduo","a\u0301rea","a\u0301rido","aries","armoni\u0301a","arne\u0301s","aroma","arpa","arpo\u0301n","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","a\u0301spero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","a\u0301tico","atleta","a\u0301tomo","atraer","atroz","atu\u0301n","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avio\u0301n","aviso","ayer","ayuda","ayuno","azafra\u0301n","azar","azote","azu\u0301car","azufre","azul","baba","babor","bache","bahi\u0301a","baile","bajar","balanza","balco\u0301n","balde","bambu\u0301","banco","banda","ban\u0303o","barba","barco","barniz","barro","ba\u0301scula","basto\u0301n","basura","batalla","bateri\u0301a","batir","batuta","bau\u0301l","bazar","bebe\u0301","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsa\u0301i","borde","borrar","bosque","bote","boti\u0301n","bo\u0301veda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufo\u0301n","bu\u0301ho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzo\u0301n","caballo","cabeza","cabina","cabra","cacao","cada\u0301ver","cadena","caer","cafe\u0301","cai\u0301da","caima\u0301n","caja","cajo\u0301n","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","ca\u0301ncer","candil","canela","canguro","canica","canto","can\u0303a","can\u0303o\u0301n","caoba","caos","capaz","capita\u0301n","capote","captar","capucha","cara","carbo\u0301n","ca\u0301rcel","careta","carga","carin\u0303o","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","ce\u0301lebre","celoso","ce\u0301lula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","ce\u0301sped","cetro","chacal","chaleco","champu\u0301","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclo\u0301n","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipre\u0301s","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","cli\u0301nica","cobre","coccio\u0301n","cochino","cocina","coco","co\u0301digo","codo","cofre","coger","cohete","coji\u0301n","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","co\u0301modo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazo\u0301n","corbata","corcho","cordo\u0301n","corona","correr","coser","cosmos","costa","cra\u0301neo","cra\u0301ter","crear","crecer","crei\u0301do","crema","cri\u0301a","crimen","cripta","crisis","cromo","cro\u0301nica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupo\u0301n","cu\u0301pula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","da\u0301til","deber","de\u0301bil","de\u0301cada","decir","dedo","defensa","definir","dejar","delfi\u0301n","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvi\u0301o","detalle","detener","deuda","di\u0301a","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","difi\u0301cil","digno","dilema","diluir","dinero","directo","dirigir","disco","disen\u0303o","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","drago\u0301n","droga","ducha","duda","duelo","duen\u0303o","dulce","du\u0301o","duque","durar","dureza","duro","e\u0301bano","ebrio","echar","eco","ecuador","edad","edicio\u0301n","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","e\u0301lite","elixir","elogio","eludir","embudo","emitir","emocio\u0301n","empate","empen\u0303o","empleo","empresa","enano","encargo","enchufe","enci\u0301a","enemigo","enero","enfado","enfermo","engan\u0303o","enigma","enlace","enorme","enredo","ensayo","ensen\u0303ar","entero","entrar","envase","envi\u0301o","e\u0301poca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espi\u0301a","esposa","espuma","esqui\u0301","estar","este","estilo","estufa","etapa","eterno","e\u0301tica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","e\u0301xito","experto","explicar","exponer","extremo","fa\u0301brica","fa\u0301bula","fachada","fa\u0301cil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","farao\u0301n","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fe\u0301rtil","fervor","festi\u0301n","fiable","fianza","fiar","fibra","ficcio\u0301n","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","flu\u0301or","fobia","foca","fogata","fogo\u0301n","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fra\u0301gil","franja","frase","fraude","frei\u0301r","freno","fresa","fri\u0301o","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcio\u0301n","funda","furgo\u0301n","furia","fusil","fu\u0301tbol","futuro","gacela","gafas","gaita","gajo","gala","galeri\u0301a","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavila\u0301n","gemelo","gemir","gen","ge\u0301nero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","gra\u0301fico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","gru\u0301a","grueso","grumo","grupo","guante","guapo","guardia","guerra","gui\u0301a","guin\u0303o","guion","guiso","guitarra","gusano","gustar","haber","ha\u0301bil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazan\u0303a","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","he\u0301roe","hervir","hielo","hierro","hi\u0301gado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","hu\u0301medo","humilde","humo","hundir","huraca\u0301n","hurto","icono","ideal","idioma","i\u0301dolo","iglesia","iglu\u0301","igual","ilegal","ilusio\u0301n","imagen","ima\u0301n","imitar","impar","imperio","imponer","impulso","incapaz","i\u0301ndice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","intere\u0301s","i\u0301ntimo","intuir","inu\u0301til","invierno","ira","iris","ironi\u0301a","isla","islote","jabali\u0301","jabo\u0301n","jamo\u0301n","jarabe","jardi\u0301n","jarra","jaula","jazmi\u0301n","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","ju\u0301piter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladro\u0301n","lagarto","la\u0301grima","laguna","laico","lamer","la\u0301mina","la\u0301mpara","lana","lancha","langosta","lanza","la\u0301piz","largo","larva","la\u0301stima","lata","la\u0301tex","latir","laurel","lavar","lazo","leal","leccio\u0301n","leche","lector","leer","legio\u0301n","legumbre","lejano","lengua","lento","len\u0303a","leo\u0301n","leopardo","lesio\u0301n","letal","letra","leve","leyenda","libertad","libro","licor","li\u0301der","lidiar","lienzo","liga","ligero","lima","li\u0301mite","limo\u0301n","limpio","lince","lindo","li\u0301nea","lingote","lino","linterna","li\u0301quido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locio\u0301n","loco","locura","lo\u0301gica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","mai\u0301z","maldad","maleta","malla","malo","mama\u0301","mambo","mamut","manco","mando","manejar","manga","maniqui\u0301","manjar","mano","manso","manta","man\u0303ana","mapa","ma\u0301quina","mar","marco","marea","marfil","margen","marido","ma\u0301rmol","marro\u0301n","martes","marzo","masa","ma\u0301scara","masivo","matar","materia","matiz","matriz","ma\u0301ximo","mayor","mazorca","mecha","medalla","medio","me\u0301dula","mejilla","mejor","melena","melo\u0301n","memoria","menor","mensaje","mente","menu\u0301","mercado","merengue","me\u0301rito","mes","meso\u0301n","meta","meter","me\u0301todo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millo\u0301n","mimo","mina","minero","mi\u0301nimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocio\u0301n","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mon\u0303o","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","mo\u0301vil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","mun\u0303eca","mural","muro","mu\u0301sculo","museo","musgo","mu\u0301sica","muslo","na\u0301car","nacio\u0301n","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","na\u0301usea","naval","nave","navidad","necio","ne\u0301ctar","negar","negocio","negro","neo\u0301n","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","nin\u0303ez","nin\u0303o","ni\u0301tido","nivel","nobleza","noche","no\u0301mina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nu\u0301cleo","nudillo","nudo","nuera","nueve","nuez","nulo","nu\u0301mero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oce\u0301ano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oi\u0301do","oi\u0301r","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcio\u0301n","o\u0301pera","opinar","oponer","optar","o\u0301ptica","opuesto","oracio\u0301n","orador","oral","o\u0301rbita","orca","orden","oreja","o\u0301rgano","orgi\u0301a","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadi\u0301a","oscuro","osezno","oso","ostra","oton\u0303o","otro","oveja","o\u0301vulo","o\u0301xido","oxi\u0301geno","oyente","ozono","pacto","padre","paella","pa\u0301gina","pago","pai\u0301s","pa\u0301jaro","palabra","palco","paleta","pa\u0301lido","palma","paloma","palpar","pan","panal","pa\u0301nico","pantera","pan\u0303uelo","papa\u0301","papel","papilla","paquete","parar","parcela","pared","parir","paro","pa\u0301rpado","parque","pa\u0301rrafo","parte","pasar","paseo","pasio\u0301n","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peato\u0301n","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldan\u0303o","pelea","peligro","pellejo","pelo","peluca","pena","pensar","pen\u0303o\u0301n","peo\u0301n","peor","pepino","pequen\u0303o","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pe\u0301simo","pestan\u0303a","pe\u0301talo","petro\u0301leo","pez","pezun\u0303a","picar","picho\u0301n","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pin\u0303a","piojo","pipa","pirata","pisar","piscina","piso","pista","pito\u0301n","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesi\u0301a","poeta","polen","polici\u0301a","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcio\u0301n","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","pri\u0301ncipe","prisio\u0301n","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","pro\u0301ximo","prueba","pu\u0301blico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmo\u0301n","pulpo","pulso","puma","punto","pun\u0303al","pun\u0303o","pupa","pupila","pure\u0301","quedar","queja","quemar","querer","queso","quieto","qui\u0301mica","quince","quitar","ra\u0301bano","rabia","rabo","racio\u0301n","radical","rai\u0301z","rama","rampa","rancho","rango","rapaz","ra\u0301pido","rapto","rasgo","raspa","rato","rayo","raza","razo\u0301n","reaccio\u0301n","realidad","reban\u0303o","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refra\u0301n","refugio","regalo","regir","regla","regreso","rehe\u0301n","reino","rei\u0301r","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reve\u0301s","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","ri\u0301gido","rigor","rinco\u0301n","rin\u0303o\u0301n","ri\u0301o","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi\u0301","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sa\u0301bado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmo\u0301n","salo\u0301n","salsa","salto","salud","salvar","samba","sancio\u0301n","sandi\u0301a","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarte\u0301n","sastre","sata\u0301n","sauna","saxofo\u0301n","seccio\u0301n","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","sen\u0303al","sen\u0303or","separar","sepia","sequi\u0301a","ser","serie","sermo\u0301n","servir","sesenta","sesio\u0301n","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","si\u0301laba","silbar","silencio","silla","si\u0301mbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","so\u0301lido","soltar","solucio\u0301n","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","soste\u0301n","so\u0301tano","suave","subir","suceso","sudor","suegra","suelo","suen\u0303o","suerte","sufrir","sujeto","sulta\u0301n","sumar","superar","suplir","suponer","supremo","sur","surco","suren\u0303o","surgir","susto","sutil","tabaco","tabique","tabla","tabu\u0301","taco","tacto","tajo","talar","talco","talento","talla","talo\u0301n","taman\u0303o","tambor","tango","tanque","tapa","tapete","tapia","tapo\u0301n","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazo\u0301n","teatro","techo","tecla","te\u0301cnica","tejado","tejer","tejido","tela","tele\u0301fono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teori\u0301a","terapia","terco","te\u0301rmino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburo\u0301n","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","ti\u0301mido","timo","tinta","ti\u0301o","ti\u0301pico","tipo","tira","tiro\u0301n","tita\u0301n","ti\u0301tere","ti\u0301tulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","to\u0301rax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","to\u0301xico","trabajo","tractor","traer","tra\u0301fico","trago","traje","tramo","trance","trato","trauma","trazar","tre\u0301bol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberi\u0301a","tubo","tuerto","tumba","tumor","tu\u0301nel","tu\u0301nica","turbina","turismo","turno","tutor","ubicar","u\u0301lcera","umbral","unidad","unir","universo","uno","untar","un\u0303a","urbano","urbe","urgente","urna","usar","usuario","u\u0301til","utopi\u0301a","uva","vaca","vaci\u0301o","vacuna","vagar","vago","vaina","vajilla","vale","va\u0301lido","valle","valor","va\u0301lvula","vampiro","vara","variar","varo\u0301n","vaso","vecino","vector","vehi\u0301culo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","vi\u0301a","viaje","vibrar","vicio","vi\u0301ctima","vida","vi\u0301deo","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vin\u0303edo","violi\u0301n","viral","virgo","virtud","visor","vi\u0301spera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volca\u0301n","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"];t.exports=r});var V8e=Ar.Buffer,dr={};dr.version="v"+re("1Q9VF").version;dr.versionGuard=function(t){if(t!==void 0){var e=`
      More than one instance of scrypt bsv found. other version: ${t}
      Please make sure to require bsv and check that submodules do
      not also include their own bsv dependency.`;console.warn(e)}};dr.versionGuard(jv._scrypt_bsv);jv._scrypt_bsv=dr.version;dr.crypto={};dr.crypto.BN=re("dIoYd");dr.crypto.ECDSA=re("kmMTb");dr.crypto.Hash=re("bTTXN");dr.crypto.Random=re("7X5Fe");dr.crypto.Point=re("f0gTO");dr.crypto.Signature=re("gIXub");dr.encoding={};dr.encoding.Base58=re("jG967");dr.encoding.Base58Check=re("j7ODq");dr.encoding.BufferReader=re("28ku8");dr.encoding.BufferWriter=re("2AZ1V");dr.encoding.Varint=re("1zMJW");dr.util={};dr.util.js=re("gk75r");dr.util.preconditions=re("6gAsx");dr.errors=re("kooOK");dr.Address=re("iSUUt");dr.Block=re("19NsJ");dr.MerkleBlock=re("hVYHX");dr.BlockHeader=re("gGdD6");dr.HDPrivateKey=re("4bgoH");dr.HDPublicKey=re("8kXe7");dr.Networks=re("cyjag");dr.Opcode=re("bpasi");dr.PrivateKey=re("7smYJ");dr.PublicKey=re("arkeG");dr.Script=re("hkiTH");dr.Transaction=re("7pkU6");dr.ECIES=re("de0HV");dr.HashCache=re("l0DuR");dr.deps={};dr.deps.bnjs=z8e;dr.deps.bs58=mP;dr.deps.Buffer=V8e;dr.deps.elliptic=HV;dr.deps._=re("kBBbb");dr.Transaction.sighash=re("95EnH");dr.Message=re("9fBEz");dr.Mnemonic=re("amN1b");DV.exports=dr});var qV=j((Kv,UV)=>{B();M();(function(t,e){typeof Kv=="object"&&typeof UV<"u"?e(Kv):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.sourcemapCodec={}))})(Kv,function(t){"use strict";let e=",".charCodeAt(0),r=";".charCodeAt(0),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(64),s=new Uint8Array(128);for(let N=0;N<n.length;N++){let g=n.charCodeAt(N);i[N]=g,s[g]=N}function o(N,g){let h=0,l=0,b=0;do{let x=N.next();b=s[x],h|=(b&31)<<l,l+=5}while(b&32);let _=h&1;return h>>>=1,_&&(h=-2147483648|-h),g+h}function a(N,g,h){let l=g-h;l=l<0?-l<<1|1:l<<1;do{let b=l&31;l>>>=5,l>0&&(b|=32),N.write(i[b])}while(l>0);return g}function u(N,g){return N.pos>=g?!1:N.peek()!==e}let c=1024*16,d=typeof TextDecoder<"u"?new TextDecoder:typeof E.Buffer<"u"?{decode(N){return E.Buffer.from(N.buffer,N.byteOffset,N.byteLength).toString()}}:{decode(N){let g="";for(let h=0;h<N.length;h++)g+=String.fromCharCode(N[h]);return g}};class f{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(c)}write(g){let{buffer:h}=this;h[this.pos++]=g,this.pos===c&&(this.out+=d.decode(h),this.pos=0)}flush(){let{buffer:g,out:h,pos:l}=this;return l>0?h+d.decode(g.subarray(0,l)):h}}class m{constructor(g){this.pos=0,this.buffer=g}next(){return this.buffer.charCodeAt(this.pos++)}peek(){return this.buffer.charCodeAt(this.pos)}indexOf(g){let{buffer:h,pos:l}=this,b=h.indexOf(g,l);return b===-1?h.length:b}}let p=[];function y(N){let{length:g}=N,h=new m(N),l=[],b=[],_=0;for(;h.pos<g;h.pos++){_=o(h,_);let x=o(h,0);if(!u(h,g)){let q=b.pop();q[2]=_,q[3]=x;continue}let I=o(h,0),S=o(h,0)&1?[_,x,0,0,I,o(h,0)]:[_,x,0,0,I],O=p;if(u(h,g)){O=[];do{let q=o(h,0);O.push(q)}while(u(h,g))}S.vars=O,l.push(S),b.push(S)}return l}function w(N){let g=new f;for(let h=0;h<N.length;)h=P(N,h,g,[0]);return g.flush()}function P(N,g,h,l){let b=N[g],{0:_,1:x,2:I,3:A,4:v,vars:S}=b;g>0&&h.write(e),l[0]=a(h,_,l[0]),a(h,x,0),a(h,v,0);let O=b.length===6?1:0;a(h,O,0),b.length===6&&a(h,b[5],0);for(let q of S)a(h,q,0);for(g++;g<N.length;){let q=N[g],{0:J,1:ne}=q;if(J>I||J===I&&ne>=A)break;g=P(N,g,h,l)}return h.write(e),l[0]=a(h,I,l[0]),a(h,A,0),g}function C(N){let{length:g}=N,h=new m(N),l=[],b=[],_=0,x=0,I=0,A=0,v=0,S=0,O=0,q=0;do{let J=h.indexOf(";"),ne=0;for(;h.pos<J;h.pos++){if(ne=o(h,ne),!u(h,J)){let ye=b.pop();ye[2]=_,ye[3]=ne;continue}let oe=o(h,0),le=oe&1,pe=oe&2,G=oe&4,te=null,ae=p,be;if(le){let ye=o(h,x);I=o(h,x===ye?I:0),x=ye,be=[_,ne,0,0,ye,I]}else be=[_,ne,0,0];if(be.isScope=!!G,pe){let ye=A,_e=v;A=o(h,A);let ke=ye===A;v=o(h,ke?v:0),S=o(h,ke&&_e===v?S:0),te=[A,v,S]}if(be.callsite=te,u(h,J)){ae=[];do{O=_,q=ne;let ye=o(h,0),_e;if(ye<-1){_e=[[o(h,0)]];for(let ke=-1;ke>ye;ke--){let He=O;O=o(h,O),q=o(h,O===He?q:0);let ze=o(h,0);_e.push([ze,O,q])}}else _e=[[ye]];ae.push(_e)}while(u(h,J))}be.bindings=ae,l.push(be),b.push(be)}_++,h.pos=J+1}while(h.pos<g);return l}function R(N){if(N.length===0)return"";let g=new f;for(let h=0;h<N.length;)h=T(N,h,g,[0,0,0,0,0,0,0]);return g.flush()}function T(N,g,h,l){let b=N[g],{0:_,1:x,2:I,3:A,isScope:v,callsite:S,bindings:O}=b;l[0]<_?(k(h,l[0],_),l[0]=_,l[1]=0):g>0&&h.write(e),l[1]=a(h,b[1],l[1]);let q=(b.length===6?1:0)|(S?2:0)|(v?4:0);if(a(h,q,0),b.length===6){let{4:J,5:ne}=b;J!==l[2]&&(l[3]=0),l[2]=a(h,J,l[2]),l[3]=a(h,ne,l[3])}if(S){let{0:J,1:ne,2:oe}=b.callsite;J!==l[4]?(l[5]=0,l[6]=0):ne!==l[5]&&(l[6]=0),l[4]=a(h,J,l[4]),l[5]=a(h,ne,l[5]),l[6]=a(h,oe,l[6])}if(O)for(let J of O){J.length>1&&a(h,-J.length,0);let ne=J[0][0];a(h,ne,0);let oe=_,le=x;for(let pe=1;pe<J.length;pe++){let G=J[pe];oe=a(h,G[1],oe),le=a(h,G[2],le),a(h,G[0],0)}}for(g++;g<N.length;){let J=N[g],{0:ne,1:oe}=J;if(ne>I||ne===I&&oe>=A)break;g=T(N,g,h,l)}return l[0]<I?(k(h,l[0],I),l[0]=I,l[1]=0):h.write(e),l[1]=a(h,A,l[1]),g}function k(N,g,h){do N.write(r);while(++g<h)}function H(N){let{length:g}=N,h=new m(N),l=[],b=0,_=0,x=0,I=0,A=0;do{let v=h.indexOf(";"),S=[],O=!0,q=0;for(b=0;h.pos<v;){let J;b=o(h,b),b<q&&(O=!1),q=b,u(h,v)?(_=o(h,_),x=o(h,x),I=o(h,I),u(h,v)?(A=o(h,A),J=[b,_,x,I,A]):J=[b,_,x,I]):J=[b],S.push(J),h.pos++}O||F(S),l.push(S),h.pos=v+1}while(h.pos<=g);return l}function F(N){N.sort(L)}function L(N,g){return N[0]-g[0]}function D(N){let g=new f,h=0,l=0,b=0,_=0;for(let x=0;x<N.length;x++){let I=N[x];if(x>0&&g.write(r),I.length===0)continue;let A=0;for(let v=0;v<I.length;v++){let S=I[v];v>0&&g.write(e),A=a(g,S[0],A),S.length!==1&&(h=a(g,S[1],h),l=a(g,S[2],l),b=a(g,S[3],b),S.length!==4&&(_=a(g,S[4],_)))}}return g.flush()}t.decode=H,t.decodeGeneratedRanges=C,t.decodeOriginalScopes=y,t.encode=D,t.encodeGeneratedRanges=R,t.encodeOriginalScopes=w,Object.defineProperty(t,"__esModule",{value:!0})})});var jV={};Lce(jV,{default:()=>G8e});var G8e,KV=Dce(()=>{B();M();G8e={}});var yP=j((Kit,$v)=>{B();M();var Dp=(KV(),LE(jV));if(Dp&&Dp.default){$v.exports=Dp.default;for(let t in Dp)$v.exports[t]=Dp[t]}else Dp&&($v.exports=Dp)});var $V=j(vP=>{B();M();var Lp=ja(),Xl=process.platform==="win32",Yl=r0(),W8e=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Y8e(){var t;if(W8e){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function X8e(t){return typeof t=="function"?t:Y8e()}var Vit=Lp.normalize;Xl?Yd=/(.*?)(?:[\/\\]+|$)/g:Yd=/(.*?)(?:[\/]+|$)/g;var Yd;Xl?K4=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:K4=/^[\/]*/;var K4;vP.realpathSync=function(e,r){if(e=Lp.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},s={},o,a,u,c;d();function d(){var P=K4.exec(e);o=P[0].length,a=P[0],u=P[0],c="",Xl&&!s[u]&&(Yl.lstatSync(u),s[u]=!0)}for(;o<e.length;){Yd.lastIndex=o;var f=Yd.exec(e);if(c=a,a+=f[0],u=c+f[1],o=Yd.lastIndex,!(s[u]||r&&r[u]===u)){var m;if(r&&Object.prototype.hasOwnProperty.call(r,u))m=r[u];else{var p=Yl.lstatSync(u);if(!p.isSymbolicLink()){s[u]=!0,r&&(r[u]=u);continue}var y=null;if(!Xl){var w=p.dev.toString(32)+":"+p.ino.toString(32);i.hasOwnProperty(w)&&(y=i[w])}y===null&&(Yl.statSync(u),y=Yl.readlinkSync(u)),m=Lp.resolve(c,y),r&&(r[u]=m),Xl||(i[w]=y)}e=Lp.resolve(m,e.slice(o)),d()}}return r&&(r[n]=e),e};vP.realpath=function(e,r,n){if(typeof n!="function"&&(n=X8e(r),r=null),e=Lp.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,s={},o={},a,u,c,d;f();function f(){var P=K4.exec(e);a=P[0].length,u=P[0],c=P[0],d="",Xl&&!o[c]?Yl.lstat(c,function(C){if(C)return n(C);o[c]=!0,m()}):process.nextTick(m)}function m(){if(a>=e.length)return r&&(r[i]=e),n(null,e);Yd.lastIndex=a;var P=Yd.exec(e);return d=u,u+=P[0],c=d+P[1],a=Yd.lastIndex,o[c]||r&&r[c]===c?process.nextTick(m):r&&Object.prototype.hasOwnProperty.call(r,c)?w(r[c]):Yl.lstat(c,p)}function p(P,C){if(P)return n(P);if(!C.isSymbolicLink())return o[c]=!0,r&&(r[c]=c),process.nextTick(m);if(!Xl){var R=C.dev.toString(32)+":"+C.ino.toString(32);if(s.hasOwnProperty(R))return y(null,s[R],c)}Yl.stat(c,function(T){if(T)return n(T);Yl.readlink(c,function(k,H){Xl||(s[R]=H),y(k,H)})})}function y(P,C,R){if(P)return n(P);var T=Lp.resolve(d,C);r&&(r[R]=T),w(T)}function w(P){e=Lp.resolve(P,e.slice(a)),f()}}});var xP=j((Xit,WV)=>{B();M();WV.exports=Zl;Zl.realpath=Zl;Zl.sync=wP;Zl.realpathSync=wP;Zl.monkeypatch=J8e;Zl.unmonkeypatch=Q8e;var j2=r0(),_P=j2.realpath,SP=j2.realpathSync,Z8e=process.version,zV=/^v[0-5]\./.test(Z8e),VV=$V();function GV(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function Zl(t,e,r){if(zV)return _P(t,e,r);typeof e=="function"&&(r=e,e=null),_P(t,e,function(n,i){GV(n)?VV.realpath(t,e,r):r(n,i)})}function wP(t,e){if(zV)return SP(t,e);try{return SP(t,e)}catch(r){if(GV(r))return VV.realpathSync(t,e);throw r}}function J8e(){j2.realpath=Zl,j2.realpathSync=wP}function Q8e(){j2.realpath=_P,j2.realpathSync=SP}});var XV=j((Qit,YV)=>{B();M();YV.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);eye(i)?r.push.apply(r,i):r.push(i)}return r};var eye=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var tG=j((rst,eG)=>{"use strict";B();M();eG.exports=JV;function JV(t,e,r){t instanceof RegExp&&(t=ZV(t,r)),e instanceof RegExp&&(e=ZV(e,r));var n=QV(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function ZV(t,e){var r=e.match(t);return r?r[0]:null}JV.range=QV;function QV(t,e,r){var n,i,s,o,a,u=r.indexOf(t),c=r.indexOf(e,u+1),d=u;if(u>=0&&c>0){for(n=[],s=r.length;d>=0&&!a;)d==u?(n.push(d),u=r.indexOf(t,d+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,o=c),c=r.indexOf(e,d+1)),d=u<c&&u>=0?u:c;n.length&&(a=[s,o])}return a}});var cG=j((sst,uG)=>{B();M();var tye=XV(),rG=tG();uG.exports=iye;var nG="\0SLASH"+Math.random()+"\0",iG="\0OPEN"+Math.random()+"\0",AP="\0CLOSE"+Math.random()+"\0",sG="\0COMMA"+Math.random()+"\0",oG="\0PERIOD"+Math.random()+"\0";function EP(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function rye(t){return t.split("\\\\").join(nG).split("\\{").join(iG).split("\\}").join(AP).split("\\,").join(sG).split("\\.").join(oG)}function nye(t){return t.split(nG).join("\\").split(iG).join("{").split(AP).join("}").split(sG).join(",").split(oG).join(".")}function aG(t){if(!t)return[""];var e=[],r=rG("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,o=n.split(",");o[o.length-1]+="{"+i+"}";var a=aG(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function iye(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),K2(rye(t),!0).map(nye)):[]}function sye(t){return"{"+t+"}"}function oye(t){return/^-?0\d/.test(t)}function aye(t,e){return t<=e}function uye(t,e){return t>=e}function K2(t,e){var r=[],n=rG("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),o=i||s,a=n.body.indexOf(",")>=0;if(!o&&!a)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+AP+n.post,K2(t)):[t];var u;if(o)u=n.body.split(/\.\./);else if(u=aG(n.body),u.length===1&&(u=K2(u[0],!1).map(sye),u.length===1)){var d=n.post.length?K2(n.post,!1):[""];return d.map(function(h){return n.pre+u[0]+h})}var c=n.pre,d=n.post.length?K2(n.post,!1):[""],f;if(o){var m=EP(u[0]),p=EP(u[1]),y=Math.max(u[0].length,u[1].length),w=u.length==3?Math.abs(EP(u[2])):1,P=aye,C=p<m;C&&(w*=-1,P=uye);var R=u.some(oye);f=[];for(var T=m;P(T,p);T+=w){var k;if(s)k=String.fromCharCode(T),k==="\\"&&(k="");else if(k=String(T),R){var H=y-k.length;if(H>0){var F=new Array(H+1).join("0");T<0?k="-"+F+k.slice(1):k=F+k}}f.push(k)}}else f=tye(u,function(g){return K2(g,!1)});for(var L=0;L<f.length;L++)for(var D=0;D<d.length;D++){var N=c+f[L]+d[D];(!e||o||N)&&r.push(N)}return r}});var Gv=j((ust,pG)=>{B();M();pG.exports=Bu;Bu.Minimatch=Po;var $4=function(){try{return ja()}catch{}}()||{sep:"/"};Bu.sep=$4.sep;var PP=Bu.GLOBSTAR=Po.GLOBSTAR={},cye=cG(),fG={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},TP="[^/]",IP=TP+"*?",fye="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",dye="(?:(?!(?:\\/|^)\\.).)*?",dG=hye("().*{}+?[]^$\\!");function hye(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var hG=/\/+/;Bu.filter=lye;function lye(t,e){return e=e||{},function(r,n,i){return Bu(r,t,e)}}function Jl(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}Bu.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return Bu;var e=Bu,r=function(i,s,o){return e(i,s,Jl(t,o))};return r.Minimatch=function(i,s){return new e.Minimatch(i,Jl(t,s))},r.Minimatch.defaults=function(i){return e.defaults(Jl(t,i)).Minimatch},r.filter=function(i,s){return e.filter(i,Jl(t,s))},r.defaults=function(i){return e.defaults(Jl(t,i))},r.makeRe=function(i,s){return e.makeRe(i,Jl(t,s))},r.braceExpand=function(i,s){return e.braceExpand(i,Jl(t,s))},r.match=function(n,i,s){return e.match(n,i,Jl(t,s))},r};Po.defaults=function(t){return Bu.defaults(t).Minimatch};function Bu(t,e,r){return Vv(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new Po(e,r).match(t)}function Po(t,e){if(!(this instanceof Po))return new Po(t,e);Vv(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&$4.sep!=="/"&&(t=t.split($4.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}Po.prototype.debug=function(){};Po.prototype.make=pye;function pye(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(hG)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Po.prototype.parseNegate=bye;function bye(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=t.length;i<s&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}Bu.braceExpand=function(t,e){return lG(t,e)};Po.prototype.braceExpand=lG;function lG(t,e){return e||(this instanceof Po?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,Vv(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:cye(t)}var gye=1024*64,Vv=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>gye)throw new TypeError("pattern is too long")};Po.prototype.parse=mye;var zv={};function mye(t,e){Vv(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return PP;if(t==="")return"";var n="",i=!!r.nocase,s=!1,o=[],a=[],u,c=!1,d=-1,f=-1,m=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",p=this;function y(){if(u){switch(u){case"*":n+=IP,i=!0;break;case"?":n+=TP,i=!0;break;default:n+="\\"+u;break}p.debug("clearStateChar %j %j",u,n),u=!1}}for(var w=0,P=t.length,C;w<P&&(C=t.charAt(w));w++){if(this.debug("%s	%s %s %j",t,w,n,C),s&&dG[C]){n+="\\"+C,s=!1;continue}switch(C){case"/":return!1;case"\\":y(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,w,n,C),c){this.debug("  in class"),C==="!"&&w===f+1&&(C="^"),n+=C;continue}p.debug("call clearStateChar %j",u),y(),u=C,r.noext&&y();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}o.push({type:u,start:w-1,reStart:n.length,open:fG[u].open,close:fG[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!o.length){n+="\\)";continue}y(),i=!0;var R=o.pop();n+=R.close,R.type==="!"&&a.push(R),R.reEnd=n.length;continue;case"|":if(c||!o.length||s){n+="\\|",s=!1;continue}y(),n+="|";continue;case"[":if(y(),c){n+="\\"+C;continue}c=!0,f=w,d=n.length,n+=C;continue;case"]":if(w===f+1||!c){n+="\\"+C,s=!1;continue}var T=t.substring(f+1,w);try{RegExp("["+T+"]")}catch{var k=this.parse(T,zv);n=n.substr(0,d)+"\\["+k[0]+"\\]",i=i||k[1],c=!1;continue}i=!0,c=!1,n+=C;continue;default:y(),s?s=!1:dG[C]&&!(C==="^"&&c)&&(n+="\\"),n+=C}}for(c&&(T=t.substr(f+1),k=this.parse(T,zv),n=n.substr(0,d)+"\\["+k[0],i=i||k[1]),R=o.pop();R;R=o.pop()){var H=n.slice(R.reStart+R.open.length);this.debug("setting tail",n,R),H=H.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(O,q,J){return J||(J="\\"),q+q+J+"|"}),this.debug(`tail=%j
   %s`,H,H,R,n);var F=R.type==="*"?IP:R.type==="?"?TP:"\\"+R.type;i=!0,n=n.slice(0,R.reStart)+F+"\\("+H}y(),s&&(n+="\\\\");var L=!1;switch(n.charAt(0)){case"[":case".":case"(":L=!0}for(var D=a.length-1;D>-1;D--){var N=a[D],g=n.slice(0,N.reStart),h=n.slice(N.reStart,N.reEnd-8),l=n.slice(N.reEnd-8,N.reEnd),b=n.slice(N.reEnd);l+=b;var _=g.split("(").length-1,x=b;for(w=0;w<_;w++)x=x.replace(/\)[+*?]?/,"");b=x;var I="";b===""&&e!==zv&&(I="$");var A=g+h+b+I+l;n=A}if(n!==""&&i&&(n="(?=.)"+n),L&&(n=m+n),e===zv)return[n,i];if(!i)return vye(t);var v=r.nocase?"i":"";try{var S=new RegExp("^"+n+"$",v)}catch{return new RegExp("$.")}return S._glob=t,S._src=n,S}Bu.makeRe=function(t,e){return new Po(t,e||{}).makeRe()};Po.prototype.makeRe=yye;function yye(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?IP:e.dot?fye:dye,n=e.nocase?"i":"",i=t.map(function(s){return s.map(function(o){return o===PP?r:typeof o=="string"?_ye(o):o._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}Bu.match=function(t,e,r){r=r||{};var n=new Po(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};Po.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;$4.sep!=="/"&&(e=e.split($4.sep).join("/")),e=e.split(hG),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var s,o;for(o=e.length-1;o>=0&&(s=e[o],!s);o--);for(o=0;o<i.length;o++){var a=i[o],u=e;n.matchBase&&a.length===1&&(u=[s]);var c=this.matchOne(u,a,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Po.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,s=0,o=t.length,a=e.length;i<o&&s<a;i++,s++){this.debug("matchOne loop");var u=e[s],c=t[i];if(this.debug(e,u,c),u===!1)return!1;if(u===PP){this.debug("GLOBSTAR",[e,u,c]);var d=i,f=s+1;if(f===a){for(this.debug("** at the end");i<o;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;d<o;){var m=t[d];if(this.debug(`
globstar while`,t,d,e,f,m),this.matchOne(t.slice(d),e.slice(f),r))return this.debug("globstar found match!",d,o,m),!0;if(m==="."||m===".."||!n.dot&&m.charAt(0)==="."){this.debug("dot detected!",t,d,e,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,d,e,f),d===o))}var p;if(typeof u=="string"?(p=c===u,this.debug("string match",u,c,p)):(p=c.match(u),this.debug("pattern match",u,c,p)),!p)return!1}if(i===o&&s===a)return!0;if(i===o)return r;if(s===a)return i===o-1&&t[i]==="";throw new Error("wtf?")};function vye(t){return t.replace(/\\(.)/g,"$1")}function _ye(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var Yv=j((dst,Wv)=>{"use strict";B();M();function bG(t){return t.charAt(0)==="/"}function gG(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}Wv.exports=process.platform==="win32"?gG:bG;Wv.exports.posix=bG;Wv.exports.win32=gG});var BP=j(Ql=>{B();M();Ql.setopts=Tye;Ql.ownProp=mG;Ql.makeAbs=z4;Ql.finish=Iye;Ql.mark=Pye;Ql.isIgnored=vG;Ql.childrenIgnored=Oye;function mG(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Sye=r0(),$2=ja(),wye=Gv(),yG=Yv(),OP=wye.Minimatch;function xye(t,e){return t.localeCompare(e,"en")}function Eye(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Aye))}function Aye(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new OP(r,{dot:!0})}return{matcher:new OP(t,{dot:!0}),gmatcher:e}}function Tye(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||Sye,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),Eye(t,r),t.changedCwd=!1;var n=process.cwd();mG(r,"cwd")?(t.cwd=$2.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||$2.resolve(t.cwd,"/"),t.root=$2.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=yG(t.cwd)?t.cwd:z4(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,r.allowWindowsEscape=!1,t.minimatch=new OP(e,r),t.options=t.minimatch.options}function Iye(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var s=t.matches[n];if(!s||Object.keys(s).length===0){if(t.nonull){var o=t.minimatch.globSet[n];e?r.push(o):r[o]=!0}}else{var a=Object.keys(s);e?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(xye)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),d=t.cache[u]||t.cache[z4(t,u)];return c&&d&&(c=d!=="DIR"&&!Array.isArray(d)),c}))}t.ignore.length&&(r=r.filter(function(u){return!vG(t,u)})),t.found=r}function Pye(t,e){var r=z4(t,e),n=t.cache[r],i=e;if(n){var s=n==="DIR"||Array.isArray(n),o=e.slice(-1)==="/";if(s&&!o?i+="/":!s&&o&&(i=i.slice(0,-1)),i!==e){var a=z4(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i}function z4(t,e){var r=e;return e.charAt(0)==="/"?r=$2.join(t.root,e):yG(e)||e===""?r=e:t.changedCwd?r=$2.resolve(t.cwd,e):r=$2.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function vG(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function Oye(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var EG=j((_st,xG)=>{B();M();xG.exports=wG;wG.GlobSync=Cs;var Bye=xP(),_G=Gv(),mst=_G.Minimatch,yst=CP().Glob,vst=xF(),MP=ja(),SG=ff(),Xv=Yv(),Up=BP(),Mye=Up.setopts,kP=Up.ownProp,kye=Up.childrenIgnored,Cye=Up.isIgnored;function wG(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Cs(t,e).found}function Cs(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Cs))return new Cs(t,e);if(Mye(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Cs.prototype._finish=function(){if(SG.ok(this instanceof Cs),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var s=Bye.realpathSync(i,t.realpathCache);n[s]=!0}catch(o){if(o.syscall==="stat")n[t._makeAbs(i)]=!0;else throw o}})}Up.finish(this)};Cs.prototype._process=function(t,e,r){SG.ok(this instanceof Cs);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var s=t.slice(n),o;i===null?o=".":((Xv(i)||Xv(t.map(function(c){return typeof c=="string"?c:"[*]"}).join("/")))&&(!i||!Xv(i))&&(i="/"+i),o=i);var a=this._makeAbs(o);if(!kye(this,o)){var u=s[0]===_G.GLOBSTAR;u?this._processGlobStar(i,o,a,s,e,r):this._processReaddir(i,o,a,s,e,r)}};Cs.prototype._processReaddir=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!!o){for(var a=n[0],u=!!this.minimatch.negate,c=a._glob,d=this.dot||c.charAt(0)===".",f=[],m=0;m<o.length;m++){var p=o[m];if(p.charAt(0)!=="."||d){var y;u&&!t?y=!p.match(a):y=p.match(a),y&&f.push(p)}}var w=f.length;if(w!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var m=0;m<w;m++){var p=f[m];t&&(t.slice(-1)!=="/"?p=t+"/"+p:p=t+p),p.charAt(0)==="/"&&!this.nomount&&(p=MP.join(this.root,p)),this._emitMatch(i,p)}return}n.shift();for(var m=0;m<w;m++){var p=f[m],P;t?P=[t,p]:P=[p],this._process(P.concat(n),i,s)}}}};Cs.prototype._emitMatch=function(t,e){if(!Cye(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};Cs.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};Cs.prototype._readdir=function(t,e){var r;if(e&&!kP(this.symlinks,t))return this._readdirInGlobStar(t);if(kP(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};Cs.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};Cs.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};Cs.prototype._processGlobStar=function(t,e,r,n,i,s){var o=this._readdir(r,s);if(!!o){var a=n.slice(1),u=t?[t]:[],c=u.concat(a);this._process(c,i,!1);var d=o.length,f=this.symlinks[r];if(!(f&&s))for(var m=0;m<d;m++){var p=o[m];if(!(p.charAt(0)==="."&&!this.dot)){var y=u.concat(o[m],a);this._process(y,i,!0);var w=u.concat(o[m],n);this._process(w,i,!0)}}}};Cs.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&Xv(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=MP.join(this.root,t):(t=MP.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};Cs.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&kP(this.cache,e)){var o=this.cache[e];if(Array.isArray(o)&&(o="DIR"),!r||o==="DIR")return o;if(r&&o==="FILE")return!1}var n,i=this.statCache[e];if(!i){var s;try{s=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=s}else i=s}this.statCache[e]=i;var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,r&&o==="FILE"?!1:o};Cs.prototype._mark=function(t){return Up.mark(this,t)};Cs.prototype._makeAbs=function(t){return Up.makeAbs(this,t)}});var RP=j((xst,TG)=>{B();M();TG.exports=AG;function AG(t,e){if(t&&e)return AG(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),o=n[n.length-1];return typeof s=="function"&&s!==o&&Object.keys(o).forEach(function(a){s[a]=o[a]}),s}}});var FP=j((Tst,NP)=>{B();M();var IG=RP();NP.exports=IG(Zv);NP.exports.strict=IG(PG);Zv.proto=Zv(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Zv(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return PG(this)},configurable:!0})});function Zv(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function PG(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var BG=j((Ost,OG)=>{B();M();var Rye=RP(),V4=Object.create(null),Nye=FP();OG.exports=Rye(Fye);function Fye(t,e){return V4[t]?(V4[t].push(e),null):(V4[t]=[e],Hye(t))}function Hye(t){return Nye(function e(){var r=V4[t],n=r.length,i=Dye(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete V4[t]}})}function Dye(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var CP=j((Rst,kG)=>{B();M();kG.exports=qp;var Lye=xP(),MG=Gv(),kst=MG.Minimatch,Uye=f8(),qye=wF().EventEmitter,HP=ja(),DP=ff(),G4=Yv(),UP=EG(),jp=BP(),jye=jp.setopts,LP=jp.ownProp,qP=BG(),Cst=xF(),Kye=jp.childrenIgnored,$ye=jp.isIgnored,zye=FP();function qp(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return UP(t,e)}return new xn(t,e,r)}qp.sync=UP;var Vye=qp.GlobSync=UP.GlobSync;qp.glob=qp;function Gye(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}qp.hasMagic=function(t,e){var r=Gye({},e);r.noprocess=!0;var n=new xn(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};qp.Glob=xn;Uye(xn,qye);function xn(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new Vye(t,e)}if(!(this instanceof xn))return new xn(t,e,r);jye(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=zye(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var s=!0,o=0;o<n;o++)this._process(this.minimatch.set[o],o,!1,a);s=!1;function a(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}xn.prototype._finish=function(){if(DP(this instanceof xn),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();jp.finish(this),this.emit("end",this.found)}};xn.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};xn.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,s=n.length;if(s===0)return e();var o=this.matches[t]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),Lye.realpath(a,i.realpathCache,function(c,d){c?c.syscall==="stat"?o[a]=!0:i.emit("error",c):o[d]=!0,--s===0&&(i.matches[t]=o,e())})})};xn.prototype._mark=function(t){return jp.mark(this,t)};xn.prototype._makeAbs=function(t){return jp.makeAbs(this,t)};xn.prototype.abort=function(){this.aborted=!0,this.emit("abort")};xn.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};xn.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};xn.prototype._process=function(t,e,r,n){if(DP(this instanceof xn),DP(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var s;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:s=null;break;default:s=t.slice(0,i).join("/");break}var o=t.slice(i),a;s===null?a=".":((G4(s)||G4(t.map(function(d){return typeof d=="string"?d:"[*]"}).join("/")))&&(!s||!G4(s))&&(s="/"+s),a=s);var u=this._makeAbs(a);if(Kye(this,a))return n();var c=o[0]===MG.GLOBSTAR;c?this._processGlobStar(s,a,u,o,e,r,n):this._processReaddir(s,a,u,o,e,r,n)}};xn.prototype._processReaddir=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){return a._processReaddir2(t,e,r,n,i,s,c,o)})};xn.prototype._processReaddir2=function(t,e,r,n,i,s,o,a){if(!o)return a();for(var u=n[0],c=!!this.minimatch.negate,d=u._glob,f=this.dot||d.charAt(0)===".",m=[],p=0;p<o.length;p++){var y=o[p];if(y.charAt(0)!=="."||f){var w;c&&!t?w=!y.match(u):w=y.match(u),w&&m.push(y)}}var P=m.length;if(P===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<P;p++){var y=m[p];t&&(t!=="/"?y=t+"/"+y:y=t+y),y.charAt(0)==="/"&&!this.nomount&&(y=HP.join(this.root,y)),this._emitMatch(i,y)}return a()}n.shift();for(var p=0;p<P;p++){var y=m[p],C;t&&(t!=="/"?y=t+"/"+y:y=t+y),this._process([y].concat(n),i,s,a)}a()};xn.prototype._emitMatch=function(t,e){if(!this.aborted&&!$ye(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=G4(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};xn.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=qP(r,s);i&&n.fs.lstat(t,i);function s(o,a){if(o&&o.code==="ENOENT")return e();var u=a&&a.isSymbolicLink();n.symlinks[t]=u,!u&&a&&!a.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};xn.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=qP("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!LP(this.symlinks,t))return this._readdirInGlobStar(t,r);if(LP(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,Wye(this,t,r))}};function Wye(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}xn.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};xn.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};xn.prototype._processGlobStar=function(t,e,r,n,i,s,o){var a=this;this._readdir(r,s,function(u,c){a._processGlobStar2(t,e,r,n,i,s,c,o)})};xn.prototype._processGlobStar2=function(t,e,r,n,i,s,o,a){if(!o)return a();var u=n.slice(1),c=t?[t]:[],d=c.concat(u);this._process(d,i,!1,a);var f=this.symlinks[r],m=o.length;if(f&&s)return a();for(var p=0;p<m;p++){var y=o[p];if(!(y.charAt(0)==="."&&!this.dot)){var w=c.concat(o[p],u);this._process(w,i,!0,a);var P=c.concat(o[p],n);this._process(P,i,!0,a)}}a()};xn.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,s){n._processSimple2(t,e,i,s,r)})};xn.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&G4(t)&&!this.nomount){var s=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=HP.join(this.root,t):(t=HP.resolve(this.root,t),s&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};xn.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&LP(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var s,o=this.statCache[r];if(o!==void 0){if(o===!1)return e(null,o);var a=o.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,o)}var u=this,c=qP("stat\0"+r,d);c&&u.fs.lstat(r,c);function d(f,m){if(m&&m.isSymbolicLink())return u.fs.stat(r,function(p,y){p?u._stat2(t,r,null,m,e):u._stat2(t,r,p,y,e)});u._stat2(t,r,f,m,e)}};xn.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var s=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var o=!0;return n&&(o=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||o,s&&o==="FILE"?i():i(null,o,n)}});var UG=j((Hst,LG)=>{B();M();var On=ff(),FG=ja(),CG=r0(),z2;try{z2=CP()}catch{}var Yye={nosort:!0,silent:!0},jP=0,W4=process.platform==="win32",HG=t=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{t[r]=t[r]||CG[r],r=r+"Sync",t[r]=t[r]||CG[r]}),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,t.glob===!1&&(t.disableGlob=!0),t.disableGlob!==!0&&z2===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||Yye},$P=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),On(t,"rimraf: missing path"),On.equal(typeof t,"string","rimraf: path should be a string"),On.equal(typeof r,"function","rimraf: callback function required"),On(e,"rimraf: invalid options argument provided"),On.equal(typeof e,"object","rimraf: options should be object"),HG(e);let n=0,i=null,s=0,o=u=>{i=i||u,--s===0&&r(i)},a=(u,c)=>{if(u)return r(u);if(s=c.length,s===0)return r();c.forEach(d=>{let f=m=>{if(m){if((m.code==="EBUSY"||m.code==="ENOTEMPTY"||m.code==="EPERM")&&n<e.maxBusyTries)return n++,setTimeout(()=>KP(d,e,f),n*100);if(m.code==="EMFILE"&&jP<e.emfileWait)return setTimeout(()=>KP(d,e,f),jP++);m.code==="ENOENT"&&(m=null)}jP=0,o(m)};KP(d,e,f)})};if(e.disableGlob||!z2.hasMagic(t))return a(null,[t]);e.lstat(t,(u,c)=>{if(!u)return a(null,[t]);z2(t,e.glob,a)})},KP=(t,e,r)=>{On(t),On(e),On(typeof r=="function"),e.lstat(t,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&W4&&RG(t,e,n,r),i&&i.isDirectory())return Jv(t,e,n,r);e.unlink(t,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return W4?RG(t,e,s,r):Jv(t,e,s,r);if(s.code==="EISDIR")return Jv(t,e,s,r)}return r(s)})})},RG=(t,e,r,n)=>{On(t),On(e),On(typeof n=="function"),e.chmod(t,438,i=>{i?n(i.code==="ENOENT"?null:r):e.stat(t,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?Jv(t,e,r,n):e.unlink(t,n)})})},NG=(t,e,r)=>{On(t),On(e);try{e.chmodSync(t,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=e.statSync(t)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?Qv(t,e,r):e.unlinkSync(t)},Jv=(t,e,r,n)=>{On(t),On(e),On(typeof n=="function"),e.rmdir(t,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?Xye(t,e,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},Xye=(t,e,r)=>{On(t),On(e),On(typeof r=="function"),e.readdir(t,(n,i)=>{if(n)return r(n);let s=i.length;if(s===0)return e.rmdir(t,r);let o;i.forEach(a=>{$P(FG.join(t,a),e,u=>{if(!o){if(u)return r(o=u);--s===0&&e.rmdir(t,r)}})})})},DG=(t,e)=>{e=e||{},HG(e),On(t,"rimraf: missing path"),On.equal(typeof t,"string","rimraf: path should be a string"),On(e,"rimraf: missing options"),On.equal(typeof e,"object","rimraf: options should be object");let r;if(e.disableGlob||!z2.hasMagic(t))r=[t];else try{e.lstatSync(t),r=[t]}catch{r=z2.sync(t,e.glob)}if(!!r.length)for(let n=0;n<r.length;n++){let i=r[n],s;try{s=e.lstatSync(i)}catch(o){if(o.code==="ENOENT")return;o.code==="EPERM"&&W4&&NG(i,e,o)}try{s&&s.isDirectory()?Qv(i,e,null):e.unlinkSync(i)}catch(o){if(o.code==="ENOENT")return;if(o.code==="EPERM")return W4?NG(i,e,o):Qv(i,e,o);if(o.code!=="EISDIR")throw o;Qv(i,e,o)}}},Qv=(t,e,r)=>{On(t),On(e);try{e.rmdirSync(t)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&Zye(t,e)}},Zye=(t,e)=>{On(t),On(e),e.readdirSync(t).forEach(i=>DG(FG.join(t,i),e));let r=W4?100:1,n=0;do{let i=!0;try{let s=e.rmdirSync(t,e);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)};LG.exports=$P;$P.sync=DG});var X4=j(Kt=>{"use strict";B();M();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.loadSourceMapfromArtifact=Kt.getStaticDeclaration=Kt.getAliasDeclaration=Kt.getContractDeclaration=Kt.getLibraryDeclaration=Kt.getStructDeclaration=Kt.getABIDeclaration=Kt.getContractName=Kt.getFullFilePath=Kt.compilerVersion=Kt.handleCompilerOutput=Kt.compile=Kt.settings2cmd=Kt.compileAsync=Kt.doCompileAsync=Kt.ABIEntityType=Kt.DebugModeTag=Kt.CompileResult=Kt.BuildType=Kt.CompileErrorType=Kt.SOURCE_REG=void 0;var GP=yP(),au=r0(),Fi=ja(),Rc=Mu(),Jye=UG(),Qye=Qce(),eve=/(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):\n([^\n]+\n){3}(unexpected (?<unexpected>[^\n]+)\nexpecting (?<expecting>[^\n]+)|(?<message>[^\n]+))/g,tve=/Error:(\s|\n)*(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+):*\n(?<message>[^\n]+)\n/g,qG=/Internal error:(?<message>.+)/,rve=/Warning:(\s|\n)*(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+):*\n(?<message>[^\n]+)\n/g,jG=Qye({alwaysParseAsBig:!0,constructorAction:"preserve"});Kt.SOURCE_REG=/^(?<fileIndex>-?\d+):(?<line>\d+):(?<col>\d+):(?<endLine>\d+):(?<endCol>\d+)(#(?<tagStr>.+))?/;var nve=/(?<filePath>[^\s]+):(?<line>\d+):(?<column>\d+):(?<line1>\d+):(?<column1>\d+)/gi,Y4;(function(t){t.SyntaxError="SyntaxError",t.SemanticError="SemanticError",t.InternalError="InternalError",t.Warning="Warning"})(Y4=Kt.CompileErrorType||(Kt.CompileErrorType={}));var r_;(function(t){t.Debug="debug",t.Release="release"})(r_=Kt.BuildType||(Kt.BuildType={}));var Kp=class{constructor(e,r){this.errors=e,this.warnings=r}toArtifact(){return{version:Rc.CURRENT_CONTRACT_ARTIFACT_VERSION,compilerVersion:this.compilerVersion||"0.0.0",contract:this.contract||"",md5:this.md5||"",structs:this.structs||[],library:this.library||[],alias:this.alias||[],abi:this.abi||[],stateProps:this.stateProps||[],buildType:this.buildType||r_.Debug,file:this.file||"",hex:this.hex||"",asm:"",sourceMap:[],sources:[],sourceMapFile:this.sourceMapFile||""}}};Kt.CompileResult=Kp;var e_;(function(t){t.FuncStart="F0",t.FuncEnd="F1",t.LoopStart="L0"})(e_=Kt.DebugModeTag||(Kt.DebugModeTag={}));var t_;(function(t){t.FUNCTION="function",t.CONSTRUCTOR="constructor"})(t_=Kt.ABIEntityType||(Kt.ABIEntityType={}));function zG(t,e){return(0,Fi.join)(t,(0,Fi.basename)(e)+"-"+(0,Rc.hash160)(e,"utf-8").substring(0,10))}function VG(t,e,r){let n=t.path,i=(0,Fi.dirname)(n),s=e.cwd||i,o=e.timeout||12e5,a=t.content!==void 0?t.content:(0,au.readFileSync)(n,"utf8"),u=WP(n,e),c=(0,GP.exec)(u,{cwd:s,timeout:o,killSignal:"SIGKILL"},(d,f)=>{if(d){console.error(`exec error: ${d} stdout: ${f}`),r(d,null);return}r(null,{path:n,output:f})});return c.stdin.write(a,d=>{if(d){r(d,null);return}c.stdin.end()}),c}Kt.doCompileAsync=VG;function ive(t,e){return e=Object.assign({},GG,e),new Promise((r,n)=>{VG(t,e,async(i,s)=>{if(i){n(i);return}try{let o=YP(t.path,e,s.output);r(o)}catch(o){n(o)}})})}Kt.compileAsync=ive;var GG={ast:!0,asm:!1,hex:!0,debug:!1,artifact:!1,outputDir:"",outputToFiles:!1,cwd:"",cmdPrefix:"",cmdArgs:"",buildType:r_.Debug,stdout:!1,sourceMap:!1,timeout:12e5,optimize:!1};function WP(t,e){let r=(0,Fi.dirname)(t),n=e.outputDir||r,i=zG(n,t),s=e.cmdPrefix||(0,Rc.findCompiler)(),o=`-o "${i}"`;return e.stdout?(o="--stdout",`"${s}" compile ${e.asm||e.artifact?"--asm":""} ${e.hex?"--hex":""} ${e.optimize?"-O":""} ${e.ast||e.artifact?"--ast":""} ${e.debug==!0?"--debug":""} -r ${o} ${e.cmdArgs?e.cmdArgs:""}`):((0,au.existsSync)(i)||(0,au.mkdirSync)(i),`"${s}" compile ${e.hex?"--hex":""} ${e.optimize?"-O":""} ${e.ast||e.artifact?"--ast":""} ${e.debug==!0?"--debug":""} ${e.sourceMap==!0?"--source-map":""} -r ${o} ${e.cmdArgs?e.cmdArgs:""}`)}Kt.settings2cmd=WP;function sve(t,e){let r=t.path,n=(0,Fi.dirname)(r),i=e.cwd||n,s=t.content!==void 0?t.content:(0,au.readFileSync)(r,"utf8"),o=e.stdout?1024*1024*100:1024*1024;e=Object.assign({},GG,e);let a=WP(r,e),u=(0,GP.execSync)(a,{input:s,cwd:i,timeout:e.timeout,maxBuffer:o}).toString();return YP(r,e,u)}Kt.compile=sve;function ove(t){let e=t.replace(/<([^>]+)>/g,"<>");return(0,Rc.md5)(e)}function YP(t,e,r){let n=(0,Fi.dirname)(t),i=(0,Fi.basename)(t),s=e.outputDir||n,o=zG(s,t),a={};try{r=r.split(/\r?\n/g).join(`
`);let u=new Kp([],[]);if(u.compilerVersion=WG(e.cmdPrefix?e.cmdPrefix:(0,Rc.findCompiler)()),u.buildType=e.buildType||r_.Debug,(r.startsWith("Error:")||r.startsWith("Warning:"))&&(Object.assign(u,dve(r,n,i)),u.errors.length>0||e.stdout&&u.warnings.length>0))return u;if(e.stdout){let c=jG.parse(r);$G(u,c.ast,n,i,t),hve(u,c.asm,e,n,i)}else{if(e.ast||e.artifact){let c=V2(o,"ast"),d=c.replace("stdin",(0,Fi.basename)(t,".scrypt"));(0,au.renameSync)(c,d),a.ast=d;let f=jG.parse((0,au.readFileSync)(d,"utf8"));$G(u,f,n,i,t)}if(e.hex||e.artifact){let c=V2(o,"hex"),d=c.replace("stdin",(0,Fi.basename)(t,".scrypt"));(0,au.renameSync)(c,d),a.hex=d,u.hex=(0,au.readFileSync)(d,"utf8"),u.md5=ove(u.hex)}if(e.sourceMap){let c=V2(o,"map");if(e.artifact){let f=V2(s,"map").replace("stdin",(0,Fi.basename)(t,".scrypt"));(0,au.renameSync)(c,f),u.sourceMapFile=(0,Rc.path2uri)(f)}else{let d=c.replace("stdin",(0,Fi.basename)(t,".scrypt"));(0,au.renameSync)(c,d),a.map=d,u.sourceMapFile=(0,Rc.path2uri)(d)}}if(e.debug){let c=V2(o,"dbg"),d=c.replace("stdin",(0,Fi.basename)(t,".scrypt"));(0,au.renameSync)(c,d),u.dbgFile=(0,Rc.path2uri)(d)}if(e.artifact){let d=V2(s,"artifact").replace("stdin",(0,Fi.basename)(t,".scrypt")),f=u.toArtifact();(0,au.writeFileSync)(d,JSON.stringify(f,(m,p)=>{if(m==="file")return(0,Fi.relative)(d,p);if(!(m=="sources"||m=="sourceMap"||m==="asm"))return p},4))}}return u}finally{lve(e,a,o)}}Kt.handleCompilerOutput=YP;function WG(t){try{let e=(0,GP.execSync)(`"${t}" version`).toString();return/Version:\s*([^\s]+)\s*/.exec(e)[1]}catch{throw new Error(`compilerVersion fail when run: ${t} version`)}}Kt.compilerVersion=WG;function ave(t,e,r){for(let n in t)if(n==="std")t.std=VP(t.std,"std");else{let i=n==="stdin"?r:n,s=(0,Rc.path2uri)((0,Fi.join)(e,i));t[s]=VP(t[n],s),delete t[n]}return t}function VP(t,e){if(typeof t!="object")return t;for(let r in t){let n=t[r];if(r==="src"){let i=/:(\d+):(\d+):(\d+):(\d+)/.exec(n);i?t.loc={source:e,start:{line:parseInt(i[1]),column:parseInt(i[2])},end:{line:parseInt(i[3]),column:parseInt(i[4])}}:t.loc=null,delete t.src}else typeof n=="object"&&VP(n,e)}return t}function V2(t,e){return e=="hex"?(0,Fi.join)(t,`stdin_${e}.txt`):e==="map"?(0,Fi.join)(t,`stdin.${e}.json`):e==="dbg"?(0,Fi.join)(t,`stdin.${e}.json`):e==="artifact"?(0,Fi.join)(t,"stdin.json"):(0,Fi.join)(t,`stdin_${e}.json`)}function Xd(t,e,r){return t.endsWith("stdin")?(0,Fi.join)(e,r):t==="std"?"std":(0,Fi.join)(e,t)}Kt.getFullFilePath=Xd;function uve(t){if(t.constructor)return{type:t_.CONSTRUCTOR,params:t.constructor.params.map(e=>({name:e.name,type:e.type}))};if(t.properties)return{type:t_.CONSTRUCTOR,params:t.properties.map(e=>({name:e.name.replace("this.",""),type:e.type}))}}function cve(t){let e=t.contracts[t.contracts.length-1];return e&&e.properties?e.properties.filter(r=>r.state).map(r=>({name:r.name.replace("this.",""),type:r.type})):[]}function fve(t){let e=0;return t.functions.filter(n=>n.visibility==="Public").map(n=>({type:t_.FUNCTION,name:n.name,index:n.nodeType==="Constructor"?void 0:e++,params:n.params.map(s=>({name:s.name,type:s.type}))}))}function XP(t){let e=t.contracts[t.contracts.length-1];return e&&e.name||""}Kt.getContractName=XP;function KG(t){let e=t.match(/__SCRYPT_(\w+)__/);return e?e[1]:t}function YG(t,e){let r=t.contracts[t.contracts.length-1];if(!r)return{contract:"",abi:[]};let n=fve(r),i=uve(r);return n.push(i),n.forEach(s=>{s.params=s.params.map(o=>Object.assign(o,{type:e(o.type).finalType}))}),{contract:XP(t),abi:n}}Kt.getABIDeclaration=YG;function XG(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.structs||[]).map(i=>({name:i.name,params:i.fields.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}))).flat(1)}Kt.getStructDeclaration=XG;function ZG(t,e){let r=[t];return Object.keys(e).forEach(n=>{n!=="std"&&r.push(e[n])}),r.map(n=>(n.contracts||[]).filter(i=>i.nodeType=="Library").map(i=>{if(i.constructor)return{name:i.name,params:i.constructor.params.map(s=>({name:`ctor.${s.name}`,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]};if(i.properties)return{name:i.name,params:i.properties.map(s=>({name:s.name,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}})).flat(1)}Kt.getLibraryDeclaration=ZG;function JG(t,e){let r=[t];return Object.keys(e).forEach(n=>{n!=="std"&&r.push(e[n])}),r.map(n=>(n.contracts||[]).filter(i=>i.nodeType=="Contract").map(i=>{if(i.constructor)return{name:i.name,params:i.constructor.params.map(s=>({name:`ctor.${s.name}`,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]};if(i.properties)return{name:i.name,params:i.properties.map(s=>({name:s.name,type:s.type})),properties:i.properties.map(s=>({name:s.name,type:s.type})),genericTypes:i.genericTypes||[]}})).flat(1)}Kt.getContractDeclaration=JG;function QG(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.alias||[]).map(i=>({name:i.alias,type:i.type}))).flat(1)}Kt.getAliasDeclaration=QG;function eW(t,e){let r=[t];return Object.keys(e).forEach(n=>{r.push(e[n])}),r.map(n=>(n.contracts||[]).map(i=>(i.statics||[]).map(s=>({const:s.const,name:`${i.name}.${s.name}`,type:s.type,value:(0,Rc.resolveConstValue)(s)})))).flat(1/0).flat(1)}Kt.getStaticDeclaration=eW;function zP(t,e,r){let n=[],i;for(;i=nve.exec(t);){let s=i.groups.filePath;if(s==="null")continue;let o=Xd(s,e,r),a=parseInt(i.groups?.line||"-1"),u=parseInt(i.groups?.column||"-1");n.push({filePath:o,position:[{line:a,column:u},{line:parseInt(i.groups?.line1||"-1"),column:parseInt(i.groups?.column1||"-1")}],message:""}),t=t.replace(/([^\s]+):(\d+):(\d+):(\d+):(\d+)/,"")}return{relatedInformation:n,message:t}}function dve(t,e,r){let n=[...t.matchAll(rve)].map(i=>{let s=i.groups?.filePath||"",o=i.groups?.message||"",{message:a,relatedInformation:u}=zP(o,e,r);return{type:Y4.Warning,filePath:Xd(s,e,r),position:[{line:parseInt(i.groups?.line||"-1"),column:parseInt(i.groups?.column||"-1")},{line:parseInt(i.groups?.line1||"-1"),column:parseInt(i.groups?.column1||"-1")}],message:a,relatedInformation:u}});if(t.match(qG)){let i=[{type:Y4.InternalError,filePath:Xd("stdin",e,r),message:`Compiler internal error: ${t.match(qG).groups?.message||""}`,position:[{line:1,column:1},{line:1,column:1}],relatedInformation:[]}];return new Kp(i,n)}else if(t.includes("Syntax error:")){let i=[...t.matchAll(eve)].map(s=>{let o=s.groups?.filePath||"",a=s.groups?.unexpected||"",u=s.groups?.expecting||"",c=s.groups?.message||`unexpected ${a}
expecting ${u}`,{message:d,relatedInformation:f}=zP(c,e,r);return{type:Y4.SyntaxError,filePath:Xd(o,e,r),position:[{line:parseInt(s.groups?.line||"-1"),column:parseInt(s.groups?.column||"-1")}],message:d,unexpected:a,expecting:u,relatedInformation:f}});return new Kp(i,n)}else{let i=[...t.matchAll(tve)].map(s=>{let o=s.groups?.message||"",a=s.groups?.filePath||"",{message:u,relatedInformation:c}=zP(o,e,r);return{type:Y4.SemanticError,filePath:Xd(a,e,r),position:[{line:parseInt(s.groups?.line||"-1"),column:parseInt(s.groups?.column||"-1")},{line:parseInt(s.groups?.line1||"-1"),column:parseInt(s.groups?.column1||"-1")}],message:u,relatedInformation:c}});return new Kp(i,n)}}function $G(t,e,r,n,i){let s=ave(e,r,n),o=(0,Rc.path2uri)(i);t.file=i,t.ast=s[o],delete s[o],t.dependencyAsts=s;let a=QG(t.ast,s),u=XG(t.ast,s),c=ZG(t.ast,s),d=eW(t.ast,s);t.contracts=JG(t.ast,s);let f=(0,Rc.buildTypeResolver)(XP(t.ast),a,u,c,t.contracts,d);t.alias=a.map(y=>({name:y.name,type:f(y.type).finalType})),t.structs=u.map(y=>({name:y.name,params:y.params.map(w=>({name:w.name,type:f(w.type).finalType})),genericTypes:y.genericTypes.map(w=>KG(w))})),t.library=c.map(y=>({name:y.name,params:y.params.map(w=>({name:w.name,type:f(w.type).finalType})),properties:y.properties.map(w=>({name:w.name,type:f(w.type).finalType})),genericTypes:y.genericTypes.map(w=>KG(w))})),t.statics=d.map(y=>Object.assign({...y},{type:f(y.type).finalType}));let{contract:m,abi:p}=YG(t.ast,f);t.stateProps=cve(t.ast).map(y=>({name:y.name,type:f(y.type).finalType})),t.abi=p,t.contract=m}function hve(t,e,r,n,i){let s=e.sources;r.debug&&Object.assign(t,{file:t.file,sources:e.sources.map(o=>Xd(o,n,i)),sourceMap:e.output.map(o=>o.src)}),t.hex=r.hex?e.output.map(o=>o.hex).join(""):"",t.asm=e.output.map(o=>{if(!r.debug)return{opcode:o.opcode};let a=Kt.SOURCE_REG.exec(o.src);if(a&&a.groups){let u=parseInt(a.groups.fileIndex),c,d=a.groups.tagStr,f=/^(\w+)\.(\w+):(\d)(#(?<context>.+))?$/.exec(d);f?c={contract:f[1],func:f[2],tag:f[3]=="0"?e_.FuncStart:e_.FuncEnd,context:f.groups.context}:/loop:0/.test(d)&&(c={contract:"",func:"",tag:e_.LoopStart,context:""});let m=s[u]?{file:s[u]?Xd(s[u],n,i):void 0,line:s[u]?parseInt(a.groups.line):void 0,endLine:s[u]?parseInt(a.groups.endLine):void 0,column:s[u]?parseInt(a.groups.col):void 0,endColumn:s[u]?parseInt(a.groups.endCol):void 0}:void 0;return{opcode:o.opcode,stack:o.stack,topVars:o.topVars||[],pos:m,debugInfo:c}}throw new Error("Compile Failed: Asm output parsing Error!")}),r.debug&&(t.autoTypedVars=e.autoTypedVars.map(o=>{let a=Kt.SOURCE_REG.exec(o.src);if(a&&a.groups){let u=parseInt(a.groups.fileIndex),c=s[u]?{file:s[u]?Xd(s[u],n,i):void 0,line:s[u]?parseInt(a.groups.line):void 0,endLine:s[u]?parseInt(a.groups.endLine):void 0,column:s[u]?parseInt(a.groups.col):void 0,endColumn:s[u]?parseInt(a.groups.endCol):void 0}:void 0;return{name:o.name,type:o.type,pos:c}}}))}function lve(t,e,r){if(!(t.stdout||t.outputToFiles||t.sourceMap))try{Object.keys(e).forEach(n=>{let i=e[n];(0,au.existsSync)(i)&&(0,au.unlinkSync)(i)}),Jye.sync(r)}catch{console.error("clean compiler output files failed!")}}function pve(t){let e=t.sources,r=t.asm.split(" ");return!t.sourceMap||t.sourceMap.length==0?[]:r.map((n,i)=>{let s=t.sourceMap[i],o=Kt.SOURCE_REG.exec(s);if(o&&o.groups){let a=parseInt(o.groups.fileIndex);return{pos:e[a]?{file:e[a],line:e[a]?parseInt(o.groups.line):void 0,endLine:e[a]?parseInt(o.groups.endLine):void 0,column:e[a]?parseInt(o.groups.col):void 0,endColumn:e[a]?parseInt(o.groups.endCol):void 0}:void 0,opcode:n}}})}Kt.loadSourceMapfromArtifact=pve});var Jd=j($t=>{"use strict";B();M();Object.defineProperty($t,"__esModule",{value:!0});$t.isBytes=$t.isSubBytes=$t.isScryptType=$t.getValidatedHexString=$t.getSortedItem=$t.OpCodeType=$t.SigHashPreimage=$t.SigHashType=$t.SignatureHashType=$t.HashedMap=$t.HashedSet=$t.Sha256=$t.Sha1=$t.PubKeyHash=$t.Ripemd160=$t.Sig=$t.PubKey=$t.PrivKey=$t.Bytes=$t.Bool=$t.Int=$t.ScryptType=$t.SymbolType=void 0;var bve;(function(t){t.ScryptType="ScryptType",t.Contract="Contract",t.Library="Library",t.Struct="Struct",t.Unknown="Unknown"})(bve=$t.SymbolType||($t.SymbolType={}));var Nc;(function(t){t.BOOL="bool",t.INT="int",t.BYTES="bytes",t.PUBKEY="PubKey",t.PRIVKEY="PrivKey",t.SIG="Sig",t.RIPEMD160="Ripemd160",t.SHA1="Sha1",t.SHA256="Sha256",t.SIGHASHTYPE="SigHashType",t.SIGHASHPREIMAGE="SigHashPreimage",t.OPCODETYPE="OpCodeType"})(Nc=$t.ScryptType||($t.ScryptType={}));function tW(t){return BigInt(t)}$t.Int=tW;function gve(t){return t}$t.Bool=gve;function mve(t){return Zd(t)}$t.Bytes=mve;function yve(t){return t}$t.PrivKey=yve;function vve(t){return Zd(t,!1)}$t.PubKey=vve;function _ve(t){return Zd(t,!1)}$t.Sig=_ve;function rW(t){return Zd(t,!1)}$t.Ripemd160=rW;function Sve(t){return rW(t)}$t.PubKeyHash=Sve;function wve(t){return Zd(t,!1)}$t.Sha1=wve;function xve(t){return Zd(t,!1)}$t.Sha256=xve;function Eve(t){return t}$t.HashedSet=Eve;function Ave(t){return t}$t.HashedMap=Ave;var $p;(function(t){t[t.ALL=65]="ALL",t[t.NONE=66]="NONE",t[t.SINGLE=67]="SINGLE",t[t.ANYONECANPAY_ALL=193]="ANYONECANPAY_ALL",t[t.ANYONECANPAY_NONE=194]="ANYONECANPAY_NONE",t[t.ANYONECANPAY_SINGLE=195]="ANYONECANPAY_SINGLE"})($p=$t.SignatureHashType||($t.SignatureHashType={}));function Tve(t){if(t==0)return"00";if(t===$p.ALL||t===$p.NONE||t===$p.SINGLE||t===$p.ANYONECANPAY_ALL||t===$p.ANYONECANPAY_NONE||t===$p.ANYONECANPAY_SINGLE)return`${t.toString(16)}`;throw new Error(`unsupported SigHashType: ${t}`)}$t.SigHashType=Tve;function Ive(t){return Zd(t,!1)}$t.SigHashPreimage=Ive;function Pve(t){return Zd(t,!1)}$t.OpCodeType=Pve;function Ove(t,e){return Object.assign({idx:tW(-1),item:e},{image:t instanceof Map?new Map(t):new Set(t)})}$t.getSortedItem=Ove;function Zd(t,e=!0){let r=t.trim();if(r.length<1&&!e)throw new Error("can't be empty string");if(r.length%2)throw new Error(`<${r}> should have even length`);if(r.length>0&&!/^[\da-f]+$/i.test(r))throw new Error(`<${r}> should only contain [0-9] or characters [a-fA-F]`);return r}$t.getValidatedHexString=Zd;function Bve(t){return Object.keys(Nc).map(e=>Nc[e]).includes(t)}$t.isScryptType=Bve;function nW(t){return[Nc.OPCODETYPE,Nc.PUBKEY,Nc.RIPEMD160,Nc.SHA1,Nc.SHA256,Nc.SIG,Nc.SIGHASHPREIMAGE,Nc.SIGHASHTYPE,"PubKeyHash"].map(e=>e.toString()).includes(t)}$t.isSubBytes=nW;function Mve(t){return t===Nc.BYTES||nW(t)}$t.isBytes=Mve});var tg=j(nn=>{"use strict";B();M();Object.defineProperty(nn,"__esModule",{value:!0});nn.resolveGenericType=nn.parseGenericType=nn.isGenericType=nn.resolveType=nn.findStatic=nn.findConstStatic=nn.flatternArg=nn.deduceGenericLibrary=nn.deduceGenericStruct=nn.hasGeneric=nn.checkSupportedParamType=nn.subArrayType=nn.toLiteralArrayType=nn.arrayTypeAndSize=nn.arrayTypeAndSizeStr=nn.typeOfArg=void 0;var eh=Tr(),i_=Mu(),Oo=Jd();function n_(t){return typeof t=="bigint"?"int":typeof t=="boolean"?"bool":typeof t=="string"?"bytes":Array.isArray(t)?"Array":typeof t}nn.typeOfArg=n_;function zp(t){let e=[];if(t.indexOf(">")>-1){let i=t.substring(0,t.lastIndexOf(">")+1);return[...t.substring(t.lastIndexOf(">")+1).matchAll(/\[([\w.]+)\]+/g)].map(o=>{e.push(o[1])}),[i,e]}return[...t.matchAll(/\[([\w.]+)\]+/g)].map(i=>{e.push(i[1])}),[t.split("[")[0],e]}nn.arrayTypeAndSizeStr=zp;function s_(t){let[e,r]=zp(t);return[e,r.map(n=>{let i=parseInt(n);if(isNaN(i))throw new Error(`arrayTypeAndSize error type ${t} with sub isNaN`);return i})]}nn.arrayTypeAndSize=s_;function Vp(t,e){return[t,e.map(r=>`[${r}]`).join("")].join("")}nn.toLiteralArrayType=Vp;function ZP(t){let[e,r]=s_(t);return Vp(e,r.slice(1))}nn.subArrayType=ZP;function sW(t,e,r){let i=r(e.type).finalType,[s,o]=s_(i);return Array.isArray(t)?t.length!==o[0]?new Error(`The type of ${e.name} is wrong, expected a array with length = ${o[0]} but got a array with length = ${t.length} `):o.length==1?t.map(a=>J4(a,{name:e.name,type:s},r)).find(a=>a instanceof Error):t.map(a=>sW(a,{name:e.name,type:ZP(i)},r)).find(a=>a instanceof Error):new Error(`The type of ${e.name} is wrong, expected ${i} but got ${n_(t)}`)}function kve(t,e,r){let n=r(e.type);if(!n.info)return new Error(`The type of ${e.name} is wrong, no info found`);let i=n.info;if(n.generic){let a=oW(e,i,r);if(a instanceof Error)return a;i=a}if(Array.isArray(t))return new Error(`The type of ${e.name} is wrong, expected ${i.name} but got a array`);if(typeof t!="object")return new Error(`The type of ${e.name} is wrong, expected ${i.name} but got a ${typeof t}`);let s=i.params.map(a=>Object.keys(t).includes(a.name)?J4(t[a.name],a,r):new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing member [${a.name}]`)).find(a=>a instanceof Error);if(s)return s;let o=i.params.map(a=>a.name);return Object.keys(t).map(a=>{if(!o.includes(a))return new Error(`The type of ${e.name} is wrong, expected ${i.name} but redundant member [${a}] appears`)}).find(a=>a instanceof Error)}function Cve(t,e,r){let n=r(e.type);if(!n.info||n.symbolType!==Oo.SymbolType.Library)return new Error(`The type of ${e.name} is wrong, no info found`);let i=n.info;if(n.generic){let s=aW(e,i,r);if(s instanceof Error)return s;i=s}return Array.isArray(t)?t.length!==i.params.length?new Error(`The type of ${e.name} is wrong, expected a array with length = ${i.params.length} but got a array with length = ${t.length} `):i.params.map((s,o)=>typeof t[o]>"u"?new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing parameter [${s.name}]`):J4(t[o],s,r)).find(s=>s instanceof Error):typeof t=="object"?i.properties.map(s=>typeof t[s.name]>"u"?new Error(`The type of ${e.name} is wrong, expected ${i.name} but missing property [${s.name}]`):J4(t[s.name],s,r)).find(s=>s instanceof Error):new Error(`The type of ${e.name} is wrong, expected a array or a object but got ${typeof t}`)}function J4(t,e,r){let n=r(e.type),i=n.finalType;if((0,eh.isArrayType)(i))return sW(t,e,r);if(n.symbolType===Oo.SymbolType.Struct)return kve(t,e,r);if(n.symbolType===Oo.SymbolType.Library)return Cve(t,e,r);if(n.symbolType===Oo.SymbolType.ScryptType){let s=new Error(`The type of ${e.name} is wrong, expected ${i} but got ${n_(t)}`),o=n_(t);return(0,Oo.isBytes)(i)?o===Oo.ScryptType.BYTES?void 0:s:i===Oo.ScryptType.PRIVKEY?o==="int"?void 0:s:o==i?void 0:s}else return new Error(`can't not resolve type: ${e.type}`)}nn.checkSupportedParamType=J4;function JP(t){return t.genericTypes.length>0}nn.hasGeneric=JP;var G2=class{constructor(e,r){this.entity=e,this.resolver=r,this.inferred={}}resolve(e){if(Object.keys(this.inferred).length>0){if(eg(e)){let[r,n]=Q4(e);return(0,i_.toGenericType)(r,n.map(i=>this.inferred[i]||i))}if((0,eh.isArrayType)(e)){let[r,n]=zp(e);return Vp(r,n.map(i=>this.inferred[i]||i))}return this.inferred[e]||e}return e}inferr(e){let r=this.resolver(e.type),[n,i]=Q4(r.finalType);return this.entity.name!==n?new Error(`Generic inference failed, expected ${n} but got ${this.entity.name}`):this.entity.genericTypes.length!==i.length?new Error("Generic inference failed, genericTypes length not match"):this.entity.genericTypes.map((s,o)=>{let a=i[o];return this.assert(s,a)}).find(s=>s instanceof Error)}getEntity(){if(Object.prototype.hasOwnProperty.call(this.entity,"properties")){let e=this.entity;return{name:e.name,params:e.params.map(r=>({name:r.name,type:this.resolve(r.type)})),properties:e.properties.map(r=>({name:r.name,type:this.resolve(r.type)})),genericTypes:(this.entity.genericTypes||[]).map(r=>this.resolve(r))}}return{name:this.entity.name,params:this.entity.params.map(e=>({name:e.name,type:this.resolve(e.type)})),genericTypes:(this.entity.genericTypes||[]).map(e=>this.resolve(e))}}assert(e,r){if(this.inferred[e]){if(this.inferred[e]!==r)return new Error(`Generic inference failed, generic ${e} cannot be both type ${this.inferred[e]} and type ${r}`)}else this.inferred[e]=r}};function oW(t,e,r){if(!JP(e))return e;let n=new G2(e,r),i=n.inferr(t);return i||n.getEntity()}nn.deduceGenericStruct=oW;function aW(t,e,r){if(!JP(e))return e;let n=new G2(e,r),i=n.inferr(t);return i||n.getEntity()}nn.deduceGenericLibrary=aW;function Rve(t,e,r,n){let[i,s]=s_(e.type),o=r(i);if(!n.ignoreValue){if(!Array.isArray(t))throw new Error("flatternArray only work with array");if(t.length!=s[0])throw new Error(`Array length not match, expected ${s[0]} but got ${t.length}`)}return new Array(s[0]).fill(1).flatMap((a,u)=>{let c=n.ignoreValue?void 0:t[u];return s.length>1?Qd({name:`${e.name}[${u}]`,type:ZP(e.type),value:c},r,n):o.symbolType===Oo.SymbolType.Struct?Qd({name:`${e.name}[${u}]`,type:i,value:c},r,n):o.symbolType===Oo.SymbolType.Library?Qd({name:`${e.name}[${u}]`,type:i,value:c},r,n):{value:c,name:`${e.name}${(0,i_.subscript)(u,s)}`,type:i}})}function Nve(t,e,r,n){let i=r(e.type);if(!n.ignoreValue&&typeof t!="object")throw new Error("flatternStruct only work with object");let s=i.info;if(i.generic){let o=new G2(s,r),a=o.inferr(e);if(a)throw a;s=o.getEntity()}return s.params.flatMap(o=>{let a=r(o.type),u=n.ignoreValue?void 0:t[o.name];return(0,eh.isArrayType)(a.finalType)?Qd({name:`${e.name}.${o.name}`,type:o.type,value:u},r,n):a.symbolType===Oo.SymbolType.Struct?Qd({name:`${e.name}.${o.name}`,type:o.type,value:u},r,n):{value:u,name:`${e.name}.${o.name}`,type:o.type}})}function Fve(t,e,r,n){let i=r(e.type),s=i.info;if(i.generic){let a=new G2(s,r),u=a.inferr(e);if(u)throw u;s=a.getEntity()}if(!n.ignoreValue)if(n.state){if(typeof t!="object")throw new Error("only work with object when flat a libray as state")}else{if(!Array.isArray(t))throw new Error("only work with array when flat a library");if(s.params.length!=t.length)throw new Error(`Array length not match, expected ${s.params.length} but got ${t.length}`)}return(n.state?s.properties:s.params).flatMap((a,u)=>{let c=r(a.type),d=n.ignoreValue?void 0:n.state?t[a.name]:t[u];return!n.ignoreValue&&typeof d>"u"&&(s.name==="HashedSet"||s.name==="HashedMap")&&(d=t[0]),(0,eh.isArrayType)(c.finalType)?Qd({name:`${e.name}.${a.name}`,type:a.type,value:d},r,n):c.symbolType===Oo.SymbolType.Struct?Qd({name:`${e.name}.${a.name}`,type:a.type,value:d},r,n):c.symbolType===Oo.SymbolType.Library?Qd({name:`${e.name}.${a.name}`,type:a.type,value:d},r,n):{value:d,name:`${e.name}.${a.name}`,type:a.type}})}function Qd(t,e,r){let n=[],i=e(t.type);return(0,eh.isArrayType)(i.finalType)?Rve(r.ignoreValue?void 0:t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):i.symbolType===Oo.SymbolType.Struct?Nve(t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):i.symbolType===Oo.SymbolType.Library?Fve(t.value,{name:t.name,type:i.finalType},e,r).forEach(s=>{n.push({name:s.name,type:e(s.type).finalType,value:s.value})}):n.push({name:t.name,type:i.finalType,value:t.value}),n}nn.flatternArg=Qd;function uW(t,e){return t.find(r=>r.const===!0&&r.name===e)}nn.findConstStatic=uW;function Hve(t,e){return t.find(r=>r.name===e)}nn.findStatic=Hve;function cW(t,e){let r=t.find(n=>n.name===e);return r?cW(t,r.type):e}function Z4(t,e,r,n,i,s){if(t=cW(i,t),(0,eh.isArrayType)(t)){let[o,a]=zp(t),u=Z4(o,e,r,n,i,s);if((0,eh.isArrayType)(u.finalType)){let[c,d]=zp(u.finalType),f=Z4(c,e,r,n,i,s);return{info:u.info,generic:u.generic,finalType:iW(r,Vp(f.finalType,a.concat(d)),n),symbolType:u.symbolType}}return{info:u.info,generic:u.generic,finalType:iW(r,Vp(u.finalType,a),n),symbolType:u.symbolType}}else if(eg(t)){let[o,a]=Q4(t),u=Z4(o,e,r,n,i,s),c=a.map(d=>Z4(d,e,r,n,i,s).finalType);return{info:u.info,generic:!0,finalType:(0,i_.toGenericType)(u.finalType,c),symbolType:u.symbolType}}return e[t]?e[t]:(0,Oo.isScryptType)(t)?{finalType:t,generic:!1,symbolType:Oo.SymbolType.ScryptType}:{finalType:t,generic:!1,symbolType:Oo.SymbolType.Unknown}}nn.resolveType=Z4;function iW(t,e,r){if((0,eh.isArrayType)(e)){let[n,i]=zp(e),s=i.map(o=>{if(/^(\d)+$/.test(o))return parseInt(o);{let a=o.indexOf(".")>0?o:`${t}.${o}`,u=uW(r,a);return u?u.value:o}});return Vp(n,s)}return e}function eg(t){return/^([\w]+)<([\w,[\]\s<>]+)>$/.test(t)}nn.isGenericType=eg;function Q4(t){if(eg(t)){let e=t.match(/([\w]+)<([\w,[\]<>\s]+)>$/);if(e){let r=e[1],n=[],i=[],s="";for(let o=0;o<e[2].length;o++){let a=e[2].charAt(o);if(a==="<"||a==="[")i.push(a);else if(a===">"||a==="]")i.pop();else if(a===","&&i.length===0){n.push(s.trim()),s="";continue}s+=a}return n.push(s.trim()),[r,n]}}throw new Error(`"${t}" is not generic type`)}nn.parseGenericType=Q4;function Dve(t,e){if(Object.keys(t).length>0){if(eg(e)){let[r,n]=Q4(e);return(0,i_.toGenericType)(r,n.map(i=>t[i]||i))}if((0,eh.isArrayType)(e)){let[r,n]=zp(e);return Vp(r,n.map(i=>t[i]||i))}return t[e]||e}return e}nn.resolveGenericType=Dve});var W2=j($e=>{"use strict";B();M();Object.defineProperty($e,"__esModule",{value:!0});$e.checkNOPScript=$e.md5=$e.findSrcInfoV1=$e.findSrcInfoV2=$e.JSONStringify=$e.JSONParserSync=$e.JSONParser=$e.structSign=$e.librarySign=$e.parseAbiFromUnlockingScript=$e.buildContractCode=$e.stripAnsi=$e.ansiRegex=$e.resolveConstValue=$e.newCall=$e.compileContractAsync=$e.compileContract=$e.isEmpty=$e.readFileByLine=$e.subscript=$e.toGenericType=$e.findStructByType=$e.getNameByType=$e.isArrayType=$e.findStructByName=$e.uri2path=$e.path2uri=$e.isNode=$e.getLowSPreimage=$e.hashIsPositiveNumber=$e.getPreimage=$e.signTx=$e.hexStringToBytes=$e.bytesToHexString=$e.bytes2Literal=$e.utf82Hex=$e.toHex=$e.uint82hex=$e.asm2int=$e.int2Asm=$e.DEFAULT_SIGHASH_TYPE=$e.DEFAULT_FLAGS=$e.bsv=void 0;var fW=$z(),ro=LV();$e.bsv=ro;var Lve=Cd(),D0=r0(),dW=ja(),Uve=qV(),hW=AF(),qve=X4(),uu=Mu(),QP=tg(),rg=ro.crypto.BN,ku=ro.Script.Interpreter;$e.DEFAULT_FLAGS=ku.SCRIPT_ENABLE_MAGNETIC_OPCODES|ku.SCRIPT_ENABLE_MONOLITH_OPCODES|ku.SCRIPT_VERIFY_STRICTENC|ku.SCRIPT_ENABLE_SIGHASH_FORKID|ku.SCRIPT_VERIFY_LOW_S|ku.SCRIPT_VERIFY_NULLFAIL|ku.SCRIPT_VERIFY_DERSIG|ku.SCRIPT_VERIFY_MINIMALDATA|ku.SCRIPT_VERIFY_NULLDUMMY|ku.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS|ku.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY|ku.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY|ku.SCRIPT_VERIFY_CLEANSTACK;$e.DEFAULT_SIGHASH_TYPE=ro.crypto.Signature.SIGHASH_ALL|ro.crypto.Signature.SIGHASH_FORKID;function jve(t){if(/^(-?\d+)$/.test(t)||/^0x([0-9a-fA-F]+)$/.test(t)){let e=t.startsWith("0x")?new rg(t.substring(2),16):new rg(t,10);return e.eqn(-1)?"OP_1NEGATE":e.gten(0)&&e.lten(16)?"OP_"+e.toString():e.toSM({endian:"little"}).toString("hex")}else throw new Error(`invalid str '${t}' to convert to int`)}$e.int2Asm=jve;function lW(t){switch(t){case"OP_1NEGATE":return-1;case"0":case"OP_0":case"OP_1":case"OP_2":case"OP_3":case"OP_4":case"OP_5":case"OP_6":case"OP_7":case"OP_8":case"OP_9":case"OP_10":case"OP_11":case"OP_12":case"OP_13":case"OP_14":case"OP_15":case"OP_16":return parseInt(t.replace("OP_",""));default:{let e=(0,uu.getValidatedHexString)(t),r=rg.fromHex(e,{endian:"little"});return r.toNumber()<Number.MAX_SAFE_INTEGER&&r.toNumber()>Number.MIN_SAFE_INTEGER?r.toNumber():r.toString()}}}$e.asm2int=lW;function eO(t){let e=t.toString(16);return e.length%2===1&&(e="0"+e),e}$e.uint82hex=eO;function a_(t){return t.toString("hex")}$e.toHex=a_;function Kve(t){let r=new TextEncoder().encode(t);return a_(E.Buffer.from(r))}$e.utf82Hex=Kve;function $ve(t,e){switch(e){case"bool":return rg.fromBuffer(t,{endian:"little"}).gt(0)?"true":"false";case"int":case"PrivKey":return rg.fromSM(t,{endian:"little"}).toString();case"bytes":return`b'${tO(t)}'`;default:return`b'${tO(t)}'`}}$e.bytes2Literal=$ve;function tO(t){return t.reduce(function(e,r){return e+=("0"+(r&255).toString(16)).slice(-2)},"")}$e.bytesToHexString=tO;function zve(t){return(0,uu.getValidatedHexString)(t),t.split("").reduce(function(e,r,n){return n%2===0?e.push(r):e[e.length-1]+=r,e},new Array).map(e=>parseInt(e,16))}$e.hexStringToBytes=zve;function Vve(t,e,r,n,i=0,s=$e.DEFAULT_SIGHASH_TYPE,o=$e.DEFAULT_FLAGS,a){if(!t)throw new Error("param tx can not be empty");if(!e)throw new Error("param privateKey can not be empty");if(!r)throw new Error("param lockingScript can not be empty");if(!n)throw new Error("param inputAmount can not be empty");if(typeof r=="string")throw new Error("Breaking change: LockingScript in ASM format is no longer supported, please use the lockingScript object directly");return a_(ro.Transaction.Sighash.sign(t,e,s,i,r,new ro.crypto.BN(n),o,a).toTxFormat())}$e.signTx=Vve;function pW(t,e,r,n=0,i=$e.DEFAULT_SIGHASH_TYPE,s=$e.DEFAULT_FLAGS){let o=ro.Transaction.Sighash.sighashPreimage(t,i,n,e,new ro.crypto.BN(r),s);return a_(o)}$e.getPreimage=pW;var bW=126;function gW(t){return t.readUInt8(31)<bW}$e.hashIsPositiveNumber=gW;function Gve(t,e,r,n=0,i=$e.DEFAULT_SIGHASH_TYPE,s=$e.DEFAULT_FLAGS){for(let o=0;o<Number.MAX_SAFE_INTEGER;o++){let a=pW(t,e,r,n,i,s),u=ro.crypto.Hash.sha256sha256(E.Buffer.from(a,"hex"));if(u.readUInt8()<bW&&gW(u))return a;t.inputs[n].sequenceNumber--}}$e.getLowSPreimage=Gve;function rO(){return typeof window>"u"&&typeof process=="object"}$e.isNode=rO;function Wve(t){return rO()?(0,hW.pathToFileURL)(t).toString():t}$e.path2uri=Wve;function Yve(t){return rO()?(0,hW.fileURLToPath)(t):t}$e.uri2path=Yve;function mW(t,e){return e.find(r=>r.name==t)}$e.findStructByName=mW;function yW(t){return/^(.+)(\[[\w.]+\])+$/.test(t)}$e.isArrayType=yW;function o_(t){if(yW(t)){let[e,r]=(0,QP.arrayTypeAndSizeStr)(t);return o_(e)}if((0,QP.isGenericType)(t)){let[e,r]=(0,QP.parseGenericType)(t);return o_(e)}return t}$e.getNameByType=o_;function Xve(t,e){let r=o_(t);if(r)return mW(r,e)}$e.findStructByType=Xve;function Zve(t,e){return`${t}<${e.join(",")}>`}$e.toGenericType=Zve;function vW(t,e){if(e.length==1)return`[${t}]`;{let r=e.slice(1),n=r.reduce(function(i,s){return i*s},1);return`[${Math.floor(t/n)}]${vW(t%n,r)}`}}$e.subscript=vW;function Jve(t,e){let r="";return D0.readFileSync(t,"utf8").split(/\r?\n/).every(function(n,i){return i===e-1?(r=n,!1):!0}),r}$e.readFileByLine=Jve;function Qve(t){return Object.keys(t).length===0}$e.isEmpty=Qve;function e_e(t,e){if(e=Object.assign({out:(0,dW.join)(__dirname,"../out"),sourceMap:!1,artifact:!1,optimize:!1},e),!D0.existsSync(t))throw`file ${t} not exists!`;return D0.existsSync(e.out)||D0.mkdirSync(e.out),(0,uu.compile)({path:t},{artifact:e.artifact,outputDir:e.out,sourceMap:e.sourceMap,optimize:e.optimize,cmdPrefix:(0,uu.findCompiler)()})}$e.compileContract=e_e;function t_e(t,e){if(e=Object.assign({out:(0,dW.join)(__dirname,"..","out"),sourceMap:!1,artifact:!1,optimize:!1},e),!D0.existsSync(t))throw`file ${t} not exists!`;return D0.existsSync(e.out)||D0.mkdirSync(e.out),(0,qve.compileAsync)({path:t},{artifact:e.artifact,outputDir:e.out,sourceMap:e.sourceMap,optimize:e.optimize,hex:!0,cmdPrefix:(0,uu.findCompiler)()})}$e.compileContractAsync=t_e;function r_e(t,e){return new(Function.prototype.bind.apply(t,[null].concat(e)))}$e.newCall=r_e;function n_e(t){let e;return t.expr.nodeType==="IntLiteral"?e=t.expr.value.toString(10):t.expr.nodeType==="BoolLiteral"&&(e=t.expr.value),t.expr.nodeType==="BytesLiteral"&&(e=`b'${t.expr.value.map(r=>eO(r)).join("")}'`),t.expr.nodeType==="FunctionCall"&&([uu.ScryptType.PUBKEY,uu.ScryptType.RIPEMD160,uu.ScryptType.SIG,uu.ScryptType.SIGHASHTYPE,uu.ScryptType.OPCODETYPE,uu.ScryptType.SIGHASHPREIMAGE,uu.ScryptType.SHA1,uu.ScryptType.SHA256].includes(t.expr.name)?e=`b'${t.expr.params[0].value.map(r=>eO(r)).join("")}'`:t.expr.name===uu.ScryptType.PRIVKEY&&(e=t.expr.params[0].value.toString(10))),e}$e.resolveConstValue=n_e;function _W({onlyFirst:t=!1}={}){let e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}$e.ansiRegex=_W;function i_e(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(_W(),"")}$e.stripAnsi=i_e;function s_e(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function o_e(t,e,r){let n=r;for(let i of t.entries()){let s=i[0],o=i[1];n=n.replace(s,o)}for(let i of e.entries()){let s=i[0],o=i[1];n=n.replace(new RegExp(`${s_e(s)}`,"g"),o)}return ro.Script.fromHex(n)}$e.buildContractCode=o_e;function a_e(t,e){let r=Object.getPrototypeOf(t).constructor.abi,n=r.filter(d=>d.type==="function");if(n.length===1)return n[0];let o=ro.Script.fromHex(e).toASM(),a=o.substr(o.lastIndexOf(" ")+1),u=lW(a),c=r.find(d=>d.index===u);if(!c)throw new Error(`the raw unlocking script cannot match the contract ${t.contractName}`);return c}$e.parseAbiFromUnlockingScript=a_e;function u_e(t){return`[${t.params.map(e=>e.type).join(",")}]`}$e.librarySign=u_e;function c_e(t){return`${JSON.stringify(t.params.reduce((e,r)=>Object.assign(e,{[r.name]:r.type}),{}),null,4)}`}$e.structSign=c_e;async function f_e(t){return new Promise((e,r)=>{(0,fW.parseChunked)(D0.createReadStream(t)).then(n=>{e(n)}).catch(n=>{r(n)})})}$e.JSONParser=f_e;function d_e(t){return JSON.parse(D0.readFileSync(t,"utf8"))}$e.JSONParserSync=d_e;async function h_e(t,e){return new Promise((r,n)=>{(0,fW.stringifyStream)(e).pipe(D0.createWriteStream(t)).on("finish",()=>{r(!0)}).on("error",i=>{n(i)})})}$e.JSONStringify=h_e;function l_e(t,e){let r=(0,Uve.decode)(e.mappings);for(let n=0;n<r[0].length;n++)if(!(r[0][n][0]<=t))return r[0][n-1];return r[0][r[0].length-1]}$e.findSrcInfoV2=l_e;function p_e(t,e){for(;--e>0;)if(t[e].pos&&t[e].pos.file!=="std"&&t[e].pos.line>0)return t[e]}$e.findSrcInfoV1=p_e;function b_e(t){return Lve.createHash("md5").update(t).digest("hex")}$e.md5=b_e;function g_e(t){ro.Script.Interpreter.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,ro.Script.Interpreter.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let e=new ro.Script.Interpreter,r=new ro.Transaction().from({txId:"a477af6b2667c29670467e4e0728b685ee07b240235771862318e29ddbe58458",outputIndex:0,script:"",satoshis:1});if(e.verify(new ro.Script(""),t,r,0,$e.DEFAULT_FLAGS,new ro.crypto.BN(1))||e.errstr!=="SCRIPT_ERR_EVAL_FALSE_NO_RESULT")throw new Error("NopScript should be a script that does not affect the Bitcoin virtual machine stack.")}$e.checkNOPScript=g_e});var nO=j(Fc=>{"use strict";B();M();Object.defineProperty(Fc,"__esModule",{value:!0});Fc.toScriptASM=Fc.toScriptHex=Fc.bytes2hex=Fc.bool2hex=Fc.int2hex=void 0;var th=Jd(),ng=W2(),m_e=ng.bsv.crypto.BN;function SW(t){if(t===(0,th.Int)(0))return"00";if(t===(0,th.Int)(-1))return"4f";if(t>(0,th.Int)(0)&&t<=(0,th.Int)(16))return t+=(0,th.Int)(80),t.toString(16);let r=new m_e(t).toSM({endian:"little"});return ng.bsv.Script.fromASM(r.toString("hex")).toHex()}Fc.int2hex=SW;function wW(t){return t?"51":"00"}Fc.bool2hex=wW;function xW(t){if(t){if(t.length/2>1)return ng.bsv.Script.fromASM(t).toHex();let e=parseInt(t,16);return e>=1&&e<=16?BigInt(e+80).toString(16):ng.bsv.Script.fromASM(t).toHex()}return"00"}Fc.bytes2hex=xW;function EW(t,e){if(e===th.ScryptType.INT||e===th.ScryptType.PRIVKEY)return SW(t);if(e===th.ScryptType.BOOL)return wW(t);if((0,th.isBytes)(e))return xW(t);throw new Error(`unsupport SupportedParamType: ${t}`)}Fc.toScriptHex=EW;function y_e(t,e){let r=EW(t,e);return ng.bsv.Script.fromHex(r).toASM()}Fc.toScriptASM=y_e});var iO=j(no=>{"use strict";B();M();Object.defineProperty(no,"__esModule",{value:!0});no.deserializeArgfromHex=no.createArray=no.createLibrary=no.createStruct=no.deserializer=no.hex2bytes=no.hex2bool=no.hex2int=void 0;var sa=Tr(),Un=Jd(),c_=f_(),AW=W2();function u_(t){if(t==="00")return(0,Un.Int)(0);if(t==="4f")return(0,Un.Int)(-1);{let r=AW.bsv.Script.fromHex(t).chunks[0];return r.opcodenum>=81&&r.opcodenum<=96?BigInt(r.opcodenum-80):(0,sa.bin2num)(r.buf.toString("hex"))}}no.hex2int=u_;function TW(t){if(t==="51")return!0;if(t==="00")return!1;throw new Error(`invalid hex ${t}`)}no.hex2bool=TW;function rh(t){if(t==="00")return"";let r=AW.bsv.Script.fromHex(t).chunks[0];return r.opcodenum>=81&&r.opcodenum<=96?E.Buffer.from([r.opcodenum-80]).toString("hex"):r.buf.toString("hex")}no.hex2bytes=rh;function ig(t,e){switch(t){case Un.ScryptType.BOOL:return(0,Un.Bool)(TW(e));case Un.ScryptType.INT:return(0,Un.Int)(u_(e));case Un.ScryptType.BYTES:return(0,Un.Bytes)(rh(e));case Un.ScryptType.PRIVKEY:return(0,Un.PrivKey)(u_(e));case Un.ScryptType.PUBKEY:return(0,Un.PubKey)(rh(e));case Un.ScryptType.SIG:return(0,Un.Sig)(rh(e));case Un.ScryptType.RIPEMD160:return(0,Un.Ripemd160)(rh(e));case Un.ScryptType.SHA1:return(0,Un.Sha1)(rh(e));case Un.ScryptType.SHA256:return(0,Un.Sha256)(rh(e));case Un.ScryptType.SIGHASHTYPE:return(0,Un.SigHashType)(Number(u_(e)));case Un.ScryptType.SIGHASHPREIMAGE:return(0,Un.SigHashPreimage)(rh(e));case Un.ScryptType.OPCODETYPE:return(0,Un.OpCodeType)(rh(e));default:throw new Error(`<${t}> cannot be cast to ScryptType, only sCrypt native types supported`)}}no.deserializer=ig;function Y2(t,e,r,n){let s=t(e.type).info,o=Object.create({});return s.params.forEach(a=>{let u=t(a.type);(0,sa.isArrayType)(u.finalType)?Object.assign(o,{[a.name]:Z2(t,u.finalType,`${e.name}.${a.name}`,r,n)}):u.symbolType===sa.SymbolType.Struct?Object.assign(o,{[a.name]:Y2(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):u.symbolType===sa.SymbolType.Library?Object.assign(o,{[a.name]:X2(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):n.state?Object.assign(o,{[a.name]:c_.default.deserializer(u.finalType,r.get(`<${e.name}.${a.name}>`))}):Object.assign(o,{[a.name]:ig(u.finalType,r.get(`<${e.name}.${a.name}>`))})}),o}no.createStruct=Y2;function X2(t,e,r,n){let s=t(e.type).info;if(n.state){let o={};return s.properties.forEach(a=>{let u=t(a.type);(0,sa.isArrayType)(u.finalType)?Object.assign(o,{[a.name]:Z2(t,a.type,`${e.name}.${a.name}`,r,n)}):u.symbolType===sa.SymbolType.Struct?Object.assign(o,{[a.name]:Y2(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):u.symbolType===sa.SymbolType.Library?Object.assign(o,{[a.name]:X2(t,{name:`${e.name}.${a.name}`,type:a.type},r,n)}):Object.assign(o,{[a.name]:c_.default.deserializer(u.finalType,r.get(`<${e.name}.${a.name}>`))})}),o}else return s.params.map(o=>{let a=t(o.type);return(0,sa.isArrayType)(a.finalType)?Z2(t,a.finalType,`${e.name}.${o.name}`,r,n):a.symbolType===sa.SymbolType.Struct?Y2(t,{name:`${e.name}.${o.name}`,type:o.type},r,n):a.symbolType===sa.SymbolType.Library?X2(t,{name:`${e.name}.${o.name}`,type:o.type},r,n):ig(a.finalType,r.get(`<${e.name}.${o.name}>`))})}no.createLibrary=X2;function Z2(t,e,r,n,i){let s=[],[o,a]=(0,sa.arrayTypeAndSize)(e),u=a[0];if(a.length===1)for(let c=0;c<u;c++){let d=t(o);d.symbolType===sa.SymbolType.Struct?s.push(Y2(t,{name:`${r}[${c}]`,type:d.finalType},n,i)):d.symbolType===sa.SymbolType.Library?s.push(X2(t,{name:`${r}[${c}]`,type:d.finalType},n,i)):i.state?s.push(c_.default.deserializer(d.finalType,n.get(`<${r}[${c}]>`))):s.push(ig(d.finalType,n.get(`<${r}[${c}]>`)))}else for(let c=0;c<u;c++){let f=[t(o).finalType,a.slice(1).map(m=>`[${m}]`).join("")].join("");s.push(Z2(t,f,`${r}[${c}]`,n,i))}return s}no.createArray=Z2;function v_e(t,e,r,n){let i,s=t(e.type);return(0,sa.isArrayType)(s.finalType)?i=Z2(t,e.type,e.name,r,n):s.symbolType===sa.SymbolType.Struct?i=Y2(t,e,r,n):s.symbolType===sa.SymbolType.Library?i=X2(t,e,r,n):n.state?i=c_.default.deserializer(e.type,r.get(`<${e.name}>`)):i=ig(e.type,r.get(`<${e.name}>`)),e.value=i,e}no.deserializeArgfromHex=v_e});var f_=j(oO=>{"use strict";B();M();Object.defineProperty(oO,"__esModule",{value:!0});var io=Tr(),IW=iO(),sO=Mu(),tr=Jd(),Bn=class{static int2hex(e){let r="",n=new io.bsv.crypto.BN(e);return n.eqn(0)?r="00":r=n.toSM({endian:"little"}).toString("hex"),io.bsv.Script.fromASM(r).toHex()}static hex2int(e){let n=io.bsv.Script.fromHex(e).chunks[0];return(0,io.bin2num)(n.buf.toString("hex"))}static bool2hex(e){return e?"01":"00"}static hex2bool(e){if(e==="01")return!0;if(e==="00")return!1;throw new Error(`invalid hex ${e}`)}static bytes2hex(e){return e===""?"00":io.bsv.Script.fromASM(e).toHex()}static hex2bytes(e){return e==="00"?"":io.bsv.Script.fromHex(e).chunks[0].buf.toString("hex")}static toHex(e,r){if(r===tr.ScryptType.INT||r===tr.ScryptType.PRIVKEY)return Bn.int2hex(e);if(r===tr.ScryptType.BOOL)return Bn.bool2hex(e);if((0,tr.isBytes)(r))return Bn.bytes2hex(e);throw new Error(`unsupported type: ${r}`)}static serialize(e,r){if(r===tr.ScryptType.INT||r===tr.ScryptType.PRIVKEY){let n=new io.bsv.crypto.BN(e);return n.eqn(0)?"":n.toSM({endian:"little"}).toString("hex")}else{if(r===tr.ScryptType.BOOL)return e?"01":"";if((0,tr.isBytes)(r))return e}throw new Error(`unsupported type: ${r}`)}static buildState(e,r,n){let i=e.map(o=>(0,sO.flatternArg)(o,n,{state:!0,ignoreValue:!1})).flat(1/0);if(i.length<=0)throw new Error("no state property found, buildContractState only used for state contract");let s=`${Bn.toHex(r,tr.ScryptType.BOOL)}`;if(s+=i.map(o=>Bn.toHex(o.value,o.type)).join(""),s){let o=s.length/2;return s+=(0,io.num2bin)(BigInt(o),4)+(0,io.num2bin)(Bn.CURRENT_STATE_VERSION,1),s}return s}static buildDefaultStateArgs(e){let r=e.stateProps.map(i=>{let s=Object.assign({},i,{value:!1});return(0,sO.flatternArg)(s,e.resolver,{state:!0,ignoreValue:!0})}).flat(1/0),n=new Map;return r.forEach(i=>{if(i.type===tr.ScryptType.INT||i.type===tr.ScryptType.PRIVKEY)n.set(`<${i.name}>`,Bn.int2hex((0,tr.Int)(0)));else if(i.type===tr.ScryptType.BOOL)n.set(`<${i.name}>`,Bn.bool2hex(!0));else if(i.type===tr.ScryptType.BYTES||i.type===tr.ScryptType.PUBKEY||i.type===tr.ScryptType.SIG||i.type===tr.ScryptType.RIPEMD160||i.type===tr.ScryptType.SHA1||i.type===tr.ScryptType.SHA256||i.type===tr.ScryptType.SIGHASHTYPE||i.type===tr.ScryptType.SIGHASHPREIMAGE||i.type===tr.ScryptType.OPCODETYPE)n.set(`<${i.name}>`,Bn.bytes2hex("00"));else throw new Error(`param ${i.name} has unknown type ${i.type}`)}),e.stateProps.map(i=>(0,IW.deserializeArgfromHex)(e.resolver,Object.assign(i,{value:void 0}),n,{state:!0}))}static deserializer(e,r){switch(e){case tr.ScryptType.BOOL:return(0,tr.Bool)(Bn.hex2bool(r));case tr.ScryptType.INT:return(0,tr.Int)(Bn.hex2int(r));case tr.ScryptType.BYTES:return(0,tr.Bytes)(Bn.hex2bytes(r));case tr.ScryptType.PRIVKEY:return(0,tr.PrivKey)(Bn.hex2int(r));case tr.ScryptType.PUBKEY:return(0,tr.PubKey)(Bn.hex2bytes(r));case tr.ScryptType.SIG:return(0,tr.Sig)(Bn.hex2bytes(r));case tr.ScryptType.RIPEMD160:return(0,tr.Ripemd160)(Bn.hex2bytes(r));case tr.ScryptType.SHA1:return(0,tr.Sha1)(Bn.hex2bytes(r));case tr.ScryptType.SHA256:return(0,tr.Sha256)(Bn.hex2bytes(r));case tr.ScryptType.SIGHASHTYPE:return(0,tr.SigHashType)(Number(Bn.hex2int(r)));case tr.ScryptType.SIGHASHPREIMAGE:return(0,tr.SigHashPreimage)(Bn.hex2bytes(r));case tr.ScryptType.OPCODETYPE:return(0,tr.OpCodeType)(Bn.hex2bytes(r));default:throw new Error(`<${e}> cannot be cast to ScryptType, only sCrypt native types supported`)}}static readBytes(e){try{let r=e.readUInt8(),n,i;return r==0?i="":r>0&&r<io.bsv.Opcode.OP_PUSHDATA1?(n=r,i=e.read(n).toString("hex")):r===io.bsv.Opcode.OP_PUSHDATA1?(n=e.readUInt8(),i=e.read(n).toString("hex")):r===io.bsv.Opcode.OP_PUSHDATA2?(n=e.readUInt16LE(),i=e.read(n).toString("hex")):r===io.bsv.Opcode.OP_PUSHDATA4?(n=e.readUInt32LE(),i=e.read(n).toString("hex")):i=(0,io.num2bin)(BigInt(r-80),1),{data:i,opcodenum:r}}catch(r){throw new Error("readBytes: "+r)}}static parseStateHex(e,r){let n=r.substr(r.length-10,10),i=Number((0,io.bin2num)(n.substr(n.length-2,2))),s=Number((0,io.bin2num)(n.substr(0,8))),o=r.substr(r.length-10-s*2,s*2),a=new io.bsv.encoding.BufferReader(E.Buffer.from(o,"hex")),c=a.readUInt8()==1,d=new Map;e.stateProps.map(p=>{let y=Object.assign({},p,{value:!1});return(0,sO.flatternArg)(y,e.resolver,{state:!0,ignoreValue:!0})}).flat(1/0).forEach(p=>{if(p.type===tr.ScryptType.BOOL){let y=a.readUInt8();d.set(`<${p.name}>`,y===1?"01":"00")}else{let{data:y}=Bn.readBytes(a);d.set(`<${p.name}>`,y?io.bsv.Script.fromASM(y).toHex():"00")}});let m=e.stateProps.map(p=>Object.assign({},p,{value:!1})).map(p=>(0,IW.deserializeArgfromHex)(e.resolver,p,d,{state:!0}));return[c,m]}};oO.default=Bn;Bn.CURRENT_STATE_VERSION=(0,tr.Int)(0)});var cO=j(oa=>{"use strict";B();M();Object.defineProperty(oa,"__esModule",{value:!0});oa.buildTypeResolver=oa.buildTypeResolverFromArtifact=oa.buildContractClass=oa.AbstractContract=oa.SUPPORTED_MINIMUM_VERSION=oa.CURRENT_CONTRACT_ARTIFACT_VERSION=void 0;var aO=ja(),uO=Tr(),PW=X4(),Lt=Mu(),Cu=Jd(),sg=f_(),L0=tg();oa.CURRENT_CONTRACT_ARTIFACT_VERSION=9;oa.SUPPORTED_MINIMUM_VERSION=8;var e1=class{constructor(...e){this.calledPubFunctions=[],this.hasInlineASMVars=!1,this.hexTemplateInlineASM=new Map,this.hexTemplateArgs=new Map,this.statePropsArgs=[],this.isGenesis=!0}get lockingScript(){if(this.hasInlineASMVars&&this.hexTemplateInlineASM.size===0)throw new Error("Values for inline ASM variables have not yet been set! Cannot get locking script.");return this.dataPart?this.codePart.add(this.dataPart):this._wrapNOPScript(this.scriptedConstructor?.lockingScript)}_wrapNOPScript(e){return this.nopScript?this.nopScript.clone().add(e):e}set txContext(e){this._txContext=e}get txContext(){return this._txContext}get sourceMapFile(){return Object.getPrototypeOf(this).constructor.artifact.sourceMapFile}get file(){return Object.getPrototypeOf(this).constructor.artifact.file}get contractName(){return Object.getPrototypeOf(this).constructor.artifact.contract}get stateProps(){return Object.getPrototypeOf(this).constructor.artifact.stateProps||[]}get version(){return Object.getPrototypeOf(this).constructor.artifact.version||0}addFunctionCall(e){this.calledPubFunctions.push(e)}get resolver(){return Object.getPrototypeOf(this).constructor.resolver}replaceAsmVars(e){if(e)for(let i in e){let s=e[i];this.hexTemplateInlineASM.set(`<${i.startsWith("$")?i.substring(1):i}>`,Lt.bsv.Script.fromASM(s).toHex())}let r=Object.getPrototypeOf(this).constructor.hex,n=(0,Lt.buildContractCode)(this.hexTemplateArgs,this.hexTemplateInlineASM,r);this.scriptedConstructor.lockingScript=n}get asmArgs(){let e={};for(let r of this.hexTemplateInlineASM.entries()){let n=r[0].replace("<","").replace(">",""),i=r[1];e[n]=Lt.bsv.Script.fromHex(i).toASM()}return e}getNewStateScript(e){let r=this.statePropsArgs;if(r.length===0)throw new Error(`Contract ${this.contractName} does not have any stateful property`);let n=[],i=r.map(s=>{if(Object.prototype.hasOwnProperty.call(e,s.name)){n.push(s.name);let o=e[s.name];o=this.transformerArg(o,s,!0);let a=(0,L0.checkSupportedParamType)(o,s,this.resolver);if(a)throw a;return Object.assign({...s},{value:o})}else return s});return Object.keys(e).forEach(s=>{if(n.indexOf(s)===-1)throw new Error(`Contract ${this.contractName} does not have stateful property ${s}`)}),this.codePart.add(Lt.bsv.Script.fromHex(sg.default.buildState(i,!1,this.resolver)))}run_verify(e,r){let n=Object.assign({},this._txContext||{},r||{}),i;typeof e=="string"?i=e.trim()?Lt.bsv.Script.fromASM(e.trim()):new Lt.bsv.Script(""):i=e||new Lt.bsv.Script("");let s=Lt.bsv.Script.fromHex(this.lockingScript.toHex()),o=typeof n.tx=="string"?new Lt.bsv.Transaction(n.tx):n.tx,a=n.inputIndex,u=n.inputSatoshis;Lt.bsv.Script.Interpreter.MAX_SCRIPT_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER,Lt.bsv.Script.Interpreter.MAXIMUM_ELEMENT_SIZE=Number.MAX_SAFE_INTEGER;let c=new Lt.bsv.Script.Interpreter,d={};c.stepListener=function(m){(m.fExec||Lt.bsv.Opcode.OP_IF<=m.opcode.toNumber()&&m.opcode.toNumber()<=Lt.bsv.Opcode.OP_ENDIF)&&(Lt.bsv.Opcode.OP_IF<=m.opcode.toNumber()&&m.opcode.toNumber()<=Lt.bsv.Opcode.OP_ENDIF||m.opcode.toNumber()===Lt.bsv.Opcode.OP_RETURN?d.opcode=m.opcode:d=m)};let f=c.verify(i,s,o,a,Lt.DEFAULT_FLAGS,new Lt.bsv.crypto.BN(u));if(f)return{success:!0,error:""};if((c.errstr||"").indexOf("SCRIPT_ERR_NULLFAIL")>-1){if(!n)throw new Error("should provide txContext when verify");if(!o)throw new Error("should provide txContext.tx when verify")}return d.opcode=d.opcode.toNumber(),{success:f,error:this.fmtError({error:c.errstr||"",failedAt:d})}}fmtError(e){let r=e.failedAt.opcode,n=`VerifyError: ${e.error}, fails at ${new Lt.bsv.Opcode(r)}
`;if(this.sourceMapFile){let i=(0,Lt.uri2path)(this.sourceMapFile),s=(0,Lt.JSONParserSync)(i),o=(0,aO.join)(i,this.file),a=(0,aO.dirname)(o),u=(0,aO.basename)(o),c=s.sources.map(f=>(0,PW.getFullFilePath)(f,a,u)),d=(0,Lt.findSrcInfoV2)(e.failedAt.pc,s);d&&c[d[1]]&&(n=`VerifyError: ${e.error} 
	[Go to Source](${(0,Lt.path2uri)(c[d[1]])}#${d[2]})  fails at ${new Lt.bsv.Opcode(r)}
`)}else if(this.version<=8){let i=Object.getPrototypeOf(this).constructor.artifact,s=(0,PW.loadSourceMapfromArtifact)(i);if(s.length>0){let o=e.failedAt.pc;if(s[o]){let a=s[o];if(!a.pos||a.pos.file==="std"){let u=(0,Lt.findSrcInfoV1)(s,o);u&&(a.pos=u.pos)}a&&a.pos&&(n=`VerifyError: ${e.error} 
	[Go to Source](${(0,Lt.path2uri)(a.pos.file)}#${a.pos.line})  fails at ${new Lt.bsv.Opcode(r)}
`)}}}return n}genLaunchConfig(e){let r=Object.assign({},this.txContext||{},e||{}),n=this.lastCalledPubFunction();if(n)return`[Launch Debugger](${n.genLaunchConfig(r).replace(/file:/i,"scryptlaunch:")})
`;throw new Error("No public function called")}set dataPart(e){throw new Error("Setter for dataPart is not available. Please use: setDataPart() instead")}get dataPart(){if(e1.isStateful(this)){let e=sg.default.buildState(this.statePropsArgs,this.isGenesis,this.resolver);return Lt.bsv.Script.fromHex(e)}if(this._dataPartInHex)return Lt.bsv.Script.fromHex(this._dataPartInHex)}setDataPart(e,r=!1){r==!1?(console.warn("deprecated, using setDataPartInASM"),this.setDataPartInASM(e)):(console.warn("deprecated, using setDataPartInHex"),this.setDataPartInHex(e))}setDataPartInASM(e){if(e1.isStateful(this))throw new Error("should not use `setDataPartInASM` for a stateful contract, using `setDataPartInHex`");let r=e.trim();this.setDataPartInHex(Lt.bsv.Script.fromASM(r).toHex())}setDataPartInHex(e){if(this._dataPartInHex=e.trim(),e1.isStateful(this)){let[r,n]=sg.default.parseStateHex(this,this._dataPartInHex);this.statePropsArgs=n,this.isGenesis=r}}prependNOPScript(e){e instanceof Lt.bsv.Script&&(0,Lt.checkNOPScript)(e),this.nopScript=e}getPrependNOPScript(){return this.nopScript}get codePart(){let e=this.scriptedConstructor.toScript();return this._wrapNOPScript(e.clone()).add(Lt.bsv.Script.fromHex("6a"))}get codeHash(){return this.dataPart?(0,Lt.hash160)(this.codePart.toHex()):(0,Lt.hash160)(this.lockingScript.toHex())}static getAsmVars(e){return this.fromHex(e).asmArgs}arguments(e){if(e==="constructor")return this.scriptedConstructor.args;for(let r=this.calledPubFunctions.length-1;r>=0;r--){let n=this.calledPubFunctions[r];if(n.methodName===e)return n.args}return[]}lastCalledPubFunction(){let e=this.calledPubFunctions.length-1;if(!(e<0))return this.calledPubFunctions[e]}ctorArgs(){return this.arguments("constructor")}get asmVars(){return this.ContractClass.getAsmVars(this.scriptedConstructor.toHex())}get ContractClass(){return Object.getPrototypeOf(this).constructor}transformerArgs(e,r,n){return r.map((i,s)=>this.transformerArg(e[s],i,n))}transformerArg(e,r,n){let i=this.resolver(r.type);if((0,Lt.isArrayType)(i.finalType)){let[s,o]=(0,L0.arrayTypeAndSize)(i.finalType);if(!Array.isArray(e)||e.length!==o[0])return e;let a=(0,L0.subArrayType)(r.type),u=[];for(let c=0;c<o[0];c++){let d=e[c];u.push(this.transformerArg(d,{name:`${r.name}${(0,Lt.subscript)(c,o)}`,type:a},n))}return u}else if(i.symbolType===Cu.SymbolType.Library){let s=i.info;if(s.name==="HashedMap"){if(e instanceof Map)return n?{_data:this.ContractClass.toData(e,r.type)}:[this.ContractClass.toData(e,r.type)]}else if(s.name==="HashedSet"&&e instanceof Set)return n?{_data:this.ContractClass.toData(e,r.type)}:[this.ContractClass.toData(e,r.type)];let o=n?s.properties:s.params;if(!n&&Array.isArray(e))return o.map((a,u)=>this.transformerArg(e[u],a,n));if(n&&typeof e=="object")return o.reduce((a,u)=>(Object.assign(a,{[u.name]:this.transformerArg(e[u.name],u,n)}),a),{})}else if(i.symbolType===Cu.SymbolType.Struct){if(!Array.isArray(e)&&typeof e=="object"){let s=i.info;if(s.name==="SortedItem"){if(e.idx===(0,Cu.Int)(-1)&&(e.image instanceof Map||e.image instanceof Set)){let[a,u]=(0,uO.parseGenericType)(i.finalType);return Object.assign({},{idx:this.ContractClass.findKeyIndex(e.image,e.item,u[0]),item:e.item})}return e}let o=Object.assign({},e);return s.params.forEach(a=>{typeof e[a.name]<"u"&&(o[a.name]=this.transformerArg(e[a.name],a,n))}),o}}else if(typeof e=="number")return BigInt(e);return e}checkArgs(e,r,...n){if(n.length!==r.length)throw new Error(`wrong number of arguments for '${this.contractName}.${e}', expected ${r.length} but got ${n.length}`);let i=this.transformerArgs(n,r,!1);return r.forEach((s,o)=>{let a=i[o],u=(0,L0.checkSupportedParamType)(a,s,this.resolver);if(u)throw u}),i}static fromASM(e){return this.fromHex(Lt.bsv.Script.fromASM(e).toHex())}static fromHex(e){this.asmContract=!0;let r=this,n=new r;return this.asmContract=!1,n.scriptedConstructor=this.abiCoder.encodeConstructorCallFromRawHex(n,this.hex,e),n}static fromTransaction(e,r=0){let n=new Lt.bsv.Transaction(e);return this.fromHex(n.outputs[r].script.toHex())}static isStateful(e){return e.stateProps.length>0}static flattenSha256(e,r){let n=(0,L0.checkSupportedParamType)(e,{name:"",type:r},this.resolver);if(n)throw n;let i=(0,L0.flatternArg)({name:"",type:r,value:e},this.resolver,{state:!0,ignoreValue:!1});if(i.length===1){let s=sg.default.serialize(i[0].value,i[0].type);return Lt.bsv.crypto.Hash.sha256(E.Buffer.from(s,"hex")).toString("hex")}else{let s=i.map(o=>{let a=sg.default.serialize(o.value,o.type);return Lt.bsv.crypto.Hash.sha256(E.Buffer.from(a,"hex")).toString("hex")}).join("");return Lt.bsv.crypto.Hash.sha256(E.Buffer.from(s,"hex")).toString("hex")}}static sortmap(e,r){return new Map([...e.entries()].sort((n,i)=>Lt.bsv.crypto.BN.fromSM(E.Buffer.from(this.flattenSha256(n[0],r),"hex"),{endian:"little"}).cmp(Lt.bsv.crypto.BN.fromSM(E.Buffer.from(this.flattenSha256(i[0],r),"hex"),{endian:"little"}))))}static sortset(e,r){return new Set([...e.keys()].sort((n,i)=>Lt.bsv.crypto.BN.fromSM(E.Buffer.from(this.flattenSha256(n,r),"hex"),{endian:"little"}).cmp(Lt.bsv.crypto.BN.fromSM(E.Buffer.from(this.flattenSha256(i,r),"hex"),{endian:"little"}))))}static sortkeys(e,r){return e.sort((n,i)=>Lt.bsv.crypto.BN.fromSM(E.Buffer.from(this.flattenSha256(n,r),"hex"),{endian:"little"}).cmp(Lt.bsv.crypto.BN.fromSM(E.Buffer.from(this.flattenSha256(i,r),"hex"),{endian:"little"})))}static findKeyIndex(e,r,n){let i=[...e.keys()];i.push(r);let o=this.sortkeys(i,n).findIndex(a=>a===r);return BigInt(o)}static toData(e,r){let[n,i]=(0,uO.parseGenericType)(r),s="";if(e instanceof Map){let o=this.sortmap(e,i[0]);for(let a of o.entries())s+=this.flattenSha256(a[0],i[0])+this.flattenSha256(a[1],i[1])}else{let o=this.sortset(e,i[0]);for(let a of o.keys())s+=this.flattenSha256(a,i[0])}return(0,Cu.Bytes)(s)}};oa.AbstractContract=e1;var __e=["arguments","setDataPart","setDataPartInASM","setDataPartInHex","version","stateProps","sourceMapFile","file","contractName","ctorArgs","run_verify","replaceAsmVars","asmVars","asmArguments","dataPart","lockingScript","codeHash","codePart","resolver","getNewStateScript","txContext"];function S_e(t){if(t instanceof Lt.CompileResult&&(t=t.toArtifact()),!t.contract)throw new Error("Missing field `contract` in artifact");if(!t.version)throw new Error("Missing field `version` in artifact");if(t.version<oa.SUPPORTED_MINIMUM_VERSION)throw new Error(`Contract artifact version deprecated, The minimum version number currently supported is ${oa.SUPPORTED_MINIMUM_VERSION}`);if(!t.abi)throw new Error("Missing field `abi` in artifact");if(!t.hex)throw new Error("Missing field `hex` in artifact");let e=class extends e1{constructor(...r){super(),e.asmContract||(this.scriptedConstructor=e.abiCoder.encodeConstructorCall(this,e.hex,...r))}};return e.artifact=t,e.resolver=OW(t),e.abi=t.abi,e.hex=t.hex,e.abiCoder=new Lt.ABICoder(t.abi,e.resolver,t.contract),e.stateProps=t.stateProps||[],e.abi.forEach(r=>{if(r.type!==uO.ABIEntityType.CONSTRUCTOR){if(!r.name||__e.indexOf(r.name)>-1)throw new Error(`Method name [${r.name}] is used by scryptlib now, Pelease change you contract method name!`);e.prototype[r.name]=function(...n){let i=e.abiCoder.encodePubFunctionCall(this,r.name||"",n);return this.addFunctionCall(i),i}}}),e.stateProps.forEach(r=>{Object.defineProperty(e.prototype,r.name,{get(){let n=this.statePropsArgs.find(i=>i.name===r.name);if(n)return n.value;throw new Error(`property ${r.name} does not exists`)},set(n){let i=this.statePropsArgs.find(s=>s.name===r.name);if(i){n=this.transformerArg(n,i,!0);let s=(0,L0.checkSupportedParamType)(n,i,this.resolver);if(s)throw s;i.value=n,this.isGenesis=!1}else throw new Error(`property ${r.name} does not exists`)}})}),e}oa.buildContractClass=S_e;function OW(t){let e=t.alias||[],r=t.library||[],n=t.structs||[],i=t.contract;return BW(i,e,n,r)}oa.buildTypeResolverFromArtifact=OW;function BW(t,e,r,n,i=[],s=[]){let o={};return r.forEach(u=>{o[u.name]={info:u,generic:(0,L0.hasGeneric)(u),finalType:u.name,symbolType:Cu.SymbolType.Struct}}),n.forEach(u=>{o[u.name]={info:u,generic:(0,L0.hasGeneric)(u),finalType:u.name,symbolType:Cu.SymbolType.Library}}),i.forEach(u=>{o[u.name]={info:u,generic:(0,L0.hasGeneric)(u),finalType:u.name,symbolType:Cu.SymbolType.Contract}}),o.HashedMap={info:{name:"HashedMap",params:[{name:"_data",type:"bytes"}],properties:[{name:"_data",type:"bytes"}],genericTypes:["K","V"]},generic:!0,finalType:"HashedMap",symbolType:Cu.SymbolType.Library},o.HashedSet={info:{name:"HashedSet",params:[{name:"_data",type:"bytes"}],properties:[{name:"_data",type:"bytes"}],genericTypes:["E"]},generic:!0,finalType:"HashedSet",symbolType:Cu.SymbolType.Library},o.SortedItem={info:{name:"SortedItem",params:[{name:"item",type:"T"},{name:"idx",type:"int"}],genericTypes:["T"]},generic:!0,finalType:"SortedItem",symbolType:Cu.SymbolType.Struct},o.PubKeyHash={finalType:"Ripemd160",generic:!1,symbolType:Cu.SymbolType.ScryptType},u=>o[u]?o[u]:(0,Cu.isScryptType)(u)?{generic:!1,finalType:u,symbolType:Cu.SymbolType.ScryptType}:(0,Lt.resolveType)(u,o,t,s,e,n)}oa.buildTypeResolver=BW});var hO=j(sn=>{"use strict";B();M();Object.defineProperty(sn,"__esModule",{value:!0});sn.hash256=sn.sha256=sn.hash160=sn.buildPublicKeyHashScript=sn.buildOpreturnScript=sn.writeVarint=sn.toLEUnsigned=sn.len=sn.invert=sn.xor=sn.or=sn.and=sn.bin2num=sn.num2bin=sn.unpack=sn.pack=void 0;var ih=Tr();function t1(t){return new ih.bsv.crypto.BN(t).toSM({endian:"little"}).toString("hex")}sn.pack=t1;function w_e(t){return BigInt(J2(t))}sn.unpack=w_e;function nh(t,e){let r=new ih.bsv.crypto.BN(t);if(r.eqn(0))return"00".repeat(e);let n=r.toSM({endian:"little"}).toString("hex"),i=n.length/2;if(i>e)throw new Error(`${t} cannot fit in ${e} byte[s]`);if(i===e)return n;let s=e-i,o=n.substring(n.length-2),a=n.substring(0,n.length-2),u=parseInt(o,16);r.isNeg()&&(u&=127);let c=u.toString(16);c.length<2&&(c="0"+c);let d=t>0?"00".repeat(s):"00".repeat(s-1)+"80";return a+c+d}sn.num2bin=nh;function J2(t){let e=t.substring(t.length-2),r=t.substring(0,t.length-2),n=parseInt(e,16),s=(n&127).toString(16);s.length<2&&(s="0"+s);let o=ih.bsv.crypto.BN.fromHex(r+s,{endian:"little"});return n>>7&&(o=o.neg()),BigInt(o.toString())}sn.bin2num=J2;function x_e(t,e){let r=t1(t).length/2,n=t1(e).length/2,i=Math.max(r,n),s=E.Buffer.from(nh(t,i),"hex"),o=E.Buffer.from(nh(e,i),"hex");for(let a=0;a<s.length;a++)s[a]&=o[a];return J2(s.toString("hex"))}sn.and=x_e;function E_e(t,e){let r=t1(t).length/2,n=t1(e).length/2,i=Math.max(r,n),s=E.Buffer.from(nh(t,i),"hex"),o=E.Buffer.from(nh(e,i),"hex");for(let a=0;a<s.length;a++)s[a]|=o[a];return J2(s.toString("hex"))}sn.or=E_e;function A_e(t,e){let r=t1(t).length/2,n=t1(e).length/2,i=Math.max(r,n),s=E.Buffer.from(nh(t,i),"hex"),o=E.Buffer.from(nh(e,i),"hex");for(let a=0;a<s.length;a++)s[a]^=o[a];return J2(s.toString("hex"))}sn.xor=A_e;function T_e(t){if(t===(0,ih.Int)(0))return t;let e=t1(t).length/2,r=E.Buffer.from(nh(t,e),"hex");for(let n=0;n<r.length;n++)r[n]=~r[n];return J2(r.toString("hex"))}sn.invert=T_e;function dO(t){return BigInt(t.length/2)}sn.len=dO;function og(t,e){let r=nh(t,e+1);return r.slice(0,Number(dO(r)-(0,ih.Int)(1)))}sn.toLEUnsigned=og;function I_e(t){let e=dO(t),r="";return e<253?r=og(e,1):e<65536?r="fd"+og(e,2):e<4294967296?r="fe"+og(e,4):e<18446744073709552e3&&(r="ff"+og(e,8)),r+t}sn.writeVarint=I_e;function P_e(t){return ih.bsv.Script.fromASM(["OP_FALSE","OP_RETURN",t].join(" "))}sn.buildOpreturnScript=P_e;function O_e(t){return ih.bsv.Script.fromASM(["OP_DUP","OP_HASH160",t,"OP_EQUALVERIFY","OP_CHECKSIG"].join(" "))}sn.buildPublicKeyHashScript=O_e;function B_e(t,e){return ih.bsv.crypto.Hash.sha256ripemd160(E.Buffer.from(t,e||"hex")).toString("hex")}sn.hash160=B_e;function fO(t,e){return ih.bsv.crypto.Hash.sha256(E.Buffer.from(t,e||"hex")).toString("hex")}sn.sha256=fO;function M_e(t,e){return fO(fO(t,e),e)}sn.hash256=M_e});var pO=j(Hc=>{"use strict";B();M();Object.defineProperty(Hc,"__esModule",{value:!0});Hc.readLaunchJson=Hc.parseLiteral=Hc.stringToBytes=Hc.toJSON=Hc.genLaunchConfigFile=void 0;var Dt=Mu(),Gp=W2(),lO=r0(),k_e=KE(),MW=ja();function C_e(t,e,r,n,i,s,o,a){if(!s)return"";let u={type:"scrypt",request:"launch",internalConsoleOptions:"openOnSessionStart",name:i,program:s,constructorArgs:e.map(m=>Q2(m,t)),pubFunc:n,pubFuncArgs:r.map(m=>Q2(m,t))},c={};if(!(0,Gp.isEmpty)(o)){let m=o.inputIndex||0;if(o.tx){let p=o.inputSatoshis;Object.assign(c,{hex:o.tx.toString(),inputIndex:m,inputSatoshis:p})}o.opReturn?Object.assign(c,{opReturn:o.opReturn}):o.opReturnHex&&Object.assign(c,{opReturnHex:o.opReturnHex})}(0,Gp.isEmpty)(a)||Object.assign(u,{asmArgs:a}),(0,Gp.isEmpty)(c)||Object.assign(u,{txContext:c});let d={version:"0.2.0",configurations:[u]},f=JSON.stringify(d,(m,p)=>typeof p=="bigint"?p.toString():p,2);if((0,Gp.isNode)()){let m=`${i}-launch.json`,p=(0,MW.join)(lO.mkdtempSync(`${(0,k_e.tmpdir)()}${MW.sep}sCrypt.`),m);return lO.writeFileSync(p,f),(0,Gp.path2uri)(p)}else console.error(`${n}() call fail, see launch.json`,f)}Hc.genLaunchConfigFile=C_e;function Q2(t,e){let r=e(t.type);if((0,Gp.isArrayType)(r.finalType)){let n=t.value,[i,s]=(0,Dt.arrayTypeAndSize)(r.finalType),o=(0,Dt.subArrayType)(r.finalType);return n.map((a,u)=>Q2({name:`${t.name}${(0,Dt.subscript)(u,s)}`,type:o,value:a},e))}else if(r.symbolType===Dt.SymbolType.Library){let n=[],i=(0,Dt.deduceGenericLibrary)(t,r.info,e);if(i instanceof Error)throw i;return i.params.forEach((s,o)=>{n.push(Q2({name:s.name,type:s.type,value:t.value[o]},e))}),n}else if(r.symbolType===Dt.SymbolType.Struct){let n={},i=(0,Dt.deduceGenericStruct)(t,r.info,e);if(i instanceof Error)throw i;return i.params.forEach(s=>{Object.assign(n,{[s.name]:Q2({name:s.name,type:s.type,value:t.value[s.name]},e)})}),n}else if(r.symbolType===Dt.SymbolType.ScryptType)switch(r.finalType){case Dt.ScryptType.BOOL:return t.value;case Dt.ScryptType.INT:return t.value>=BigInt(Number.MIN_SAFE_INTEGER)&&t.value<=BigInt(Number.MAX_SAFE_INTEGER)?Number(t.value):t.value.toString();case Dt.ScryptType.BYTES:return`b'${t.value.toString()}'`;case Dt.ScryptType.PRIVKEY:return`PrivKey(${t.value.toString()})`;case Dt.ScryptType.SIG:case Dt.ScryptType.RIPEMD160:case Dt.ScryptType.SHA1:case Dt.ScryptType.SHA256:case Dt.ScryptType.SIGHASHPREIMAGE:case Dt.ScryptType.OPCODETYPE:case Dt.ScryptType.SIGHASHTYPE:case Dt.ScryptType.PUBKEY:return`${r.finalType}(b'${t.value.toString()}')`}}Hc.toJSON=Q2;function kW(t){let r=new TextEncoder().encode(t);return(0,Dt.getValidatedHexString)(E.Buffer.from(r).toString("hex"))}Hc.stringToBytes=kW;function R_e(t,e=!1){if(t==="false")return[!1,Dt.ScryptType.BOOL];if(t==="true")return[!0,Dt.ScryptType.BOOL];if(e){let n=/^(0x[0-9a-fA-F]+)$/.exec(t);if(n)return[BigInt(n[1]),Dt.ScryptType.INT];if(n=/^(-?\d+)$/.exec(t),n)return[BigInt(n[1]),Dt.ScryptType.INT]}else if(/^([\da-fA-F]*)$/.exec(t))return[(0,Dt.Bytes)(t),Dt.ScryptType.BYTES];let r=/^b'([\da-fA-F]*)'$/.exec(t);if(r)return[(0,Dt.Bytes)(r[1]),Dt.ScryptType.BYTES];if(r=/^"([\s\S]*)"$/.exec(t),r)return[kW(r[1]),Dt.ScryptType.BYTES];if(r=/^PrivKey\((-?\d+)\)$/.exec(t),r)return[BigInt(r[1]),Dt.ScryptType.PRIVKEY];if(r=/^PrivKey\((0x[0-9a-fA-F]+)\)$/.exec(t),r)return[BigInt(r[1]),Dt.ScryptType.PRIVKEY];if(r=/^PubKey\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,Dt.getValidatedHexString)(r[1]);return[(0,Dt.Bytes)(n),Dt.ScryptType.PUBKEY]}if(r=/^Sig\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,Dt.getValidatedHexString)(r[1]);return[(0,Dt.Bytes)(n),Dt.ScryptType.SIG]}if(r=/^Ripemd160\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,Dt.getValidatedHexString)(r[1]);return[(0,Dt.Bytes)(n),Dt.ScryptType.RIPEMD160]}if(r=/^Sha1\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,Dt.getValidatedHexString)(r[1]);return[(0,Dt.Bytes)(n),Dt.ScryptType.SHA1]}if(r=/^Sha256\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,Dt.getValidatedHexString)(r[1]);return[(0,Dt.Bytes)(n),Dt.ScryptType.SHA256]}if(r=/^SigHashType\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,Dt.getValidatedHexString)(r[1]);return[(0,Dt.Bytes)(n),Dt.ScryptType.SIGHASHTYPE]}if(r=/^SigHashPreimage\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,Dt.getValidatedHexString)(r[1]);return[(0,Dt.Bytes)(n),Dt.ScryptType.SIGHASHPREIMAGE]}if(r=/^OpCodeType\(b'([\da-fA-F]+)'\)$/.exec(t),r){let n=(0,Dt.getValidatedHexString)(r[1]);return[(0,Dt.Bytes)(n),Dt.ScryptType.OPCODETYPE]}throw new Error(`<${t}> cannot be cast to ASM format, only sCrypt native types supported`)}Hc.parseLiteral=R_e;var N_e=/(\[((!\[[^\]]*?\]\(\s*)([^\s()]+?)\s*\)\]|(?:\\\]|[^\]])*\])\(\s*)(([^\s()]|\([^\s()]*?\))+)\s*(".*?")?\)/g;function F_e(t){for(let e of t.matchAll(N_e))if(e[5]&&e[5].startsWith("scryptlaunch")){let r=e[5].replace(/scryptlaunch/,"file");return JSON.parse(lO.readFileSync((0,Gp.uri2path)(r)).toString())}}Hc.readLaunchJson=F_e});var DW=j(e3=>{"use strict";B();M();Object.defineProperty(e3,"__esModule",{value:!0});e3.ABICoder=e3.FunctionCall=void 0;var bO=hO(),CW=X4(),HW=cO(),RW=iO(),H_e=pO(),D_e=Jd(),NW=nO(),FW=f_(),gO=tg(),Ea=W2(),Wp=class{get unlockingScript(){return this._unlockingScript}get lockingScript(){return this._lockingScript}set lockingScript(e){this._lockingScript=e}constructor(e,r){if(this.methodName=e,this.args=[],r.lockingScript===void 0&&r.unlockingScript===void 0)throw new Error("param binding.lockingScript & binding.unlockingScript cannot both be empty");this.contract=r.contract,this.args=r.args,r.lockingScript&&(this._lockingScript=r.lockingScript),r.unlockingScript&&(this._unlockingScript=r.unlockingScript)}toASM(){return this.toScript().toASM()}toString(){return this.toHex()}toScript(){return this.lockingScript?this.lockingScript:this.unlockingScript}toHex(){return this.toScript().toHex()}genLaunchConfig(e){let r=this.methodName,n=`Debug ${this.contract.contractName}`,i=`${this.contract.file}`,s=this.contract.asmArgs||{},o={};HW.AbstractContract.isStateful(this.contract)?Object.assign(o,{opReturnHex:this.contract.dataPart?.toHex()||""}):this.contract.dataPart&&Object.assign(o,{opReturn:this.contract.dataPart.toASM()});let a=Object.assign({},this.contract.txContext||{},e||{},o);return(0,H_e.genLaunchConfigFile)(this.contract.resolver,this.contract.ctorArgs(),this.args,r,n,i,a,s)}verify(e){let r=this.contract.run_verify(this.unlockingScript,e);if(!r.success){let n=this.genLaunchConfig(e);n&&(r.error=r.error+`	[Launch Debugger](${n.replace(/file:/i,"scryptlaunch:")})
`)}return r}};e3.FunctionCall=Wp;var mO=class{constructor(e,r,n){this.abi=e,this.resolver=r,this.contractName=n}encodeConstructorCall(e,r,...n){let s=this.abi.filter(m=>m.type===CW.ABIEntityType.CONSTRUCTOR)[0]?.params||[],o=e.checkArgs("constructor",s,...n);s.flatMap((m,p)=>{let y=Object.assign({...m},{value:o[p]});return(0,gO.flatternArg)(y,this.resolver,{state:!1,ignoreValue:!1})}).forEach(m=>{if(!r.includes(`<${m.name}>`))throw new Error(`abi constructor params mismatch with args provided: missing ${m.name} in ASM tempalte`);e.hexTemplateArgs.set(`<${m.name}>`,(0,NW.toScriptHex)(m.value,m.type))});let u=!!r.match(/<__codePart__>/g);u&&e.hexTemplateArgs.set("<__codePart__>","00");let c=r.match(/<.*?>/g),d=c?c.length:0;e.hasInlineASMVars=u?d>e.hexTemplateArgs.size+1:d>e.hexTemplateArgs.size,e.statePropsArgs=FW.default.buildDefaultStateArgs(e);let f=(0,Ea.buildContractCode)(e.hexTemplateArgs,e.hexTemplateInlineASM,r);return new Wp("constructor",{contract:e,lockingScript:f,args:s.map((m,p)=>({name:m.name,type:m.type,value:o[p]}))})}encodeConstructorCallFromRawHex(e,r,n){let i=Ea.bsv.Script.fromHex(n),o=this.abi.filter(T=>T.type===CW.ABIEntityType.CONSTRUCTOR)[0]?.params||[],a=0,u,c=-1,d=new Error(`the raw script cannot match the ASM template of contract ${e.contractName}`);function f(T){let k=r.substring(a,a+2);if(parseInt(k,16)!=T.opcodenum)throw d;a=a+2}function m(T){let k=r.substring(a,a+2);if(parseInt(k,16)!=T.opcodenum)throw d;a=a+2;let H=r.substring(a,a+T.len*2);if(T.buf.toString("hex")!=H)throw d;a=a+T.len*2}function p(T){let k=r.substring(a,a+2);if(parseInt(k,16)!=T.opcodenum)throw d;a=a+2;let H=r.substring(a,a+2);if(parseInt(H,16)!=T.len)throw d;a=a+2;let F=r.substring(a,a+T.len*2);if(T.buf.toString("hex")!=F)throw d;a=a+T.len*2}function y(T){let k=r.substring(a,a+2);if(parseInt(k,16)!=T.opcodenum)throw d;a=a+2;let H=r.substring(a,a+4);if((0,bO.bin2num)(H)!=BigInt(T.len))throw d;a=a+4;let F=r.substring(a,a+T.len*2);if(T.buf.toString("hex")!=F)throw d;a=a+T.len*2}function w(T){let k=r.substring(a,a+2);if(parseInt(k,16)!=T.opcodenum)throw d;a=a+2;let H=r.substring(a,a+8);if((0,bO.bin2num)(H)!=BigInt(T.len))throw d;a=a+8;let F=r.substring(a,a+T.len*2);if(T.buf.toString("hex")!=F)throw d;a=a+T.len*2}function P(){if(r.charAt(a)=="<"){let T=a,k=!1;for(;!k&&a<r.length;)a++,r.charAt(a)==">"&&(a++,k=!0);if(!k)throw new Error("cannot found break >");return r.substring(T,a)}}function C(T,k){let H=new Ea.bsv.encoding.BufferWriter;H.writeUInt8(k.opcodenum),k.buf&&(k.opcodenum<Ea.bsv.Opcode.OP_PUSHDATA1?H.write(k.buf):k.opcodenum===Ea.bsv.Opcode.OP_PUSHDATA1?(H.writeUInt8(k.len),H.write(k.buf)):k.opcodenum===Ea.bsv.Opcode.OP_PUSHDATA2?(H.writeUInt16LE(k.len),H.write(k.buf)):k.opcodenum===Ea.bsv.Opcode.OP_PUSHDATA4&&(H.writeUInt32LE(k.len),H.write(k.buf))),T.startsWith(`<${e.contractName}.`)?e.hexTemplateInlineASM.set(T,H.toBuffer().toString("hex")):e.hexTemplateArgs.set(T,H.toBuffer().toString("hex"))}for(let T=0;T<i.chunks.length;T++){let k=i.chunks[T],H=!1;switch(!0){case k.opcodenum===106:{a>=r.length?(u=Ea.bsv.Script.fromChunks(i.chunks.slice(T+1)).toHex(),c=T,H=!0):f(k);break}case k.opcodenum===0:{let F=P();F?C(F,k):f(k);break}case(k.opcodenum>=1&&k.opcodenum<=75):{let F=P();F?C(F,k):m(k);break}case(k.opcodenum>=79&&k.opcodenum<=96):{let F=P();F?C(F,k):f(k);break}case k.opcodenum===76:{let F=P();F?C(F,k):p(k);break}case k.opcodenum===77:{let F=P();F?C(F,k):y(k);break}case k.opcodenum===78:{let F=P();F?C(F,k):w(k);break}default:f(k)}if(H)break}let R=o.map(T=>(0,RW.deserializeArgfromHex)(e.resolver,Object.assign(T,{value:!1}),e.hexTemplateArgs,{state:!1}));if(HW.AbstractContract.isStateful(e)&&u){let T=u,k=u.substr(T.length-10,10);switch((0,bO.bin2num)(k.substr(k.length-2,2))){case(0,D_e.Int)(0):{let[F,L]=FW.default.parseStateHex(e,T);e.statePropsArgs=L,e.isGenesis=F}break}}else u&&e.setDataPartInHex(u);return new Wp("constructor",{contract:e,lockingScript:c>-1?Ea.bsv.Script.fromChunks(i.chunks.slice(0,c)):i,args:R})}encodePubFunctionCall(e,r,n){for(let i of this.abi)if(i.name===r){let s=e.checkArgs(r,i.params,...n),a=i.params.flatMap((u,c)=>{let d=Object.assign({...u},{value:s[c]});return(0,gO.flatternArg)(d,this.resolver,{state:!1,ignoreValue:!1})}).map(u=>(0,NW.toScriptHex)(u.value,u.type)).join("");if(this.abi.length>2&&i.index!==void 0){let u=i.index;a+=`${Ea.bsv.Script.fromASM((0,Ea.int2Asm)(u.toString())).toHex()}`}return new Wp(r,{contract:e,unlockingScript:Ea.bsv.Script.fromHex(a),args:i.params.map((u,c)=>({name:u.name,type:u.type,value:s[c]}))})}throw new Error(`no public function named '${r}' found in contract '${e.contractName}'`)}encodePubFunctionCallFromHex(e,r){let n=this.parseCallData(r);return new Wp(n.methodName,{contract:e,unlockingScript:n.unlockingScript,args:n.args})}parseCallData(e){let r=Ea.bsv.Script.fromHex(e),n=r.toASM(),i=this.abi.filter(p=>p.type==="function"),s=i.length,o;if(s===1)o=i[0];else{let p=n.slice(n.lastIndexOf(" ")+1),y=(0,Ea.asm2int)(p);o=this.abi.find(w=>w.index===y)}if(!o)throw new Error(`the raw unlocking script cannot match the contract ${this.constructor.name}`);let a=o.params||[],u=a.map(p=>{let y=Object.assign({},p,{value:!1});return(0,gO.flatternArg)(y,this.resolver,{state:!0,ignoreValue:!0})}).flat(1/0),c=u.length;this.abi.length>2&&o.index!==void 0&&(c+=1);let d=n.split(" ");if(c!=d.length)throw new Error(`the raw unlockingScript cannot match the arguments of public function ${o.name} of contract ${this.contractName}`);let f=new Map;u.forEach((p,y)=>{f.set(`<${p.name}>`,Ea.bsv.Script.fromASM(d[y]).toHex())});let m=a.map(p=>(0,RW.deserializeArgfromHex)(this.resolver,Object.assign(p,{value:!1}),f,{state:!1}));return{methodName:o.name,args:m,unlockingScript:r}}};e3.ABICoder=mO});var jW=j((_ot,qW)=>{"use strict";B();M();function L_e(t,e){var r=t;e.slice(0,-1).forEach(function(i){r=r[i]||{}});var n=e[e.length-1];return n in r}function LW(t){return typeof t=="number"||/^0x[0-9a-f]+$/i.test(t)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t)}function UW(t,e){return e==="constructor"&&typeof t[e]=="function"||e==="__proto__"}qW.exports=function(t,e){e||(e={});var r={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(r.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?r.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(k){r.bools[k]=!0});var n={};function i(k){return n[k].some(function(H){return r.bools[H]})}Object.keys(e.alias||{}).forEach(function(k){n[k]=[].concat(e.alias[k]),n[k].forEach(function(H){n[H]=[k].concat(n[k].filter(function(F){return H!==F}))})}),[].concat(e.string).filter(Boolean).forEach(function(k){r.strings[k]=!0,n[k]&&[].concat(n[k]).forEach(function(H){r.strings[H]=!0})});var s=e.default||{},o={_:[]};function a(k,H){return r.allBools&&/^--[^=]+$/.test(H)||r.strings[k]||r.bools[k]||n[k]}function u(k,H,F){for(var L=k,D=0;D<H.length-1;D++){var N=H[D];if(UW(L,N))return;L[N]===void 0&&(L[N]={}),(L[N]===Object.prototype||L[N]===Number.prototype||L[N]===String.prototype)&&(L[N]={}),L[N]===Array.prototype&&(L[N]=[]),L=L[N]}var g=H[H.length-1];UW(L,g)||((L===Object.prototype||L===Number.prototype||L===String.prototype)&&(L={}),L===Array.prototype&&(L=[]),L[g]===void 0||r.bools[g]||typeof L[g]=="boolean"?L[g]=F:Array.isArray(L[g])?L[g].push(F):L[g]=[L[g],F])}function c(k,H,F){if(!(F&&r.unknownFn&&!a(k,F)&&r.unknownFn(F)===!1)){var L=!r.strings[k]&&LW(H)?Number(H):H;u(o,k.split("."),L),(n[k]||[]).forEach(function(D){u(o,D.split("."),L)})}}Object.keys(r.bools).forEach(function(k){c(k,s[k]===void 0?!1:s[k])});var d=[];t.indexOf("--")!==-1&&(d=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var f=0;f<t.length;f++){var m=t[f],p,y;if(/^--.+=/.test(m)){var w=m.match(/^--([^=]+)=([\s\S]*)$/);p=w[1];var P=w[2];r.bools[p]&&(P=P!=="false"),c(p,P,m)}else if(/^--no-.+/.test(m))p=m.match(/^--no-(.+)/)[1],c(p,!1,m);else if(/^--.+/.test(m))p=m.match(/^--(.+)/)[1],y=t[f+1],y!==void 0&&!/^(-|--)[^-]/.test(y)&&!r.bools[p]&&!r.allBools&&(n[p]?!i(p):!0)?(c(p,y,m),f+=1):/^(true|false)$/.test(y)?(c(p,y==="true",m),f+=1):c(p,r.strings[p]?"":!0,m);else if(/^-[^-]+/.test(m)){for(var C=m.slice(1,-1).split(""),R=!1,T=0;T<C.length;T++){if(y=m.slice(T+2),y==="-"){c(C[T],y,m);continue}if(/[A-Za-z]/.test(C[T])&&y[0]==="="){c(C[T],y.slice(1),m),R=!0;break}if(/[A-Za-z]/.test(C[T])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(y)){c(C[T],y,m),R=!0;break}if(C[T+1]&&C[T+1].match(/\W/)){c(C[T],m.slice(T+2),m),R=!0;break}else c(C[T],r.strings[C[T]]?"":!0,m)}p=m.slice(-1)[0],!R&&p!=="-"&&(t[f+1]&&!/^(-|--)[^-]/.test(t[f+1])&&!r.bools[p]&&(n[p]?!i(p):!0)?(c(p,t[f+1],m),f+=1):t[f+1]&&/^(true|false)$/.test(t[f+1])?(c(p,t[f+1]==="true",m),f+=1):c(p,r.strings[p]?"":!0,m))}else if((!r.unknownFn||r.unknownFn(m)!==!1)&&o._.push(r.strings._||!LW(m)?m:Number(m)),e.stopEarly){o._.push.apply(o._,t.slice(f+1));break}}return Object.keys(s).forEach(function(k){L_e(o,k.split("."))||(u(o,k.split("."),s[k]),(n[k]||[]).forEach(function(H){u(o,H.split("."),s[k])}))}),e["--"]?o["--"]=d.slice():d.forEach(function(k){o._.push(k)}),o}});var $W=j((xot,KW)=>{"use strict";B();M();var U_e=/[|\\{}()[\]^$+*?.]/g;KW.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(U_e,"\\$&")}});var VW=j((Tot,zW)=>{"use strict";B();M();zW.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var yO=j((Oot,XW)=>{B();M();var Yp=VW(),YW={};for(d_ in Yp)Yp.hasOwnProperty(d_)&&(YW[Yp[d_]]=d_);var d_,kt=XW.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(Aa in kt)if(kt.hasOwnProperty(Aa)){if(!("channels"in kt[Aa]))throw new Error("missing channels property: "+Aa);if(!("labels"in kt[Aa]))throw new Error("missing channel labels property: "+Aa);if(kt[Aa].labels.length!==kt[Aa].channels)throw new Error("channel and label counts mismatch: "+Aa);GW=kt[Aa].channels,WW=kt[Aa].labels,delete kt[Aa].channels,delete kt[Aa].labels,Object.defineProperty(kt[Aa],"channels",{value:GW}),Object.defineProperty(kt[Aa],"labels",{value:WW})}var GW,WW,Aa;kt.rgb.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,u,c;return s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360),c=(i+s)/2,s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};kt.rgb.hsv=function(t){var e,r,n,i,s,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),d=c-Math.min(o,a,u),f=function(m){return(c-m)/6/d+1/2};return d===0?i=s=0:(s=d/c,e=f(o),r=f(a),n=f(u),o===c?i=n-r:a===c?i=1/3+e-n:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};kt.rgb.hwb=function(t){var e=t[0],r=t[1],n=t[2],i=kt.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};kt.rgb.cmyk=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i,s,o,a;return a=Math.min(1-e,1-r,1-n),i=(1-e-a)/(1-a)||0,s=(1-r-a)/(1-a)||0,o=(1-n-a)/(1-a)||0,[i*100,s*100,o*100,a*100]};function q_e(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}kt.rgb.keyword=function(t){var e=YW[t];if(e)return e;var r=1/0,n;for(var i in Yp)if(Yp.hasOwnProperty(i)){var s=Yp[i],o=q_e(t,s);o<r&&(r=o,n=i)}return n};kt.keyword.rgb=function(t){return Yp[t]};kt.rgb.xyz=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};kt.rgb.lab=function(t){var e=kt.rgb.xyz(t),r=e[0],n=e[1],i=e[2],s,o,a;return r/=95.047,n/=100,i/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*n-16,o=500*(r-n),a=200*(n-i),[s,o,a]};kt.hsl.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o,a,u;if(r===0)return u=n*255,[u,u,u];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,a=[0,0,0];for(var c=0;c<3;c++)o=e+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?u=i+(s-i)*6*o:2*o<1?u=s:3*o<2?u=i+(s-i)*(2/3-o)*6:u=i,a[c]=u*255;return a};kt.hsl.hsv=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01),o,a;return n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s,a=(n+r)/2,o=n===0?2*i/(s+i):2*r/(n+r),[e,o*100,a*100]};kt.hsv.rgb=function(t){var e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};kt.hsv.hsl=function(t){var e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o,a;return a=(2-r)*n,s=(2-r)*i,o=r*i,o/=s<=1?s:2-s,o=o||0,a/=2,[e,o*100,a*100]};kt.hwb.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s,o,a,u;i>1&&(r/=i,n/=i),s=Math.floor(6*e),o=1-n,a=6*e-s,(s&1)!==0&&(a=1-a),u=r+a*(o-r);var c,d,f;switch(s){default:case 6:case 0:c=o,d=u,f=r;break;case 1:c=u,d=o,f=r;break;case 2:c=r,d=o,f=u;break;case 3:c=r,d=u,f=o;break;case 4:c=u,d=r,f=o;break;case 5:c=o,d=r,f=u;break}return[c*255,d*255,f*255]};kt.cmyk.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s,o,a;return s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i),[s*255,o*255,a*255]};kt.xyz.rgb=function(t){var e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};kt.xyz.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return e/=95.047,r/=100,n/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,i=116*r-16,s=500*(e-r),o=200*(r-n),[i,s,o]};kt.lab.xyz=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;var a=Math.pow(s,3),u=Math.pow(i,3),c=Math.pow(o,3);return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};kt.lab.lch=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return i=Math.atan2(n,r),s=i*360/2/Math.PI,s<0&&(s+=360),o=Math.sqrt(r*r+n*n),[e,o,s]};kt.lch.lab=function(t){var e=t[0],r=t[1],n=t[2],i,s,o;return o=n/360*2*Math.PI,i=r*Math.cos(o),s=r*Math.sin(o),[e,i,s]};kt.rgb.ansi16=function(t){var e=t[0],r=t[1],n=t[2],i=1 in arguments?arguments[1]:kt.rgb.hsv(t)[2];if(i=Math.round(i/50),i===0)return 30;var s=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(e/255));return i===2&&(s+=60),s};kt.hsv.ansi16=function(t){return kt.rgb.ansi16(kt.hsv.rgb(t),t[2])};kt.rgb.ansi256=function(t){var e=t[0],r=t[1],n=t[2];if(e===r&&r===n)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5);return i};kt.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};kt.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var r,n=Math.floor(t/36)/5*255,i=Math.floor((r=t%36)/6)/5*255,s=r%6/5*255;return[n,i,s]};kt.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),r=e.toString(16).toUpperCase();return"000000".substring(r.length)+r};kt.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var r=e[0];e[0].length===3&&(r=r.split("").map(function(a){return a+a}).join(""));var n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};kt.rgb.hcg=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===e?u=(r-n)/o%6:i===r?u=2+(n-e)/o:u=4+(e-r)/o+4,u/=6,u%=1,[u*360,o*100,a*100]};kt.hsl.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1,i=0;return r<.5?n=2*e*r:n=2*e*(1-r),n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};kt.hsv.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};kt.hcg.rgb=function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];var i=[0,0,0],s=e%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};kt.hcg.hsv=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};kt.hcg.hsl=function(t){var e=t[1]/100,r=t[2]/100,n=r*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};kt.hcg.hwb=function(t){var e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};kt.hwb.hcg=function(t){var e=t[1]/100,r=t[2]/100,n=1-r,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};kt.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};kt.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};kt.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};kt.gray.hsl=kt.gray.hsv=function(t){return[0,0,t[0]]};kt.gray.hwb=function(t){return[0,100,t[0]]};kt.gray.cmyk=function(t){return[0,0,0,t[0]]};kt.gray.lab=function(t){return[t[0],0,0]};kt.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,r=(e<<16)+(e<<8)+e,n=r.toString(16).toUpperCase();return"000000".substring(n.length)+n};kt.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var JW=j((kot,ZW)=>{B();M();var h_=yO();function j_e(){for(var t={},e=Object.keys(h_),r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function K_e(t){var e=j_e(),r=[t];for(e[t].distance=0;r.length;)for(var n=r.pop(),i=Object.keys(h_[n]),s=i.length,o=0;o<s;o++){var a=i[o],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}return e}function $_e(t,e){return function(r){return e(t(r))}}function z_e(t,e){for(var r=[e[t].parent,t],n=h_[e[t].parent][t],i=e[t].parent;e[i].parent;)r.unshift(e[i].parent),n=$_e(h_[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}ZW.exports=function(t){for(var e=K_e(t),r={},n=Object.keys(e),i=n.length,s=0;s<i;s++){var o=n[s],a=e[o];a.parent!==null&&(r[o]=z_e(o,e))}return r}});var eY=j((Not,QW)=>{B();M();var vO=yO(),V_e=JW(),t3={},G_e=Object.keys(vO);function W_e(t){var e=function(r){return r==null?r:(arguments.length>1&&(r=Array.prototype.slice.call(arguments)),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function Y_e(t){var e=function(r){if(r==null)return r;arguments.length>1&&(r=Array.prototype.slice.call(arguments));var n=t(r);if(typeof n=="object")for(var i=n.length,s=0;s<i;s++)n[s]=Math.round(n[s]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}G_e.forEach(function(t){t3[t]={},Object.defineProperty(t3[t],"channels",{value:vO[t].channels}),Object.defineProperty(t3[t],"labels",{value:vO[t].labels});var e=V_e(t),r=Object.keys(e);r.forEach(function(n){var i=e[n];t3[t][n]=Y_e(i),t3[t][n].raw=W_e(i)})});QW.exports=t3});var rY=j((Dot,tY)=>{"use strict";B();M();var r3=eY(),l_=(t,e)=>function(){return`\x1B[${t.apply(r3,arguments)+e}m`},p_=(t,e)=>function(){let r=t.apply(r3,arguments);return`\x1B[${38+e};5;${r}m`},b_=(t,e)=>function(){let r=t.apply(r3,arguments);return`\x1B[${38+e};2;${r[0]};${r[1]};${r[2]}m`};function X_e(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.grey=e.color.gray;for(let i of Object.keys(e)){let s=e[i];for(let o of Object.keys(s)){let a=s[o];e[o]={open:`\x1B[${a[0]}m`,close:`\x1B[${a[1]}m`},s[o]=e[o],t.set(a[0],a[1])}Object.defineProperty(e,i,{value:s,enumerable:!1}),Object.defineProperty(e,"codes",{value:t,enumerable:!1})}let r=i=>i,n=(i,s,o)=>[i,s,o];e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",e.color.ansi={ansi:l_(r,0)},e.color.ansi256={ansi256:p_(r,0)},e.color.ansi16m={rgb:b_(n,0)},e.bgColor.ansi={ansi:l_(r,10)},e.bgColor.ansi256={ansi256:p_(r,10)},e.bgColor.ansi16m={rgb:b_(n,10)};for(let i of Object.keys(r3)){if(typeof r3[i]!="object")continue;let s=r3[i];i==="ansi16"&&(i="ansi"),"ansi16"in s&&(e.color.ansi[i]=l_(s.ansi16,0),e.bgColor.ansi[i]=l_(s.ansi16,10)),"ansi256"in s&&(e.color.ansi256[i]=p_(s.ansi256,0),e.bgColor.ansi256[i]=p_(s.ansi256,10)),"rgb"in s&&(e.color.ansi16m[i]=b_(s.rgb,0),e.bgColor.ansi16m[i]=b_(s.rgb,10))}return e}Object.defineProperty(tY,"exports",{enumerable:!0,get:X_e})});var iY=j((qot,nY)=>{"use strict";B();M();nY.exports={stdout:!1,stderr:!1}});var cY=j(($ot,uY)=>{"use strict";B();M();var Z_e=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,sY=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,J_e=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Q_e=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,eSe=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function aY(t){return t[0]==="u"&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):eSe.get(t)||t}function tSe(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n)if(!isNaN(s))r.push(Number(s));else if(i=s.match(J_e))r.push(i[2].replace(Q_e,(o,a,u)=>a?aY(a):u));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`);return r}function rSe(t){sY.lastIndex=0;let e=[],r;for(;(r=sY.exec(t))!==null;){let n=r[1];if(r[2]){let i=tSe(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}function oY(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let i of Object.keys(r))if(Array.isArray(r[i])){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);r[i].length>0?n=n[i].apply(n,r[i]):n=n[i]}return n}uY.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(Z_e,(s,o,a,u,c,d)=>{if(o)i.push(aY(o));else if(u){let f=i.join("");i=[],n.push(r.length===0?f:oY(t,r)(f)),r.push({inverse:a,styles:rSe(u)})}else if(c){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(oY(t,r)(i.join(""))),i=[],r.pop()}else i.push(d)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var pY=j((Got,ug)=>{"use strict";B();M();var SO=$W(),gs=rY(),_O=iY().stdout,nSe=cY(),dY=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),hY=["ansi","ansi","ansi256","ansi16m"],lY=new Set(["gray"]),n3=Object.create(null);function fY(t,e){e=e||{};let r=_O?_O.level:0;t.level=e.level===void 0?r:e.level,t.enabled="enabled"in e?e.enabled:t.level>0}function ag(t){if(!this||!(this instanceof ag)||this.template){let e={};return fY(e,t),e.template=function(){let r=[].slice.call(arguments);return oSe.apply(null,[e.template].concat(r))},Object.setPrototypeOf(e,ag.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=ag,e.template}fY(this,t)}dY&&(gs.blue.open="\x1B[94m");for(let t of Object.keys(gs))gs[t].closeRe=new RegExp(SO(gs[t].close),"g"),n3[t]={get(){let e=gs[t];return g_.call(this,this._styles?this._styles.concat(e):[e],this._empty,t)}};n3.visible={get(){return g_.call(this,this._styles||[],!0,"visible")}};gs.color.closeRe=new RegExp(SO(gs.color.close),"g");for(let t of Object.keys(gs.color.ansi))lY.has(t)||(n3[t]={get(){let e=this.level;return function(){let n={open:gs.color[hY[e]][t].apply(null,arguments),close:gs.color.close,closeRe:gs.color.closeRe};return g_.call(this,this._styles?this._styles.concat(n):[n],this._empty,t)}}});gs.bgColor.closeRe=new RegExp(SO(gs.bgColor.close),"g");for(let t of Object.keys(gs.bgColor.ansi)){if(lY.has(t))continue;let e="bg"+t[0].toUpperCase()+t.slice(1);n3[e]={get(){let r=this.level;return function(){let i={open:gs.bgColor[hY[r]][t].apply(null,arguments),close:gs.bgColor.close,closeRe:gs.bgColor.closeRe};return g_.call(this,this._styles?this._styles.concat(i):[i],this._empty,t)}}}}var iSe=Object.defineProperties(()=>{},n3);function g_(t,e,r){let n=function(){return sSe.apply(n,arguments)};n._styles=t,n._empty=e;let i=this;return Object.defineProperty(n,"level",{enumerable:!0,get(){return i.level},set(s){i.level=s}}),Object.defineProperty(n,"enabled",{enumerable:!0,get(){return i.enabled},set(s){i.enabled=s}}),n.hasGrey=this.hasGrey||r==="gray"||r==="grey",n.__proto__=iSe,n}function sSe(){let t=arguments,e=t.length,r=String(arguments[0]);if(e===0)return"";if(e>1)for(let i=1;i<e;i++)r+=" "+t[i];if(!this.enabled||this.level<=0||!r)return this._empty?"":r;let n=gs.dim.open;dY&&this.hasGrey&&(gs.dim.open="");for(let i of this._styles.slice().reverse())r=i.open+r.replace(i.closeRe,i.open)+i.close,r=r.replace(/\r?\n/g,`${i.close}$&${i.open}`);return gs.dim.open=n,r}function oSe(t,e){if(!Array.isArray(e))return[].slice.call(arguments,1).join(" ");let r=[].slice.call(arguments,2),n=[e.raw[0]];for(let i=1;i<e.length;i++)n.push(String(r[i-1]).replace(/[{}\\]/g,"\\$&")),n.push(String(e.raw[i]));return nSe(t,n.join(""))}Object.defineProperties(ag.prototype,n3);ug.exports=ag();ug.exports.supportsColor=_O;ug.exports.default=ug.exports});var gY=j((Xot,bY)=>{B();M();var wO=pY();function aSe(){console.info(`${wO.bgRed.bold("**ERROR**: No sCrypt compiler found.")}`)}function uSe(){console.info(`${wO.bgRed.bold("**ERROR**: Downloading sCrypt compiler failed.")}`),console.info(`Go to ${wO.blue.bold("https://github.com/sCrypt-Inc/compiler_dist/releases")} to download sCrypt compiler.
`)}bY.exports={showNoCompilerFound:aSe,showDownloadFailed:uSe}});var vY=j(i3=>{"use strict";B();M();Object.defineProperty(i3,"__esModule",{value:!0});i3.findCompiler=i3.getPlatformScryptc=void 0;var cSe=yP(),Xp=r0(),fSe=jW(),EO=KE(),xO=ja(),dSe=gY();function mY(){switch(EO.platform()){case"win32":return"compiler/scryptc/win32/scryptc.exe";case"linux":return"compiler/scryptc/linux/scryptc";case"darwin":return"compiler/scryptc/mac/scryptc";default:throw`sCrypt doesn't support ${EO.platform()}`}}i3.getPlatformScryptc=mY;function yY(t=__dirname){let e=(0,xO.resolve)(t,"compiler");if((0,Xp.existsSync)(e)&&(0,Xp.statSync)(e).isDirectory()){let n=(0,xO.join)(e,"..",mY());return(0,Xp.existsSync)(n)?n:void 0}let r=(0,xO.resolve)(t,"..");if(r!==t)return yY(r)}function hSe(){let e=EO.platform().indexOf("win")>-1?"where":"which";try{return(0,cSe.execSync)(`${e} scryptc`,{stdio:[]}).toString().replace(/\r\n/g,"")}catch{return}}function lSe(){let e=fSe(process.argv.slice(2)).scryptc;if(e&&e.startsWith('"')&&e.endsWith('"')&&(e=e.substring(1,e.length-1)),e&&(0,Xp.existsSync)(e))return e;if(process.env.SCRYPTC&&(0,Xp.existsSync)(process.env.SCRYPTC))return process.env.SCRYPTC;if(e=yY(),e&&(0,Xp.existsSync)(e)||(e=hSe(),e&&(0,Xp.existsSync)(e)))return e;(0,dSe.showNoCompilerFound)()}i3.findCompiler=lSe});var wY=j(s3=>{"use strict";B();M();Object.defineProperty(s3,"__esModule",{value:!0});s3.sha256ByPartialHash=s3.partialSha256=void 0;var pSe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function bSe(t,e){let r=t.length,n=r%64<56?64-r%64:128-r%64,i=E.Buffer.alloc(n),s=E.Buffer.concat([t,i]),o=r/536870912|0,a=r<<3;s[r]=128;for(let m=r+1;m<s.length-8;m++)s[m]=0;s[s.length-8]=o>>>24&255,s[s.length-7]=o>>>16&255,s[s.length-6]=o>>>8&255,s[s.length-5]=o>>>0&255,s[s.length-4]=a>>>24&255,s[s.length-3]=a>>>16&255,s[s.length-2]=a>>>8&255,s[s.length-1]=a>>>0&255;let u=[];for(let m=0;m<s.length/64;m++)u.push(s.slice(m*64,m*64+64));let d=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];for(let m=0;m<u.length;m++){let p=u[m];if(d=_Y(d,p),r>64&&m==e)break}let f=SY(d);if(e>-1&&r>64){let m=t.slice((e+1)*64),p=s.slice(t.length);return[f,m.toString("hex"),p.toString("hex")]}return[f,"",""]}s3.partialSha256=bSe;function gSe(t,e,r){let n=E.Buffer.from(t,"hex"),i=E.Buffer.from(e+r,"hex"),s=[];for(let u=0;u<i.length/64;u++)s.push(i.slice(u*64,u*64+64));let a=[r1(n.slice(0,4)),r1(n.slice(4,8)),r1(n.slice(8,12)),r1(n.slice(12,16)),r1(n.slice(16,20)),r1(n.slice(20,24)),r1(n.slice(24,28)),r1(n.slice(28,32))];for(let u=0;u<s.length;u++){let c=s[u];a=_Y(a,c)}return SY(a)}s3.sha256ByPartialHash=gSe;function r1(t){return t.readUInt32BE()}function mSe(t){return t=Number(t),t<0?Math.ceil(t):Math.floor(t)}function ySe(t,e){return t-Math.floor(t/e)*e}function n1(t){return ySe(mSe(t),Math.pow(2,32))}function _Y(t,e){let r=t[0],n=t[1],i=t[2],s=t[3],o=t[4],a=t[5],u=t[6],c=t[7],d=[];for(let f=0;f<64;f++){if(f<16)d[f]=e.slice(f*4,f*4+4).readUInt32BE();else{let R=d[f-15],T=(R<<25|R>>>7)^(R<<14|R>>>18)^R>>>3,k=d[f-2],H=(k<<15|k>>>17)^(k<<13|k>>>19)^k>>>10;d[f]=T+d[f-7]+H+d[f-16]}let m=o&a^~o&u,p=r&n^r&i^n&i,y=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),P=c+w+m+pSe[f]+d[f],C=y+p;c=u,u=a,a=o,o=s+P,s=i,i=n,n=r,r=P+C}return[n1(t[0]+r),n1(t[1]+n),n1(t[2]+i),n1(t[3]+s),n1(t[4]+o),n1(t[5]+a),n1(t[6]+u),n1(t[7]+c)]}function i1(t){let e=E.Buffer.from([0,0,0,0]);return e.writeUInt32BE(t),e}function SY(t){return[i1(t[0]),i1(t[1]),i1(t[2]),i1(t[3]),i1(t[4]),i1(t[5]),i1(t[6]),i1(t[7])].reduce((r,n)=>E.Buffer.concat([r,n]),E.Buffer.from([])).toString("hex")}});var Mu=j(Bo=>{"use strict";B();M();var vSe=Bo&&Bo.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Tf=Bo&&Bo.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&vSe(e,t,r)};Object.defineProperty(Bo,"__esModule",{value:!0});Tf(W2(),Bo);Tf(Jd(),Bo);Tf(nO(),Bo);Tf(cO(),Bo);Tf(X4(),Bo);Tf(DW(),Bo);Tf(vY(),Bo);Tf(wY(),Bo);Tf(tg(),Bo);Tf(hO(),Bo);Tf(pO(),Bo)});var Tr=j(ge=>{"use strict";B();M();Object.defineProperty(ge,"__esModule",{value:!0});ge.md5=ge.uri2path=ge.path2uri=ge.getFullFilePath=ge.JSONParser=ge.isEmpty=ge.parseLiteral=ge.compilerVersion=ge.typeOfArg=ge.getABIDeclaration=ge.getStructDeclaration=ge.buildTypeResolver=ge.resolveGenericType=ge.structSign=ge.librarySign=ge.toLiteralArrayType=ge.arrayTypeAndSizeStr=ge.resolveConstValue=ge.findStatic=ge.findConstStatic=ge.parseAbiFromUnlockingScript=ge.getLowSPreimage=ge.readLaunchJson=ge.parseGenericType=ge.isGenericType=ge.subArrayType=ge.genLaunchConfigFile=ge.getNameByType=ge.newCall=ge.arrayTypeAndSize=ge.isArrayType=ge.findStructByName=ge.findStructByType=ge.getValidatedHexString=ge.bytesToHexString=ge.bytes2Literal=ge.int2Asm=ge.bin2num=ge.toHex=ge.bsv=ge.CompileResult=ge.compileContractAsync=ge.handleCompilerOutput=ge.signTx=ge.getPreimage=ge.doCompileAsync=ge.compileContract=ge.compileAsync=ge.compile=ge.buildContractClass=void 0;ge.sha256ByPartialHash=ge.partialSha256=ge.findCompiler=ge.getPlatformScryptc=ge.toLEUnsigned=ge.writeVarint=ge.buildPublicKeyHashScript=ge.len=ge.buildOpreturnScript=ge.num2bin=ge.invert=ge.xor=ge.or=ge.and=ge.hash256=ge.sha256=ge.hash160=ge.DEFAULT_SIGHASH_TYPE=ge.ScryptType=ge.DEFAULT_FLAGS=ge.SymbolType=ge.DebugModeTag=ge.AbstractContract=ge.BuildType=ge.ABIEntityType=ge.HashedSet=ge.HashedMap=ge.PubKeyHash=ge.OpCodeType=ge.SigHashPreimage=ge.SigHashType=ge.Sha256=ge.Sha1=ge.Ripemd160=ge.Sig=ge.PubKey=ge.PrivKey=ge.Bytes=ge.Bool=ge.Int=ge.flatternArg=ge.getSortedItem=ge.toJSON=ge.isSubBytes=ge.isScryptType=ge.stringToBytes=ge.FunctionCall=void 0;var U0=Mu();Object.defineProperty(ge,"buildContractClass",{enumerable:!0,get:function(){return U0.buildContractClass}});Object.defineProperty(ge,"compile",{enumerable:!0,get:function(){return U0.compile}});Object.defineProperty(ge,"compileAsync",{enumerable:!0,get:function(){return U0.compileAsync}});Object.defineProperty(ge,"compileContract",{enumerable:!0,get:function(){return U0.compileContract}});Object.defineProperty(ge,"doCompileAsync",{enumerable:!0,get:function(){return U0.doCompileAsync}});Object.defineProperty(ge,"getPreimage",{enumerable:!0,get:function(){return U0.getPreimage}});Object.defineProperty(ge,"signTx",{enumerable:!0,get:function(){return U0.signTx}});Object.defineProperty(ge,"handleCompilerOutput",{enumerable:!0,get:function(){return U0.handleCompilerOutput}});Object.defineProperty(ge,"compileContractAsync",{enumerable:!0,get:function(){return U0.compileContractAsync}});Object.defineProperty(ge,"CompileResult",{enumerable:!0,get:function(){return U0.CompileResult}});var nr=Mu();Object.defineProperty(ge,"bsv",{enumerable:!0,get:function(){return nr.bsv}});Object.defineProperty(ge,"toHex",{enumerable:!0,get:function(){return nr.toHex}});Object.defineProperty(ge,"bin2num",{enumerable:!0,get:function(){return nr.bin2num}});Object.defineProperty(ge,"int2Asm",{enumerable:!0,get:function(){return nr.int2Asm}});Object.defineProperty(ge,"bytes2Literal",{enumerable:!0,get:function(){return nr.bytes2Literal}});Object.defineProperty(ge,"bytesToHexString",{enumerable:!0,get:function(){return nr.bytesToHexString}});Object.defineProperty(ge,"getValidatedHexString",{enumerable:!0,get:function(){return nr.getValidatedHexString}});Object.defineProperty(ge,"findStructByType",{enumerable:!0,get:function(){return nr.findStructByType}});Object.defineProperty(ge,"findStructByName",{enumerable:!0,get:function(){return nr.findStructByName}});Object.defineProperty(ge,"isArrayType",{enumerable:!0,get:function(){return nr.isArrayType}});Object.defineProperty(ge,"arrayTypeAndSize",{enumerable:!0,get:function(){return nr.arrayTypeAndSize}});Object.defineProperty(ge,"newCall",{enumerable:!0,get:function(){return nr.newCall}});Object.defineProperty(ge,"getNameByType",{enumerable:!0,get:function(){return nr.getNameByType}});Object.defineProperty(ge,"genLaunchConfigFile",{enumerable:!0,get:function(){return nr.genLaunchConfigFile}});Object.defineProperty(ge,"subArrayType",{enumerable:!0,get:function(){return nr.subArrayType}});Object.defineProperty(ge,"isGenericType",{enumerable:!0,get:function(){return nr.isGenericType}});Object.defineProperty(ge,"parseGenericType",{enumerable:!0,get:function(){return nr.parseGenericType}});Object.defineProperty(ge,"readLaunchJson",{enumerable:!0,get:function(){return nr.readLaunchJson}});Object.defineProperty(ge,"getLowSPreimage",{enumerable:!0,get:function(){return nr.getLowSPreimage}});Object.defineProperty(ge,"parseAbiFromUnlockingScript",{enumerable:!0,get:function(){return nr.parseAbiFromUnlockingScript}});Object.defineProperty(ge,"findConstStatic",{enumerable:!0,get:function(){return nr.findConstStatic}});Object.defineProperty(ge,"findStatic",{enumerable:!0,get:function(){return nr.findStatic}});Object.defineProperty(ge,"resolveConstValue",{enumerable:!0,get:function(){return nr.resolveConstValue}});Object.defineProperty(ge,"arrayTypeAndSizeStr",{enumerable:!0,get:function(){return nr.arrayTypeAndSizeStr}});Object.defineProperty(ge,"toLiteralArrayType",{enumerable:!0,get:function(){return nr.toLiteralArrayType}});Object.defineProperty(ge,"librarySign",{enumerable:!0,get:function(){return nr.librarySign}});Object.defineProperty(ge,"structSign",{enumerable:!0,get:function(){return nr.structSign}});Object.defineProperty(ge,"resolveGenericType",{enumerable:!0,get:function(){return nr.resolveGenericType}});Object.defineProperty(ge,"buildTypeResolver",{enumerable:!0,get:function(){return nr.buildTypeResolver}});Object.defineProperty(ge,"getStructDeclaration",{enumerable:!0,get:function(){return nr.getStructDeclaration}});Object.defineProperty(ge,"getABIDeclaration",{enumerable:!0,get:function(){return nr.getABIDeclaration}});Object.defineProperty(ge,"typeOfArg",{enumerable:!0,get:function(){return nr.typeOfArg}});Object.defineProperty(ge,"compilerVersion",{enumerable:!0,get:function(){return nr.compilerVersion}});Object.defineProperty(ge,"parseLiteral",{enumerable:!0,get:function(){return nr.parseLiteral}});Object.defineProperty(ge,"isEmpty",{enumerable:!0,get:function(){return nr.isEmpty}});Object.defineProperty(ge,"JSONParser",{enumerable:!0,get:function(){return nr.JSONParser}});Object.defineProperty(ge,"getFullFilePath",{enumerable:!0,get:function(){return nr.getFullFilePath}});Object.defineProperty(ge,"path2uri",{enumerable:!0,get:function(){return nr.path2uri}});Object.defineProperty(ge,"uri2path",{enumerable:!0,get:function(){return nr.uri2path}});Object.defineProperty(ge,"md5",{enumerable:!0,get:function(){return nr.md5}});Object.defineProperty(ge,"FunctionCall",{enumerable:!0,get:function(){return nr.FunctionCall}});Object.defineProperty(ge,"stringToBytes",{enumerable:!0,get:function(){return nr.stringToBytes}});Object.defineProperty(ge,"isScryptType",{enumerable:!0,get:function(){return nr.isScryptType}});Object.defineProperty(ge,"isSubBytes",{enumerable:!0,get:function(){return nr.isSubBytes}});Object.defineProperty(ge,"toJSON",{enumerable:!0,get:function(){return nr.toJSON}});Object.defineProperty(ge,"getSortedItem",{enumerable:!0,get:function(){return nr.getSortedItem}});Object.defineProperty(ge,"flatternArg",{enumerable:!0,get:function(){return nr.flatternArg}});var _i=Mu();Object.defineProperty(ge,"Int",{enumerable:!0,get:function(){return _i.Int}});Object.defineProperty(ge,"Bool",{enumerable:!0,get:function(){return _i.Bool}});Object.defineProperty(ge,"Bytes",{enumerable:!0,get:function(){return _i.Bytes}});Object.defineProperty(ge,"PrivKey",{enumerable:!0,get:function(){return _i.PrivKey}});Object.defineProperty(ge,"PubKey",{enumerable:!0,get:function(){return _i.PubKey}});Object.defineProperty(ge,"Sig",{enumerable:!0,get:function(){return _i.Sig}});Object.defineProperty(ge,"Ripemd160",{enumerable:!0,get:function(){return _i.Ripemd160}});Object.defineProperty(ge,"Sha1",{enumerable:!0,get:function(){return _i.Sha1}});Object.defineProperty(ge,"Sha256",{enumerable:!0,get:function(){return _i.Sha256}});Object.defineProperty(ge,"SigHashType",{enumerable:!0,get:function(){return _i.SigHashType}});Object.defineProperty(ge,"SigHashPreimage",{enumerable:!0,get:function(){return _i.SigHashPreimage}});Object.defineProperty(ge,"OpCodeType",{enumerable:!0,get:function(){return _i.OpCodeType}});Object.defineProperty(ge,"PubKeyHash",{enumerable:!0,get:function(){return _i.PubKeyHash}});Object.defineProperty(ge,"HashedMap",{enumerable:!0,get:function(){return _i.HashedMap}});Object.defineProperty(ge,"HashedSet",{enumerable:!0,get:function(){return _i.HashedSet}});Object.defineProperty(ge,"ABIEntityType",{enumerable:!0,get:function(){return _i.ABIEntityType}});Object.defineProperty(ge,"BuildType",{enumerable:!0,get:function(){return _i.BuildType}});Object.defineProperty(ge,"AbstractContract",{enumerable:!0,get:function(){return _i.AbstractContract}});Object.defineProperty(ge,"DebugModeTag",{enumerable:!0,get:function(){return _i.DebugModeTag}});Object.defineProperty(ge,"SymbolType",{enumerable:!0,get:function(){return _i.SymbolType}});Object.defineProperty(ge,"DEFAULT_FLAGS",{enumerable:!0,get:function(){return _i.DEFAULT_FLAGS}});Object.defineProperty(ge,"ScryptType",{enumerable:!0,get:function(){return _i.ScryptType}});Object.defineProperty(ge,"DEFAULT_SIGHASH_TYPE",{enumerable:!0,get:function(){return _i.DEFAULT_SIGHASH_TYPE}});var Ru=Mu();Object.defineProperty(ge,"hash160",{enumerable:!0,get:function(){return Ru.hash160}});Object.defineProperty(ge,"sha256",{enumerable:!0,get:function(){return Ru.sha256}});Object.defineProperty(ge,"hash256",{enumerable:!0,get:function(){return Ru.hash256}});Object.defineProperty(ge,"and",{enumerable:!0,get:function(){return Ru.and}});Object.defineProperty(ge,"or",{enumerable:!0,get:function(){return Ru.or}});Object.defineProperty(ge,"xor",{enumerable:!0,get:function(){return Ru.xor}});Object.defineProperty(ge,"invert",{enumerable:!0,get:function(){return Ru.invert}});Object.defineProperty(ge,"num2bin",{enumerable:!0,get:function(){return Ru.num2bin}});Object.defineProperty(ge,"buildOpreturnScript",{enumerable:!0,get:function(){return Ru.buildOpreturnScript}});Object.defineProperty(ge,"len",{enumerable:!0,get:function(){return Ru.len}});Object.defineProperty(ge,"buildPublicKeyHashScript",{enumerable:!0,get:function(){return Ru.buildPublicKeyHashScript}});Object.defineProperty(ge,"writeVarint",{enumerable:!0,get:function(){return Ru.writeVarint}});Object.defineProperty(ge,"toLEUnsigned",{enumerable:!0,get:function(){return Ru.toLEUnsigned}});var xY=Mu();Object.defineProperty(ge,"getPlatformScryptc",{enumerable:!0,get:function(){return xY.getPlatformScryptc}});Object.defineProperty(ge,"findCompiler",{enumerable:!0,get:function(){return xY.findCompiler}});var EY=Mu();Object.defineProperty(ge,"partialSha256",{enumerable:!0,get:function(){return EY.partialSha256}});Object.defineProperty(ge,"sha256ByPartialHash",{enumerable:!0,get:function(){return EY.sha256ByPartialHash}})});var m_=j(s1=>{"use strict";B();M();Object.defineProperty(s1,"__esModule",{value:!0});s1.SortedItemAccessTracer=s1.instanceOfSIATraceable=s1.SortedItemAccess=void 0;var _Se=Zp(),SSe=Tr(),o1=class{constructor(e,r,n){this.item=e,this.itemHashHex=r,this.idx=n}serialize(){if(this.itemHashHex.length!==o1.ITEM_HASH_SIZE_IN_BYTES*2)throw new Error(`invalid hashed key size ${this.itemHashHex.length}, should be ${o1.ITEM_HASH_SIZE_IN_BYTES*2} in hex`);return _Se.VarIntWriter.writeInt(this.idx)}};s1.SortedItemAccess=o1;o1.ITEM_HASH_SIZE_IN_BYTES=32;function wSe(t){return t&&"startTracing"in t&&"stopTracing"in t&&"serializedAccessPath"in t}s1.instanceOfSIATraceable=wSe;var AO=class{constructor(e,r){this._itemType=e,this._DelegateClazz=r}hash(e){return this._DelegateClazz.flattenSha256(e,this._itemType)}},TO=class{constructor(e){this.hasher=e}findIndex(e,r){let n=this._item2BN(e),i=Array.from(r).map(s=>this._item2BN(s)).sort((s,o)=>s.cmp(o)).findIndex(s=>n.eq(s));return BigInt(i)}_item2BN(e){return SSe.bsv.crypto.BN.fromSM(E.Buffer.from(this.hasher.hash(e),"hex"),{endian:"little"})}},IO=class{constructor(e,r){this._traceEnabled=!1,this._accessPath=[],this._hasher=new AO(e,r),this._sequencer=new TO(this._hasher)}traceAccess(e,r){this._traceEnabled&&this._accessPath.push(new o1(e,this._hasher.hash(e),this._sequencer.findIndex(e,r)))}startTracing(){this._traceEnabled=!0,this._accessPath=[]}stopTracing(){this._traceEnabled=!1}serializedAccessPath(){return(this._accessPath||[]).map(e=>e.serialize()).join("")}};s1.SortedItemAccessTracer=IO});var PO=j((AY,TY)=>{B();M();(function(t){var e;typeof AY=="object"?TY.exports=t():typeof define=="function"&&define.amd?define(t):(typeof window<"u"?e=window:typeof globalThis<"u"?e=globalThis:typeof self<"u"&&(e=self),e.objectHash=t())})(function(){return function t(e,r,n){function i(a,u){if(!r[a]){if(!e[a]){var c=typeof Cb=="function"&&Cb;if(!u&&c)return c(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}u=r[a]={exports:{}},e[a][0].call(u.exports,function(d){var f=e[a][1][d];return i(f||d)},u,u.exports,t,e,r,n)}return r[a].exports}for(var s=typeof Cb=="function"&&Cb,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e,r){(function(n,i,s,o,a,u,c,d,f){"use strict";var m=t("crypto");function p(k,H){H=P(k,H);var F;return(F=H.algorithm!=="passthrough"?m.createHash(H.algorithm):new T).write===void 0&&(F.write=F.update,F.end=F.update),R(H,F).dispatch(k),F.update||F.end(""),F.digest?F.digest(H.encoding==="buffer"?void 0:H.encoding):(k=F.read(),H.encoding!=="buffer"?k.toString(H.encoding):k)}(r=e.exports=p).sha1=function(k){return p(k)},r.keys=function(k){return p(k,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},r.MD5=function(k){return p(k,{algorithm:"md5",encoding:"hex"})},r.keysMD5=function(k){return p(k,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var y=m.getHashes?m.getHashes().slice():["sha1","md5"],w=(y.push("passthrough"),["buffer","hex","binary","base64"]);function P(k,H){var F={};if(F.algorithm=(H=H||{}).algorithm||"sha1",F.encoding=H.encoding||"hex",F.excludeValues=!!H.excludeValues,F.algorithm=F.algorithm.toLowerCase(),F.encoding=F.encoding.toLowerCase(),F.ignoreUnknown=H.ignoreUnknown===!0,F.respectType=H.respectType!==!1,F.respectFunctionNames=H.respectFunctionNames!==!1,F.respectFunctionProperties=H.respectFunctionProperties!==!1,F.unorderedArrays=H.unorderedArrays===!0,F.unorderedSets=H.unorderedSets!==!1,F.unorderedObjects=H.unorderedObjects!==!1,F.replacer=H.replacer||void 0,F.excludeKeys=H.excludeKeys||void 0,k===void 0)throw new Error("Object argument required.");for(var L=0;L<y.length;++L)y[L].toLowerCase()===F.algorithm.toLowerCase()&&(F.algorithm=y[L]);if(y.indexOf(F.algorithm)===-1)throw new Error('Algorithm "'+F.algorithm+'"  not supported. supported values: '+y.join(", "));if(w.indexOf(F.encoding)===-1&&F.algorithm!=="passthrough")throw new Error('Encoding "'+F.encoding+'"  not supported. supported values: '+w.join(", "));return F}function C(k){if(typeof k=="function")return/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(k))!=null}function R(k,H,F){F=F||[];function L(D){return H.update?H.update(D,"utf8"):H.write(D,"utf8")}return{dispatch:function(D){return this["_"+((D=k.replacer?k.replacer(D):D)===null?"null":typeof D)](D)},_object:function(D){var N,g=Object.prototype.toString.call(D),h=/\[object (.*)\]/i.exec(g);if(h=(h=h?h[1]:"unknown:["+g+"]").toLowerCase(),0<=(g=F.indexOf(D)))return this.dispatch("[CIRCULAR:"+g+"]");if(F.push(D),s!==void 0&&s.isBuffer&&s.isBuffer(D))return L("buffer:"),L(D);if(h==="object"||h==="function"||h==="asyncfunction")return g=Object.keys(D),k.unorderedObjects&&(g=g.sort()),k.respectType===!1||C(D)||g.splice(0,0,"prototype","__proto__","constructor"),k.excludeKeys&&(g=g.filter(function(l){return!k.excludeKeys(l)})),L("object:"+g.length+":"),N=this,g.forEach(function(l){N.dispatch(l),L(":"),k.excludeValues||N.dispatch(D[l]),L(",")});if(!this["_"+h]){if(k.ignoreUnknown)return L("["+h+"]");throw new Error('Unknown object type "'+h+'"')}this["_"+h](D)},_array:function(D,l){l=l!==void 0?l:k.unorderedArrays!==!1;var g=this;if(L("array:"+D.length+":"),!l||D.length<=1)return D.forEach(function(b){return g.dispatch(b)});var h=[],l=D.map(function(b){var _=new T,x=F.slice();return R(k,_,x).dispatch(b),h=h.concat(x.slice(F.length)),_.read().toString()});return F=F.concat(h),l.sort(),this._array(l,!1)},_date:function(D){return L("date:"+D.toJSON())},_symbol:function(D){return L("symbol:"+D.toString())},_error:function(D){return L("error:"+D.toString())},_boolean:function(D){return L("bool:"+D.toString())},_string:function(D){L("string:"+D.length+":"),L(D.toString())},_function:function(D){L("fn:"),C(D)?this.dispatch("[native]"):this.dispatch(D.toString()),k.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(D.name)),k.respectFunctionProperties&&this._object(D)},_number:function(D){return L("number:"+D.toString())},_xml:function(D){return L("xml:"+D.toString())},_null:function(){return L("Null")},_undefined:function(){return L("Undefined")},_regexp:function(D){return L("regex:"+D.toString())},_uint8array:function(D){return L("uint8array:"),this.dispatch(Array.prototype.slice.call(D))},_uint8clampedarray:function(D){return L("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(D))},_int8array:function(D){return L("int8array:"),this.dispatch(Array.prototype.slice.call(D))},_uint16array:function(D){return L("uint16array:"),this.dispatch(Array.prototype.slice.call(D))},_int16array:function(D){return L("int16array:"),this.dispatch(Array.prototype.slice.call(D))},_uint32array:function(D){return L("uint32array:"),this.dispatch(Array.prototype.slice.call(D))},_int32array:function(D){return L("int32array:"),this.dispatch(Array.prototype.slice.call(D))},_float32array:function(D){return L("float32array:"),this.dispatch(Array.prototype.slice.call(D))},_float64array:function(D){return L("float64array:"),this.dispatch(Array.prototype.slice.call(D))},_arraybuffer:function(D){return L("arraybuffer:"),this.dispatch(new Uint8Array(D))},_url:function(D){return L("url:"+D.toString())},_map:function(D){return L("map:"),D=Array.from(D),this._array(D,k.unorderedSets!==!1)},_set:function(D){return L("set:"),D=Array.from(D),this._array(D,k.unorderedSets!==!1)},_file:function(D){return L("file:"),this.dispatch([D.name,D.size,D.type,D.lastModfied])},_blob:function(){if(k.ignoreUnknown)return L("[blob]");throw Error(`Hashing Blob objects is currently not supported
(see https://github.com/puleos/object-hash/issues/26)
Use "options.replacer" or "options.ignoreUnknown"
`)},_domwindow:function(){return L("domwindow")},_bigint:function(D){return L("bigint:"+D.toString())},_process:function(){return L("process")},_timer:function(){return L("timer")},_pipe:function(){return L("pipe")},_tcp:function(){return L("tcp")},_udp:function(){return L("udp")},_tty:function(){return L("tty")},_statwatcher:function(){return L("statwatcher")},_securecontext:function(){return L("securecontext")},_connection:function(){return L("connection")},_zlib:function(){return L("zlib")},_context:function(){return L("context")},_nodescript:function(){return L("nodescript")},_httpparser:function(){return L("httpparser")},_dataview:function(){return L("dataview")},_signal:function(){return L("signal")},_fsevent:function(){return L("fsevent")},_tlswrap:function(){return L("tlswrap")}}}function T(){return{buf:"",write:function(k){this.buf+=k},end:function(k){this.buf+=k},read:function(){return this.buf}}}r.writeToStream=function(k,H,F){return F===void 0&&(F=H,H={}),R(H=P(k,H),F).dispatch(k)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_9a5aa49d.js","/")},{buffer:3,crypto:5,lYpoI2:11}],2:[function(t,e,r){(function(n,i,s,o,a,u,c,d,f){(function(m){"use strict";var p=typeof Uint8Array<"u"?Uint8Array:Array,y="+".charCodeAt(0),w="/".charCodeAt(0),P="0".charCodeAt(0),C="a".charCodeAt(0),R="A".charCodeAt(0),T="-".charCodeAt(0),k="_".charCodeAt(0);function H(F){return F=F.charCodeAt(0),F===y||F===T?62:F===w||F===k?63:F<P?-1:F<P+10?F-P+26+26:F<R+26?F-R:F<C+26?F-C+26:void 0}m.toByteArray=function(F){var L,D;if(0<F.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var N=F.length,N=F.charAt(N-2)==="="?2:F.charAt(N-1)==="="?1:0,g=new p(3*F.length/4-N),h=0<N?F.length-4:F.length,l=0;function b(_){g[l++]=_}for(L=0;L<h;L+=4,0)b((16711680&(D=H(F.charAt(L))<<18|H(F.charAt(L+1))<<12|H(F.charAt(L+2))<<6|H(F.charAt(L+3))))>>16),b((65280&D)>>8),b(255&D);return N==2?b(255&(D=H(F.charAt(L))<<2|H(F.charAt(L+1))>>4)):N==1&&(b((D=H(F.charAt(L))<<10|H(F.charAt(L+1))<<4|H(F.charAt(L+2))>>2)>>8&255),b(255&D)),g},m.fromByteArray=function(F){var L,D,N,g,h=F.length%3,l="";function b(_){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(_)}for(L=0,N=F.length-h;L<N;L+=3)D=(F[L]<<16)+(F[L+1]<<8)+F[L+2],l+=b((g=D)>>18&63)+b(g>>12&63)+b(g>>6&63)+b(63&g);switch(h){case 1:l=(l+=b((D=F[F.length-1])>>2))+b(D<<4&63)+"==";break;case 2:l=(l=(l+=b((D=(F[F.length-2]<<8)+F[F.length-1])>>10))+b(D>>4&63))+b(D<<2&63)+"="}return l}})(r===void 0?this.base64js={}:r)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:11}],3:[function(t,e,r){(function(n,i,y,o,a,u,c,d,f){var m=t("base64-js"),p=t("ieee754");function y(G,te,ae){if(!(this instanceof y))return new y(G,te,ae);var be,ye,_e,ke,He=typeof G;if(te==="base64"&&He=="string")for(G=(ke=G).trim?ke.trim():ke.replace(/^\s+|\s+$/g,"");G.length%4!=0;)G+="=";if(He=="number")be=I(G);else if(He=="string")be=y.byteLength(G,te);else{if(He!="object")throw new Error("First argument needs to be a number, array or string.");be=I(G.length)}if(y._useTypedArrays?ye=y._augment(new Uint8Array(be)):((ye=this).length=be,ye._isBuffer=!0),y._useTypedArrays&&typeof G.byteLength=="number")ye._set(G);else if(A(ke=G)||y.isBuffer(ke)||ke&&typeof ke=="object"&&typeof ke.length=="number")for(_e=0;_e<be;_e++)y.isBuffer(G)?ye[_e]=G.readUInt8(_e):ye[_e]=G[_e];else if(He=="string")ye.write(G,0,te);else if(He=="number"&&!y._useTypedArrays&&!ae)for(_e=0;_e<be;_e++)ye[_e]=0;return ye}function w(G,te,ae,be){return y._charsWritten=q(function(ye){for(var _e=[],ke=0;ke<ye.length;ke++)_e.push(255&ye.charCodeAt(ke));return _e}(te),G,ae,be)}function P(G,te,ae,be){return y._charsWritten=q(function(ye){for(var _e,ke,He=[],ze=0;ze<ye.length;ze++)ke=ye.charCodeAt(ze),_e=ke>>8,ke=ke%256,He.push(ke),He.push(_e);return He}(te),G,ae,be)}function C(G,te,ae){var be="";ae=Math.min(G.length,ae);for(var ye=te;ye<ae;ye++)be+=String.fromCharCode(G[ye]);return be}function R(G,te,ae,_e){_e||(pe(typeof ae=="boolean","missing or invalid endian"),pe(te!=null,"missing offset"),pe(te+1<G.length,"Trying to read beyond buffer length"));var ye,_e=G.length;if(!(_e<=te))return ae?(ye=G[te],te+1<_e&&(ye|=G[te+1]<<8)):(ye=G[te]<<8,te+1<_e&&(ye|=G[te+1])),ye}function T(G,te,ae,_e){_e||(pe(typeof ae=="boolean","missing or invalid endian"),pe(te!=null,"missing offset"),pe(te+3<G.length,"Trying to read beyond buffer length"));var ye,_e=G.length;if(!(_e<=te))return ae?(te+2<_e&&(ye=G[te+2]<<16),te+1<_e&&(ye|=G[te+1]<<8),ye|=G[te],te+3<_e&&(ye+=G[te+3]<<24>>>0)):(te+1<_e&&(ye=G[te+1]<<16),te+2<_e&&(ye|=G[te+2]<<8),te+3<_e&&(ye|=G[te+3]),ye+=G[te]<<24>>>0),ye}function k(G,te,ae,be){if(be||(pe(typeof ae=="boolean","missing or invalid endian"),pe(te!=null,"missing offset"),pe(te+1<G.length,"Trying to read beyond buffer length")),!(G.length<=te))return be=R(G,te,ae,!0),32768&be?-1*(65535-be+1):be}function H(G,te,ae,be){if(be||(pe(typeof ae=="boolean","missing or invalid endian"),pe(te!=null,"missing offset"),pe(te+3<G.length,"Trying to read beyond buffer length")),!(G.length<=te))return be=T(G,te,ae,!0),2147483648&be?-1*(4294967295-be+1):be}function F(G,te,ae,be){return be||(pe(typeof ae=="boolean","missing or invalid endian"),pe(te+3<G.length,"Trying to read beyond buffer length")),p.read(G,te,ae,23,4)}function L(G,te,ae,be){return be||(pe(typeof ae=="boolean","missing or invalid endian"),pe(te+7<G.length,"Trying to read beyond buffer length")),p.read(G,te,ae,52,8)}function D(G,te,ae,be,ye){if(ye||(pe(te!=null,"missing value"),pe(typeof be=="boolean","missing or invalid endian"),pe(ae!=null,"missing offset"),pe(ae+1<G.length,"trying to write beyond buffer length"),ne(te,65535)),ye=G.length,!(ye<=ae))for(var _e=0,ke=Math.min(ye-ae,2);_e<ke;_e++)G[ae+_e]=(te&255<<8*(be?_e:1-_e))>>>8*(be?_e:1-_e)}function N(G,te,ae,be,ye){if(ye||(pe(te!=null,"missing value"),pe(typeof be=="boolean","missing or invalid endian"),pe(ae!=null,"missing offset"),pe(ae+3<G.length,"trying to write beyond buffer length"),ne(te,4294967295)),ye=G.length,!(ye<=ae))for(var _e=0,ke=Math.min(ye-ae,4);_e<ke;_e++)G[ae+_e]=te>>>8*(be?_e:3-_e)&255}function g(G,te,ae,be,ye){ye||(pe(te!=null,"missing value"),pe(typeof be=="boolean","missing or invalid endian"),pe(ae!=null,"missing offset"),pe(ae+1<G.length,"Trying to write beyond buffer length"),oe(te,32767,-32768)),G.length<=ae||D(G,0<=te?te:65535+te+1,ae,be,ye)}function h(G,te,ae,be,ye){ye||(pe(te!=null,"missing value"),pe(typeof be=="boolean","missing or invalid endian"),pe(ae!=null,"missing offset"),pe(ae+3<G.length,"Trying to write beyond buffer length"),oe(te,2147483647,-2147483648)),G.length<=ae||N(G,0<=te?te:4294967295+te+1,ae,be,ye)}function l(G,te,ae,be,ye){ye||(pe(te!=null,"missing value"),pe(typeof be=="boolean","missing or invalid endian"),pe(ae!=null,"missing offset"),pe(ae+3<G.length,"Trying to write beyond buffer length"),le(te,34028234663852886e22,-34028234663852886e22)),G.length<=ae||p.write(G,te,ae,be,23,4)}function b(G,te,ae,be,ye){ye||(pe(te!=null,"missing value"),pe(typeof be=="boolean","missing or invalid endian"),pe(ae!=null,"missing offset"),pe(ae+7<G.length,"Trying to write beyond buffer length"),le(te,17976931348623157e292,-17976931348623157e292)),G.length<=ae||p.write(G,te,ae,be,52,8)}r.Buffer=y,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50,y.poolSize=8192,y._useTypedArrays=function(){try{var G=new ArrayBuffer(0),te=new Uint8Array(G);return te.foo=function(){return 42},te.foo()===42&&typeof te.subarray=="function"}catch{return!1}}(),y.isEncoding=function(G){switch(String(G).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.isBuffer=function(G){return!(G==null||!G._isBuffer)},y.byteLength=function(G,te){var ae;switch(G+="",te||"utf8"){case"hex":ae=G.length/2;break;case"utf8":case"utf-8":ae=S(G).length;break;case"ascii":case"binary":case"raw":ae=G.length;break;case"base64":ae=O(G).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ae=2*G.length;break;default:throw new Error("Unknown encoding")}return ae},y.concat=function(G,te){if(pe(A(G),`Usage: Buffer.concat(list, [totalLength])
list should be an Array.`),G.length===0)return new y(0);if(G.length===1)return G[0];if(typeof te!="number")for(ye=te=0;ye<G.length;ye++)te+=G[ye].length;for(var ae=new y(te),be=0,ye=0;ye<G.length;ye++){var _e=G[ye];_e.copy(ae,be),be+=_e.length}return ae},y.prototype.write=function(G,te,ae,be){isFinite(te)?isFinite(ae)||(be=ae,ae=void 0):(ze=be,be=te,te=ae,ae=ze),te=Number(te)||0;var ye,_e,ke,He,ze=this.length-te;switch((!ae||ze<(ae=Number(ae)))&&(ae=ze),be=String(be||"utf8").toLowerCase()){case"hex":ye=function(qe,Ve,Xe,je){Xe=Number(Xe)||0;var Me=qe.length-Xe;(!je||Me<(je=Number(je)))&&(je=Me),pe((Me=Ve.length)%2==0,"Invalid hex string"),Me/2<je&&(je=Me/2);for(var it=0;it<je;it++){var z=parseInt(Ve.substr(2*it,2),16);pe(!isNaN(z),"Invalid hex string"),qe[Xe+it]=z}return y._charsWritten=2*it,it}(this,G,te,ae);break;case"utf8":case"utf-8":_e=this,ke=te,He=ae,ye=y._charsWritten=q(S(G),_e,ke,He);break;case"ascii":case"binary":ye=w(this,G,te,ae);break;case"base64":_e=this,ke=te,He=ae,ye=y._charsWritten=q(O(G),_e,ke,He);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ye=P(this,G,te,ae);break;default:throw new Error("Unknown encoding")}return ye},y.prototype.toString=function(G,te,ae){var be,ye,_e,ke,He=this;if(G=String(G||"utf8").toLowerCase(),te=Number(te)||0,(ae=ae!==void 0?Number(ae):He.length)===te)return"";switch(G){case"hex":be=function(ze,qe,Ve){var Xe=ze.length;(!qe||qe<0)&&(qe=0),(!Ve||Ve<0||Xe<Ve)&&(Ve=Xe);for(var je="",Me=qe;Me<Ve;Me++)je+=v(ze[Me]);return je}(He,te,ae);break;case"utf8":case"utf-8":be=function(ze,qe,Ve){var Xe="",je="";Ve=Math.min(ze.length,Ve);for(var Me=qe;Me<Ve;Me++)ze[Me]<=127?(Xe+=J(je)+String.fromCharCode(ze[Me]),je=""):je+="%"+ze[Me].toString(16);return Xe+J(je)}(He,te,ae);break;case"ascii":case"binary":be=C(He,te,ae);break;case"base64":ye=He,ke=ae,be=(_e=te)===0&&ke===ye.length?m.fromByteArray(ye):m.fromByteArray(ye.slice(_e,ke));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":be=function(ze,qe,Ve){for(var Xe=ze.slice(qe,Ve),je="",Me=0;Me<Xe.length;Me+=2)je+=String.fromCharCode(Xe[Me]+256*Xe[Me+1]);return je}(He,te,ae);break;default:throw new Error("Unknown encoding")}return be},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},y.prototype.copy=function(G,te,ae,be){if(te=te||0,(be=be||be===0?be:this.length)!==(ae=ae||0)&&G.length!==0&&this.length!==0){pe(ae<=be,"sourceEnd < sourceStart"),pe(0<=te&&te<G.length,"targetStart out of bounds"),pe(0<=ae&&ae<this.length,"sourceStart out of bounds"),pe(0<=be&&be<=this.length,"sourceEnd out of bounds"),be>this.length&&(be=this.length);var ye=(be=G.length-te<be-ae?G.length-te+ae:be)-ae;if(ye<100||!y._useTypedArrays)for(var _e=0;_e<ye;_e++)G[_e+te]=this[_e+ae];else G._set(this.subarray(ae,ae+ye),te)}},y.prototype.slice=function(G,te){var ae=this.length;if(G=x(G,ae,0),te=x(te,ae,ae),y._useTypedArrays)return y._augment(this.subarray(G,te));for(var be=te-G,ye=new y(be,void 0,!0),_e=0;_e<be;_e++)ye[_e]=this[_e+G];return ye},y.prototype.get=function(G){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(G)},y.prototype.set=function(G,te){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(G,te)},y.prototype.readUInt8=function(G,te){if(te||(pe(G!=null,"missing offset"),pe(G<this.length,"Trying to read beyond buffer length")),!(G>=this.length))return this[G]},y.prototype.readUInt16LE=function(G,te){return R(this,G,!0,te)},y.prototype.readUInt16BE=function(G,te){return R(this,G,!1,te)},y.prototype.readUInt32LE=function(G,te){return T(this,G,!0,te)},y.prototype.readUInt32BE=function(G,te){return T(this,G,!1,te)},y.prototype.readInt8=function(G,te){if(te||(pe(G!=null,"missing offset"),pe(G<this.length,"Trying to read beyond buffer length")),!(G>=this.length))return 128&this[G]?-1*(255-this[G]+1):this[G]},y.prototype.readInt16LE=function(G,te){return k(this,G,!0,te)},y.prototype.readInt16BE=function(G,te){return k(this,G,!1,te)},y.prototype.readInt32LE=function(G,te){return H(this,G,!0,te)},y.prototype.readInt32BE=function(G,te){return H(this,G,!1,te)},y.prototype.readFloatLE=function(G,te){return F(this,G,!0,te)},y.prototype.readFloatBE=function(G,te){return F(this,G,!1,te)},y.prototype.readDoubleLE=function(G,te){return L(this,G,!0,te)},y.prototype.readDoubleBE=function(G,te){return L(this,G,!1,te)},y.prototype.writeUInt8=function(G,te,ae){ae||(pe(G!=null,"missing value"),pe(te!=null,"missing offset"),pe(te<this.length,"trying to write beyond buffer length"),ne(G,255)),te>=this.length||(this[te]=G)},y.prototype.writeUInt16LE=function(G,te,ae){D(this,G,te,!0,ae)},y.prototype.writeUInt16BE=function(G,te,ae){D(this,G,te,!1,ae)},y.prototype.writeUInt32LE=function(G,te,ae){N(this,G,te,!0,ae)},y.prototype.writeUInt32BE=function(G,te,ae){N(this,G,te,!1,ae)},y.prototype.writeInt8=function(G,te,ae){ae||(pe(G!=null,"missing value"),pe(te!=null,"missing offset"),pe(te<this.length,"Trying to write beyond buffer length"),oe(G,127,-128)),te>=this.length||(0<=G?this.writeUInt8(G,te,ae):this.writeUInt8(255+G+1,te,ae))},y.prototype.writeInt16LE=function(G,te,ae){g(this,G,te,!0,ae)},y.prototype.writeInt16BE=function(G,te,ae){g(this,G,te,!1,ae)},y.prototype.writeInt32LE=function(G,te,ae){h(this,G,te,!0,ae)},y.prototype.writeInt32BE=function(G,te,ae){h(this,G,te,!1,ae)},y.prototype.writeFloatLE=function(G,te,ae){l(this,G,te,!0,ae)},y.prototype.writeFloatBE=function(G,te,ae){l(this,G,te,!1,ae)},y.prototype.writeDoubleLE=function(G,te,ae){b(this,G,te,!0,ae)},y.prototype.writeDoubleBE=function(G,te,ae){b(this,G,te,!1,ae)},y.prototype.fill=function(G,te,ae){if(te=te||0,ae=ae||this.length,pe(typeof(G=typeof(G=G||0)=="string"?G.charCodeAt(0):G)=="number"&&!isNaN(G),"value is not a number"),pe(te<=ae,"end < start"),ae!==te&&this.length!==0){pe(0<=te&&te<this.length,"start out of bounds"),pe(0<=ae&&ae<=this.length,"end out of bounds");for(var be=te;be<ae;be++)this[be]=G}},y.prototype.inspect=function(){for(var G=[],te=this.length,ae=0;ae<te;ae++)if(G[ae]=v(this[ae]),ae===r.INSPECT_MAX_BYTES){G[ae+1]="...";break}return"<Buffer "+G.join(" ")+">"},y.prototype.toArrayBuffer=function(){if(typeof Uint8Array>"u")throw new Error("Buffer.toArrayBuffer not supported in this browser");if(y._useTypedArrays)return new y(this).buffer;for(var G=new Uint8Array(this.length),te=0,ae=G.length;te<ae;te+=1)G[te]=this[te];return G.buffer};var _=y.prototype;function x(G,te,ae){return typeof G!="number"?ae:te<=(G=~~G)?te:0<=G||0<=(G+=te)?G:0}function I(G){return(G=~~Math.ceil(+G))<0?0:G}function A(G){return(Array.isArray||function(te){return Object.prototype.toString.call(te)==="[object Array]"})(G)}function v(G){return G<16?"0"+G.toString(16):G.toString(16)}function S(G){for(var te=[],ae=0;ae<G.length;ae++){var be=G.charCodeAt(ae);if(be<=127)te.push(G.charCodeAt(ae));else for(var ye=ae,_e=(55296<=be&&be<=57343&&ae++,encodeURIComponent(G.slice(ye,ae+1)).substr(1).split("%")),ke=0;ke<_e.length;ke++)te.push(parseInt(_e[ke],16))}return te}function O(G){return m.toByteArray(G)}function q(G,te,ae,be){for(var ye=0;ye<be&&!(ye+ae>=te.length||ye>=G.length);ye++)te[ye+ae]=G[ye];return ye}function J(G){try{return decodeURIComponent(G)}catch{return String.fromCharCode(65533)}}function ne(G,te){pe(typeof G=="number","cannot write a non-number as a number"),pe(0<=G,"specified a negative value for writing an unsigned value"),pe(G<=te,"value is larger than maximum value for type"),pe(Math.floor(G)===G,"value has a fractional component")}function oe(G,te,ae){pe(typeof G=="number","cannot write a non-number as a number"),pe(G<=te,"value larger than maximum allowed value"),pe(ae<=G,"value smaller than minimum allowed value"),pe(Math.floor(G)===G,"value has a fractional component")}function le(G,te,ae){pe(typeof G=="number","cannot write a non-number as a number"),pe(G<=te,"value larger than maximum allowed value"),pe(ae<=G,"value smaller than minimum allowed value")}function pe(G,te){if(!G)throw new Error(te||"Failed assertion")}y._augment=function(G){return G._isBuffer=!0,G._get=G.get,G._set=G.set,G.get=_.get,G.set=_.set,G.write=_.write,G.toString=_.toString,G.toLocaleString=_.toString,G.toJSON=_.toJSON,G.copy=_.copy,G.slice=_.slice,G.readUInt8=_.readUInt8,G.readUInt16LE=_.readUInt16LE,G.readUInt16BE=_.readUInt16BE,G.readUInt32LE=_.readUInt32LE,G.readUInt32BE=_.readUInt32BE,G.readInt8=_.readInt8,G.readInt16LE=_.readInt16LE,G.readInt16BE=_.readInt16BE,G.readInt32LE=_.readInt32LE,G.readInt32BE=_.readInt32BE,G.readFloatLE=_.readFloatLE,G.readFloatBE=_.readFloatBE,G.readDoubleLE=_.readDoubleLE,G.readDoubleBE=_.readDoubleBE,G.writeUInt8=_.writeUInt8,G.writeUInt16LE=_.writeUInt16LE,G.writeUInt16BE=_.writeUInt16BE,G.writeUInt32LE=_.writeUInt32LE,G.writeUInt32BE=_.writeUInt32BE,G.writeInt8=_.writeInt8,G.writeInt16LE=_.writeInt16LE,G.writeInt16BE=_.writeInt16BE,G.writeInt32LE=_.writeInt32LE,G.writeInt32BE=_.writeInt32BE,G.writeFloatLE=_.writeFloatLE,G.writeFloatBE=_.writeFloatBE,G.writeDoubleLE=_.writeDoubleLE,G.writeDoubleBE=_.writeDoubleBE,G.fill=_.fill,G.inspect=_.inspect,G.toArrayBuffer=_.toArrayBuffer,G}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:10,lYpoI2:11}],4:[function(t,e,r){(function(n,i,m,o,a,u,c,d,f){var m=t("buffer").Buffer,p=4,y=new m(p);y.fill(0),e.exports={hash:function(w,P,C,R){for(var T=P(function(D,N){D.length%p!=0&&(g=D.length+(p-D.length%p),D=m.concat([D,y],g));for(var g,h=[],l=N?D.readInt32BE:D.readInt32LE,b=0;b<D.length;b+=p)h.push(l.call(D,b));return h}(w=m.isBuffer(w)?w:new m(w),R),8*w.length),P=R,k=new m(C),H=P?k.writeInt32BE:k.writeInt32LE,F=0;F<T.length;F++)H.call(k,T[F],4*F,!0);return k}}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],5:[function(t,e,r){(function(n,i,m,o,a,u,c,d,f){var m=t("buffer").Buffer,p=t("./sha"),y=t("./sha256"),w=t("./rng"),P={sha1:p,sha256:y,md5:t("./md5")},C=64,R=new m(C);function T(D,N){var g=P[D=D||"sha1"],h=[];return g||k("algorithm:",D,"is not yet supported"),{update:function(l){return m.isBuffer(l)||(l=new m(l)),h.push(l),l.length,this},digest:function(l){var b=m.concat(h),b=N?function(_,x,I){m.isBuffer(x)||(x=new m(x)),m.isBuffer(I)||(I=new m(I)),x.length>C?x=_(x):x.length<C&&(x=m.concat([x,R],C));for(var A=new m(C),v=new m(C),S=0;S<C;S++)A[S]=54^x[S],v[S]=92^x[S];return I=_(m.concat([A,I])),_(m.concat([v,I]))}(g,N,b):g(b);return h=null,l?b.toString(l):b}}}function k(){var D=[].slice.call(arguments).join(" ");throw new Error([D,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join(`
`))}R.fill(0),r.createHash=function(D){return T(D)},r.createHmac=T,r.randomBytes=function(D,N){if(!N||!N.call)return new m(w(D));try{N.call(this,void 0,new m(w(D)))}catch(g){N(g)}};var H,F=["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],L=function(D){r[D]=function(){k("sorry,",D,"is not implemented yet")}};for(H in F)L(F[H],H)}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:11}],6:[function(t,e,r){(function(n,i,s,o,a,u,c,d,f){var m=t("./helpers");function p(k,H){k[H>>5]|=128<<H%32,k[14+(H+64>>>9<<4)]=H;for(var F=1732584193,L=-271733879,D=-1732584194,N=271733878,g=0;g<k.length;g+=16){var h=F,l=L,b=D,_=N,F=w(F,L,D,N,k[g+0],7,-680876936),N=w(N,F,L,D,k[g+1],12,-389564586),D=w(D,N,F,L,k[g+2],17,606105819),L=w(L,D,N,F,k[g+3],22,-1044525330);F=w(F,L,D,N,k[g+4],7,-176418897),N=w(N,F,L,D,k[g+5],12,1200080426),D=w(D,N,F,L,k[g+6],17,-1473231341),L=w(L,D,N,F,k[g+7],22,-45705983),F=w(F,L,D,N,k[g+8],7,1770035416),N=w(N,F,L,D,k[g+9],12,-1958414417),D=w(D,N,F,L,k[g+10],17,-42063),L=w(L,D,N,F,k[g+11],22,-1990404162),F=w(F,L,D,N,k[g+12],7,1804603682),N=w(N,F,L,D,k[g+13],12,-40341101),D=w(D,N,F,L,k[g+14],17,-1502002290),F=P(F,L=w(L,D,N,F,k[g+15],22,1236535329),D,N,k[g+1],5,-165796510),N=P(N,F,L,D,k[g+6],9,-1069501632),D=P(D,N,F,L,k[g+11],14,643717713),L=P(L,D,N,F,k[g+0],20,-373897302),F=P(F,L,D,N,k[g+5],5,-701558691),N=P(N,F,L,D,k[g+10],9,38016083),D=P(D,N,F,L,k[g+15],14,-660478335),L=P(L,D,N,F,k[g+4],20,-405537848),F=P(F,L,D,N,k[g+9],5,568446438),N=P(N,F,L,D,k[g+14],9,-1019803690),D=P(D,N,F,L,k[g+3],14,-187363961),L=P(L,D,N,F,k[g+8],20,1163531501),F=P(F,L,D,N,k[g+13],5,-1444681467),N=P(N,F,L,D,k[g+2],9,-51403784),D=P(D,N,F,L,k[g+7],14,1735328473),F=C(F,L=P(L,D,N,F,k[g+12],20,-1926607734),D,N,k[g+5],4,-378558),N=C(N,F,L,D,k[g+8],11,-2022574463),D=C(D,N,F,L,k[g+11],16,1839030562),L=C(L,D,N,F,k[g+14],23,-35309556),F=C(F,L,D,N,k[g+1],4,-1530992060),N=C(N,F,L,D,k[g+4],11,1272893353),D=C(D,N,F,L,k[g+7],16,-155497632),L=C(L,D,N,F,k[g+10],23,-1094730640),F=C(F,L,D,N,k[g+13],4,681279174),N=C(N,F,L,D,k[g+0],11,-358537222),D=C(D,N,F,L,k[g+3],16,-722521979),L=C(L,D,N,F,k[g+6],23,76029189),F=C(F,L,D,N,k[g+9],4,-640364487),N=C(N,F,L,D,k[g+12],11,-421815835),D=C(D,N,F,L,k[g+15],16,530742520),F=R(F,L=C(L,D,N,F,k[g+2],23,-995338651),D,N,k[g+0],6,-198630844),N=R(N,F,L,D,k[g+7],10,1126891415),D=R(D,N,F,L,k[g+14],15,-1416354905),L=R(L,D,N,F,k[g+5],21,-57434055),F=R(F,L,D,N,k[g+12],6,1700485571),N=R(N,F,L,D,k[g+3],10,-1894986606),D=R(D,N,F,L,k[g+10],15,-1051523),L=R(L,D,N,F,k[g+1],21,-2054922799),F=R(F,L,D,N,k[g+8],6,1873313359),N=R(N,F,L,D,k[g+15],10,-30611744),D=R(D,N,F,L,k[g+6],15,-1560198380),L=R(L,D,N,F,k[g+13],21,1309151649),F=R(F,L,D,N,k[g+4],6,-145523070),N=R(N,F,L,D,k[g+11],10,-1120210379),D=R(D,N,F,L,k[g+2],15,718787259),L=R(L,D,N,F,k[g+9],21,-343485551),F=T(F,h),L=T(L,l),D=T(D,b),N=T(N,_)}return Array(F,L,D,N)}function y(k,H,F,L,D,N){return T((H=T(T(H,k),T(L,N)))<<D|H>>>32-D,F)}function w(k,H,F,L,D,N,g){return y(H&F|~H&L,k,H,D,N,g)}function P(k,H,F,L,D,N,g){return y(H&L|F&~L,k,H,D,N,g)}function C(k,H,F,L,D,N,g){return y(H^F^L,k,H,D,N,g)}function R(k,H,F,L,D,N,g){return y(F^(H|~L),k,H,D,N,g)}function T(k,H){var F=(65535&k)+(65535&H);return(k>>16)+(H>>16)+(F>>16)<<16|65535&F}e.exports=function(k){return m.hash(k,p,16)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],7:[function(t,e,r){(function(n,i,s,o,a,u,c,d,f){var m;e.exports=m||function(p){for(var y,w=new Array(p),P=0;P<p;P++)(3&P)==0&&(y=4294967296*Math.random()),w[P]=y>>>((3&P)<<3)&255;return w}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:11}],8:[function(t,e,r){(function(n,i,s,o,a,u,c,d,f){var m=t("./helpers");function p(P,C){P[C>>5]|=128<<24-C%32,P[15+(C+64>>9<<4)]=C;for(var R,T,k,H=Array(80),F=1732584193,L=-271733879,D=-1732584194,N=271733878,g=-1009589776,h=0;h<P.length;h+=16){for(var l=F,b=L,_=D,x=N,I=g,A=0;A<80;A++){H[A]=A<16?P[h+A]:w(H[A-3]^H[A-8]^H[A-14]^H[A-16],1);var v=y(y(w(F,5),(v=L,T=D,k=N,(R=A)<20?v&T|~v&k:!(R<40)&&R<60?v&T|v&k|T&k:v^T^k)),y(y(g,H[A]),(R=A)<20?1518500249:R<40?1859775393:R<60?-1894007588:-899497514)),g=N,N=D,D=w(L,30),L=F,F=v}F=y(F,l),L=y(L,b),D=y(D,_),N=y(N,x),g=y(g,I)}return Array(F,L,D,N,g)}function y(P,C){var R=(65535&P)+(65535&C);return(P>>16)+(C>>16)+(R>>16)<<16|65535&R}function w(P,C){return P<<C|P>>>32-C}e.exports=function(P){return m.hash(P,p,20,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],9:[function(t,e,r){(function(n,i,s,o,a,u,c,d,f){function m(C,R){var T=(65535&C)+(65535&R);return(C>>16)+(R>>16)+(T>>16)<<16|65535&T}function p(C,R){var T,k=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),F=new Array(64);C[R>>5]|=128<<24-R%32,C[15+(R+64>>9<<4)]=R;for(var L,D,N=0;N<C.length;N+=16){for(var g=H[0],h=H[1],l=H[2],b=H[3],_=H[4],x=H[5],I=H[6],A=H[7],v=0;v<64;v++)F[v]=v<16?C[v+N]:m(m(m((D=F[v-2],w(D,17)^w(D,19)^P(D,10)),F[v-7]),(D=F[v-15],w(D,7)^w(D,18)^P(D,3))),F[v-16]),T=m(m(m(m(A,w(D=_,6)^w(D,11)^w(D,25)),_&x^~_&I),k[v]),F[v]),L=m(w(L=g,2)^w(L,13)^w(L,22),g&h^g&l^h&l),A=I,I=x,x=_,_=m(b,T),b=l,l=h,h=g,g=m(T,L);H[0]=m(g,H[0]),H[1]=m(h,H[1]),H[2]=m(l,H[2]),H[3]=m(b,H[3]),H[4]=m(_,H[4]),H[5]=m(x,H[5]),H[6]=m(I,H[6]),H[7]=m(A,H[7])}return H}var y=t("./helpers"),w=function(C,R){return C>>>R|C<<32-R},P=function(C,R){return C>>>R};e.exports=function(C){return y.hash(C,p,32,!0)}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:11}],10:[function(t,e,r){(function(n,i,s,o,a,u,c,d,f){r.read=function(m,p,y,w,N){var C,R,T=8*N-w-1,k=(1<<T)-1,H=k>>1,F=-7,L=y?N-1:0,D=y?-1:1,N=m[p+L];for(L+=D,C=N&(1<<-F)-1,N>>=-F,F+=T;0<F;C=256*C+m[p+L],L+=D,F-=8);for(R=C&(1<<-F)-1,C>>=-F,F+=w;0<F;R=256*R+m[p+L],L+=D,F-=8);if(C===0)C=1-H;else{if(C===k)return R?NaN:1/0*(N?-1:1);R+=Math.pow(2,w),C-=H}return(N?-1:1)*R*Math.pow(2,C-w)},r.write=function(m,p,y,w,P,g){var R,T,k=8*g-P-1,H=(1<<k)-1,F=H>>1,L=P===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=w?0:g-1,N=w?1:-1,g=p<0||p===0&&1/p<0?1:0;for(p=Math.abs(p),isNaN(p)||p===1/0?(T=isNaN(p)?1:0,R=H):(R=Math.floor(Math.log(p)/Math.LN2),p*(w=Math.pow(2,-R))<1&&(R--,w*=2),2<=(p+=1<=R+F?L/w:L*Math.pow(2,1-F))*w&&(R++,w/=2),H<=R+F?(T=0,R=H):1<=R+F?(T=(p*w-1)*Math.pow(2,P),R+=F):(T=p*Math.pow(2,F-1)*Math.pow(2,P),R=0));8<=P;m[y+D]=255&T,D+=N,T/=256,P-=8);for(R=R<<P|T,k+=P;0<k;m[y+D]=255&R,D+=N,R/=256,k-=8);m[y+D-N]|=128*g}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/ieee754/index.js","/node_modules/gulp-browserify/node_modules/ieee754")},{buffer:3,lYpoI2:11}],11:[function(t,e,r){(function(n,i,s,o,a,u,c,d,f){var m,p,y;function w(){}(n=e.exports={}).nextTick=(p=typeof window<"u"&&window.setImmediate,y=typeof window<"u"&&window.postMessage&&window.addEventListener,p?function(P){return window.setImmediate(P)}:y?(m=[],window.addEventListener("message",function(P){var C=P.source;C!==window&&C!==null||P.data!=="process-tick"||(P.stopPropagation(),0<m.length&&m.shift()())},!0),function(P){m.push(P),window.postMessage("process-tick","*")}):function(P){setTimeout(P,0)}),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=w,n.addListener=w,n.once=w,n.off=w,n.removeListener=w,n.removeAllListeners=w,n.emit=w,n.binding=function(P){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(P){throw new Error("process.chdir is not supported")}}).call(this,t("lYpoI2"),typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:11}]},{},[1])(1)})});var o3=j(pi=>{"use strict";B();M();var xSe=pi&&pi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pi,"__esModule",{value:!0});pi.checkTxFee=pi.fromByteString=pi.camelCaseCapitalized=pi.alterFileExt=pi.isInNodeEnv=pi.mapIter=pi.findSigs=pi.findSig=pi.toNumber=pi.getDummySig=void 0;var ESe=xSe(ja()),q0=Tr(),ASe=a1();function TSe(){return new Array(72*2).fill(0).join("")}pi.getDummySig=TSe;function ISe(t){return parseInt("0x"+t)}pi.toNumber=ISe;function PSe(t,e,r=q0.DEFAULT_SIGHASH_TYPE){return IY(t,[{pubKeyOrAddr:e,sigHashType:r}])[0]}pi.findSig=PSe;function IY(t,e){return e.map(r=>{let n,i;return r instanceof q0.bsv.Address||r instanceof q0.bsv.PublicKey?(n=r,i=q0.DEFAULT_SIGHASH_TYPE):(n=r.pubKeyOrAddr,i=r.sigHashType||q0.DEFAULT_SIGHASH_TYPE),Array.from([n]).flat().map(s=>{let o=t.find(a=>(a.publicKey===s.toString()||q0.bsv.PublicKey.fromString(a.publicKey).toAddress(q0.bsv.Networks.testnet).toString()===s.toString()||q0.bsv.PublicKey.fromString(a.publicKey).toAddress(q0.bsv.Networks.livenet).toString()===s.toString())&&a.sigHashType===i);if(!o){let a=s instanceof q0.bsv.Address?"address":"public key";throw new Error(`cannot find signature for ${a} \`${s.toString()}\` in sigResponses`)}return(0,ASe.Sig)(o.sig)})}).flat()}pi.findSigs=IY;function*OSe(t,e){for(let r of t)yield e(r)}pi.mapIter=OSe;function BSe(){return typeof process<"u"}pi.isInNodeEnv=BSe;function MSe(t,e,r){let n=r||ESe.default.extname(t),i=new RegExp(`${n}$`);return t.replace(i,"."+e)}pi.alterFileExt=MSe;function kSe(t){return t.substring(0,1).toUpperCase()+t.substring(1)}pi.camelCaseCapitalized=kSe;function CSe(t){return new TextDecoder().decode(E.Buffer.from(t,"hex"))}pi.fromByteString=CSe;function RSe(t,e){let r=t.getUnspentValue(),n=t.getEstimateSize(),i=Math.max(1,Math.ceil(n/1e3*e));return r>=i}pi.checkTxFee=RSe});var MO=j(u3=>{"use strict";B();M();var NSe=u3&&u3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(u3,"__esModule",{value:!0});u3.HashedMap=void 0;var FSe=Tr(),a3=NSe(PO()),HSe=m_(),OO=o3(),BO=class extends Map{constructor(e){super(e)}set(e,r){let n={originalKey:e,value:r};return Map.prototype.set.call(this,(0,a3.default)(e),n),this._traceAccess(e),this}get(e){let r=Map.prototype.get.call(this,(0,a3.default)(e));return r?.value}has(e){return this._traceAccess(e),Map.prototype.has.call(this,(0,a3.default)(e))}delete(e){return this._traceAccess(e),Map.prototype.delete.call(this,(0,a3.default)(e))}forEach(e,r){Map.prototype.forEach.call(this,(n,i,s)=>{let o=n;e(o.value,o.originalKey,s)},r)}entries(){return(0,OO.mapIter)(Map.prototype.entries.call(this),([e,r])=>[r.originalKey,r.value])}keys(){let e=this;return(0,OO.mapIter)(Map.prototype.keys.call(this),r=>Map.prototype.get.call(e,r).originalKey)}values(){return(0,OO.mapIter)(Map.prototype.values.call(this),e=>e.value)}[Symbol.iterator](){return this.entries()}canGet(e,r){this._traceAccess(e);let n=this.get(e);return typeof n<"u"?(0,a3.default)(n)===(0,a3.default)(r):!1}attachTo(e,r){let[n,i]=(0,FSe.parseGenericType)(e);this._keyType=i[0],this._valueType=i[1],this._DelegateClazz=r,this._type=e,this._tracer=new HSe.SortedItemAccessTracer(this._keyType,r)}data(){return this._checkAttached(),this._DelegateClazz.toData(this,this._type)}startTracing(){var e;(e=this._tracer)===null||e===void 0||e.startTracing()}stopTracing(){var e;(e=this._tracer)===null||e===void 0||e.stopTracing()}serializedAccessPath(){var e;return(e=this._tracer)===null||e===void 0?void 0:e.serializedAccessPath()}get _isAttached(){return this._DelegateClazz!==void 0&&this._type!==void 0&&this._keyType!==void 0&&this._valueType!==void 0}_checkAttached(){if(!this._isAttached)throw new Error("`this.attachTo` should be called before")}_traceAccess(e){var r;(r=this._tracer)===null||r===void 0||r.traceAccess(e,this.keys())}};u3.HashedMap=BO});var PY=j(c3=>{"use strict";B();M();var DSe=c3&&c3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(c3,"__esModule",{value:!0});c3.HashedSet=void 0;var LSe=Tr(),USe=m_(),kO=DSe(PO()),CO=class extends Set{constructor(e){super(e),this._map=new Map}add(e){let r=(0,kO.default)(e);return this._map=this._map||new Map,this._map.has(r)||(Set.prototype.add.call(this,e),this._map.set(r,e)),this._traceAccess(e),this}delete(e){this._traceAccess(e);let r=(0,kO.default)(e),n=this._map.get(r);return this._map.delete(r),Set.prototype.delete.call(this,n)}has(e){this._traceAccess(e);let r=(0,kO.default)(e),n=this._map.get(r);return Set.prototype.has.call(this,n)}attachTo(e,r){let[n,i]=(0,LSe.parseGenericType)(e);this._elemType=i[0],this._DelegateClazz=r,this._type=e,this._tracer=new USe.SortedItemAccessTracer(this._elemType,r)}data(){return this._checkAttached(),this._DelegateClazz.toData(this,this._type)}startTracing(){var e;(e=this._tracer)===null||e===void 0||e.startTracing()}stopTracing(){var e;(e=this._tracer)===null||e===void 0||e.stopTracing()}serializedAccessPath(){var e;return(e=this._tracer)===null||e===void 0?void 0:e.serializedAccessPath()}get _isAttached(){return this._DelegateClazz!==void 0&&this._type!==void 0&&this._elemType!==void 0}_checkAttached(){if(!this._isAttached)throw new Error("`this.attachTo` should be called before")}_traceAccess(e){var r;(r=this._tracer)===null||r===void 0||r.traceAccess(e,this.values())}};c3.HashedSet=CO});var a1=j(on=>{"use strict";B();M();Object.defineProperty(on,"__esModule",{value:!0});on.equals=on.toByteString=on.Sha256=on.Sha1=on.Addr=on.PubKeyHash=on.Ripemd160=on.Sig=on.PubKey=on.SigHashType=on.OpCodeType=on.PrivKey=on.SigHashPreimage=on.HashedSet=on.HashedMap=on.instanceOfSIATraceable=void 0;var qSe=Tr(),If=Tr();Object.defineProperty(on,"SigHashPreimage",{enumerable:!0,get:function(){return If.SigHashPreimage}});Object.defineProperty(on,"PrivKey",{enumerable:!0,get:function(){return If.PrivKey}});Object.defineProperty(on,"OpCodeType",{enumerable:!0,get:function(){return If.OpCodeType}});Object.defineProperty(on,"SigHashType",{enumerable:!0,get:function(){return If.SigHashType}});var jSe=m_();Object.defineProperty(on,"instanceOfSIATraceable",{enumerable:!0,get:function(){return jSe.instanceOfSIATraceable}});var KSe=MO();Object.defineProperty(on,"HashedMap",{enumerable:!0,get:function(){return KSe.HashedMap}});var $Se=PY();Object.defineProperty(on,"HashedSet",{enumerable:!0,get:function(){return $Se.HashedSet}});function zSe(t){return(0,If.PubKey)(t)}on.PubKey=zSe;function VSe(t){return(0,If.Sig)(t)}on.Sig=VSe;function GSe(t){return(0,If.Ripemd160)(t)}on.Ripemd160=GSe;function WSe(t){return(0,If.PubKeyHash)(t)}on.PubKeyHash=WSe;function YSe(t){return(0,If.PubKeyHash)(t)}on.Addr=YSe;function XSe(t){return(0,If.Sha1)(t)}on.Sha1=XSe;function ZSe(t){return(0,If.Sha256)(t)}on.Sha256=ZSe;function JSe(t,e=!1){if(e===!0)return(0,qSe.stringToBytes)(t);if(t.length%2!==0)throw new Error("hex literal length must be even");return t}on.toByteString=JSe;function QSe(t,e){if(Array.isArray(t[0])){let r=[];for(let n=0;n<t.length;n++)r.push(y_(t[n],e[n]));for(let n=0;n<r.length;n++)if(!r[n])return!1;return!0}if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!y_(t[r],e[r]))return!1;return!0}function ewe(t,e){let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;let i=[];for(let s=0;s<r.length;s++)i.push(y_(t[r[s]],e[n[s]]));for(let s=0;s<i.length;s++)if(!i[s])return!1;return!0}function y_(t,e){return Array.isArray(t)&&Array.isArray(e)?QSe(t,e):typeof t=="object"&&typeof e=="object"?ewe(t,e):t===e}on.equals=y_});var Zp=j(ct=>{"use strict";B();M();Object.defineProperty(ct,"__esModule",{value:!0});ct.Constants=ct.Tx=ct.VarIntWriter=ct.VarIntReader=ct.SigHash=ct.Utils=ct.OpCode=ct.asm=ct.rshift=ct.lshift=ct.assert=ct.pubKey2Addr=ct.hash256=ct.hash160=ct.sha256=ct.sha1=ct.ripemd160=ct.within=ct.max=ct.min=ct.abs=ct.exit=ct.reverseByteString=ct.len=ct.byteString2Int=ct.int2ByteString=ct.fill=ct.slice=ct.getSortedItem=ct.invert=ct.or=ct.xor=ct.and=void 0;var Ke=Tr(),Se=a1(),twe=Gr(),fg=Tr();Object.defineProperty(ct,"and",{enumerable:!0,get:function(){return fg.and}});Object.defineProperty(ct,"xor",{enumerable:!0,get:function(){return fg.xor}});Object.defineProperty(ct,"or",{enumerable:!0,get:function(){return fg.or}});Object.defineProperty(ct,"invert",{enumerable:!0,get:function(){return fg.invert}});Object.defineProperty(ct,"getSortedItem",{enumerable:!0,get:function(){return fg.getSortedItem}});function rwe(t,e,r){let n=Number(e)*2,i=typeof r=="bigint"?Number(r)*2:t.length;if(n<0||i<0)throw new Error("index should not be negative");if(typeof r=="bigint"&&n>i)throw new Error("start index should be less than or equal to end index");if(n>t.length)throw new Error("start index should not be greater than the length");if(i>t.length)throw new Error("end index should not be greater than the length");return t.slice(n,i)}ct.slice=rwe;function nwe(t,e){return Array(e).fill(0).map(r=>(0,twe.cloneDeep)(t))}ct.fill=nwe;function Dc(t,e){return e===void 0?new Ke.bsv.crypto.BN(t).toSM({endian:"little"}).toString("hex"):(0,Ke.num2bin)(t,Number(e))}ct.int2ByteString=Dc;function f3(t){return BigInt((0,Ke.bin2num)(t))}ct.byteString2Int=f3;function Ta(t){return BigInt(t.length/2)}ct.len=Ta;function RO(t,e){let r=Ta(t);if(r!=e)throw new Error(`reverseByteString error, expected c = ${r}`);return t.match(/[a-fA-F0-9]{2}/g).reverse().join("")}ct.reverseByteString=RO;function iwe(t){}ct.exit=iwe;function swe(t){return t<0?-t:t}ct.abs=swe;function owe(t,e){return t-e<0?t:e}ct.min=owe;function awe(t,e){return t-e>0?t:e}ct.max=awe;function uwe(t,e,r){return e-t<=0&&t-r<0}ct.within=uwe;function cwe(t){return(0,Ke.Ripemd160)(Ke.bsv.crypto.Hash.ripemd160(E.Buffer.from(t,"hex")).toString("hex"))}ct.ripemd160=cwe;function fwe(t){return(0,Ke.Sha1)(Ke.bsv.crypto.Hash.sha1(E.Buffer.from(t,"hex")).toString("hex"))}ct.sha1=fwe;function NO(t){return(0,Ke.Sha256)(Ke.bsv.crypto.Hash.sha256(E.Buffer.from(t,"hex")).toString("hex"))}ct.sha256=NO;function OY(t){return(0,Ke.Ripemd160)(Ke.bsv.crypto.Hash.sha256ripemd160(E.Buffer.from(t,"hex")).toString("hex"))}ct.hash160=OY;function dwe(t){return NO(NO(t))}ct.hash256=dwe;function hwe(t){return OY(t)}ct.pubKey2Addr=hwe;function dg(t,e){if(!t){let r="Execution failed"+(e?`, ${e}`:"");throw new Error(r)}}ct.assert=dg;function lwe(t,e){let r=(0,Ke.Int)(1);for(let n=0,i=e;n<i;n++)r*=t;return r}function BY(t){return lwe((0,Ke.Int)(2),t)}function pwe(t,e){return dg(e>=0,"n < 0"),t*BY(e)}ct.lshift=pwe;function bwe(t,e){dg(e>=0,"n < 0");let r=t/BY(e);return e==(0,Ke.Int)(0)?t:t%(0,Ke.Int)(2)==(0,Ke.Int)(-1)?r-(0,Ke.Int)(1):t<(0,Ke.Int)(0)&&r==(0,Ke.Int)(0)?(0,Ke.Int)(-1):r}ct.rshift=bwe;function gwe(t){throw new Error("unimplemented")}ct.asm=gwe;var Re=class{};ct.OpCode=Re;Re.OP_0=(0,Se.OpCodeType)("00");Re.OP_FALSE=(0,Se.OpCodeType)("00");Re.OP_PUSHDATA1=(0,Se.OpCodeType)("4c");Re.OP_PUSHDATA2=(0,Se.OpCodeType)("4d");Re.OP_PUSHDATA4=(0,Se.OpCodeType)("4e");Re.OP_1NEGATE=(0,Se.OpCodeType)("4f");Re.OP_RESERVED=(0,Se.OpCodeType)("50");Re.OP_1=(0,Se.OpCodeType)("51");Re.OP_TRUE=(0,Se.OpCodeType)("51");Re.OP_2=(0,Se.OpCodeType)("52");Re.OP_3=(0,Se.OpCodeType)("53");Re.OP_4=(0,Se.OpCodeType)("54");Re.OP_5=(0,Se.OpCodeType)("55");Re.OP_6=(0,Se.OpCodeType)("56");Re.OP_7=(0,Se.OpCodeType)("57");Re.OP_8=(0,Se.OpCodeType)("58");Re.OP_9=(0,Se.OpCodeType)("59");Re.OP_10=(0,Se.OpCodeType)("5a");Re.OP_11=(0,Se.OpCodeType)("5b");Re.OP_12=(0,Se.OpCodeType)("5c");Re.OP_13=(0,Se.OpCodeType)("5d");Re.OP_14=(0,Se.OpCodeType)("5e");Re.OP_15=(0,Se.OpCodeType)("5f");Re.OP_16=(0,Se.OpCodeType)("60");Re.OP_NOP=(0,Se.OpCodeType)("61");Re.OP_VER=(0,Se.OpCodeType)("62");Re.OP_IF=(0,Se.OpCodeType)("63");Re.OP_NOTIF=(0,Se.OpCodeType)("64");Re.OP_VERIF=(0,Se.OpCodeType)("65");Re.OP_VERNOTIF=(0,Se.OpCodeType)("66");Re.OP_ELSE=(0,Se.OpCodeType)("67");Re.OP_ENDIF=(0,Se.OpCodeType)("68");Re.OP_VERIFY=(0,Se.OpCodeType)("69");Re.OP_RETURN=(0,Se.OpCodeType)("6a");Re.OP_TOALTSTACK=(0,Se.OpCodeType)("6b");Re.OP_FROMALTSTACK=(0,Se.OpCodeType)("6c");Re.OP_2DROP=(0,Se.OpCodeType)("6d");Re.OP_2DUP=(0,Se.OpCodeType)("6e");Re.OP_3DUP=(0,Se.OpCodeType)("6f");Re.OP_2OVER=(0,Se.OpCodeType)("70");Re.OP_2ROT=(0,Se.OpCodeType)("71");Re.OP_2SWAP=(0,Se.OpCodeType)("72");Re.OP_IFDUP=(0,Se.OpCodeType)("73");Re.OP_DEPTH=(0,Se.OpCodeType)("74");Re.OP_DROP=(0,Se.OpCodeType)("75");Re.OP_DUP=(0,Se.OpCodeType)("76");Re.OP_NIP=(0,Se.OpCodeType)("77");Re.OP_OVER=(0,Se.OpCodeType)("78");Re.OP_PICK=(0,Se.OpCodeType)("79");Re.OP_ROLL=(0,Se.OpCodeType)("7a");Re.OP_ROT=(0,Se.OpCodeType)("7b");Re.OP_SWAP=(0,Se.OpCodeType)("7c");Re.OP_TUCK=(0,Se.OpCodeType)("7d");Re.OP_CAT=(0,Se.OpCodeType)("7e");Re.OP_SPLIT=(0,Se.OpCodeType)("7f");Re.OP_NUM2BIN=(0,Se.OpCodeType)("80");Re.OP_BIN2NUM=(0,Se.OpCodeType)("81");Re.OP_SIZE=(0,Se.OpCodeType)("82");Re.OP_INVERT=(0,Se.OpCodeType)("83");Re.OP_AND=(0,Se.OpCodeType)("84");Re.OP_OR=(0,Se.OpCodeType)("85");Re.OP_XOR=(0,Se.OpCodeType)("86");Re.OP_EQUAL=(0,Se.OpCodeType)("87");Re.OP_EQUALVERIFY=(0,Se.OpCodeType)("88");Re.OP_RESERVED1=(0,Se.OpCodeType)("89");Re.OP_RESERVED2=(0,Se.OpCodeType)("8a");Re.OP_1ADD=(0,Se.OpCodeType)("8b");Re.OP_1SUB=(0,Se.OpCodeType)("8c");Re.OP_2MUL=(0,Se.OpCodeType)("8d");Re.OP_2DIV=(0,Se.OpCodeType)("8e");Re.OP_NEGATE=(0,Se.OpCodeType)("8f");Re.OP_ABS=(0,Se.OpCodeType)("90");Re.OP_NOT=(0,Se.OpCodeType)("91");Re.OP_0NOTEQUAL=(0,Se.OpCodeType)("92");Re.OP_ADD=(0,Se.OpCodeType)("93");Re.OP_SUB=(0,Se.OpCodeType)("94");Re.OP_MUL=(0,Se.OpCodeType)("95");Re.OP_DIV=(0,Se.OpCodeType)("96");Re.OP_MOD=(0,Se.OpCodeType)("97");Re.OP_LSHIFT=(0,Se.OpCodeType)("98");Re.OP_RSHIFT=(0,Se.OpCodeType)("99");Re.OP_BOOLAND=(0,Se.OpCodeType)("9a");Re.OP_BOOLOR=(0,Se.OpCodeType)("9b");Re.OP_NUMEQUAL=(0,Se.OpCodeType)("9c");Re.OP_NUMEQUALVERIFY=(0,Se.OpCodeType)("9d");Re.OP_NUMNOTEQUAL=(0,Se.OpCodeType)("9e");Re.OP_LESSTHAN=(0,Se.OpCodeType)("9f");Re.OP_GREATERTHAN=(0,Se.OpCodeType)("a0");Re.OP_LESSTHANOREQUAL=(0,Se.OpCodeType)("a1");Re.OP_GREATERTHANOREQUAL=(0,Se.OpCodeType)("a2");Re.OP_MIN=(0,Se.OpCodeType)("a3");Re.OP_MAX=(0,Se.OpCodeType)("a4");Re.OP_WITHIN=(0,Se.OpCodeType)("a5");Re.OP_RIPEMD160=(0,Se.OpCodeType)("a6");Re.OP_SHA1=(0,Se.OpCodeType)("a7");Re.OP_SHA256=(0,Se.OpCodeType)("a8");Re.OP_HASH160=(0,Se.OpCodeType)("a9");Re.OP_HASH256=(0,Se.OpCodeType)("aa");Re.OP_CODESEPARATOR=(0,Se.OpCodeType)("ab");Re.OP_CHECKSIG=(0,Se.OpCodeType)("ac");Re.OP_CHECKSIGVERIFY=(0,Se.OpCodeType)("ad");Re.OP_CHECKMULTISIG=(0,Se.OpCodeType)("ae");Re.OP_CHECKMULTISIGVERIFY=(0,Se.OpCodeType)("af");Re.OP_NOP1=(0,Se.OpCodeType)("b0");Re.OP_NOP2=(0,Se.OpCodeType)("b1");Re.OP_NOP3=(0,Se.OpCodeType)("b2");Re.OP_NOP4=(0,Se.OpCodeType)("b3");Re.OP_NOP5=(0,Se.OpCodeType)("b4");Re.OP_NOP6=(0,Se.OpCodeType)("b5");Re.OP_NOP7=(0,Se.OpCodeType)("b6");Re.OP_NOP8=(0,Se.OpCodeType)("b7");Re.OP_NOP9=(0,Se.OpCodeType)("b8");Re.OP_NOP10=(0,Se.OpCodeType)("b9");Re.OP_PUBKEYHASH=(0,Se.OpCodeType)("fd");Re.OP_PUBKEY=(0,Se.OpCodeType)("fe");Re.OP_INVALIDOPCODE=(0,Se.OpCodeType)("ff");var bn=class{static toLEUnsigned(e,r){let n=Dc(e,r+(0,Ke.Int)(1));return n.slice(0,Number(Ta(n))*2-2)}static fromLEUnsigned(e){return f3(e+(0,Se.toByteString)("00"))}static readVarint(e){let r=(0,Ke.Int)(0),n=(0,Se.toByteString)(""),i=e.slice(0,2);return i==(0,Se.toByteString)("fd")?(r=bn.fromLEUnsigned(e.slice(2,6)),n=e.slice(6,6+Number(r*(0,Ke.Int)(2)))):i==(0,Se.toByteString)("fe")?(r=bn.fromLEUnsigned(e.slice(2,10)),n=e.slice(10,10+Number(r*(0,Ke.Int)(2)))):i==(0,Se.toByteString)("ff")?(r=bn.fromLEUnsigned(e.slice(2,18)),n=e.slice(18,18+Number(r*(0,Ke.Int)(2)))):(r=bn.fromLEUnsigned(e.slice(0,2)),n=e.slice(2,2+Number(r*(0,Ke.Int)(2)))),n}static writeVarint(e){let r=Ta(e),n=(0,Se.toByteString)("");return r<253?n=bn.toLEUnsigned((0,Ke.Int)(r),(0,Ke.Int)(1)):r<65536?n=(0,Se.toByteString)("fd")+bn.toLEUnsigned((0,Ke.Int)(r),(0,Ke.Int)(2)):r<4294967296?n=(0,Se.toByteString)("fe")+bn.toLEUnsigned((0,Ke.Int)(r),(0,Ke.Int)(4)):r<18446744073709552e3&&(n=(0,Se.toByteString)("ff")+bn.toLEUnsigned((0,Ke.Int)(r),(0,Ke.Int)(8))),n+e}static buildOutput(e,r){return Dc(r,Pf.OutputValueLen)+bn.writeVarint(e)}static buildPublicKeyHashScript(e){return(0,Se.toByteString)(Re.OP_DUP)+(0,Se.toByteString)(Re.OP_HASH160)+Dc(Pf.PubKeyHashLen)+e+(0,Se.toByteString)(Re.OP_EQUALVERIFY)+(0,Se.toByteString)(Re.OP_CHECKSIG)}static buildPublicKeyHashOutput(e,r){return bn.buildOutput(bn.buildPublicKeyHashScript(e),r)}static buildAddressScript(e){return bn.buildPublicKeyHashScript(e)}static buildAddressOutput(e,r){return bn.buildPublicKeyHashOutput(e,r)}static buildOpreturnScript(e){return(0,Se.toByteString)(Re.OP_FALSE)+(0,Se.toByteString)(Re.OP_RETURN)+bn.writeVarint(e)}};ct.Utils=bn;bn.OutputValueLen=(0,Ke.Int)(8);bn.PubKeyHashLen=(0,Ke.Int)(20);var cu=class{static nVersion(e){return(0,Se.toByteString)(e).slice(0,8)}static hashPrevouts(e){return(0,Se.toByteString)(e).slice(8,72)}static hashSequence(e){return(0,Se.toByteString)(e).slice(36*2,68*2)}static outpoint(e){return(0,Se.toByteString)(e).slice(68*2,104*2)}static scriptCode(e){return bn.readVarint((0,Se.toByteString)(e).slice(104*2))}static valueRaw(e){let r=Number(Ta((0,Se.toByteString)(e)));return(0,Se.toByteString)(e).slice(r*2-104,r*2-88)}static value(e){return bn.fromLEUnsigned(cu.valueRaw(e))}static nSequenceRaw(e){let r=Number(Ta((0,Se.toByteString)(e)));return(0,Se.toByteString)(e).slice(r*2-88,r*2-80)}static nSequence(e){return bn.fromLEUnsigned(cu.nSequenceRaw(e))}static hashOutputs(e){let r=Number(Ta((0,Se.toByteString)(e)));return(0,Se.toByteString)(e).slice(r*2-80,r*2-16)}static nLocktimeRaw(e){let r=Number(Ta((0,Se.toByteString)(e)));return(0,Se.toByteString)(e).slice(r*2-16,r*2-8)}static nLocktime(e){return bn.fromLEUnsigned(cu.nLocktimeRaw(e))}static sigHashType(e){let r=Number(Ta((0,Se.toByteString)(e))),n=bn.fromLEUnsigned((0,Se.toByteString)(e).slice(r*2-8,r*2-6));return(0,Ke.SigHashType)(Number(n))}};ct.SigHash=cu;cu.ALL=(0,Ke.SigHashType)(65);cu.NONE=(0,Ke.SigHashType)(66);cu.SINGLE=(0,Ke.SigHashType)(67);cu.ANYONECANPAY_ALL=(0,Ke.SigHashType)(193);cu.ANYONECANPAY_NONE=(0,Ke.SigHashType)(194);cu.ANYONECANPAY_SINGLE=(0,Ke.SigHashType)(195);var Mo=class{constructor(e){this.buf=e,this.pos=(0,Ke.Int)(0)}eof(){return this.pos>=Ta(this.buf)}readBytes(){let e=(0,Ke.Int)(0),r=this.buf,n=(0,Se.toByteString)(""),i=f3(r.slice(Number(this.pos*(0,Ke.Int)(2)),Number((this.pos+(0,Ke.Int)(1))*(0,Ke.Int)(2))));return this.pos++,i<(0,Ke.Int)(76)?(e=i,n=r.slice(Number(this.pos*(0,Ke.Int)(2)),Number((this.pos+e)*(0,Ke.Int)(2)))):i==(0,Ke.Int)(76)?(e=bn.fromLEUnsigned(r.slice(Number(this.pos*(0,Ke.Int)(2)),Number((this.pos+(0,Ke.Int)(1))*(0,Ke.Int)(2)))),this.pos+=(0,Ke.Int)(1),n=r.slice(Number(this.pos*(0,Ke.Int)(2)),Number((this.pos+e)*(0,Ke.Int)(2)))):i==(0,Ke.Int)(77)?(e=bn.fromLEUnsigned(r.slice(Number(this.pos*(0,Ke.Int)(2)),Number((this.pos+(0,Ke.Int)(2))*(0,Ke.Int)(2)))),this.pos+=(0,Ke.Int)(2),n=r.slice(Number(this.pos*(0,Ke.Int)(2)),Number((this.pos+e)*(0,Ke.Int)(2)))):i==(0,Ke.Int)(78)?(e=bn.fromLEUnsigned(r.slice(Number(this.pos*(0,Ke.Int)(2)),Number((this.pos+(0,Ke.Int)(4))*(0,Ke.Int)(2)))),this.pos+=(0,Ke.Int)(4),n=r.slice(Number(this.pos*(0,Ke.Int)(2)),Number((this.pos+e)*(0,Ke.Int)(2)))):dg(!1),this.pos+=e,n}readBool(){let e=this.buf.slice(Number(this.pos*(0,Ke.Int)(2)),Number((this.pos+(0,Ke.Int)(1))*(0,Ke.Int)(2)));return this.pos++,(0,Se.toByteString)("00")!=e}readInt(){return f3(this.readBytes())}static getStateStart(e){let r=BigInt(Ta(e)),n=r-Mo.StateLen-Mo.VersionLen,i=r-Mo.VersionLen,s=e.slice(Number(n*(0,Ke.Int)(2)),Number(i*(0,Ke.Int)(2))),o=f3(s);return r-o-Mo.StateLen-Mo.VersionLen}};ct.VarIntReader=Mo;Mo.StateLen=(0,Ke.Int)(4);Mo.VersionLen=(0,Ke.Int)(1);Mo.Version=(0,Ke.Int)(0);var cg=class{static writeBytes(e){let r=BigInt(Ta(e)),n=(0,Se.toByteString)("");return r<76?n=bn.toLEUnsigned(r,(0,Ke.Int)(1)):r<256?n=(0,Se.toByteString)("4c")+bn.toLEUnsigned(r,(0,Ke.Int)(1)):r<65536?n=(0,Se.toByteString)("4d")+bn.toLEUnsigned(r,(0,Ke.Int)(2)):r<4294967296?n=(0,Se.toByteString)("4e")+bn.toLEUnsigned(r,(0,Ke.Int)(4)):dg(!1),n+e}static writeBool(e){return e?(0,Se.toByteString)("01"):(0,Se.toByteString)("00")}static writeInt(e){return cg.writeBytes(e==(0,Ke.Int)(0)?(0,Se.toByteString)("00"):Dc(e))}static serializeState(e){let r=Dc(BigInt(Ta(e)),Mo.StateLen);return e+r+Dc(Mo.Version,Mo.VersionLen)}};ct.VarIntWriter=cg;var j0=class{static normalize(e,r){let n=e%r;return n<0?n+r:n}static sign(e,r,n,i,s,o){let a=n*(e+i*r),u=(0,Ke.Int)("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");a=j0.normalize(a,u),a>u/(0,Ke.Int)(2)&&(a=u-a);let c=BigInt(Ta(s)),d=Number(Ta(Dc(a))),f=RO(Dc(a,BigInt(32)),BigInt(32)).slice(32*2-d*2),m=(0,Ke.Int)(4)+c+BigInt(d),p=(0,Se.toByteString)("30")+Dc(m)+(0,Se.toByteString)("02")+Dc(c)+s+(0,Se.toByteString)("02")+Dc(BigInt(d))+f+(0,Se.toByteString)(o);return(0,Se.Sig)(p)}static fromBEUnsigned(e){return f3(RO(e,BigInt(32))+(0,Se.toByteString)("00"))}static checkPreimageOpt(e){throw new Error("unimplemented")}static checkPreimageOpt_(e){throw new Error("unimplemented")}static checkPreimageAdvancedOCS(e,r,n,i,s,o,a){throw new Error("unimplemented")}static checkPreimageOCS(e){throw new Error("unimplemented")}static checkPreimageSigHashTypeOCS(e,r){throw new Error("unimplemented")}static checkPreimageOptOCS(e){throw new Error("unimplemented")}static checkPreimageOptOCS_(e){throw new Error("unimplemented")}static isFirstCall(e){let r=cu.scriptCode(e),n=Mo.getStateStart(r);return new Mo(r.slice(Number(n)*2)).readBool()}};ct.Tx=j0;j0.privKey=(0,Se.PrivKey)((0,Ke.Int)("0x26f00fe2340a84335ebdf30f57e9bb58487117b29355718f5e46bf5168d7df97"));j0.pubKey=(0,Se.PubKey)("02ba79df5f8ae7604a9830f03c7933028186aede0675a16f025dc4f8be8eec0382");j0.invK=(0,Ke.Int)("0xc8ffdbaa05d93aa4ede79ec58f06a72562048b775a3507c2bf44bde4f007c40a");j0.r=(0,Ke.Int)("0x1008ce7480da41702918d1ec8e6849ba32b4d65b1e40dc669c31a1e6306b266c");j0.rBigEndian=(0,Se.toByteString)("1008ce7480da41702918d1ec8e6849ba32b4d65b1e40dc669c31a1e6306b266c");var Pf=class{};ct.Constants=Pf;Pf.InputSeqLen=(0,Ke.Int)(4);Pf.OutputValueLen=(0,Ke.Int)(8);Pf.PubKeyLen=(0,Ke.Int)(33);Pf.PubKeyHashLen=(0,Ke.Int)(20);Pf.TxIdLen=(0,Ke.Int)(32);Pf.OutpointLen=(0,Ke.Int)(36)});var FO=j(()=>{B();M();var MY;(function(t){(function(e){var r=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect>"u"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(s,o){return function(a,u){typeof s[a]!="function"&&Object.defineProperty(s,a,{configurable:!0,writable:!0,value:u}),o&&o(a,u)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",a={__proto__:[]}instanceof Array,u=!o&&!a,c={create:o?function(){return Q(Object.create(null))}:a?function(){return Q({__proto__:null})}:function(){return Q({})},has:u?function(Y,ee){return r.call(Y,ee)}:function(Y,ee){return ee in Y},get:u?function(Y,ee){return r.call(Y,ee)?Y[ee]:void 0}:function(Y,ee){return Y[ee]}},d=Object.getPrototypeOf(Function),f=typeof process=="object"&&process["env"]&&process["env"].REFLECT_METADATA_USE_MAP_POLYFILL==="true",m=!f&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Me(),p=!f&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:it(),y=!f&&typeof WeakMap=="function"?WeakMap:z(),w=new y;function P(Y,ee,ie,se){if(q(ie)){if(!be(Y))throw new TypeError;if(!_e(ee))throw new TypeError;return g(Y,ee)}else{if(!be(Y))throw new TypeError;if(!oe(ee))throw new TypeError;if(!oe(se)&&!q(se)&&!J(se))throw new TypeError;return J(se)&&(se=void 0),ie=ae(ie),h(Y,ee,ie,se)}}e("decorate",P);function C(Y,ee){function ie(se,ce){if(!oe(se))throw new TypeError;if(!q(ce)&&!ke(ce))throw new TypeError;A(Y,ee,se,ce)}return ie}e("metadata",C);function R(Y,ee,ie,se){if(!oe(ie))throw new TypeError;return q(se)||(se=ae(se)),A(Y,ee,ie,se)}e("defineMetadata",R);function T(Y,ee,ie){if(!oe(ee))throw new TypeError;return q(ie)||(ie=ae(ie)),b(Y,ee,ie)}e("hasMetadata",T);function k(Y,ee,ie){if(!oe(ee))throw new TypeError;return q(ie)||(ie=ae(ie)),_(Y,ee,ie)}e("hasOwnMetadata",k);function H(Y,ee,ie){if(!oe(ee))throw new TypeError;return q(ie)||(ie=ae(ie)),x(Y,ee,ie)}e("getMetadata",H);function F(Y,ee,ie){if(!oe(ee))throw new TypeError;return q(ie)||(ie=ae(ie)),I(Y,ee,ie)}e("getOwnMetadata",F);function L(Y,ee){if(!oe(Y))throw new TypeError;return q(ee)||(ee=ae(ee)),v(Y,ee)}e("getMetadataKeys",L);function D(Y,ee){if(!oe(Y))throw new TypeError;return q(ee)||(ee=ae(ee)),S(Y,ee)}e("getOwnMetadataKeys",D);function N(Y,ee,ie){if(!oe(ee))throw new TypeError;q(ie)||(ie=ae(ie));var se=l(ee,ie,!1);if(q(se)||!se.delete(Y))return!1;if(se.size>0)return!0;var ce=w.get(ee);return ce.delete(ie),ce.size>0||w.delete(ee),!0}e("deleteMetadata",N);function g(Y,ee){for(var ie=Y.length-1;ie>=0;--ie){var se=Y[ie],ce=se(ee);if(!q(ce)&&!J(ce)){if(!_e(ce))throw new TypeError;ee=ce}}return ee}function h(Y,ee,ie,se){for(var ce=Y.length-1;ce>=0;--ce){var me=Y[ce],he=me(ee,ie,se);if(!q(he)&&!J(he)){if(!oe(he))throw new TypeError;se=he}}return se}function l(Y,ee,ie){var se=w.get(Y);if(q(se)){if(!ie)return;se=new m,w.set(Y,se)}var ce=se.get(ee);if(q(ce)){if(!ie)return;ce=new m,se.set(ee,ce)}return ce}function b(Y,ee,ie){var se=_(Y,ee,ie);if(se)return!0;var ce=je(ee);return J(ce)?!1:b(Y,ce,ie)}function _(Y,ee,ie){var se=l(ee,ie,!1);return q(se)?!1:G(se.has(Y))}function x(Y,ee,ie){var se=_(Y,ee,ie);if(se)return I(Y,ee,ie);var ce=je(ee);if(!J(ce))return x(Y,ce,ie)}function I(Y,ee,ie){var se=l(ee,ie,!1);if(!q(se))return se.get(Y)}function A(Y,ee,ie,se){var ce=l(ie,se,!0);ce.set(Y,ee)}function v(Y,ee){var ie=S(Y,ee),se=je(Y);if(se===null)return ie;var ce=v(se,ee);if(ce.length<=0)return ie;if(ie.length<=0)return ce;for(var me=new p,he=[],Ee=0,Te=ie;Ee<Te.length;Ee++){var Fe=Te[Ee],Ce=me.has(Fe);Ce||(me.add(Fe),he.push(Fe))}for(var Ge=0,ft=ce;Ge<ft.length;Ge++){var Fe=ft[Ge],Ce=me.has(Fe);Ce||(me.add(Fe),he.push(Fe))}return he}function S(Y,ee){var ie=[],se=l(Y,ee,!1);if(q(se))return ie;for(var ce=se.keys(),me=ze(ce),he=0;;){var Ee=Ve(me);if(!Ee)return ie.length=he,ie;var Te=qe(Ee);try{ie[he]=Te}catch(Fe){try{Xe(me)}finally{throw Fe}}he++}}function O(Y){if(Y===null)return 1;switch(typeof Y){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return Y===null?1:6;default:return 6}}function q(Y){return Y===void 0}function J(Y){return Y===null}function ne(Y){return typeof Y=="symbol"}function oe(Y){return typeof Y=="object"?Y!==null:typeof Y=="function"}function le(Y,ee){switch(O(Y)){case 0:return Y;case 1:return Y;case 2:return Y;case 3:return Y;case 4:return Y;case 5:return Y}var ie=ee===3?"string":ee===5?"number":"default",se=He(Y,i);if(se!==void 0){var ce=se.call(Y,ie);if(oe(ce))throw new TypeError;return ce}return pe(Y,ie==="default"?"number":ie)}function pe(Y,ee){if(ee==="string"){var ie=Y.toString;if(ye(ie)){var se=ie.call(Y);if(!oe(se))return se}var ce=Y.valueOf;if(ye(ce)){var se=ce.call(Y);if(!oe(se))return se}}else{var ce=Y.valueOf;if(ye(ce)){var se=ce.call(Y);if(!oe(se))return se}var me=Y.toString;if(ye(me)){var se=me.call(Y);if(!oe(se))return se}}throw new TypeError}function G(Y){return!!Y}function te(Y){return""+Y}function ae(Y){var ee=le(Y,3);return ne(ee)?ee:te(ee)}function be(Y){return Array.isArray?Array.isArray(Y):Y instanceof Object?Y instanceof Array:Object.prototype.toString.call(Y)==="[object Array]"}function ye(Y){return typeof Y=="function"}function _e(Y){return typeof Y=="function"}function ke(Y){switch(O(Y)){case 3:return!0;case 4:return!0;default:return!1}}function He(Y,ee){var ie=Y[ee];if(ie!=null){if(!ye(ie))throw new TypeError;return ie}}function ze(Y){var ee=He(Y,s);if(!ye(ee))throw new TypeError;var ie=ee.call(Y);if(!oe(ie))throw new TypeError;return ie}function qe(Y){return Y.value}function Ve(Y){var ee=Y.next();return ee.done?!1:ee}function Xe(Y){var ee=Y.return;ee&&ee.call(Y)}function je(Y){var ee=Object.getPrototypeOf(Y);if(typeof Y!="function"||Y===d||ee!==d)return ee;var ie=Y.prototype,se=ie&&Object.getPrototypeOf(ie);if(se==null||se===Object.prototype)return ee;var ce=se.constructor;return typeof ce!="function"||ce===Y?ee:ce}function Me(){var Y={},ee=[],ie=function(){function he(Ee,Te,Fe){this._index=0,this._keys=Ee,this._values=Te,this._selector=Fe}return he.prototype["@@iterator"]=function(){return this},he.prototype[s]=function(){return this},he.prototype.next=function(){var Ee=this._index;if(Ee>=0&&Ee<this._keys.length){var Te=this._selector(this._keys[Ee],this._values[Ee]);return Ee+1>=this._keys.length?(this._index=-1,this._keys=ee,this._values=ee):this._index++,{value:Te,done:!1}}return{value:void 0,done:!0}},he.prototype.throw=function(Ee){throw this._index>=0&&(this._index=-1,this._keys=ee,this._values=ee),Ee},he.prototype.return=function(Ee){return this._index>=0&&(this._index=-1,this._keys=ee,this._values=ee),{value:Ee,done:!0}},he}();return function(){function he(){this._keys=[],this._values=[],this._cacheKey=Y,this._cacheIndex=-2}return Object.defineProperty(he.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),he.prototype.has=function(Ee){return this._find(Ee,!1)>=0},he.prototype.get=function(Ee){var Te=this._find(Ee,!1);return Te>=0?this._values[Te]:void 0},he.prototype.set=function(Ee,Te){var Fe=this._find(Ee,!0);return this._values[Fe]=Te,this},he.prototype.delete=function(Ee){var Te=this._find(Ee,!1);if(Te>=0){for(var Fe=this._keys.length,Ce=Te+1;Ce<Fe;Ce++)this._keys[Ce-1]=this._keys[Ce],this._values[Ce-1]=this._values[Ce];return this._keys.length--,this._values.length--,Ee===this._cacheKey&&(this._cacheKey=Y,this._cacheIndex=-2),!0}return!1},he.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Y,this._cacheIndex=-2},he.prototype.keys=function(){return new ie(this._keys,this._values,se)},he.prototype.values=function(){return new ie(this._keys,this._values,ce)},he.prototype.entries=function(){return new ie(this._keys,this._values,me)},he.prototype["@@iterator"]=function(){return this.entries()},he.prototype[s]=function(){return this.entries()},he.prototype._find=function(Ee,Te){return this._cacheKey!==Ee&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Ee)),this._cacheIndex<0&&Te&&(this._cacheIndex=this._keys.length,this._keys.push(Ee),this._values.push(void 0)),this._cacheIndex},he}();function se(he,Ee){return he}function ce(he,Ee){return Ee}function me(he,Ee){return[he,Ee]}}function it(){return function(){function Y(){this._map=new m}return Object.defineProperty(Y.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Y.prototype.has=function(ee){return this._map.has(ee)},Y.prototype.add=function(ee){return this._map.set(ee,ee),this},Y.prototype.delete=function(ee){return this._map.delete(ee)},Y.prototype.clear=function(){this._map.clear()},Y.prototype.keys=function(){return this._map.keys()},Y.prototype.values=function(){return this._map.values()},Y.prototype.entries=function(){return this._map.entries()},Y.prototype["@@iterator"]=function(){return this.keys()},Y.prototype[s]=function(){return this.keys()},Y}()}function z(){var Y=16,ee=c.create(),ie=se();return function(){function Te(){this._key=se()}return Te.prototype.has=function(Fe){var Ce=ce(Fe,!1);return Ce!==void 0?c.has(Ce,this._key):!1},Te.prototype.get=function(Fe){var Ce=ce(Fe,!1);return Ce!==void 0?c.get(Ce,this._key):void 0},Te.prototype.set=function(Fe,Ce){var Ge=ce(Fe,!0);return Ge[this._key]=Ce,this},Te.prototype.delete=function(Fe){var Ce=ce(Fe,!1);return Ce!==void 0?delete Ce[this._key]:!1},Te.prototype.clear=function(){this._key=se()},Te}();function se(){var Te;do Te="@@WeakMap@@"+Ee();while(c.has(ee,Te));return ee[Te]=!0,Te}function ce(Te,Fe){if(!r.call(Te,ie)){if(!Fe)return;Object.defineProperty(Te,ie,{value:c.create()})}return Te[ie]}function me(Te,Fe){for(var Ce=0;Ce<Fe;++Ce)Te[Ce]=Math.random()*255|0;return Te}function he(Te){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(Te)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(Te)):me(new Uint8Array(Te),Te):me(new Array(Te),Te)}function Ee(){var Te=he(Y);Te[6]=Te[6]&79|64,Te[8]=Te[8]&191|128;for(var Fe="",Ce=0;Ce<Y;++Ce){var Ge=Te[Ce];(Ce===4||Ce===6||Ce===8)&&(Fe+="-"),Ge<16&&(Fe+="0"),Fe+=Ge.toString(16).toLowerCase()}return Fe}}function Q(Y){return Y.__=void 0,delete Y.__,Y}})})(MY||(MY={}))});var CY=j(fu=>{"use strict";B();M();var mwe=fu&&fu.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),ywe=fu&&fu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kY=fu&&fu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&mwe(e,t,r);return ywe(e,t),e};Object.defineProperty(fu,"__esModule",{value:!0});fu.IndexerReader=fu.INDEX_FILE_NAME=void 0;var u1=kY(ja()),v_=kY(r0());fu.INDEX_FILE_NAME="scrypt.index.json";var HO=class{constructor(e){this.symbolPaths=new Map,this.filePath=e,this.load()}load(){if(!v_.existsSync(this.filePath))throw new Error(`index file not exist: ${this.filePath}`);let e=JSON.parse(v_.readFileSync(this.filePath).toString());if(!e.scryptBase)throw new Error(`missing \`scryptBase\` in index file ${this.filePath}`);if(this.scryptBasePath=e.scryptBase,!e.bindings)throw new Error(`missing \`bindings\` in index file ${this.filePath}`);e.bindings.forEach(r=>{r.symbol&&r.path&&this.symbolPaths.set(r.symbol,r.path)})}getRelativePath(e){return this.symbolPaths.get(e)}getFullPath(e){let r=this.getRelativePath(e);if(!!r)return u1.join(u1.dirname(this.filePath),this.scryptBasePath,r)}static queryIndexFile(e,r){let n=e;r=r===void 0?process.cwd():r;let i=(o,a)=>u1.resolve(o).toLowerCase()==u1.resolve(a).toLowerCase();for(;;){let o=u1.join(n,fu.INDEX_FILE_NAME);if(v_.existsSync(o))return o;let a=u1.join(n,"..");if(i(n,r)||i(n,a))break;n=a}let s=u1.join(r,fu.INDEX_FILE_NAME);if(v_.existsSync(s))return s}query(e,r=!1){let n=this.symbolPaths.get(e);return n&&r?u1.join(this.scryptBasePath,n):n}};fu.IndexerReader=HO});var Lc=j(du=>{"use strict";B();M();Object.defineProperty(du,"__esModule",{value:!0});du.filterUTXO=du.parseSignatureOption=du.parseAddresses=du.utxoFromOutput=du.getRandomAddress=du.getDummyP2pkhUTXOs=void 0;var K0=Tr(),vwe=Cd();function _we(t=1){return new Array(t).fill(0).map(e=>({txId:(0,vwe.randomBytes)(32).toString("hex"),outputIndex:0,script:K0.bsv.Script.buildPublicKeyHashOut(RY()).toHex(),satoshis:1}))}du.getDummyP2pkhUTXOs=_we;function RY(t=K0.bsv.Networks.testnet){return K0.bsv.Address.fromPrivateKey(K0.bsv.PrivateKey.fromRandom(t.name),t)}du.getRandomAddress=RY;function Swe(t,e){let r=t.outputs[e];if(!r)throw new Error(`outputIndex ${e} does not exist on tx ${t.id}`);return{txId:t.id,outputIndex:e,script:r.script.toHex(),satoshis:r.satoshis}}du.utxoFromOutput=Swe;function NY(t,e){return Array.from([t]).flat().map(r=>r instanceof K0.bsv.Address?r:r.toAddress(e))}du.parseAddresses=NY;function wwe(t,e){return Array.from([t]).flat().map(r=>r instanceof K0.bsv.Address?{address:r,sigHashType:K0.DEFAULT_SIGHASH_TYPE}:r instanceof K0.bsv.PublicKey?{address:r.toAddress(e),sigHashType:K0.DEFAULT_SIGHASH_TYPE}:NY(r.pubKeyOrAddr,e).map(n=>({address:n,sigHashType:r.sigHashType||K0.DEFAULT_SIGHASH_TYPE,csIdx:r.csIdx,data:r.data}))).flat()}du.parseSignatureOption=wwe;function xwe(t,e){let r=e.unspentValue,n=e.estimateSize,i=e.feePerKb,s=e.additional||0;function o(c){let d=0,f=-1;for(let m=0;m<c.length;m++){let p=m+1;if(d+=c[m].satoshis,i<=(r+d)/(n+(180+s)*p)*1e3){f=m;break}}return f>=0?c.slice(0,f+1):[]}let a=t.sort((c,d)=>c.satoshis-d.satoshis),u=o(a);if(u.length===0&&(u=o(a.reverse()),u.length===0))throw new Error("no sufficient utxos");return u}du.filterUTXO=xwe});var S_=j(__=>{"use strict";B();M();Object.defineProperty(__,"__esModule",{value:!0});__.SmartContractLib=void 0;FO();var d3=class{constructor(...e){this.args=[],this.args=e}getArgs(){return(this.args||[]).map(e=>e instanceof d3?e.getArgs():e)}getState(){return Object.keys(this).reduce((e,r)=>typeof this[r]=="bigint"||typeof this[r]=="boolean"||typeof this[r]=="string"?Object.assign(e,{[r]:this[r]}):this[r]instanceof d3?Object.assign(e,{[r]:this[r].getState()}):e,{})}};__.SmartContractLib=d3});var VY=j((zat,zY)=>{B();M();var Nu=-1,Ia=1,Rs=0;function hg(t,e,r,n,i){if(t===e)return t?[[Rs,t]]:[];if(r!=null){var s=kwe(t,e,r);if(s)return s}var o=LO(t,e),a=t.substring(0,o);t=t.substring(o),e=e.substring(o),o=w_(t,e);var u=t.substring(t.length-o);t=t.substring(0,t.length-o),e=e.substring(0,e.length-o);var c=Ewe(t,e);return a&&c.unshift([Rs,a]),u&&c.push([Rs,u]),UO(c,i),n&&Iwe(c),c}function Ewe(t,e){var r;if(!t)return[[Ia,e]];if(!e)return[[Nu,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,s=n.indexOf(i);if(s!==-1)return r=[[Ia,n.substring(0,s)],[Rs,i],[Ia,n.substring(s+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=Nu),r;if(i.length===1)return[[Nu,t],[Ia,e]];var o=Twe(t,e);if(o){var a=o[0],u=o[1],c=o[2],d=o[3],f=o[4],m=hg(a,c),p=hg(u,d);return m.concat([[Rs,f]],p)}return Awe(t,e)}function Awe(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),s=i,o=2*i,a=new Array(o),u=new Array(o),c=0;c<o;c++)a[c]=-1,u[c]=-1;a[s+1]=0,u[s+1]=0;for(var d=r-n,f=d%2!==0,m=0,p=0,y=0,w=0,P=0;P<i;P++){for(var C=-P+m;C<=P-p;C+=2){var R=s+C,T;C===-P||C!==P&&a[R-1]<a[R+1]?T=a[R+1]:T=a[R-1]+1;for(var k=T-C;T<r&&k<n&&t.charAt(T)===e.charAt(k);)T++,k++;if(a[R]=T,T>r)p+=2;else if(k>n)m+=2;else if(f){var H=s+d-C;if(H>=0&&H<o&&u[H]!==-1){var F=r-u[H];if(T>=F)return FY(t,e,T,k)}}}for(var L=-P+y;L<=P-w;L+=2){var H=s+L,F;L===-P||L!==P&&u[H-1]<u[H+1]?F=u[H+1]:F=u[H-1]+1;for(var D=F-L;F<r&&D<n&&t.charAt(r-F-1)===e.charAt(n-D-1);)F++,D++;if(u[H]=F,F>r)w+=2;else if(D>n)y+=2;else if(!f){var R=s+d-L;if(R>=0&&R<o&&a[R]!==-1){var T=a[R],k=s+T-R;if(F=r-F,T>=F)return FY(t,e,T,k)}}}}return[[Nu,t],[Ia,e]]}function FY(t,e,r,n){var i=t.substring(0,r),s=e.substring(0,n),o=t.substring(r),a=e.substring(n),u=hg(i,s),c=hg(o,a);return u.concat(c)}function LO(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(s,i)==e.substring(s,i)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return qY(t.charCodeAt(i-1))&&i--,i}function HY(t,e){var r=t.length,n=e.length;if(r==0||n==0)return 0;r>n?t=t.substring(r-n):r<n&&(e=e.substring(0,r));var i=Math.min(r,n);if(t==e)return i;for(var s=0,o=1;;){var a=t.substring(i-o),u=e.indexOf(a);if(u==-1)return s;o+=u,(u==0||t.substring(i-o)==e.substring(0,o))&&(s=o,o++)}}function w_(t,e){if(!t||!e||t.slice(-1)!==e.slice(-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,s=0;r<i;)t.substring(t.length-i,t.length-s)==e.substring(e.length-i,e.length-s)?(r=i,s=r):n=i,i=Math.floor((n-r)/2+r);return jY(t.charCodeAt(t.length-i))&&i--,i}function Twe(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(p,y,w){for(var P=p.substring(w,w+Math.floor(p.length/4)),C=-1,R="",T,k,H,F;(C=y.indexOf(P,C+1))!==-1;){var L=LO(p.substring(w),y.substring(C)),D=w_(p.substring(0,w),y.substring(0,C));R.length<D+L&&(R=y.substring(C-D,C)+y.substring(C,C+L),T=p.substring(0,w-D),k=p.substring(w+L),H=y.substring(0,C-D),F=y.substring(C+L))}return R.length*2>=p.length?[T,k,H,F,R]:null}var s=i(r,n,Math.ceil(r.length/4)),o=i(r,n,Math.ceil(r.length/2)),a;if(!s&&!o)return null;o?s?a=s[4].length>o[4].length?s:o:a=o:a=s;var u,c,d,f;t.length>e.length?(u=a[0],c=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],u=a[2],c=a[3]);var m=a[4];return[u,c,d,f,m]}function Iwe(t){for(var e=!1,r=[],n=0,i=null,s=0,o=0,a=0,u=0,c=0;s<t.length;)t[s][0]==Rs?(r[n++]=s,o=u,a=c,u=0,c=0,i=t[s][1]):(t[s][0]==Ia?u+=t[s][1].length:c+=t[s][1].length,i&&i.length<=Math.max(o,a)&&i.length<=Math.max(u,c)&&(t.splice(r[n-1],0,[Nu,i]),t[r[n-1]+1][0]=Ia,n--,n--,s=n>0?r[n-1]:-1,o=0,a=0,u=0,c=0,i=null,e=!0)),s++;for(e&&UO(t),Bwe(t),s=1;s<t.length;){if(t[s-1][0]==Nu&&t[s][0]==Ia){var d=t[s-1][1],f=t[s][1],m=HY(d,f),p=HY(f,d);m>=p?(m>=d.length/2||m>=f.length/2)&&(t.splice(s,0,[Rs,f.substring(0,m)]),t[s-1][1]=d.substring(0,d.length-m),t[s+1][1]=f.substring(m),s++):(p>=d.length/2||p>=f.length/2)&&(t.splice(s,0,[Rs,d.substring(0,p)]),t[s-1][0]=Ia,t[s-1][1]=f.substring(0,f.length-p),t[s+1][0]=Nu,t[s+1][1]=d.substring(p),s++),s++}s++}}var DY=/[^a-zA-Z0-9]/,LY=/\s/,UY=/[\r\n]/,Pwe=/\n\r?\n$/,Owe=/^\r?\n\r?\n/;function Bwe(t){function e(p,y){if(!p||!y)return 6;var w=p.charAt(p.length-1),P=y.charAt(0),C=w.match(DY),R=P.match(DY),T=C&&w.match(LY),k=R&&P.match(LY),H=T&&w.match(UY),F=k&&P.match(UY),L=H&&p.match(Pwe),D=F&&y.match(Owe);return L||D?5:H||F?4:C&&!T&&k?3:T||k?2:C||R?1:0}for(var r=1;r<t.length-1;){if(t[r-1][0]==Rs&&t[r+1][0]==Rs){var n=t[r-1][1],i=t[r][1],s=t[r+1][1],o=w_(n,i);if(o){var a=i.substring(i.length-o);n=n.substring(0,n.length-o),i=a+i.substring(0,i.length-o),s=a+s}for(var u=n,c=i,d=s,f=e(n,i)+e(i,s);i.charAt(0)===s.charAt(0);){n+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var m=e(n,i)+e(i,s);m>=f&&(f=m,u=n,c=i,d=s)}t[r-1][1]!=u&&(u?t[r-1][1]=u:(t.splice(r-1,1),r--),t[r][1]=c,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}}function UO(t,e){t.push([Rs,""]);for(var r=0,n=0,i=0,s="",o="",a;r<t.length;){if(r<t.length-1&&!t[r][1]){t.splice(r,1);continue}switch(t[r][0]){case Ia:i++,o+=t[r][1],r++;break;case Nu:n++,s+=t[r][1],r++;break;case Rs:var u=r-i-n-1;if(e){if(u>=0&&$Y(t[u][1])){var c=t[u][1].slice(-1);if(t[u][1]=t[u][1].slice(0,-1),s=c+s,o=c+o,!t[u][1]){t.splice(u,1),r--;var d=u-1;t[d]&&t[d][0]===Ia&&(i++,o=t[d][1]+o,d--),t[d]&&t[d][0]===Nu&&(n++,s=t[d][1]+s,d--),u=d}}if(KY(t[r][1])){var c=t[r][1].charAt(0);t[r][1]=t[r][1].slice(1),s+=c,o+=c}}if(r<t.length-1&&!t[r][1]){t.splice(r,1);break}if(s.length>0||o.length>0){s.length>0&&o.length>0&&(a=LO(o,s),a!==0&&(u>=0?t[u][1]+=o.substring(0,a):(t.splice(0,0,[Rs,o.substring(0,a)]),r++),o=o.substring(a),s=s.substring(a)),a=w_(o,s),a!==0&&(t[r][1]=o.substring(o.length-a)+t[r][1],o=o.substring(0,o.length-a),s=s.substring(0,s.length-a)));var f=i+n;s.length===0&&o.length===0?(t.splice(r-f,f),r=r-f):s.length===0?(t.splice(r-f,f,[Ia,o]),r=r-f+1):o.length===0?(t.splice(r-f,f,[Nu,s]),r=r-f+1):(t.splice(r-f,f,[Nu,s],[Ia,o]),r=r-f+2)}r!==0&&t[r-1][0]===Rs?(t[r-1][1]+=t[r][1],t.splice(r,1)):r++,i=0,n=0,s="",o="";break}}t[t.length-1][1]===""&&t.pop();var m=!1;for(r=1;r<t.length-1;)t[r-1][0]===Rs&&t[r+1][0]===Rs&&(t[r][1].substring(t[r][1].length-t[r-1][1].length)===t[r-1][1]?(t[r][1]=t[r-1][1]+t[r][1].substring(0,t[r][1].length-t[r-1][1].length),t[r+1][1]=t[r-1][1]+t[r+1][1],t.splice(r-1,1),m=!0):t[r][1].substring(0,t[r+1][1].length)==t[r+1][1]&&(t[r-1][1]+=t[r+1][1],t[r][1]=t[r][1].substring(t[r+1][1].length)+t[r+1][1],t.splice(r+1,1),m=!0)),r++;m&&UO(t,e)}function qY(t){return t>=55296&&t<=56319}function jY(t){return t>=56320&&t<=57343}function KY(t){return jY(t.charCodeAt(0))}function $Y(t){return qY(t.charCodeAt(t.length-1))}function Mwe(t){for(var e=[],r=0;r<t.length;r++)t[r][1].length>0&&e.push(t[r]);return e}function DO(t,e,r,n){return $Y(t)||KY(n)?null:Mwe([[Rs,t],[Nu,e],[Ia,r],[Rs,n]])}function kwe(t,e,r){var n=typeof r=="number"?{index:r,length:0}:r.oldRange,i=typeof r=="number"?null:r.newRange,s=t.length,o=e.length;if(n.length===0&&(i===null||i.length===0)){var a=n.index,u=t.slice(0,a),c=t.slice(a),d=i?i.index:null;e:{var f=a+o-s;if(d!==null&&d!==f||f<0||f>o)break e;var m=e.slice(0,f),p=e.slice(f);if(p!==c)break e;var y=Math.min(a,f),w=u.slice(0,y),P=m.slice(0,y);if(w!==P)break e;var C=u.slice(y),R=m.slice(y);return DO(w,C,R,c)}e:{if(d!==null&&d!==a)break e;var T=a,m=e.slice(0,T),p=e.slice(T);if(m!==u)break e;var k=Math.min(s-T,o-T),H=c.slice(c.length-k),F=p.slice(p.length-k);if(H!==F)break e;var C=c.slice(0,c.length-k),R=p.slice(0,p.length-k);return DO(u,C,R,H)}}if(n.length>0&&i&&i.length===0){e:{var w=t.slice(0,n.index),H=t.slice(n.index+n.length),y=w.length,k=H.length;if(o<y+k)break e;var P=e.slice(0,y),F=e.slice(o-k);if(w!==P||H!==F)break e;var C=t.slice(y,s-k),R=e.slice(y,o-k);return DO(w,C,R,H)}}return null}function x_(t,e,r,n){return hg(t,e,r,n,!0)}x_.INSERT=Ia;x_.DELETE=Nu;x_.EQUAL=Rs;zY.exports=x_});var WY=j((Wat,GY)=>{"use strict";B();M();GY.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var qO=j((Zat,XY)=>{B();M();var lg=WY(),YY={};for(let t of Object.keys(lg))YY[lg[t]]=t;var Ct={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};XY.exports=Ct;for(let t of Object.keys(Ct)){if(!("channels"in Ct[t]))throw new Error("missing channels property: "+t);if(!("labels"in Ct[t]))throw new Error("missing channel labels property: "+t);if(Ct[t].labels.length!==Ct[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=Ct[t];delete Ct[t].channels,delete Ct[t].labels,Object.defineProperty(Ct[t],"channels",{value:e}),Object.defineProperty(Ct[t],"labels",{value:r})}Ct.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,u;s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+s)/2;return s===i?u=0:c<=.5?u=o/(s+i):u=o/(2-s-i),[a,u*100,c*100]};Ct.rgb.hsv=function(t){let e,r,n,i,s,o=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(o,a,u),d=c-Math.min(o,a,u),f=function(m){return(c-m)/6/d+1/2};return d===0?(i=0,s=0):(s=d/c,e=f(o),r=f(a),n=f(u),o===c?i=n-r:a===c?i=1/3+e-n:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,c*100]};Ct.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=Ct.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,s*100,n*100]};Ct.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),s=(1-e-i)/(1-i)||0,o=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[s*100,o*100,a*100,i*100]};function Cwe(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}Ct.rgb.keyword=function(t){let e=YY[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(lg)){let s=lg[i],o=Cwe(t,s);o<r&&(r=o,n=i)}return n};Ct.keyword.rgb=function(t){return lg[t]};Ct.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,s=e*.2126+r*.7152+n*.0722,o=e*.0193+r*.1192+n*.9505;return[i*100,s*100,o*100]};Ct.rgb.lab=function(t){let e=Ct.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let s=116*n-16,o=500*(r-n),a=200*(n-i);return[s,o,a]};Ct.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o;if(r===0)return o=n*255,[o,o,o];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)s=e+1/3*-(c-1),s<0&&s++,s>1&&s--,6*s<1?o=a+(i-a)*6*s:2*s<1?o=i:3*s<2?o=a+(i-a)*(2/3-s)*6:o=a,u[c]=o*255;return u};Ct.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,s=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=s<=1?s:2-s;let o=(n+r)/2,a=n===0?2*i/(s+i):2*r/(n+r);return[e,a*100,o*100]};Ct.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*n*(1-r),a=255*n*(1-r*s),u=255*n*(1-r*(1-s));switch(n*=255,i){case 0:return[n,u,o];case 1:return[a,n,o];case 2:return[o,n,u];case 3:return[o,a,n];case 4:return[u,o,n];case 5:return[n,o,a]}};Ct.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),s,o;o=(2-r)*n;let a=(2-r)*i;return s=r*i,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};Ct.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,s;i>1&&(r/=i,n/=i);let o=Math.floor(6*e),a=1-n;s=6*e-o,(o&1)!==0&&(s=1-s);let u=r+s*(a-r),c,d,f;switch(o){default:case 6:case 0:c=a,d=u,f=r;break;case 1:c=u,d=a,f=r;break;case 2:c=r,d=a,f=u;break;case 3:c=r,d=u,f=a;break;case 4:c=u,d=r,f=a;break;case 5:c=a,d=r,f=u;break}return[c*255,d*255,f*255]};Ct.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[s*255,o*255,a*255]};Ct.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,s,o;return i=e*3.2406+r*-1.5372+n*-.4986,s=e*-.9689+r*1.8758+n*.0415,o=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};Ct.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,s=500*(e-r),o=200*(r-n);return[i,s,o]};Ct.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,s,o;s=(e+16)/116,i=r/500+s,o=s-n/200;let a=s**3,u=i**3,c=o**3;return s=a>.008856?a:(s-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,o=c>.008856?c:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};Ct.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let o=Math.sqrt(r*r+n*n);return[e,o,i]};Ct.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,s=r*Math.cos(i),o=r*Math.sin(i);return[e,s,o]};Ct.rgb.ansi16=function(t,e=null){let[r,n,i]=t,s=e===null?Ct.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return s===2&&(o+=60),o};Ct.hsv.ansi16=function(t){return Ct.rgb.ansi16(Ct.hsv.rgb(t),t[2])};Ct.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};Ct.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,s=(e>>2&1)*r*255;return[n,i,s]};Ct.ansi256.rgb=function(t){if(t>=232){let s=(t-232)*10+8;return[s,s,s]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};Ct.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};Ct.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,s=n>>8&255,o=n&255;return[i,s,o]};Ct.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),s=Math.min(Math.min(e,r),n),o=i-s,a,u;return o<1?a=s/(1-o):a=0,o<=0?u=0:i===e?u=(r-n)/o%6:i===r?u=2+(n-e)/o:u=4+(e-r)/o,u/=6,u%=1,[u*360,o*100,a*100]};Ct.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};Ct.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};Ct.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],s=e%1*6,o=s%1,a=1-o,u=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};Ct.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};Ct.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};Ct.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};Ct.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,s=0;return i<1&&(s=(n-i)/(1-i)),[t[0],i*100,s*100]};Ct.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};Ct.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};Ct.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};Ct.gray.hsl=function(t){return[0,0,t[0]]};Ct.gray.hsv=Ct.gray.hsl;Ct.gray.hwb=function(t){return[0,100,t[0]]};Ct.gray.cmyk=function(t){return[0,0,0,t[0]]};Ct.gray.lab=function(t){return[t[0],0,0]};Ct.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};Ct.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var JY=j((eut,ZY)=>{B();M();var E_=qO();function Rwe(){let t={},e=Object.keys(E_);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function Nwe(t){let e=Rwe(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(E_[n]);for(let s=i.length,o=0;o<s;o++){let a=i[o],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}}return e}function Fwe(t,e){return function(r){return e(t(r))}}function Hwe(t,e){let r=[e[t].parent,t],n=E_[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=Fwe(E_[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}ZY.exports=function(t){let e=Nwe(t),r={},n=Object.keys(e);for(let i=n.length,s=0;s<i;s++){let o=n[s];e[o].parent!==null&&(r[o]=Hwe(o,e))}return r}});var eX=j((nut,QY)=>{B();M();var jO=qO(),Dwe=JY(),h3={},Lwe=Object.keys(jO);function Uwe(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function qwe(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let s=i.length,o=0;o<s;o++)i[o]=Math.round(i[o]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}Lwe.forEach(t=>{h3[t]={},Object.defineProperty(h3[t],"channels",{value:jO[t].channels}),Object.defineProperty(h3[t],"labels",{value:jO[t].labels});let e=Dwe(t);Object.keys(e).forEach(n=>{let i=e[n];h3[t][n]=qwe(i),h3[t][n].raw=Uwe(i)})});QY.exports=h3});var oX=j((out,sX)=>{"use strict";B();M();var tX=(t,e)=>(...r)=>`\x1B[${t(...r)+e}m`,rX=(t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};5;${n}m`},nX=(t,e)=>(...r)=>{let n=t(...r);return`\x1B[${38+e};2;${n[0]};${n[1]};${n[2]}m`},A_=t=>t,iX=(t,e,r)=>[t,e,r],l3=(t,e,r)=>{Object.defineProperty(t,e,{get:()=>{let n=r();return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0}),n},enumerable:!0,configurable:!0})},KO,p3=(t,e,r,n)=>{KO===void 0&&(KO=eX());let i=n?10:0,s={};for(let[o,a]of Object.entries(KO)){let u=o==="ansi16"?"ansi":o;o===e?s[u]=t(r,i):typeof a=="object"&&(s[u]=t(a[e],i))}return s};function jwe(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.gray=e.color.blackBright,e.bgColor.bgGray=e.bgColor.bgBlackBright,e.color.grey=e.color.blackBright,e.bgColor.bgGrey=e.bgColor.bgBlackBright;for(let[r,n]of Object.entries(e)){for(let[i,s]of Object.entries(n))e[i]={open:`\x1B[${s[0]}m`,close:`\x1B[${s[1]}m`},n[i]=e[i],t.set(s[0],s[1]);Object.defineProperty(e,r,{value:n,enumerable:!1})}return Object.defineProperty(e,"codes",{value:t,enumerable:!1}),e.color.close="\x1B[39m",e.bgColor.close="\x1B[49m",l3(e.color,"ansi",()=>p3(tX,"ansi16",A_,!1)),l3(e.color,"ansi256",()=>p3(rX,"ansi256",A_,!1)),l3(e.color,"ansi16m",()=>p3(nX,"rgb",iX,!1)),l3(e.bgColor,"ansi",()=>p3(tX,"ansi16",A_,!0)),l3(e.bgColor,"ansi256",()=>p3(rX,"ansi256",A_,!0)),l3(e.bgColor,"ansi16m",()=>p3(nX,"rgb",iX,!0)),e}Object.defineProperty(sX,"exports",{enumerable:!0,get:jwe})});var uX=j((cut,aX)=>{"use strict";B();M();aX.exports={stdout:!1,stderr:!1}});var fX=j((hut,cX)=>{"use strict";B();M();var Kwe=(t,e,r)=>{let n=t.indexOf(e);if(n===-1)return t;let i=e.length,s=0,o="";do o+=t.substr(s,n-s)+e+r,s=n+i,n=t.indexOf(e,s);while(n!==-1);return o+=t.substr(s),o},$we=(t,e,r,n)=>{let i=0,s="";do{let o=t[n-1]==="\r";s+=t.substr(i,(o?n-1:n)-i)+e+(o?`\r
`:`
`)+r,i=n+1,n=t.indexOf(`
`,i)}while(n!==-1);return s+=t.substr(i),s};cX.exports={stringReplaceAll:Kwe,stringEncaseCRLFWithFirstIndex:$we}});var bX=j((but,pX)=>{"use strict";B();M();var zwe=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,dX=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Vwe=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Gwe=/\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.)|([^\\])/gi,Wwe=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e","\x1B"],["a","\x07"]]);function lX(t){let e=t[0]==="u",r=t[1]==="{";return e&&!r&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):e&&r?String.fromCodePoint(parseInt(t.slice(2,-1),16)):Wwe.get(t)||t}function Ywe(t,e){let r=[],n=e.trim().split(/\s*,\s*/g),i;for(let s of n){let o=Number(s);if(!Number.isNaN(o))r.push(o);else if(i=s.match(Vwe))r.push(i[2].replace(Gwe,(a,u,c)=>u?lX(u):c));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`)}return r}function Xwe(t){dX.lastIndex=0;let e=[],r;for(;(r=dX.exec(t))!==null;){let n=r[1];if(r[2]){let i=Ywe(n,r[2]);e.push([n].concat(i))}else e.push([n])}return e}function hX(t,e){let r={};for(let i of e)for(let s of i.styles)r[s[0]]=i.inverse?null:s.slice(1);let n=t;for(let[i,s]of Object.entries(r))if(!!Array.isArray(s)){if(!(i in n))throw new Error(`Unknown Chalk style: ${i}`);n=s.length>0?n[i](...s):n[i]}return n}pX.exports=(t,e)=>{let r=[],n=[],i=[];if(e.replace(zwe,(s,o,a,u,c,d)=>{if(o)i.push(lX(o));else if(u){let f=i.join("");i=[],n.push(r.length===0?f:hX(t,r)(f)),r.push({inverse:a,styles:Xwe(u)})}else if(c){if(r.length===0)throw new Error("Found extraneous } in Chalk template literal");n.push(hX(t,r)(i.join(""))),i=[],r.pop()}else i.push(d)}),n.push(i.join("")),r.length>0){let s=`Chalk template literal is missing ${r.length} closing bracket${r.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return n.join("")}});var _X=j((yut,vX)=>{"use strict";B();M();var pg=oX(),{stdout:zO,stderr:VO}=uX(),{stringReplaceAll:Zwe,stringEncaseCRLFWithFirstIndex:Jwe}=fX(),gX=["ansi","ansi","ansi256","ansi16m"],b3=Object.create(null),Qwe=(t,e={})=>{if(e.level>3||e.level<0)throw new Error("The `level` option should be an integer from 0 to 3");let r=zO?zO.level:0;t.level=e.level===void 0?r:e.level},GO=class{constructor(e){return mX(e)}},mX=t=>{let e={};return Qwe(e,t),e.template=(...r)=>rxe(e.template,...r),Object.setPrototypeOf(e,T_.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},e.template.Instance=GO,e.template};function T_(t){return mX(t)}for(let[t,e]of Object.entries(pg))b3[t]={get(){let r=I_(this,WO(e.open,e.close,this._styler),this._isEmpty);return Object.defineProperty(this,t,{value:r}),r}};b3.visible={get(){let t=I_(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:t}),t}};var yX=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(let t of yX)b3[t]={get(){let{level:e}=this;return function(...r){let n=WO(pg.color[gX[e]][t](...r),pg.color.close,this._styler);return I_(this,n,this._isEmpty)}}};for(let t of yX){let e="bg"+t[0].toUpperCase()+t.slice(1);b3[e]={get(){let{level:r}=this;return function(...n){let i=WO(pg.bgColor[gX[r]][t](...n),pg.bgColor.close,this._styler);return I_(this,i,this._isEmpty)}}}}var exe=Object.defineProperties(()=>{},{...b3,level:{enumerable:!0,get(){return this._generator.level},set(t){this._generator.level=t}}}),WO=(t,e,r)=>{let n,i;return r===void 0?(n=t,i=e):(n=r.openAll+t,i=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:i,parent:r}},I_=(t,e,r)=>{let n=(...i)=>txe(n,i.length===1?""+i[0]:i.join(" "));return n.__proto__=exe,n._generator=t,n._styler=e,n._isEmpty=r,n},txe=(t,e)=>{if(t.level<=0||!e)return t._isEmpty?"":e;let r=t._styler;if(r===void 0)return e;let{openAll:n,closeAll:i}=r;if(e.indexOf("\x1B")!==-1)for(;r!==void 0;)e=Zwe(e,r.close,r.open),r=r.parent;let s=e.indexOf(`
`);return s!==-1&&(e=Jwe(e,i,n,s)),n+e+i},$O,rxe=(t,...e)=>{let[r]=e;if(!Array.isArray(r))return e.join(" ");let n=e.slice(1),i=[r.raw[0]];for(let s=1;s<r.length;s++)i.push(String(n[s-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[s]));return $O===void 0&&($O=bX()),$O(t,i.join(""))};Object.defineProperties(T_.prototype,b3);var bg=T_();bg.supportsColor=zO;bg.stderr=T_({level:VO?VO.level:0});bg.stderr.supportsColor=VO;bg.Level={None:0,Basic:1,Ansi256:2,TrueColor:3,0:"None",1:"Basic",2:"Ansi256",3:"TrueColor"};vX.exports=bg});var xX=j(Uc=>{"use strict";B();M();var SX=Uc&&Uc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.mergeNexts=Uc.diffOutputs=Uc.getExpectedOutputs=Uc.getTransationOutputs=void 0;var m3=SX(VY()),$0=Tr(),wX=Tr(),nxe=SX(_X()),c1;(function(t){t.black="\x1B[30m",t.red="\x1B[31m",t.green="\x1B[32m",t.reset="\x1B[0m"})(c1||(c1={}));var YO=class{red(e){return c1.red+e+c1.reset}grey(e){return c1.black+e+c1.reset}green(e){return c1.green+e+c1.reset}},kr=typeof window>"u"?nxe.default:new YO;function ixe(t,e){let r=Math.max(t.length,e.length),n=Math.abs(t.length-e.length),i=e.startsWith(t)||t.startsWith(e);return n/r>.5&&r>3e3&&!i}function sxe(t,e){let r=ixe(t,e),n=$0.bsv.Script.fromHex(t).toASM(),i=$0.bsv.Script.fromHex(e).toASM();if(r){let s=n.split(" "),o=i.split(" "),a=Math.min(s.length,o.length),u=Math.min(a,1e3);n=s.slice(0,u).join(" "),s.length>u&&(n+=" ..."),i=o.slice(0,u).join(" "),o.length>u&&(i+=" ...")}return[n,i]}function P_(t){return JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString():r,4)}function oxe(t,e,r){if(wX.AbstractContract.isStateful(t)){let n=t.codePart.toHex(),i=r.map((u,c)=>u.script.startsWith(n)?c:-1).filter(u=>u>-1),s=e.map((u,c)=>u.script.startsWith(n)?c:-1).filter(u=>u>-1),o=i.map((u,c)=>u===s[c]?u:-1).filter(u=>u>-1),a=(u,c)=>{var d;if(o.includes(c)){let f=t.ContractClass,m=(d=t.getPrependNOPScript())===null||d===void 0?void 0:d.toHex(),y=(m&&u.script.startsWith(m)?f.fromHex(u.script.slice(m.length)).statePropsArgs:f.fromHex(u.script).statePropsArgs).reduce((w,P)=>Object.assign(Object.assign({},w),{[P.name]:P.value}),{});return{script:u.script,satoshis:u.satoshis,states:y}}else return{script:u.script,satoshis:u.satoshis}};return[e.map(a),r.map(a)]}return[e,r]}function axe(t,e){let r="",n=0;for(r+=kr.grey("["),t.forEach(i=>{typeof i.states<"u"&&(n>0&&(r+=kr.grey(", ")),typeof e[n]>"u"?r+=kr.red(P_(i.states)):(0,m3.default)(P_(e[n].states),P_(i.states)).forEach(s=>{s[0]===m3.default.INSERT?r+=kr.red(s[1]):s[0]===m3.default.DELETE?r+=kr.green(s[1]):r+=kr.grey(s[1])})),n++});n<e.length;n++){let i=e[n];typeof i.states<"u"&&(r+=kr.green(P_(i.states)))}return r+=kr.grey("]"),r}function g3(t){let e=t.split(" ");return e.length>10?e.slice(0,5).concat(["..."]).concat(e.slice(e.length-5)).join(" "):t}function uxe(t,e,r){return(r&31)!=$0.bsv.crypto.Signature.SIGHASH_SINGLE&&(r&31)!=$0.bsv.crypto.Signature.SIGHASH_NONE?t.outputs.map(n=>({script:n.script.toHex(),satoshis:n.satoshis})):(r&31)==$0.bsv.crypto.Signature.SIGHASH_SINGLE&&e<t.outputs.length?t.outputs.filter((n,i)=>i===e).map(n=>({script:n.script.toHex(),satoshis:n.satoshis})):[]}Uc.getTransationOutputs=uxe;function cxe(t){let e=new $0.bsv.encoding.BufferReader(E.Buffer.from(t,"hex")),r=[];try{for(;!e.eof();){let n=$0.bsv.Transaction.Output.fromBufferReader(e);r.push(n)}}catch{throw new Error("Invalid argument: `outputs`")}return r.map(n=>({script:n.script.toHex(),satoshis:n.satoshis}))}Uc.getExpectedOutputs=cxe;function fxe(t,e,r){let n=`1. Outputs in the ${kr.green("Transaction")} is marked green.
2. Outputs expected by the \`${kr.red(t.contractName)}\` contract is marked red.
3. Identical parts are marked in gray.

`,[i,s]=oxe(t,e,r),o="",a=0;for(o+=kr.grey("["),i.forEach(u=>{if(a>0&&(o+=kr.grey(", ")),typeof s[a]>"u")o+=kr.red(`{
`),o+=kr.red("    satoshi:"+u.satoshis),o+=kr.red(`,
`),o+=kr.red("    script:"),o+=kr.red(g3($0.bsv.Script.fromHex(u.script).toASM())),o+=kr.red(`
`),o+=kr.red("}");else{if(o+=kr.grey(`{
`),o+=kr.grey("    satoshi:"),u.satoshis===s[a].satoshis?o+=kr.grey(u.satoshis+""):(o+=kr.red(u.satoshis+""),o+=kr.green(s[a].satoshis+"")),o+=kr.grey(`,
`),o+=kr.grey("    script:"),u.script===s[a].script)o+=kr.grey(g3($0.bsv.Script.fromHex(u.script).toASM()));else{let[c,d]=sxe(s[a].script,u.script);(0,m3.default)(c,d).forEach(f=>{f[0]===m3.default.INSERT?o+=kr.red(g3(f[1])):f[0]===m3.default.DELETE?o+=kr.green(g3(f[1])):o+=kr.grey(g3(f[1]))})}o+=kr.grey(`
}`)}a++});a<s.length;a++){let u=s[a];o+=kr.grey(","),o+=kr.green(`{
`),o+=kr.green("    satoshi:"+u.satoshis),o+=kr.green(`,
`),o+=kr.green("    script:"),o+=kr.green(g3($0.bsv.Script.fromHex(u.script).toASM())),o+=kr.green(`
`),o+=kr.green("}")}return o+=kr.grey("]"),n=n+`Outputs: ${o}`,wX.AbstractContract.isStateful(t)&&(n=n+`

States: ${axe(i,s)}`),n}Uc.diffOutputs=fxe;function dxe(t){let e=new Map;return t.forEach(r=>{(r.nexts||[]).forEach(n=>{if(!e.has(n.atOutputIndex))e.set(n.atOutputIndex,n);else if(e.get(n.atOutputIndex).instance!==n.instance)throw new Error(`The ${n.atOutputIndex}-th output of the transaction is repeatedly bound to the contract instance`)})}),Array.from(e.values()).sort((r,n)=>r.atOutputIndex-n.atOutputIndex)}Uc.mergeNexts=dxe});var EX=j(O_=>{"use strict";B();M();Object.defineProperty(O_,"__esModule",{value:!0});O_.throwUnInitializing=void 0;function hxe(t){throw new Error(`'${t}.compile' or '${t}.loadArtifact' should be called before initializing any instance!`)}O_.throwUnInitializing=hxe});var mg=j(qc=>{"use strict";B();M();var lxe=qc&&qc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),pxe=qc&&qc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bxe=qc&&qc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&lxe(e,t,r);return pxe(e,t),e},hu=qc&&qc.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(qc,"__esModule",{value:!0});qc.SmartContract=void 0;var z0=bxe(r0()),gxe=KE(),y3=ja();FO();var It=Tr(),AX=CY(),mxe=Gr(),cn=Zp(),bi=a1(),yxe=Cd(),TX=Lc(),gg=o3(),XO=v3(),IX=S_(),B_=xX(),sh=o3(),M_=EX(),f1=class{static compileImpl(e){return hu(this,void 0,void 0,function*(){let r=z0.mkdtempSync((0,y3.join)((0,gxe.tmpdir)(),"scrypt-ts-")),n=yield(0,It.compileContractAsync)(e,{sourceMap:!0,artifact:!0,out:r});if(n.errors.length>0)throw new Error(`Compilation failed for class \`${this.name}\`. Check the output details at project building time!`);{let i=(0,y3.basename)(e).replace(".scrypt",".json"),s=z0.readdirSync(r).filter(o=>o==i)[0];s&&z0.copyFileSync((0,y3.join)(r,s),(0,y3.join)((0,y3.dirname)(e),s))}return n})}static compile(){return hu(this,void 0,void 0,function*(){let e=yield this.getTranspileErrors();if(Array.isArray(e)&&e[0])throw e[0];let r=this._loadCachedArtifact();if(r)this.DelegateClazz=(0,It.buildContractClass)(r);else{let n=this._getScryptFilePath(),i=yield this.compileImpl(n);this.DelegateClazz=(0,It.buildContractClass)(i),r=i.toArtifact()}return r})}static getTranspileErrors(){return hu(this,void 0,void 0,function*(){if(!(0,sh.isInNodeEnv)())throw new Error("the 'getTranspileErrors()' method should only be called in Node.js environment!");let e=this._getTransformationResult();return e.success?[]:e.errors})}static loadArtifact(e=void 0){let r;if(typeof e>"u"?r=this._loadCachedArtifact():typeof e=="string"?r=this._loadArtifact(e):r=e,r===void 0)throw new Error(`Cannot find the artifact file for contract \`${this.name}\`, run \`npx scrypt-cli@latest compile\` to generate it.`);this.DelegateClazz=(0,It.buildContractClass)(r)}static getArtifact(){if(!this.DelegateClazz)throw new Error("No artifact found, Please compile the contract first.");return this.DelegateClazz.artifact}static _getTransformationResult(){let e=this._getScryptFilePath(),r=(0,gg.alterFileExt)(e,"transformer.json");return JSON.parse(z0.readFileSync(r).toString())}static _getScryptFilePath(){let e=Reflect.getMetadata("scrypt:filepath",this);if(e)return e;let r=(0,y3.join)(".",AX.INDEX_FILE_NAME);if(!z0.existsSync(r))throw new Error("Cannot find `scrypt.index.json` file, run `npx scrypt-cli@latest compile` to generate it.");let i=new AX.IndexerReader(r).getFullPath(this.name);if(!z0.existsSync(i))throw new Error(`Cannot find the bundled scrypt file for contract \`${this.name}\`, run \`npx scrypt-cli@latest compile\` to generate it.`);return Reflect.defineMetadata("scrypt:filepath",i,this),i}static _loadCachedArtifact(){let e=this._getScryptFilePath(),r=(0,gg.alterFileExt)(e,"json");return this._loadArtifact(r)}static _loadArtifact(e){if(!!z0.existsSync(e))return JSON.parse(z0.readFileSync(e,"utf8").toString())}getDelegateClazz(){var e;return(e=Object.getOwnPropertyDescriptor(this.constructor,"DelegateClazz"))===null||e===void 0?void 0:e.value}static getDelegateClazz(){return this.DelegateClazz}getDelegateInstance(){return this.delegateInstance}setDelegateInstance(e){this.delegateInstance=e}constructor(...e){if(this.enableUpdateEMC=!1,this._txBuilders=new Map,Object.getPrototypeOf(this.constructor).name==="SmartContract")this._initDelegateInstance(...e);else try{this._initDelegateInstance(...e)}catch{}}_initDelegateInstance(...e){let r=this.getDelegateClazz();r||(0,M_.throwUnInitializing)(this.constructor.name);let n=e.map((i,s)=>{if(i instanceof IX.SmartContractLib)return i.getArgs();if(i instanceof bi.HashedMap||i instanceof bi.HashedSet){let a=r.abi.find(u=>u.type===It.ABIEntityType.CONSTRUCTOR).params[s].type;return i.attachTo(a,r),i}return i});this.delegateInstance=new r(...n),this.delegateInstance.isGenesis=!1}init(...e){this._initDelegateInstance(...e)}verify(e){if(this._csNum=0,!(0,sh.isInNodeEnv)()){console.error("the 'verify' method should only be called in Node.js environment!");return}let r=Object.getPrototypeOf(this).constructor._getScryptFilePath(),n=r.replace(/\.scrypt$/,".scrypt.map");if(!z0.existsSync(n))throw new Error(`cannot find the bundled sourcemap file for \`${typeof this}\` at ${n}`);let i=JSON.parse(z0.readFileSync(n).toString()),s={};if(this.to){s.tx=this.to.tx;let o=this.to.inputIndex;s.inputIndex=o,s.inputSatoshis=this.to.tx.inputs[o].output.satoshis}try{let o=(u=>{let c=u.verify(s);if(!c.success&&c.error){let d=/\[(.+?)\]\((.+?)#(\d+)\)/.exec(c.error);c.error.substring(0,d.index);let f=parseInt(d[3]),m=i[f-1][0][2]+1;c.error=`[Go to Source](file://${r}:${m})`}return c}).bind(this),a=this.buildEntryMethodCall(e);return a instanceof Promise?a.then(u=>o(u)):o(a)}catch(o){throw o}}getUnlockingScript(e){try{let r=this.clone().buildEntryMethodCall(e);return r instanceof Promise?r.then(n=>n.unlockingScript):r.unlockingScript}catch(r){throw r}}syncStateProps(){this.delegateInstance.isGenesis||(Reflect.getMetadata("scrypt:stateProps",this)||[]).forEach(r=>{this[r]instanceof IX.SmartContractLib?this.delegateInstance[r]=this[r].getState():this[r]instanceof bi.HashedMap?this.delegateInstance[r]=this[r]:this[r]instanceof bi.HashedSet?this.delegateInstance[r]=this[r]:this.delegateInstance[r]=this[r]})}get lockingScript(){return this.syncStateProps(),this.delegateInstance.lockingScript}get scriptSize(){return this.lockingScript.toBuffer().length}get codePart(){return this.delegateInstance.codePart.toHex()}get scriptHash(){return(0,It.sha256)(this.lockingScript.toHex()).match(/.{2}/g).reverse().join("")}setAsmVars(e){this.delegateInstance.replaceAsmVars(e)}get asmArgs(){return this.delegateInstance.asmArgs}clone(e){this.syncStateProps();let r=["from","to","_signer","_provider"].concat(e?.refCloneProps||[]),n=r.map(s=>this[s]);r.forEach(s=>this[s]=void 0);let i=(0,mxe.cloneDeep)(this);return r.forEach((s,o)=>i[s]=n[o]),r.forEach((s,o)=>this[s]=n[o]),i}next(e){let r=this.clone(e);return r.from=void 0,r.to=void 0,r.delegateInstance.isGenesis=!1,r.prependNOPScript(null),r}markAsGenesis(){return this.delegateInstance.isGenesis=!0,this}buildStateOutput(e){let r=this.getStateScript();return cn.Utils.buildOutput(r,e)}buildChangeOutput(){if(this.changeAmount>BigInt(0)){let e=cn.Utils.buildPublicKeyHashScript(this.changeAddress);return cn.Utils.buildOutput(e,this.changeAmount)}return(0,bi.toByteString)("")}getStateScript(){let e=cn.VarIntWriter.writeBool(!1);return this.delegateInstance.stateProps.forEach(r=>{let n=this[r.name];(n instanceof bi.HashedMap||n instanceof bi.HashedSet)&&(n={_data:n.data()}),(0,It.flatternArg)(Object.assign({},r,{value:n}),this.delegateInstance.resolver,{state:!0,ignoreValue:!1}).forEach(i=>{["bytes","PubKey","Ripemd160","Sig","Sha1","SigHashPreimage","Sha256","SigHashType","OpCodeType"].includes(i.type)?e+=cn.VarIntWriter.writeBytes(i.value):i.type==="int"||i.type==="PrivKey"?e+=cn.VarIntWriter.writeInt(i.value):i.type==="bool"&&(e+=cn.VarIntWriter.writeBool(i.value))})}),this.codePart+cn.VarIntWriter.serializeState(e)}checkSig(e,r,n="signature check failed"){if(!this.checkSignatureEncoding(e)||!this.checkPubkeyEncoding(r))return!1;let i=!1;this._assertToExist();let s=E.Buffer.from(e,"hex"),o=E.Buffer.from((0,bi.toByteString)(r),"hex");try{let a=It.bsv.crypto.Signature.fromTxFormat(s),u=It.bsv.PublicKey.fromBuffer(o,!1),c=this.to.tx,d=this.to.inputIndex||0,f=this.to.tx.inputs[d].output.satoshis,m=this.lockingScript.subScript(this._csNum-1);i=c.verifySignature(a,u,d,m,It.bsv.crypto.BN.fromNumber(f),It.DEFAULT_FLAGS)}catch{i=!1}if(!i&&s.length)throw new Error(n);return i}checkPreimageAdvanced(e,r,n,i,s,o,a){let u=(0,cn.hash256)((0,bi.toByteString)(e)),c=cn.Tx.sign(cn.Tx.fromBEUnsigned(u),r,i,s,o,a);return this.checkSig(c,n)}checkPreimageSigHashType(e,r){return this.checkPreimageAdvanced(e,cn.Tx.privKey,cn.Tx.pubKey,cn.Tx.invK,cn.Tx.r,cn.Tx.rBigEndian,r)}checkPreimage(e){return this.checkPreimageAdvanced(e,cn.Tx.privKey,cn.Tx.pubKey,cn.Tx.invK,cn.Tx.r,cn.Tx.rBigEndian,cn.SigHash.ALL)}insertCodeSeparator(){this._csNum++}checkMultiSig(e,r){for(let a=0;a<e.length;a++)if(!this.checkSignatureEncoding(e[a]))return!1;for(let a=0;a<r.length;a++)if(!this.checkPubkeyEncoding(r[a]))return!1;this._assertToExist();let n=this.to.tx,i=this.to.inputIndex||0,s=this.to.tx.inputs[i].output.satoshis,o=new Set;for(let a=0;a<e.length;a++){let u=It.bsv.crypto.Signature.fromTxFormat(E.Buffer.from((0,bi.toByteString)(e[a]),"hex")),c=!0;for(let d=0;d<r.length;d++){if(o.has(d))continue;o.add(d);let f=It.bsv.PublicKey.fromBuffer(E.Buffer.from((0,bi.toByteString)(r[d]),"hex"),!1),m=this.lockingScript.subScript(this._csNum-1);try{if(n.verifySignature(u,f,i,m,It.bsv.crypto.BN.fromNumber(s),It.DEFAULT_FLAGS)){c=!1;break}}catch{continue}}if(c)return!1}return!0}timeLock(e){let r=!0;return r=this.ctx.sequence<4294967295,e<5e8&&(r=r&&this.ctx.locktime<5e8),r&&this.ctx.locktime>=e}get changeAmount(){return this._assertToExist(),BigInt(this.to.tx.getChangeAmount())}get prevouts(){return this._assertToExist(),this.sigTypeOfMethod(this._currentMethod)&It.bsv.crypto.Signature.SIGHASH_ANYONECANPAY?(0,bi.toByteString)(""):this.to.tx.prevouts()}get changeAddress(){if(this._assertToExist(),!this.to.tx._changeAddress)throw new Error("No change output found on the transaction");return(0,It.PubKeyHash)(this.to.tx._changeAddress.toObject().hash)}checkPubkeyEncoding(e){return!((It.DEFAULT_FLAGS&It.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC)!==0&&!It.bsv.PublicKey.isValid((0,bi.toByteString)(e)))}checkSignatureEncoding(e){var r=E.Buffer.from((0,bi.toByteString)(e),"hex"),n;if(r.length===0)return!0;if((It.DEFAULT_FLAGS&(It.bsv.Script.Interpreter.SCRIPT_VERIFY_DERSIG|It.bsv.Script.Interpreter.SCRIPT_VERIFY_LOW_S|It.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC))!==0&&!It.bsv.crypto.Signature.isTxDER(r))return!1;if((It.DEFAULT_FLAGS&It.bsv.Script.Interpreter.SCRIPT_VERIFY_LOW_S)!==0){if(n=It.bsv.crypto.Signature.fromTxFormat(r),!n.hasLowS())return!1}else if((It.DEFAULT_FLAGS&It.bsv.Script.Interpreter.SCRIPT_VERIFY_STRICTENC)!==0&&(n=It.bsv.crypto.Signature.fromTxFormat(r),!n.hasDefinedHashtype()||!(It.DEFAULT_FLAGS&It.bsv.Script.Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID)&&n.nhashtype&It.bsv.crypto.Signature.SIGHASH_FORKID||It.DEFAULT_FLAGS&It.bsv.Script.Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID&&!(n.nhashtype&It.bsv.crypto.Signature.SIGHASH_FORKID)))return!1;return!0}hasPrevouts(e){let r=this.getDelegateClazz().abi.find(n=>n.name===e);if(!r)throw new Error(`contract ${this.constructor.name} doesnot have method ${e}`);return r.params.findIndex(n=>n.name==="__scrypt_ts_prevouts"&&n.type==="bytes")>-1}callDelegatedMethod(e,...r){let n=this.getDelegateClazz().abi.find(d=>d.name===e);if(!n)return;this._currentMethod=e;let i=n.params.slice(0,r.length),s=n.params.slice(r.length),o=new Map,a,u,c=new Map;return s.forEach((d,f)=>{if(d.name==="__scrypt_ts_txPreimage"&&d.type==="SigHashPreimage"){this._assertToExist();let m=this.sigTypeOfMethod(e);a=(0,bi.SigHashPreimage)(this.to.tx.getPreimage(this.to.inputIndex,m)),o.set(d.name,a)}if(d.name==="__scrypt_ts_changeAmount"&&d.type==="int"&&o.set(d.name,this.changeAmount),d.name==="__scrypt_ts_changeAddress"&&d.type==="Ripemd160"&&o.set(d.name,this.changeAddress),d.name.startsWith("__scrypt_ts_accessPathForProp__")&&d.type==="bytes"){let m=d.name.replace("__scrypt_ts_accessPathForProp__",""),p=this[m];if(!(0,bi.instanceOfSIATraceable)(p))throw new Error(`Internel error: traceable object \`${m}\` not found`);p.startTracing();let y=i.length+f;c.set(y,()=>(p.stopTracing(),p.serializedAccessPath())),o.set(d.name,(0,yxe.randomBytes)(2*30).toString("hex"))}d.name==="__scrypt_ts_prevouts"&&d.type==="bytes"&&(u=this.prevouts,o.set(d.name,u))}),r.push(...s.map(d=>{let f=o.get(d.name);if(f===void 0)throw new Error(`missing auto-filled value for argument ${d.name}`);return f})),{publicMethodCall:this.encodeMethodCall(e,r),txPreimage:a,prevouts:u,traceableArgCallbacks:c,abi:n}}encodeMethodCall(e,r){return this.getDelegateClazz().prototype[e].call(this.delegateInstance,...r)}setCtx(e){let r=cn.SigHash.outpoint(e);this._ctx={version:cn.SigHash.nVersion(e),utxo:{value:cn.SigHash.value(e),script:cn.SigHash.scriptCode(e),outpoint:{txid:r.slice(0,32*2),outputIndex:cn.Utils.fromLEUnsigned(r.slice(32*2))}},hashPrevouts:cn.SigHash.hashPrevouts(e),hashSequence:cn.SigHash.hashSequence(e),sequence:cn.SigHash.nSequence(e),hashOutputs:cn.SigHash.hashOutputs(e),locktime:cn.SigHash.nLocktime(e),sigHashType:cn.SigHash.sigHashType(e),serialize(){return e}}}clearCtx(){this._ctx=void 0}setDataPartInASM(e){this.delegateInstance.setDataPartInASM(e)}setDataPartInHex(e){this.delegateInstance.setDataPartInHex(e)}get dataPart(){return this.delegateInstance.dataPart}buildEntryMethodCall(e){this.entryMethodCall=void 0,this.enableUpdateEMC=!0;let r=(()=>{if(!this.entryMethodCall)throw new Error("a contract public method should be called on the `self` parameter within the `callPub` function");let i=this.entryMethodCall;return this.entryMethodCall=void 0,this.enableUpdateEMC=!1,i}).bind(this),n=e(this);return n instanceof Promise?n.then(()=>r()):r()}_assertToExist(){if(!this.to)throw new Error("`this.to` is undefined, it should be set properly before calling the method")}_assertFromExist(){if(!this.from)throw new Error("`this.from` is undefined, it should be set properly before calling the method")}connect(e){return hu(this,void 0,void 0,function*(){if(!(yield e.isAuthenticated()))throw new Error("the signer is unauthenticated");this._signer=e,this._provider=e.provider})}setProvider(e){this._provider=e}get signer(){if(!this._signer)throw new Error("No signer found!");return this._signer}get provider(){if(!this._provider)throw new Error("No provider found!");return this._provider}buildDeployTransaction(e,r,n){return hu(this,void 0,void 0,function*(){let i=new It.bsv.Transaction().from(e).addOutput(new It.bsv.Transaction.Output({script:this.lockingScript,satoshis:r}));return i.change(n),i.feePerKb(yield this.provider.getFeePerKb()),i})}deploy(e=1,r){return hu(this,void 0,void 0,function*(){this.markAsGenesis();let n=r?.changeAddress||(yield this.signer.getDefaultAddress()),i=yield this.buildDeployTransaction(r?.utxos||[],e,n),s=r?.address||(yield this.signer.getDefaultAddress()),o=yield this.provider.getFeePerKb();yield f1.autoPayfee(i,o,this.signer,s);let a=yield this.signer.signAndsendTransaction(i,{address:s});return this.from={tx:a,outputIndex:0},a})}_prepareArgsForMethodCall(e,...r){let n=this.getDelegateClazz().abi.find(c=>c.name===e);if(!n)throw new Error(`\`${this.constructor.name}.${e}\` no exists!`);let i=this.getMethodsMeta(e).argLength;if(r.length!=i&&r.length!=i+1)throw new Error(`argument count mismatch while calling \`this.methods.${e}\`. Expected ${i} or ${i+1} (if passing \`MethodCallOptions\`), but got ${r.length}`);let s=r.slice(0,i),o=r[i],a={verify:!1,partiallySigned:!1,exec:!0,autoPayFee:!0,multiContractCall:!1,next:[]};if(o){if(typeof o!="object")throw new Error(`The last argument is expected to be an object of type \`MethodCallOptions\`. Got \`${typeof o}' instead.`);Object.assign(a,o)}let u=s.reduce((c,d,f)=>{let p=n.params[f].type.match(/^Sig(\[(\d+)\])?$/),y=typeof d;if(p){let w=p[2]||"1";if(y!=="function")throw new Error("a callback function of type `(sigResponses: SignatureResponse[]) => Sig | Sig[] ` should be given for the Sig type argument");c.set(f,{callback:d,length:parseInt(w)})}else if(y==="function")throw new Error("a callback function given for the non-Sig type argument is not allowed");return c},new Map);return{methodArgs:s,methodCallOptions:a,sigArgs:u}}call(e,...r){return hu(this,void 0,void 0,function*(){this._csNum=0;let{methodArgs:n,methodCallOptions:i,sigArgs:s}=this._prepareArgsForMethodCall(e,...r);return i.multiContractCall===!0?this.multiContractCall(e,i,n,s):this.singleContractCall(e,i,n,s)})}singleContractCall(e,r,n,i){return hu(this,void 0,void 0,function*(){let s=yield this.signer.getDefaultAddress(),o=yield this.provider.getFeePerKb(),a=this.getTxBuilder(e);if(!a)throw new Error(`missing bound \`txBuilder\` for calling \`${e}\``);let u=n.map((p,y)=>{let w=i.get(y);return w?w.length>1?new Array(w.length).fill((0,sh.getDummySig)()):(0,sh.getDummySig)():p});if(!r.fromUTXO&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");r.fromUTXO&&(this.from=r.fromUTXO);let c=r.autoPayFee===void 0||r.autoPayFee===!0,{tx:d,atInputIndex:f,nexts:m}=yield a.call(null,this,r,...u);if(d.feePerKb(o),this.to={tx:d,inputIndex:f},this.dummySignSingleCallTx(d,f,e,...u),c){let p=this.hasPrevouts(e);yield f1.autoPayfee(d,o,this.signer,s,p?36:0),p&&(this.dummySignSingleCallTx(d,f,e,...u),d._feePerKb=o,Object.getPrototypeOf(d)._updateChangeOutput.apply(d))}if(yield this.signSingleCallTx(d,f,s,r,e,n,i),this.to={tx:d,inputIndex:f},m&&m.forEach(p=>{p.instance.from={tx:d,outputIndex:p.atOutputIndex}}),!r.partiallySigned){if(r.verify||process.env.NETWORK==="local"){let p=d.verify();if(typeof p=="string")throw new Error(`Transaction verify failed: ${p}`)}yield this.provider.sendTransaction(d)}return{tx:d,atInputIndex:f,nexts:m,next:Array.isArray(m)?m[0]:void 0}})}multiContractCall(e,r,n,i){return hu(this,void 0,void 0,function*(){let s=this.getTxBuilder(e);if(!s)throw new Error(`missing bound \`txBuilder\` for calling \`${e}\``);let o=n.map((d,f)=>{let m=i.get(f);return m?m.length>1?new Array(m.length).fill((0,sh.getDummySig)()):(0,sh.getDummySig)():d});if(!r.fromUTXO&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");r.fromUTXO&&(this.from=r.fromUTXO);let{tx:a,atInputIndex:u,nexts:c}=yield s.call(null,this,r,...o);return this.to={tx:a,inputIndex:u},c&&c.forEach(d=>{d.instance.from={tx:a,outputIndex:d.atOutputIndex}}),Object.prototype.hasOwnProperty.call(a,"calllogs")?a.calllogs.push({instance:this,methodArgs:n,sigArgs:i,atInputIndex:u,nexts:c,pubKeyOrAddrToSign:r.pubKeyOrAddrToSign,methodName:e,exec:r.exec}):Object.defineProperty(a,"calllogs",{value:[{instance:this,methodArgs:n,sigArgs:i,atInputIndex:u,nexts:c,pubKeyOrAddrToSign:r.pubKeyOrAddrToSign,methodName:e,exec:r.exec}],writable:!1}),{tx:a,atInputIndex:u,nexts:c,next:Array.isArray(c)?c[0]:void 0}})}signSingleCallTx(e,r,n,i,s,o,a){return hu(this,void 0,void 0,function*(){let u=this.provider.getNetwork(),c=e.inputs.flatMap((f,m)=>{if(!(!i.autoPayFee&&m!==r)){if(m===r)return(i.pubKeyOrAddrToSign?(0,TX.parseSignatureOption)(i.pubKeyOrAddrToSign,u):[{address:n,sigHashType:It.DEFAULT_SIGHASH_TYPE}]).map(y=>({prevTxId:(0,It.toHex)(f.prevTxId),outputIndex:f.outputIndex,inputIndex:m,satoshis:f.output.satoshis,scriptHex:f.output.script.toHex(),address:y.address,sigHashType:y.sigHashType,csIdx:y.csIdx,data:y.data}));{let p=f.output.script.isPublicKeyHashOut()?It.bsv.Address.fromPublicKeyHash(f.output.script.getPublicKeyHash(),u):n;return{prevTxId:(0,It.toHex)(f.prevTxId),outputIndex:f.outputIndex,inputIndex:m,satoshis:f.output.satoshis,scriptHex:f.output.script.toHex(),address:p,sigHashType:It.DEFAULT_SIGHASH_TYPE,csIdx:void 0}}}}).filter(f=>f!==void 0);(yield this.signer.getSignatures(e.toString(),c)).reduce((f,m)=>{let p=m.inputIndex,y=f.get(p)||[];return y.push(m),f.set(p,y),f},new Map).forEach((f,m)=>{if(m===r){let p=o.map((y,w)=>{let P=a.get(w);if(!P)return y;let C=T=>{if(typeof T!="string")throw new Error(`the ${w+1}th argument calback function should returns a valid \`Sig\``)},R=P.callback.call(this,f)||"";if(R instanceof Array){if(R.length!==P.length)throw new Error(`the ${w+1}th argument calback function should returns a valid \`Sig\` array whose length is expected to be ${P.length}, but got ${R.length}`);R.forEach(T=>C(T))}else C(R);return R});if(i.exec){let y=this.getUnlockingScript(w=>{w[s](...p)});e.inputs[r].setScript(y)}else{let{publicMethodCall:y}=this.callDelegatedMethod(s,...p);e.inputs[r].setScript(y.toScript())}}else i.autoPayFee&&f.forEach(p=>{e.applySignature({inputIndex:p.inputIndex,sigtype:p.sigHashType||It.DEFAULT_SIGHASH_TYPE,publicKey:It.bsv.PublicKey.fromString(p.publicKey),signature:It.bsv.crypto.Signature.fromTxFormat(E.Buffer.from(p.sig,"hex"))})})})})}dummySignSingleCallTx(e,r,n,...i){e.inputs.forEach((s,o)=>{if(o===r){let{publicMethodCall:a}=this.callDelegatedMethod(n,...i);s.setScript(a.toScript())}})}get methods(){let e=this;return this.getDelegateClazz().abi.filter(n=>n.type==="function").map(n=>n.name).reduce((n,i)=>(n[i]=(...s)=>e.call(i,...s),n),{})}getTxBuilder(e){if(!this.getDelegateClazz().abi.filter(i=>i.type==="function").map(i=>i.name).includes(e))throw new Error(`\`${e}\` is not a @method and do not have any bounded \`txBuilder\``);if(this._txBuilders.has(e))return this._txBuilders.get(e);let n=Object.getOwnPropertyNames(this.constructor).filter(i=>typeof this.constructor[i]=="function").find(i=>i===`buildTxFor${(0,gg.camelCaseCapitalized)(e)}`);return n?this.constructor[n]:this.getDefaultTxBuilder(e)}getDefaultTxBuilder(e){return f1.defaultCallTxBuilder(this.getMethodsMeta(e).sigHashType)}bindTxBuilder(e,r){if(this.getDelegateClazz()||(0,M_.throwUnInitializing)(this.constructor.name),!this.getDelegateClazz().abi.filter(i=>i.type==="function").map(i=>i.name).includes(e))throw new Error(`\`${e}\` is not a @method and cat not set bounded \`txBuilder\``);this._txBuilders.set(e,r)}static defaultCallTxBuilder(e){return function(r,n,...i){return hu(this,void 0,void 0,function*(){let s=yield r.signer.getDefaultAddress(),o=new It.bsv.Transaction().addInput(r.buildContractInput(n.fromUTXO)),a;if(a=Array.from([n.next||[]]).flat().map((c,d)=>(o.addOutput(new It.bsv.Transaction.Output({script:c.instance.lockingScript,satoshis:c.balance})),Object.assign({},c,{atOutputIndex:d}))),o.change(n.changeAddress||s),n.sequence!==void 0&&o.setInputSequence(0,n.sequence),n.lockTime){let c=n.sequence!==void 0?n.sequence:4294967294;o.setInputSequence(0,c),o.setLockTime(n.lockTime)}return Promise.resolve({tx:o,atInputIndex:0,nexts:a,next:Array.isArray(a)?a[0]:void 0})})}}buildContractInput(e){if(!e&&!this.from)throw new Error("param `fromUTXO` and `this.from` should not be both empty for calling `this.buildContractInput`!");if(e)return new It.bsv.Transaction.Input({prevTxId:e.txId,outputIndex:e.outputIndex,script:new It.bsv.Script(""),output:new It.bsv.Transaction.Output({script:this.lockingScript,satoshis:e.satoshis})});if("tx"in this.from)return new It.bsv.Transaction.Input({prevTxId:this.from.tx.id,outputIndex:this.from.outputIndex,script:new It.bsv.Script(""),output:new It.bsv.Transaction.Output({script:this.lockingScript,satoshis:this.balance})});{let r=this.from;return new It.bsv.Transaction.Input({prevTxId:r.txId,outputIndex:r.outputIndex,script:new It.bsv.Script(""),output:new It.bsv.Transaction.Output({script:this.lockingScript,satoshis:this.balance})})}}isStateful(){return Reflect.getOwnMetadata(XO.StatePropsMetaKey,this.constructor.prototype)!==void 0}sigTypeOfMethod(e){let r=this.getMethodsMeta(e);if(!r)throw new Error(`${e} is not a public @method of ${this.constructor.name}`);return(0,sh.toNumber)(r.sigHashType)}getMethodsMeta(e){return Reflect.getOwnMetadata(XO.MethodsMetaKey,this.constructor.prototype).get(e)}diffOutputs(e){this._assertToExist();try{let r=(0,B_.diffOutputs)(this.delegateInstance,(0,B_.getExpectedOutputs)(e),(0,B_.getTransationOutputs)(this.to.tx,this.to.inputIndex,this.sigTypeOfMethod(this._currentMethod)));console.info(r)}catch(r){throw new Error(`diffOutputs failed, error: ${r.message}`)}}get debug(){let e=this;return{diffOutputs:r=>{e.diffOutputs(r)},genLaunchConfig:()=>{this.to?console.log(e.delegateInstance.genLaunchConfig({tx:e.to.tx,inputIndex:e.to.inputIndex,inputSatoshis:e.to.tx.getInputAmount(e.to.inputIndex)})):console.log(e.delegateInstance.genLaunchConfig())}}}get balance(){return this._assertFromExist(),"tx"in this.from?this.from.tx.outputs[this.from.outputIndex].satoshis:this.from.satoshis}get utxo(){return this._assertFromExist(),"tx"in this.from?{txId:this.from.tx.id,outputIndex:this.from.outputIndex,script:this.from.tx.outputs[this.from.outputIndex].script.toHex(),satoshis:this.from.tx.outputs[this.from.outputIndex].satoshis}:this.from}get ctx(){if(!this._ctx)throw new Error("`this.ctx` is undefined, `to` should be called before to access its value!");return this._ctx}static fromLockingScript(e,r,n){this.DelegateClazz||(0,M_.throwUnInitializing)(this.name);let i;if(n){if(!e.startsWith(n.toHex()))throw new Error("script doesn't start with nopScript");let c=e.slice(n.toHex().length);i=this.DelegateClazz.fromHex(c)}else i=this.DelegateClazz.fromHex(e);let s=i.ctorArgs().map(c=>c.type.startsWith("HashedMap")?new bi.HashedMap:c.type.startsWith("HashedSet")?new bi.HashedSet:c.value),o=new this(...s);o.delegateInstance=i,o.prependNOPScript(n||null);let a=Reflect.getMetadata(XO.PropsMetaKey,o)||[],u=i.stateProps.map(c=>c.name)||[];return a.forEach(c=>{let d=i.isGenesis;if(o[c]instanceof bi.HashedMap||o[c]instanceof bi.HashedSet){if(r===void 0||r[c]===void 0)throw new Error(`should pass the currrent value of \`${c}\``);if(o[c]instanceof bi.HashedMap&&!(r[c]instanceof bi.HashedMap))throw new Error(`\`offchainValues.${c}\` should be a HashedMap`);if(o[c]instanceof bi.HashedSet&&!(r[c]instanceof bi.HashedSet))throw new Error(`\`offchainValues.${c}\` should be a HashedSet`);if(r[c].attachTo(o[c]._type,this.DelegateClazz),u.includes(c)&&!d&&i[c]._data!==r[c].data())throw new Error(`the current value of \`${c}\` passed in does not match the state in the script`);o[c]=r[c]}else u.includes(c)&&!d&&(o[c]=i[c])}),Object.getOwnPropertyNames(r||{}).filter(c=>!a.includes(c)).forEach(c=>o[c]=r[c]),o}static fromTx(e,r,n,i){if(r<0||r>=e.outputs.length)throw new Error(`the value of \`atOutputIndex\` is out of range [0, ${e.outputs.length})`);let s=this.fromLockingScript(e.outputs[r].script.toHex(),n,i);return s.from={tx:e,outputIndex:r},s}static fromUTXO(e,r,n){let i=this.fromLockingScript(e.script,r,n);return i.from=e,i}static dummySignMultiCallTx(e,r){let n=r.map(i=>i.instance);e.inputs.forEach((i,s)=>{if(n[s]){let o=r[s].methodArgs.map((u,c)=>{let d=r[s].sigArgs.get(c);return d?d.length>1?new Array(d.length).fill((0,sh.getDummySig)()):(0,sh.getDummySig)():u}),{publicMethodCall:a}=n[s].callDelegatedMethod(r[s].methodName,...o);i.setScript(a.toScript())}})}static signMultiCallTx(e,r,n,i){return hu(this,void 0,void 0,function*(){let s=n.map(p=>p.instance),o=yield e.getDefaultAddress(),a=e.provider.getNetwork(),u=r.inputs.map((p,y)=>({input:p,inputIndex:y,instance:s[y],calllog:n[y]})).filter(p=>p.instance instanceof f1),c=[];for(let p of u){let{input:y,calllog:w,instance:P,inputIndex:C}=p,R=w.pubKeyOrAddrToSign,k=(R?(0,TX.parseSignatureOption)(R,a):[{address:o,sigHashType:It.DEFAULT_SIGHASH_TYPE}]).map(F=>({prevTxId:(0,It.toHex)(y.prevTxId),outputIndex:y.outputIndex,inputIndex:C,satoshis:y.output.satoshis,scriptHex:y.output.script.toHex(),address:F.address,sigHashType:F.sigHashType,csIdx:F.csIdx,data:F.data})),H=[];w.sigArgs.size>0&&(H=yield P.signer.getSignatures(r.toString(),k)),c.push({unlockingScript:this.handleSigResponses(H,P,w,C),inputIndex:p.inputIndex})}if(c.forEach(p=>{r.inputs[p.inputIndex].setScript(p.unlockingScript)}),!i.autoPayFee)return;let f=r.inputs.map((p,y)=>({input:p,inputIndex:y})).filter(p=>typeof s[p.inputIndex]>"u").map(p=>{let{input:y,inputIndex:w}=p;return{prevTxId:(0,It.toHex)(y.prevTxId),outputIndex:y.outputIndex,inputIndex:w,satoshis:y.output.satoshis,scriptHex:y.output.script.toHex(),address:o,sigHashType:It.DEFAULT_SIGHASH_TYPE,csIdx:void 0}});(yield e.getSignatures(r.toString(),f)).forEach(p=>{r.applySignature({inputIndex:p.inputIndex,sigtype:p.sigHashType||It.DEFAULT_SIGHASH_TYPE,publicKey:It.bsv.PublicKey.fromString(p.publicKey),signature:It.bsv.crypto.Signature.fromTxFormat(E.Buffer.from(p.sig,"hex"))})})})}static handleSigResponses(e,r,n,i){let s=e.reduce((u,c)=>{let d=c.inputIndex,f=u.get(d)||[];return f.push(c),u.set(d,f),u},new Map),o=n.methodArgs.map((u,c)=>{let d=n.sigArgs.get(c);if(!d)return u;let f=p=>{if(typeof p!="string")throw new Error(`the ${c+1}th argument calback function should returns a valid \`Sig\``)},m=d.callback.call(this,s.get(i)||[])||"";if(m instanceof Array){if(m.length!==d.length)throw new Error(`the ${c+1}th argument calback function should returns a valid \`Sig\` array whose length is expected to be ${d.length}, but got ${m.length}`);m.forEach(p=>f(p))}else f(m);return m});n.exec&&r.getUnlockingScript(u=>{u[n.methodName](...o)});let{publicMethodCall:a}=r.callDelegatedMethod(n.methodName,...o);return a.toScript()}static multiContractCall(e,r,n){return hu(this,void 0,void 0,function*(){n=Object.assign({},{verify:!1,partiallySigned:!1,autoPayFee:!0},n);let i=e.tx,s=i.calllogs||[];if(i.inputs.length<s.length)throw new Error("Check if all called contracts are added as inputs to the transaction");let o=n.autoPayFee,a=yield r.getDefaultAddress(),u=yield r.provider.getFeePerKb();if(i.feePerKb(u),this.dummySignMultiCallTx(i,s),o){let d=s.find(f=>f.instance.hasPrevouts(f.methodName))!==void 0;yield this.autoPayfee(i,u,r,a,d?36*s.length:0),d&&(this.dummySignMultiCallTx(i,s),i._feePerKb=u,Object.getPrototypeOf(i)._updateChangeOutput.apply(i))}if(yield this.signMultiCallTx(r,i,s,n),!n.partiallySigned){if(n.verify||process.env.NETWORK==="local"){let c=i.verify();if(typeof c=="string")throw new Error(`Transaction verify failed: ${c}`)}yield r.provider.sendTransaction(i)}return{tx:i,atInputIndices:s.map(c=>c.atInputIndex),nexts:(0,B_.mergeNexts)(s)}})}static parseCallData(e,r){this.DelegateClazz||(0,M_.throwUnInitializing)(this.name);let n=e.inputs[r].script,i=this.DelegateClazz.abiCoder.parseCallData(n.toHex());return Object.assign(Object.assign({},i),{args:i.args.filter(s=>!s.name.startsWith("__scrypt_ts"))})}static autoPayfee(e,r,n,i,s=0){return hu(this,void 0,void 0,function*(){if(e.outputs.length>0&&(0,gg.checkTxFee)(e,r))return;let o=e.getEstimateSize(),a=e.inputAmount,u=e.outputAmount;e.getChangeOutput()===null&&e.getChangeAddress()!==null&&(o+=34,u+=1);let c=yield n.listUnspent(i,{unspentValue:a-u,estimateSize:o,feePerKb:r,additional:s});if(e.from(c),!(0,gg.checkTxFee)(e,r))throw new Error(`no sufficient utxos to pay the fee ${Math.ceil(o/1e3*r)}`)})}prependNOPScript(e){this.delegateInstance.prependNOPScript(e)}getPrependNOPScript(){return this.delegateInstance.getPrependNOPScript()}getOffchainUpdates(){return null}};qc.SmartContract=f1});var v3=j(so=>{"use strict";B();M();Object.defineProperty(so,"__esModule",{value:!0});so.prop=so.PropsMetaKey=so.StatePropsMetaKey=so.method=so.MethodsMetaKey=void 0;var yg=Zp(),vxe=Gr(),_xe=mg(),Sxe=S_();so.MethodsMetaKey="scrypt:methods";function wxe(t=yg.SigHash.ALL){return function(e,r,n){let i=n.value,s=Reflect.getOwnMetadata(so.MethodsMetaKey,e)||new Map;return s.set(r,{argLength:i.length,sigHashType:t}),Reflect.defineMetadata(so.MethodsMetaKey,s,e),{configurable:!0,enumerable:!1,get(){return(...u)=>{if(typeof e=="function")return i.apply(this,u);if(this instanceof Sxe.SmartContractLib)return i.apply(this,u);if(this instanceof _xe.SmartContract){let m=this.callDelegatedMethod(r,...u);if(m){let{publicMethodCall:p,txPreimage:y,traceableArgCallbacks:w,abi:P,prevouts:C}=m;y&&(this.setCtx(y),P.params.find(k=>k.type==="SigHashPreimage"&&k.name==="__scrypt_ts_txPreimage")&&(0,yg.assert)(this.checkPreimageSigHashType(y,t),"checkPreimage failed!")),u=p.args.map(k=>k.value);let R=u.map(k=>(0,vxe.cloneDeep)(k));this._currentMethod=r,C&&y&&P.params.find(k=>k.type==="bytes"&&k.name==="__scrypt_ts_prevouts")&&(0,yg.assert)((0,yg.hash256)(C)===yg.SigHash.hashPrevouts(y),"check prevouts failed!");let T=i.apply(this,u);if(this._currentMethod=void 0,y&&this.clearCtx(),this.enableUpdateEMC&&!this.entryMethodCall){let k=R.map((H,F)=>{let L=w.get(F);return L?L():H});this.entryMethodCall=this.encodeMethodCall(r,k)}return T}return i.apply(this,u)}throw new Error(`@method decorator used on \`${this.name||this.constructor.name}#${r}\`, it should only be used in subclasses of \`SmartContract\` or \`SmartContractLib\``)}}}}}so.method=wxe;so.StatePropsMetaKey="scrypt:stateProps";so.PropsMetaKey="scrypt:props";function xxe(t=!1){return function(e,r){if(t){let i=(Reflect.getMetadata(so.StatePropsMetaKey,e)||[]).concat(r);Reflect.defineMetadata(so.StatePropsMetaKey,i,e)}let n=(Reflect.getMetadata(so.PropsMetaKey,e)||[]).concat(r);Reflect.defineMetadata(so.PropsMetaKey,n,e)}}so.prop=xxe});var BX=j(d1=>{"use strict";B();M();var PX=d1&&d1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},k_=d1&&d1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(d1,"__esModule",{value:!0});d1.P2PKH=void 0;var _3=Tr(),Exe=mg(),OX=v3(),ZO=Zp(),Cut=a1(),S3=class extends Exe.SmartContract{constructor(e){super(...arguments),this.addr=e}unlock(e,r){(0,ZO.assert)((0,ZO.pubKey2Addr)(r)==this.addr,"public key hashes are not equal"),(0,ZO.assert)(this.checkSig(e,r),"signature check failed")}get lockingScript(){return new _3.bsv.Script("").add(_3.bsv.Opcode.OP_DUP).add(_3.bsv.Opcode.OP_HASH160).add(_3.bsv.Script.fromASM(this.addr)).add(_3.bsv.Opcode.OP_EQUALVERIFY).add(_3.bsv.Opcode.OP_CHECKSIG)}};d1.P2PKH=S3;PX([(0,OX.prop)(),k_("design:type",String)],S3.prototype,"addr",void 0);PX([(0,OX.method)(),k_("design:type",Function),k_("design:paramtypes",[String,String]),k_("design:returntype",void 0)],S3.prototype,"unlock",null);var Axe={version:9,compilerVersion:"1.19.0+commit.72eaeba",contract:"P2PKH",md5:"0c046dfb1f1a91cf72b9a852537bdfe1",structs:[],library:[],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"sig",type:"Sig"},{name:"pubkey",type:"PubKey"}]},{type:"constructor",params:[{name:"addr",type:"Ripemd160"}]}],stateProps:[],buildType:"release",file:"",hex:"76a9<addr>88ac",sourceMapFile:""};S3.loadArtifact(Axe)});var CX=j(h1=>{"use strict";B();M();var MX=h1&&h1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},C_=h1&&h1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(h1,"__esModule",{value:!0});h1.P2PK=void 0;var JO=Tr(),Txe=mg(),kX=v3(),Ixe=Zp(),Hut=a1(),w3=class extends Txe.SmartContract{constructor(e){super(...arguments),this.pubKey=e}unlock(e){(0,Ixe.assert)(this.checkSig(e,this.pubKey),"signature check failed")}get lockingScript(){return new JO.bsv.Script("").add(JO.bsv.Script.fromASM(this.pubKey)).add(JO.bsv.Opcode.OP_CHECKSIG)}};h1.P2PK=w3;MX([(0,kX.prop)(),C_("design:type",String)],w3.prototype,"pubKey",void 0);MX([(0,kX.method)(),C_("design:type",Function),C_("design:paramtypes",[String]),C_("design:returntype",void 0)],w3.prototype,"unlock",null);var Pxe={version:9,compilerVersion:"1.19.0+commit.72eaeba",contract:"P2PK",md5:"0c046dfb1f1a91cf72b9a852537bdfe1",structs:[],library:[],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"sig",type:"Sig"}]},{type:"constructor",params:[{name:"pubKey",type:"PubKey"}]}],stateProps:[],buildType:"release",file:"",hex:"<pubKey>ac",sourceMapFile:""};w3.loadArtifact(Pxe)});var NX=j(R_=>{"use strict";B();M();Object.defineProperty(R_,"__esModule",{value:!0});R_.bsv=void 0;var RX=Tr();Object.defineProperty(R_,"bsv",{enumerable:!0,get:function(){return RX.bsv}});RX.bsv.PrivateKey.prototype.toByteString=function(){return this.toHex()}});var HX=j(N_=>{"use strict";B();M();Object.defineProperty(N_,"__esModule",{value:!0});N_.bsv=void 0;var FX=Tr();Object.defineProperty(N_,"bsv",{enumerable:!0,get:function(){return FX.bsv}});FX.bsv.PublicKey.prototype.toByteString=function(){return this.toHex()}});var LX=j(F_=>{"use strict";B();M();Object.defineProperty(F_,"__esModule",{value:!0});F_.bsv=void 0;var DX=Tr();Object.defineProperty(F_,"bsv",{enumerable:!0,get:function(){return DX.bsv}});DX.bsv.Address.prototype.toByteString=function(){return this.toHex().slice(2)}});var eB=j(oh=>{"use strict";B();M();var Oxe=oh&&oh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QO=oh&&oh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Oxe(e,t,r)};Object.defineProperty(oh,"__esModule",{value:!0});QO(NX(),oh);QO(HX(),oh);QO(LX(),oh)});var UX=j(H_=>{"use strict";B();M();Object.defineProperty(H_,"__esModule",{value:!0});H_.SignatureHashType=void 0;var Bxe=Jd();Object.defineProperty(H_,"SignatureHashType",{enumerable:!0,get:function(){return Bxe.SignatureHashType}})});var jX=j(qX=>{"use strict";B();M();Object.defineProperty(qX,"__esModule",{value:!0})});var KX=j(Jp=>{"use strict";B();M();var Mxe=Jp&&Jp.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kxe=Jp&&Jp.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Mxe(e,t,r)};Object.defineProperty(Jp,"__esModule",{value:!0});kxe(jX(),Jp)});var $X=j((uct,tB)=>{B();M();typeof tB<"u"&&(tB.exports=Fu);function Fu(t){if(t)return Cxe(t)}function Cxe(t){for(var e in Fu.prototype)t[e]=Fu.prototype[e];return t}Fu.prototype.on=Fu.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Fu.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Fu.prototype.off=Fu.prototype.removeListener=Fu.prototype.removeAllListeners=Fu.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Fu.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Fu.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Fu.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var XX=j((dct,YX)=>{B();M();YX.exports=vg;vg.default=vg;vg.stable=GX;vg.stableStringify=GX;var D_="[...]",zX="[Circular]",e7=[],Qp=[];function VX(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function vg(t,e,r,n){typeof n>"u"&&(n=VX()),rB(t,"",0,[],void 0,0,n);var i;try{Qp.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,WX(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;e7.length!==0;){var s=e7.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function x3(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),e7.push([n,r,e,i])):Qp.push([e,r,t]):(n[r]=t,e7.push([n,r,e]))}function rB(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){x3(zX,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){x3(D_,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){x3(D_,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)rB(t[a],a,a,n,t,s,o);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var c=u[a];rB(t[c],c,a,n,t,s,o)}}n.pop()}}function Rxe(t,e){return t<e?-1:t>e?1:0}function GX(t,e,r,n){typeof n>"u"&&(n=VX());var i=nB(t,"",0,[],void 0,0,n)||t,s;try{Qp.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,WX(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;e7.length!==0;){var o=e7.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function nB(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){x3(zX,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){x3(D_,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){x3(D_,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)nB(t[a],a,a,n,t,s,o);else{var u={},c=Object.keys(t).sort(Rxe);for(a=0;a<c.length;a++){var d=c[a];nB(t[d],d,a,n,t,s,o),u[d]=t[d]}if(typeof i<"u")e7.push([i,e,t]),i[e]=u;else return u}n.pop()}}function WX(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Qp.length>0)for(var n=0;n<Qp.length;n++){var i=Qp[n];if(i[1]===e&&i[0]===r){r=i[2],Qp.splice(n,1);break}}return t.call(this,e,r)}}});var JX=j((pct,ZX)=>{"use strict";B();M();ZX.exports=Error});var eZ=j((mct,QX)=>{"use strict";B();M();QX.exports=EvalError});var rZ=j((_ct,tZ)=>{"use strict";B();M();tZ.exports=RangeError});var iZ=j((xct,nZ)=>{"use strict";B();M();nZ.exports=ReferenceError});var iB=j((Tct,sZ)=>{"use strict";B();M();sZ.exports=SyntaxError});var E3=j((Oct,oZ)=>{"use strict";B();M();oZ.exports=TypeError});var uZ=j((kct,aZ)=>{"use strict";B();M();aZ.exports=URIError});var fZ=j((Nct,cZ)=>{"use strict";B();M();cZ.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}});var sB=j((Dct,hZ)=>{"use strict";B();M();var dZ=typeof Symbol<"u"&&Symbol,Nxe=fZ();hZ.exports=function(){return typeof dZ!="function"||typeof Symbol!="function"||typeof dZ("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Nxe()}});var bZ=j((qct,pZ)=>{"use strict";B();M();var lZ={foo:{}},Fxe=Object;pZ.exports=function(){return{__proto__:lZ}.foo===lZ.foo&&!({__proto__:null}instanceof Fxe)}});var yZ=j(($ct,mZ)=>{"use strict";B();M();var Hxe="Function.prototype.bind called on incompatible ",Dxe=Object.prototype.toString,Lxe=Math.max,Uxe="[object Function]",gZ=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},qxe=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},jxe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};mZ.exports=function(e){var r=this;if(typeof r!="function"||Dxe.apply(r)!==Uxe)throw new TypeError(Hxe+r);for(var n=qxe(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,gZ(n,arguments));return Object(d)===d?d:this}return r.apply(e,gZ(n,arguments))},o=Lxe(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+jxe(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i}});var _Z=j((Gct,vZ)=>{"use strict";B();M();var Kxe=yZ();vZ.exports=Function.prototype.bind||Kxe});var xZ=j((Xct,wZ)=>{"use strict";B();M();var $xe="Function.prototype.bind called on incompatible ",zxe=Object.prototype.toString,Vxe=Math.max,Gxe="[object Function]",SZ=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},Wxe=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},Yxe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};wZ.exports=function(e){var r=this;if(typeof r!="function"||zxe.apply(r)!==Gxe)throw new TypeError($xe+r);for(var n=Wxe(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,SZ(n,arguments));return Object(d)===d?d:this}return r.apply(e,SZ(n,arguments))},o=Vxe(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+Yxe(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i}});var AZ=j((Qct,EZ)=>{"use strict";B();M();var Xxe=xZ();EZ.exports=Function.prototype.bind||Xxe});var IZ=j((rft,TZ)=>{"use strict";B();M();var Zxe=Function.prototype.call,Jxe=Object.prototype.hasOwnProperty,Qxe=AZ();TZ.exports=Qxe.call(Zxe,Jxe)});var O3=j((sft,kZ)=>{"use strict";B();M();var $r,eEe=JX(),tEe=eZ(),rEe=rZ(),nEe=iZ(),P3=iB(),I3=E3(),iEe=uZ(),MZ=Function,oB=function(t){try{return MZ('"use strict"; return ('+t+").constructor;")()}catch{}},t7=Object.getOwnPropertyDescriptor;if(t7)try{t7({},"")}catch{t7=null}var aB=function(){throw new I3},sEe=t7?function(){try{return arguments.callee,aB}catch{try{return t7(arguments,"callee").get}catch{return aB}}}():aB,A3=sB()(),oEe=bZ()(),oo=Object.getPrototypeOf||(oEe?function(t){return t.__proto__}:null),T3={},aEe=typeof Uint8Array>"u"||!oo?$r:oo(Uint8Array),r7={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?$r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?$r:ArrayBuffer,"%ArrayIteratorPrototype%":A3&&oo?oo([][Symbol.iterator]()):$r,"%AsyncFromSyncIteratorPrototype%":$r,"%AsyncFunction%":T3,"%AsyncGenerator%":T3,"%AsyncGeneratorFunction%":T3,"%AsyncIteratorPrototype%":T3,"%Atomics%":typeof Atomics>"u"?$r:Atomics,"%BigInt%":typeof BigInt>"u"?$r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?$r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?$r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?$r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":eEe,"%eval%":eval,"%EvalError%":tEe,"%Float32Array%":typeof Float32Array>"u"?$r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?$r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?$r:FinalizationRegistry,"%Function%":MZ,"%GeneratorFunction%":T3,"%Int8Array%":typeof Int8Array>"u"?$r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?$r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?$r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A3&&oo?oo(oo([][Symbol.iterator]())):$r,"%JSON%":typeof JSON=="object"?JSON:$r,"%Map%":typeof Map>"u"?$r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!A3||!oo?$r:oo(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?$r:Promise,"%Proxy%":typeof Proxy>"u"?$r:Proxy,"%RangeError%":rEe,"%ReferenceError%":nEe,"%Reflect%":typeof Reflect>"u"?$r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?$r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!A3||!oo?$r:oo(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?$r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A3&&oo?oo(""[Symbol.iterator]()):$r,"%Symbol%":A3?Symbol:$r,"%SyntaxError%":P3,"%ThrowTypeError%":sEe,"%TypedArray%":aEe,"%TypeError%":I3,"%Uint8Array%":typeof Uint8Array>"u"?$r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?$r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?$r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?$r:Uint32Array,"%URIError%":iEe,"%WeakMap%":typeof WeakMap>"u"?$r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?$r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?$r:WeakSet};if(oo)try{null.error}catch(t){PZ=oo(oo(t)),r7["%Error.prototype%"]=PZ}var PZ,uEe=function t(e){var r;if(e==="%AsyncFunction%")r=oB("async function () {}");else if(e==="%GeneratorFunction%")r=oB("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=oB("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&oo&&(r=oo(i.prototype))}return r7[e]=r,r},OZ={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_g=_Z(),L_=IZ(),cEe=_g.call(Function.call,Array.prototype.concat),fEe=_g.call(Function.apply,Array.prototype.splice),BZ=_g.call(Function.call,String.prototype.replace),U_=_g.call(Function.call,String.prototype.slice),dEe=_g.call(Function.call,RegExp.prototype.exec),hEe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lEe=/\\(\\)?/g,pEe=function(e){var r=U_(e,0,1),n=U_(e,-1);if(r==="%"&&n!=="%")throw new P3("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new P3("invalid intrinsic syntax, expected opening `%`");var i=[];return BZ(e,hEe,function(s,o,a,u){i[i.length]=a?BZ(u,lEe,"$1"):o||s}),i},bEe=function(e,r){var n=e,i;if(L_(OZ,n)&&(i=OZ[n],n="%"+i[0]+"%"),L_(r7,n)){var s=r7[n];if(s===T3&&(s=uEe(n)),typeof s>"u"&&!r)throw new I3("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new P3("intrinsic "+e+" does not exist!")};kZ.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new I3("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new I3('"allowMissing" argument must be a boolean');if(dEe(/^%?[^%]*%?$/,e)===null)throw new P3("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=pEe(e),i=n.length>0?n[0]:"",s=bEe("%"+i+"%",r),o=s.name,a=s.value,u=!1,c=s.alias;c&&(i=c[0],fEe(n,cEe([0,1],c)));for(var d=1,f=!0;d<n.length;d+=1){var m=n[d],p=U_(m,0,1),y=U_(m,-1);if((p==='"'||p==="'"||p==="`"||y==='"'||y==="'"||y==="`")&&p!==y)throw new P3("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(u=!0),i+="."+m,o="%"+i+"%",L_(r7,o))a=r7[o];else if(a!=null){if(!(m in a)){if(!r)throw new I3("base intrinsic for "+e+" exists, but the property is not available.");return}if(t7&&d+1>=n.length){var w=t7(a,m);f=!!w,f&&"get"in w&&!("originalValue"in w.get)?a=w.get:a=a[m]}else f=L_(a,m),a=a[m];f&&!u&&(r7[o]=a)}}return a}});var NZ=j((uft,RZ)=>{"use strict";B();M();var gEe="Function.prototype.bind called on incompatible ",mEe=Object.prototype.toString,yEe=Math.max,vEe="[object Function]",CZ=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},_Ee=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},SEe=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r};RZ.exports=function(e){var r=this;if(typeof r!="function"||mEe.apply(r)!==vEe)throw new TypeError(gEe+r);for(var n=_Ee(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,CZ(n,arguments));return Object(d)===d?d:this}return r.apply(e,CZ(n,arguments))},o=yEe(0,r.length-n.length),a=[],u=0;u<o;u++)a[u]="$"+u;if(i=Function("binder","return function ("+SEe(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i}});var HZ=j((dft,FZ)=>{"use strict";B();M();var wEe=NZ();FZ.exports=Function.prototype.bind||wEe});var j_=j((pft,DZ)=>{"use strict";B();M();var xEe=O3(),q_=xEe("%Object.defineProperty%",!0)||!1;if(q_)try{q_({},"a",{value:1})}catch{q_=!1}DZ.exports=q_});var UZ=j((mft,LZ)=>{"use strict";B();M();var EEe="Function.prototype.bind called on incompatible ",uB=Array.prototype.slice,AEe=Object.prototype.toString,TEe="[object Function]";LZ.exports=function(e){var r=this;if(typeof r!="function"||AEe.call(r)!==TEe)throw new TypeError(EEe+r);for(var n=uB.call(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,n.concat(uB.call(arguments)));return Object(d)===d?d:this}else return r.apply(e,n.concat(uB.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],u=0;u<o;u++)a.push("$"+u);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i}});var cB=j((_ft,qZ)=>{"use strict";B();M();var IEe=UZ();qZ.exports=Function.prototype.bind||IEe});var KZ=j((xft,jZ)=>{"use strict";B();M();var PEe=cB();jZ.exports=PEe.call(Function.call,Object.prototype.hasOwnProperty)});var YZ=j((Tft,WZ)=>{"use strict";B();M();var zr,C3=SyntaxError,GZ=Function,k3=TypeError,fB=function(t){try{return GZ('"use strict"; return ('+t+").constructor;")()}catch{}},n7=Object.getOwnPropertyDescriptor;if(n7)try{n7({},"")}catch{n7=null}var dB=function(){throw new k3},OEe=n7?function(){try{return arguments.callee,dB}catch{try{return n7(arguments,"callee").get}catch{return dB}}}():dB,B3=sB()(),V0=Object.getPrototypeOf||function(t){return t.__proto__},M3={},BEe=typeof Uint8Array>"u"?zr:V0(Uint8Array),i7={"%AggregateError%":typeof AggregateError>"u"?zr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?zr:ArrayBuffer,"%ArrayIteratorPrototype%":B3?V0([][Symbol.iterator]()):zr,"%AsyncFromSyncIteratorPrototype%":zr,"%AsyncFunction%":M3,"%AsyncGenerator%":M3,"%AsyncGeneratorFunction%":M3,"%AsyncIteratorPrototype%":M3,"%Atomics%":typeof Atomics>"u"?zr:Atomics,"%BigInt%":typeof BigInt>"u"?zr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?zr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?zr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?zr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?zr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?zr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?zr:FinalizationRegistry,"%Function%":GZ,"%GeneratorFunction%":M3,"%Int8Array%":typeof Int8Array>"u"?zr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?zr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?zr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":B3?V0(V0([][Symbol.iterator]())):zr,"%JSON%":typeof JSON=="object"?JSON:zr,"%Map%":typeof Map>"u"?zr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!B3?zr:V0(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?zr:Promise,"%Proxy%":typeof Proxy>"u"?zr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?zr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?zr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!B3?zr:V0(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?zr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":B3?V0(""[Symbol.iterator]()):zr,"%Symbol%":B3?Symbol:zr,"%SyntaxError%":C3,"%ThrowTypeError%":OEe,"%TypedArray%":BEe,"%TypeError%":k3,"%Uint8Array%":typeof Uint8Array>"u"?zr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?zr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?zr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?zr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?zr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?zr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?zr:WeakSet};try{null.error}catch(t){$Z=V0(V0(t)),i7["%Error.prototype%"]=$Z}var $Z,MEe=function t(e){var r;if(e==="%AsyncFunction%")r=fB("async function () {}");else if(e==="%GeneratorFunction%")r=fB("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=fB("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=V0(i.prototype))}return i7[e]=r,r},zZ={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Sg=cB(),K_=KZ(),kEe=Sg.call(Function.call,Array.prototype.concat),CEe=Sg.call(Function.apply,Array.prototype.splice),VZ=Sg.call(Function.call,String.prototype.replace),$_=Sg.call(Function.call,String.prototype.slice),REe=Sg.call(Function.call,RegExp.prototype.exec),NEe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,FEe=/\\(\\)?/g,HEe=function(e){var r=$_(e,0,1),n=$_(e,-1);if(r==="%"&&n!=="%")throw new C3("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new C3("invalid intrinsic syntax, expected opening `%`");var i=[];return VZ(e,NEe,function(s,o,a,u){i[i.length]=a?VZ(u,FEe,"$1"):o||s}),i},DEe=function(e,r){var n=e,i;if(K_(zZ,n)&&(i=zZ[n],n="%"+i[0]+"%"),K_(i7,n)){var s=i7[n];if(s===M3&&(s=MEe(n)),typeof s>"u"&&!r)throw new k3("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new C3("intrinsic "+e+" does not exist!")};WZ.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new k3("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new k3('"allowMissing" argument must be a boolean');if(REe(/^%?[^%]*%?$/,e)===null)throw new C3("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=HEe(e),i=n.length>0?n[0]:"",s=DEe("%"+i+"%",r),o=s.name,a=s.value,u=!1,c=s.alias;c&&(i=c[0],CEe(n,kEe([0,1],c)));for(var d=1,f=!0;d<n.length;d+=1){var m=n[d],p=$_(m,0,1),y=$_(m,-1);if((p==='"'||p==="'"||p==="`"||y==='"'||y==="'"||y==="`")&&p!==y)throw new C3("property names with quotes must have matching quotes");if((m==="constructor"||!f)&&(u=!0),i+="."+m,o="%"+i+"%",K_(i7,o))a=i7[o];else if(a!=null){if(!(m in a)){if(!r)throw new k3("base intrinsic for "+e+" exists, but the property is not available.");return}if(n7&&d+1>=n.length){var w=n7(a,m);f=!!w,f&&"get"in w&&!("originalValue"in w.get)?a=w.get:a=a[m]}else f=K_(a,m),a=a[m];f&&!u&&(i7[o]=a)}}return a}});var hB=j((Oft,XZ)=>{"use strict";B();M();var LEe=YZ(),z_=LEe("%Object.getOwnPropertyDescriptor%",!0);if(z_)try{z_([],"length")}catch{z_=null}XZ.exports=z_});var eJ=j((kft,QZ)=>{"use strict";B();M();var ZZ=j_(),UEe=iB(),R3=E3(),JZ=hB();QZ.exports=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new R3("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new R3("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new R3("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new R3("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new R3("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new R3("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,u=!!JZ&&JZ(e,r);if(ZZ)ZZ(e,r,{configurable:o===null&&u?u.configurable:!o,enumerable:i===null&&u?u.enumerable:!i,value:n,writable:s===null&&u?u.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new UEe("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var nJ=j((Nft,rJ)=>{"use strict";B();M();var lB=j_(),tJ=function(){return!!lB};tJ.hasArrayLengthDefineBug=function(){if(!lB)return null;try{return lB([],"length",{value:1}).length!==1}catch{return!0}};rJ.exports=tJ});var uJ=j((Dft,aJ)=>{"use strict";B();M();var qEe=O3(),iJ=eJ(),jEe=nJ()(),sJ=hB(),oJ=E3(),KEe=qEe("%Math.floor%");aJ.exports=function(e,r){if(typeof e!="function")throw new oJ("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||KEe(r)!==r)throw new oJ("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&sJ){var o=sJ(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(jEe?iJ(e,"length",r,!0,!0):iJ(e,"length",r)),e}});var pJ=j((qft,V_)=>{"use strict";B();M();var pB=HZ(),G_=O3(),$Ee=uJ(),zEe=E3(),dJ=G_("%Function.prototype.apply%"),hJ=G_("%Function.prototype.call%"),lJ=G_("%Reflect.apply%",!0)||pB.call(hJ,dJ),cJ=j_(),VEe=G_("%Math.max%");V_.exports=function(e){if(typeof e!="function")throw new zEe("a function is required");var r=lJ(pB,hJ,arguments);return $Ee(r,1+VEe(0,e.length-(arguments.length-1)),!0)};var fJ=function(){return lJ(pB,dJ,arguments)};cJ?cJ(V_.exports,"apply",{value:fJ}):V_.exports.apply=fJ});var yJ=j(($ft,mJ)=>{"use strict";B();M();var bJ=O3(),gJ=pJ(),GEe=gJ(bJ("String.prototype.indexOf"));mJ.exports=function(e,r){var n=bJ(e,!!r);return typeof n=="function"&&GEe(e,".prototype.")>-1?gJ(n):n}});var vJ=j(()=>{B();M()});var LJ=j((Zft,DJ)=>{B();M();var EB=typeof Map=="function"&&Map.prototype,bB=Object.getOwnPropertyDescriptor&&EB?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Y_=EB&&bB&&typeof bB.get=="function"?bB.get:null,_J=EB&&Map.prototype.forEach,AB=typeof Set=="function"&&Set.prototype,gB=Object.getOwnPropertyDescriptor&&AB?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,X_=AB&&gB&&typeof gB.get=="function"?gB.get:null,SJ=AB&&Set.prototype.forEach,WEe=typeof WeakMap=="function"&&WeakMap.prototype,xg=WEe?WeakMap.prototype.has:null,YEe=typeof WeakSet=="function"&&WeakSet.prototype,Eg=YEe?WeakSet.prototype.has:null,XEe=typeof WeakRef=="function"&&WeakRef.prototype,wJ=XEe?WeakRef.prototype.deref:null,ZEe=Boolean.prototype.valueOf,JEe=Object.prototype.toString,QEe=Function.prototype.toString,eAe=String.prototype.match,TB=String.prototype.slice,p1=String.prototype.replace,tAe=String.prototype.toUpperCase,xJ=String.prototype.toLowerCase,kJ=RegExp.prototype.test,EJ=Array.prototype.concat,G0=Array.prototype.join,rAe=Array.prototype.slice,AJ=Math.floor,vB=typeof BigInt=="function"?BigInt.prototype.valueOf:null,mB=Object.getOwnPropertySymbols,_B=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,N3=typeof Symbol=="function"&&typeof Symbol.iterator=="object",aa=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===N3?"object":"symbol")?Symbol.toStringTag:null,CJ=Object.prototype.propertyIsEnumerable,TJ=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function IJ(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||kJ.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-AJ(-t):AJ(t);if(n!==t){var i=String(n),s=TB.call(e,i.length+1);return p1.call(i,r,"$&_")+"."+p1.call(p1.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return p1.call(e,r,"$&_")}var SB=vJ(),PJ=SB.custom,OJ=NJ(PJ)?PJ:null;DJ.exports=function t(e,r,n,i){var s=r||{};if(l1(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(l1(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=l1(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(l1(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(l1(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return HJ(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?IJ(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return a?IJ(e,c):c}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return wB(e)?"[Array]":"[Object]";var f=_Ae(s,n);if(typeof i>"u")i=[];else if(FJ(i,e)>=0)return"[Circular]";function m(b,_,x){if(_&&(i=rAe.call(i),i.push(_)),x){var I={depth:s.depth};return l1(s,"quoteStyle")&&(I.quoteStyle=s.quoteStyle),t(b,I,n+1,i)}return t(b,s,n+1,i)}if(typeof e=="function"&&!BJ(e)){var p=dAe(e),y=W_(e,m);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(y.length>0?" { "+G0.call(y,", ")+" }":"")}if(NJ(e)){var w=N3?p1.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):_B.call(e);return typeof e=="object"&&!N3?wg(w):w}if(mAe(e)){for(var P="<"+xJ.call(String(e.nodeName)),C=e.attributes||[],R=0;R<C.length;R++)P+=" "+C[R].name+"="+RJ(nAe(C[R].value),"double",s);return P+=">",e.childNodes&&e.childNodes.length&&(P+="..."),P+="</"+xJ.call(String(e.nodeName))+">",P}if(wB(e)){if(e.length===0)return"[]";var T=W_(e,m);return f&&!vAe(T)?"["+xB(T,f)+"]":"[ "+G0.call(T,", ")+" ]"}if(sAe(e)){var k=W_(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!CJ.call(e,"cause")?"{ ["+String(e)+"] "+G0.call(EJ.call("[cause]: "+m(e.cause),k),", ")+" }":k.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+G0.call(k,", ")+" }"}if(typeof e=="object"&&o){if(OJ&&typeof e[OJ]=="function"&&SB)return SB(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(hAe(e)){var H=[];return _J&&_J.call(e,function(b,_){H.push(m(_,e,!0)+" => "+m(b,e))}),MJ("Map",Y_.call(e),H,f)}if(bAe(e)){var F=[];return SJ&&SJ.call(e,function(b){F.push(m(b,e))}),MJ("Set",X_.call(e),F,f)}if(lAe(e))return yB("WeakMap");if(gAe(e))return yB("WeakSet");if(pAe(e))return yB("WeakRef");if(aAe(e))return wg(m(Number(e)));if(cAe(e))return wg(m(vB.call(e)));if(uAe(e))return wg(ZEe.call(e));if(oAe(e))return wg(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===globalThis)return"{ [object globalThis] }";if(!iAe(e)&&!BJ(e)){var L=W_(e,m),D=TJ?TJ(e)===Object.prototype:e instanceof Object||e.constructor===Object,N=e instanceof Object?"":"null prototype",g=!D&&aa&&Object(e)===e&&aa in e?TB.call(b1(e),8,-1):N?"Object":"",h=D||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",l=h+(g||N?"["+G0.call(EJ.call([],g||[],N||[]),": ")+"] ":"");return L.length===0?l+"{}":f?l+"{"+xB(L,f)+"}":l+"{ "+G0.call(L,", ")+" }"}return String(e)};function RJ(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function nAe(t){return p1.call(String(t),/"/g,"&quot;")}function wB(t){return b1(t)==="[object Array]"&&(!aa||!(typeof t=="object"&&aa in t))}function iAe(t){return b1(t)==="[object Date]"&&(!aa||!(typeof t=="object"&&aa in t))}function BJ(t){return b1(t)==="[object RegExp]"&&(!aa||!(typeof t=="object"&&aa in t))}function sAe(t){return b1(t)==="[object Error]"&&(!aa||!(typeof t=="object"&&aa in t))}function oAe(t){return b1(t)==="[object String]"&&(!aa||!(typeof t=="object"&&aa in t))}function aAe(t){return b1(t)==="[object Number]"&&(!aa||!(typeof t=="object"&&aa in t))}function uAe(t){return b1(t)==="[object Boolean]"&&(!aa||!(typeof t=="object"&&aa in t))}function NJ(t){if(N3)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!_B)return!1;try{return _B.call(t),!0}catch{}return!1}function cAe(t){if(!t||typeof t!="object"||!vB)return!1;try{return vB.call(t),!0}catch{}return!1}var fAe=Object.prototype.hasOwnProperty||function(t){return t in this};function l1(t,e){return fAe.call(t,e)}function b1(t){return JEe.call(t)}function dAe(t){if(t.name)return t.name;var e=eAe.call(QEe.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function FJ(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function hAe(t){if(!Y_||!t||typeof t!="object")return!1;try{Y_.call(t);try{X_.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function lAe(t){if(!xg||!t||typeof t!="object")return!1;try{xg.call(t,xg);try{Eg.call(t,Eg)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function pAe(t){if(!wJ||!t||typeof t!="object")return!1;try{return wJ.call(t),!0}catch{}return!1}function bAe(t){if(!X_||!t||typeof t!="object")return!1;try{X_.call(t);try{Y_.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function gAe(t){if(!Eg||!t||typeof t!="object")return!1;try{Eg.call(t,Eg);try{xg.call(t,xg)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function mAe(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function HJ(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return HJ(TB.call(t,0,e.maxStringLength),e)+n}var i=p1.call(p1.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,yAe);return RJ(i,"single",e)}function yAe(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+tAe.call(e.toString(16))}function wg(t){return"Object("+t+")"}function yB(t){return t+" { ? }"}function MJ(t,e,r,n){var i=n?xB(r,n):G0.call(r,", ");return t+" ("+e+") {"+i+"}"}function vAe(t){for(var e=0;e<t.length;e++)if(FJ(t[e],`
`)>=0)return!1;return!0}function _Ae(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=G0.call(Array(t.indent+1)," ");else return null;return{base:r,prev:G0.call(Array(e+1),r)}}function xB(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+G0.call(t,","+r)+`
`+e.prev}function W_(t,e){var r=wB(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=l1(t,i)?e(t[i],t):""}var s=typeof mB=="function"?mB(t):[],o;if(N3){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)!l1(t,u)||r&&String(Number(u))===u&&u<t.length||N3&&o["$"+u]instanceof Symbol||(kJ.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t)));if(typeof mB=="function")for(var c=0;c<s.length;c++)CJ.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}});var jJ=j((e0t,qJ)=>{"use strict";B();M();var UJ=O3(),F3=yJ(),SAe=LJ(),wAe=E3(),Z_=UJ("%WeakMap%",!0),J_=UJ("%Map%",!0),xAe=F3("WeakMap.prototype.get",!0),EAe=F3("WeakMap.prototype.set",!0),AAe=F3("WeakMap.prototype.has",!0),TAe=F3("Map.prototype.get",!0),IAe=F3("Map.prototype.set",!0),PAe=F3("Map.prototype.has",!0),IB=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},OAe=function(t,e){var r=IB(t,e);return r&&r.value},BAe=function(t,e,r){var n=IB(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},MAe=function(t,e){return!!IB(t,e)};qJ.exports=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new wAe("Side channel does not contain "+SAe(s))},get:function(s){if(Z_&&s&&(typeof s=="object"||typeof s=="function")){if(e)return xAe(e,s)}else if(J_){if(r)return TAe(r,s)}else if(n)return OAe(n,s)},has:function(s){if(Z_&&s&&(typeof s=="object"||typeof s=="function")){if(e)return AAe(e,s)}else if(J_){if(r)return PAe(r,s)}else if(n)return MAe(n,s);return!1},set:function(s,o){Z_&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Z_),EAe(e,s,o)):J_?(r||(r=new J_),IAe(r,s,o)):(n||(n={key:{},next:null}),BAe(n,s,o))}};return i}});var Q_=j((n0t,KJ)=>{"use strict";B();M();var kAe=String.prototype.replace,CAe=/%20/g,PB={RFC1738:"RFC1738",RFC3986:"RFC3986"};KJ.exports={default:PB.RFC3986,formatters:{RFC1738:function(t){return kAe.call(t,CAe,"+")},RFC3986:function(t){return String(t)}},RFC1738:PB.RFC1738,RFC3986:PB.RFC3986}});var MB=j((o0t,zJ)=>{"use strict";B();M();var RAe=Q_(),OB=Object.prototype.hasOwnProperty,s7=Array.isArray,W0=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),NAe=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(s7(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},$J=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},FAe=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(s7(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!OB.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return s7(e)&&!s7(r)&&(i=$J(e,n)),s7(e)&&s7(r)?(r.forEach(function(s,o){if(OB.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return OB.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},HAe=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},DAe=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},BB=1024,LAe=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(p){return"%26%23"+parseInt(p.slice(2),16)+"%3B"});for(var a="",u=0;u<o.length;u+=BB){for(var c=o.length>=BB?o.slice(u,u+BB):o,d=[],f=0;f<c.length;++f){var m=c.charCodeAt(f);if(m===45||m===46||m===95||m===126||m>=48&&m<=57||m>=65&&m<=90||m>=97&&m<=122||s===RAe.RFC1738&&(m===40||m===41)){d[d.length]=c.charAt(f);continue}if(m<128){d[d.length]=W0[m];continue}if(m<2048){d[d.length]=W0[192|m>>6]+W0[128|m&63];continue}if(m<55296||m>=57344){d[d.length]=W0[224|m>>12]+W0[128|m>>6&63]+W0[128|m&63];continue}f+=1,m=65536+((m&1023)<<10|c.charCodeAt(f)&1023),d[d.length]=W0[240|m>>18]+W0[128|m>>12&63]+W0[128|m>>6&63]+W0[128|m&63]}a+=d.join("")}return a},UAe=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),u=0;u<a.length;++u){var c=a[u],d=o[c];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:c}),n.push(d))}return NAe(r),e},qAe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},jAe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},KAe=function(e,r){return[].concat(e,r)},$Ae=function(e,r){if(s7(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)};zJ.exports={arrayToObject:$J,assign:HAe,combine:KAe,compact:UAe,decode:DAe,encode:LAe,isBuffer:jAe,isRegExp:qAe,maybeMap:$Ae,merge:FAe}});var ZJ=j((c0t,XJ)=>{"use strict";B();M();var GJ=jJ(),eS=MB(),Ag=Q_(),zAe=Object.prototype.hasOwnProperty,WJ={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Y0=Array.isArray,VAe=Array.prototype.push,YJ=function(t,e){VAe.apply(t,Y0(e)?e:[e])},GAe=Date.prototype.toISOString,VJ=Ag.default,Ns={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:eS.encode,encodeValuesOnly:!1,format:VJ,formatter:Ag.formatters[VJ],indices:!1,serializeDate:function(e){return GAe.call(e)},skipNulls:!1,strictNullHandling:!1},WAe=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},kB={},YAe=function t(e,r,n,i,s,o,a,u,c,d,f,m,p,y,w,P,C,R){for(var T=e,k=R,H=0,F=!1;(k=k.get(kB))!==void 0&&!F;){var L=k.get(e);if(H+=1,typeof L<"u"){if(L===H)throw new RangeError("Cyclic object value");F=!0}typeof k.get(kB)>"u"&&(H=0)}if(typeof d=="function"?T=d(r,T):T instanceof Date?T=p(T):n==="comma"&&Y0(T)&&(T=eS.maybeMap(T,function(O){return O instanceof Date?p(O):O})),T===null){if(o)return c&&!P?c(r,Ns.encoder,C,"key",y):r;T=""}if(WAe(T)||eS.isBuffer(T)){if(c){var D=P?r:c(r,Ns.encoder,C,"key",y);return[w(D)+"="+w(c(T,Ns.encoder,C,"value",y))]}return[w(r)+"="+w(String(T))]}var N=[];if(typeof T>"u")return N;var g;if(n==="comma"&&Y0(T))P&&c&&(T=eS.maybeMap(T,c)),g=[{value:T.length>0?T.join(",")||null:void 0}];else if(Y0(d))g=d;else{var h=Object.keys(T);g=f?h.sort(f):h}var l=u?r.replace(/\./g,"%2E"):r,b=i&&Y0(T)&&T.length===1?l+"[]":l;if(s&&Y0(T)&&T.length===0)return b+"[]";for(var _=0;_<g.length;++_){var x=g[_],I=typeof x=="object"&&typeof x.value<"u"?x.value:T[x];if(!(a&&I===null)){var A=m&&u?x.replace(/\./g,"%2E"):x,v=Y0(T)?typeof n=="function"?n(b,A):b:b+(m?"."+A:"["+A+"]");R.set(e,H);var S=GJ();S.set(kB,R),YJ(N,t(I,v,n,i,s,o,a,u,n==="comma"&&P&&Y0(T)?null:c,d,f,m,p,y,w,P,C,S))}}return N},XAe=function(e){if(!e)return Ns;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Ns.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ag.default;if(typeof e.format<"u"){if(!zAe.call(Ag.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Ag.formatters[n],s=Ns.filter;(typeof e.filter=="function"||Y0(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in WJ?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Ns.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Ns.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Ns.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ns.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ns.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Ns.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Ns.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Ns.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Ns.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Ns.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Ns.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Ns.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ns.strictNullHandling}};XJ.exports=function(t,e){var r=t,n=XAe(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Y0(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=WJ[n.arrayFormat],u=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=GJ(),d=0;d<i.length;++d){var f=i[d];n.skipNulls&&r[f]===null||YJ(o,YAe(r[f],f,a,u,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var m=o.join(n.delimiter),p=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?p+="utf8=%26%2310003%3B&":p+="utf8=%E2%9C%93&"),m.length>0?p+m:""}});var eQ=j((h0t,QJ)=>{"use strict";B();M();var H3=MB(),CB=Object.prototype.hasOwnProperty,ZAe=Array.isArray,Hi={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:H3.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},JAe=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},JJ=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},QAe="utf8=%26%2310003%3B",eTe="utf8=%E2%9C%93",tTe=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,u,c=r.charset;if(r.charsetSentinel)for(u=0;u<o.length;++u)o[u].indexOf("utf8=")===0&&(o[u]===eTe?c="utf-8":o[u]===QAe&&(c="iso-8859-1"),a=u,u=o.length);for(u=0;u<o.length;++u)if(u!==a){var d=o[u],f=d.indexOf("]="),m=f===-1?d.indexOf("="):f+1,p,y;m===-1?(p=r.decoder(d,Hi.decoder,c,"key"),y=r.strictNullHandling?null:""):(p=r.decoder(d.slice(0,m),Hi.decoder,c,"key"),y=H3.maybeMap(JJ(d.slice(m+1),r),function(P){return r.decoder(P,Hi.decoder,c,"value")})),y&&r.interpretNumericEntities&&c==="iso-8859-1"&&(y=JAe(y)),d.indexOf("[]=")>-1&&(y=ZAe(y)?[y]:y);var w=CB.call(n,p);w&&r.duplicates==="combine"?n[p]=H3.combine(n[p],y):(!w||r.duplicates==="last")&&(n[p]=y)}return n},rTe=function(t,e,r,n){for(var i=n?e:JJ(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,d=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(d)&&a!==c&&String(d)===c&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},nTe=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,u=n.depth>0&&o.exec(s),c=u?s.slice(0,u.index):s,d=[];if(c){if(!n.plainObjects&&CB.call(Object.prototype,c)&&!n.allowPrototypes)return;d.push(c)}for(var f=0;n.depth>0&&(u=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&CB.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(u[1])}if(u){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");d.push("["+s.slice(u.index)+"]")}return rTe(d,r,n,i)}},iTe=function(e){if(!e)return Hi;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Hi.charset:e.charset,n=typeof e.duplicates>"u"?Hi.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Hi.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Hi.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Hi.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Hi.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Hi.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Hi.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Hi.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Hi.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Hi.decoder,delimiter:typeof e.delimiter=="string"||H3.isRegExp(e.delimiter)?e.delimiter:Hi.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Hi.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Hi.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Hi.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Hi.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Hi.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Hi.strictNullHandling}};QJ.exports=function(t,e){var r=iTe(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?tTe(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=nTe(a,n[a],r,typeof t=="string");i=H3.merge(i,u,r)}return r.allowSparse===!0?i:H3.compact(i)}});var rQ=j((b0t,tQ)=>{"use strict";B();M();var sTe=ZJ(),oTe=eQ(),aTe=Q_();tQ.exports={formats:aTe,parse:oTe,stringify:sTe}});var nQ=j(()=>{B();M()});var tS=j(ah=>{"use strict";B();M();function sQ(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=uTe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function uTe(t,e){if(!!t){if(typeof t=="string")return iQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iQ(t,e)}}function iQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}ah.type=t=>t.split(/ *; */).shift();ah.params=t=>{let e={};var r=sQ(t.split(/ *; */)),n;try{for(r.s();!(n=r.n()).done;){let s=n.value.split(/ *= */),o=s.shift(),a=s.shift();o&&a&&(e[o]=a)}}catch(i){r.e(i)}finally{r.f()}return e};ah.parseLinks=t=>{let e={};var r=sQ(t.split(/ *, */)),n;try{for(r.s();!(n=r.n()).done;){let s=n.value.split(/ *; */),o=s[0].slice(1,-1),a=s[1].split(/ *= */)[1].slice(1,-1);e[a]=o}}catch(i){r.e(i)}finally{r.f()}return e};ah.cleanHeader=(t,e)=>(delete t["content-type"],delete t["content-length"],delete t["transfer-encoding"],delete t.host,e&&(delete t.authorization,delete t.cookie),t);ah.isObject=t=>t!==null&&typeof t=="object";ah.hasOwn=Object.hasOwn||function(t,e){if(t==null)throw new TypeError("Cannot convert undefined or null to object");return Object.prototype.hasOwnProperty.call(new Object(t),e)};ah.mixin=(t,e)=>{for(let r in e)ah.hasOwn(e,r)&&(t[r]=e[r])}});var cQ=j((A0t,uQ)=>{"use strict";B();M();var oQ=nQ(),aQ=tS(),rS=aQ.isObject,Tg=aQ.hasOwn;uQ.exports=gn;function gn(){}gn.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this};gn.prototype.parse=function(t){return this._parser=t,this};gn.prototype.responseType=function(t){return this._responseType=t,this};gn.prototype.serialize=function(t){return this._serializer=t,this};gn.prototype.timeout=function(t){if(!t||typeof t!="object")return this._timeout=t,this._responseTimeout=0,this._uploadTimeout=0,this;for(let e in t)if(Tg(t,e))switch(e){case"deadline":this._timeout=t.deadline;break;case"response":this._responseTimeout=t.response;break;case"upload":this._uploadTimeout=t.upload;break;default:console.warn("Unknown timeout option",e)}return this};gn.prototype.retry=function(t,e){return(arguments.length===0||t===!0)&&(t=1),t<=0&&(t=0),this._maxRetries=t,this._retries=0,this._retryCallback=e,this};var cTe=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),fTe=new Set([408,413,429,500,502,503,504,521,522,524]);gn.prototype._shouldRetry=function(t,e){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{let r=this._retryCallback(t,e);if(r===!0)return!0;if(r===!1)return!1}catch(r){console.error(r)}return!!(e&&e.status&&fTe.has(e.status)||t&&(t.code&&cTe.has(t.code)||t.timeout&&t.code==="ECONNABORTED"||t.crossDomain))};gn.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()};gn.prototype.then=function(t,e){if(!this._fullfilledPromise){let r=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise((n,i)=>{r.on("abort",()=>{if(this._maxRetries&&this._maxRetries>this._retries)return;if(this.timedout&&this.timedoutError){i(this.timedoutError);return}let s=new Error("Aborted");s.code="ABORTED",s.status=this.status,s.method=this.method,s.url=this.url,i(s)}),r.end((s,o)=>{s?i(s):n(o)})})}return this._fullfilledPromise.then(t,e)};gn.prototype.catch=function(t){return this.then(void 0,t)};gn.prototype.use=function(t){return t(this),this};gn.prototype.ok=function(t){if(typeof t!="function")throw new Error("Callback required");return this._okCallback=t,this};gn.prototype._isResponseOK=function(t){return t?this._okCallback?this._okCallback(t):t.status>=200&&t.status<300:!1};gn.prototype.get=function(t){return this._header[t.toLowerCase()]};gn.prototype.getHeader=gn.prototype.get;gn.prototype.set=function(t,e){if(rS(t)){for(let r in t)Tg(t,r)&&this.set(r,t[r]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this};gn.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this};gn.prototype.field=function(t,e,r){if(t==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(rS(t)){for(let n in t)Tg(t,n)&&this.field(n,t[n]);return this}if(Array.isArray(e)){for(let n in e)Tg(e,n)&&this.field(t,e[n]);return this}if(e==null)throw new Error(".field(name, val) val can not be empty");return typeof e=="boolean"&&(e=String(e)),r?this._getFormData().append(t,e,r):this._getFormData().append(t,e),this};gn.prototype.abort=function(){if(this._aborted)return this;if(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req){if(oQ.gte(process.version,"v13.0.0")&&oQ.lt(process.version,"v14.0.0"))throw new Error("Superagent does not work in v13 properly with abort() due to Node.js core changes");this.req.abort()}return this.clearTimeout(),this.emit("abort"),this};gn.prototype._auth=function(t,e,r,n){switch(r.type){case"basic":this.set("Authorization",`Basic ${n(`${t}:${e}`)}`);break;case"auto":this.username=t,this.password=e;break;case"bearer":this.set("Authorization",`Bearer ${t}`);break;default:break}return this};gn.prototype.withCredentials=function(t){return t===void 0&&(t=!0),this._withCredentials=t,this};gn.prototype.redirects=function(t){return this._maxRedirects=t,this};gn.prototype.maxResponseSize=function(t){if(typeof t!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=t,this};gn.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}};gn.prototype.send=function(t){let e=rS(t),r=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(e&&!this._data)Array.isArray(t)?this._data=[]:this._isHost(t)||(this._data={});else if(t&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(e&&rS(this._data))for(let n in t){if(typeof t[n]=="bigint"&&!t[n].toJSON)throw new Error("Cannot serialize BigInt value to json");Tg(t,n)&&(this._data[n]=t[n])}else{if(typeof t=="bigint")throw new Error("Cannot send value of type BigInt");typeof t=="string"?(r||this.type("form"),r=this._header["content-type"],r&&(r=r.toLowerCase().trim()),r==="application/x-www-form-urlencoded"?this._data=this._data?`${this._data}&${t}`:t:this._data=(this._data||"")+t):this._data=t}return!e||this._isHost(t)?this:(r||this.type("json"),this)};gn.prototype.sortQuery=function(t){return this._sort=typeof t>"u"?!0:t,this};gn.prototype._finalizeQueryString=function(){let t=this._query.join("&");if(t&&(this.url+=(this.url.includes("?")?"&":"?")+t),this._query.length=0,this._sort){let e=this.url.indexOf("?");if(e>=0){let r=this.url.slice(e+1).split("&");typeof this._sort=="function"?r.sort(this._sort):r.sort(),this.url=this.url.slice(0,e)+"?"+r.join("&")}}};gn.prototype._appendQueryString=()=>{console.warn("Unsupported")};gn.prototype._timeoutError=function(t,e,r){if(this._aborted)return;let n=new Error(`${t+e}ms exceeded`);n.timeout=e,n.code="ECONNABORTED",n.errno=r,this.timedout=!0,this.timedoutError=n,this.abort(),this.callback(n)};gn.prototype._setTimeouts=function(){let t=this;this._timeout&&!this._timer&&(this._timer=setTimeout(()=>{t._timeoutError("Timeout of ",t._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(()=>{t._timeoutError("Response timeout of ",t._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}});var dQ=j((P0t,fQ)=>{"use strict";B();M();var RB=tS();fQ.exports=nS;function nS(){}nS.prototype.get=function(t){return this.header[t.toLowerCase()]};nS.prototype._setHeaderProperties=function(t){let e=t["content-type"]||"";this.type=RB.type(e);let r=RB.params(e);for(let n in r)Object.prototype.hasOwnProperty.call(r,n)&&(this[n]=r[n]);this.links={};try{t.link&&(this.links=RB.parseLinks(t.link))}catch{}};nS.prototype._setStatusProperties=function(t){let e=Math.trunc(t/100);this.statusCode=t,this.status=this.statusCode,this.statusType=e,this.info=e===1,this.ok=e===2,this.redirect=e===3,this.clientError=e===4,this.serverError=e===5,this.error=e===4||e===5?this.toError():!1,this.created=t===201,this.accepted=t===202,this.noContent=t===204,this.badRequest=t===400,this.unauthorized=t===401,this.notAcceptable=t===406,this.forbidden=t===403,this.notFound=t===404,this.unprocessableEntity=t===422}});var pQ=j((M0t,lQ)=>{"use strict";B();M();function dTe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=hTe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function hTe(t,e){if(!!t){if(typeof t=="string")return hQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hQ(t,e)}}function hQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FB(){this._defaults=[]}for(iS=0,NB=["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"];iS<NB.length;iS++){let t=NB[iS];FB.prototype[t]=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this._defaults.push({fn:t,args:r}),this}}var iS,NB;FB.prototype._setDefaults=function(t){var e=dTe(this._defaults),r;try{for(e.s();!(r=e.n()).done;){let n=r.value;t[n.fn](...n.args)}}catch(n){e.e(n)}finally{e.f()}};lQ.exports=FB});var uh=j((o7,qB)=>{"use strict";B();M();function lTe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=pTe(t))||e&&t&&typeof t.length=="number"){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(c){throw c},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,o=!1,a;return{s:function(){r=r.call(t)},n:function(){var c=r.next();return s=c.done,c},e:function(c){o=!0,a=c},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(o)throw a}}}}function pTe(t,e){if(!!t){if(typeof t=="string")return bQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bQ(t,e)}}function bQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var D3;typeof window<"u"?D3=window:typeof self>"u"?(console.warn("Using browser-only version of superagent in non-browser environment"),D3=void 0):D3=self;var bTe=$X(),gTe=XX(),mTe=rQ(),yTe=cQ(),LB=tS(),gQ=LB.isObject,mQ=LB.mixin,UB=LB.hasOwn,vTe=dQ(),oS=pQ();function _Te(){}qB.exports=function(t,e){return typeof e=="function"?new o7.Request("GET",t).end(e):arguments.length===1?new o7.Request("GET",t):new o7.Request(t,e)};o7=qB.exports;var Sn=o7;o7.Request=Si;Sn.getXHR=()=>{if(D3.XMLHttpRequest)return new D3.XMLHttpRequest;throw new Error("Browser-only version of superagent could not find XHR")};var STe="".trim?t=>t.trim():t=>t.replace(/(^\s*|\s*$)/g,"");function yQ(t){if(!gQ(t))return t;let e=[];for(let r in t)UB(t,r)&&DB(e,r,t[r]);return e.join("&")}function DB(t,e,r){if(r!==void 0){if(r===null){t.push(encodeURI(e));return}if(Array.isArray(r)){var n=lTe(r),i;try{for(n.s();!(i=n.n()).done;){let s=i.value;DB(t,e,s)}}catch(s){n.e(s)}finally{n.f()}}else if(gQ(r))for(let s in r)UB(r,s)&&DB(t,`${e}[${s}]`,r[s]);else t.push(encodeURI(e)+"="+encodeURIComponent(r))}}Sn.serializeObject=yQ;function vQ(t){let e={},r=t.split("&"),n,i;for(let s=0,o=r.length;s<o;++s)n=r[s],i=n.indexOf("="),i===-1?e[decodeURIComponent(n)]="":e[decodeURIComponent(n.slice(0,i))]=decodeURIComponent(n.slice(i+1));return e}Sn.parseString=vQ;Sn.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};Sn.serialize={"application/x-www-form-urlencoded":mTe.stringify,"application/json":gTe};Sn.parse={"application/x-www-form-urlencoded":vQ,"application/json":JSON.parse};function wTe(t){let e=t.split(/\r?\n/),r={},n,i,s,o;for(let a=0,u=e.length;a<u;++a)i=e[a],n=i.indexOf(":"),n!==-1&&(s=i.slice(0,n).toLowerCase(),o=STe(i.slice(n+1)),r[s]=o);return r}function _Q(t){return/[/+]json($|[^-\w])/i.test(t)}function Ig(t){this.req=t,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType>"u"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;let e=this.xhr.status;e===1223&&(e=204),this._setStatusProperties(e),this.headers=wTe(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&t._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}mQ(Ig.prototype,vTe.prototype);Ig.prototype._parseBody=function(t){let e=Sn.parse[this.type];return this.req._parser?this.req._parser(this,t):(!e&&_Q(this.type)&&(e=Sn.parse["application/json"]),e&&t&&(t.length>0||t instanceof Object)?e(t):null)};Ig.prototype.toError=function(){let t=this.req,e=t.method,r=t.url,n=`cannot ${e} ${r} (${this.status})`,i=new Error(n);return i.status=this.status,i.method=e,i.url=r,i};Sn.Response=Ig;function Si(t,e){let r=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",()=>{let n=null,i=null;try{i=new Ig(r)}catch(o){return n=new Error("Parser is unable to parse the response"),n.parse=!0,n.original=o,r.xhr?(n.rawResponse=typeof r.xhr.responseType>"u"?r.xhr.responseText:r.xhr.response,n.status=r.xhr.status?r.xhr.status:null,n.statusCode=n.status):(n.rawResponse=null,n.status=null),r.callback(n)}r.emit("response",i);let s;try{r._isResponseOK(i)||(s=new Error(i.statusText||i.text||"Unsuccessful HTTP response"))}catch(o){s=o}s?(s.original=n,s.response=i,s.status=s.status||i.status,r.callback(s,i)):r.callback(null,i)})}bTe(Si.prototype);mQ(Si.prototype,yTe.prototype);Si.prototype.type=function(t){return this.set("Content-Type",Sn.types[t]||t),this};Si.prototype.accept=function(t){return this.set("Accept",Sn.types[t]||t),this};Si.prototype.auth=function(t,e,r){arguments.length===1&&(e=""),typeof e=="object"&&e!==null&&(r=e,e=""),r||(r={type:typeof btoa=="function"?"basic":"auto"});let n=r.encoder?r.encoder:i=>{if(typeof btoa=="function")return btoa(i);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(t,e,r,n)};Si.prototype.query=function(t){return typeof t!="string"&&(t=yQ(t)),t&&this._query.push(t),this};Si.prototype.attach=function(t,e,r){if(e){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(t,e,r||e.name)}return this};Si.prototype._getFormData=function(){return this._formData||(this._formData=new D3.FormData),this._formData};Si.prototype.callback=function(t,e){if(this._shouldRetry(t,e))return this._retry();let r=this._callback;this.clearTimeout(),t&&(this._maxRetries&&(t.retries=this._retries-1),this.emit("error",t)),r(t,e)};Si.prototype.crossDomainError=function(){let t=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)};Si.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this};Si.prototype.ca=Si.prototype.agent;Si.prototype.buffer=Si.prototype.ca;Si.prototype.write=()=>{throw new Error("Streaming is not supported in browser version of superagent")};Si.prototype.pipe=Si.prototype.write;Si.prototype._isHost=function(t){return t&&typeof t=="object"&&!Array.isArray(t)&&Object.prototype.toString.call(t)!=="[object Object]"};Si.prototype.end=function(t){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=t||_Te,this._finalizeQueryString(),this._end()};Si.prototype._setUploadTimeout=function(){let t=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(()=>{t._timeoutError("Upload timeout of ",t._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))};Si.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));let t=this;this.xhr=Sn.getXHR();let e=this.xhr,r=this._formData||this._data;this._setTimeouts(),e.addEventListener("readystatechange",()=>{let i=e.readyState;if(i>=2&&t._responseTimeoutTimer&&clearTimeout(t._responseTimeoutTimer),i!==4)return;let s;try{s=e.status}catch{s=0}if(!s)return t.timedout||t._aborted?void 0:t.crossDomainError();t.emit("end")});let n=(i,s)=>{s.total>0&&(s.percent=s.loaded/s.total*100,s.percent===100&&clearTimeout(t._uploadTimeoutTimer)),s.direction=i,t.emit("progress",s)};if(this.hasListeners("progress"))try{e.addEventListener("progress",n.bind(null,"download")),e.upload&&e.upload.addEventListener("progress",n.bind(null,"upload"))}catch{}e.upload&&this._setUploadTimeout();try{this.username&&this.password?e.open(this.method,this.url,!0,this.username,this.password):e.open(this.method,this.url,!0)}catch(i){return this.callback(i)}if(this._withCredentials&&(e.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof r!="string"&&!this._isHost(r)){let i=this._header["content-type"],s=this._serializer||Sn.serialize[i?i.split(";")[0]:""];!s&&_Q(i)&&(s=Sn.serialize["application/json"]),s&&(r=s(r))}for(let i in this.header)this.header[i]!==null&&UB(this.header,i)&&e.setRequestHeader(i,this.header[i]);this._responseType&&(e.responseType=this._responseType),this.emit("request",this),e.send(typeof r>"u"?null:r)};Sn.agent=()=>new oS;for(sS=0,HB=["GET","POST","OPTIONS","PATCH","PUT","DELETE"];sS<HB.length;sS++){let t=HB[sS];oS.prototype[t.toLowerCase()]=function(e,r){let n=new Sn.Request(t,e);return this._setDefaults(n),r&&n.end(r),n}}var sS,HB;oS.prototype.del=oS.prototype.delete;Sn.get=(t,e,r)=>{let n=Sn("GET",t);return typeof e=="function"&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n};Sn.head=(t,e,r)=>{let n=Sn("HEAD",t);return typeof e=="function"&&(r=e,e=null),e&&n.query(e),r&&n.end(r),n};Sn.options=(t,e,r)=>{let n=Sn("OPTIONS",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};function SQ(t,e,r){let n=Sn("DELETE",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}Sn.del=SQ;Sn.delete=SQ;Sn.patch=(t,e,r)=>{let n=Sn("PATCH",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};Sn.post=(t,e,r)=>{let n=Sn("POST",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n};Sn.put=(t,e,r)=>{let n=Sn("PUT",t);return typeof e=="function"&&(r=e,e=null),e&&n.send(e),r&&n.end(r),n}});var EQ=j(g1=>{"use strict";B();M();var a7=g1&&g1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},xTe=g1&&g1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(g1,"__esModule",{value:!0});g1.replayToLatest=void 0;var jB=eB(),ETe=xTe(uh());function xQ(t){let e=t.toASM(),r=e.lastIndexOf("OP_RETURN"),n=r===-1?t:jB.bsv.Script.fromASM(e.substring(0,r).trim());return jB.bsv.crypto.Hash.sha256(n.toBuffer()).toString("hex")}function ATe(t,e){return a7(this,void 0,void 0,function*(){let r=yield t.getTransaction(e.txId);return xQ(r.outputs[e.outputIndex].script)})}function TTe(t,e){return a7(this,void 0,void 0,function*(){let n=`https://api.whatsonchain.com/v1/bsv/${t.getNetwork()===jB.bsv.Networks.mainnet?"main":"test"}/tx/${e.txId}/${e.outputIndex}/spent`;return ETe.default.get(n).then(i=>a7(this,void 0,void 0,function*(){return{tx:yield t.getTransaction(i.body.txid),atInputIndex:i.body.vin}})).catch(i=>{if(i.response.status!==404)throw new Error(i.message)})})}function wQ(t,e,r){return a7(this,void 0,void 0,function*(){let n=yield TTe(t,e);if(!n)return;let{tx:i}=n,s=i.outputs.filter(o=>xQ(o.script)===r).map((o,a)=>a);if(s.length>1)throw Error("only support linear spent chain");return{spentIn:n,nextOutputIndex:s.length===1?s[0]:void 0}})}function ITe(t,e){return a7(this,void 0,void 0,function*(){let r=yield ATe(t,e),n=[],i=yield wQ(t,e,r);for(;i&&i.nextOutputIndex!==void 0;)n.push(i),i=yield wQ(t,{txId:i.spentIn.tx.id,outputIndex:i.nextOutputIndex},r);return n})}function PTe(t,e){return a7(this,void 0,void 0,function*(){if(!t||e.nextOutputIndex===void 0)return;let r=t.next(),{tx:n,atInputIndex:i}=e.spentIn,o=r.constructor.parseCallData(n,i),{methodName:a,args:u}=o,c=r.getOffchainUpdates();if(c){let d=c[a];d?.call(r,r,...u.map(f=>f.value))}return r.from={tx:n,outputIndex:e.nextOutputIndex},r})}function OTe(t,e){return a7(this,void 0,void 0,function*(){let r=yield ITe(t.provider,e),n=t;for(let i of r)n=yield PTe(n,i);return n})}g1.replayToLatest=OTe});var X0=j(m1=>{"use strict";B();M();var KB=m1&&m1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},BTe=m1&&m1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(m1,"__esModule",{value:!0});m1.Provider=void 0;var MTe=BTe(wF()),kTe=Tr(),$B=class extends MTe.default{constructor(){super(),this._isProvider=!0}_initializeConnection(){new Promise((e,r)=>{setTimeout(()=>{this.connect().then(n=>{e(n)},n=>{r(n)})},0)})}_ready(){return KB(this,void 0,void 0,function*(){if(!this.isConnected())try{yield this.connect()}catch(e){throw e}})}getEstimateFee(e){return KB(this,void 0,void 0,function*(){let r=new kTe.bsv.Transaction(e.uncheckedSerialize());return r.feePerKb(yield this.getFeePerKb()),r.getEstimateFee()})}sendTransaction(e){return KB(this,void 0,void 0,function*(){let r=e.serialize({disableIsFullySigned:!0}),n=yield this.getFeePerKb(),i=Math.ceil(r.length/2/1e3*n);if(e._inputAmount=void 0,e.getUnspentValue()<i)throw new Error("invalid fee, fee too low.");if(e.getUnspentValue()>i*3)throw new Error("invalid fee, fee too high.");return this.sendRawTransaction(r)})}static isProvider(e){return!!(e&&e._isProvider)}};m1.Provider=$B});var Pg=j(y1=>{"use strict";B();M();var aS=y1&&y1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},CTe=y1&&y1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(y1,"__esModule",{value:!0});y1.WhatsonchainProvider=void 0;var uS=Tr(),RTe=X0(),cS=CTe(uh()),NTe=Lc(),zB=class extends RTe.Provider{constructor(e){super(),this._isConnected=!1,this._network=e,this._initializeConnection()}get apiPrefix(){return`https://api.whatsonchain.com/v1/bsv/${this._network.name===uS.bsv.Networks.mainnet.name?"main":"test"}`}isConnected(){return this._isConnected}connect(){var e;return aS(this,void 0,void 0,function*(){try{let r=yield cS.default.get(`${this.apiPrefix}/woc`).timeout(3e3);if(r.ok&&r.text==="Whats On Chain")this._isConnected=!0,this.emit("connected",!0);else throw new Error(`${r.body.msg?r.body.msg:r.text}`)}catch(r){throw this._isConnected=!1,this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){return aS(this,void 0,void 0,function*(){yield this._ready();let r=Math.max(1,e.length/2/1024),n=Math.max(1e4,1e3*r);try{return(yield cS.default.post(`${this.apiPrefix}/tx/raw`).timeout({response:n,deadline:6e4}).set("Content-Type","application/json").send({txhex:e})).body}catch(i){if(i.response&&i.response.text){if(FTe(i.response.text))return new uS.bsv.Transaction(e).id;throw new Error(`WhatsonchainProvider ERROR: ${HTe(i.response.text)}`)}throw new Error(`WhatsonchainProvider ERROR: ${i.message}`)}})}listUnspent(e,r){return aS(this,void 0,void 0,function*(){yield this._ready();let i=(yield cS.default.get(`${this.apiPrefix}/address/${e}/unspent`)).body.map(s=>({txId:s.tx_hash,outputIndex:s.tx_pos,satoshis:s.value,script:uS.bsv.Script.buildPublicKeyHashOut(e).toHex()}));return r?(0,NTe.filterUTXO)(i,r):i})}getBalance(e){return this.listUnspent(e).then(r=>({confirmed:r.reduce((n,i)=>(n+=i.satoshis,n),0),unconfirmed:0}))}getTransaction(e){return aS(this,void 0,void 0,function*(){return yield this._ready(),cS.default.get(`${this.apiPrefix}/tx/${e}/hex`).then(r=>{if(r.ok)return new uS.bsv.Transaction(r.text);throw r.error?r.error:`getTransaction error ${e}`})})}getFeePerKb(){return Promise.resolve(1)}};y1.WhatsonchainProvider=zB;function FTe(t){return t.includes("Transaction already in the mempool")?!0:!!t.includes("txn-already-known")}function HTe(t){return t.includes("bad-txns-vin-empty")?"Transaction is missing inputs.":t.includes("bad-txns-vout-empty")?"Transaction is missing outputs.":t.includes("bad-txns-oversize")?"Transaction is too large.":t.includes("bad-txns-vout-negative")?"Transaction output value is negative.":t.includes("bad-txns-vout-toolarge")?"Transaction outputut value is too large.":t.includes("bad-txns-txouttotal-toolarge")?"Transaction total outputut value is too large.":t.includes("bad-txns-prevout-null")?"Transaction inputs previous TX reference is null.":t.includes("bad-txns-inputs-duplicate")?"Transaction contains duplicate inputs.":t.includes("bad-txns-inputs-too-large")?"Transaction inputs too large.":t.includes("bad-txns-fee-negative")?"Transaction network fee is negative.":t.includes("bad-txns-fee-outofrange")?"Transaction network fee is out of range.":t.includes("mandatory-script-verify-flag-failed")?"Script evaluation failed.":t}});var GB=j(L3=>{"use strict";B();M();var Og=L3&&L3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(L3,"__esModule",{value:!0});L3.SensibleProvider=void 0;var fS=Tr(),DTe=X0(),Bg=uh(),LTe=Lc(),VB=class extends DTe.Provider{constructor(e,r){super(),this.network=e,this.apiKey=r,this._isConnected=!1,this._initializeConnection()}get apiEndpoint(){return this.network.name===fS.bsv.Networks.mainnet.name?"https://api.sensiblequery.com":"https://api.sensiblequery.com/test/"}isConnected(){return this._isConnected}connect(){var e;return Og(this,void 0,void 0,function*(){try{let r=yield(0,Bg.get)(this.apiEndpoint).set("Authorization",`Bearer ${this.apiKey}`).timeout(3e3);if(r.ok&&r.body.code===0)this._isConnected=!0,this.emit("connected",!0);else throw new Error(`${r.body.msg?r.body.msg:r.text}`)}catch(r){throw this._isConnected=!1,this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return Promise.resolve(this)})}updateNetwork(e){this.network=e,this.emit("networkChange",e)}getNetwork(){return this.network}sendRawTransaction(e){return Og(this,void 0,void 0,function*(){yield this._ready();let r=Math.max(1,e.length/2/1024),n=Math.max(1e4,1e3*r);try{let i=yield(0,Bg.post)(`${this.apiEndpoint}/pushtx`).timeout({response:n,deadline:6e4}).set("Content-Type","application/json").set("Authorization",`Bearer ${this.apiKey}`).send({txhex:e});if(console.log("SensibleProvider",i.body),i.ok&&i.body.code===0)return i.body.data;if(typeof i.text=="string"&&i.text.includes("service is restricted"))throw new Error("According to your IP and nationality, you are in a country/region where our service is restricted.");if(typeof i.text=="string"&&UTe(i.text))return new fS.bsv.Transaction(e).id;throw new Error(`${i.body.msg?i.body.msg:i.text}`)}catch(i){throw new Error(`SensibleProvider ERROR: ${i.message}`)}})}listUnspent(e,r){return Og(this,void 0,void 0,function*(){if(yield this._ready(),Array.isArray(e))throw new Error("SensibleProvider ERROR: only support list one address");let n=yield(0,Bg.get)(`${this.apiEndpoint}/address/${e}/utxo`).set("Authorization",`Bearer ${this.apiKey}`);if(n.ok&&n.body.code===0){let i=n.body.data.map(s=>({txId:s.txid,outputIndex:s.vout,satoshis:s.satoshi,script:fS.bsv.Script.buildPublicKeyHashOut(e).toHex()}));return r?(0,LTe.filterUTXO)(i,r):i}throw new Error(`SensibleProvider ERROR: ${n.body.msg}`)})}getBalance(e){return Og(this,void 0,void 0,function*(){yield this._ready();let r=yield(0,Bg.get)(`${this.apiEndpoint}/address/${e}/balance`).set("Authorization",`Bearer ${this.apiKey}`);if(r.body.code===0)return{confirmed:r.body.data.satoshi,unconfirmed:r.body.data.pendingSatoshi};throw new Error(`SensibleProvider ERROR: ${r.body.msg}`)})}getTransaction(e){return Og(this,void 0,void 0,function*(){return yield this._ready(),(0,Bg.get)(`${this.apiEndpoint}/rawtx/${e}`).set("Authorization",`Bearer ${this.apiKey}`).set("Content-Type","application/json").set("Accept","application/json").then(r=>{if(r.ok&&r.body.code===0)return new fS.bsv.Transaction(r.body.data);throw r.error?r.error:new Error(`SensibleProvider ERROR: ${r.body.msg}`)})})}getFeePerKb(){return Promise.resolve(1)}};L3.SensibleProvider=VB;function UTe(t){return t.includes("Transaction already in the mempool")?!0:!!t.includes("txn-already-known")}});var YB=j(U3=>{"use strict";B();M();var Mg=U3&&U3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(U3,"__esModule",{value:!0});U3.GorillapoolProvider=void 0;var qTe=Tr(),jTe=X0(),KTe=Pg(),AQ=uh(),WB=class extends jTe.Provider{constructor(e,r){super(),this.apiKey=r,this._feePerKb=-1,this._network=e,this._mapiURL=e==qTe.bsv.Networks.mainnet?"https://mapi.gorillapool.io/mapi/":"https://testnet-mapi.gorillapool.io/mapi/",this._provider=new KTe.WhatsonchainProvider(e)}isConnected(){return this._provider.isConnected()}connect(){return Mg(this,void 0,void 0,function*(){try{yield this._provider.connect(),this.emit("connected",!0)}catch(e){throw this.emit("connected",!1),e}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){var r,n,i;return Mg(this,void 0,void 0,function*(){let s=Math.max(1,e.length/2/1024),o=Math.max(1e4,1e3*s);try{let a=(0,AQ.post)(this._mapiURL+"tx").timeout({response:o,deadline:6e4}).set("Content-Type","application/octet-stream");this.apiKey&&a.set("Authorization",`Bearer ${this.apiKey}`);let u=yield a.send(E.Buffer.from(e,"hex")),c=JSON.parse(u.body.payload);if(c.returnResult==="success")return c.txid;if(c.returnResult==="failure")throw new Error(c.resultDescription)}catch(a){throw((r=a.response)===null||r===void 0?void 0:r.type)==="application/json"&&((n=a.response)===null||n===void 0?void 0:n.body)?new Error(`GorillapoolProvider ERROR: ${JSON.stringify((i=a.response)===null||i===void 0?void 0:i.body)}`):new Error(`GorillapoolProvider ERROR: ${a.message}`)}})}listUnspent(e,r){return Mg(this,void 0,void 0,function*(){return this._provider.listUnspent(e,r)})}getBalance(e){return this._provider.getBalance(e)}getTransaction(e){return this._provider.getTransaction(e)}getFeePerKb(){return Mg(this,void 0,void 0,function*(){return this._feePerKb<0&&(yield this._fetchFeePerKb()),Promise.resolve(this._feePerKb)})}_fetchFeePerKb(){var e,r,n;return Mg(this,void 0,void 0,function*(){try{let i=(0,AQ.get)(this._mapiURL+"feeQuote").timeout({response:5e3,deadline:1e4});this.apiKey&&i.set("Authorization",`Bearer ${this.apiKey}`);let s=yield i;JSON.parse(s.body.payload).fees.forEach(a=>{a.feeType=="standard"&&(this._feePerKb=a.miningFee.satoshis*1e3/a.miningFee.bytes)})}catch(i){throw((e=i.response)===null||e===void 0?void 0:e.type)==="application/json"&&((r=i.response)===null||r===void 0?void 0:r.body)?new Error(`GorillapoolProvider ERROR: ${JSON.stringify((n=i.response)===null||n===void 0?void 0:n.body)}`):new Error(`GorillapoolProvider ERROR: ${i.message}`)}})}};U3.GorillapoolProvider=WB});var JB=j(q3=>{"use strict";B();M();var kg=q3&&q3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(q3,"__esModule",{value:!0});q3.TaalProvider=void 0;var XB=Tr(),$Te=X0(),zTe=Pg(),TQ=uh(),ZB=class extends $Te.Provider{constructor(e="testnet_4df8757e4c289af199f69ad759be31b4"){super(),this.apiKey=e,this._network=XB.bsv.Networks.testnet,this._feePerKb=-1,this.apiKey.startsWith("testnet_")?this._network=XB.bsv.Networks.testnet:this._network=XB.bsv.Networks.mainnet,this._provider=new zTe.WhatsonchainProvider(this._network),this._initializeConnection()}get apiPrefix(){return"https://api.taal.com/api/v1/broadcast"}isConnected(){return this._provider.isConnected()}connect(){return kg(this,void 0,void 0,function*(){try{yield this._provider.connect(),this.emit("connected",!0)}catch(e){throw this.emit("connected",!1),e}return Promise.resolve(this)})}updateNetwork(e){this._network=e,this.emit("networkChange",e)}getNetwork(){return this._network}sendRawTransaction(e){var r,n,i;return kg(this,void 0,void 0,function*(){yield this._ready();let s=Math.max(1,e.length/2/1024),o=Math.max(1e4,1e3*s);try{return(yield(0,TQ.post)("https://api.taal.com/api/v1/broadcast").timeout({response:o,deadline:6e4}).set("Content-Type","application/octet-stream").set("Authorization",this.apiKey).send(E.Buffer.from(e,"hex"))).text}catch(a){throw((r=a.response)===null||r===void 0?void 0:r.type)==="application/json"&&((n=a.response)===null||n===void 0?void 0:n.body)?new Error(`TaalProvider ERROR: ${JSON.stringify((i=a.response)===null||i===void 0?void 0:i.body)}`):new Error(`TaalProvider ERROR: ${a.message}`)}})}listUnspent(e,r){return kg(this,void 0,void 0,function*(){return this._provider.listUnspent(e,r)})}getBalance(e){return this._provider.getBalance(e)}getTransaction(e){return this._provider.getTransaction(e)}getFeePerKb(){return kg(this,void 0,void 0,function*(){return this._feePerKb<0&&(yield this._fetchFeePerKb()),Promise.resolve(this._feePerKb)})}_fetchFeePerKb(){var e,r,n;return kg(this,void 0,void 0,function*(){try{let i=yield(0,TQ.get)("https://api.taal.com/mapi/feeQuote").timeout({response:5e3,deadline:1e4}).set("Authorization",this.apiKey);JSON.parse(i.body.payload).fees.forEach(o=>{o.feeType=="standard"&&(this._feePerKb=o.miningFee.satoshis*1e3/o.miningFee.bytes)})}catch(i){throw((e=i.response)===null||e===void 0?void 0:e.type)==="application/json"&&((r=i.response)===null||r===void 0?void 0:r.body)?new Error(`TaalProvider ERROR: ${JSON.stringify((n=i.response)===null||n===void 0?void 0:n.body)}`):new Error(`TaalProvider ERROR: ${i.message}`)}})}};q3.TaalProvider=ZB});var OQ=j(K3=>{"use strict";B();M();var j3=K3&&K3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(K3,"__esModule",{value:!0});K3.FallbackProvider=void 0;var QB=X0(),IQ={stallTimeout:400,priority:1,weight:1};function Cg(t){if(t==null||t instanceof Error)return"null";if(Array.isArray(t))return"["+t.map(Cg).join(",")+"]";if(typeof t=="object"&&typeof t.toJSON=="function")return Cg(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":case"number":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{let e=Object.keys(t);return e.sort(),"{"+e.map(r=>`${JSON.stringify(r)}:${Cg(t[r])}`).join(",")+"}"}}throw new Error(`Could not serialize ${t}`)}function PQ(t){if("error"in t){let r=t.error;return{tag:Cg(r),value:r}}let e=t.result;return{tag:Cg(e),value:e}}function VTe(t,e){let r=new Map;for(let{value:i,tag:s,weight:o}of e){let a=r.get(s)||{value:i,weight:0};a.weight+=o,r.set(s,a)}let n=null;if(r.forEach((i,s)=>{i.weight>=t&&(!n||i.weight>n.weight)&&(n=i)}),n)return n.value}function GTe(t,e){let r=VTe(t,e);if(r!==void 0)return r;for(let n of e)if(n.value)return n.value}var eM=class extends QB.Provider{constructor(e){if(super(),this.configs=e.map(n=>n instanceof QB.Provider?Object.assign({provider:n},IQ):Object.assign({},IQ,n)).sort((n,i)=>i.priority-n.priority),this.configs.length===0)throw new Error("No providers passed when initializing a FallbackProvider");let r=this.configs[0].provider.getNetwork();if(!this.configs.every(n=>n.provider.getNetwork()===r))throw new Error("All the providers passed should have the same network when initializing a FallbackProvider");if(this.quorum=2,this.quorum>this.configs.reduce((n,i)=>n+i.weight,0))throw new Error("quorum exceed provider wieght")}isConnected(){let e=!1;return this.configs.forEach(r=>{e=e||r.provider.isConnected()}),e}connect(){return j3(this,void 0,void 0,function*(){return yield this._getBestProviderResult(e=>e.connect()),Promise.resolve(this)})}updateNetwork(e){this.configs.forEach(r=>r.provider.updateNetwork(e))}getNetwork(){return this.configs[0].provider.getNetwork()}getFeePerKb(){return this._getBestProviderResult(e=>e.getFeePerKb())}sendRawTransaction(e){return this.perform("sendRawTransaction",r=>r.sendRawTransaction(e))}getTransaction(e){return this.perform("getTransaction",r=>r.getTransaction(e))}listUnspent(e,r){return this.perform("listUnspent",n=>n.listUnspent(e,r))}getBalance(e){return this.perform("getBalance",r=>r.getBalance(e))}_getBestProviderResult(e){return j3(this,void 0,void 0,function*(){let r=yield Promise.all(this.configs.map(({provider:i,weight:s})=>j3(this,void 0,void 0,function*(){try{let o=yield e(i);return Object.assign(PQ({result:o}),{weight:s})}catch{return Object.assign(PQ({result:50}),{weight:s})}}))),n=GTe(this.quorum,r);if(n instanceof Error)throw n;return n})}_getFastProviderResult(e){return j3(this,void 0,void 0,function*(){return yield new Promise((n,i)=>{let s=0;this.configs.forEach(({provider:o,weight:a})=>j3(this,void 0,void 0,function*(){try{let u=yield e(o);n(u instanceof QB.Provider?this:u)}catch(u){s++,s>=this.configs.length&&n(u)}}))})})}perform(e,r){return j3(this,void 0,void 0,function*(){let n=yield this._getFastProviderResult(r);if(n instanceof Error)throw n;return n})}};K3.FallbackProvider=eM});var kQ=j($3=>{"use strict";B();M();var WTe=$3&&$3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty($3,"__esModule",{value:!0});$3.DefaultProvider=void 0;var tM=Tr(),YTe=X0(),XTe=YB(),ZTe=OQ(),JTe=GB(),QTe=JB(),BQ=Pg();function MQ(t){return t==tM.bsv.Networks.testnet}var rM=class extends YTe.Provider{constructor(e){super(),this._providers=[],e=e||{network:tM.bsv.Networks.livenet};let r=e.network||tM.bsv.Networks.livenet;this._providers.push(new BQ.WhatsonchainProvider(r)),(e.taal||MQ(r))&&this._providers.push(new QTe.TaalProvider(e.taal)),(e.gorillapool||MQ(r))&&this._providers.push(new XTe.GorillapoolProvider(r,e.gorillapool)),e.sensible&&this._providers.push(new JTe.SensibleProvider(r,e.sensible)),this._providers.length===0&&this._providers.push(new BQ.WhatsonchainProvider(r))}get bestProvider(){return this._providers.length===1?"provider"in this._providers[0]?this._providers[0].provider:this._providers[0]:new ZTe.FallbackProvider(this._providers)}isConnected(){return this.bestProvider.isConnected()}connect(){return WTe(this,void 0,void 0,function*(){return yield this.bestProvider.connect(),this})}updateNetwork(e){this.bestProvider.updateNetwork(e)}getNetwork(){return this.bestProvider.getNetwork()}getFeePerKb(){return this.bestProvider.getFeePerKb()}sendRawTransaction(e){return this.bestProvider.sendRawTransaction(e)}getTransaction(e){return this.bestProvider.getTransaction(e)}listUnspent(e,r){return this.bestProvider.listUnspent(e,r)}getBalance(e){return this.bestProvider.getBalance(e)}};$3.DefaultProvider=rM});var RQ=j(dS=>{"use strict";B();M();Object.defineProperty(dS,"__esModule",{value:!0});dS.DummyProvider=void 0;var nM=Tr(),eIe=X0(),CQ=Cd(),tIe=Lc(),iM=class extends eIe.Provider{constructor(e){super(),this.satoshisArray=e}isConnected(){return!0}connect(){return Promise.resolve(this)}updateNetwork(e){}getNetwork(){return nM.bsv.Networks.testnet}getFeePerKb(){return Promise.resolve(1)}sendRawTransaction(e){return Promise.resolve(e)}getTransaction(e){throw new Error("Method not implemented.")}listUnspent(e,r){if(this.satoshisArray){let n=this.satoshisArray.map(i=>({txId:(0,CQ.randomBytes)(32).toString("hex"),outputIndex:0,script:nM.bsv.Script.fromAddress(e).toHex(),satoshis:i}));return r?Promise.resolve((0,tIe.filterUTXO)(n,r)):Promise.resolve(n)}return Promise.resolve([{txId:(0,CQ.randomBytes)(32).toString("hex"),outputIndex:0,script:nM.bsv.Script.fromAddress(e).toHex(),satoshis:9999999999}])}getBalance(e){throw new Error("Method not implemented.")}};dS.DummyProvider=iM});var NQ=j(hS=>{"use strict";B();M();Object.defineProperty(hS,"__esModule",{value:!0});hS.GetTransactionAction=void 0;var rIe=Tr(),sM=class{constructor(){this.method="GET",this.pathPattern="/tx/:txId"}serilizeRequest(e){return e}deserilizeResponse(e,r){return new rIe.bsv.Transaction(e.txHex)}};hS.GetTransactionAction=sM});var FQ=j(lS=>{"use strict";B();M();Object.defineProperty(lS,"__esModule",{value:!0});lS.GetBalanceAction=void 0;var oM=class{constructor(){this.method="GET",this.pathPattern="/address/:address/balance"}serilizeRequest(e){return{address:e.address.toString()}}deserilizeResponse(e,r){return e}};lS.GetBalanceAction=oM});var HQ=j(pS=>{"use strict";B();M();Object.defineProperty(pS,"__esModule",{value:!0});pS.SendRawTransactionAction=void 0;var aM=class{constructor(){this.method="POST",this.pathPattern="/tx"}serilizeRequest(e){return e}deserilizeResponse(e,r){return e.txId}};pS.SendRawTransactionAction=aM});var DQ=j(bS=>{"use strict";B();M();Object.defineProperty(bS,"__esModule",{value:!0});bS.ListUnspentAction=void 0;var nIe=Lc(),uM=class{constructor(){this.method="GET",this.pathPattern="/address/:address/utxo"}serilizeRequest(e){return{address:e.address.toString(),options:e.options}}deserilizeResponse(e,r){let n=r.address.toString();e.forEach(s=>(s.address=n,s));let i=r.options;return i?(0,nIe.filterUTXO)(e,i):e}};bS.ListUnspentAction=uM});var LQ=j(gS=>{"use strict";B();M();Object.defineProperty(gS,"__esModule",{value:!0});gS.GetFeePerKBAction=void 0;var cM=class{constructor(){this.method="GET",this.pathPattern="/feeperkb"}serilizeRequest(e){return{}}deserilizeResponse(e,r){return e.satoshis}};gS.GetFeePerKBAction=cM});var UQ=j(mS=>{"use strict";B();M();Object.defineProperty(mS,"__esModule",{value:!0});mS.ConnectAction=void 0;var fM=class{constructor(){this.method="GET",this.pathPattern="/health"}serilizeRequest(e){return{}}deserilizeResponse(e,r){return{success:e.status==="ok",error:""}}};mS.ConnectAction=fM});var hM=j(V3=>{"use strict";B();M();var z3=V3&&V3.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(V3,"__esModule",{value:!0});V3.BsvApi=void 0;var iIe=NQ(),sIe=FQ(),oIe=HQ(),aIe=DQ(),uIe=LQ(),cIe=UQ(),dM=class{constructor(e){this._core=e}getTransaction(e){return z3(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new iIe.GetTransactionAction,{txId:e})})}getBalance(e){return z3(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new sIe.GetBalanceAction,{address:e})})}getFeePerKB(){return z3(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new uIe.GetFeePerKBAction,{})})}connect(){return z3(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new cIe.ConnectAction,{})})}sendRawTransaction(e){return z3(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new oIe.SendRawTransactionAction,{txHex:e})})}listUnspent(e,r){return z3(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new aIe.ListUnspentAction,{address:e,options:r})})}};V3.BsvApi=dM});var qQ=j(yS=>{"use strict";B();M();Object.defineProperty(yS,"__esModule",{value:!0});yS.GetLatestInstanceAction=void 0;var lM=class{constructor(){this.method="GET",this.pathPattern="/contract/:txId/:outputIndex/utxo"}serilizeRequest(e){let{contractId:r}=e;return r}deserilizeResponse(e,r){if(e.length===0)throw new Error("The utxo related to the contract was not found, please check whether the contract artifact has been uploaded.");let n=r.clazz.fromLockingScript(e[0].script);return n.from=e[0],n}};yS.GetLatestInstanceAction=lM});var KQ=j(vS=>{"use strict";B();M();Object.defineProperty(vS,"__esModule",{value:!0});vS.SyncHashedPropsAction=void 0;var fIe=v3(),pM=MO(),jQ=a1();BigInt.prototype.toJSON=function(){return this.toString()};var bM=class{constructor(){this.method="POST",this.pathPattern="/contract/syncHashedProps?txId=:txId&outputIndex=:outputIndex"}serilizeRequest(e){let r=e.instance,n=(Reflect.getMetadata(fIe.PropsMetaKey,r)||[]).filter(s=>r[s]instanceof pM.HashedMap||r[s]instanceof jQ.HashedSet).map(s=>{let o=r[s],a;return(r[s]instanceof pM.HashedMap||r[s]instanceof jQ.HashedSet)&&(o=Array.from(r[s].entries()),a=r[s]._type),{name:s,type:r[s]instanceof pM.HashedMap?"HashedMap":"HashedSet",value:o}}),i=r.utxo;return{txId:i.txId,outputIndex:i.outputIndex,props:n}}deserilizeResponse(e,r){}};vS.SyncHashedPropsAction=bM});var zQ=j(v1=>{"use strict";B();M();var dIe=v1&&v1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},hIe=v1&&v1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(v1,"__esModule",{value:!0});v1.getTransaction=void 0;var lIe=hIe(uh()),$Q=Tr();function pIe(t,e){return dIe(this,void 0,void 0,function*(){let n=`https://api.whatsonchain.com/v1/bsv/${t.name===$Q.bsv.Networks.mainnet.name?"main":"test"}`;return(0,lIe.default)("GET",`${n}/tx/${e}/hex`).timeout(2e5).retry(2).then(i=>{if(i.ok)return new $Q.bsv.Transaction(i.text);throw i.error?i.error:`getTransaction error ${e}`})})}v1.getTransaction=pIe});var _S=j(_1=>{"use strict";B();M();Object.defineProperty(_1,"__esModule",{value:!0});_1.ERROR_PACKET=_1.PACKET_TYPES_REVERSE=_1.PACKET_TYPES=void 0;var Z0=Object.create(null);_1.PACKET_TYPES=Z0;Z0.open="0";Z0.close="1";Z0.ping="2";Z0.pong="3";Z0.message="4";Z0.upgrade="5";Z0.noop="6";var VQ=Object.create(null);_1.PACKET_TYPES_REVERSE=VQ;Object.keys(Z0).forEach(t=>{VQ[Z0[t]]=t});var bIe={type:"error",data:"parser error"};_1.ERROR_PACKET=bIe});var QQ=j(Rg=>{"use strict";B();M();Object.defineProperty(Rg,"__esModule",{value:!0});Rg.encodePacket=void 0;Rg.encodePacketToBinary=mIe;var gIe=_S(),YQ=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",XQ=typeof ArrayBuffer=="function",ZQ=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,JQ=({type:t,data:e},r,n)=>YQ&&e instanceof Blob?r?n(e):GQ(e,n):XQ&&(e instanceof ArrayBuffer||ZQ(e))?r?n(e):GQ(new Blob([e]),n):n(gIe.PACKET_TYPES[t]+(e||""));Rg.encodePacket=JQ;var GQ=(t,e)=>{let r=new FileReader;return r.onload=function(){let n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function WQ(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var gM;function mIe(t,e){if(YQ&&t.data instanceof Blob)return t.data.arrayBuffer().then(WQ).then(e);if(XQ&&(t.data instanceof ArrayBuffer||ZQ(t.data)))return e(WQ(t.data));JQ(t,!1,r=>{gM||(gM=new TextEncoder),e(gM.encode(r))})}});var eee=j(W3=>{"use strict";B();M();Object.defineProperty(W3,"__esModule",{value:!0});W3.decode=W3.encode=void 0;var G3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ng=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<G3.length;t++)Ng[G3.charCodeAt(t)]=t;var yIe=t=>{let e=new Uint8Array(t),r,n=e.length,i="";for(r=0;r<n;r+=3)i+=G3[e[r]>>2],i+=G3[(e[r]&3)<<4|e[r+1]>>4],i+=G3[(e[r+1]&15)<<2|e[r+2]>>6],i+=G3[e[r+2]&63];return n%3===2?i=i.substring(0,i.length-1)+"=":n%3===1&&(i=i.substring(0,i.length-2)+"=="),i};W3.encode=yIe;var vIe=t=>{let e=t.length*.75,r=t.length,n,i=0,s,o,a,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let c=new ArrayBuffer(e),d=new Uint8Array(c);for(n=0;n<r;n+=4)s=Ng[t.charCodeAt(n)],o=Ng[t.charCodeAt(n+1)],a=Ng[t.charCodeAt(n+2)],u=Ng[t.charCodeAt(n+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|u&63;return c};W3.decode=vIe});var ree=j(wS=>{"use strict";B();M();Object.defineProperty(wS,"__esModule",{value:!0});wS.decodePacket=void 0;var SS=_S(),_Ie=eee(),SIe=typeof ArrayBuffer=="function",wIe=(t,e)=>{if(typeof t!="string")return{type:"message",data:tee(t,e)};let r=t.charAt(0);return r==="b"?{type:"message",data:xIe(t.substring(1),e)}:SS.PACKET_TYPES_REVERSE[r]?t.length>1?{type:SS.PACKET_TYPES_REVERSE[r],data:t.substring(1)}:{type:SS.PACKET_TYPES_REVERSE[r]}:SS.ERROR_PACKET};wS.decodePacket=wIe;var xIe=(t,e)=>{if(SIe){let r=(0,_Ie.decode)(t);return tee(r,e)}else return{base64:!0,data:t}},tee=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}}});var Y3=j(lu=>{"use strict";B();M();Object.defineProperty(lu,"__esModule",{value:!0});lu.decodePayload=lu.decodePacket=lu.encodePayload=lu.encodePacket=lu.protocol=void 0;lu.createPacketEncoderStream=TIe;lu.createPacketDecoderStream=IIe;var yM=QQ();Object.defineProperty(lu,"encodePacket",{enumerable:!0,get:function(){return yM.encodePacket}});var vM=ree();Object.defineProperty(lu,"decodePacket",{enumerable:!0,get:function(){return vM.decodePacket}});var nee=_S(),iee=String.fromCharCode(30),EIe=(t,e)=>{let r=t.length,n=new Array(r),i=0;t.forEach((s,o)=>{(0,yM.encodePacket)(s,!1,a=>{n[o]=a,++i===r&&e(n.join(iee))})})};lu.encodePayload=EIe;var AIe=(t,e)=>{let r=t.split(iee),n=[];for(let i=0;i<r.length;i++){let s=(0,vM.decodePacket)(r[i],e);if(n.push(s),s.type==="error")break}return n};lu.decodePayload=AIe;function TIe(){return new TransformStream({transform(t,e){(0,yM.encodePacketToBinary)(t,r=>{let n=r.length,i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);let s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);let s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}var mM;function xS(t){return t.reduce((e,r)=>e+r.length,0)}function ES(t,e){if(t[0].length===e)return t.shift();let r=new Uint8Array(e),n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function IIe(t,e){mM||(mM=new TextDecoder);let r=[],n=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(xS(r)<1)break;let u=ES(r,1);s=(u[0]&128)===128,i=u[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(xS(r)<2)break;let u=ES(r,2);i=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),n=3}else if(n===2){if(xS(r)<8)break;let u=ES(r,8),c=new DataView(u.buffer,u.byteOffset,u.length),d=c.getUint32(0);if(d>Math.pow(2,53-32)-1){a.enqueue(nee.ERROR_PACKET);break}i=d*Math.pow(2,32)+c.getUint32(4),n=3}else{if(xS(r)<i)break;let u=ES(r,i);a.enqueue((0,vM.decodePacket)(s?u:mM.decode(u),e)),n=0}if(i===0||i>t){a.enqueue(nee.ERROR_PACKET);break}}}})}lu.protocol=4});var u7=j(see=>{B();M();see.Emitter=Pa;function Pa(t){if(t)return PIe(t)}function PIe(t){for(var e in Pa.prototype)t[e]=Pa.prototype[e];return t}Pa.prototype.on=Pa.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Pa.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};Pa.prototype.off=Pa.prototype.removeListener=Pa.prototype.removeAllListeners=Pa.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};Pa.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};Pa.prototype.emitReserved=Pa.prototype.emit;Pa.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Pa.prototype.hasListeners=function(t){return!!this.listeners(t).length}});var Fg=j(AS=>{"use strict";B();M();Object.defineProperty(AS,"__esModule",{value:!0});AS.globalThisShim=void 0;AS.globalThisShim=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())()});var X3=j(w1=>{"use strict";B();M();Object.defineProperty(w1,"__esModule",{value:!0});w1.byteLength=w1.installTimerFunctions=w1.pick=void 0;var S1=Fg();function OIe(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}w1.pick=OIe;var BIe=S1.globalThisShim.setTimeout,MIe=S1.globalThisShim.clearTimeout;function kIe(t,e){e.useNativeTimers?(t.setTimeoutFn=BIe.bind(S1.globalThisShim),t.clearTimeoutFn=MIe.bind(S1.globalThisShim)):(t.setTimeoutFn=S1.globalThisShim.setTimeout.bind(S1.globalThisShim),t.clearTimeoutFn=S1.globalThisShim.clearTimeout.bind(S1.globalThisShim))}w1.installTimerFunctions=kIe;var CIe=1.33;function RIe(t){return typeof t=="string"?NIe(t):Math.ceil((t.byteLength||t.size)*CIe)}w1.byteLength=RIe;function NIe(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}});var _M=j(Z3=>{"use strict";B();M();Object.defineProperty(Z3,"__esModule",{value:!0});Z3.decode=Z3.encode=void 0;function FIe(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}Z3.encode=FIe;function HIe(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}Z3.decode=HIe});var Hg=j(x1=>{"use strict";B();M();var DIe=x1&&x1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(x1,"__esModule",{value:!0});x1.Transport=x1.TransportError=void 0;var LIe=Y3(),UIe=u7(),qIe=X3(),jIe=DIe(n0()),KIe=_M(),$Ie=(0,jIe.default)("engine.io-client:transport"),TS=class extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}};x1.TransportError=TS;var SM=class extends UIe.Emitter{constructor(e){super(),this.writable=!1,(0,qIe.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new TS(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"?this.write(e):$Ie("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let r=(0,LIe.decodePacket)(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let r=(0,KIe.encode)(e);return r.length?"?"+r:""}};x1.Transport=SM});var xM=j(A1=>{"use strict";B();M();Object.defineProperty(A1,"__esModule",{value:!0});A1.yeast=A1.decode=A1.encode=void 0;var uee="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),IS=64,cee={},oee=0,E1=0,aee;function wM(t){let e="";do e=uee[t%IS]+e,t=Math.floor(t/IS);while(t>0);return e}A1.encode=wM;function zIe(t){let e=0;for(E1=0;E1<t.length;E1++)e=e*IS+cee[t.charAt(E1)];return e}A1.decode=zIe;function VIe(){let t=wM(+new Date);return t!==aee?(oee=0,aee=t):t+"."+wM(oee++)}A1.yeast=VIe;for(;E1<IS;E1++)cee[uee[E1]]=E1});var dee=j(PS=>{"use strict";B();M();Object.defineProperty(PS,"__esModule",{value:!0});PS.hasCORS=void 0;var fee=!1;try{fee=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}PS.hasCORS=fee});var hee=j(J3=>{"use strict";B();M();Object.defineProperty(J3,"__esModule",{value:!0});J3.createCookieJar=J3.XHR=void 0;var GIe=dee(),WIe=Fg();function YIe(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||GIe.hasCORS))return new XMLHttpRequest}catch{}if(!e)try{return new WIe.globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}J3.XHR=YIe;function XIe(){}J3.createCookieJar=XIe});var gee=j(T1=>{"use strict";B();M();var ZIe=T1&&T1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(T1,"__esModule",{value:!0});T1.Request=T1.Polling=void 0;var JIe=Hg(),QIe=ZIe(n0()),ePe=xM(),lee=Y3(),AM=hee(),tPe=u7(),pee=X3(),rPe=Fg(),pu=(0,QIe.default)("engine.io-client:polling");function nPe(){}var iPe=function(){return new AM.XHR({xdomain:!1}).responseType!=null}(),EM=class extends JIe.Transport{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let n=location.protocol==="https:",i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}let r=e&&e.forceBase64;this.supportsBinary=iPe&&!r,this.opts.withCredentials&&(this.cookieJar=(0,AM.createCookieJar)())}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let r=()=>{pu("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(pu("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){pu("pre-pause polling complete"),--n||r()})),this.writable||(pu("we are currently writing - waiting to pause"),n++,this.once("drain",function(){pu("pre-pause writing complete"),--n||r()}))}else r()}poll(){pu("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){pu("polling got data %s",e);let r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};(0,lee.decodePayload)(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"?this.poll():pu('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=()=>{pu("writing close packet"),this.write([{type:"close"}])};this.readyState==="open"?(pu("transport open - closing"),e()):(pu("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,lee.encodePayload)(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=(0,ePe.yeast)()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Hu(this.uri(),e)}doWrite(e,r){let n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){pu("xhr poll");let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}};T1.Polling=EM;var Hu=class extends tPe.Emitter{constructor(e,r){super(),(0,pee.installTimerFunctions)(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.data=r.data!==void 0?r.data:null,this.create()}create(){var e;let r=(0,pee.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;let n=this.xhr=new AM.XHR(r);try{pu("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this.opts.cookieJar)===null||i===void 0||i.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},pu("xhr data %s",this.data),n.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document<"u"&&(this.index=Hu.requestsCount++,Hu.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=nPe,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Hu.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};T1.Request=Hu;Hu.requestsCount=0;Hu.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",bee);else if(typeof addEventListener=="function"){let t="onpagehide"in rPe.globalThisShim?"pagehide":"unload";addEventListener(t,bee,!1)}}function bee(){for(let t in Hu.requests)Hu.requests.hasOwnProperty(t)&&Hu.requests[t].abort()}});var Dg=j(J0=>{"use strict";B();M();Object.defineProperty(J0,"__esModule",{value:!0});J0.defaultBinaryType=J0.usingBrowserWebSocket=J0.WebSocket=J0.nextTick=void 0;var mee=Fg();J0.nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0))();J0.WebSocket=mee.globalThisShim.WebSocket||mee.globalThisShim.MozWebSocket;J0.usingBrowserWebSocket=!0;J0.defaultBinaryType="arraybuffer"});var vee=j(Q3=>{"use strict";B();M();var sPe=Q3&&Q3.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Q3,"__esModule",{value:!0});Q3.WS=void 0;var oPe=Hg(),aPe=xM(),uPe=X3(),I1=Dg(),cPe=sPe(n0()),fPe=Y3(),dPe=(0,cPe.default)("engine.io-client:websocket"),yee=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",TM=class extends oPe.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),r=this.opts.protocols,n=yee?{}:(0,uPe.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=I1.usingBrowserWebSocket&&!yee?r?new I1.WebSocket(e,r):new I1.WebSocket(e):new I1.WebSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;(0,fPe.encodePacket)(n,this.supportsBinary,s=>{let o={};I1.usingBrowserWebSocket||(n.options&&(o.compress=n.options.compress),this.opts.perMessageDeflate&&(typeof s=="string"?E.Buffer.byteLength(s):s.length)<this.opts.perMessageDeflate.threshold&&(o.compress=!1));try{I1.usingBrowserWebSocket?this.ws.send(s):this.ws.send(s,o)}catch{dPe("websocket closed before onclose event")}i&&(0,I1.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=(0,aPe.yeast)()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}check(){return!!I1.WebSocket}};Q3.WS=TM});var See=j(e9=>{"use strict";B();M();var hPe=e9&&e9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e9,"__esModule",{value:!0});e9.WT=void 0;var lPe=Hg(),pPe=Dg(),_ee=Y3(),bPe=hPe(n0()),Lg=(0,bPe.default)("engine.io-client:webtransport"),IM=class extends lPe.Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{Lg("transport closed gracefully"),this.onClose()}).catch(e=>{Lg("transport closed due to %s",e),this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{let r=(0,_ee.createPacketDecoderStream)(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=(0,_ee.createPacketEncoderStream)();i.readable.pipeTo(e.writable),this.writer=i.writable.getWriter();let s=()=>{n.read().then(({done:a,value:u})=>{if(a){Lg("session is closed");return}Lg("received chunk: %o",u),this.onPacket(u),s()}).catch(a=>{Lg("an error occurred while reading: %s",a)})};s();let o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let r=0;r<e.length;r++){let n=e[r],i=r===e.length-1;this.writer.write(n).then(()=>{i&&(0,pPe.nextTick)(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}};e9.WT=IM});var PM=j(OS=>{"use strict";B();M();Object.defineProperty(OS,"__esModule",{value:!0});OS.transports=void 0;var gPe=gee(),mPe=vee(),yPe=See();OS.transports={websocket:mPe.WS,webtransport:yPe.WT,polling:gPe.Polling}});var OM=j(BS=>{"use strict";B();M();Object.defineProperty(BS,"__esModule",{value:!0});BS.parse=void 0;var vPe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_Pe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function SPe(t){if(t.length>2e3)throw"URI too long";let e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=vPe.exec(t||""),s={},o=14;for(;o--;)s[_Pe[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=wPe(s,s.path),s.queryKey=xPe(s,s.query),s}BS.parse=SPe;function wPe(t,e){let r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function xPe(t,e){let r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}});var Aee=j(t9=>{"use strict";B();M();var EPe=t9&&t9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(t9,"__esModule",{value:!0});t9.Socket=void 0;var APe=PM(),wee=X3(),TPe=_M(),xee=OM(),IPe=EPe(n0()),PPe=u7(),Eee=Y3(),OPe=Dg(),wi=(0,IPe.default)("engine.io-client:socket"),Q0=class extends PPe.Emitter{constructor(e,r={}){super(),this.binaryType=OPe.defaultBinaryType,this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=(0,xee.parse)(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=(0,xee.parse)(r.host).host),(0,wee.installTimerFunctions)(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=(0,TPe.decode)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){wi('creating transport "%s"',e);let r=Object.assign({},this.opts.query);r.EIO=Eee.protocol,r.transport=e,this.id&&(r.sid=this.id);let n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return wi("options: %j",n),new APe.transports[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Q0.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(r){wi("error while creating transport: %s",r),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){wi("setting transport %s",e.name),this.transport&&(wi("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){wi('probing transport "%s"',e);let r=this.createTransport(e),n=!1;Q0.priorWebsocketSuccess=!1;let i=()=>{n||(wi('probe transport "%s" opened',e),r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(wi('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Q0.priorWebsocketSuccess=r.name==="websocket",wi('pausing current transport "%s"',this.transport.name),this.transport.pause(()=>{n||this.readyState!=="closed"&&(wi("changing transport and sending upgrade packet"),d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{wi('probe transport "%s" failed',e);let m=new Error("probe error");m.transport=r.name,this.emitReserved("upgradeError",m)}}))};function s(){n||(n=!0,d(),r.close(),r=null)}let o=f=>{let m=new Error("probe error: "+f);m.transport=r.name,s(),wi('probe transport "%s" failed because of error: %s',e,f),this.emitReserved("upgradeError",m)};function a(){o("transport closed")}function u(){o("socket closed")}function c(f){r&&f.name!==r.name&&(wi('"%s" works - aborting "%s"',f.name,r.name),s())}let d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",a),this.off("close",u),this.off("upgrading",c)};r.once("open",i),r.once("error",o),r.once("close",a),this.once("close",u),this.once("upgrading",c),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(wi("socket open"),this.readyState="open",Q0.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){wi("starting upgrade probes");let e=0,r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(wi('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}else wi('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this.getWritablePackets();wi("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){let i=this.writeBuffer[n].data;if(i&&(r+=(0,wee.byteLength)(i)),n>0&&r>this.maxPayload)return wi("only send %d out of %d packets",n,this.writeBuffer.length),this.writeBuffer.slice(0,n);r+=2}return wi("payload size is %d (max: %d)",r,this.maxPayload),this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;let s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){let e=()=>{this.onClose("forced close"),wi("socket closing - telling transport to close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){wi("socket error %j",e),Q0.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(wi('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let r=[],n=0,i=e.length;for(;n<i;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};t9.Socket=Q0;Q0.protocol=Eee.protocol});var BM=j(ao=>{"use strict";B();M();Object.defineProperty(ao,"__esModule",{value:!0});ao.nextTick=ao.parse=ao.installTimerFunctions=ao.transports=ao.TransportError=ao.Transport=ao.protocol=ao.Socket=void 0;var Tee=Aee();Object.defineProperty(ao,"Socket",{enumerable:!0,get:function(){return Tee.Socket}});ao.protocol=Tee.Socket.protocol;var Iee=Hg();Object.defineProperty(ao,"Transport",{enumerable:!0,get:function(){return Iee.Transport}});Object.defineProperty(ao,"TransportError",{enumerable:!0,get:function(){return Iee.TransportError}});var BPe=PM();Object.defineProperty(ao,"transports",{enumerable:!0,get:function(){return BPe.transports}});var MPe=X3();Object.defineProperty(ao,"installTimerFunctions",{enumerable:!0,get:function(){return MPe.installTimerFunctions}});var kPe=OM();Object.defineProperty(ao,"parse",{enumerable:!0,get:function(){return kPe.parse}});var CPe=Dg();Object.defineProperty(ao,"nextTick",{enumerable:!0,get:function(){return CPe.nextTick}})});var Oee=j(r9=>{"use strict";B();M();var RPe=r9&&r9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r9,"__esModule",{value:!0});r9.url=void 0;var NPe=BM(),FPe=RPe(n0()),Pee=FPe.default("socket.io-client:url");function HPe(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(Pee("protocol-less url %s",t),typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),Pee("parse %s",t),n=NPe.parse(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";let s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}r9.url=HPe});var MM=j(n9=>{"use strict";B();M();Object.defineProperty(n9,"__esModule",{value:!0});n9.hasBinary=n9.isBinary=void 0;var DPe=typeof ArrayBuffer=="function",LPe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Bee=Object.prototype.toString,UPe=typeof Blob=="function"||typeof Blob<"u"&&Bee.call(Blob)==="[object BlobConstructor]",qPe=typeof File=="function"||typeof File<"u"&&Bee.call(File)==="[object FileConstructor]";function Mee(t){return DPe&&(t instanceof ArrayBuffer||LPe(t))||UPe&&t instanceof Blob||qPe&&t instanceof File}n9.isBinary=Mee;function MS(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(MS(t[r]))return!0;return!1}if(Mee(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return MS(t.toJSON(),!0);for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&MS(t[r]))return!0;return!1}n9.hasBinary=MS});var kee=j(i9=>{"use strict";B();M();Object.defineProperty(i9,"__esModule",{value:!0});i9.reconstructPacket=i9.deconstructPacket=void 0;var jPe=MM();function KPe(t){let e=[],r=t.data,n=t;return n.data=kM(r,e),n.attachments=e.length,{packet:n,buffers:e}}i9.deconstructPacket=KPe;function kM(t,e){if(!t)return t;if((0,jPe.isBinary)(t)){let r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){let r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=kM(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){let r={};for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=kM(t[n],e));return r}return t}function $Pe(t,e){return t.data=CM(t.data,e),delete t.attachments,t}i9.reconstructPacket=$Pe;function CM(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=CM(t[r],e);else if(typeof t=="object")for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=CM(t[r],e));return t}});var kS=j(Of=>{"use strict";B();M();Object.defineProperty(Of,"__esModule",{value:!0});Of.Decoder=Of.Encoder=Of.PacketType=Of.protocol=void 0;var zPe=u7(),Ree=kee(),Nee=MM(),VPe=n0(),RM=(0,VPe.default)("socket.io-parser"),GPe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];Of.protocol=5;var Di;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Di=Of.PacketType||(Of.PacketType={}));var NM=class{constructor(e){this.replacer=e}encode(e){return RM("encoding packet %j",e),(e.type===Di.EVENT||e.type===Di.ACK)&&(0,Nee.hasBinary)(e)?this.encodeAsBinary({type:e.type===Di.EVENT?Di.BINARY_EVENT:Di.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Di.BINARY_EVENT||e.type===Di.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),RM("encoded %j as %s",e,r),r}encodeAsBinary(e){let r=(0,Ree.deconstructPacket)(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}};Of.Encoder=NM;function Cee(t){return Object.prototype.toString.call(t)==="[object Object]"}var Ug=class extends zPe.Emitter{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);let n=r.type===Di.BINARY_EVENT;n||r.type===Di.BINARY_ACK?(r.type=n?Di.EVENT:Di.ACK,this.reconstructor=new FM(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if((0,Nee.isBinary)(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0,n={type:Number(e.charAt(0))};if(Di[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Di.BINARY_EVENT||n.type===Di.BINARY_ACK){let s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);let o=e.substring(s,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){let s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";let i=e.charAt(r+1);if(i!==""&&Number(i)==i){let s=r+1;for(;++r;){let o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){let s=this.tryParse(e.substr(r));if(Ug.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return RM("decoded %s as %j",e,n),n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Di.CONNECT:return Cee(r);case Di.DISCONNECT:return r===void 0;case Di.CONNECT_ERROR:return typeof r=="string"||Cee(r);case Di.EVENT:case Di.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&GPe.indexOf(r[0])===-1);case Di.ACK:case Di.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};Of.Decoder=Ug;var FM=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let r=(0,Ree.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var HM=j(CS=>{"use strict";B();M();Object.defineProperty(CS,"__esModule",{value:!0});CS.on=void 0;function WPe(t,e,r){return t.on(e,r),function(){t.off(e,r)}}CS.on=WPe});var LM=j(s9=>{"use strict";B();M();var YPe=s9&&s9.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(s9,"__esModule",{value:!0});s9.Socket=void 0;var Bf=kS(),RS=HM(),XPe=u7(),ZPe=YPe(n0()),Fs=ZPe.default("socket.io-client:socket"),JPe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),DM=class extends XPe.Emitter{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[RS.on(e,"open",this.onopen.bind(this)),RS.on(e,"packet",this.onpacket.bind(this)),RS.on(e,"error",this.onerror.bind(this)),RS.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(JPe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;let n={type:Bf.PacketType.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){let o=this.ids++;Fs("emitting packet with ack id %d",o);let a=r.pop();this._registerAckCallback(o,a),n.id=o}let i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)?Fs("discard packet as the transport is not currently writable"):this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n),this.flags={},this}_registerAckCallback(e,r){var n;let i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}let s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&(Fs("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(a,1));Fs("event with ack id %d has timed out after %d ms",e,i),r.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),r.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{let s=(o,a)=>o?i(o):n(a);s.withError=!0,r.push(s),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());let n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(Fs("packet [%d] is discarded after %d tries",n.id,n.tryCount),this._queue.shift(),r&&r(i)):(Fs("packet [%d] was successfully sent",n.id),this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(Fs("draining queue"),!this.connected||this._queue.length===0)return;let r=this._queue[0];if(r.pending&&!e){Fs("packet [%d] has already been sent and is waiting for an ack",r.id);return}r.pending=!0,r.tryCount++,Fs("sending packet [%d] (try n\xB0%d)",r.id,r.tryCount),this.flags=r.flags,this.emit.apply(this,r.args)}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){Fs("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Bf.PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){Fs("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){let n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Bf.PacketType.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Bf.PacketType.EVENT:case Bf.PacketType.BINARY_EVENT:this.onevent(e);break;case Bf.PacketType.ACK:case Bf.PacketType.BINARY_ACK:this.onack(e);break;case Bf.PacketType.DISCONNECT:this.ondisconnect();break;case Bf.PacketType.CONNECT_ERROR:this.destroy();let n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){let r=e.data||[];Fs("emitting event %j",r),e.id!=null&&(Fs("attaching ack callback to event"),r.push(this.ack(e.id))),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let r=this._anyListeners.slice();for(let n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let r=this,n=!1;return function(...i){n||(n=!0,Fs("sending ack %j",i),r.packet({type:Bf.PacketType.ACK,id:e,data:i}))}}onack(e){let r=this.acks[e.id];if(typeof r!="function"){Fs("bad ack %s",e.id);return}delete this.acks[e.id],Fs("calling ack %s with %j",e.id,e.data),r.withError&&e.data.unshift(null),r.apply(this,e.data)}onconnect(e,r){Fs("socket connected with id %s",e),this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){Fs("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(Fs("performing disconnect (%s)",this.nsp),this.packet({type:Bf.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let r=this._anyOutgoingListeners.slice();for(let n of r)n.apply(this,e.data)}}};s9.Socket=DM});var Fee=j(NS=>{"use strict";B();M();Object.defineProperty(NS,"__esModule",{value:!0});NS.Backoff=void 0;function o9(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}NS.Backoff=o9;o9.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};o9.prototype.reset=function(){this.attempts=0};o9.prototype.setMin=function(t){this.ms=t};o9.prototype.setMax=function(t){this.max=t};o9.prototype.setJitter=function(t){this.jitter=t}});var Hee=j(jc=>{"use strict";B();M();var QPe=jc&&jc.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),eOe=jc&&jc.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),tOe=jc&&jc.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&QPe(e,t,r);return eOe(e,t),e},rOe=jc&&jc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jc,"__esModule",{value:!0});jc.Manager=void 0;var UM=BM(),nOe=LM(),iOe=tOe(kS()),c7=HM(),sOe=Fee(),oOe=u7(),aOe=rOe(n0()),ko=aOe.default("socket.io-client:manager"),qM=class extends oOe.Emitter{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,UM.installTimerFunctions(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new sOe.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;let i=r.parser||iOe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(ko("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;ko("opening %s",this.uri),this.engine=new UM.Socket(this.uri,this.opts);let r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;let i=c7.on(r,"open",function(){n.onopen(),e&&e()}),s=a=>{ko("error"),this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=c7.on(r,"error",s);if(this._timeout!==!1){let a=this._timeout;ko("connect attempt will timeout after %d",a);let u=this.setTimeoutFn(()=>{ko("connect attempt timed out after %d",a),i(),s(new Error("timeout")),r.close()},a);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){ko("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(c7.on(e,"ping",this.onping.bind(this)),c7.on(e,"data",this.ondata.bind(this)),c7.on(e,"error",this.onerror.bind(this)),c7.on(e,"close",this.onclose.bind(this)),c7.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){UM.nextTick(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){ko("error",e),this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new nOe.Socket(this,e,r),this.nsps[e]=n),n}_destroy(e){let r=Object.keys(this.nsps);for(let n of r)if(this.nsps[n].active){ko("socket %s is still active, skipping close",n);return}this._close()}_packet(e){ko("writing packet %j",e);let r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){ko("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){ko("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){ko("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)ko("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let r=this.backoff.duration();ko("will wait %dms before reconnect attempt",r),this._reconnecting=!0;let n=this.setTimeoutFn(()=>{e.skipReconnect||(ko("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(ko("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):(ko("reconnect success"),e.onreconnect())}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};jc.Manager=qM});var qee=j((ua,Uee)=>{"use strict";B();M();var uOe=ua&&ua.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ua,"__esModule",{value:!0});ua.default=ua.connect=ua.io=ua.Socket=ua.Manager=ua.protocol=void 0;var cOe=Oee(),FS=Hee();Object.defineProperty(ua,"Manager",{enumerable:!0,get:function(){return FS.Manager}});var Lee=LM();Object.defineProperty(ua,"Socket",{enumerable:!0,get:function(){return Lee.Socket}});var fOe=uOe(n0()),Dee=fOe.default("socket.io-client"),qg={};function f7(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let r=cOe.url(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=qg[i]&&s in qg[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,u;return a?(Dee("ignoring socket cache for %s",n),u=new FS.Manager(n,e)):(qg[i]||(Dee("new io instance for %s",n),qg[i]=new FS.Manager(n,e)),u=qg[i]),r.query&&!e.query&&(e.query=r.queryKey),u.socket(r.path,e)}ua.io=f7;ua.connect=f7;ua.default=f7;Object.assign(f7,{Manager:FS.Manager,Socket:Lee.Socket,io:f7,connect:f7});var dOe=kS();Object.defineProperty(ua,"protocol",{enumerable:!0,get:function(){return dOe.protocol}});Uee.exports=f7});var $M=j(a9=>{"use strict";B();M();var jM=a9&&a9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(a9,"__esModule",{value:!0});a9.ContractApi=void 0;var hOe=qQ(),lOe=KQ(),pOe=zQ(),bOe=qee(),gOe=t=>new Promise(e=>setTimeout(e,t)),jee=(t,e,r,n)=>new Promise((i,s)=>t().then(i).catch(o=>r>0&&(n&&n(o)||typeof n>"u")?gOe(e).then(jee.bind(null,t,e,r-1)).then(i).catch(s):s(o))),KM=class{constructor(e){this._core=e}syncHashedProps(e){return jM(this,void 0,void 0,function*(){return this._core.actionResolver.resolve(new lOe.SyncHashedPropsAction,{instance:e})})}getLatestInstance(e,r){return jM(this,void 0,void 0,function*(){return yield jee(()=>this._core.actionResolver.resolve(new hOe.GetLatestInstanceAction,{clazz:e,contractId:r}),3e3,10,i=>i.message.includes("The utxo related to the contract was not found"))})}subscribe(e,r){let n=this,i=this._core.getBaseUrl(),s=this._core.getApiKey(),o=bOe(i,{path:"/streams/contract",query:e.id,auth:{token:s}}),a=()=>{o.close(),n._core.events.delete(`${e.id.txId}:${e.id.outputIndex}`),n._core.logger.info("unsubscribe",`The connection to ${e.id.txId}:${e.id.outputIndex} has been unsubscribed.`)};return o.on("connect",function(){n._core.logger.info("Connected",`The connection to ${e.id.txId}:${e.id.outputIndex} has been established.`)}),o.on("connect_error",u=>{n._core.logger.error("connect_error","The connection")}),o.on("utxoSpent",function(u){return jM(this,void 0,void 0,function*(){n._core.logger.debug("utxoSpent",`Got message ${e.id.txId}:${e.id.outputIndex}: ${u}`);let c=e.clazz,d=yield(0,pOe.getTransaction)(n._core.getNetWork(),u.spentBy.txId),f=c.parseCallData(d,u.spentBy.inputIndex);if(Array.isArray(e.methodNames)&&!e.methodNames.includes(f.methodName))return;let m=Array.isArray(u.createdInSpentTxOutputs)?u.createdInSpentTxOutputs.map(p=>c.fromTx(d,p)):[];r({nexts:m,methodName:f.methodName,args:f.args.map(p=>p.value),tx:d})})}),o.on("subscribeFailed",function(u){n._core.logger.error("subscribeFailed",`Subscribe contract ${e.id.txId}:${e.id.outputIndex} failed: ${u}.`),a()}),o.on("error",function({statusCode:u,errorMsg:c}){n._core.logger.error("websocket error",`statusCode=${u}, errorMsg=${c}`),a()}),o.on("disconnect",function(){n._core.logger.info("Disconnected",`The connection to ${e.id.txId}:${e.id.outputIndex} disconnected.`),n._core.events.delete(`${e.id.txId}:${e.id.outputIndex}`)}),this._core.events.set(`${e.id.txId}:${e.id.outputIndex}`,o),{unsubscribe:a}}};a9.ContractApi=KM});var zM=j(P1=>{"use strict";B();M();var mOe=P1&&P1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},yOe=P1&&P1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(P1,"__esModule",{value:!0});P1.RequestController=void 0;var vOe=yOe(uh()),Kee=Tr(),d7;(function(t){t.apiKey="apiKey",t.network="network",t.timeout="timeout",t.maxRetries="maxRetries"})(d7||(d7={}));var jg=class{constructor(e,r){this._config=e,this._logger=r}request(e){return mOe(this,void 0,void 0,function*(){this._logger.debug(this.constructor.name,`[${e.method}]request ${e.pathPattern}`,e.data);let r=(0,vOe.default)(e.method,jg.getUrl(this.baseUrl,e.pathPattern,e.data)).auth(this._config.get(d7.apiKey),{type:"bearer"}).set("Content-Type","application/json").timeout(this._config.get(d7.timeout,2e4)).retry(this._config.get(d7.maxRetries,3));for(let n in e.headers||{})r=r.set(n,e.headers[n]);e.data&&(e.method==="GET"?r=r.query(e.data):r=r.send(e.data));try{let n=yield r;if(n.ok)return n.body;throw new Error(n.text)}catch(n){throw this._logger.error(this.constructor.name,n.message),n}})}get network(){return this._config.get(d7.network,Kee.bsv.Networks.mainnet)}get apiKey(){return this._config.get(d7.apiKey,"")}get baseUrl(){let e=this.network===Kee.bsv.Networks.mainnet?"https://api.scrypt.io":"https://testnet-api.scrypt.io";return process.env.BASEURL||e}static getUrl(e,r,n){let i=r.match(/:\w+/g)||[],s=r;for(let o of i){let a=o.replace(":",""),u=n[a];if(u===void 0)throw new Error(`Missing path argument ${a}`);if(typeof u!="string"&&typeof u!="number")throw new Error(`Path argument ${a} must be a string or number`);s=s.replace(o,u.toString())}return`${e.replace(/\/+$/,"")}/${s.replace(/^\/+/,"")}`}};P1.RequestController=jg});var GM=j(O1=>{"use strict";B();M();var _Oe=O1&&O1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(O1,"__esModule",{value:!0});O1.ActionResolver=O1.ActionError=void 0;var SOe=zM(),HS=class extends Error{constructor(e,r){super(r),this.statusCode=e,this.message=r}};O1.ActionError=HS;var VM=class{constructor(e,r){this._requestController=e,this._loggerController=r}resolve(e,r){return _Oe(this,void 0,void 0,function*(){let n=e.serilizeRequest(r),i=yield this._requestController.request({pathPattern:e.pathPattern,method:e.method,data:n});if(i.statusCode!==0){let s=SOe.RequestController.getUrl("/",e.pathPattern,n),o=`Action [${e.method} ${s}] failed with error code ${i.statusCode}, ${i.errorMsg}`;throw this._loggerController.error(this.constructor.name,o,i.data||""),new HS(i.statusCode,i.errorMsg)}return e.deserilizeResponse(i.data,r)})}};O1.ActionResolver=VM});var $ee=j(DS=>{"use strict";B();M();Object.defineProperty(DS,"__esModule",{value:!0});DS.Config=void 0;var WM=class{constructor(){this.options=new Map,this.isInitialized=!1}get(e,r){if(!this.isInitialized)throw new Error("Config is not initialized");let n=this.options.get(e);if(!n&&r===void 0)throw new Error(`Config option ${e} not found`);return n||r}set(e,r){this.options.set(e,r)}finishInit(){this.isInitialized=!0}};DS.Config=WM});var Vee=j(LS=>{"use strict";B();M();Object.defineProperty(LS,"__esModule",{value:!0});LS.LoggerController=void 0;var zee={verbose:0,debug:1,info:2,warning:3,error:4,off:5},YM;(function(t){t.logLevel="logLevel"})(YM||(YM={}));var XM=class{constructor(e){this.config=e}logLevel(){return this.config.get(YM.logLevel,"info")}verbose(e,r,...n){this._log("verbose",e,r,...n)}debug(e,r,...n){this._log("debug",e,r,...n)}info(e,r,...n){this._log("info",e,r,...n)}warning(e,r,...n){this._log("warning",e,r,...n)}error(e,r,...n){this._log("error",e,r,...n)}_log(e,r,n,...i){let s=zee[this.logLevel()];if(zee[e]<s)return;let a=`[${e.toUpperCase()}][#${r}]: `;switch(e){case"verbose":case"debug":console.debug(a,n,...i);break;case"info":console.log(a,n,...i);break;case"warning":console.warn(a,n,...i);break;case"error":console.error(a,n,...i)}}};LS.LoggerController=XM});var Gee=j(US=>{"use strict";B();M();Object.defineProperty(US,"__esModule",{value:!0});US.Core=void 0;var wOe=GM(),xOe=$ee(),EOe=Vee(),AOe=zM(),ZM=class{constructor(){this.config=new xOe.Config,this.logger=new EOe.LoggerController(this.config),this.requestController=new AOe.RequestController(this.config,this.logger),this.actionResolver=new wOe.ActionResolver(this.requestController,this.logger),this.events=new Map}init(e){Object.keys(e).forEach(r=>{this.config.set(r,e[r])}),this.config.finishInit()}getNetWork(){return this.requestController.network}getApiKey(){return this.requestController.apiKey}getBaseUrl(){return this.requestController.baseUrl}};US.Core=ZM});var JM=j(ed=>{"use strict";B();M();Object.defineProperty(ed,"__esModule",{value:!0});ed.BsvApi=ed.ContractApi=ed.ActionError=ed.Scrypt=void 0;var TOe=hM(),IOe=$M(),POe=Gee(),qS=new POe.Core,OOe=new TOe.BsvApi(qS),BOe=new IOe.ContractApi(qS);ed.Scrypt={bsvApi:OOe,contractApi:BOe,init(t){qS.init(t)},getConfig(t,e){return qS.config.get(t,e)}};var MOe=GM();Object.defineProperty(ed,"ActionError",{enumerable:!0,get:function(){return MOe.ActionError}});var kOe=$M();Object.defineProperty(ed,"ContractApi",{enumerable:!0,get:function(){return kOe.ContractApi}});var COe=hM();Object.defineProperty(ed,"BsvApi",{enumerable:!0,get:function(){return COe.BsvApi}})});var Yee=j(c9=>{"use strict";B();M();var u9=c9&&c9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(c9,"__esModule",{value:!0});c9.ScryptProvider=void 0;var Wee=Tr(),ROe=X0(),h7=JM(),QM=class extends ROe.Provider{constructor(){super(),this._isConnected=!1;let e=h7.Scrypt.getConfig("network","mainnet");this.network=e==="mainnet"?Wee.bsv.Networks.livenet:Wee.bsv.Networks.testnet,this._initializeConnection()}isConnected(){return this._isConnected}connect(){var e;return u9(this,void 0,void 0,function*(){try{let{success:r,error:n}=yield h7.Scrypt.bsvApi.connect();if(this._isConnected=r,!r)throw new Error(n);this.emit("connected",!0)}catch(r){throw this.emit("connected",!1),new Error(`connect failed: ${(e=r.message)!==null&&e!==void 0?e:"unknown error"}`)}return this})}updateNetwork(e){this.network=e,this.emit("networkChange",e)}getNetwork(){return this.network}getFeePerKb(){return u9(this,void 0,void 0,function*(){return yield this._ready(),h7.Scrypt.bsvApi.getFeePerKB()})}sendRawTransaction(e){return u9(this,void 0,void 0,function*(){return yield this._ready(),h7.Scrypt.bsvApi.sendRawTransaction(e)})}getTransaction(e){return u9(this,void 0,void 0,function*(){return yield this._ready(),h7.Scrypt.bsvApi.getTransaction(e)})}listUnspent(e,r){return u9(this,void 0,void 0,function*(){return yield this._ready(),h7.Scrypt.bsvApi.listUnspent(e,r)})}getBalance(e){return u9(this,void 0,void 0,function*(){return yield this._ready(),h7.Scrypt.bsvApi.getBalance(e)})}};c9.ScryptProvider=QM});var Xee=j(ca=>{"use strict";B();M();Object.defineProperty(ca,"__esModule",{value:!0});ca.ScryptProvider=ca.DummyProvider=ca.DefaultProvider=ca.TaalProvider=ca.GorillapoolProvider=ca.SensibleProvider=ca.WhatsonchainProvider=void 0;var NOe=Pg();Object.defineProperty(ca,"WhatsonchainProvider",{enumerable:!0,get:function(){return NOe.WhatsonchainProvider}});var FOe=GB();Object.defineProperty(ca,"SensibleProvider",{enumerable:!0,get:function(){return FOe.SensibleProvider}});var HOe=YB();Object.defineProperty(ca,"GorillapoolProvider",{enumerable:!0,get:function(){return HOe.GorillapoolProvider}});var DOe=JB();Object.defineProperty(ca,"TaalProvider",{enumerable:!0,get:function(){return DOe.TaalProvider}});var LOe=kQ();Object.defineProperty(ca,"DefaultProvider",{enumerable:!0,get:function(){return LOe.DefaultProvider}});var UOe=RQ();Object.defineProperty(ca,"DummyProvider",{enumerable:!0,get:function(){return UOe.DummyProvider}});var qOe=Yee();Object.defineProperty(ca,"ScryptProvider",{enumerable:!0,get:function(){return qOe.ScryptProvider}})});var l7=j(ch=>{"use strict";B();M();var Kg=ch&&ch.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(ch,"__esModule",{value:!0});ch.Signer=ch.DEFAULT_SIGHASH_TYPE=void 0;var B1=Tr();ch.DEFAULT_SIGHASH_TYPE=B1.bsv.crypto.Signature.ALL;var ek=class{constructor(e){this._isSigner=!0,this.provider=e}signRawTransaction(e,r){return Kg(this,void 0,void 0,function*(){return(yield this.signTransaction(new B1.bsv.Transaction(e),r)).toString()})}signTransaction(e,r){return Kg(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=(r?.sigRequests||[]).reduce((a,u)=>(a.set(u.inputIndex,u),a),new Map);e.inputs.forEach((a,u)=>{if(a.output){let c=i.get(u);if(!c)return;if((c.scriptHex?c.scriptHex:B1.bsv.Script.buildPublicKeyHashOut(c.address.toString()).toHex())!==a.output.script.toHex())throw new Error(`\`SignatureRequest\` script is not match the script of input: ${u}`);if(c.satoshis!==a.output.satoshis)throw new Error(`\`SignatureRequest\` satoshis is not match the satoshis of input: ${u}`)}else{let c=i.get(u);if(!c)throw new Error(`\`SignatureRequest\` info should be provided for the input ${u} to call #signTransaction`);let d=c.scriptHex?new B1.bsv.Script(c.scriptHex):B1.bsv.Script.buildPublicKeyHashOut(c.address.toString());a.output=new B1.bsv.Transaction.Output({script:d,satoshis:c.satoshis})}});let s=e.inputs.map((a,u)=>{var c,d,f,m,p;if(!((d=(c=a.output)===null||c===void 0?void 0:c.script)===null||d===void 0)&&d.isPublicKeyHashOut()){let y=a.output.script.toAddress(n);return{prevTxId:(0,B1.toHex)(a.prevTxId),outputIndex:a.outputIndex,inputIndex:u,satoshis:(f=a.output)===null||f===void 0?void 0:f.satoshis,address:y,scriptHex:(p=(m=a.output)===null||m===void 0?void 0:m.script)===null||p===void 0?void 0:p.toHex(),sigHashType:ch.DEFAULT_SIGHASH_TYPE}}else return}).filter(a=>typeof a=="object"),o=yield this.getSignatures(e.toString(),s);return e.inputs.forEach((a,u)=>{var c;let d=o.find(f=>f.inputIndex===u);if(d&&((c=a.output)===null||c===void 0?void 0:c.script.isPublicKeyHashOut())){let f=new B1.bsv.Script("").add(E.Buffer.from(d.sig,"hex")).add(E.Buffer.from(d.publicKey,"hex"));a.setScript(f)}}),e})}get connectedProvider(){if(!this.provider)throw new Error(`the provider of signer ${this.constructor.name} is not set yet!`);return this.provider}signAndsendTransaction(e,r){return Kg(this,void 0,void 0,function*(){yield e.sealAsync();let n=yield this.signTransaction(e,r);return yield this.connectedProvider.sendTransaction(n),n})}listUnspent(e,r){return this.connectedProvider.listUnspent(e,r)}getBalance(e){return Kg(this,void 0,void 0,function*(){return e=e||(yield this.getDefaultAddress()),this.connectedProvider.getBalance(e)})}static isSigner(e){return!!(e&&e._isSigner)}alignProviderNetwork(){var e;return Kg(this,void 0,void 0,function*(){if(yield this.isAuthenticated()){yield(e=this.provider)===null||e===void 0?void 0:e.connect();let n=yield this.getNetwork();this.connectedProvider.updateNetwork(n)}})}};ch.Signer=ek});var Jee=j(f9=>{"use strict";B();M();var dh=f9&&f9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(f9,"__esModule",{value:!0});f9.TestWallet=void 0;var jOe=l7(),Kc=Tr(),KOe=Lc(),$Oe=Kc.bsv.crypto.Signature.ALL,$g=class extends jOe.Signer{constructor(e,r){super(r),this.splitFeeTx=!0,e instanceof Array?this._privateKeys=e:this._privateKeys=[e],this.checkPrivateKeys(),this._utxoManagers=new Map}static random(e,r=Kc.bsv.Networks.testnet){return new $g(Kc.bsv.PrivateKey.fromRandom(r),e)}enableSplitFeeTx(e){this.splitFeeTx=e}isAuthenticated(){return dh(this,void 0,void 0,function*(){return Promise.resolve(!0)})}requestAuth(){return dh(this,void 0,void 0,function*(){return Promise.resolve({isAuthenticated:!0,error:""})})}get network(){return this.provider.getNetwork()}get addresses(){return this._privateKeys.map(e=>e.toAddress(this.network).toString())}addPrivateKey(e){let r=e instanceof Array?e:[e];return this._privateKeys.push(...r),this.checkPrivateKeys(),this}checkPrivateKeys(){let e=this._privateKeys.map(r=>r.toAddress().network);if(!e.every(r=>r.name===e[0].name))throw new Error(`All private keys should be ${e[0].name} private key`);return e[0]}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Promise.resolve(this._defaultPrivateKey.toAddress())}getDefaultPubKey(){return Promise.resolve(this._defaultPrivateKey.toPublicKey())}getPubKey(e){return Promise.resolve(this._getPrivateKeys(e)[0].toPublicKey())}getNetwork(){return Promise.resolve(this._defaultPrivateKey.toAddress().network)}getBalance(e){let r=Object.create(null,{getBalance:{get:()=>super.getBalance}});return dh(this,void 0,void 0,function*(){e=e||(yield this.getDefaultAddress());let n=this._utxoManagers.get(e.toString());return n?{confirmed:n.balance(),unconfirmed:0}:r.getBalance.call(this,e)})}signTransaction(e,r){return dh(this,void 0,void 0,function*(){let n=r?.address;return this._checkAddressOption(n),Promise.resolve(e.sign(this._getPrivateKeys(n)))})}signMessage(e,r){throw new Error("Method #signMessage not implemented.")}getSignatures(e,r){this._checkAddressOption(this._getAddressesIn(r));let n=new Kc.bsv.Transaction(e),i=r.flatMap(s=>{let o=s.scriptHex?new Kc.bsv.Script(s.scriptHex):Kc.bsv.Script.buildPublicKeyHashOut((0,KOe.parseAddresses)(s.address,this.network)[0]);return n.inputs[s.inputIndex].output=new Kc.bsv.Transaction.Output({script:o,satoshis:s.satoshis}),this._getPrivateKeys(s.address).map(u=>{let c=s.csIdx!==void 0?o.subScript(s.csIdx):o;return{sig:(0,Kc.signTx)(n,u,c,s.satoshis,s.inputIndex,s.sigHashType),publicKey:u.publicKey.toString(),inputIndex:s.inputIndex,sigHashType:s.sigHashType||$Oe,csIdx:s.csIdx}})});return Promise.resolve(i)}listUnspent(e,r){return dh(this,void 0,void 0,function*(){if(this.splitFeeTx){let n=this._utxoManagers.get(e.toString());if(n||(n=new tk(e,this),this._utxoManagers.set(e.toString(),n),yield n.init()),r){let i=r.unspentValue,s=r.estimateSize,o=r.feePerKb,a=Math.ceil(s/1e3*o-i);return a+=Math.ceil(((r.additional||0)+180)/1e3*o),n.fetchUtxos(a)}else return n.fetchUtxos(0)}else return this.provider.listUnspent(e,r)})}_getAddressesIn(e){return(e||[]).flatMap(r=>r.address instanceof Array?r.address:[r.address])}_checkAddressOption(e){if(!!e){if(e instanceof Array)e.forEach(r=>this._checkAddressOption(r));else if(!this.addresses.includes(e.toString()))throw new Error(`the address ${e.toString()} does not belong to this TestWallet`)}}get _defaultPrivateKey(){return this._privateKeys[0]}_getPrivateKeys(e){if(!e)return[this._defaultPrivateKey];this._checkAddressOption(e);let r=[];return e instanceof Array?e.forEach(n=>r.push(n.toString())):r.push(e.toString()),this._privateKeys.filter(n=>r.includes(n.toAddress(this.network).toString()))}signAndsendTransaction(e,r){let n=Object.create(null,{signAndsendTransaction:{get:()=>super.signAndsendTransaction}});return dh(this,void 0,void 0,function*(){let i=yield n.signAndsendTransaction.call(this,e,r),s=yield this.getDefaultAddress(),o=this._utxoManagers.get(s.toString());return o&&o.collectUtxoFromTx(e),i})}};f9.TestWallet=$g;var fh;(function(t){t[t.UNINITIALIZED=0]="UNINITIALIZED",t[t.INITIALIZING=1]="INITIALIZING",t[t.INITIALIZED=2]="INITIALIZED"})(fh||(fh={}));var tk=class{constructor(e,r){this.availableUtxos=[],this.initStates=fh.UNINITIALIZED,this.initUtxoCnt=0,this.feePerkb=50,this.address=e,this.signer=r}init(){return dh(this,void 0,void 0,function*(){if(this.initStates===fh.INITIALIZED)return this;for(this.initStates===fh.UNINITIALIZED&&(this.initStates=fh.INITIALIZING,this.availableUtxos=yield this.signer.connectedProvider.listUnspent(this.address),this.feePerkb=yield this.signer.connectedProvider.getFeePerKb(),this.initStates=fh.INITIALIZED,this.initUtxoCnt=this.availableUtxos.length);this.initStates===fh.INITIALIZING;)yield Zee(1);return this})}balance(){return this.availableUtxos.reduce((e,r)=>e+r.satoshis,0)}fetchUtxos(e){return dh(this,void 0,void 0,function*(){if(this.initStates===fh.INITIALIZED&&this.initUtxoCnt>0&&this.availableUtxos.length===0)for(let c=0;c<30&&(console.log("waiting for available utxos"),yield Zee(1),!(this.availableUtxos.length>0));c++);if(e<=0)return this.availableUtxos.splice(0);let r=this.availableUtxos.sort((u,c)=>u.satoshis-c.satoshis);if(e>r.reduce((u,c)=>u+c.satoshis,0))throw new Error("no sufficient utxos to pay the fee of "+e);let n=0,i=0,s=1,o=0;for(let u=0;u<r.length;u++){i+=r[u].satoshis;let c=Math.ceil((180*(u+1)+(10+34)*2)*this.feePerkb/1e3);if(o=e+c+s,i>=o){n=u;break}}let a=r.slice(0,n+1);if(this.availableUtxos=r.slice(n+1),i>=o){let u=new Kc.bsv.Transaction().from(a).addOutput(new Kc.bsv.Transaction.Output({script:Kc.bsv.Script.buildPublicKeyHashOut(this.address),satoshis:e})).feePerKb(this.feePerkb).change(this.address);yield this.signer.signAndsendTransaction(u);let c=this.availableUtxos.findIndex(d=>d.satoshis===e);return this.availableUtxos.splice(c,1)}else return a})}collectUtxoFromTx(e){let r=e.id;e.outputs.forEach((n,i)=>{this.collectUtxoFrom(n,r,i)})}collectUtxoFrom(e,r,n){e.script.toHex()===this.utxoScriptHex&&this.availableUtxos.push({txId:r,outputIndex:n,satoshis:e.satoshis,script:e.script.toHex()})}get utxoScriptHex(){return Kc.bsv.Script.buildPublicKeyHashOut(this.address).toHex()}},Zee=t=>dh(void 0,void 0,void 0,function*(){return new Promise(e=>{setTimeout(()=>{e({})},t*1e3)})})});var Qee=j(d9=>{"use strict";B();M();var M1=d9&&d9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(d9,"__esModule",{value:!0});d9.SensiletSigner=void 0;var p7=Tr(),zOe=l7(),VOe=Lc(),jS=class extends zOe.Signer{constructor(e){super(e)}isAuthenticated(){return this._initTarget(),this._target.isConnect()}requestAuth(){return M1(this,void 0,void 0,function*(){let e=!1,r="";try{yield this.getConnectedTarget(),yield this.alignProviderNetwork(),e=!0}catch(n){r=n.toString()}return Promise.resolve({isAuthenticated:e,error:r})})}_initTarget(){if(!this._target)if(typeof window.sensilet<"u")this._target=window.sensilet;else throw new Error("sensilet is not installed")}getConnectedTarget(){return M1(this,void 0,void 0,function*(){if(!(yield this.isAuthenticated()))try{this._initTarget();let r=yield this._target.requestAccount();this._address=p7.bsv.Address.fromString(r)}catch(r){throw new Error(`Sensilet requestAccount failed: ${r}`)}return this._target})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return M1(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddress();return p7.bsv.Address.fromString(r)})}getNetwork(){return M1(this,void 0,void 0,function*(){return(yield this.getDefaultAddress()).network})}getBalance(e){return e?this.connectedProvider.getBalance(e):this.getConnectedTarget().then(r=>r.getBsvBalance()).then(r=>r.balance)}getDefaultPubKey(){return M1(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPublicKey();return Promise.resolve(new p7.bsv.PublicKey(r))})}getPubKey(e){return M1(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return M1(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return(yield this.getConnectedTarget()).signMessage(e)})}getSignatures(e,r){return M1(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(a=>(0,VOe.parseAddresses)(a.address,n).map(c=>{let d=a.scriptHex;return d?a.csIdx!==void 0&&(d=p7.bsv.Script.fromHex(d).subScript(a.csIdx).toHex()):d=p7.bsv.Script.buildPublicKeyHashOut(c).toHex(),{txHex:e,inputIndex:a.inputIndex,scriptHex:d,satoshis:a.satoshis,sigtype:a.sigHashType||p7.DEFAULT_SIGHASH_TYPE,address:c.toString()}})),o=yield(yield this.getConnectedTarget()).signTx({list:i});return i.map((a,u)=>({inputIndex:a.inputIndex,sig:o.sigList[u].sig,publicKey:o.sigList[u].publicKey,sigHashType:r[u].sigHashType||p7.DEFAULT_SIGHASH_TYPE}))})}};d9.SensiletSigner=jS;jS.DEBUG_TAG="SensiletSigner"});var tte=j(k1=>{"use strict";B();M();var td=k1&&k1.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},GOe=k1&&k1.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(k1,"__esModule",{value:!0});k1.DotwalletSigner=void 0;var h9=Tr(),WOe=l7(),ete=Lc(),KS=GOe(uh()),$S={dapp_list_unspent:"/v1/grandet_dapp/dapp_list_unspent",dapp_list_unspent_by_address:"/v1/grandet_dapp/dapp_list_unspent_by_address",dapp_sign_raw_transaction:"/v1/grandet_dapp/dapp_sign_raw_transaction",dapp_get_signature:"/v1/grandet_dapp/dapp_get_signature",dapp_get_balance:"/v1/grandet_dapp/dapp_get_balance",dapp_send_raw_transaction:"/v1/grandet_dapp/dapp_send_raw_transaction",dapp_get_raw_change_address:"/v1/grandet_dapp/dapp_get_raw_change_address",dapp_get_public_key:"/v1/grandet_dapp/dapp_get_public_key",get_access_token:"/v1/oauth2/get_access_token"};function zS(t){if(t.ok){let e=t.body?t.body:JSON.parse(t.text),{code:r,data:n,msg:i}=e;if(r===0)return n;throw r===75e3&&window.localStorage.removeItem("access_token"),new Error(`error response, code = ${r}, msg: ${i}`)}else throw new Error("error response")}var VS="https://api.ddpurse.com",GS=class extends WOe.Signer{constructor(e,r){super(r),this.sender={appid:"bsv_coin_regular",user_index:0},this.utxos_public_key=new Map,this.accessToken=e}isAuthenticated(){return this.accessToken?Promise.resolve(!0):Promise.resolve(!1)}requestAuth(){return td(this,void 0,void 0,function*(){return this.accessToken?(yield this.alignProviderNetwork(),Promise.resolve({isAuthenticated:!0,error:""})):Promise.resolve({isAuthenticated:!1,error:""})})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return td(this,void 0,void 0,function*(){return(yield this.getDefaultPubKey()).toAddress(h9.bsv.Networks.mainnet)})}getNetwork(){return td(this,void 0,void 0,function*(){return(yield this.getDefaultAddress()).network})}getBalance(e){return td(this,void 0,void 0,function*(){if(e)return this.connectedProvider.getBalance(e);let r=yield KS.default.post(`${VS}${$S.dapp_get_balance}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender}),n=zS(r),{confirm:i,unconfirm:s}=n;return{confirmed:i,unconfirmed:s}})}getDefaultPubKey(){return td(this,void 0,void 0,function*(){if(this.default_public_key)return this.default_public_key;let e=yield KS.default.post(`${VS}${$S.dapp_get_public_key}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender}),r=zS(e),{public_key:n}=r;return this.default_public_key=h9.bsv.PublicKey.fromString(n),this.default_public_key})}getPubKey(e){return td(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return td(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#signMessage not implemented.`)})}getSignatures(e,r){return td(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(s=>(0,ete.parseAddresses)(s.address,n).map(a=>{let u=s.scriptHex;return u?s.csIdx!==void 0&&(u=h9.bsv.Script.fromHex(u).subScript(s.csIdx).toHex()):u=h9.bsv.Script.buildPublicKeyHashOut(a).toHex(),{txHex:e,inputIndex:s.inputIndex,scriptHex:u,satoshis:s.satoshis,sigtype:s.sigHashType||h9.DEFAULT_SIGHASH_TYPE,prevTxId:s.prevTxId,outputIndex:s.outputIndex,address:a.toString()}}));return Promise.all(i.map(s=>td(this,void 0,void 0,function*(){let o=yield KS.default.post(`${VS}${$S.dapp_get_signature}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender,input_index:s.inputIndex,sig_type:s.sigtype,rawtx:e,addr:s.address}),a=zS(o),{hex_signature:u}=a,c=this.utxos_public_key.get(`${s.prevTxId}:${s.outputIndex}`);return c||(c=(0,h9.toHex)(this.default_public_key)),{inputIndex:s.inputIndex,sig:u,publicKey:c,sigHashType:s.sigtype}})))})}listUnspent(e,r){return td(this,void 0,void 0,function*(){let n=yield KS.default.post(`${VS}${$S.dapp_list_unspent}`).set("Content-Type","application/json").set("Authorization",`Bearer ${this.accessToken}`).send({sender:this.sender,min_amount:0}),s=zS(n).utxos.map(o=>({txId:o.tx_hash,outputIndex:o.output_index,satoshis:o.satoshis,script:o.script,address:o.addr,pubkey:o.pubkey}));return s.forEach(o=>{this.utxos_public_key.set(`${o.txId}:${o.outputIndex}`,o.pubkey)}),r?(0,ete.filterUTXO)(s,r):s})}};k1.DotwalletSigner=GS;GS.DEBUG_TAG="DotwalletSigner"});var ste=j(rd=>{"use strict";B();M();var rk=rd&&rd.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(rd,"__esModule",{value:!0});rd.sendAction=rd.TAALWalletAction=rd.sendMessageAndWaitForResponse=void 0;var zg=[],nte=()=>rk(void 0,void 0,void 0,function*(){if(zg.length===0)return;let t=zg[0];try{let e=yield t.request();t.resolve(e)}catch(e){t.reject(e)}finally{zg.shift(),nte()}}),YOe=0;function ite(t,e){return new Promise((r,n)=>{let i=YOe++;e.requestId=i;let s=()=>rk(this,void 0,void 0,function*(){return new Promise((o,a)=>{t.postMessage(e);function u(c){c.requestId===i&&(t.onMessage.removeListener(u),o(c))}t.onMessage.addListener(u),setTimeout(()=>{t.onMessage.removeListener(u),a(new Error("Timeout waiting for response"))},1e4)})});zg.push({request:s,resolve:r,reject:n}),zg.length===1&&nte()})}rd.sendMessageAndWaitForResponse=ite;var rte;(function(t){t.GetAddress="getAddress",t.GetBalance="getBalance",t.GetRootPublicKey="getRootPublicKey",t.GetPublicKey="getPublicKey",t.GetNetwork="getNetwork",t.SignTx="signTx",t.SignPreimage="signPreimage",t.SignMessage="signMessage"})(rte||(rd.TAALWalletAction=rte={}));function XOe(t,e,r){return rk(this,void 0,void 0,function*(){let i=yield ite(t,r?{action:e,payload:r}:{action:e});if(i.action==="error")throw new Error(i.payload.reason);return i})}rd.sendAction=XOe});var ate=j(l9=>{"use strict";B();M();var Mf=l9&&l9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(l9,"__esModule",{value:!0});l9.TAALSigner=void 0;var ZOe=l7(),$c=Tr(),ote=Lc(),bu=ste(),nk=$c.bsv.crypto.Signature.ALL,JOe="engokokaoeppkmchbkjeoeimiffobcke",ik=class extends ZOe.Signer{constructor(e,r="APP_NAME"){super(e),this._app_name=r}isAuthenticated(){return Mf(this,void 0,void 0,function*(){return!!this._port})}requestAuth(){return Mf(this,void 0,void 0,function*(){let e=!1,r="";try{this._port=chrome.runtime.connect(JOe,{name:this._app_name}),yield this.getDefaultAddress(),yield this.alignProviderNetwork(),e=!!this._port}catch(n){r=n.toString()}return{isAuthenticated:e,error:r}})}assertIsAuthenticated(){if(!this._port)throw new Error("TAAL chrome wallet is not connected!")}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Mf(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield(0,bu.sendAction)(this._port,bu.TAALWalletAction.GetAddress);return $c.bsv.Address.fromString(e.payload)})}getDefaultPubKey(){return Mf(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield this.getNetwork(),r=yield(0,bu.sendAction)(this._port,bu.TAALWalletAction.GetPublicKey),n=new $c.bsv.PublicKey(r.payload,{network:e});return Promise.resolve(n)})}getPubKey(e){return Mf(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}getNetwork(){return Mf(this,void 0,void 0,function*(){this.assertIsAuthenticated();let e=yield(0,bu.sendAction)(this._port,bu.TAALWalletAction.GetNetwork),r=$c.bsv.Networks.get(e.payload);return Promise.resolve(r)})}updateInputsWithInfo(e,r){return e.inputs.forEach((n,i)=>{let s=r.find(o=>o.inputIndex===i);s&&(n.output=new $c.bsv.Transaction.Output({satoshis:s.satoshis,script:$c.bsv.Script.fromHex(s.scriptHex)}))}),e}signTransaction(e,r){var n;return Mf(this,void 0,void 0,function*(){let i=yield this.getNetwork(),s=yield this.getDefaultAddress(),o=!((n=r?.sigRequests)===null||n===void 0)&&n.length?r.sigRequests:e.inputs.map((p,y)=>{var w,P,C,R,T,k;let H=r&&r.address?r.address:!((w=p.output)===null||w===void 0)&&w.script.isPublicKeyHashOut()?p.output.script.toAddress(i):s;return{prevTxId:(0,$c.toHex)(p.prevTxId),outputIndex:p.outputIndex,inputIndex:y,satoshis:(C=(P=p.output)===null||P===void 0?void 0:P.satoshis)!==null&&C!==void 0?C:0,address:H,scriptHex:(k=(T=(R=p.output)===null||R===void 0?void 0:R.script)===null||T===void 0?void 0:T.toHex())!==null&&k!==void 0?k:"",sigHashType:nk}}),a=e.toString(),u=o.flatMap(p=>(0,ote.parseAddresses)(p.address,i).map(w=>({txHex:a,inputIndex:p.inputIndex,scriptHex:p.scriptHex||$c.bsv.Script.buildPublicKeyHashOut(w).toHex(),satoshis:p.satoshis,sigtype:p.sigHashType||nk,address:w.toString()}))),c=this.updateInputsWithInfo(e,u);this.assertIsAuthenticated();let f=(yield(0,bu.sendAction)(this._port,bu.TAALWalletAction.SignTx,c)).payload,m=new $c.bsv.Transaction(f);return this.updateInputsWithInfo(m,u)})}getSignatures(e,r){return Mf(this,void 0,void 0,function*(){let n=yield this.getNetwork(),i=r.flatMap(o=>(0,ote.parseAddresses)(o.address,n).map(u=>{let c=o.scriptHex;return o?o.csIdx!==void 0&&(c=$c.bsv.Script.fromHex(c).subScript(o.csIdx).toHex()):c=$c.bsv.Script.buildPublicKeyHashOut(u).toHex(),{tx:e,i:o.inputIndex,script:c,satoshis:o.satoshis,sighash:o.sigHashType||nk,address:u.toString()}}));return(yield Promise.all(i.map(o=>this.signCustomInput(o)))).map(o=>({inputIndex:o.inputIndex,sig:(0,$c.toHex)(o.signature),publicKey:o.publicKey.toString(),sigHashType:o.sigtype}))})}signMessage(e,r){return Mf(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return this.assertIsAuthenticated(),(yield(0,bu.sendAction)(this._port,bu.TAALWalletAction.SignMessage,e)).payload})}getBalance(e){return Mf(this,void 0,void 0,function*(){return e?this.connectedProvider.getBalance(e):{confirmed:(yield(0,bu.sendAction)(this._port,bu.TAALWalletAction.GetBalance)).payload,unconfirmed:0}})}signCustomInput(e){return Mf(this,void 0,void 0,function*(){let r=yield this.getDefaultPubKey(),n=yield(0,bu.sendAction)(this._port,bu.TAALWalletAction.SignPreimage,e);return{inputIndex:e.i,sigtype:e.sighash,publicKey:r,signature:n.payload}})}};l9.TAALSigner=ik});var ute=j(p9=>{"use strict";B();M();var Du=p9&&p9.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(f){o(f)}}function u(d){try{c(n.throw(d))}catch(f){o(f)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(p9,"__esModule",{value:!0});p9.PandaSigner=void 0;var QOe=l7(),WS=Tr(),eBe=Lc(),YS=class extends QOe.Signer{constructor(e){super(e)}isAuthenticated(){return this._initTarget(),this._target.isConnected()}requestAuth(){return Du(this,void 0,void 0,function*(){let e=!1,r="";try{yield this.getConnectedTarget(),yield this.alignProviderNetwork(),e=!0}catch(n){r=n.toString()}return Promise.resolve({isAuthenticated:e,error:r})})}_initTarget(){if(!this._target)if(typeof window.panda<"u")this._target=window.panda;else throw new Error("panda is not installed")}getConnectedTarget(){return Du(this,void 0,void 0,function*(){if(!(yield this.isAuthenticated()))try{this._initTarget();let r=yield this._target.connect();if(r&&r.includes("canceled"))throw new Error(r)}catch(r){throw new Error(`panda requestAccount failed: ${r}`)}return this._target})}setProvider(e){throw new Error("cannot alter provider")}getDefaultAddress(){return Du(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddresses();return WS.bsv.Address.fromString(r.bsvAddress)})}getOrdAddress(){return Du(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getAddresses();return WS.bsv.Address.fromString(r.ordAddress)})}getNetwork(){return Du(this,void 0,void 0,function*(){let e=yield this.getDefaultAddress();return Promise.resolve(e.network)})}getBalance(e){return Du(this,void 0,void 0,function*(){if(e)return this.connectedProvider.getBalance(e);let n=yield(yield this.getConnectedTarget()).getBalance();return Promise.resolve({confirmed:n.satoshis,unconfirmed:0})})}getDefaultPubKey(){return Du(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPubKeys();return Promise.resolve(new WS.bsv.PublicKey(r.bsvPubKey))})}getOrdPubKey(){return Du(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getPubKeys();return Promise.resolve(new WS.bsv.PublicKey(r.ordPubKey))})}getOrdinals(){return Du(this,void 0,void 0,function*(){let r=yield(yield this.getConnectedTarget()).getOrdinals();return Promise.resolve(r)})}transferOrdinal(e){return Du(this,void 0,void 0,function*(){let n=yield(yield this.getConnectedTarget()).transferOrdinal(e);return Promise.resolve(n)})}getPubKey(e){return Du(this,void 0,void 0,function*(){throw new Error(`Method ${this.constructor.name}#getPubKey not implemented.`)})}signMessage(e,r){return Du(this,void 0,void 0,function*(){if(r)throw new Error(`${this.constructor.name}#signMessge with \`address\` param is not supported!`);return(yield(yield this.getConnectedTarget()).signMessage({message:e})).sig})}getSignatures(e,r){return Du(this,void 0,void 0,function*(){let n=yield this.getConnectedTarget(),i=yield this.getNetwork(),s=r.map(a=>({prevTxid:a.prevTxId,outputIndex:a.outputIndex,inputIndex:a.inputIndex,satoshis:a.satoshis,address:(0,eBe.parseAddresses)(a.address,i).map(u=>u.toString()),script:a.scriptHex,sigHashType:a.sigHashType,csIdx:a.csIdx,data:a.data}));return(yield n.getSignatures({rawtx:e,sigRequests:s})).map(a=>Object.assign(Object.assign({},a),{publicKey:a.pubKey}))})}};p9.PandaSigner=YS;YS.DEBUG_TAG="PandaSigner"});var cte=j(nd=>{"use strict";B();M();Object.defineProperty(nd,"__esModule",{value:!0});nd.PandaSigner=nd.TAALSigner=nd.DotwalletSigner=nd.SensiletSigner=void 0;var tBe=Qee();Object.defineProperty(nd,"SensiletSigner",{enumerable:!0,get:function(){return tBe.SensiletSigner}});var rBe=tte();Object.defineProperty(nd,"DotwalletSigner",{enumerable:!0,get:function(){return rBe.DotwalletSigner}});var nBe=ate();Object.defineProperty(nd,"TAALSigner",{enumerable:!0,get:function(){return nBe.TAALSigner}});var iBe=ute();Object.defineProperty(nd,"PandaSigner",{enumerable:!0,get:function(){return iBe.PandaSigner}})});var jr=j(hr=>{"use strict";B();M();var sBe=hr&&hr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kf=hr&&hr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sBe(e,t,r)};Object.defineProperty(hr,"__esModule",{value:!0});hr.TestWallet=hr.Provider=hr.replayToLatest=hr.bsv=hr.FunctionCall=hr.buildOpreturnScript=hr.buildPublicKeyHashScript=hr.toHex=hr.SmartContractLib=hr.SmartContract=hr.method=hr.prop=hr.P2PK=hr.P2PKH=void 0;var fte=v3();Object.defineProperty(hr,"prop",{enumerable:!0,get:function(){return fte.prop}});Object.defineProperty(hr,"method",{enumerable:!0,get:function(){return fte.method}});var oBe=mg();Object.defineProperty(hr,"SmartContract",{enumerable:!0,get:function(){return oBe.SmartContract}});var aBe=S_();Object.defineProperty(hr,"SmartContractLib",{enumerable:!0,get:function(){return aBe.SmartContractLib}});var uBe=BX();Object.defineProperty(hr,"P2PKH",{enumerable:!0,get:function(){return uBe.P2PKH}});var cBe=CX();Object.defineProperty(hr,"P2PK",{enumerable:!0,get:function(){return cBe.P2PK}});kf(a1(),hr);kf(Zp(),hr);kf(Lc(),hr);kf(o3(),hr);var XS=Tr();Object.defineProperty(hr,"toHex",{enumerable:!0,get:function(){return XS.toHex}});Object.defineProperty(hr,"buildPublicKeyHashScript",{enumerable:!0,get:function(){return XS.buildPublicKeyHashScript}});Object.defineProperty(hr,"buildOpreturnScript",{enumerable:!0,get:function(){return XS.buildOpreturnScript}});Object.defineProperty(hr,"FunctionCall",{enumerable:!0,get:function(){return XS.FunctionCall}});var fBe=eB();Object.defineProperty(hr,"bsv",{enumerable:!0,get:function(){return fBe.bsv}});kf(UX(),hr);kf(KX(),hr);kf(o3(),hr);var dBe=EQ();Object.defineProperty(hr,"replayToLatest",{enumerable:!0,get:function(){return dBe.replayToLatest}});kf(Xee(),hr);var hBe=X0();Object.defineProperty(hr,"Provider",{enumerable:!0,get:function(){return hBe.Provider}});kf(l7(),hr);var lBe=Jee();Object.defineProperty(hr,"TestWallet",{enumerable:!0,get:function(){return lBe.TestWallet}});kf(cte(),hr);kf(JM(),hr)});var ri=j(Xr=>{"use strict";B();M();var C1=Xr&&Xr.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Li=Xr&&Xr.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.TxUtil=Xr.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER=Xr.XRAYED_TXID_PREIMG2_PREVLIST_LEN=Xr.MAX_OUTPUT_SCRIPT_LEN=Xr.STATE_OUTPUT_OFFSET=Xr.STATE_OUTPUT_INDEX=Xr.ADDRESS_HASH_LEN=Xr.MAX_STATE=Xr.MAX_TOKEN_OUTPUT=Xr.MAX_TOKEN_INPUT=Xr.MAX_OUTPUT=Xr.MAX_INPUT=Xr.Int32=void 0;var qn=jr();Xr.Int32=BigInt;Xr.MAX_INPUT=6;Xr.MAX_OUTPUT=6;Xr.MAX_TOKEN_INPUT=5;Xr.MAX_TOKEN_OUTPUT=5;Xr.MAX_STATE=5;Xr.ADDRESS_HASH_LEN=20n;Xr.STATE_OUTPUT_INDEX=0;Xr.STATE_OUTPUT_OFFSET=1;Xr.MAX_OUTPUT_SCRIPT_LEN=34;Xr.XRAYED_TXID_PREIMG2_PREVLIST_LEN=4;Xr.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER=4;var Oa=class extends qn.SmartContractLib{static mergePrevouts(e){let r=(0,qn.toByteString)("");for(let n=0;n<Xr.MAX_INPUT;n++){let i=e[n];r+=i}return r}static mergeSpentScripts(e){let r=(0,qn.toByteString)("");for(let n=0;n<Xr.MAX_INPUT;n++){let i=e[n];r+=(0,qn.int2ByteString)((0,qn.len)(i))+i}return r}static buildOutput(e,r){let n=(0,qn.len)(e);return(0,qn.assert)(n<=Xr.MAX_OUTPUT_SCRIPT_LEN),r+(0,qn.int2ByteString)(n)+e}static checkIndex(e,r){let n=(0,qn.int2ByteString)(e);return n==(0,qn.toByteString)("")&&(n=(0,qn.toByteString)("00")),n+(0,qn.toByteString)("000000")==r}static buildOpReturnRoot(e){return(0,qn.toByteString)("0000000000000000")+(0,qn.int2ByteString)((0,qn.len)(e))+e}static getStateScript(e){return(0,qn.toByteString)("6a1863617401")+e}static getChangeOutput(e){return e.satoshis!=Oa.ZEROSAT?Oa.buildOutput(e.script,e.satoshis):(0,qn.toByteString)("")}};Xr.TxUtil=Oa;Oa.ZEROSAT=(0,qn.toByteString)("0000000000000000");C1([(0,qn.prop)(),Li("design:type",String)],Oa,"ZEROSAT",void 0);C1([(0,qn.method)(),Li("design:type",Function),Li("design:paramtypes",[Object]),Li("design:returntype",String)],Oa,"mergePrevouts",null);C1([(0,qn.method)(),Li("design:type",Function),Li("design:paramtypes",[Object]),Li("design:returntype",String)],Oa,"mergeSpentScripts",null);C1([(0,qn.method)(),Li("design:type",Function),Li("design:paramtypes",[String,String]),Li("design:returntype",String)],Oa,"buildOutput",null);C1([(0,qn.method)(),Li("design:type",Function),Li("design:paramtypes",[BigInt,String]),Li("design:returntype",Boolean)],Oa,"checkIndex",null);C1([(0,qn.method)(),Li("design:type",Function),Li("design:paramtypes",[String]),Li("design:returntype",String)],Oa,"buildOpReturnRoot",null);C1([(0,qn.method)(),Li("design:type",Function),Li("design:paramtypes",[String]),Li("design:returntype",String)],Oa,"getStateScript",null);C1([(0,qn.method)(),Li("design:type",Function),Li("design:paramtypes",[Object]),Li("design:returntype",String)],Oa,"getChangeOutput",null)});var gu=j(R1=>{"use strict";B();M();var b9=R1&&R1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},zc=R1&&R1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(R1,"__esModule",{value:!0});R1.SigHashUtils=void 0;var jn=jr(),ZS=ri(),fa=class extends jn.SmartContractLib{static checkSHPreimage(e){let r=(0,jn.sha256)(fa.preimagePrefix+e.txVer+e.nLockTime+e.hashPrevouts+e.hashSpentAmounts+e.hashSpentScripts+e.hashSequences+e.hashOutputs+e.spendType+e.inputIndex+e.hashTapLeaf+e.keyVer+e.codeSeparator),n=(0,jn.sha256)(fa.ePreimagePrefix+r);(0,jn.assert)(e.eLastByte<127n,"invalid value of _e");let i=e.eLastByte==0n?(0,jn.toByteString)("00"):(0,jn.int2ByteString)(e.eLastByte);(0,jn.assert)(n==e._e+i,"invalid value of _e");let s=fa.Gx+e._e+(0,jn.int2ByteString)(e.eLastByte+1n);return(0,jn.Sig)(s)}static checkPrevoutsCtx(e,r,n){return(0,jn.assert)((0,jn.sha256)(ZS.TxUtil.mergePrevouts(e.prevouts))==r,"hashPrevouts mismatch"),(0,jn.assert)(ZS.TxUtil.checkIndex(e.inputIndexVal,n)),(0,jn.assert)(ZS.TxUtil.checkIndex(e.outputIndexVal,e.outputIndex)),(0,jn.assert)(e.prevouts[Number(e.inputIndexVal)]==e.spentTxhash+e.outputIndex),!0}static checkSpentScriptsCtx(e,r){return(0,jn.assert)((0,jn.sha256)(ZS.TxUtil.mergeSpentScripts(e))==r,"hashSpentScripts mismatch"),!0}};R1.SigHashUtils=fa;fa.Gx=(0,jn.PubKey)((0,jn.toByteString)("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"));fa.ePreimagePrefix=(0,jn.toByteString)("7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798");fa.preimagePrefix=(0,jn.toByteString)("f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000");b9([(0,jn.prop)(),zc("design:type",String)],fa,"Gx",void 0);b9([(0,jn.prop)(),zc("design:type",String)],fa,"ePreimagePrefix",void 0);b9([(0,jn.prop)(),zc("design:type",String)],fa,"preimagePrefix",void 0);b9([(0,jn.method)(),zc("design:type",Function),zc("design:paramtypes",[Object]),zc("design:returntype",String)],fa,"checkSHPreimage",null);b9([(0,jn.method)(),zc("design:type",Function),zc("design:paramtypes",[Object,String,String]),zc("design:returntype",Boolean)],fa,"checkPrevoutsCtx",null);b9([(0,jn.method)(),zc("design:type",Function),zc("design:paramtypes",[Object,String]),zc("design:returntype",Boolean)],fa,"checkSpentScriptsCtx",null)});var hte=j((T1t,dte)=>{"use strict";B();M();var pBe="http://bitcore.io/";dte.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: "+pBe+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"BlockHeightOutOfRange",message:"Block Height can only be between 0 and 65535"},{name:"LockTimeRange",message:"Seconds needs to be more that 0 and less that 33553920"}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]}]});var Lu=j((O1t,ok)=>{"use strict";B();M();var sk=Gr();function bBe(t,e){return t.replace("{0}",e[0]).replace("{1}",e[1]).replace("{2}",e[2])}var lte=function(t,e){var r=function(){if(sk.isString(e.message))this.message=bBe(e.message,arguments);else if(sk.isFunction(e.message))this.message=e.message.apply(null,arguments);else throw new Error("Invalid error definition for "+e.name);this.stack=this.message+`
`+new Error().stack};return r.prototype=Object.create(t.prototype),r.prototype.name=t.prototype.name+e.name,t[e.name]=r,e.errors&&pte(r,e.errors),r},pte=function(t,e){sk.each(e,function(r){lte(t,r)})},gBe=function(t,e){return pte(t,e),t},g9={};g9.Error=function(){this.message="Internal error",this.stack=this.message+`
`+new Error().stack};g9.Error.prototype=Object.create(Error.prototype);g9.Error.prototype.name="bitcore.Error";var mBe=hte();gBe(g9.Error,mBe);ok.exports=g9.Error;ok.exports.extend=function(t){return lte(g9.Error,t)}});var Zr=j((k1t,bte)=>{"use strict";B();M();var Vg=Lu(),yBe=Gr();bte.exports={checkState:function(t,e){if(!t)throw new Vg.InvalidState(e)},checkArgument:function(t,e,r,n){if(!t)throw new Vg.InvalidArgument(e,r,n)},checkArgumentType:function(t,e,r){if(r=r||"(unknown name)",yBe.isString(e)){if(e==="Buffer"){var n=$i();if(!n.Buffer.isBuffer(t))throw new Vg.InvalidArgumentType(t,e,r)}else if(typeof t!==e&&t&&t.constructor&&t.constructor.name!==e)throw new Vg.InvalidArgumentType(t,e,r)}else if(!(t instanceof e))throw new Vg.InvalidArgumentType(t,e.name,r)},isType:function(t,e,r){try{return this.checkArgumentType(t,e,r),!0}catch{return!1}}}});var Vi=j((N1t,yte)=>{"use strict";B();M();var mte=Gr(),gte=function(e){return mte.isString(e)?/^[0-9a-fA-F]+$/.test(e):!1};yte.exports={isValidJSON:function(e){var r;if(!mte.isString(e))return!1;try{r=JSON.parse(e)}catch{return!1}return typeof r=="object"},isHexa:gte,isHexaString:gte,cloneArray:function(t){return[].concat(t)},defineImmutable:function(e,r){return Object.keys(r).forEach(function(n){Object.defineProperty(e,n,{configurable:!1,enumerable:!0,value:r[n]})}),e},isNaturalNumber:function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e&&e>=0}}});var ni=j((U1t,Gg)=>{"use strict";B();M();var vte=$i(),D1t=ff(),L1t=Vi(),N1=Zr();function _te(t,e){if(t.length!==e.length)return!1;for(var r=t.length,n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}Gg.exports={fill:function(e,r){N1.checkArgumentType(e,"Buffer","buffer"),N1.checkArgumentType(r,"number","value");for(var n=e.length,i=0;i<n;i++)e[i]=r;return e},copy:function(t){var e=E.Buffer.alloc(t.length);return t.copy(e),e},isBuffer:function(e){return vte.Buffer.isBuffer(e)||e instanceof Uint8Array},emptyBuffer:function(e){N1.checkArgumentType(e,"number","bytes");for(var r=E.Buffer.alloc(e),n=0;n<e;n++)r.write("\0",n);return r},concat:vte.Buffer.concat,equals:_te,equal:_te,integerAsSingleByteBuffer:function(e){return N1.checkArgumentType(e,"number","integer"),E.Buffer.from([e&255])},integerAsBuffer:function(e){N1.checkArgumentType(e,"number","integer");var r=[];return r.push(e>>24&255),r.push(e>>16&255),r.push(e>>8&255),r.push(e&255),E.Buffer.from(r)},integerFromBuffer:function(e){return N1.checkArgumentType(e,"Buffer","buffer"),e[0]<<24|e[1]<<16|e[2]<<8|e[3]},integerFromSingleByteBuffer:function(e){return N1.checkArgumentType(e,"Buffer","buffer"),e[0]},bufferToHex:function(e){return N1.checkArgumentType(e,"Buffer","buffer"),e.toString("hex")},reverse:function(e){return E.Buffer.from(e).reverse()}};Gg.exports.NULL_HASH=Gg.exports.fill(E.Buffer.alloc(32),0);Gg.exports.EMPTY_BUFFER=E.Buffer.alloc(0)});var uk=j((Ste,ak)=>{B();M();(function(t,e){"use strict";function r(N,g){if(!N)throw new Error(g||"Assertion failed")}function n(N,g){N.super_=g;var h=function(){};h.prototype=g.prototype,N.prototype=new h,N.prototype.constructor=N}function i(N,g,h){if(i.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((g==="le"||g==="be")&&(h=g,g=10),this._init(N||0,g||10,h||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{s=$i().Buffer}catch{}i.isBN=function(g){return g instanceof i?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===i.wordSize&&Array.isArray(g.words)},i.max=function(g,h){return g.cmp(h)>0?g:h},i.min=function(g,h){return g.cmp(h)<0?g:h},i.prototype._init=function(g,h,l){if(typeof g=="number")return this._initNumber(g,h,l);if(typeof g=="object")return this._initArray(g,h,l);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),g=g.toString().replace(/\s+/g,"");var b=0;g[0]==="-"&&b++,h===16?this._parseHex(g,b):this._parseBase(g,h,b),g[0]==="-"&&(this.negative=1),this.strip(),l==="le"&&this._initArray(this.toArray(),h,l)},i.prototype._initNumber=function(g,h,l){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(r(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),h,l)},i.prototype._initArray=function(g,h,l){if(r(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var _,x,I=0;if(l==="be")for(b=g.length-1,_=0;b>=0;b-=3)x=g[b]|g[b-1]<<8|g[b-2]<<16,this.words[_]|=x<<I&67108863,this.words[_+1]=x>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(l==="le")for(b=0,_=0;b<g.length;b+=3)x=g[b]|g[b+1]<<8|g[b+2]<<16,this.words[_]|=x<<I&67108863,this.words[_+1]=x>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()};function o(N,g,h){for(var l=0,b=Math.min(N.length,h),_=g;_<b;_++){var x=N.charCodeAt(_)-48;l<<=4,x>=49&&x<=54?l|=x-49+10:x>=17&&x<=22?l|=x-17+10:l|=x&15}return l}i.prototype._parseHex=function(g,h){this.length=Math.ceil((g.length-h)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var b,_,x=0;for(l=g.length-6,b=0;l>=h;l-=6)_=o(g,l,l+6),this.words[b]|=_<<x&67108863,this.words[b+1]|=_>>>26-x&4194303,x+=24,x>=26&&(x-=26,b++);l+6!==h&&(_=o(g,h,l+6),this.words[b]|=_<<x&67108863,this.words[b+1]|=_>>>26-x&4194303),this.strip()};function a(N,g,h,l){for(var b=0,_=Math.min(N.length,h),x=g;x<_;x++){var I=N.charCodeAt(x)-48;b*=l,I>=49?b+=I-49+10:I>=17?b+=I-17+10:b+=I}return b}i.prototype._parseBase=function(g,h,l){this.words=[0],this.length=1;for(var b=0,_=1;_<=67108863;_*=h)b++;b--,_=_/h|0;for(var x=g.length-l,I=x%b,A=Math.min(x,x-I)+l,v=0,S=l;S<A;S+=b)v=a(g,S,S+b,h),this.imuln(_),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(I!==0){var O=1;for(v=a(g,S,g.length,h),S=0;S<I;S++)O*=h;this.imuln(O),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}},i.prototype.copy=function(g){g.words=new Array(this.length);for(var h=0;h<this.length;h++)g.words[h]=this.words[h];g.length=this.length,g.negative=this.negative,g.red=this.red},i.prototype.clone=function(){var g=new i(null);return this.copy(g),g},i.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(g,h){g=g||10,h=h|0||1;var l;if(g===16||g==="hex"){l="";for(var b=0,_=0,x=0;x<this.length;x++){var I=this.words[x],A=((I<<b|_)&16777215).toString(16);_=I>>>24-b&16777215,_!==0||x!==this.length-1?l=u[6-A.length]+A+l:l=A+l,b+=2,b>=26&&(b-=26,x--)}for(_!==0&&(l=_.toString(16)+l);l.length%h!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(g===(g|0)&&g>=2&&g<=36){var v=c[g],S=d[g];l="";var O=this.clone();for(O.negative=0;!O.isZero();){var q=O.modn(S).toString(g);O=O.idivn(S),O.isZero()?l=q+l:l=u[v-q.length]+q+l}for(this.isZero()&&(l="0"+l);l.length%h!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(g,h){return r(typeof s<"u"),this.toArrayLike(s,g,h)},i.prototype.toArray=function(g,h){return this.toArrayLike(Array,g,h)},i.prototype.toArrayLike=function(g,h,l){var b=this.byteLength(),_=l||Math.max(1,b);r(b<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var x=h==="le",I=new g(_),A,v,S=this.clone();if(x){for(v=0;!S.isZero();v++)A=S.andln(255),S.iushrn(8),I[v]=A;for(;v<_;v++)I[v]=0}else{for(v=0;v<_-b;v++)I[v]=0;for(v=0;!S.isZero();v++)A=S.andln(255),S.iushrn(8),I[_-v-1]=A}return I},Math.clz32?i.prototype._countBits=function(g){return 32-Math.clz32(g)}:i.prototype._countBits=function(g){var h=g,l=0;return h>=4096&&(l+=13,h>>>=13),h>=64&&(l+=7,h>>>=7),h>=8&&(l+=4,h>>>=4),h>=2&&(l+=2,h>>>=2),l+h},i.prototype._zeroBits=function(g){if(g===0)return 26;var h=g,l=0;return(h&8191)===0&&(l+=13,h>>>=13),(h&127)===0&&(l+=7,h>>>=7),(h&15)===0&&(l+=4,h>>>=4),(h&3)===0&&(l+=2,h>>>=2),(h&1)===0&&l++,l},i.prototype.bitLength=function(){var g=this.words[this.length-1],h=this._countBits(g);return(this.length-1)*26+h};function f(N){for(var g=new Array(N.bitLength()),h=0;h<g.length;h++){var l=h/26|0,b=h%26;g[h]=(N.words[l]&1<<b)>>>b}return g}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,h=0;h<this.length;h++){var l=this._zeroBits(this.words[h]);if(g+=l,l!==26)break}return g},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},i.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var h=0;h<g.length;h++)this.words[h]=this.words[h]|g.words[h];return this.strip()},i.prototype.ior=function(g){return r((this.negative|g.negative)===0),this.iuor(g)},i.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},i.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},i.prototype.iuand=function(g){var h;this.length>g.length?h=g:h=this;for(var l=0;l<h.length;l++)this.words[l]=this.words[l]&g.words[l];return this.length=h.length,this.strip()},i.prototype.iand=function(g){return r((this.negative|g.negative)===0),this.iuand(g)},i.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},i.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},i.prototype.iuxor=function(g){var h,l;this.length>g.length?(h=this,l=g):(h=g,l=this);for(var b=0;b<l.length;b++)this.words[b]=h.words[b]^l.words[b];if(this!==h)for(;b<h.length;b++)this.words[b]=h.words[b];return this.length=h.length,this.strip()},i.prototype.ixor=function(g){return r((this.negative|g.negative)===0),this.iuxor(g)},i.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},i.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},i.prototype.inotn=function(g){r(typeof g=="number"&&g>=0);var h=Math.ceil(g/26)|0,l=g%26;this._expand(h),l>0&&h--;for(var b=0;b<h;b++)this.words[b]=~this.words[b]&67108863;return l>0&&(this.words[b]=~this.words[b]&67108863>>26-l),this.strip()},i.prototype.notn=function(g){return this.clone().inotn(g)},i.prototype.setn=function(g,h){r(typeof g=="number"&&g>=0);var l=g/26|0,b=g%26;return this._expand(l+1),h?this.words[l]=this.words[l]|1<<b:this.words[l]=this.words[l]&~(1<<b),this.strip()},i.prototype.iadd=function(g){var h;if(this.negative!==0&&g.negative===0)return this.negative=0,h=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,h=this.isub(g),g.negative=1,h._normSign();var l,b;this.length>g.length?(l=this,b=g):(l=g,b=this);for(var _=0,x=0;x<b.length;x++)h=(l.words[x]|0)+(b.words[x]|0)+_,this.words[x]=h&67108863,_=h>>>26;for(;_!==0&&x<l.length;x++)h=(l.words[x]|0)+_,this.words[x]=h&67108863,_=h>>>26;if(this.length=l.length,_!==0)this.words[this.length]=_,this.length++;else if(l!==this)for(;x<l.length;x++)this.words[x]=l.words[x];return this},i.prototype.add=function(g){var h;return g.negative!==0&&this.negative===0?(g.negative=0,h=this.sub(g),g.negative^=1,h):g.negative===0&&this.negative!==0?(this.negative=0,h=g.sub(this),this.negative=1,h):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},i.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var h=this.iadd(g);return g.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var l=this.cmp(g);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,_;l>0?(b=this,_=g):(b=g,_=this);for(var x=0,I=0;I<_.length;I++)h=(b.words[I]|0)-(_.words[I]|0)+x,x=h>>26,this.words[I]=h&67108863;for(;x!==0&&I<b.length;I++)h=(b.words[I]|0)+x,x=h>>26,this.words[I]=h&67108863;if(x===0&&I<b.length&&b!==this)for(;I<b.length;I++)this.words[I]=b.words[I];return this.length=Math.max(this.length,I),b!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(g){return this.clone().isub(g)};function m(N,g,h){h.negative=g.negative^N.negative;var l=N.length+g.length|0;h.length=l,l=l-1|0;var b=N.words[0]|0,_=g.words[0]|0,x=b*_,I=x&67108863,A=x/67108864|0;h.words[0]=I;for(var v=1;v<l;v++){for(var S=A>>>26,O=A&67108863,q=Math.min(v,g.length-1),J=Math.max(0,v-N.length+1);J<=q;J++){var ne=v-J|0;b=N.words[ne]|0,_=g.words[J]|0,x=b*_+O,S+=x/67108864|0,O=x&67108863}h.words[v]=O|0,A=S|0}return A!==0?h.words[v]=A|0:h.length--,h.strip()}var p=function(g,h,l){var b=g.words,_=h.words,x=l.words,I=0,A,v,S,O=b[0]|0,q=O&8191,J=O>>>13,ne=b[1]|0,oe=ne&8191,le=ne>>>13,pe=b[2]|0,G=pe&8191,te=pe>>>13,ae=b[3]|0,be=ae&8191,ye=ae>>>13,_e=b[4]|0,ke=_e&8191,He=_e>>>13,ze=b[5]|0,qe=ze&8191,Ve=ze>>>13,Xe=b[6]|0,je=Xe&8191,Me=Xe>>>13,it=b[7]|0,z=it&8191,Q=it>>>13,Y=b[8]|0,ee=Y&8191,ie=Y>>>13,se=b[9]|0,ce=se&8191,me=se>>>13,he=_[0]|0,Ee=he&8191,Te=he>>>13,Fe=_[1]|0,Ce=Fe&8191,Ge=Fe>>>13,ft=_[2]|0,tt=ft&8191,rt=ft>>>13,zt=_[3]|0,at=zt&8191,dt=zt>>>13,Vt=_[4]|0,ht=Vt&8191,lt=Vt>>>13,Gt=_[5]|0,pt=Gt&8191,bt=Gt>>>13,Wt=_[6]|0,gt=Wt&8191,mt=Wt>>>13,Yt=_[7]|0,yt=Yt&8191,vt=Yt>>>13,Xt=_[8]|0,_t=Xt&8191,St=Xt>>>13,Zt=_[9]|0,wt=Zt&8191,xt=Zt>>>13;l.negative=g.negative^h.negative,l.length=19,A=Math.imul(q,Ee),v=Math.imul(q,Te),v=v+Math.imul(J,Ee)|0,S=Math.imul(J,Te);var jt=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(jt>>>26)|0,jt&=67108863,A=Math.imul(oe,Ee),v=Math.imul(oe,Te),v=v+Math.imul(le,Ee)|0,S=Math.imul(le,Te),A=A+Math.imul(q,Ce)|0,v=v+Math.imul(q,Ge)|0,v=v+Math.imul(J,Ce)|0,S=S+Math.imul(J,Ge)|0;var U=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(U>>>26)|0,U&=67108863,A=Math.imul(G,Ee),v=Math.imul(G,Te),v=v+Math.imul(te,Ee)|0,S=Math.imul(te,Te),A=A+Math.imul(oe,Ce)|0,v=v+Math.imul(oe,Ge)|0,v=v+Math.imul(le,Ce)|0,S=S+Math.imul(le,Ge)|0,A=A+Math.imul(q,tt)|0,v=v+Math.imul(q,rt)|0,v=v+Math.imul(J,tt)|0,S=S+Math.imul(J,rt)|0;var $=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+($>>>26)|0,$&=67108863,A=Math.imul(be,Ee),v=Math.imul(be,Te),v=v+Math.imul(ye,Ee)|0,S=Math.imul(ye,Te),A=A+Math.imul(G,Ce)|0,v=v+Math.imul(G,Ge)|0,v=v+Math.imul(te,Ce)|0,S=S+Math.imul(te,Ge)|0,A=A+Math.imul(oe,tt)|0,v=v+Math.imul(oe,rt)|0,v=v+Math.imul(le,tt)|0,S=S+Math.imul(le,rt)|0,A=A+Math.imul(q,at)|0,v=v+Math.imul(q,dt)|0,v=v+Math.imul(J,at)|0,S=S+Math.imul(J,dt)|0;var V=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(V>>>26)|0,V&=67108863,A=Math.imul(ke,Ee),v=Math.imul(ke,Te),v=v+Math.imul(He,Ee)|0,S=Math.imul(He,Te),A=A+Math.imul(be,Ce)|0,v=v+Math.imul(be,Ge)|0,v=v+Math.imul(ye,Ce)|0,S=S+Math.imul(ye,Ge)|0,A=A+Math.imul(G,tt)|0,v=v+Math.imul(G,rt)|0,v=v+Math.imul(te,tt)|0,S=S+Math.imul(te,rt)|0,A=A+Math.imul(oe,at)|0,v=v+Math.imul(oe,dt)|0,v=v+Math.imul(le,at)|0,S=S+Math.imul(le,dt)|0,A=A+Math.imul(q,ht)|0,v=v+Math.imul(q,lt)|0,v=v+Math.imul(J,ht)|0,S=S+Math.imul(J,lt)|0;var W=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(W>>>26)|0,W&=67108863,A=Math.imul(qe,Ee),v=Math.imul(qe,Te),v=v+Math.imul(Ve,Ee)|0,S=Math.imul(Ve,Te),A=A+Math.imul(ke,Ce)|0,v=v+Math.imul(ke,Ge)|0,v=v+Math.imul(He,Ce)|0,S=S+Math.imul(He,Ge)|0,A=A+Math.imul(be,tt)|0,v=v+Math.imul(be,rt)|0,v=v+Math.imul(ye,tt)|0,S=S+Math.imul(ye,rt)|0,A=A+Math.imul(G,at)|0,v=v+Math.imul(G,dt)|0,v=v+Math.imul(te,at)|0,S=S+Math.imul(te,dt)|0,A=A+Math.imul(oe,ht)|0,v=v+Math.imul(oe,lt)|0,v=v+Math.imul(le,ht)|0,S=S+Math.imul(le,lt)|0,A=A+Math.imul(q,pt)|0,v=v+Math.imul(q,bt)|0,v=v+Math.imul(J,pt)|0,S=S+Math.imul(J,bt)|0;var X=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(X>>>26)|0,X&=67108863,A=Math.imul(je,Ee),v=Math.imul(je,Te),v=v+Math.imul(Me,Ee)|0,S=Math.imul(Me,Te),A=A+Math.imul(qe,Ce)|0,v=v+Math.imul(qe,Ge)|0,v=v+Math.imul(Ve,Ce)|0,S=S+Math.imul(Ve,Ge)|0,A=A+Math.imul(ke,tt)|0,v=v+Math.imul(ke,rt)|0,v=v+Math.imul(He,tt)|0,S=S+Math.imul(He,rt)|0,A=A+Math.imul(be,at)|0,v=v+Math.imul(be,dt)|0,v=v+Math.imul(ye,at)|0,S=S+Math.imul(ye,dt)|0,A=A+Math.imul(G,ht)|0,v=v+Math.imul(G,lt)|0,v=v+Math.imul(te,ht)|0,S=S+Math.imul(te,lt)|0,A=A+Math.imul(oe,pt)|0,v=v+Math.imul(oe,bt)|0,v=v+Math.imul(le,pt)|0,S=S+Math.imul(le,bt)|0,A=A+Math.imul(q,gt)|0,v=v+Math.imul(q,mt)|0,v=v+Math.imul(J,gt)|0,S=S+Math.imul(J,mt)|0;var Z=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(Z>>>26)|0,Z&=67108863,A=Math.imul(z,Ee),v=Math.imul(z,Te),v=v+Math.imul(Q,Ee)|0,S=Math.imul(Q,Te),A=A+Math.imul(je,Ce)|0,v=v+Math.imul(je,Ge)|0,v=v+Math.imul(Me,Ce)|0,S=S+Math.imul(Me,Ge)|0,A=A+Math.imul(qe,tt)|0,v=v+Math.imul(qe,rt)|0,v=v+Math.imul(Ve,tt)|0,S=S+Math.imul(Ve,rt)|0,A=A+Math.imul(ke,at)|0,v=v+Math.imul(ke,dt)|0,v=v+Math.imul(He,at)|0,S=S+Math.imul(He,dt)|0,A=A+Math.imul(be,ht)|0,v=v+Math.imul(be,lt)|0,v=v+Math.imul(ye,ht)|0,S=S+Math.imul(ye,lt)|0,A=A+Math.imul(G,pt)|0,v=v+Math.imul(G,bt)|0,v=v+Math.imul(te,pt)|0,S=S+Math.imul(te,bt)|0,A=A+Math.imul(oe,gt)|0,v=v+Math.imul(oe,mt)|0,v=v+Math.imul(le,gt)|0,S=S+Math.imul(le,mt)|0,A=A+Math.imul(q,yt)|0,v=v+Math.imul(q,vt)|0,v=v+Math.imul(J,yt)|0,S=S+Math.imul(J,vt)|0;var ue=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(ue>>>26)|0,ue&=67108863,A=Math.imul(ee,Ee),v=Math.imul(ee,Te),v=v+Math.imul(ie,Ee)|0,S=Math.imul(ie,Te),A=A+Math.imul(z,Ce)|0,v=v+Math.imul(z,Ge)|0,v=v+Math.imul(Q,Ce)|0,S=S+Math.imul(Q,Ge)|0,A=A+Math.imul(je,tt)|0,v=v+Math.imul(je,rt)|0,v=v+Math.imul(Me,tt)|0,S=S+Math.imul(Me,rt)|0,A=A+Math.imul(qe,at)|0,v=v+Math.imul(qe,dt)|0,v=v+Math.imul(Ve,at)|0,S=S+Math.imul(Ve,dt)|0,A=A+Math.imul(ke,ht)|0,v=v+Math.imul(ke,lt)|0,v=v+Math.imul(He,ht)|0,S=S+Math.imul(He,lt)|0,A=A+Math.imul(be,pt)|0,v=v+Math.imul(be,bt)|0,v=v+Math.imul(ye,pt)|0,S=S+Math.imul(ye,bt)|0,A=A+Math.imul(G,gt)|0,v=v+Math.imul(G,mt)|0,v=v+Math.imul(te,gt)|0,S=S+Math.imul(te,mt)|0,A=A+Math.imul(oe,yt)|0,v=v+Math.imul(oe,vt)|0,v=v+Math.imul(le,yt)|0,S=S+Math.imul(le,vt)|0,A=A+Math.imul(q,_t)|0,v=v+Math.imul(q,St)|0,v=v+Math.imul(J,_t)|0,S=S+Math.imul(J,St)|0;var fe=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(fe>>>26)|0,fe&=67108863,A=Math.imul(ce,Ee),v=Math.imul(ce,Te),v=v+Math.imul(me,Ee)|0,S=Math.imul(me,Te),A=A+Math.imul(ee,Ce)|0,v=v+Math.imul(ee,Ge)|0,v=v+Math.imul(ie,Ce)|0,S=S+Math.imul(ie,Ge)|0,A=A+Math.imul(z,tt)|0,v=v+Math.imul(z,rt)|0,v=v+Math.imul(Q,tt)|0,S=S+Math.imul(Q,rt)|0,A=A+Math.imul(je,at)|0,v=v+Math.imul(je,dt)|0,v=v+Math.imul(Me,at)|0,S=S+Math.imul(Me,dt)|0,A=A+Math.imul(qe,ht)|0,v=v+Math.imul(qe,lt)|0,v=v+Math.imul(Ve,ht)|0,S=S+Math.imul(Ve,lt)|0,A=A+Math.imul(ke,pt)|0,v=v+Math.imul(ke,bt)|0,v=v+Math.imul(He,pt)|0,S=S+Math.imul(He,bt)|0,A=A+Math.imul(be,gt)|0,v=v+Math.imul(be,mt)|0,v=v+Math.imul(ye,gt)|0,S=S+Math.imul(ye,mt)|0,A=A+Math.imul(G,yt)|0,v=v+Math.imul(G,vt)|0,v=v+Math.imul(te,yt)|0,S=S+Math.imul(te,vt)|0,A=A+Math.imul(oe,_t)|0,v=v+Math.imul(oe,St)|0,v=v+Math.imul(le,_t)|0,S=S+Math.imul(le,St)|0,A=A+Math.imul(q,wt)|0,v=v+Math.imul(q,xt)|0,v=v+Math.imul(J,wt)|0,S=S+Math.imul(J,xt)|0;var ve=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(ve>>>26)|0,ve&=67108863,A=Math.imul(ce,Ce),v=Math.imul(ce,Ge),v=v+Math.imul(me,Ce)|0,S=Math.imul(me,Ge),A=A+Math.imul(ee,tt)|0,v=v+Math.imul(ee,rt)|0,v=v+Math.imul(ie,tt)|0,S=S+Math.imul(ie,rt)|0,A=A+Math.imul(z,at)|0,v=v+Math.imul(z,dt)|0,v=v+Math.imul(Q,at)|0,S=S+Math.imul(Q,dt)|0,A=A+Math.imul(je,ht)|0,v=v+Math.imul(je,lt)|0,v=v+Math.imul(Me,ht)|0,S=S+Math.imul(Me,lt)|0,A=A+Math.imul(qe,pt)|0,v=v+Math.imul(qe,bt)|0,v=v+Math.imul(Ve,pt)|0,S=S+Math.imul(Ve,bt)|0,A=A+Math.imul(ke,gt)|0,v=v+Math.imul(ke,mt)|0,v=v+Math.imul(He,gt)|0,S=S+Math.imul(He,mt)|0,A=A+Math.imul(be,yt)|0,v=v+Math.imul(be,vt)|0,v=v+Math.imul(ye,yt)|0,S=S+Math.imul(ye,vt)|0,A=A+Math.imul(G,_t)|0,v=v+Math.imul(G,St)|0,v=v+Math.imul(te,_t)|0,S=S+Math.imul(te,St)|0,A=A+Math.imul(oe,wt)|0,v=v+Math.imul(oe,xt)|0,v=v+Math.imul(le,wt)|0,S=S+Math.imul(le,xt)|0;var de=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(de>>>26)|0,de&=67108863,A=Math.imul(ce,tt),v=Math.imul(ce,rt),v=v+Math.imul(me,tt)|0,S=Math.imul(me,rt),A=A+Math.imul(ee,at)|0,v=v+Math.imul(ee,dt)|0,v=v+Math.imul(ie,at)|0,S=S+Math.imul(ie,dt)|0,A=A+Math.imul(z,ht)|0,v=v+Math.imul(z,lt)|0,v=v+Math.imul(Q,ht)|0,S=S+Math.imul(Q,lt)|0,A=A+Math.imul(je,pt)|0,v=v+Math.imul(je,bt)|0,v=v+Math.imul(Me,pt)|0,S=S+Math.imul(Me,bt)|0,A=A+Math.imul(qe,gt)|0,v=v+Math.imul(qe,mt)|0,v=v+Math.imul(Ve,gt)|0,S=S+Math.imul(Ve,mt)|0,A=A+Math.imul(ke,yt)|0,v=v+Math.imul(ke,vt)|0,v=v+Math.imul(He,yt)|0,S=S+Math.imul(He,vt)|0,A=A+Math.imul(be,_t)|0,v=v+Math.imul(be,St)|0,v=v+Math.imul(ye,_t)|0,S=S+Math.imul(ye,St)|0,A=A+Math.imul(G,wt)|0,v=v+Math.imul(G,xt)|0,v=v+Math.imul(te,wt)|0,S=S+Math.imul(te,xt)|0;var xe=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(xe>>>26)|0,xe&=67108863,A=Math.imul(ce,at),v=Math.imul(ce,dt),v=v+Math.imul(me,at)|0,S=Math.imul(me,dt),A=A+Math.imul(ee,ht)|0,v=v+Math.imul(ee,lt)|0,v=v+Math.imul(ie,ht)|0,S=S+Math.imul(ie,lt)|0,A=A+Math.imul(z,pt)|0,v=v+Math.imul(z,bt)|0,v=v+Math.imul(Q,pt)|0,S=S+Math.imul(Q,bt)|0,A=A+Math.imul(je,gt)|0,v=v+Math.imul(je,mt)|0,v=v+Math.imul(Me,gt)|0,S=S+Math.imul(Me,mt)|0,A=A+Math.imul(qe,yt)|0,v=v+Math.imul(qe,vt)|0,v=v+Math.imul(Ve,yt)|0,S=S+Math.imul(Ve,vt)|0,A=A+Math.imul(ke,_t)|0,v=v+Math.imul(ke,St)|0,v=v+Math.imul(He,_t)|0,S=S+Math.imul(He,St)|0,A=A+Math.imul(be,wt)|0,v=v+Math.imul(be,xt)|0,v=v+Math.imul(ye,wt)|0,S=S+Math.imul(ye,xt)|0;var Oe=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,A=Math.imul(ce,ht),v=Math.imul(ce,lt),v=v+Math.imul(me,ht)|0,S=Math.imul(me,lt),A=A+Math.imul(ee,pt)|0,v=v+Math.imul(ee,bt)|0,v=v+Math.imul(ie,pt)|0,S=S+Math.imul(ie,bt)|0,A=A+Math.imul(z,gt)|0,v=v+Math.imul(z,mt)|0,v=v+Math.imul(Q,gt)|0,S=S+Math.imul(Q,mt)|0,A=A+Math.imul(je,yt)|0,v=v+Math.imul(je,vt)|0,v=v+Math.imul(Me,yt)|0,S=S+Math.imul(Me,vt)|0,A=A+Math.imul(qe,_t)|0,v=v+Math.imul(qe,St)|0,v=v+Math.imul(Ve,_t)|0,S=S+Math.imul(Ve,St)|0,A=A+Math.imul(ke,wt)|0,v=v+Math.imul(ke,xt)|0,v=v+Math.imul(He,wt)|0,S=S+Math.imul(He,xt)|0;var Ne=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,A=Math.imul(ce,pt),v=Math.imul(ce,bt),v=v+Math.imul(me,pt)|0,S=Math.imul(me,bt),A=A+Math.imul(ee,gt)|0,v=v+Math.imul(ee,mt)|0,v=v+Math.imul(ie,gt)|0,S=S+Math.imul(ie,mt)|0,A=A+Math.imul(z,yt)|0,v=v+Math.imul(z,vt)|0,v=v+Math.imul(Q,yt)|0,S=S+Math.imul(Q,vt)|0,A=A+Math.imul(je,_t)|0,v=v+Math.imul(je,St)|0,v=v+Math.imul(Me,_t)|0,S=S+Math.imul(Me,St)|0,A=A+Math.imul(qe,wt)|0,v=v+Math.imul(qe,xt)|0,v=v+Math.imul(Ve,wt)|0,S=S+Math.imul(Ve,xt)|0;var nt=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(nt>>>26)|0,nt&=67108863,A=Math.imul(ce,gt),v=Math.imul(ce,mt),v=v+Math.imul(me,gt)|0,S=Math.imul(me,mt),A=A+Math.imul(ee,yt)|0,v=v+Math.imul(ee,vt)|0,v=v+Math.imul(ie,yt)|0,S=S+Math.imul(ie,vt)|0,A=A+Math.imul(z,_t)|0,v=v+Math.imul(z,St)|0,v=v+Math.imul(Q,_t)|0,S=S+Math.imul(Q,St)|0,A=A+Math.imul(je,wt)|0,v=v+Math.imul(je,xt)|0,v=v+Math.imul(Me,wt)|0,S=S+Math.imul(Me,xt)|0;var Jt=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,A=Math.imul(ce,yt),v=Math.imul(ce,vt),v=v+Math.imul(me,yt)|0,S=Math.imul(me,vt),A=A+Math.imul(ee,_t)|0,v=v+Math.imul(ee,St)|0,v=v+Math.imul(ie,_t)|0,S=S+Math.imul(ie,St)|0,A=A+Math.imul(z,wt)|0,v=v+Math.imul(z,xt)|0,v=v+Math.imul(Q,wt)|0,S=S+Math.imul(Q,xt)|0;var Rt=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,A=Math.imul(ce,_t),v=Math.imul(ce,St),v=v+Math.imul(me,_t)|0,S=Math.imul(me,St),A=A+Math.imul(ee,wt)|0,v=v+Math.imul(ee,xt)|0,v=v+Math.imul(ie,wt)|0,S=S+Math.imul(ie,xt)|0;var yn=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(yn>>>26)|0,yn&=67108863,A=Math.imul(ce,wt),v=Math.imul(ce,xt),v=v+Math.imul(me,wt)|0,S=Math.imul(me,xt);var Nr=(I+A|0)+((v&8191)<<13)|0;return I=(S+(v>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x[0]=jt,x[1]=U,x[2]=$,x[3]=V,x[4]=W,x[5]=X,x[6]=Z,x[7]=ue,x[8]=fe,x[9]=ve,x[10]=de,x[11]=xe,x[12]=Oe,x[13]=Ne,x[14]=nt,x[15]=Jt,x[16]=Rt,x[17]=yn,x[18]=Nr,I!==0&&(x[19]=I,l.length++),l};Math.imul||(p=m);function y(N,g,h){h.negative=g.negative^N.negative,h.length=N.length+g.length;for(var l=0,b=0,_=0;_<h.length-1;_++){var x=b;b=0;for(var I=l&67108863,A=Math.min(_,g.length-1),v=Math.max(0,_-N.length+1);v<=A;v++){var S=_-v,O=N.words[S]|0,q=g.words[v]|0,J=O*q,ne=J&67108863;x=x+(J/67108864|0)|0,ne=ne+I|0,I=ne&67108863,x=x+(ne>>>26)|0,b+=x>>>26,x&=67108863}h.words[_]=I,l=x,x=b}return l!==0?h.words[_]=l:h.length--,h.strip()}function w(N,g,h){var l=new P;return l.mulp(N,g,h)}i.prototype.mulTo=function(g,h){var l,b=this.length+g.length;return this.length===10&&g.length===10?l=p(this,g,h):b<63?l=m(this,g,h):b<1024?l=y(this,g,h):l=w(this,g,h),l};function P(N,g){this.x=N,this.y=g}P.prototype.makeRBT=function(g){for(var h=new Array(g),l=i.prototype._countBits(g)-1,b=0;b<g;b++)h[b]=this.revBin(b,l,g);return h},P.prototype.revBin=function(g,h,l){if(g===0||g===l-1)return g;for(var b=0,_=0;_<h;_++)b|=(g&1)<<h-_-1,g>>=1;return b},P.prototype.permute=function(g,h,l,b,_,x){for(var I=0;I<x;I++)b[I]=h[g[I]],_[I]=l[g[I]]},P.prototype.transform=function(g,h,l,b,_,x){this.permute(x,g,h,l,b,_);for(var I=1;I<_;I<<=1)for(var A=I<<1,v=Math.cos(2*Math.PI/A),S=Math.sin(2*Math.PI/A),O=0;O<_;O+=A)for(var q=v,J=S,ne=0;ne<I;ne++){var oe=l[O+ne],le=b[O+ne],pe=l[O+ne+I],G=b[O+ne+I],te=q*pe-J*G;G=q*G+J*pe,pe=te,l[O+ne]=oe+pe,b[O+ne]=le+G,l[O+ne+I]=oe-pe,b[O+ne+I]=le-G,ne!==A&&(te=v*q-S*J,J=v*J+S*q,q=te)}},P.prototype.guessLen13b=function(g,h){var l=Math.max(h,g)|1,b=l&1,_=0;for(l=l/2|0;l;l=l>>>1)_++;return 1<<_+1+b},P.prototype.conjugate=function(g,h,l){if(!(l<=1))for(var b=0;b<l/2;b++){var _=g[b];g[b]=g[l-b-1],g[l-b-1]=_,_=h[b],h[b]=-h[l-b-1],h[l-b-1]=-_}},P.prototype.normalize13b=function(g,h){for(var l=0,b=0;b<h/2;b++){var _=Math.round(g[2*b+1]/h)*8192+Math.round(g[2*b]/h)+l;g[b]=_&67108863,_<67108864?l=0:l=_/67108864|0}return g},P.prototype.convert13b=function(g,h,l,b){for(var _=0,x=0;x<h;x++)_=_+(g[x]|0),l[2*x]=_&8191,_=_>>>13,l[2*x+1]=_&8191,_=_>>>13;for(x=2*h;x<b;++x)l[x]=0;r(_===0),r((_&-8192)===0)},P.prototype.stub=function(g){for(var h=new Array(g),l=0;l<g;l++)h[l]=0;return h},P.prototype.mulp=function(g,h,l){var b=2*this.guessLen13b(g.length,h.length),_=this.makeRBT(b),x=this.stub(b),I=new Array(b),A=new Array(b),v=new Array(b),S=new Array(b),O=new Array(b),q=new Array(b),J=l.words;J.length=b,this.convert13b(g.words,g.length,I,b),this.convert13b(h.words,h.length,S,b),this.transform(I,x,A,v,b,_),this.transform(S,x,O,q,b,_);for(var ne=0;ne<b;ne++){var oe=A[ne]*O[ne]-v[ne]*q[ne];v[ne]=A[ne]*q[ne]+v[ne]*O[ne],A[ne]=oe}return this.conjugate(A,v,b),this.transform(A,v,J,x,b,_),this.conjugate(J,x,b),this.normalize13b(J,b),l.negative=g.negative^h.negative,l.length=g.length+h.length,l.strip()},i.prototype.mul=function(g){var h=new i(null);return h.words=new Array(this.length+g.length),this.mulTo(g,h)},i.prototype.mulf=function(g){var h=new i(null);return h.words=new Array(this.length+g.length),w(this,g,h)},i.prototype.imul=function(g){return this.clone().mulTo(g,this)},i.prototype.imuln=function(g){r(typeof g=="number"),r(g<67108864);for(var h=0,l=0;l<this.length;l++){var b=(this.words[l]|0)*g,_=(b&67108863)+(h&67108863);h>>=26,h+=b/67108864|0,h+=_>>>26,this.words[l]=_&67108863}return h!==0&&(this.words[l]=h,this.length++),this},i.prototype.muln=function(g){return this.clone().imuln(g)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(g){var h=f(g);if(h.length===0)return new i(1);for(var l=this,b=0;b<h.length&&h[b]===0;b++,l=l.sqr());if(++b<h.length)for(var _=l.sqr();b<h.length;b++,_=_.sqr())h[b]!==0&&(l=l.mul(_));return l},i.prototype.iushln=function(g){r(typeof g=="number"&&g>=0);var h=g%26,l=(g-h)/26,b=67108863>>>26-h<<26-h,_;if(h!==0){var x=0;for(_=0;_<this.length;_++){var I=this.words[_]&b,A=(this.words[_]|0)-I<<h;this.words[_]=A|x,x=I>>>26-h}x&&(this.words[_]=x,this.length++)}if(l!==0){for(_=this.length-1;_>=0;_--)this.words[_+l]=this.words[_];for(_=0;_<l;_++)this.words[_]=0;this.length+=l}return this.strip()},i.prototype.ishln=function(g){return r(this.negative===0),this.iushln(g)},i.prototype.iushrn=function(g,h,l){r(typeof g=="number"&&g>=0);var b;h?b=(h-h%26)/26:b=0;var _=g%26,x=Math.min((g-_)/26,this.length),I=67108863^67108863>>>_<<_,A=l;if(b-=x,b=Math.max(0,b),A){for(var v=0;v<x;v++)A.words[v]=this.words[v];A.length=x}if(x!==0)if(this.length>x)for(this.length-=x,v=0;v<this.length;v++)this.words[v]=this.words[v+x];else this.words[0]=0,this.length=1;var S=0;for(v=this.length-1;v>=0&&(S!==0||v>=b);v--){var O=this.words[v]|0;this.words[v]=S<<26-_|O>>>_,S=O&I}return A&&S!==0&&(A.words[A.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(g,h,l){return r(this.negative===0),this.iushrn(g,h,l)},i.prototype.shln=function(g){return this.clone().ishln(g)},i.prototype.ushln=function(g){return this.clone().iushln(g)},i.prototype.shrn=function(g){return this.clone().ishrn(g)},i.prototype.ushrn=function(g){return this.clone().iushrn(g)},i.prototype.testn=function(g){r(typeof g=="number"&&g>=0);var h=g%26,l=(g-h)/26,b=1<<h;if(this.length<=l)return!1;var _=this.words[l];return!!(_&b)},i.prototype.imaskn=function(g){r(typeof g=="number"&&g>=0);var h=g%26,l=(g-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(h!==0&&l++,this.length=Math.min(l,this.length),h!==0){var b=67108863^67108863>>>h<<h;this.words[this.length-1]&=b}return this.strip()},i.prototype.maskn=function(g){return this.clone().imaskn(g)},i.prototype.iaddn=function(g){return r(typeof g=="number"),r(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},i.prototype._iaddn=function(g){this.words[0]+=g;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(g){if(r(typeof g=="number"),r(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},i.prototype.addn=function(g){return this.clone().iaddn(g)},i.prototype.subn=function(g){return this.clone().isubn(g)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(g,h,l){var b=g.length+l,_;this._expand(b);var x,I=0;for(_=0;_<g.length;_++){x=(this.words[_+l]|0)+I;var A=(g.words[_]|0)*h;x-=A&67108863,I=(x>>26)-(A/67108864|0),this.words[_+l]=x&67108863}for(;_<this.length-l;_++)x=(this.words[_+l]|0)+I,I=x>>26,this.words[_+l]=x&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)x=-(this.words[_]|0)+I,I=x>>26,this.words[_]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(g,h){var l=this.length-g.length,b=this.clone(),_=g,x=_.words[_.length-1]|0,I=this._countBits(x);l=26-I,l!==0&&(_=_.ushln(l),b.iushln(l),x=_.words[_.length-1]|0);var A=b.length-_.length,v;if(h!=="mod"){v=new i(null),v.length=A+1,v.words=new Array(v.length);for(var S=0;S<v.length;S++)v.words[S]=0}var O=b.clone()._ishlnsubmul(_,1,A);O.negative===0&&(b=O,v&&(v.words[A]=1));for(var q=A-1;q>=0;q--){var J=(b.words[_.length+q]|0)*67108864+(b.words[_.length+q-1]|0);for(J=Math.min(J/x|0,67108863),b._ishlnsubmul(_,J,q);b.negative!==0;)J--,b.negative=0,b._ishlnsubmul(_,1,q),b.isZero()||(b.negative^=1);v&&(v.words[q]=J)}return v&&v.strip(),b.strip(),h!=="div"&&l!==0&&b.iushrn(l),{div:v||null,mod:b}},i.prototype.divmod=function(g,h,l){if(r(!g.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var b,_,x;return this.negative!==0&&g.negative===0?(x=this.neg().divmod(g,h),h!=="mod"&&(b=x.div.neg()),h!=="div"&&(_=x.mod.neg(),l&&_.negative!==0&&_.iadd(g)),{div:b,mod:_}):this.negative===0&&g.negative!==0?(x=this.divmod(g.neg(),h),h!=="mod"&&(b=x.div.neg()),{div:b,mod:x.mod}):(this.negative&g.negative)!==0?(x=this.neg().divmod(g.neg(),h),h!=="div"&&(_=x.mod.neg(),l&&_.negative!==0&&_.isub(g)),{div:x.div,mod:_}):g.length>this.length||this.cmp(g)<0?{div:new i(0),mod:this}:g.length===1?h==="div"?{div:this.divn(g.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new i(this.modn(g.words[0]))}:this._wordDiv(g,h)},i.prototype.div=function(g){return this.divmod(g,"div",!1).div},i.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},i.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},i.prototype.divRound=function(g){var h=this.divmod(g);if(h.mod.isZero())return h.div;var l=h.div.negative!==0?h.mod.isub(g):h.mod,b=g.ushrn(1),_=g.andln(1),x=l.cmp(b);return x<0||_===1&&x===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modn=function(g){r(g<=67108863);for(var h=(1<<26)%g,l=0,b=this.length-1;b>=0;b--)l=(h*l+(this.words[b]|0))%g;return l},i.prototype.idivn=function(g){r(g<=67108863);for(var h=0,l=this.length-1;l>=0;l--){var b=(this.words[l]|0)+h*67108864;this.words[l]=b/g|0,h=b%g}return this.strip()},i.prototype.divn=function(g){return this.clone().idivn(g)},i.prototype.egcd=function(g){r(g.negative===0),r(!g.isZero());var h=this,l=g.clone();h.negative!==0?h=h.umod(g):h=h.clone();for(var b=new i(1),_=new i(0),x=new i(0),I=new i(1),A=0;h.isEven()&&l.isEven();)h.iushrn(1),l.iushrn(1),++A;for(var v=l.clone(),S=h.clone();!h.isZero();){for(var O=0,q=1;(h.words[0]&q)===0&&O<26;++O,q<<=1);if(O>0)for(h.iushrn(O);O-- >0;)(b.isOdd()||_.isOdd())&&(b.iadd(v),_.isub(S)),b.iushrn(1),_.iushrn(1);for(var J=0,ne=1;(l.words[0]&ne)===0&&J<26;++J,ne<<=1);if(J>0)for(l.iushrn(J);J-- >0;)(x.isOdd()||I.isOdd())&&(x.iadd(v),I.isub(S)),x.iushrn(1),I.iushrn(1);h.cmp(l)>=0?(h.isub(l),b.isub(x),_.isub(I)):(l.isub(h),x.isub(b),I.isub(_))}return{a:x,b:I,gcd:l.iushln(A)}},i.prototype._invmp=function(g){r(g.negative===0),r(!g.isZero());var h=this,l=g.clone();h.negative!==0?h=h.umod(g):h=h.clone();for(var b=new i(1),_=new i(0),x=l.clone();h.cmpn(1)>0&&l.cmpn(1)>0;){for(var I=0,A=1;(h.words[0]&A)===0&&I<26;++I,A<<=1);if(I>0)for(h.iushrn(I);I-- >0;)b.isOdd()&&b.iadd(x),b.iushrn(1);for(var v=0,S=1;(l.words[0]&S)===0&&v<26;++v,S<<=1);if(v>0)for(l.iushrn(v);v-- >0;)_.isOdd()&&_.iadd(x),_.iushrn(1);h.cmp(l)>=0?(h.isub(l),b.isub(_)):(l.isub(h),_.isub(b))}var O;return h.cmpn(1)===0?O=b:O=_,O.cmpn(0)<0&&O.iadd(g),O},i.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var h=this.clone(),l=g.clone();h.negative=0,l.negative=0;for(var b=0;h.isEven()&&l.isEven();b++)h.iushrn(1),l.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;l.isEven();)l.iushrn(1);var _=h.cmp(l);if(_<0){var x=h;h=l,l=x}else if(_===0||l.cmpn(1)===0)break;h.isub(l)}while(!0);return l.iushln(b)},i.prototype.invm=function(g){return this.egcd(g).a.umod(g)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(g){return this.words[0]&g},i.prototype.bincn=function(g){r(typeof g=="number");var h=g%26,l=(g-h)/26,b=1<<h;if(this.length<=l)return this._expand(l+1),this.words[l]|=b,this;for(var _=b,x=l;_!==0&&x<this.length;x++){var I=this.words[x]|0;I+=_,_=I>>>26,I&=67108863,this.words[x]=I}return _!==0&&(this.words[x]=_,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(g){var h=g<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var l;if(this.length>1)l=1;else{h&&(g=-g),r(g<=67108863,"Number is too big");var b=this.words[0]|0;l=b===g?0:b<g?-1:1}return this.negative!==0?-l|0:l},i.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var h=this.ucmp(g);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var h=0,l=this.length-1;l>=0;l--){var b=this.words[l]|0,_=g.words[l]|0;if(b!==_){b<_?h=-1:b>_&&(h=1);break}}return h},i.prototype.gtn=function(g){return this.cmpn(g)===1},i.prototype.gt=function(g){return this.cmp(g)===1},i.prototype.gten=function(g){return this.cmpn(g)>=0},i.prototype.gte=function(g){return this.cmp(g)>=0},i.prototype.ltn=function(g){return this.cmpn(g)===-1},i.prototype.lt=function(g){return this.cmp(g)===-1},i.prototype.lten=function(g){return this.cmpn(g)<=0},i.prototype.lte=function(g){return this.cmp(g)<=0},i.prototype.eqn=function(g){return this.cmpn(g)===0},i.prototype.eq=function(g){return this.cmp(g)===0},i.red=function(g){return new L(g)},i.prototype.toRed=function(g){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(g){return this.red=g,this},i.prototype.forceRed=function(g){return r(!this.red,"Already a number in reduction context"),this._forceRed(g)},i.prototype.redAdd=function(g){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},i.prototype.redIAdd=function(g){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},i.prototype.redSub=function(g){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},i.prototype.redISub=function(g){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},i.prototype.redShl=function(g){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},i.prototype.redMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},i.prototype.redIMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(g){return r(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var C={k256:null,p224:null,p192:null,p25519:null};function R(N,g){this.name=N,this.p=new i(g,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var g=new i(null);return g.words=new Array(Math.ceil(this.n/13)),g},R.prototype.ireduce=function(g){var h=g,l;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),l=h.bitLength();while(l>this.n);var b=l<this.n?-1:h.ucmp(this.p);return b===0?(h.words[0]=0,h.length=1):b>0?h.isub(this.p):h.strip(),h},R.prototype.split=function(g,h){g.iushrn(this.n,0,h)},R.prototype.imulK=function(g){return g.imul(this.k)};function T(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(T,R),T.prototype.split=function(g,h){for(var l=4194303,b=Math.min(g.length,9),_=0;_<b;_++)h.words[_]=g.words[_];if(h.length=b,g.length<=9){g.words[0]=0,g.length=1;return}var x=g.words[9];for(h.words[h.length++]=x&l,_=10;_<g.length;_++){var I=g.words[_]|0;g.words[_-10]=(I&l)<<4|x>>>22,x=I}x>>>=22,g.words[_-10]=x,x===0&&g.length>10?g.length-=10:g.length-=9},T.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var h=0,l=0;l<g.length;l++){var b=g.words[l]|0;h+=b*977,g.words[l]=h&67108863,h=b*64+(h/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function k(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(k,R);function H(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,R);function F(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(F,R),F.prototype.imulK=function(g){for(var h=0,l=0;l<g.length;l++){var b=(g.words[l]|0)*19+h,_=b&67108863;b>>>=26,g.words[l]=_,h=b}return h!==0&&(g.words[g.length++]=h),g},i._prime=function(g){if(C[g])return C[g];var h;if(g==="k256")h=new T;else if(g==="p224")h=new k;else if(g==="p192")h=new H;else if(g==="p25519")h=new F;else throw new Error("Unknown prime "+g);return C[g]=h,h};function L(N){if(typeof N=="string"){var g=i._prime(N);this.m=g.p,this.prime=g}else r(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}L.prototype._verify1=function(g){r(g.negative===0,"red works only with positives"),r(g.red,"red works only with red numbers")},L.prototype._verify2=function(g,h){r((g.negative|h.negative)===0,"red works only with positives"),r(g.red&&g.red===h.red,"red works only with red numbers")},L.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):g.umod(this.m)._forceRed(this)},L.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},L.prototype.add=function(g,h){this._verify2(g,h);var l=g.add(h);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},L.prototype.iadd=function(g,h){this._verify2(g,h);var l=g.iadd(h);return l.cmp(this.m)>=0&&l.isub(this.m),l},L.prototype.sub=function(g,h){this._verify2(g,h);var l=g.sub(h);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},L.prototype.isub=function(g,h){this._verify2(g,h);var l=g.isub(h);return l.cmpn(0)<0&&l.iadd(this.m),l},L.prototype.shl=function(g,h){return this._verify1(g),this.imod(g.ushln(h))},L.prototype.imul=function(g,h){return this._verify2(g,h),this.imod(g.imul(h))},L.prototype.mul=function(g,h){return this._verify2(g,h),this.imod(g.mul(h))},L.prototype.isqr=function(g){return this.imul(g,g.clone())},L.prototype.sqr=function(g){return this.mul(g,g)},L.prototype.sqrt=function(g){if(g.isZero())return g.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var l=this.m.add(new i(1)).iushrn(2);return this.pow(g,l)}for(var b=this.m.subn(1),_=0;!b.isZero()&&b.andln(1)===0;)_++,b.iushrn(1);r(!b.isZero());var x=new i(1).toRed(this),I=x.redNeg(),A=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new i(2*v*v).toRed(this);this.pow(v,A).cmp(I)!==0;)v.redIAdd(I);for(var S=this.pow(v,b),O=this.pow(g,b.addn(1).iushrn(1)),q=this.pow(g,b),J=_;q.cmp(x)!==0;){for(var ne=q,oe=0;ne.cmp(x)!==0;oe++)ne=ne.redSqr();r(oe<J);var le=this.pow(S,new i(1).iushln(J-oe-1));O=O.redMul(le),S=le.redSqr(),q=q.redMul(S),J=oe}return O},L.prototype.invm=function(g){var h=g._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},L.prototype.pow=function(g,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return g.clone();var l=4,b=new Array(1<<l);b[0]=new i(1).toRed(this),b[1]=g;for(var _=2;_<b.length;_++)b[_]=this.mul(b[_-1],g);var x=b[0],I=0,A=0,v=h.bitLength()%26;for(v===0&&(v=26),_=h.length-1;_>=0;_--){for(var S=h.words[_],O=v-1;O>=0;O--){var q=S>>O&1;if(x!==b[0]&&(x=this.sqr(x)),q===0&&I===0){A=0;continue}I<<=1,I|=q,A++,!(A!==l&&(_!==0||O!==0))&&(x=this.mul(x,b[I]),A=0,I=0)}v=26}return x},L.prototype.convertTo=function(g){var h=g.umod(this.m);return h===g?h.clone():h},L.prototype.convertFrom=function(g){var h=g.clone();return h.red=null,h},i.mont=function(g){return new D(g)};function D(N){L.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(D,L),D.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},D.prototype.convertFrom=function(g){var h=this.imod(g.mul(this.rinv));return h.red=null,h},D.prototype.imul=function(g,h){if(g.isZero()||h.isZero())return g.words[0]=0,g.length=1,g;var l=g.imul(h),b=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=l.isub(b).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},D.prototype.mul=function(g,h){if(g.isZero()||h.isZero())return new i(0)._forceRed(this);var l=g.mul(h),b=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=l.isub(b).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},D.prototype.invm=function(g){var h=this.imod(g._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(typeof ak>"u"||ak,Ste)});var uo=j((z1t,xte)=>{"use strict";B();M();var En=uk(),ck=Zr(),wte=Gr(),JS=function(t){for(var e=E.Buffer.alloc(t.length),r=0;r<t.length;r++)e[r]=t[t.length-1-r];return e};En.Zero=new En(0);En.One=new En(1);En.Minus1=new En(-1);En.fromNumber=function(t){return ck.checkArgument(wte.isNumber(t)),new En(t)};En.fromString=function(t,e){return ck.checkArgument(wte.isString(t)),new En(t,e)};En.fromBuffer=function(t,e){typeof e<"u"&&e.endian==="little"&&(t=JS(t));var r=t.toString("hex"),n=new En(r,16);return n};En.fromSM=function(t,e){var r;if(t.length===0)return En.fromBuffer(E.Buffer.from([0]));var n="big";return e&&(n=e.endian),n==="little"&&(t=JS(t)),t[0]&128?(t[0]=t[0]&127,r=En.fromBuffer(t),r.neg().copy(r)):r=En.fromBuffer(t),r};En.prototype.toNumber=function(){return parseInt(this.toString(10),10)};En.prototype.toBuffer=function(t){var e,r;if(t&&t.size){r=this.toString(16,2);var n=r.length/2;e=E.Buffer.from(r,"hex"),n===t.size?e=e:n>t.size?e=En.trim(e,n):n<t.size&&(e=En.pad(e,n,t.size))}else r=this.toString(16,2),e=E.Buffer.from(r,"hex");return typeof t<"u"&&t.endian==="little"&&(e=JS(e)),e};En.prototype.toSMBigEndian=function(){var t;return this.cmp(En.Zero)===-1?(t=this.neg().toBuffer(),t[0]&128?t=E.Buffer.concat([E.Buffer.from([128]),t]):t[0]=t[0]|128):(t=this.toBuffer(),t[0]&128&&(t=E.Buffer.concat([E.Buffer.from([0]),t]))),t.length===1&t[0]===0&&(t=E.Buffer.from([])),t};En.prototype.toSM=function(t){var e=t?t.endian:"big",r=this.toSMBigEndian();return e==="little"&&(r=JS(r)),r};En.fromScriptNumBuffer=function(t,e,r){var n=r||4;if(ck.checkArgument(t.length<=n,new Error("script number overflow")),e&&t.length>0&&(t[t.length-1]&127)===0&&(t.length<=1||(t[t.length-2]&128)===0))throw new Error("non-minimally encoded script number");return En.fromSM(t,{endian:"little"})};En.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})};En.trim=function(t,e){return t.slice(e-t.length,t.length)};En.pad=function(t,e,r){for(var n=E.Buffer.alloc(r),i=0;i<t.length;i++)n[n.length-1-i]=t[t.length-1-i];for(i=0;i<r-e;i++)n[i]=0;return n};xte.exports=En});var Cf=j((W1t,Ate)=>{"use strict";B();M();var Wg=Gr(),Ete=Zr(),vBe=ni(),m9=uo(),Gi=function t(e){if(!(this instanceof t))return new t(e);if(!Wg.isUndefined(e))if(E.Buffer.isBuffer(e))this.set({buf:e});else if(Wg.isString(e))this.set({buf:E.Buffer.from(e,"hex")});else if(Wg.isObject(e)){var r=e;this.set(r)}else throw new TypeError("Unrecognized argument for BufferReader")};Gi.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this.pos=t.pos||this.pos||0,this};Gi.prototype.eof=function(){return this.buf?this.pos>=this.buf.length:!0};Gi.prototype.finished=Gi.prototype.eof;Gi.prototype.read=function(t){Ete.checkArgument(!Wg.isUndefined(t),"Must specify a length");var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,e};Gi.prototype.readAll=function(){var t=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,t};Gi.prototype.readUInt8=function(){var t=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,t};Gi.prototype.readUInt16BE=function(){var t=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,t};Gi.prototype.readUInt16LE=function(){var t=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,t};Gi.prototype.readUInt32BE=function(){var t=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,t};Gi.prototype.readUInt32LE=function(){var t=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,t};Gi.prototype.readInt32LE=function(){var t=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,t};Gi.prototype.readUInt64BEBN=function(){var t=this.buf.slice(this.pos,this.pos+8),e=m9.fromBuffer(t);return this.pos=this.pos+8,e};Gi.prototype.readUInt64LEBN=function(){var t=this.buf.readUInt32LE(this.pos),e=this.buf.readUInt32LE(this.pos+4),r=e*4294967296+t,n;if(r<=9007199254740991)n=new m9(r);else{var i=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);n=new m9(i,10,"le")}return this.pos=this.pos+8,n};Gi.prototype.readVarintNum=function(){var t=this.readUInt8();switch(t){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var e=this.readUInt64LEBN(),r=e.toNumber();if(r<=Math.pow(2,53))return r;throw new Error("number too large to retain precision - use readVarintBN");default:return t}};Gi.prototype.readVarLengthBuffer=function(){var t=this.readVarintNum(),e=this.read(t);return Ete.checkState(e.length===t,"Invalid length while reading varlength buffer. Expected to read: "+t+" and read "+e.length),e};Gi.prototype.readVarintBuf=function(){var t=this.buf.readUInt8(this.pos);switch(t){case 253:return this.read(1+2);case 254:return this.read(1+4);case 255:return this.read(1+8);default:return this.read(1)}};Gi.prototype.readVarintBN=function(){var t=this.readUInt8();switch(t){case 253:return new m9(this.readUInt16LE());case 254:return new m9(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new m9(t)}};Gi.prototype.reverse=function(){for(var t=E.Buffer.alloc(this.buf.length),e=0;e<t.length;e++)t[e]=this.buf[this.buf.length-1-e];return this.buf=t,this};Gi.prototype.readReverse=function(t){Wg.isUndefined(t)&&(t=this.buf.length);var e=this.buf.slice(this.pos,this.pos+t);return this.pos=this.pos+t,vBe.reverse(e)};Ate.exports=Gi});var Pte=j((Z1t,Ite)=>{"use strict";B();M();var fk=I5().Buffer,_Be=9007199254740991;function dk(t){if(t<0||t>_Be||t%1!==0)throw new RangeError("value out of range")}function Yg(t,e,r){if(dk(t),e||(e=fk.allocUnsafe(Tte(t))),!fk.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Yg.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Yg.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Yg.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Yg.bytes=9),e}function Xg(t,e){if(!fk.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return Xg.bytes=1,r;if(r===253)return Xg.bytes=3,t.readUInt16LE(e+1);if(r===254)return Xg.bytes=5,t.readUInt32LE(e+1);Xg.bytes=9;var n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5),s=i*4294967296+n;return dk(s),s}function Tte(t){return dk(t),t<253?1:t<=65535?3:t<=4294967295?5:9}Ite.exports={encode:Yg,decode:Xg,encodingLength:Tte}});var Jg=j(Bt=>{"use strict";B();M();var SBe=Bt&&Bt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),wBe=Bt&&Bt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),xBe=Bt&&Bt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SBe(e,t,r);return wBe(e,t),e},EBe=Bt&&Bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.getBackTraceInfoSearch=Bt.getBackTraceInfo=Bt.getTxHeaderCheck=Bt.txToTxHeaderCheck=Bt.txToTxHeaderTiny=Bt.txToTxHeaderPartial=Bt.txToTxHeader=Bt.tokenAmountToByteString=Bt.intArrayToByteString=Bt.emptyTokenAmountArray=Bt.emptyBigIntArray=Bt.emptyTokenArray=Bt.emptyFixedArray=void 0;var ABe=EBe(Cf()),An=jr(),hk=xBe(Pte()),y9=ri(),Zg=(0,An.toByteString)(""),TBe=function(){return(0,An.fill)(Zg,y9.MAX_INPUT)};Bt.emptyFixedArray=TBe;var IBe=function(){return(0,An.fill)(Zg,y9.MAX_TOKEN_OUTPUT)};Bt.emptyTokenArray=IBe;var PBe=function(){return(0,An.fill)(0n,y9.MAX_INPUT)};Bt.emptyBigIntArray=PBe;var OBe=function(){return(0,An.fill)(0n,y9.MAX_TOKEN_OUTPUT)};Bt.emptyTokenAmountArray=OBe;var BBe=function(t){let e=(0,Bt.emptyFixedArray)();for(let r=0;r<t.length;r++){let n=t[r];e[r]=(0,An.int2ByteString)(n)}return e};Bt.intArrayToByteString=BBe;var MBe=function(t){let e=(0,Bt.emptyTokenArray)();for(let r=0;r<t.length;r++){let n=t[r];e[r]=(0,An.int2ByteString)(n)}return e};Bt.tokenAmountToByteString=MBe;var kBe=function(t){let e=(0,ABe.default)(t.toBuffer(!0)),r=e.read(4),n=e.readVarintNum(),i=(0,Bt.emptyFixedArray)(),s=(0,Bt.emptyFixedArray)(),o=(0,Bt.emptyFixedArray)(),a=(0,Bt.emptyFixedArray)();for(let p=0;p<n;p++){let y=e.read(32),w=e.read(4);if(e.readVarLengthBuffer().length>0)throw Error(`input ${p} unlocking script need eq 0`);let C=e.read(4);i[p]=(0,An.toHex)(y),s[p]=(0,An.toHex)(w),o[p]=(0,An.toByteString)("00"),a[p]=(0,An.toHex)(C)}let u=e.readVarintNum(),c=(0,Bt.emptyFixedArray)(),d=(0,Bt.emptyFixedArray)(),f=(0,Bt.emptyFixedArray)();for(let p=0;p<u;p++){let y=e.read(8),w=e.readVarintNum(),P=e.read(w);c[p]=(0,An.toHex)(y),d[p]=(0,An.toHex)(hk.encode(w)),f[p]=(0,An.toHex)(P)}let m=e.read(4);return{version:(0,An.toHex)(r),inputCount:(0,An.toHex)(hk.encode(n)),inputTxhashList:i,inputOutputIndexList:s,inputScriptList:o,inputSequenceList:a,outputCount:(0,An.toHex)(hk.encode(u)),outputSatoshisList:c,outputScriptLenList:d,outputScriptList:f,nLocktime:(0,An.toHex)(m)}};Bt.txToTxHeader=kBe;var CBe=function(t){let e=(0,Bt.emptyFixedArray)();for(let i=0;i<e.length;i++)e[i]=t.inputTxhashList[i]+t.inputOutputIndexList[i]+t.inputScriptList[i]+t.inputSequenceList[i];let r=(0,Bt.emptyFixedArray)(),n=(0,Bt.emptyFixedArray)();for(let i=0;i<r.length;i++)r[i]=t.outputSatoshisList[i],n[i]=t.outputScriptList[i];return{version:t.version,inputCount:t.inputCount,inputs:e,outputCountVal:(0,An.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:r,outputScriptList:n,nLocktime:t.nLocktime}};Bt.txToTxHeaderPartial=CBe;var RBe=function(t){let e=(0,An.toByteString)(""),r=(0,Bt.emptyFixedArray)();for(let a=0;a<r.length;a++)e+=t.inputTxhashList[a]+t.inputOutputIndexList[a]+t.inputScriptList[a]+t.inputSequenceList[a];let n=(0,An.fill)(Zg,4),i=t.version+t.inputCount+e+t.outputCount;for(let a=0;a<4;a++){let u=a*80*2,c=u+80*2;n[a]=i.slice(u,c)}let s=(0,Bt.emptyFixedArray)(),o=(0,Bt.emptyFixedArray)();for(let a=0;a<s.length;a++)s[a]=t.outputSatoshisList[a],o[a]=t.outputScriptList[a];return{prevList:n,outputCountVal:(0,An.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:s,outputScriptList:o,nLocktime:t.nLocktime}};Bt.txToTxHeaderTiny=RBe;var NBe=function(t){let e=(0,An.toByteString)(""),r=(0,Bt.emptyFixedArray)();for(let s=0;s<r.length;s++)e+=t.inputTxhashList[s]+t.inputOutputIndexList[s]+t.inputScriptList[s]+t.inputSequenceList[s];let n=(0,An.fill)(Zg,y9.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER),i=(0,An.fill)(Zg,y9.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER);for(let s=0;s<n.length;s++)n[s]=t.outputSatoshisList[s],i[s]=t.outputScriptList[s];return{prev:t.version+t.inputCount+e+t.outputCount,outputCountVal:(0,An.byteString2Int)(t.outputCount),outputCount:t.outputCount,outputSatoshisList:n,outputScriptList:i,nLocktime:t.nLocktime}};Bt.txToTxHeaderCheck=NBe;var FBe=function(t,e){let r=(0,Bt.txToTxHeader)(t),n=E.Buffer.alloc(4,0);return n.writeUInt32LE(e),{tx:(0,Bt.txToTxHeaderCheck)(r),outputBytes:n.toString("hex"),outputIndex:BigInt(e),outputPre:r.outputSatoshisList[e]+r.outputScriptLenList[e]}};Bt.getTxHeaderCheck=FBe;var HBe=function(t,e,r){let n=(0,Bt.txToTxHeader)(t),i=(0,Bt.txToTxHeader)(e),s=(0,Bt.txToTxHeaderPartial)(n),o=(0,Bt.txToTxHeaderTiny)(i),a={txhash:n.inputTxhashList[r],outputIndex:n.inputOutputIndexList[r],outputIndexVal:(0,An.byteString2Int)(n.inputOutputIndexList[r]),sequence:n.inputSequenceList[r]};return{preTx:s,preTxInput:a,preTxInputIndex:BigInt(r),prePreTx:o}};Bt.getBackTraceInfo=HBe;var DBe=function(t,e,r,n){let i=-1;for(let d=0;d<t.inputs.length;d++){let m=t.inputs[d].output.script.toBuffer().toString("hex");if(m==r||m==n){i=d;break}}if(i==-1)throw new Error("not find prev");let s=(0,Bt.txToTxHeader)(t),o=(0,Bt.txToTxHeader)(e),a=(0,Bt.txToTxHeaderPartial)(s),u=(0,Bt.txToTxHeaderTiny)(o),c={txhash:s.inputTxhashList[i],outputIndex:s.inputOutputIndexList[i],outputIndexVal:(0,An.byteString2Int)(s.inputOutputIndexList[i]),sequence:s.inputSequenceList[i]};return{preTx:a,preTxInput:c,preTxInputIndex:BigInt(i),prePreTx:u}};Bt.getBackTraceInfoSearch=DBe});var em=j(F1=>{"use strict";B();M();var LBe=F1&&F1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},lk=F1&&F1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(F1,"__esModule",{value:!0});F1.GuardProto=void 0;var Qg=jr(),Ote=Jg(),UBe=ri(),v9=class extends Qg.SmartContractLib{static stateHash(e){let r=e.tokenScript;for(let n=0;n<UBe.MAX_INPUT;n++)r+=(0,Qg.int2ByteString)(e.inputTokenAmountArray[n]);return(0,Qg.hash160)(r)}static toByteString(e){return v9.toList(e).join("")}static createEmptyState(){return{tokenScript:(0,Qg.toByteString)(""),inputTokenAmountArray:(0,Ote.emptyBigIntArray)()}}static toList(e){return[e.tokenScript,...(0,Ote.intArrayToByteString)(e.inputTokenAmountArray)]}};F1.GuardProto=v9;LBe([(0,Qg.method)(),lk("design:type",Function),lk("design:paramtypes",[Object]),lk("design:returntype",String)],v9,"stateHash",null)});var _9=j(H1=>{"use strict";B();M();var rm=H1&&H1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Ba=H1&&H1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(H1,"__esModule",{value:!0});H1.TxProof=void 0;var Kn=jr(),tm=ri(),id=class extends Kn.SmartContractLib{static getTxIdFromPreimg1(e){let r=e.version+e.inputCount;for(let n=0;n<tm.MAX_INPUT;n++)r+=e.inputs[n];r+=e.outputCount,(0,Kn.assert)((0,Kn.int2ByteString)(e.outputCountVal)==e.outputCount);for(let n=0;n<tm.MAX_OUTPUT;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],o=(0,Kn.int2ByteString)((0,Kn.len)(s));n<e.outputCountVal&&(r+=i+o+s)}return(0,Kn.hash256)(r+e.nLocktime)}static getTxIdFromPreimg2(e){let r=(0,Kn.toByteString)("");for(let n=0;n<tm.XRAYED_TXID_PREIMG2_PREVLIST_LEN;n++)r+=e.prevList[n];(0,Kn.assert)((0,Kn.int2ByteString)(e.outputCountVal)==e.outputCount);for(let n=0;n<tm.MAX_OUTPUT;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],o=(0,Kn.int2ByteString)((0,Kn.len)(s));n<e.outputCountVal&&(r+=i+o+s)}return(0,Kn.hash256)(r+e.nLocktime)}static getTxIdFromPreimg3(e){(0,Kn.assert)((0,Kn.int2ByteString)(e.outputCountVal)==e.outputCount);let r=(0,Kn.toByteString)("");for(let n=0;n<tm.XRAYED_TXID_PREIMG3_OUTPUT_NUMBER;n++){let i=e.outputSatoshisList[n],s=e.outputScriptList[n],o=(0,Kn.int2ByteString)((0,Kn.len)(s));n<e.outputCountVal&&(r+=i+o+s)}return(0,Kn.hash256)(e.prev+r+e.nLocktime)}static mergeInput(e){return e.txhash+e.outputIndex+(0,Kn.toByteString)("00")+e.sequence}static verifyOutput(e,r,n,i){return(0,Kn.assert)(id.getTxIdFromPreimg2(e)==r),(0,Kn.assert)(e.outputScriptList[Number(n)]==i),!0}};H1.TxProof=id;rm([(0,Kn.method)(),Ba("design:type",Function),Ba("design:paramtypes",[Object]),Ba("design:returntype",String)],id,"getTxIdFromPreimg1",null);rm([(0,Kn.method)(),Ba("design:type",Function),Ba("design:paramtypes",[Object]),Ba("design:returntype",String)],id,"getTxIdFromPreimg2",null);rm([(0,Kn.method)(),Ba("design:type",Function),Ba("design:paramtypes",[Object]),Ba("design:returntype",String)],id,"getTxIdFromPreimg3",null);rm([(0,Kn.method)(),Ba("design:type",Function),Ba("design:paramtypes",[Object]),Ba("design:returntype",String)],id,"mergeInput",null);rm([(0,Kn.method)(),Ba("design:type",Function),Ba("design:paramtypes",[Object,String,BigInt,String]),Ba("design:returntype",Boolean)],id,"verifyOutput",null)});var mu=j(L1=>{"use strict";B();M();var S9=L1&&L1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},co=L1&&L1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(L1,"__esModule",{value:!0});L1.StateUtils=void 0;var Ui=jr(),D1=ri(),qBe=_9(),Ma=class extends Ui.SmartContractLib{static verifyStateRoot(e,r){let n=(0,Ui.toByteString)("");for(let i=0;i<D1.MAX_STATE;i++)n+=(0,Ui.hash160)(e[i]);return(0,Ui.hash160)(n)==r}static getPadding(e){let r=BigInt(D1.MAX_STATE)-e,n=(0,Ui.toByteString)("");for(let i=0;i<D1.MAX_STATE;i++)i<r&&(n+=(0,Ui.hash160)((0,Ui.toByteString)("")));return n}static getStateScript(e,r){return D1.TxUtil.getStateScript((0,Ui.hash160)((0,Ui.hash160)(e)+Ma.getPadding(r)))}static getCurrentStateOutput(e,r,n){let i=(0,Ui.hash160)(e+Ma.getPadding(r));return(0,Ui.assert)(Ma.verifyStateRoot(n,i)),D1.TxUtil.buildOpReturnRoot(D1.TxUtil.getStateScript(i))}static verifyPreStateHash(e,r,n,i){return(0,Ui.assert)(D1.TxUtil.getStateScript(e.statesHashRoot)==n,"preStateHashRoot mismatch"),(0,Ui.assert)(Ma.verifyStateRoot(e.txoStateHashes,e.statesHashRoot),"preData error"),(0,Ui.assert)(r==e.txoStateHashes[Number(i-1n)],"preState hash mismatch"),!0}static verifyGuardStateHash(e,r,n){return(0,Ui.assert)(qBe.TxProof.getTxIdFromPreimg3(e)==r,"preTxHeader error"),(0,Ui.assert)(Ma.getStateScript(n,1n)==e.outputScriptList[D1.STATE_OUTPUT_INDEX],"preStateHashRoot mismatch"),!0}};L1.StateUtils=Ma;S9([(0,Ui.method)(),co("design:type",Function),co("design:paramtypes",[Object,String]),co("design:returntype",Boolean)],Ma,"verifyStateRoot",null);S9([(0,Ui.method)(),co("design:type",Function),co("design:paramtypes",[BigInt]),co("design:returntype",String)],Ma,"getPadding",null);S9([(0,Ui.method)(),co("design:type",Function),co("design:paramtypes",[String,BigInt]),co("design:returntype",String)],Ma,"getStateScript",null);S9([(0,Ui.method)(),co("design:type",Function),co("design:paramtypes",[String,BigInt,Object]),co("design:returntype",String)],Ma,"getCurrentStateOutput",null);S9([(0,Ui.method)(),co("design:type",Function),co("design:paramtypes",[Object,String,String,BigInt]),co("design:returntype",Boolean)],Ma,"verifyPreStateHash",null);S9([(0,Ui.method)(),co("design:type",Function),co("design:paramtypes",[Object,String,String]),co("design:returntype",Boolean)],Ma,"verifyGuardStateHash",null)});var gk=j(U1=>{"use strict";B();M();var jBe=U1&&U1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},pk=U1&&U1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(U1,"__esModule",{value:!0});U1.BurnGuard=void 0;var Rf=jr(),bk=gu(),QS=ri(),KBe=em(),$Be=mu(),ew=class extends Rf.SmartContract{burn(e,r,n,i,s,o,a){(0,Rf.assert)(this.checkSig(bk.SigHashUtils.checkSHPreimage(o),bk.SigHashUtils.Gx),"preimage check error"),bk.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),$Be.StateUtils.verifyGuardStateHash(s,a.spentTxhash,KBe.GuardProto.stateHash(i));let u=(0,Rf.toByteString)(""),c=(0,Rf.toByteString)("");for(let m=0;m<QS.MAX_STATE;m++){let p=r[m];(0,Rf.assert)(p!=i.tokenScript),u+=(0,Rf.hash160)(e[m]),(0,Rf.len)(p)>0&&(c+=QS.TxUtil.buildOutput(p,n[m]))}let d=QS.TxUtil.buildOpReturnRoot(QS.TxUtil.getStateScript((0,Rf.hash160)(u))),f=(0,Rf.sha256)(d+c);(0,Rf.assert)(f==o.hashOutputs,"hashOutputs mismatch")}};U1.BurnGuard=ew;jBe([(0,Rf.method)(),pk("design:type",Function),pk("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),pk("design:returntype",void 0)],ew.prototype,"burn",null)});var sd=j(q1=>{"use strict";B();M();var Mte=q1&&q1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},x9=q1&&q1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(q1,"__esModule",{value:!0});q1.Backtrace=void 0;var Nf=jr(),w9=_9(),Bte=ri(),nm=class extends Nf.SmartContractLib{static verifyUnique(e,r,n,i){return(0,Nf.assert)(e==w9.TxProof.getTxIdFromPreimg1(r.preTx)),(0,Nf.assert)(w9.TxProof.mergeInput(r.preTxInput)==r.preTx.inputs[Number(r.preTxInputIndex)]),(0,Nf.assert)(Bte.TxUtil.checkIndex(r.preTxInput.outputIndexVal,r.preTxInput.outputIndex)),r.preTxInput.txhash+r.preTxInput.outputIndex!=n&&w9.TxProof.verifyOutput(r.prePreTx,r.preTxInput.txhash,r.preTxInput.outputIndexVal,i),!0}static verifyToken(e,r,n,i){(0,Nf.assert)(e==w9.TxProof.getTxIdFromPreimg1(r.preTx)),(0,Nf.assert)(w9.TxProof.mergeInput(r.preTxInput)==r.preTx.inputs[Number(r.preTxInputIndex)]),(0,Nf.assert)(Bte.TxUtil.checkIndex(r.preTxInput.outputIndexVal,r.preTxInput.outputIndex)),(0,Nf.assert)(w9.TxProof.getTxIdFromPreimg2(r.prePreTx)==r.preTxInput.txhash);let s=r.prePreTx.outputScriptList[Number(r.preTxInput.outputIndexVal)],o=s==n,a=s==i;return(0,Nf.assert)(o||a),!0}};q1.Backtrace=nm;Mte([(0,Nf.method)(),x9("design:type",Function),x9("design:paramtypes",[String,Object,String,String]),x9("design:returntype",Boolean)],nm,"verifyUnique",null);Mte([(0,Nf.method)(),x9("design:type",Function),x9("design:paramtypes",[String,Object,String,String]),x9("design:returntype",Boolean)],nm,"verifyToken",null)});var vk=j(j1=>{"use strict";B();M();var zBe=j1&&j1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},mk=j1&&j1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(j1,"__esModule",{value:!0});j1.ClosedMinterProto=void 0;var yk=jr(),tw=class extends yk.SmartContractLib{static stateHash(e){return(0,yk.hash160)(e.tokenScript)}};j1.ClosedMinterProto=tw;zBe([(0,yk.method)(),mk("design:type",Function),mk("design:paramtypes",[Object]),mk("design:returntype",String)],tw,"stateHash",null)});var E9=j(K1=>{"use strict";B();M();var VBe=K1&&K1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},_k=K1&&K1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(K1,"__esModule",{value:!0});K1.CAT20Proto=void 0;var b7=jr(),GBe=ri(),rw=class extends b7.SmartContractLib{static stateHash(e){return(0,b7.assert)((0,b7.len)(e.ownerAddr)==GBe.ADDRESS_HASH_LEN),(0,b7.hash160)(e.ownerAddr+(0,b7.int2ByteString)(e.amount))}static create(e,r){return{amount:e,ownerAddr:r}}static toByteString(e){return e.ownerAddr+(0,b7.int2ByteString)(e.amount)}};K1.CAT20Proto=rw;VBe([(0,b7.method)(),_k("design:type",Function),_k("design:paramtypes",[Object]),_k("design:returntype",String)],rw,"stateHash",null)});var wk=j($1=>{"use strict";B();M();var Sk=$1&&$1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},im=$1&&$1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty($1,"__esModule",{value:!0});$1.ClosedMinter=void 0;var yu=jr(),A9=ri(),nw=gu(),WBe=sd(),YBe=vk(),kte=mu(),XBe=E9(),T9=class extends yu.SmartContract{constructor(e,r){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r}mint(e,r,n,i,s,o,a,u,c,d,f,m,p,y){(0,yu.assert)(this.checkSig(nw.SigHashUtils.checkSHPreimage(f),nw.SigHashUtils.Gx),"preimage check error"),nw.SigHashUtils.checkPrevoutsCtx(m,f.hashPrevouts,f.inputIndex),nw.SigHashUtils.checkSpentScriptsCtx(p,f.hashSpentScripts),kte.StateUtils.verifyPreStateHash(c,YBe.ClosedMinterProto.stateHash(u),d.preTx.outputScriptList[A9.STATE_OUTPUT_INDEX],m.outputIndexVal);let w=p[Number(m.inputIndexVal)];WBe.Backtrace.verifyUnique(m.spentTxhash,d,this.genesisOutpoint,w);let P=(0,yu.toByteString)(""),C=(0,yu.toByteString)(""),R=0n;o!=A9.TxUtil.ZEROSAT&&(C=A9.TxUtil.buildOutput(w,o),P+=(0,yu.hash160)(c.txoStateHashes[Number(m.outputIndexVal)-A9.STATE_OUTPUT_OFFSET]),R+=1n),P+=(0,yu.hash160)(XBe.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr}));let T=A9.TxUtil.buildOutput(u.tokenScript,a);R+=1n;let k=kte.StateUtils.getCurrentStateOutput(P,R,e),H=A9.TxUtil.getChangeOutput(y),F=(0,yu.sha256)(k+C+T+H);(0,yu.assert)(F==f.hashOutputs,"hashOutputs mismatch"),(0,yu.assert)(this.issuerAddress==(0,yu.hash160)(n+i)),(0,yu.assert)(this.checkSig(s,i))}};$1.ClosedMinter=T9;Sk([(0,yu.prop)(),im("design:type",String)],T9.prototype,"issuerAddress",void 0);Sk([(0,yu.prop)(),im("design:type",String)],T9.prototype,"genesisOutpoint",void 0);Sk([(0,yu.method)(),im("design:type",Function),im("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),im("design:returntype",void 0)],T9.prototype,"mint",null)});var Ek=j(z1=>{"use strict";B();M();var ZBe=z1&&z1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},xk=z1&&z1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(z1,"__esModule",{value:!0});z1.OpenMinterProto=void 0;var od=jr(),Cte=ri(),iw=class extends od.SmartContractLib{static stateHash(e){let r=e.isPremined?(0,od.toByteString)("01"):(0,od.toByteString)("00");return(0,od.hash160)(e.tokenScript+r+(0,od.int2ByteString)(e.remainingSupply))}static create(e,r,n){return{tokenScript:e,isPremined:r,remainingSupply:n}}static toByteString(e){let r=e.isPremined?(0,od.toByteString)("01"):(0,od.toByteString)("00");return e.tokenScript+r+(0,od.int2ByteString)(e.remainingSupply)}static getSplitAmountList(e,r,n,i){let s=(0,od.fill)(0n,2);if(i>0&&i<=2){let o=e-r,a=(0,Cte.Int32)(i)*n,u=o/a*n,c=o-u*(0,Cte.Int32)(i);s[0]=u+c;for(let d=1;d<i;d++)s[d]=u}return s}};z1.OpenMinterProto=iw;ZBe([(0,od.method)(),xk("design:type",Function),xk("design:paramtypes",[Object]),xk("design:returntype",String)],iw,"stateHash",null)});var Ak=j(Ff=>{"use strict";B();M();var I9=Ff&&Ff.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},V1=Ff&&Ff.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Ff,"__esModule",{value:!0});Ff.OpenMinter=Ff.MAX_NEXT_MINTERS=void 0;var xi=jr(),sw=ri(),ow=gu(),JBe=sd(),Rte=mu(),QBe=E9(),Nte=Ek();Ff.MAX_NEXT_MINTERS=2;var hh=class extends xi.SmartContract{constructor(e,r,n,i,s){super(...arguments),this.genesisOutpoint=e,this.max=r,this.premine=n,this.limit=i,this.premineAddr=s}mint(e,r,n,i,s,o,a,u,c,d,f,m,p,y,w){(0,xi.assert)(this.checkSig(ow.SigHashUtils.checkSHPreimage(m),ow.SigHashUtils.Gx),"preimage check error"),ow.SigHashUtils.checkPrevoutsCtx(p,m.hashPrevouts,m.inputIndex),ow.SigHashUtils.checkSpentScriptsCtx(y,m.hashSpentScripts),Rte.StateUtils.verifyPreStateHash(d,Nte.OpenMinterProto.stateHash(c),f.preTx.outputScriptList[sw.STATE_OUTPUT_INDEX],p.outputIndexVal);let P=y[Number(p.inputIndexVal)];JBe.Backtrace.verifyUnique(p.spentTxhash,f,this.genesisOutpoint,P);let C=(0,xi.toByteString)(""),R=(0,xi.toByteString)(""),T=0n,k=0n;for(let N=0;N<Ff.MAX_NEXT_MINTERS;N++){let g=n[N];g>0n&&(k+=g,T+=1n,C+=sw.TxUtil.buildOutput(P,a),R+=(0,xi.hash160)(Nte.OpenMinterProto.stateHash({tokenScript:c.tokenScript,isPremined:!0,remainingSupply:g})))}let H=(0,xi.toByteString)("");r.amount>0n&&(k+=r.amount,T+=1n,R+=(0,xi.hash160)(QBe.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr})),H=sw.TxUtil.buildOutput(c.tokenScript,u)),!c.isPremined&&this.premine>0n?((0,xi.assert)((0,xi.hash160)(i+s)==this.premineAddr),(0,xi.assert)(this.checkSig(o,s)),(0,xi.assert)(k==c.remainingSupply+this.premine),(0,xi.assert)(this.max==c.remainingSupply+this.premine),(0,xi.assert)(r.amount==this.premine)):((0,xi.assert)(k==c.remainingSupply),(0,xi.assert)(r.amount<=this.limit));let F=Rte.StateUtils.getCurrentStateOutput(R,T,e),L=sw.TxUtil.getChangeOutput(w),D=(0,xi.sha256)(F+C+H+L);(0,xi.assert)(D==m.hashOutputs,"hashOutputs mismatch")}};Ff.OpenMinter=hh;I9([(0,xi.prop)(),V1("design:type",String)],hh.prototype,"genesisOutpoint",void 0);I9([(0,xi.prop)(),V1("design:type",BigInt)],hh.prototype,"max",void 0);I9([(0,xi.prop)(),V1("design:type",BigInt)],hh.prototype,"premine",void 0);I9([(0,xi.prop)(),V1("design:type",BigInt)],hh.prototype,"limit",void 0);I9([(0,xi.prop)(),V1("design:type",String)],hh.prototype,"premineAddr",void 0);I9([(0,xi.method)(),V1("design:type",Function),V1("design:paramtypes",[Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),V1("design:returntype",void 0)],hh.prototype,"mint",null)});var Tk=j(W1=>{"use strict";B();M();var uw=W1&&W1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},G1=W1&&W1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(W1,"__esModule",{value:!0});W1.CAT20=void 0;var Co=jr(),aw=gu(),Fte=ri(),eMe=_9(),Hte=mu(),tMe=E9(),rMe=em(),nMe=sd(),g7=class extends Co.SmartContract{constructor(e,r){super(...arguments),this.minterScript=e,this.guardScript=r}unlock(e,r,n,i,s,o,a,u){(0,Co.assert)(this.checkSig(aw.SigHashUtils.checkSHPreimage(o),aw.SigHashUtils.Gx),"preimage check error"),aw.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),aw.SigHashUtils.checkSpentScriptsCtx(u,o.hashSpentScripts),Hte.StateUtils.verifyPreStateHash(n,tMe.CAT20Proto.stateHash(r),s.preTx.outputScriptList[Fte.STATE_OUTPUT_INDEX],a.outputIndexVal);let c=u[Number(a.inputIndexVal)];nMe.Backtrace.verifyToken(a.spentTxhash,s,this.minterScript,c),this.valitateGuard(i,c,r,a.inputIndexVal,a.prevouts,u),e.isUserSpend?((0,Co.assert)((0,Co.hash160)(e.userPubKeyPrefix+e.userPubKey)==r.ownerAddr),(0,Co.assert)(this.checkSig(e.userSig,e.userPubKey))):(0,Co.assert)(r.ownerAddr==(0,Co.hash160)(u[Number(e.contractInputIndex)]))}valitateGuard(e,r,n,i,s,o){let a=rMe.GuardProto.stateHash(e.guardState);(0,Co.assert)(e.guardState.tokenScript==r),(0,Co.assert)(Hte.StateUtils.getStateScript(a,1n)==e.tx.outputScriptList[Fte.STATE_OUTPUT_INDEX]),(0,Co.assert)(n.amount>0n),(0,Co.assert)(e.guardState.inputTokenAmountArray[Number(i)]==n.amount);let u=eMe.TxProof.getTxIdFromPreimg3(e.tx);return(0,Co.assert)(s[Number(e.inputIndexVal)]==u+e.outputIndex),(0,Co.assert)(o[Number(e.inputIndexVal)]==this.guardScript),!0}};W1.CAT20=g7;uw([(0,Co.prop)(),G1("design:type",String)],g7.prototype,"minterScript",void 0);uw([(0,Co.prop)(),G1("design:type",String)],g7.prototype,"guardScript",void 0);uw([(0,Co.method)(),G1("design:type",Function),G1("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object]),G1("design:returntype",void 0)],g7.prototype,"unlock",null);uw([(0,Co.method)(),G1("design:type",Function),G1("design:paramtypes",[Object,String,Object,BigInt,Object,Object]),G1("design:returntype",Boolean)],g7.prototype,"valitateGuard",null)});var Pk=j(Y1=>{"use strict";B();M();var iMe=Y1&&Y1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Ik=Y1&&Y1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Y1,"__esModule",{value:!0});Y1.TransferGuard=void 0;var ms=jr(),cw=gu(),P9=ri(),sMe=em(),oMe=mu(),fw=class extends ms.SmartContract{transfer(e,r,n,i,s,o,a,u,c,d,f){(0,ms.assert)(this.checkSig(cw.SigHashUtils.checkSHPreimage(c),cw.SigHashUtils.Gx),"preimage check error"),cw.SigHashUtils.checkPrevoutsCtx(d,c.hashPrevouts,c.inputIndex),cw.SigHashUtils.checkSpentScriptsCtx(f,c.hashSpentScripts),oMe.StateUtils.verifyGuardStateHash(u,d.spentTxhash,sMe.GuardProto.stateHash(a));let m=0n;for(let T=0;T<P9.MAX_INPUT;T++)if(f[T]==a.tokenScript){let H=m;m+=a.inputTokenAmountArray[T],(0,ms.assert)(m>H)}let p=(0,ms.toByteString)(""),y=(0,ms.toByteString)(""),w=0n,P=P9.TxUtil.buildOutput(a.tokenScript,o);for(let T=0;T<P9.MAX_STATE;T++){let k=r[T];if(i[T]){let H=n[T];(0,ms.assert)(H>0n),w=w+H,y=y+P;let F=(0,ms.hash160)((0,ms.hash160)(k+(0,ms.int2ByteString)(H)));(0,ms.assert)((0,ms.hash160)(e[T])==F),p+=F}else(0,ms.assert)(k!=a.tokenScript),p+=(0,ms.hash160)(e[T]),(0,ms.len)(k)>0&&(y+=P9.TxUtil.buildOutput(k,s[T]))}(0,ms.assert)(m>0n),(0,ms.assert)(m==w);let C=P9.TxUtil.buildOpReturnRoot(P9.TxUtil.getStateScript((0,ms.hash160)(p))),R=(0,ms.sha256)(C+y);(0,ms.assert)(R==c.hashOutputs,"hashOutputs mismatch")}};Y1.TransferGuard=fw;iMe([(0,ms.method)(),Ik("design:type",Function),Ik("design:paramtypes",[Object,Object,Object,Object,Object,String,Object,Object,Object,Object,Object]),Ik("design:returntype",void 0)],fw.prototype,"transfer",null)});var Bk=j(X1=>{"use strict";B();M();var aMe=X1&&X1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Ok=X1&&X1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(X1,"__esModule",{value:!0});X1.OpenMinterV2Proto=void 0;var ad=jr(),dw=class extends ad.SmartContractLib{static stateHash(e){let r=e.isPremined?(0,ad.toByteString)("01"):(0,ad.toByteString)("00");return(0,ad.hash160)(e.tokenScript+r+(0,ad.int2ByteString)(e.remainingSupplyCount))}static create(e,r,n){return{tokenScript:e,isPremined:r,remainingSupplyCount:n}}static toByteString(e){let r=e.isPremined?(0,ad.toByteString)("01"):(0,ad.toByteString)("00");return e.tokenScript+r+(0,ad.int2ByteString)(e.remainingSupplyCount)}static getSplitAmountList(e,r,n){let i=e-1n;!r&&n>0n&&(i=e);let s=(0,ad.fill)(i/2n,2);return s[0]+=i-s[0]*2n,s}};X1.OpenMinterV2Proto=dw;aMe([(0,ad.method)(),Ok("design:type",Function),Ok("design:paramtypes",[Object]),Ok("design:returntype",String)],dw,"stateHash",null)});var Mk=j(Z1=>{"use strict";B();M();var m7=Z1&&Z1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},lh=Z1&&Z1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Z1,"__esModule",{value:!0});Z1.OpenMinterV2=void 0;var Ei=jr(),hw=ri(),lw=gu(),uMe=sd(),Dte=mu(),cMe=E9(),Lte=Bk(),fMe=2,ud=class extends Ei.SmartContract{constructor(e,r,n,i,s,o){super(...arguments),this.genesisOutpoint=e,this.maxCount=r,this.premine=n,this.premineCount=i,this.limit=s,this.premineAddr=o}mint(e,r,n,i,s,o,a,u,c,d,f,m,p,y,w){(0,Ei.assert)(this.checkSig(lw.SigHashUtils.checkSHPreimage(m),lw.SigHashUtils.Gx),"preimage check error"),lw.SigHashUtils.checkPrevoutsCtx(p,m.hashPrevouts,m.inputIndex),lw.SigHashUtils.checkSpentScriptsCtx(y,m.hashSpentScripts),Dte.StateUtils.verifyPreStateHash(d,Lte.OpenMinterV2Proto.stateHash(c),f.preTx.outputScriptList[hw.STATE_OUTPUT_INDEX],p.outputIndexVal);let P=y[Number(p.inputIndexVal)];uMe.Backtrace.verifyUnique(p.spentTxhash,f,this.genesisOutpoint,P);let C=(0,Ei.toByteString)(""),R=(0,Ei.toByteString)(""),T=1n,k=0n;for(let N=0;N<fMe;N++){let g=n[N];g>0n&&(k+=g,T+=1n,C+=hw.TxUtil.buildOutput(P,a),R+=(0,Ei.hash160)(Lte.OpenMinterV2Proto.stateHash({tokenScript:c.tokenScript,isPremined:!0,remainingSupplyCount:g})))}R+=(0,Ei.hash160)(cMe.CAT20Proto.stateHash({amount:r.amount,ownerAddr:r.ownerAddr}));let H=hw.TxUtil.buildOutput(c.tokenScript,u);!c.isPremined&&this.premine>0n?((0,Ei.assert)((0,Ei.hash160)(i+s)==this.premineAddr),(0,Ei.assert)(this.checkSig(o,s)),(0,Ei.assert)(k==c.remainingSupplyCount),(0,Ei.assert)(this.maxCount==c.remainingSupplyCount+this.premineCount),(0,Ei.assert)(r.amount==this.premine)):(k+=1n,(0,Ei.assert)(k==c.remainingSupplyCount),(0,Ei.assert)(r.amount==this.limit));let F=Dte.StateUtils.getCurrentStateOutput(R,T,e),L=hw.TxUtil.getChangeOutput(w),D=(0,Ei.sha256)(F+C+H+L);(0,Ei.assert)(D==m.hashOutputs,"hashOutputs mismatch")}};Z1.OpenMinterV2=ud;m7([(0,Ei.prop)(),lh("design:type",String)],ud.prototype,"genesisOutpoint",void 0);m7([(0,Ei.prop)(),lh("design:type",BigInt)],ud.prototype,"maxCount",void 0);m7([(0,Ei.prop)(),lh("design:type",BigInt)],ud.prototype,"premine",void 0);m7([(0,Ei.prop)(),lh("design:type",BigInt)],ud.prototype,"premineCount",void 0);m7([(0,Ei.prop)(),lh("design:type",BigInt)],ud.prototype,"limit",void 0);m7([(0,Ei.prop)(),lh("design:type",String)],ud.prototype,"premineAddr",void 0);m7([(0,Ei.method)(),lh("design:type",Function),lh("design:paramtypes",[Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),lh("design:returntype",void 0)],ud.prototype,"mint",null)});var Ute=j((z6t,dMe)=>{dMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"ClosedMinter",md5:"fe60c526b65695c3070dfed2a8362734",structs:[{name:"ClosedMinterState",params:[{name:"tokenScript",type:"bytes"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"ClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"genesisSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"ClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../closedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000000<ownerAddress><genesisOutpoint>78547a7572537a76537a75777701257901257901257901257901257901257901257901257901257901257901257901257901257901257960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011779011779011779011779011779011779011779011779011779011779012d790128795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5d795d795d795d795d795d790127795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015a79015a79015a79015a79015a79015a7901617976a977014b79014b79014b79014b79014b79014b7956007600a26976569f69948c766b796c756b6d6d6d6c0118795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755d0112797600a26976569f6994766b796c7560790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790156790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750000000161795a798764537901627978827d770122a1696e7e53797e7777777b757c5279015e79015e79015e79015e79015e7955011b798c7600a26976559f69948c766b796c756b6d6d756ca97e537a757b7b527978778b7768527901677901677978827701149d6e7ea97777a97e537a757b7b527975015f7901617978827d770122a1696e7e53797e777777788b7b757c53795279016e79016e79016e79016e79016e7956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c775d795d79765e7987646e78827d770122a1696e7e53797e77777767006877777855797e53797e787ea8760128798859790169790169797ea988016679016879ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var qte=j((V6t,hMe)=>{hMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"OpenMinter",md5:"21cbd2e538f2b6cc40ee180e174f1e25",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"OpenMinterState",params:[{name:"tokenScript",type:"bytes"},{name:"isPremined",type:"bool"},{name:"remainingSupply",type:"int"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"OpenMinterProto",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"nextMinterAmounts",type:"int[2]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"OpenMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"},{name:"premine",type:"int"},{name:"limit",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../openMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<genesisOutpoint><max><premine><limit><premineAddr>0128790128790128790128790128790128790128790128790128790128790128790128790128790128790113795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011579787ea85279017f9f695279009c6301006752796878557952797e8801187955797e54798b7e6b6d6d6d6d6d6d6d6d6c775879ad011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79013079012b795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d607960796079607960796079012a795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015d79015d79015d79015d79015d79015d79016679016679016679786351670100685379787e52797ea96b6d6d6c014e79014e79014e79014e79014e79014e7956007600a26976569f69948c766b796c756b6d6d6d6c011b795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75600115797600a26976569f6994766b796c750113790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790159790135790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7500000000016c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016a7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016779515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875016c8c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016a7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016779515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a537975687500016e7900a06378016f79937b757c52798b537a757b7b527975537901707901707978827701149d6e7ea97777a97e547a7572537a53797501667901687978827d770122a1696e7e53797e6b6d6d6c6801657964587900a067006863016b79016b797ea9577988016979016b79ad780165795a79939d59790165795a79939d016e7959799d67780165799d016e795879a169687001767901767901767901767901767956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770111790111797601127987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012c79876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var jte=j((G6t,lMe)=>{lMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"OpenMinterV2",md5:"a6c2e92d74a23c07bb6220b676c6cb9b",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"OpenMinterV2State",params:[{name:"tokenScript",type:"bytes"},{name:"isPremined",type:"bool"},{name:"remainingSupplyCount",type:"int"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"OpenMinterV2Proto",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"tokenMint",type:"CAT20State"},{name:"nextMinterCounts",type:"int[2]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"OpenMinterV2State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"maxCount",type:"int"},{name:"premine",type:"int"},{name:"premineCount",type:"int"},{name:"limit",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../openMinterV2.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<genesisOutpoint><maxCount><premine><premineCount><limit><premineAddr>0129790129790129790129790129790129790129790129790129790129790129790129790129790129790114795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011679787ea85279017f9f695279009c6301006752796878557952797e8801197955797e54798b7e6b6d6d6d6d6d6d6d6d6c775979ad011b79011b79011b79011b79011b79011b79011b79011b79011b79011b79013179012c795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d011179011179011179011179011179011179012b795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015e79015e79015e79015e79015e79015e79016779016779016779786351670100685379787e52797ea96b6d6d6c014f79014f79014f79014f79014f79014f7956007600a26976569f69948c766b796c756b6d6d6d6c011c795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d7501110116797600a26976569f6994766b796c75011479015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a79015a790136790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7500005100016d766b796c787700a0636e937b757c52798b537a757b7b52797554795679016b7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016879515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875016d8c766b796c787700a0636e937b757c52798b537a757b7b52797554795679016b7978827d770122a1696e7e53797e7777777e557a75547a547a547a547a5479755379016879515379786351670100685379787e52797ea96b6d6d6ca97e547a7572537a5379756875527901707901707978827701149d6e7ea97777a97e537a757b7b52797501667901687978827d770122a1696e7e53797e77777701667964597900a067006863016c79016c797ea9577988016a79016c79ad780166799d5a790166795a79939d016f795a799d67788b7b757d0166799d016f7958799d687001777901777901777901777901777956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770112790112797601137987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012d79876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var Kte=j((W6t,pMe)=>{pMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"CAT20",md5:"36eb7d5819c558e74512693c33a8f309",structs:[{name:"TokenUnlockArgs",params:[{name:"isUserSpend",type:"bool"},{name:"userPubKeyPrefix",type:"bytes"},{name:"userPubKey",type:"PubKey"},{name:"userSig",type:"Sig"},{name:"contractInputIndex",type:"int"}],genericTypes:[]},{name:"GuardInfo",params:[{name:"tx",type:"XrayedTxIdPreimg3"},{name:"inputIndexVal",type:"int"},{name:"outputIndex",type:"bytes"},{name:"guardState",type:"GuardConstState"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"CAT20State",params:[{name:"ownerAddr",type:"bytes"},{name:"amount",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"CAT20Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"tokenUnlockArgs",type:"TokenUnlockArgs"},{name:"preState",type:"CAT20State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"guardInfo",type:"GuardInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[{name:"minterScript",type:"bytes"},{name:"guardScript",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../cat20.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<minterScript><guardScript>01227901227901227901227901227901227901227901227901227901227901227901227901227901227960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011479011479011479011479011479011479011479011479011479011479012a790125795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5a795a795a795a795a795a790124795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75016c79016c79016c79016c79016c79016c7901747901747978827701149d6e7ea9777701487901487901487901487901487901487956007600a26976569f69948c766b796c756b6d6d6d6c0115795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755a5f797600a26976569f6994766b796c755d790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e52798777777769011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c011a798858795879587958795879587956011e797600a26976569f69948c766b796c756b6d6d6d6c7653798778537987786476675168696d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790115790285007902850079012779012e79012e79012e79012e79012e79012e79012a79012a79012a79012a79012a79012a7901167901167901167901167901167901167901167956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c01177901117988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777011f79011f79011f79011f7954007600a26976549f69948c766b796c756b6d6d6c885e7900a069011679011679011679011679011679011679560114797600a26976569f69948c766b796c756b6d6d6d6c5f799d0125790125790125790125790125790125790125790125790125790125790125790125795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c775d011b797600a26976569f6994766b796c7578011b797e8857011b797600a26976569f6994766b796c75012979886d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75017479630173790173797ea901707988017179017379ad67016f795c0172797600a26976569f6994766b796c75a988686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7551",sourceMapFile:""}});var $te=j((Y6t,bMe)=>{bMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"BurnGuard",md5:"bdcfe0b013ecd9ec68098b8060234af4",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"burn",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"outputScriptList",type:"bytes[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"preState",type:"GuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../burnGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad5c795c795c795c795c795c795c795c795c795c79012279011d795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d0126790126790126790126790126790126790126790126790126790126790126790126796079013a79013a79013a79013a79013a79013a79013a7956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d00000139766b796c787701317987916952790140766b796c75a97e537a757b7b52797877827700a0636e0137766b796c7578827d770122a1696e7e53797e7777777e7b757c687501398c766b796c7877013179879169527901408c766b796c75a97e537a757b7b52797877827700a0636e01378c766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395294766b796c7877013179879169527901405294766b796c75a97e537a757b7b52797877827700a0636e01375294766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395394766b796c7877013179879169527901405394766b796c75a97e537a757b7b52797877827700a0636e01375394766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395494766b796c7877013179879169527901405494766b796c75a97e537a757b7b52797877827700a0636e01375494766b796c7578827d770122a1696e7e53797e7777777e7b757c687578a9066a1863617401787e770800000000000000007882777e787e776e7c7ea876011979876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var zte=j((X6t,gMe)=>{gMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"TransferGuard",md5:"7fc09a52492f2bd4d5f30c4f5116c0f8",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"GuardConstState",params:[{name:"tokenScript",type:"bytes"},{name:"inputTokenAmountArray",type:"int[6]"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"GuardProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"transfer",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"ownerAddrOrScriptList",type:"bytes[5]"},{name:"tokenAmountList",type:"int[5]"},{name:"tokenOutputMaskList",type:"bool[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"tokenSatoshis",type:"bytes"},{name:"preState",type:"GuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../transferGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000120790120790120790120790120790120790120790120790120790120790120790120790120790120795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad0112790112790112790112790112790112790112790112790112790112790128790123795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5879587958795879587958790122795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c7901167901407901407901407901407901407901407901407956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d0059766b796c78770136798763787601367901367901367901367901367901367955766b796c756b6d6d6d6c93537a757b7b527975527978a06975687558766b796c78770136798763787601367901367901367901367901367901367954766b796c756b6d6d6d6c93537a757b7b527975527978a06975687557766b796c78770136798763787601367901367901367901367901367901367953766b796c756b6d6d6d6c93537a757b7b527975527978a06975687556766b796c78770136798763787601367901367901367901367901367901367952766b796c756b6d6d6d6c93537a757b7b527975527978a06975687555766b796c78770136798763787601367901367901367901367901367901367951766b796c756b6d6d6d6c93537a757b7b527975527978a06975687554766b796c78770136798763787601367901367901367901367901367901367900766b796c756b6d6d6d6c93537a757b7b527975527978a06975687500000001377901397978827d770122a1696e7e53797e777777014d766b796c750144766b796c75630149766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a90155766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a7987916954790154766b796c75a97e557a75547a547a547a547a54797877827700a0635379780141766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d8c766b796c7501448c766b796c756301498c766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901558c766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901548c766b796c75a97e557a75547a547a547a547a54797877827700a06353797801418c766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5294766b796c7501445294766b796c756301495294766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555294766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545294766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415294766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5394766b796c7501445394766b796c756301495394766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555394766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545394766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415394766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875014d5494766b796c7501445494766b796c756301495494766b796c787700a06953797893547a7572537a547953797e557a75547a547a547a547a6e7ea9a901555494766b796c75a978885679787e577a75567a567a567a567a567a567a56796d756776013a79879169547901545494766b796c75a97e557a75547a547a547a547a54797877827700a06353797801415494766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875547900a069547952799d5379a9066a1863617401787e770800000000000000007882777e787e777654797ea876012279876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var Ck=j(J1=>{"use strict";B();M();var mMe=J1&&J1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},kk=J1&&J1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(J1,"__esModule",{value:!0});J1.NftClosedMinterProto=void 0;var y7=jr(),pw=class extends y7.SmartContractLib{static stateHash(e){return(0,y7.hash160)(e.nftScript+(0,y7.int2ByteString)(e.quotaMaxLocalId)+(0,y7.int2ByteString)(e.nextLocalId))}static create(e,r,n){return{nftScript:e,quotaMaxLocalId:r,nextLocalId:n}}static toByteString(e){return e.nftScript+(0,y7.int2ByteString)(e.quotaMaxLocalId)+(0,y7.int2ByteString)(e.nextLocalId)}};J1.NftClosedMinterProto=pw;mMe([(0,y7.method)(),kk("design:type",Function),kk("design:paramtypes",[Object]),kk("design:returntype",String)],pw,"stateHash",null)});var O9=j(Q1=>{"use strict";B();M();var yMe=Q1&&Q1.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Rk=Q1&&Q1.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Q1,"__esModule",{value:!0});Q1.CAT721Proto=void 0;var v7=jr(),vMe=ri(),bw=class extends v7.SmartContractLib{static stateHash(e){return(0,v7.assert)((0,v7.len)(e.ownerAddr)==vMe.ADDRESS_HASH_LEN),(0,v7.hash160)(e.ownerAddr+(0,v7.int2ByteString)(e.localId))}static create(e,r){return{ownerAddr:e,localId:r}}static toByteString(e){return e.ownerAddr+(0,v7.int2ByteString)(e.localId)}};Q1.CAT721Proto=bw;yMe([(0,v7.method)(),Rk("design:type",Function),Rk("design:paramtypes",[Object]),Rk("design:returntype",String)],bw,"stateHash",null)});var Nk=j(e6=>{"use strict";B();M();var yw=e6&&e6.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},B9=e6&&e6.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(e6,"__esModule",{value:!0});e6.NftClosedMinter=void 0;var Ro=jr(),gw=ri(),mw=gu(),_Me=sd(),Vte=Ck(),Gte=mu(),SMe=O9(),_7=class extends Ro.SmartContract{constructor(e,r,n){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r,this.max=n}mint(e,r,n,i,s,o,a,u,c,d,f,m,p,y){(0,Ro.assert)(this.checkSig(mw.SigHashUtils.checkSHPreimage(f),mw.SigHashUtils.Gx),"preimage check error"),mw.SigHashUtils.checkPrevoutsCtx(m,f.hashPrevouts,f.inputIndex),mw.SigHashUtils.checkSpentScriptsCtx(p,f.hashSpentScripts),Gte.StateUtils.verifyPreStateHash(c,Vte.NftClosedMinterProto.stateHash(u),d.preTx.outputScriptList[gw.STATE_OUTPUT_INDEX],m.outputIndexVal),(0,Ro.assert)(m.inputIndexVal==0n);let w=p[Number(m.inputIndexVal)];_Me.Backtrace.verifyUnique(m.spentTxhash,d,this.genesisOutpoint,w);let P=(0,Ro.toByteString)(""),C=(0,Ro.toByteString)(""),R=0n;u.nextLocalId+1n<u.quotaMaxLocalId&&(C=gw.TxUtil.buildOutput(w,o),P+=(0,Ro.hash160)(Vte.NftClosedMinterProto.stateHash({nftScript:u.nftScript,quotaMaxLocalId:u.quotaMaxLocalId,nextLocalId:u.nextLocalId+1n})),R+=1n),(0,Ro.assert)(r.localId==u.nextLocalId),P+=(0,Ro.hash160)(SMe.CAT721Proto.stateHash(r));let k=gw.TxUtil.buildOutput(u.nftScript,a);R+=1n;let H=Gte.StateUtils.getCurrentStateOutput(P,R,e),F=gw.TxUtil.getChangeOutput(y),L=(0,Ro.sha256)(H+C+k+F);(0,Ro.assert)(L==f.hashOutputs,"hashOutputs mismatch"),(0,Ro.assert)(this.issuerAddress==(0,Ro.hash160)(n+i)),(0,Ro.assert)(this.checkSig(s,i))}};e6.NftClosedMinter=_7;yw([(0,Ro.prop)(),B9("design:type",String)],_7.prototype,"issuerAddress",void 0);yw([(0,Ro.prop)(),B9("design:type",String)],_7.prototype,"genesisOutpoint",void 0);yw([(0,Ro.prop)(),B9("design:type",BigInt)],_7.prototype,"max",void 0);yw([(0,Ro.method)(),B9("design:type",Function),B9("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),B9("design:returntype",void 0)],_7.prototype,"mint",null)});var Hk=j(t6=>{"use strict";B();M();var wMe=t6&&t6.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Fk=t6&&t6.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(t6,"__esModule",{value:!0});t6.NftParallelClosedMinterProto=void 0;var sm=jr(),vw=class extends sm.SmartContractLib{static stateHash(e){return(0,sm.hash160)(e.nftScript+(0,sm.int2ByteString)(e.nextLocalId))}static create(e,r){return{nftScript:e,nextLocalId:r}}static toByteString(e){return e.nftScript+(0,sm.int2ByteString)(e.nextLocalId)}};t6.NftParallelClosedMinterProto=vw;wMe([(0,sm.method)(),Fk("design:type",Function),Fk("design:paramtypes",[Object]),Fk("design:returntype",String)],vw,"stateHash",null)});var Lk=j(r6=>{"use strict";B();M();var Sw=r6&&r6.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},M9=r6&&r6.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(r6,"__esModule",{value:!0});r6.NftParallelClosedMinter=void 0;var $n=jr(),om=ri(),_w=gu(),xMe=sd(),Dk=Hk(),Wte=mu(),EMe=O9(),S7=class extends $n.SmartContract{constructor(e,r,n){super(...arguments),this.issuerAddress=e,this.genesisOutpoint=r,this.max=n}mint(e,r,n,i,s,o,a,u,c,d,f,m,p,y){(0,$n.assert)(this.checkSig(_w.SigHashUtils.checkSHPreimage(f),_w.SigHashUtils.Gx),"preimage check error"),_w.SigHashUtils.checkPrevoutsCtx(m,f.hashPrevouts,f.inputIndex),_w.SigHashUtils.checkSpentScriptsCtx(p,f.hashSpentScripts),Wte.StateUtils.verifyPreStateHash(c,Dk.NftParallelClosedMinterProto.stateHash(u),d.preTx.outputScriptList[om.STATE_OUTPUT_INDEX],m.outputIndexVal),(0,$n.assert)(m.inputIndexVal==0n);let w=p[Number(m.inputIndexVal)];xMe.Backtrace.verifyUnique(m.spentTxhash,d,this.genesisOutpoint,w),d.preTxInput.txhash+d.preTxInput.outputIndex==this.genesisOutpoint&&((0,$n.assert)(c.txoStateHashes[1]==(0,$n.toByteString)("")),(0,$n.assert)(c.txoStateHashes[2]==(0,$n.toByteString)("")),(0,$n.assert)(c.txoStateHashes[3]==(0,$n.toByteString)("")),(0,$n.assert)(c.txoStateHashes[4]==(0,$n.toByteString)("")));let C=(0,$n.toByteString)(""),R=(0,$n.toByteString)(""),T=0n,k=u.nextLocalId+u.nextLocalId+1n,H=u.nextLocalId+u.nextLocalId+2n;k<this.max&&(R+=om.TxUtil.buildOutput(w,o),C+=(0,$n.hash160)(Dk.NftParallelClosedMinterProto.stateHash({nftScript:u.nftScript,nextLocalId:k})),T+=1n),H<this.max&&(R+=om.TxUtil.buildOutput(w,o),C+=(0,$n.hash160)(Dk.NftParallelClosedMinterProto.stateHash({nftScript:u.nftScript,nextLocalId:H})),T+=1n),(0,$n.assert)(r.localId==u.nextLocalId),C+=(0,$n.hash160)(EMe.CAT721Proto.stateHash(r));let F=om.TxUtil.buildOutput(u.nftScript,a);T+=1n;let L=Wte.StateUtils.getCurrentStateOutput(C,T,e),D=om.TxUtil.getChangeOutput(y),N=(0,$n.sha256)(L+R+F+D);(0,$n.assert)(N==f.hashOutputs,"hashOutputs mismatch"),(0,$n.assert)(this.issuerAddress==(0,$n.hash160)(n+i)),(0,$n.assert)(this.checkSig(s,i))}};r6.NftParallelClosedMinter=S7;Sw([(0,$n.prop)(),M9("design:type",String)],S7.prototype,"issuerAddress",void 0);Sw([(0,$n.prop)(),M9("design:type",String)],S7.prototype,"genesisOutpoint",void 0);Sw([(0,$n.prop)(),M9("design:type",BigInt)],S7.prototype,"max",void 0);Sw([(0,$n.method)(),M9("design:type",Function),M9("design:paramtypes",[Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),M9("design:returntype",void 0)],S7.prototype,"mint",null)});var qk=j(cd=>{"use strict";B();M();var Xte=cd&&cd.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},C9=cd&&cd.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(cd,"__esModule",{value:!0});cd.NftOpenMinterMerkleTreeData=cd.NftOpenMinterProto=void 0;var Wi=jr(),k9=!0,Yte=!1,ph=class extends Wi.SmartContractLib{static stateHash(e){return(0,Wi.hash160)(e.nftScript+e.merkleRoot+(0,Wi.int2ByteString)(e.nextLocalId))}static nftMerkleLeafToString(e){let r=e.isMined?(0,Wi.toByteString)("01"):(0,Wi.toByteString)("00");return e.commitScript+(0,Wi.int2ByteString)(e.localId)+r}static create(e,r,n){return{nftScript:e,merkleRoot:r,nextLocalId:n}}static toByteString(e){return e.nftScript+e.merkleRoot+(0,Wi.int2ByteString)(e.nextLocalId)}};cd.NftOpenMinterProto=ph;Xte([(0,Wi.method)(),C9("design:type",Function),C9("design:paramtypes",[Object]),C9("design:returntype",String)],ph,"stateHash",null);Xte([(0,Wi.method)(),C9("design:type",Function),C9("design:paramtypes",[Object]),C9("design:returntype",String)],ph,"nftMerkleLeafToString",null);var Uk=class{constructor(e,r){this.leafArray=[],this.emptyHashs=[],this.hashNodes=[],this.height=r,this.maxLeafSize=Math.pow(2,this.height-1),this.leafArray=e;let n=(0,Wi.hash160)("");this.emptyHashs.push(n);for(let i=1;i<r;i++){let s=this.emptyHashs[i-1];this.emptyHashs[i]=(0,Wi.hash160)(s+s)}this.buildMerkleTree()}getLeaf(e){return this.leafArray[e]}get merkleRoot(){return this.hashNodes[this.hashNodes.length-1][0]}getMerklePath(e){let r=this.leafArray[e],n=this.hashNodes[0],i=[],s=[],o=(0,Wi.hash160)(ph.nftMerkleLeafToString(r));e<n.length?n[e]=o:n.push(o);let a=e;for(let u=1;u<this.height;u++){n=this.hashNodes[u-1];let c=this.hashNodes[u],d=Math.floor(a/2);a%2===1?(i.push(n[a-1]),s.push(Yte)):d>=c.length?(i.push(this.emptyHashs[u-1]),s.push(k9)):n.length>a+1?(i.push(n[a+1]),s.push(k9)):(i.push(this.emptyHashs[u-1]),s.push(k9)),a=d}return i.push(""),s.push(!1),{leaf:o,leafNode:r,neighbor:i,neighborType:s,merkleRoot:this.merkleRoot}}updateLeaf(e,r){let n=this.leafArray[r];this.leafArray[r]=e;let{neighbor:i,neighborType:s}=this.updateMerkleTree(e,r);return{oldLeaf:n,neighbor:i,neighborType:s,leafIndex:r,newLeaf:e,merkleRoot:this.merkleRoot}}updateMerkleTree(e,r){let n=this.hashNodes[0],i=[],s=[];r<n.length?n[r]=(0,Wi.hash160)(ph.nftMerkleLeafToString(e)):n.push((0,Wi.hash160)(ph.nftMerkleLeafToString(e)));let o=r;for(let a=1;a<this.height;a++){n=this.hashNodes[a-1];let u=this.hashNodes[a],c=Math.floor(o/2);if(o%2===1){let d=(0,Wi.hash160)(n[o-1]+n[o]);u[c]=d,i.push(n[o-1]),s.push(Yte)}else{let d;if(c>=u.length){if(d=(0,Wi.hash160)(n[o]+this.emptyHashs[a-1]),u.length!==c)throw Error("wrong curHash");u.push(d),i.push(this.emptyHashs[a-1]),s.push(k9)}else n.length>o+1?(d=(0,Wi.hash160)(n[o]+n[o+1]),i.push(n[o+1]),s.push(k9)):(d=(0,Wi.hash160)(n[o]+this.emptyHashs[a-1]),i.push(this.emptyHashs[a-1]),s.push(k9)),u[c]=d}o=c}return i.push(""),s.push(!1),{neighbor:i,neighborType:s}}buildMerkleTree(){this.hashNodes=[];let e=[],r=[];for(let n=0;n<this.leafArray.length;n++)e.push((0,Wi.hash160)(ph.nftMerkleLeafToString(this.leafArray[n])));e.length>0?this.hashNodes.push(e):this.hashNodes.push([this.emptyHashs[0]]);for(let n=1;n<this.height;n++){e=this.hashNodes[n-1],r=[];for(let i=0;i<e.length;)i+1<e.length?r.push((0,Wi.hash160)(e[i]+e[i+1])):r.push((0,Wi.hash160)(e[i]+this.emptyHashs[n-1])),i+=2;this.hashNodes.push(r)}}};cd.NftOpenMinterMerkleTreeData=Uk});var jk=j(Vc=>{"use strict";B();M();var Zte=Vc&&Vc.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},R9=Vc&&Vc.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(Vc,"__esModule",{value:!0});Vc.NftOpenMinterMerkleTree=Vc.HEIGHT=void 0;var Hf=jr();Vc.HEIGHT=15;var am=class extends Hf.SmartContractLib{static updateLeaf(e,r,n,i,s){let o=e,a=r;for(let u=0;u<Vc.HEIGHT-1;u++)i[u]?(o=(0,Hf.hash160)(o+n[u]),a=(0,Hf.hash160)(a+n[u])):(o=(0,Hf.hash160)(n[u]+o),a=(0,Hf.hash160)(n[u]+a));return(0,Hf.assert)(o==s,"oldMerkleValue illegal"),a}static verifyLeaf(e,r,n,i){let s=e;for(let o=0;o<Vc.HEIGHT-1;o++)n[o]?s=(0,Hf.hash160)(s+r[o]):s=(0,Hf.hash160)(r[o]+s);return(0,Hf.assert)(s==i,"merkleValue illegal"),!0}};Vc.NftOpenMinterMerkleTree=am;Zte([(0,Hf.method)(),R9("design:type",Function),R9("design:paramtypes",[String,String,Object,Object,String]),R9("design:returntype",String)],am,"updateLeaf",null);Zte([(0,Hf.method)(),R9("design:type",Function),R9("design:paramtypes",[String,Object,Object,String]),R9("design:returntype",Boolean)],am,"verifyLeaf",null)});var Kk=j(i6=>{"use strict";B();M();var um=i6&&i6.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},w7=i6&&i6.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(i6,"__esModule",{value:!0});i6.NftOpenMinter=void 0;var ys=jr(),ww=ri(),xw=gu(),AMe=sd(),Jte=mu(),TMe=O9(),Ew=qk(),IMe=jk(),n6=class extends ys.SmartContract{constructor(e,r,n,i){super(...arguments),this.genesisOutpoint=e,this.max=r,this.premine=n,this.premineAddr=i}mint(e,r,n,i,s,o,a,u,c,d,f,m,p,y,w,P){(0,ys.assert)(this.checkSig(xw.SigHashUtils.checkSHPreimage(p),xw.SigHashUtils.Gx),"preimage check error"),xw.SigHashUtils.checkPrevoutsCtx(y,p.hashPrevouts,p.inputIndex),xw.SigHashUtils.checkSpentScriptsCtx(w,p.hashSpentScripts),Jte.StateUtils.verifyPreStateHash(f,Ew.NftOpenMinterProto.stateHash(d),m.preTx.outputScriptList[ww.STATE_OUTPUT_INDEX],y.outputIndexVal),(0,ys.assert)(y.inputIndexVal==0n);let C=w[Number(y.inputIndexVal)],R=w[1],T={commitScript:R,localId:d.nextLocalId,isMined:!1},k=Ew.NftOpenMinterProto.nftMerkleLeafToString(T),H={commitScript:R,localId:d.nextLocalId,isMined:!0},F=Ew.NftOpenMinterProto.nftMerkleLeafToString(H),L=IMe.NftOpenMinterMerkleTree.updateLeaf((0,ys.hash160)(k),(0,ys.hash160)(F),n,i,d.merkleRoot);AMe.Backtrace.verifyUnique(y.spentTxhash,m,this.genesisOutpoint,C);let D=(0,ys.toByteString)(""),N=(0,ys.toByteString)(""),g=1n,h=d.nextLocalId+1n;h!=this.max&&(D+=ww.TxUtil.buildOutput(C,u),N+=(0,ys.hash160)(Ew.NftOpenMinterProto.stateHash({nftScript:d.nftScript,merkleRoot:L,nextLocalId:h})),g+=1n),(0,ys.assert)(r.localId==d.nextLocalId),N+=(0,ys.hash160)(TMe.CAT721Proto.stateHash(r));let l=ww.TxUtil.buildOutput(d.nftScript,c);r.localId<this.premine&&((0,ys.assert)((0,ys.hash160)(s+o)==this.premineAddr),(0,ys.assert)(this.checkSig(a,o)));let b=Jte.StateUtils.getCurrentStateOutput(N,g,e),_=ww.TxUtil.getChangeOutput(P),x=(0,ys.sha256)(b+D+l+_);(0,ys.assert)(x==p.hashOutputs,"hashOutputs mismatch")}};i6.NftOpenMinter=n6;um([(0,ys.prop)(),w7("design:type",String)],n6.prototype,"genesisOutpoint",void 0);um([(0,ys.prop)(),w7("design:type",BigInt)],n6.prototype,"max",void 0);um([(0,ys.prop)(),w7("design:type",BigInt)],n6.prototype,"premine",void 0);um([(0,ys.prop)(),w7("design:type",String)],n6.prototype,"premineAddr",void 0);um([(0,ys.method)(),w7("design:type",Function),w7("design:paramtypes",[Object,Object,Object,Object,String,String,String,String,String,Object,Object,Object,Object,Object,Object,Object]),w7("design:returntype",void 0)],n6.prototype,"mint",null)});var fm=j(s6=>{"use strict";B();M();var PMe=s6&&s6.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},$k=s6&&s6.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(s6,"__esModule",{value:!0});s6.NftGuardProto=void 0;var cm=jr(),Qte=Jg(),OMe=ri(),N9=class extends cm.SmartContractLib{static stateHash(e){let r=e.collectionScript;for(let n=0;n<OMe.MAX_INPUT;n++)r+=(0,cm.int2ByteString)(e.localIdArray[n]);return(0,cm.hash160)(r)}static toByteString(e){return N9.toList(e).join("")}static createEmptyState(){return{collectionScript:(0,cm.toByteString)(""),localIdArray:(0,Qte.emptyBigIntArray)()}}static toList(e){return[e.collectionScript,...(0,Qte.intArrayToByteString)(e.localIdArray)]}};s6.NftGuardProto=N9;PMe([(0,cm.method)(),$k("design:type",Function),$k("design:paramtypes",[Object]),$k("design:returntype",String)],N9,"stateHash",null)});var zk=j(a6=>{"use strict";B();M();var Tw=a6&&a6.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},o6=a6&&a6.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(a6,"__esModule",{value:!0});a6.CAT721=void 0;var No=jr(),Aw=gu(),ere=ri(),BMe=_9(),tre=mu(),MMe=O9(),kMe=fm(),CMe=sd(),x7=class extends No.SmartContract{constructor(e,r){super(...arguments),this.minterScript=e,this.guardScript=r}unlock(e,r,n,i,s,o,a,u){(0,No.assert)(this.checkSig(Aw.SigHashUtils.checkSHPreimage(o),Aw.SigHashUtils.Gx),"preimage check error"),Aw.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),Aw.SigHashUtils.checkSpentScriptsCtx(u,o.hashSpentScripts),tre.StateUtils.verifyPreStateHash(n,MMe.CAT721Proto.stateHash(r),s.preTx.outputScriptList[ere.STATE_OUTPUT_INDEX],a.outputIndexVal);let c=u[Number(a.inputIndexVal)];CMe.Backtrace.verifyToken(a.spentTxhash,s,this.minterScript,c),this.valitateNftGuard(i,c,r,a.inputIndexVal,a.prevouts,u),e.isUserSpend?((0,No.assert)((0,No.hash160)(e.userPubKeyPrefix+e.userPubKey)==r.ownerAddr),(0,No.assert)(this.checkSig(e.userSig,e.userPubKey))):(0,No.assert)(r.ownerAddr==(0,No.hash160)(u[Number(e.contractInputIndex)]))}valitateNftGuard(e,r,n,i,s,o){let a=kMe.NftGuardProto.stateHash(e.guardState);(0,No.assert)(tre.StateUtils.getStateScript(a,1n)==e.tx.outputScriptList[ere.STATE_OUTPUT_INDEX]),(0,No.assert)(e.guardState.collectionScript==r),(0,No.assert)(n.localId>=0n),(0,No.assert)(e.guardState.localIdArray[Number(i)]==n.localId);let u=BMe.TxProof.getTxIdFromPreimg3(e.tx);return(0,No.assert)(s[Number(e.inputIndexVal)]==u+e.outputIndex),(0,No.assert)(o[Number(e.inputIndexVal)]==this.guardScript),!0}};a6.CAT721=x7;Tw([(0,No.prop)(),o6("design:type",String)],x7.prototype,"minterScript",void 0);Tw([(0,No.prop)(),o6("design:type",String)],x7.prototype,"guardScript",void 0);Tw([(0,No.method)(),o6("design:type",Function),o6("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object,Object]),o6("design:returntype",void 0)],x7.prototype,"unlock",null);Tw([(0,No.method)(),o6("design:type",Function),o6("design:paramtypes",[Object,String,Object,BigInt,Object,Object]),o6("design:returntype",Boolean)],x7.prototype,"valitateNftGuard",null)});var Gk=j(u6=>{"use strict";B();M();var RMe=u6&&u6.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Vk=u6&&u6.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(u6,"__esModule",{value:!0});u6.NftTransferGuard=void 0;var vs=jr(),Iw=gu(),E7=ri(),NMe=fm(),FMe=mu(),Pw=class extends vs.SmartContract{transfer(e,r,n,i,s,o,a,u,c,d,f){(0,vs.assert)(this.checkSig(Iw.SigHashUtils.checkSHPreimage(c),Iw.SigHashUtils.Gx),"preimage check error"),Iw.SigHashUtils.checkPrevoutsCtx(d,c.hashPrevouts,c.inputIndex),Iw.SigHashUtils.checkSpentScriptsCtx(f,c.hashSpentScripts),FMe.StateUtils.verifyGuardStateHash(u,d.spentTxhash,NMe.NftGuardProto.stateHash(a));let m=(0,vs.fill)(-1n,E7.MAX_TOKEN_OUTPUT),p=0n;for(let k=0;k<E7.MAX_INPUT;k++)f[k]==a.collectionScript&&(m[Number(p)]=a.localIdArray[k],p+=1n);let y=(0,vs.toByteString)(""),w=(0,vs.toByteString)(""),P=0n,C=E7.TxUtil.buildOutput(a.collectionScript,o);for(let k=0;k<E7.MAX_STATE;k++){let H=r[k];if(i[k]){let F=m[Number(P)];w=w+C;let L=(0,vs.hash160)((0,vs.hash160)(H+(0,vs.int2ByteString)(F)));(0,vs.assert)((0,vs.hash160)(e[k])==L),(0,vs.assert)(F>=0n),(0,vs.assert)(n[k]==F),y+=L,P+=1n}else(0,vs.assert)(H!=a.collectionScript),y+=(0,vs.hash160)(e[k]),(0,vs.len)(H)>0&&(w+=E7.TxUtil.buildOutput(H,s[k]))}(0,vs.assert)(p==P);let R=E7.TxUtil.buildOpReturnRoot(E7.TxUtil.getStateScript((0,vs.hash160)(y))),T=(0,vs.sha256)(R+w);(0,vs.assert)(T==c.hashOutputs,"hashOutputs mismatch")}};u6.NftTransferGuard=Pw;RMe([(0,vs.method)(),Vk("design:type",Function),Vk("design:paramtypes",[Object,Object,Object,Object,Object,String,Object,Object,Object,Object,Object]),Vk("design:returntype",void 0)],Pw.prototype,"transfer",null)});var Xk=j(c6=>{"use strict";B();M();var HMe=c6&&c6.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},Wk=c6&&c6.__metadata||function(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)};Object.defineProperty(c6,"__esModule",{value:!0});c6.NftBurnGuard=void 0;var Df=jr(),Yk=gu(),Ow=ri(),DMe=fm(),LMe=mu(),Bw=class extends Df.SmartContract{burn(e,r,n,i,s,o,a){(0,Df.assert)(this.checkSig(Yk.SigHashUtils.checkSHPreimage(o),Yk.SigHashUtils.Gx),"preimage check error"),Yk.SigHashUtils.checkPrevoutsCtx(a,o.hashPrevouts,o.inputIndex),LMe.StateUtils.verifyGuardStateHash(s,a.spentTxhash,DMe.NftGuardProto.stateHash(i));let u=(0,Df.toByteString)(""),c=(0,Df.toByteString)("");for(let m=0;m<Ow.MAX_STATE;m++){let p=r[m];(0,Df.assert)(p!=i.collectionScript),u+=(0,Df.hash160)(e[m]),(0,Df.len)(p)>0&&(c+=Ow.TxUtil.buildOutput(p,n[m]))}let d=Ow.TxUtil.buildOpReturnRoot(Ow.TxUtil.getStateScript((0,Df.hash160)(u))),f=(0,Df.sha256)(d+c);(0,Df.assert)(f==o.hashOutputs,"hashOutputs mismatch")}};c6.NftBurnGuard=Bw;HMe([(0,Df.method)(),Wk("design:type",Function),Wk("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),Wk("design:returntype",void 0)],Bw.prototype,"burn",null)});var rre=j((Cpt,UMe)=>{UMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftClosedMinter",md5:"fc2429e864deaa9b44d1e6f24282334f",structs:[{name:"NftClosedMinterState",params:[{name:"nftScript",type:"bytes"},{name:"quotaMaxLocalId",type:"int"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"}]}],stateProps:[],buildType:"debug",file:"../nftClosedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000000000<ownerAddress><genesisOutpoint><max>5279567a757171557a78557a75547a547a547a547a76547a7572537a6d750126790126790126790126790126790126790126790126790126790126790126790126790126790126790111795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011379787ea85279017f9f695279009c6301006752796878557952797e8801167955797e54798b7e6b6d6d6d6d6d6d6d6d6c775679ad011879011879011879011879011879011879011879011879011879011879012e790129795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5e795e795e795e795e795e790128795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015b79015b79015b79015b79015b79015b790164790164790164796f757e787ea9777777014c79014c79014c79014c79014c79014c7956007600a26976569f69948c766b796c756b6d6d6d6c0119795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011279009d5e0113797600a26976569f6994766b796c750111790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750000000160798b760163799f63547901667978827d770122a1696e7e53797e777777537a757b7b53790164790164790164798b6f757e787ea9777777a97e547a7572537a537975788b7b757c680169790162799d5379016b79016b7978827701149d6e7ea97777a97e547a7572537a53797501637901657978827d770122a1696e7e53797e77777752798b537a757b7b5279755479537901727901727901727901727901727956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c775f795f7976607987646e78827d770122a1696e7e53797e77777767006877777856797e53797e787ea876012a79885b79016d79016d797ea988016a79016c79ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var nre=j((Rpt,qMe)=>{qMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftParallelClosedMinter",md5:"12afc68fd84cddd24bc866da2955fb57",structs:[{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"NftParallelClosedMinterState",params:[{name:"nftScript",type:"bytes"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"NftParallelClosedMinterProto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"issuerPubKeyPrefix",type:"bytes"},{name:"issuerPubKey",type:"PubKey"},{name:"issuerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftParallelClosedMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"ownerAddress",type:"bytes"},{name:"genesisOutpoint",type:"bytes"},{name:"max",type:"int"}]}],stateProps:[],buildType:"debug",file:"../nftParallelClosedMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000000000<ownerAddress><genesisOutpoint><max>5279567a757171557a78557a75547a547a547a547a76547a7572537a6d750126790126790126790126790126790126790126790126790126790126790126790126790126790126790111795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011379787ea85279017f9f695279009c6301006752796878557952797e8801167955797e54798b7e6b6d6d6d6d6d6d6d6d6c775679ad011879011879011879011879011879011879011879011879011879011879012e790129795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5e795e795e795e795e795e790128795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015b79015b79015b79015b79015b79015b790163790163796e7ea97777014c79014c79014c79014c79014c79014c7956007600a26976569f69948c766b796c756b6d6d6d6c0119795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011279009d5e0113797600a26976569f6994766b796c750111790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790157790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75013f79013f797e7654798763015c79015c79015c79015c79015c7955517600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955527600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955537600a26976559f69948c766b796c756b6d6d756c0088015c79015c79015c79015c79015c7955547600a26976559f69948c766b796c756b6d6d756c008868000000016179016279938b0162790163799352937858799f635379577901687978827d770122a1696e7e53797e7777777e547a7572537a537975547901657953796e7ea97777a97e557a75547a547a547a547a54797552798b537a757b7b527975687658799f635379577901687978827d770122a1696e7e53797e7777777e547a7572537a537975547901657952796e7ea97777a97e557a75547a547a547a547a54797552798b537a757b7b52797568016a790164799d5479016c79016c7978827701149d6e7ea97777a97e557a75547a547a547a547a54797501647901667978827d770122a1696e7e53797e77777753798b547a7572537a5379755579547901737901737901737901737901737956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c770111790111797601127987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876012c79885d79016e79016e797ea988016b79016d79ac6b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var ire=j((Npt,jMe)=>{jMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftOpenMinter",md5:"86fe8c275b45c796bb9500b815d48820",structs:[{name:"NftOpenMinterState",params:[{name:"nftScript",type:"bytes"},{name:"merkleRoot",type:"bytes"},{name:"nextLocalId",type:"int"}],genericTypes:[]},{name:"NftMerkleLeaf",params:[{name:"commitScript",type:"bytes"},{name:"localId",type:"int"},{name:"isMined",type:"bool"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftOpenMinterProto",params:[],properties:[],genericTypes:[]},{name:"NftOpenMinterMerkleTree",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"mint",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"nftMint",type:"CAT721State"},{name:"neighbor",type:"bytes[15]"},{name:"neighborType",type:"bool[15]"},{name:"preminerPubKeyPrefix",type:"bytes"},{name:"preminerPubKey",type:"PubKey"},{name:"preminerSig",type:"Sig"},{name:"minterSatoshis",type:"bytes"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftOpenMinterState"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"},{name:"changeInfo",type:"ChangeInfo"}]},{type:"constructor",params:[{name:"genesisOutpoint",type:"bytes"},{name:"maxCount",type:"int"},{name:"premine",type:"int"},{name:"premineAddr",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../nftOpenMinter.scrypt",hex:"0800000000000000002079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031000000000000<genesisOutpoint><maxCount><premine><premineAddr>5379587a75577a577a577a577a577a577a577a5279577a75567a567a567a567a567a567a78567a757171557a76557a75547a547a547a547a6d6d0127790127790127790127790127790127790127790127790127790127790127790127790127790127790112795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011479787ea85279017f9f695279009c6301006752796878557952797e8801177955797e54798b7e6b6d6d6d6d6d6d6d6d6c775779ad011979011979011979011979011979011979011979011979011979011979012f79012a795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5f795f795f795f795f795f790129795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75015c79015c79015c79015c79015c79015c790165790165790165796f757e787ea9777777014d79014d79014d79014d79014d79014d7956007600a26976569f69948c766b796c756b6d6d6d6c011a795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d75011379009d5f0114797600a26976569f6994766b796c755f766b796c7877016079006f76635167010068707e787e6b6d6d6c5479016479516f76635167010068707e787e6b6d6d6c5479a978a9028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028e0079028800790120790120790111766b796c7563780121766b796c757ea97b757c760121766b796c757ea977670120766b796c7552797ea97b757c0120766b796c75787ea9776801118c766b796c75637801218c766b796c757ea97b757c7601218c766b796c757ea9776701208c766b796c7552797ea97b757c01208c766b796c75787ea9776801115294766b796c75637801215294766b796c757ea97b757c7601215294766b796c757ea9776701205294766b796c7552797ea97b757c01205294766b796c75787ea9776801115394766b796c75637801215394766b796c757ea97b757c7601215394766b796c757ea9776701205394766b796c7552797ea97b757c01205394766b796c75787ea9776801115494766b796c75637801215494766b796c757ea97b757c7601215494766b796c757ea9776701205494766b796c7552797ea97b757c01205494766b796c75787ea9776801115594766b796c75637801215594766b796c757ea97b757c7601215594766b796c757ea9776701205594766b796c7552797ea97b757c01205594766b796c75787ea9776801115694766b796c75637801215694766b796c757ea97b757c7601215694766b796c757ea9776701205694766b796c7552797ea97b757c01205694766b796c75787ea9776801115794766b796c75637801215794766b796c757ea97b757c7601215794766b796c757ea9776701205794766b796c7552797ea97b757c01205794766b796c75787ea9776801115894766b796c75637801215894766b796c757ea97b757c7601215894766b796c757ea9776701205894766b796c7552797ea97b757c01205894766b796c75787ea9776801115994766b796c75637801215994766b796c757ea97b757c7601215994766b796c757ea9776701205994766b796c7552797ea97b757c01205994766b796c75787ea9776801115a94766b796c75637801215a94766b796c757ea97b757c7601215a94766b796c757ea9776701205a94766b796c7552797ea97b757c01205a94766b796c75787ea9776801115b94766b796c75637801215b94766b796c757ea97b757c7601215b94766b796c757ea9776701205b94766b796c7552797ea97b757c01205b94766b796c75787ea9776801115c94766b796c75637801215c94766b796c757ea97b757c7601215c94766b796c757ea9776701205c94766b796c7552797ea97b757c01205c94766b796c75787ea9776801115d94766b796c75637801215d94766b796c757ea97b757c7601215d94766b796c757ea9776701205d94766b796c7552797ea97b757c01205d94766b796c75787ea97768785379886b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c011c79016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279016279013e79013b790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e527987777777690119790119797e7653798764011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579012d79012c79011679011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579011579007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c5379885979597959795979597959795658797600a26976569f69948c766b796c756b6d6d6d6c78886d6d6d6d6d6d6d6d6d6d6d686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75000051016b798b760112799e6353795f7901727978827d770122a1696e7e53797e7777777e547a7572537a5379755279016f79567953796f757e787ea9777777a97e537a757b7b527975788b7b757c6802920079016d799d5279029400790294007978827701149d6e7ea97777a97e537a757b7b527975016e7901707978827d770122a1696e7e53797e777777029300790112799f630174790174797ea901117988017279017479ad6870029b0079029b0079029b0079029b0079029b007956795679557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9557955795579557955795579007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c776976066a1863617401787e770800000000000000007882777e787e6b6d6d6d6d6c77011a79011a7976011b7987646e78827d770122a1696e7e53797e77777767006877777857797e53797e787ea876013579876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var sre=j((Fpt,KMe)=>{KMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"CAT721",md5:"0176b77f091a0f5bb4ef9f4ee455302f",structs:[{name:"NftUnlockArgs",params:[{name:"isUserSpend",type:"bool"},{name:"userPubKeyPrefix",type:"bytes"},{name:"userPubKey",type:"PubKey"},{name:"userSig",type:"Sig"},{name:"contractInputIndex",type:"int"}],genericTypes:[]},{name:"NftGuardInfo",params:[{name:"tx",type:"XrayedTxIdPreimg3"},{name:"inputIndexVal",type:"int"},{name:"outputIndex",type:"bytes"},{name:"guardState",type:"NftGuardConstState"}],genericTypes:[]},{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"BacktraceInfo",params:[{name:"preTx",type:"XrayedTxIdPreimg1"},{name:"preTxInput",type:"TxInput"},{name:"preTxInputIndex",type:"int"},{name:"prePreTx",type:"XrayedTxIdPreimg2"}],genericTypes:[]},{name:"CAT721State",params:[{name:"ownerAddr",type:"bytes"},{name:"localId",type:"int"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"Backtrace",params:[],properties:[],genericTypes:[]},{name:"CAT721Proto",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"unlock",index:0,params:[{name:"nftUnlockArgs",type:"NftUnlockArgs"},{name:"preState",type:"CAT721State"},{name:"preTxStatesInfo",type:"PreTxStatesInfo"},{name:"guardInfo",type:"NftGuardInfo"},{name:"backtraceInfo",type:"BacktraceInfo"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScriptsCtx",type:"bytes[6]"}]},{type:"constructor",params:[{name:"minterScript",type:"bytes"},{name:"guardScript",type:"bytes"}]}],stateProps:[],buildType:"debug",file:"../cat721.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000<minterScript><guardScript>01227901227901227901227901227901227901227901227901227901227901227901227901227901227960795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea8011279787ea85279017f9f695279009c6301006752796878557952797e8801157955797e54798b7e6b6d6d6d6d6d6d6d6d6c775579ad011479011479011479011479011479011479011479011479011479011479012a790125795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5a795a795a795a795a795a790124795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75016c79016c79016c79016c79016c79016c7901747901747978827701149d6e7ea9777701487901487901487901487901487901487956007600a26976569f69948c766b796c756b6d6d6d6c0115795879066a1863617401787e77527988577957795779577957795d79007657766b796c75a97e7d7756766b796c75a97e7d7755766b796c75a97e7d7754766b796c75a97e7d7753766b796c75a97e7d77a95279876b6d6d6d6c77695279587958795879587958795557798c7600a26976559f69948c766b796c756b6d6d756c886d6d6d6d755a5f797600a26976569f6994766b796c755d790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790153790132790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790131790116790116797e7601167901167901167901167901167901167955766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167954766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167953766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167952766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167951766b796c756b6d6d6d6c7e7d7701167901167901167901167901167901167900766b796c756b6d6d6d6c7e7d775f797e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6d6d6c88011979011979011979011979707e01007e787e6b6d6d6c012f79012f79012f79012f79012f79012f7956011d797600a26976569f69948c766b796c756b6d6d6d6c8801177901197978760087630100776876030000007e52798777777769011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479011479007601147901147901147901147953766b796c756b6d6d6c7e7d7701147901147901147901147952766b796c756b6d6d6c7e7d7701147901147901147901147951766b796c756b6d6d6c7e7d7701147901147901147901147900766b796c756b6d6d6c7e775f795f79885d795d795d795d795d795d7955766b796c756b6d6d6d6c58795879587958795879587955766b796c756b6d6d6d6c768277000113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7954766b796c756b6d6d6d6c58795879587958795879587954766b796c756b6d6d6d6c768277510113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7953766b796c756b6d6d6d6c58795879587958795879587953766b796c756b6d6d6d6c768277520113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7952766b796c756b6d6d6d6c58795879587958795879587952766b796c756b6d6d6d6c768277530113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7951766b796c756b6d6d6d6c58795879587958795879587951766b796c756b6d6d6d6c768277540113799f637052797e53797e7e547a7572537a537975686d755d795d795d795d795d795d7900766b796c756b6d6d6d6c58795879587958795879587900766b796c756b6d6d6d6c768277550113799f637052797e53797e7e547a7572537a537975686d787752797eaa6b6d6d6d6d6d6d6d6d6d6d6c011a798858795879587958795879587956011e797600a26976569f69948c766b796c756b6d6d6d6c7653798778537987786476675168696d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d750167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790167790115790285007902850079012779012e79012e79012e79012e79012e79012e79012a79012a79012a79012a79012a79012a7901167901167901167901167901167901167901167956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777011f79011f79011f79011f7954007600a26976549f69948c766b796c756b6d6d6c88011779011179885e7900a269011679011679011679011679011679011679560114797600a26976569f69948c766b796c756b6d6d6d6c5f799d0125790125790125790125790125790125790125790125790125790125790125790125795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c775d011b797600a26976569f6994766b796c7578011b797e8857011b797600a26976569f6994766b796c75012979886d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d75017479630173790173797ea901707988017179017379ad67016f795c0172797600a26976569f6994766b796c75a988686d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d7551",sourceMapFile:""}});var ore=j((Hpt,$Me)=>{$Me.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftTransferGuard",md5:"477458c3bb4a3b586664dddf525e5060",structs:[{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"transfer",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"ownerAddrOrScriptList",type:"bytes[5]"},{name:"localIdList",type:"int[5]"},{name:"nftOutputMaskList",type:"bool[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"nftSatoshis",type:"bytes"},{name:"preState",type:"NftGuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"},{name:"spentScripts",type:"bytes[6]"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../nftTransferGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a03100000120790120790120790120790120790120790120790120790120790120790120790120790120790120795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad0112790112790112790112790112790112790112790112790112790112790128790123795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d5879587958795879587958790122795679567956795679567956790056766b796c756e827752797e7e777755766b796c756e827752797e7e777754766b796c756e827752797e7e777753766b796c756e827752797e7e777752766b796c756e827752797e7e777751766b796c756e827752797e7e7b756b6d6d6d6c77a878886d6d6d75012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c79012c7901167901407901407901407901407901407901407901407956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d4f766e76005e766b796c7877013b79876301397901397901397901397901397901397955766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755d766b796c7877013b79876301397901397901397901397901397901397954766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755c766b796c7877013b79876301397901397901397901397901397901397953766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755b766b796c7877013b79876301397901397901397901397901397901397952766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c68755a766b796c7877013b79876301397901397901397901397901397901397951766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c687559766b796c7877013b79876301397901397901397901397901397901397900766b796c756b6d6d6d6c52797600a26976559f69587a78008763757868587a527951876375527968587a537952876375537968587a547953876375547968587a557954876375557968557a75577a577a577a75788b7b757c6875000000013c79013e7978827d770122a1696e7e53797e7777770152766b796c750149766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a766b796c75a978887800a2690150766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f7987916954790159766b796c75a97e557a75547a547a547a547a54797877827700a0635379780146766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501528c766b796c7501498c766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a8c766b796c75a978887800a26901508c766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901598c766b796c75a97e557a75547a547a547a547a54797877827700a06353797801468c766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525294766b796c7501495294766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5294766b796c75a978887800a26901505294766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595294766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465294766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525394766b796c7501495394766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5394766b796c75a978887800a26901505394766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595394766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465394766b796c7578827d770122a1696e7e53797e7777777e547a7572537a53797568687501525494766b796c7501495494766b796c75635a53797600a26976559f6994766b796c75547953797e557a75547a547a547a547a6e7ea9a9015a5494766b796c75a978887800a26901505494766b796c7552799d5679787e577a75567a567a567a567a567a567a56797554798b557a75547a547a547a547a54796d756776013f79879169547901595494766b796c75a97e557a75547a547a547a547a54797877827700a06353797801465494766b796c7578827d770122a1696e7e53797e7777777e547a7572537a537975686875547952799d5379a9066a1863617401787e770800000000000000007882777e787e777654797ea876012779876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c",sourceMapFile:""}});var are=j((Dpt,zMe)=>{zMe.exports={version:9,compilerVersion:"1.19.4+commit.cfee948",contract:"NftBurnGuard",md5:"bdcfe0b013ecd9ec68098b8060234af4",structs:[{name:"NftGuardConstState",params:[{name:"collectionScript",type:"bytes"},{name:"localIdArray",type:"int[6]"}],genericTypes:[]},{name:"SHPreimage",params:[{name:"txVer",type:"bytes"},{name:"nLockTime",type:"bytes"},{name:"hashPrevouts",type:"bytes"},{name:"hashSpentAmounts",type:"bytes"},{name:"hashSpentScripts",type:"bytes"},{name:"hashSequences",type:"bytes"},{name:"hashOutputs",type:"bytes"},{name:"spendType",type:"bytes"},{name:"inputIndex",type:"bytes"},{name:"hashTapLeaf",type:"bytes"},{name:"keyVer",type:"bytes"},{name:"codeSeparator",type:"bytes"},{name:"_e",type:"bytes"},{name:"eLastByte",type:"int"}],genericTypes:[]},{name:"PrevoutsCtx",params:[{name:"prevouts",type:"bytes[6]"},{name:"inputIndexVal",type:"int"},{name:"outputIndexVal",type:"int"},{name:"spentTxhash",type:"bytes"},{name:"outputIndex",type:"bytes"}],genericTypes:[]},{name:"PreTxStatesInfo",params:[{name:"statesHashRoot",type:"bytes"},{name:"txoStateHashes",type:"bytes[5]"}],genericTypes:[]},{name:"XrayedTxIdPreimg1",params:[{name:"version",type:"bytes"},{name:"inputCount",type:"bytes"},{name:"inputs",type:"bytes[6]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg2",params:[{name:"prevList",type:"bytes[4]"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[6]"},{name:"outputScriptList",type:"bytes[6]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"XrayedTxIdPreimg3",params:[{name:"prev",type:"bytes"},{name:"outputCountVal",type:"int"},{name:"outputCount",type:"bytes"},{name:"outputSatoshisList",type:"bytes[4]"},{name:"outputScriptList",type:"bytes[4]"},{name:"nLocktime",type:"bytes"}],genericTypes:[]},{name:"TxInput",params:[{name:"txhash",type:"bytes"},{name:"outputIndex",type:"bytes"},{name:"outputIndexVal",type:"int"},{name:"sequence",type:"bytes"}],genericTypes:[]},{name:"ChangeInfo",params:[{name:"script",type:"bytes"},{name:"satoshis",type:"bytes"}],genericTypes:[]}],library:[{name:"NftGuardProto",params:[],properties:[],genericTypes:[]},{name:"SigHashUtils",params:[],properties:[],genericTypes:[]},{name:"StateUtils",params:[],properties:[],genericTypes:[]},{name:"TxProof",params:[],properties:[],genericTypes:[]},{name:"TxUtil",params:[],properties:[],genericTypes:[]}],alias:[],abi:[{type:"function",name:"burn",index:0,params:[{name:"curTxoStateHashes",type:"bytes[5]"},{name:"outputScriptList",type:"bytes[5]"},{name:"outputSatoshisList",type:"bytes[5]"},{name:"preState",type:"NftGuardConstState"},{name:"preTx",type:"XrayedTxIdPreimg3"},{name:"shPreimage",type:"SHPreimage"},{name:"prevoutsCtx",type:"PrevoutsCtx"}]},{type:"constructor",params:[]}],stateProps:[],buildType:"debug",file:"../nftBurnGuard.scrypt",hex:"2079be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f817984c807bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c7bb52d7a9fef58323eb1bf7a407db382d2f3f2d81bb1224f49fe518f6d48d37c79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179879be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f8179842f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a031f40a48df4b2a70c8b4924bf2654661ed3d95fd66a313eb87237597c628e4a0310000011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a79011a795e795e797e5d797e5c797e5b797e5a797e59797e58797e57797e56797e55797e54797e53797ea86079787ea85279017f9f695279009c6301006752796878557952797e8801137955797e54798b7e6b6d6d6d6d6d6d6d6d6c775379ad5c795c795c795c795c795c795c795c795c795c79012279011d795b795b795b795b795b795b790056766b796c756e7e777755766b796c756e7e777754766b796c756e7e777753766b796c756e7e777752766b796c756e7e777751766b796c756e7e7b756b6d6d6d6c77a852798855796e760087630100776876030000007e527987777777695479537978760087630100776876030000007e527987777777695b795b795b795b795b795b79565c797600a26976569f69948c766b796c756b6d6d6d6c547954797e886d6d6d6d6d6d0126790126790126790126790126790126790126790126790126790126790126790126796079013a79013a79013a79013a79013a79013a79013a7956797657795779577957795779577955766b796c756b6d6d6d6c7e7d7757795779577957795779577954766b796c756b6d6d6d6c7e7d7757795779577957795779577953766b796c756b6d6d6d6c7e7d7757795779577957795779577952766b796c756b6d6d6d6c7e7d7757795779577957795779577951766b796c756b6d6d6d6c7e7d7757795779577957795779577900766b796c756b6d6d6d6c7e7d77a96b6d6d6d6d6c5d795d795d795d795d795d795d795d795d795d795d795d795a795a798800597959795979597953766b796c756b6d6d6c567956795679567953766b796c756b6d6d6c768277005f799f637052797e53797e7e547a7572537a537975686d75597959795979597952766b796c756b6d6d6c567956795679567952766b796c756b6d6d6c768277515f799f637052797e53797e7e547a7572537a537975686d75597959795979597951766b796c756b6d6d6c567956795679567951766b796c756b6d6d6c768277525f799f637052797e53797e7e547a7572537a537975686d75597959795979597900766b796c756b6d6d6c567956795679567900766b796c756b6d6d6c768277535f799f637052797e53797e7e547a7572537a537975686d755c79787e52797eaa6b6d6d6d6d6d6d6c77527988765178a978557894000052799f637600a97e77685152799f637600a97e77685252799f637600a97e77685352799f637600a97e77685452799f637600a97e776877777ea9066a1863617401787e777777577957795779577954007600a26976549f69948c766b796c756b6d6d6c886d6d6d6d6d6d6d00000139766b796c787701317987916952790140766b796c75a97e537a757b7b52797877827700a0636e0137766b796c7578827d770122a1696e7e53797e7777777e7b757c687501398c766b796c7877013179879169527901408c766b796c75a97e537a757b7b52797877827700a0636e01378c766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395294766b796c7877013179879169527901405294766b796c75a97e537a757b7b52797877827700a0636e01375294766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395394766b796c7877013179879169527901405394766b796c75a97e537a757b7b52797877827700a0636e01375394766b796c7578827d770122a1696e7e53797e7777777e7b757c687501395494766b796c7877013179879169527901405494766b796c75a97e537a757b7b52797877827700a0636e01375494766b796c7578827d770122a1696e7e53797e7777777e7b757c687578a9066a1863617401787e770800000000000000007882777e787e776e7c7ea876011979876b6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6d6c77",sourceMapFile:""}});var ure=j((Lpt,VMe)=>{VMe.exports={name:"bitcore-lib-inquisition",version:"10.3.0",description:"A pure and powerful JavaScript Bitcoin library.",author:"BitPay <dev@bitpay.com>",main:"index.js",scripts:{test:"gulp test","test:ci":"npm run test",coverage:"gulp coverage",build:"gulp",pub:"npm run build && npm publish"},keywords:["bitcoin","transaction","address","p2p","ecies","cryptocurrency","blockchain","payment","bip21","bip32","bip37","bip69","bip70","multisig"],repository:{type:"git",url:"https://github.com/bitpay/bitcore/tree/master/packages/bitcore-lib"},browser:{request:"browser-request"},dependencies:{bech32:"=2.0.0","bn.js":"=4.11.8",bs58:"^4.0.1","buffer-compare":"=1.1.1",elliptic:"^6.5.3",inherits:"=2.0.1",lodash:"^4.17.20"},devDependencies:{"bitcore-build":"^10.0.21",brfs:"^2.0.1",chai:"^4.2.0",gulp:"^4.0.0",sinon:"^7.1.1"},license:"MIT",gitHead:"012cc0216a9bc6b195035855bd17149bad41acd1"}});var cre=j((Upt,GMe)=>{GMe.exports={name:"elliptic",version:"6.5.7",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}});var fd=j((fre,Zk)=>{B();M();(function(t,e){"use strict";function r(N,g){if(!N)throw new Error(g||"Assertion failed")}function n(N,g){N.super_=g;var h=function(){};h.prototype=g.prototype,N.prototype=new h,N.prototype.constructor=N}function i(N,g,h){if(i.isBN(N))return N;this.negative=0,this.words=null,this.length=0,this.red=null,N!==null&&((g==="le"||g==="be")&&(h=g,g=10),this._init(N||0,g||10,h||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var s;try{s=$i().Buffer}catch{}i.isBN=function(g){return g instanceof i?!0:g!==null&&typeof g=="object"&&g.constructor.wordSize===i.wordSize&&Array.isArray(g.words)},i.max=function(g,h){return g.cmp(h)>0?g:h},i.min=function(g,h){return g.cmp(h)<0?g:h},i.prototype._init=function(g,h,l){if(typeof g=="number")return this._initNumber(g,h,l);if(typeof g=="object")return this._initArray(g,h,l);h==="hex"&&(h=16),r(h===(h|0)&&h>=2&&h<=36),g=g.toString().replace(/\s+/g,"");var b=0;g[0]==="-"&&b++,h===16?this._parseHex(g,b):this._parseBase(g,h,b),g[0]==="-"&&(this.negative=1),this.strip(),l==="le"&&this._initArray(this.toArray(),h,l)},i.prototype._initNumber=function(g,h,l){g<0&&(this.negative=1,g=-g),g<67108864?(this.words=[g&67108863],this.length=1):g<4503599627370496?(this.words=[g&67108863,g/67108864&67108863],this.length=2):(r(g<9007199254740992),this.words=[g&67108863,g/67108864&67108863,1],this.length=3),l==="le"&&this._initArray(this.toArray(),h,l)},i.prototype._initArray=function(g,h,l){if(r(typeof g.length=="number"),g.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(g.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var _,x,I=0;if(l==="be")for(b=g.length-1,_=0;b>=0;b-=3)x=g[b]|g[b-1]<<8|g[b-2]<<16,this.words[_]|=x<<I&67108863,this.words[_+1]=x>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);else if(l==="le")for(b=0,_=0;b<g.length;b+=3)x=g[b]|g[b+1]<<8|g[b+2]<<16,this.words[_]|=x<<I&67108863,this.words[_+1]=x>>>26-I&67108863,I+=24,I>=26&&(I-=26,_++);return this.strip()};function o(N,g,h){for(var l=0,b=Math.min(N.length,h),_=g;_<b;_++){var x=N.charCodeAt(_)-48;l<<=4,x>=49&&x<=54?l|=x-49+10:x>=17&&x<=22?l|=x-17+10:l|=x&15}return l}i.prototype._parseHex=function(g,h){this.length=Math.ceil((g.length-h)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var b,_,x=0;for(l=g.length-6,b=0;l>=h;l-=6)_=o(g,l,l+6),this.words[b]|=_<<x&67108863,this.words[b+1]|=_>>>26-x&4194303,x+=24,x>=26&&(x-=26,b++);l+6!==h&&(_=o(g,h,l+6),this.words[b]|=_<<x&67108863,this.words[b+1]|=_>>>26-x&4194303),this.strip()};function a(N,g,h,l){for(var b=0,_=Math.min(N.length,h),x=g;x<_;x++){var I=N.charCodeAt(x)-48;b*=l,I>=49?b+=I-49+10:I>=17?b+=I-17+10:b+=I}return b}i.prototype._parseBase=function(g,h,l){this.words=[0],this.length=1;for(var b=0,_=1;_<=67108863;_*=h)b++;b--,_=_/h|0;for(var x=g.length-l,I=x%b,A=Math.min(x,x-I)+l,v=0,S=l;S<A;S+=b)v=a(g,S,S+b,h),this.imuln(_),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v);if(I!==0){var O=1;for(v=a(g,S,g.length,h),S=0;S<I;S++)O*=h;this.imuln(O),this.words[0]+v<67108864?this.words[0]+=v:this._iaddn(v)}},i.prototype.copy=function(g){g.words=new Array(this.length);for(var h=0;h<this.length;h++)g.words[h]=this.words[h];g.length=this.length,g.negative=this.negative,g.red=this.red},i.prototype.clone=function(){var g=new i(null);return this.copy(g),g},i.prototype._expand=function(g){for(;this.length<g;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],c=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(g,h){g=g||10,h=h|0||1;var l;if(g===16||g==="hex"){l="";for(var b=0,_=0,x=0;x<this.length;x++){var I=this.words[x],A=((I<<b|_)&16777215).toString(16);_=I>>>24-b&16777215,_!==0||x!==this.length-1?l=u[6-A.length]+A+l:l=A+l,b+=2,b>=26&&(b-=26,x--)}for(_!==0&&(l=_.toString(16)+l);l.length%h!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}if(g===(g|0)&&g>=2&&g<=36){var v=c[g],S=d[g];l="";var O=this.clone();for(O.negative=0;!O.isZero();){var q=O.modn(S).toString(g);O=O.idivn(S),O.isZero()?l=q+l:l=u[v-q.length]+q+l}for(this.isZero()&&(l="0"+l);l.length%h!==0;)l="0"+l;return this.negative!==0&&(l="-"+l),l}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var g=this.words[0];return this.length===2?g+=this.words[1]*67108864:this.length===3&&this.words[2]===1?g+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-g:g},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(g,h){return r(typeof s<"u"),this.toArrayLike(s,g,h)},i.prototype.toArray=function(g,h){return this.toArrayLike(Array,g,h)},i.prototype.toArrayLike=function(g,h,l){var b=this.byteLength(),_=l||Math.max(1,b);r(b<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0"),this.strip();var x=h==="le",I=new g(_),A,v,S=this.clone();if(x){for(v=0;!S.isZero();v++)A=S.andln(255),S.iushrn(8),I[v]=A;for(;v<_;v++)I[v]=0}else{for(v=0;v<_-b;v++)I[v]=0;for(v=0;!S.isZero();v++)A=S.andln(255),S.iushrn(8),I[_-v-1]=A}return I},Math.clz32?i.prototype._countBits=function(g){return 32-Math.clz32(g)}:i.prototype._countBits=function(g){var h=g,l=0;return h>=4096&&(l+=13,h>>>=13),h>=64&&(l+=7,h>>>=7),h>=8&&(l+=4,h>>>=4),h>=2&&(l+=2,h>>>=2),l+h},i.prototype._zeroBits=function(g){if(g===0)return 26;var h=g,l=0;return(h&8191)===0&&(l+=13,h>>>=13),(h&127)===0&&(l+=7,h>>>=7),(h&15)===0&&(l+=4,h>>>=4),(h&3)===0&&(l+=2,h>>>=2),(h&1)===0&&l++,l},i.prototype.bitLength=function(){var g=this.words[this.length-1],h=this._countBits(g);return(this.length-1)*26+h};function f(N){for(var g=new Array(N.bitLength()),h=0;h<g.length;h++){var l=h/26|0,b=h%26;g[h]=(N.words[l]&1<<b)>>>b}return g}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var g=0,h=0;h<this.length;h++){var l=this._zeroBits(this.words[h]);if(g+=l,l!==26)break}return g},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(g){return this.negative!==0?this.abs().inotn(g).iaddn(1):this.clone()},i.prototype.fromTwos=function(g){return this.testn(g-1)?this.notn(g).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(g){for(;this.length<g.length;)this.words[this.length++]=0;for(var h=0;h<g.length;h++)this.words[h]=this.words[h]|g.words[h];return this.strip()},i.prototype.ior=function(g){return r((this.negative|g.negative)===0),this.iuor(g)},i.prototype.or=function(g){return this.length>g.length?this.clone().ior(g):g.clone().ior(this)},i.prototype.uor=function(g){return this.length>g.length?this.clone().iuor(g):g.clone().iuor(this)},i.prototype.iuand=function(g){var h;this.length>g.length?h=g:h=this;for(var l=0;l<h.length;l++)this.words[l]=this.words[l]&g.words[l];return this.length=h.length,this.strip()},i.prototype.iand=function(g){return r((this.negative|g.negative)===0),this.iuand(g)},i.prototype.and=function(g){return this.length>g.length?this.clone().iand(g):g.clone().iand(this)},i.prototype.uand=function(g){return this.length>g.length?this.clone().iuand(g):g.clone().iuand(this)},i.prototype.iuxor=function(g){var h,l;this.length>g.length?(h=this,l=g):(h=g,l=this);for(var b=0;b<l.length;b++)this.words[b]=h.words[b]^l.words[b];if(this!==h)for(;b<h.length;b++)this.words[b]=h.words[b];return this.length=h.length,this.strip()},i.prototype.ixor=function(g){return r((this.negative|g.negative)===0),this.iuxor(g)},i.prototype.xor=function(g){return this.length>g.length?this.clone().ixor(g):g.clone().ixor(this)},i.prototype.uxor=function(g){return this.length>g.length?this.clone().iuxor(g):g.clone().iuxor(this)},i.prototype.inotn=function(g){r(typeof g=="number"&&g>=0);var h=Math.ceil(g/26)|0,l=g%26;this._expand(h),l>0&&h--;for(var b=0;b<h;b++)this.words[b]=~this.words[b]&67108863;return l>0&&(this.words[b]=~this.words[b]&67108863>>26-l),this.strip()},i.prototype.notn=function(g){return this.clone().inotn(g)},i.prototype.setn=function(g,h){r(typeof g=="number"&&g>=0);var l=g/26|0,b=g%26;return this._expand(l+1),h?this.words[l]=this.words[l]|1<<b:this.words[l]=this.words[l]&~(1<<b),this.strip()},i.prototype.iadd=function(g){var h;if(this.negative!==0&&g.negative===0)return this.negative=0,h=this.isub(g),this.negative^=1,this._normSign();if(this.negative===0&&g.negative!==0)return g.negative=0,h=this.isub(g),g.negative=1,h._normSign();var l,b;this.length>g.length?(l=this,b=g):(l=g,b=this);for(var _=0,x=0;x<b.length;x++)h=(l.words[x]|0)+(b.words[x]|0)+_,this.words[x]=h&67108863,_=h>>>26;for(;_!==0&&x<l.length;x++)h=(l.words[x]|0)+_,this.words[x]=h&67108863,_=h>>>26;if(this.length=l.length,_!==0)this.words[this.length]=_,this.length++;else if(l!==this)for(;x<l.length;x++)this.words[x]=l.words[x];return this},i.prototype.add=function(g){var h;return g.negative!==0&&this.negative===0?(g.negative=0,h=this.sub(g),g.negative^=1,h):g.negative===0&&this.negative!==0?(this.negative=0,h=g.sub(this),this.negative=1,h):this.length>g.length?this.clone().iadd(g):g.clone().iadd(this)},i.prototype.isub=function(g){if(g.negative!==0){g.negative=0;var h=this.iadd(g);return g.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(g),this.negative=1,this._normSign();var l=this.cmp(g);if(l===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,_;l>0?(b=this,_=g):(b=g,_=this);for(var x=0,I=0;I<_.length;I++)h=(b.words[I]|0)-(_.words[I]|0)+x,x=h>>26,this.words[I]=h&67108863;for(;x!==0&&I<b.length;I++)h=(b.words[I]|0)+x,x=h>>26,this.words[I]=h&67108863;if(x===0&&I<b.length&&b!==this)for(;I<b.length;I++)this.words[I]=b.words[I];return this.length=Math.max(this.length,I),b!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(g){return this.clone().isub(g)};function m(N,g,h){h.negative=g.negative^N.negative;var l=N.length+g.length|0;h.length=l,l=l-1|0;var b=N.words[0]|0,_=g.words[0]|0,x=b*_,I=x&67108863,A=x/67108864|0;h.words[0]=I;for(var v=1;v<l;v++){for(var S=A>>>26,O=A&67108863,q=Math.min(v,g.length-1),J=Math.max(0,v-N.length+1);J<=q;J++){var ne=v-J|0;b=N.words[ne]|0,_=g.words[J]|0,x=b*_+O,S+=x/67108864|0,O=x&67108863}h.words[v]=O|0,A=S|0}return A!==0?h.words[v]=A|0:h.length--,h.strip()}var p=function(g,h,l){var b=g.words,_=h.words,x=l.words,I=0,A,v,S,O=b[0]|0,q=O&8191,J=O>>>13,ne=b[1]|0,oe=ne&8191,le=ne>>>13,pe=b[2]|0,G=pe&8191,te=pe>>>13,ae=b[3]|0,be=ae&8191,ye=ae>>>13,_e=b[4]|0,ke=_e&8191,He=_e>>>13,ze=b[5]|0,qe=ze&8191,Ve=ze>>>13,Xe=b[6]|0,je=Xe&8191,Me=Xe>>>13,it=b[7]|0,z=it&8191,Q=it>>>13,Y=b[8]|0,ee=Y&8191,ie=Y>>>13,se=b[9]|0,ce=se&8191,me=se>>>13,he=_[0]|0,Ee=he&8191,Te=he>>>13,Fe=_[1]|0,Ce=Fe&8191,Ge=Fe>>>13,ft=_[2]|0,tt=ft&8191,rt=ft>>>13,zt=_[3]|0,at=zt&8191,dt=zt>>>13,Vt=_[4]|0,ht=Vt&8191,lt=Vt>>>13,Gt=_[5]|0,pt=Gt&8191,bt=Gt>>>13,Wt=_[6]|0,gt=Wt&8191,mt=Wt>>>13,Yt=_[7]|0,yt=Yt&8191,vt=Yt>>>13,Xt=_[8]|0,_t=Xt&8191,St=Xt>>>13,Zt=_[9]|0,wt=Zt&8191,xt=Zt>>>13;l.negative=g.negative^h.negative,l.length=19,A=Math.imul(q,Ee),v=Math.imul(q,Te),v=v+Math.imul(J,Ee)|0,S=Math.imul(J,Te);var jt=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(jt>>>26)|0,jt&=67108863,A=Math.imul(oe,Ee),v=Math.imul(oe,Te),v=v+Math.imul(le,Ee)|0,S=Math.imul(le,Te),A=A+Math.imul(q,Ce)|0,v=v+Math.imul(q,Ge)|0,v=v+Math.imul(J,Ce)|0,S=S+Math.imul(J,Ge)|0;var U=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(U>>>26)|0,U&=67108863,A=Math.imul(G,Ee),v=Math.imul(G,Te),v=v+Math.imul(te,Ee)|0,S=Math.imul(te,Te),A=A+Math.imul(oe,Ce)|0,v=v+Math.imul(oe,Ge)|0,v=v+Math.imul(le,Ce)|0,S=S+Math.imul(le,Ge)|0,A=A+Math.imul(q,tt)|0,v=v+Math.imul(q,rt)|0,v=v+Math.imul(J,tt)|0,S=S+Math.imul(J,rt)|0;var $=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+($>>>26)|0,$&=67108863,A=Math.imul(be,Ee),v=Math.imul(be,Te),v=v+Math.imul(ye,Ee)|0,S=Math.imul(ye,Te),A=A+Math.imul(G,Ce)|0,v=v+Math.imul(G,Ge)|0,v=v+Math.imul(te,Ce)|0,S=S+Math.imul(te,Ge)|0,A=A+Math.imul(oe,tt)|0,v=v+Math.imul(oe,rt)|0,v=v+Math.imul(le,tt)|0,S=S+Math.imul(le,rt)|0,A=A+Math.imul(q,at)|0,v=v+Math.imul(q,dt)|0,v=v+Math.imul(J,at)|0,S=S+Math.imul(J,dt)|0;var V=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(V>>>26)|0,V&=67108863,A=Math.imul(ke,Ee),v=Math.imul(ke,Te),v=v+Math.imul(He,Ee)|0,S=Math.imul(He,Te),A=A+Math.imul(be,Ce)|0,v=v+Math.imul(be,Ge)|0,v=v+Math.imul(ye,Ce)|0,S=S+Math.imul(ye,Ge)|0,A=A+Math.imul(G,tt)|0,v=v+Math.imul(G,rt)|0,v=v+Math.imul(te,tt)|0,S=S+Math.imul(te,rt)|0,A=A+Math.imul(oe,at)|0,v=v+Math.imul(oe,dt)|0,v=v+Math.imul(le,at)|0,S=S+Math.imul(le,dt)|0,A=A+Math.imul(q,ht)|0,v=v+Math.imul(q,lt)|0,v=v+Math.imul(J,ht)|0,S=S+Math.imul(J,lt)|0;var W=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(W>>>26)|0,W&=67108863,A=Math.imul(qe,Ee),v=Math.imul(qe,Te),v=v+Math.imul(Ve,Ee)|0,S=Math.imul(Ve,Te),A=A+Math.imul(ke,Ce)|0,v=v+Math.imul(ke,Ge)|0,v=v+Math.imul(He,Ce)|0,S=S+Math.imul(He,Ge)|0,A=A+Math.imul(be,tt)|0,v=v+Math.imul(be,rt)|0,v=v+Math.imul(ye,tt)|0,S=S+Math.imul(ye,rt)|0,A=A+Math.imul(G,at)|0,v=v+Math.imul(G,dt)|0,v=v+Math.imul(te,at)|0,S=S+Math.imul(te,dt)|0,A=A+Math.imul(oe,ht)|0,v=v+Math.imul(oe,lt)|0,v=v+Math.imul(le,ht)|0,S=S+Math.imul(le,lt)|0,A=A+Math.imul(q,pt)|0,v=v+Math.imul(q,bt)|0,v=v+Math.imul(J,pt)|0,S=S+Math.imul(J,bt)|0;var X=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(X>>>26)|0,X&=67108863,A=Math.imul(je,Ee),v=Math.imul(je,Te),v=v+Math.imul(Me,Ee)|0,S=Math.imul(Me,Te),A=A+Math.imul(qe,Ce)|0,v=v+Math.imul(qe,Ge)|0,v=v+Math.imul(Ve,Ce)|0,S=S+Math.imul(Ve,Ge)|0,A=A+Math.imul(ke,tt)|0,v=v+Math.imul(ke,rt)|0,v=v+Math.imul(He,tt)|0,S=S+Math.imul(He,rt)|0,A=A+Math.imul(be,at)|0,v=v+Math.imul(be,dt)|0,v=v+Math.imul(ye,at)|0,S=S+Math.imul(ye,dt)|0,A=A+Math.imul(G,ht)|0,v=v+Math.imul(G,lt)|0,v=v+Math.imul(te,ht)|0,S=S+Math.imul(te,lt)|0,A=A+Math.imul(oe,pt)|0,v=v+Math.imul(oe,bt)|0,v=v+Math.imul(le,pt)|0,S=S+Math.imul(le,bt)|0,A=A+Math.imul(q,gt)|0,v=v+Math.imul(q,mt)|0,v=v+Math.imul(J,gt)|0,S=S+Math.imul(J,mt)|0;var Z=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(Z>>>26)|0,Z&=67108863,A=Math.imul(z,Ee),v=Math.imul(z,Te),v=v+Math.imul(Q,Ee)|0,S=Math.imul(Q,Te),A=A+Math.imul(je,Ce)|0,v=v+Math.imul(je,Ge)|0,v=v+Math.imul(Me,Ce)|0,S=S+Math.imul(Me,Ge)|0,A=A+Math.imul(qe,tt)|0,v=v+Math.imul(qe,rt)|0,v=v+Math.imul(Ve,tt)|0,S=S+Math.imul(Ve,rt)|0,A=A+Math.imul(ke,at)|0,v=v+Math.imul(ke,dt)|0,v=v+Math.imul(He,at)|0,S=S+Math.imul(He,dt)|0,A=A+Math.imul(be,ht)|0,v=v+Math.imul(be,lt)|0,v=v+Math.imul(ye,ht)|0,S=S+Math.imul(ye,lt)|0,A=A+Math.imul(G,pt)|0,v=v+Math.imul(G,bt)|0,v=v+Math.imul(te,pt)|0,S=S+Math.imul(te,bt)|0,A=A+Math.imul(oe,gt)|0,v=v+Math.imul(oe,mt)|0,v=v+Math.imul(le,gt)|0,S=S+Math.imul(le,mt)|0,A=A+Math.imul(q,yt)|0,v=v+Math.imul(q,vt)|0,v=v+Math.imul(J,yt)|0,S=S+Math.imul(J,vt)|0;var ue=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(ue>>>26)|0,ue&=67108863,A=Math.imul(ee,Ee),v=Math.imul(ee,Te),v=v+Math.imul(ie,Ee)|0,S=Math.imul(ie,Te),A=A+Math.imul(z,Ce)|0,v=v+Math.imul(z,Ge)|0,v=v+Math.imul(Q,Ce)|0,S=S+Math.imul(Q,Ge)|0,A=A+Math.imul(je,tt)|0,v=v+Math.imul(je,rt)|0,v=v+Math.imul(Me,tt)|0,S=S+Math.imul(Me,rt)|0,A=A+Math.imul(qe,at)|0,v=v+Math.imul(qe,dt)|0,v=v+Math.imul(Ve,at)|0,S=S+Math.imul(Ve,dt)|0,A=A+Math.imul(ke,ht)|0,v=v+Math.imul(ke,lt)|0,v=v+Math.imul(He,ht)|0,S=S+Math.imul(He,lt)|0,A=A+Math.imul(be,pt)|0,v=v+Math.imul(be,bt)|0,v=v+Math.imul(ye,pt)|0,S=S+Math.imul(ye,bt)|0,A=A+Math.imul(G,gt)|0,v=v+Math.imul(G,mt)|0,v=v+Math.imul(te,gt)|0,S=S+Math.imul(te,mt)|0,A=A+Math.imul(oe,yt)|0,v=v+Math.imul(oe,vt)|0,v=v+Math.imul(le,yt)|0,S=S+Math.imul(le,vt)|0,A=A+Math.imul(q,_t)|0,v=v+Math.imul(q,St)|0,v=v+Math.imul(J,_t)|0,S=S+Math.imul(J,St)|0;var fe=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(fe>>>26)|0,fe&=67108863,A=Math.imul(ce,Ee),v=Math.imul(ce,Te),v=v+Math.imul(me,Ee)|0,S=Math.imul(me,Te),A=A+Math.imul(ee,Ce)|0,v=v+Math.imul(ee,Ge)|0,v=v+Math.imul(ie,Ce)|0,S=S+Math.imul(ie,Ge)|0,A=A+Math.imul(z,tt)|0,v=v+Math.imul(z,rt)|0,v=v+Math.imul(Q,tt)|0,S=S+Math.imul(Q,rt)|0,A=A+Math.imul(je,at)|0,v=v+Math.imul(je,dt)|0,v=v+Math.imul(Me,at)|0,S=S+Math.imul(Me,dt)|0,A=A+Math.imul(qe,ht)|0,v=v+Math.imul(qe,lt)|0,v=v+Math.imul(Ve,ht)|0,S=S+Math.imul(Ve,lt)|0,A=A+Math.imul(ke,pt)|0,v=v+Math.imul(ke,bt)|0,v=v+Math.imul(He,pt)|0,S=S+Math.imul(He,bt)|0,A=A+Math.imul(be,gt)|0,v=v+Math.imul(be,mt)|0,v=v+Math.imul(ye,gt)|0,S=S+Math.imul(ye,mt)|0,A=A+Math.imul(G,yt)|0,v=v+Math.imul(G,vt)|0,v=v+Math.imul(te,yt)|0,S=S+Math.imul(te,vt)|0,A=A+Math.imul(oe,_t)|0,v=v+Math.imul(oe,St)|0,v=v+Math.imul(le,_t)|0,S=S+Math.imul(le,St)|0,A=A+Math.imul(q,wt)|0,v=v+Math.imul(q,xt)|0,v=v+Math.imul(J,wt)|0,S=S+Math.imul(J,xt)|0;var ve=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(ve>>>26)|0,ve&=67108863,A=Math.imul(ce,Ce),v=Math.imul(ce,Ge),v=v+Math.imul(me,Ce)|0,S=Math.imul(me,Ge),A=A+Math.imul(ee,tt)|0,v=v+Math.imul(ee,rt)|0,v=v+Math.imul(ie,tt)|0,S=S+Math.imul(ie,rt)|0,A=A+Math.imul(z,at)|0,v=v+Math.imul(z,dt)|0,v=v+Math.imul(Q,at)|0,S=S+Math.imul(Q,dt)|0,A=A+Math.imul(je,ht)|0,v=v+Math.imul(je,lt)|0,v=v+Math.imul(Me,ht)|0,S=S+Math.imul(Me,lt)|0,A=A+Math.imul(qe,pt)|0,v=v+Math.imul(qe,bt)|0,v=v+Math.imul(Ve,pt)|0,S=S+Math.imul(Ve,bt)|0,A=A+Math.imul(ke,gt)|0,v=v+Math.imul(ke,mt)|0,v=v+Math.imul(He,gt)|0,S=S+Math.imul(He,mt)|0,A=A+Math.imul(be,yt)|0,v=v+Math.imul(be,vt)|0,v=v+Math.imul(ye,yt)|0,S=S+Math.imul(ye,vt)|0,A=A+Math.imul(G,_t)|0,v=v+Math.imul(G,St)|0,v=v+Math.imul(te,_t)|0,S=S+Math.imul(te,St)|0,A=A+Math.imul(oe,wt)|0,v=v+Math.imul(oe,xt)|0,v=v+Math.imul(le,wt)|0,S=S+Math.imul(le,xt)|0;var de=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(de>>>26)|0,de&=67108863,A=Math.imul(ce,tt),v=Math.imul(ce,rt),v=v+Math.imul(me,tt)|0,S=Math.imul(me,rt),A=A+Math.imul(ee,at)|0,v=v+Math.imul(ee,dt)|0,v=v+Math.imul(ie,at)|0,S=S+Math.imul(ie,dt)|0,A=A+Math.imul(z,ht)|0,v=v+Math.imul(z,lt)|0,v=v+Math.imul(Q,ht)|0,S=S+Math.imul(Q,lt)|0,A=A+Math.imul(je,pt)|0,v=v+Math.imul(je,bt)|0,v=v+Math.imul(Me,pt)|0,S=S+Math.imul(Me,bt)|0,A=A+Math.imul(qe,gt)|0,v=v+Math.imul(qe,mt)|0,v=v+Math.imul(Ve,gt)|0,S=S+Math.imul(Ve,mt)|0,A=A+Math.imul(ke,yt)|0,v=v+Math.imul(ke,vt)|0,v=v+Math.imul(He,yt)|0,S=S+Math.imul(He,vt)|0,A=A+Math.imul(be,_t)|0,v=v+Math.imul(be,St)|0,v=v+Math.imul(ye,_t)|0,S=S+Math.imul(ye,St)|0,A=A+Math.imul(G,wt)|0,v=v+Math.imul(G,xt)|0,v=v+Math.imul(te,wt)|0,S=S+Math.imul(te,xt)|0;var xe=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(xe>>>26)|0,xe&=67108863,A=Math.imul(ce,at),v=Math.imul(ce,dt),v=v+Math.imul(me,at)|0,S=Math.imul(me,dt),A=A+Math.imul(ee,ht)|0,v=v+Math.imul(ee,lt)|0,v=v+Math.imul(ie,ht)|0,S=S+Math.imul(ie,lt)|0,A=A+Math.imul(z,pt)|0,v=v+Math.imul(z,bt)|0,v=v+Math.imul(Q,pt)|0,S=S+Math.imul(Q,bt)|0,A=A+Math.imul(je,gt)|0,v=v+Math.imul(je,mt)|0,v=v+Math.imul(Me,gt)|0,S=S+Math.imul(Me,mt)|0,A=A+Math.imul(qe,yt)|0,v=v+Math.imul(qe,vt)|0,v=v+Math.imul(Ve,yt)|0,S=S+Math.imul(Ve,vt)|0,A=A+Math.imul(ke,_t)|0,v=v+Math.imul(ke,St)|0,v=v+Math.imul(He,_t)|0,S=S+Math.imul(He,St)|0,A=A+Math.imul(be,wt)|0,v=v+Math.imul(be,xt)|0,v=v+Math.imul(ye,wt)|0,S=S+Math.imul(ye,xt)|0;var Oe=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,A=Math.imul(ce,ht),v=Math.imul(ce,lt),v=v+Math.imul(me,ht)|0,S=Math.imul(me,lt),A=A+Math.imul(ee,pt)|0,v=v+Math.imul(ee,bt)|0,v=v+Math.imul(ie,pt)|0,S=S+Math.imul(ie,bt)|0,A=A+Math.imul(z,gt)|0,v=v+Math.imul(z,mt)|0,v=v+Math.imul(Q,gt)|0,S=S+Math.imul(Q,mt)|0,A=A+Math.imul(je,yt)|0,v=v+Math.imul(je,vt)|0,v=v+Math.imul(Me,yt)|0,S=S+Math.imul(Me,vt)|0,A=A+Math.imul(qe,_t)|0,v=v+Math.imul(qe,St)|0,v=v+Math.imul(Ve,_t)|0,S=S+Math.imul(Ve,St)|0,A=A+Math.imul(ke,wt)|0,v=v+Math.imul(ke,xt)|0,v=v+Math.imul(He,wt)|0,S=S+Math.imul(He,xt)|0;var Ne=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,A=Math.imul(ce,pt),v=Math.imul(ce,bt),v=v+Math.imul(me,pt)|0,S=Math.imul(me,bt),A=A+Math.imul(ee,gt)|0,v=v+Math.imul(ee,mt)|0,v=v+Math.imul(ie,gt)|0,S=S+Math.imul(ie,mt)|0,A=A+Math.imul(z,yt)|0,v=v+Math.imul(z,vt)|0,v=v+Math.imul(Q,yt)|0,S=S+Math.imul(Q,vt)|0,A=A+Math.imul(je,_t)|0,v=v+Math.imul(je,St)|0,v=v+Math.imul(Me,_t)|0,S=S+Math.imul(Me,St)|0,A=A+Math.imul(qe,wt)|0,v=v+Math.imul(qe,xt)|0,v=v+Math.imul(Ve,wt)|0,S=S+Math.imul(Ve,xt)|0;var nt=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(nt>>>26)|0,nt&=67108863,A=Math.imul(ce,gt),v=Math.imul(ce,mt),v=v+Math.imul(me,gt)|0,S=Math.imul(me,mt),A=A+Math.imul(ee,yt)|0,v=v+Math.imul(ee,vt)|0,v=v+Math.imul(ie,yt)|0,S=S+Math.imul(ie,vt)|0,A=A+Math.imul(z,_t)|0,v=v+Math.imul(z,St)|0,v=v+Math.imul(Q,_t)|0,S=S+Math.imul(Q,St)|0,A=A+Math.imul(je,wt)|0,v=v+Math.imul(je,xt)|0,v=v+Math.imul(Me,wt)|0,S=S+Math.imul(Me,xt)|0;var Jt=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,A=Math.imul(ce,yt),v=Math.imul(ce,vt),v=v+Math.imul(me,yt)|0,S=Math.imul(me,vt),A=A+Math.imul(ee,_t)|0,v=v+Math.imul(ee,St)|0,v=v+Math.imul(ie,_t)|0,S=S+Math.imul(ie,St)|0,A=A+Math.imul(z,wt)|0,v=v+Math.imul(z,xt)|0,v=v+Math.imul(Q,wt)|0,S=S+Math.imul(Q,xt)|0;var Rt=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,A=Math.imul(ce,_t),v=Math.imul(ce,St),v=v+Math.imul(me,_t)|0,S=Math.imul(me,St),A=A+Math.imul(ee,wt)|0,v=v+Math.imul(ee,xt)|0,v=v+Math.imul(ie,wt)|0,S=S+Math.imul(ie,xt)|0;var yn=(I+A|0)+((v&8191)<<13)|0;I=(S+(v>>>13)|0)+(yn>>>26)|0,yn&=67108863,A=Math.imul(ce,wt),v=Math.imul(ce,xt),v=v+Math.imul(me,wt)|0,S=Math.imul(me,xt);var Nr=(I+A|0)+((v&8191)<<13)|0;return I=(S+(v>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,x[0]=jt,x[1]=U,x[2]=$,x[3]=V,x[4]=W,x[5]=X,x[6]=Z,x[7]=ue,x[8]=fe,x[9]=ve,x[10]=de,x[11]=xe,x[12]=Oe,x[13]=Ne,x[14]=nt,x[15]=Jt,x[16]=Rt,x[17]=yn,x[18]=Nr,I!==0&&(x[19]=I,l.length++),l};Math.imul||(p=m);function y(N,g,h){h.negative=g.negative^N.negative,h.length=N.length+g.length;for(var l=0,b=0,_=0;_<h.length-1;_++){var x=b;b=0;for(var I=l&67108863,A=Math.min(_,g.length-1),v=Math.max(0,_-N.length+1);v<=A;v++){var S=_-v,O=N.words[S]|0,q=g.words[v]|0,J=O*q,ne=J&67108863;x=x+(J/67108864|0)|0,ne=ne+I|0,I=ne&67108863,x=x+(ne>>>26)|0,b+=x>>>26,x&=67108863}h.words[_]=I,l=x,x=b}return l!==0?h.words[_]=l:h.length--,h.strip()}function w(N,g,h){var l=new P;return l.mulp(N,g,h)}i.prototype.mulTo=function(g,h){var l,b=this.length+g.length;return this.length===10&&g.length===10?l=p(this,g,h):b<63?l=m(this,g,h):b<1024?l=y(this,g,h):l=w(this,g,h),l};function P(N,g){this.x=N,this.y=g}P.prototype.makeRBT=function(g){for(var h=new Array(g),l=i.prototype._countBits(g)-1,b=0;b<g;b++)h[b]=this.revBin(b,l,g);return h},P.prototype.revBin=function(g,h,l){if(g===0||g===l-1)return g;for(var b=0,_=0;_<h;_++)b|=(g&1)<<h-_-1,g>>=1;return b},P.prototype.permute=function(g,h,l,b,_,x){for(var I=0;I<x;I++)b[I]=h[g[I]],_[I]=l[g[I]]},P.prototype.transform=function(g,h,l,b,_,x){this.permute(x,g,h,l,b,_);for(var I=1;I<_;I<<=1)for(var A=I<<1,v=Math.cos(2*Math.PI/A),S=Math.sin(2*Math.PI/A),O=0;O<_;O+=A)for(var q=v,J=S,ne=0;ne<I;ne++){var oe=l[O+ne],le=b[O+ne],pe=l[O+ne+I],G=b[O+ne+I],te=q*pe-J*G;G=q*G+J*pe,pe=te,l[O+ne]=oe+pe,b[O+ne]=le+G,l[O+ne+I]=oe-pe,b[O+ne+I]=le-G,ne!==A&&(te=v*q-S*J,J=v*J+S*q,q=te)}},P.prototype.guessLen13b=function(g,h){var l=Math.max(h,g)|1,b=l&1,_=0;for(l=l/2|0;l;l=l>>>1)_++;return 1<<_+1+b},P.prototype.conjugate=function(g,h,l){if(!(l<=1))for(var b=0;b<l/2;b++){var _=g[b];g[b]=g[l-b-1],g[l-b-1]=_,_=h[b],h[b]=-h[l-b-1],h[l-b-1]=-_}},P.prototype.normalize13b=function(g,h){for(var l=0,b=0;b<h/2;b++){var _=Math.round(g[2*b+1]/h)*8192+Math.round(g[2*b]/h)+l;g[b]=_&67108863,_<67108864?l=0:l=_/67108864|0}return g},P.prototype.convert13b=function(g,h,l,b){for(var _=0,x=0;x<h;x++)_=_+(g[x]|0),l[2*x]=_&8191,_=_>>>13,l[2*x+1]=_&8191,_=_>>>13;for(x=2*h;x<b;++x)l[x]=0;r(_===0),r((_&-8192)===0)},P.prototype.stub=function(g){for(var h=new Array(g),l=0;l<g;l++)h[l]=0;return h},P.prototype.mulp=function(g,h,l){var b=2*this.guessLen13b(g.length,h.length),_=this.makeRBT(b),x=this.stub(b),I=new Array(b),A=new Array(b),v=new Array(b),S=new Array(b),O=new Array(b),q=new Array(b),J=l.words;J.length=b,this.convert13b(g.words,g.length,I,b),this.convert13b(h.words,h.length,S,b),this.transform(I,x,A,v,b,_),this.transform(S,x,O,q,b,_);for(var ne=0;ne<b;ne++){var oe=A[ne]*O[ne]-v[ne]*q[ne];v[ne]=A[ne]*q[ne]+v[ne]*O[ne],A[ne]=oe}return this.conjugate(A,v,b),this.transform(A,v,J,x,b,_),this.conjugate(J,x,b),this.normalize13b(J,b),l.negative=g.negative^h.negative,l.length=g.length+h.length,l.strip()},i.prototype.mul=function(g){var h=new i(null);return h.words=new Array(this.length+g.length),this.mulTo(g,h)},i.prototype.mulf=function(g){var h=new i(null);return h.words=new Array(this.length+g.length),w(this,g,h)},i.prototype.imul=function(g){return this.clone().mulTo(g,this)},i.prototype.imuln=function(g){r(typeof g=="number"),r(g<67108864);for(var h=0,l=0;l<this.length;l++){var b=(this.words[l]|0)*g,_=(b&67108863)+(h&67108863);h>>=26,h+=b/67108864|0,h+=_>>>26,this.words[l]=_&67108863}return h!==0&&(this.words[l]=h,this.length++),this},i.prototype.muln=function(g){return this.clone().imuln(g)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(g){var h=f(g);if(h.length===0)return new i(1);for(var l=this,b=0;b<h.length&&h[b]===0;b++,l=l.sqr());if(++b<h.length)for(var _=l.sqr();b<h.length;b++,_=_.sqr())h[b]!==0&&(l=l.mul(_));return l},i.prototype.iushln=function(g){r(typeof g=="number"&&g>=0);var h=g%26,l=(g-h)/26,b=67108863>>>26-h<<26-h,_;if(h!==0){var x=0;for(_=0;_<this.length;_++){var I=this.words[_]&b,A=(this.words[_]|0)-I<<h;this.words[_]=A|x,x=I>>>26-h}x&&(this.words[_]=x,this.length++)}if(l!==0){for(_=this.length-1;_>=0;_--)this.words[_+l]=this.words[_];for(_=0;_<l;_++)this.words[_]=0;this.length+=l}return this.strip()},i.prototype.ishln=function(g){return r(this.negative===0),this.iushln(g)},i.prototype.iushrn=function(g,h,l){r(typeof g=="number"&&g>=0);var b;h?b=(h-h%26)/26:b=0;var _=g%26,x=Math.min((g-_)/26,this.length),I=67108863^67108863>>>_<<_,A=l;if(b-=x,b=Math.max(0,b),A){for(var v=0;v<x;v++)A.words[v]=this.words[v];A.length=x}if(x!==0)if(this.length>x)for(this.length-=x,v=0;v<this.length;v++)this.words[v]=this.words[v+x];else this.words[0]=0,this.length=1;var S=0;for(v=this.length-1;v>=0&&(S!==0||v>=b);v--){var O=this.words[v]|0;this.words[v]=S<<26-_|O>>>_,S=O&I}return A&&S!==0&&(A.words[A.length++]=S),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(g,h,l){return r(this.negative===0),this.iushrn(g,h,l)},i.prototype.shln=function(g){return this.clone().ishln(g)},i.prototype.ushln=function(g){return this.clone().iushln(g)},i.prototype.shrn=function(g){return this.clone().ishrn(g)},i.prototype.ushrn=function(g){return this.clone().iushrn(g)},i.prototype.testn=function(g){r(typeof g=="number"&&g>=0);var h=g%26,l=(g-h)/26,b=1<<h;if(this.length<=l)return!1;var _=this.words[l];return!!(_&b)},i.prototype.imaskn=function(g){r(typeof g=="number"&&g>=0);var h=g%26,l=(g-h)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=l)return this;if(h!==0&&l++,this.length=Math.min(l,this.length),h!==0){var b=67108863^67108863>>>h<<h;this.words[this.length-1]&=b}return this.strip()},i.prototype.maskn=function(g){return this.clone().imaskn(g)},i.prototype.iaddn=function(g){return r(typeof g=="number"),r(g<67108864),g<0?this.isubn(-g):this.negative!==0?this.length===1&&(this.words[0]|0)<g?(this.words[0]=g-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(g),this.negative=1,this):this._iaddn(g)},i.prototype._iaddn=function(g){this.words[0]+=g;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(g){if(r(typeof g=="number"),r(g<67108864),g<0)return this.iaddn(-g);if(this.negative!==0)return this.negative=0,this.iaddn(g),this.negative=1,this;if(this.words[0]-=g,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},i.prototype.addn=function(g){return this.clone().iaddn(g)},i.prototype.subn=function(g){return this.clone().isubn(g)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(g,h,l){var b=g.length+l,_;this._expand(b);var x,I=0;for(_=0;_<g.length;_++){x=(this.words[_+l]|0)+I;var A=(g.words[_]|0)*h;x-=A&67108863,I=(x>>26)-(A/67108864|0),this.words[_+l]=x&67108863}for(;_<this.length-l;_++)x=(this.words[_+l]|0)+I,I=x>>26,this.words[_+l]=x&67108863;if(I===0)return this.strip();for(r(I===-1),I=0,_=0;_<this.length;_++)x=-(this.words[_]|0)+I,I=x>>26,this.words[_]=x&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(g,h){var l=this.length-g.length,b=this.clone(),_=g,x=_.words[_.length-1]|0,I=this._countBits(x);l=26-I,l!==0&&(_=_.ushln(l),b.iushln(l),x=_.words[_.length-1]|0);var A=b.length-_.length,v;if(h!=="mod"){v=new i(null),v.length=A+1,v.words=new Array(v.length);for(var S=0;S<v.length;S++)v.words[S]=0}var O=b.clone()._ishlnsubmul(_,1,A);O.negative===0&&(b=O,v&&(v.words[A]=1));for(var q=A-1;q>=0;q--){var J=(b.words[_.length+q]|0)*67108864+(b.words[_.length+q-1]|0);for(J=Math.min(J/x|0,67108863),b._ishlnsubmul(_,J,q);b.negative!==0;)J--,b.negative=0,b._ishlnsubmul(_,1,q),b.isZero()||(b.negative^=1);v&&(v.words[q]=J)}return v&&v.strip(),b.strip(),h!=="div"&&l!==0&&b.iushrn(l),{div:v||null,mod:b}},i.prototype.divmod=function(g,h,l){if(r(!g.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var b,_,x;return this.negative!==0&&g.negative===0?(x=this.neg().divmod(g,h),h!=="mod"&&(b=x.div.neg()),h!=="div"&&(_=x.mod.neg(),l&&_.negative!==0&&_.iadd(g)),{div:b,mod:_}):this.negative===0&&g.negative!==0?(x=this.divmod(g.neg(),h),h!=="mod"&&(b=x.div.neg()),{div:b,mod:x.mod}):(this.negative&g.negative)!==0?(x=this.neg().divmod(g.neg(),h),h!=="div"&&(_=x.mod.neg(),l&&_.negative!==0&&_.isub(g)),{div:x.div,mod:_}):g.length>this.length||this.cmp(g)<0?{div:new i(0),mod:this}:g.length===1?h==="div"?{div:this.divn(g.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modn(g.words[0]))}:{div:this.divn(g.words[0]),mod:new i(this.modn(g.words[0]))}:this._wordDiv(g,h)},i.prototype.div=function(g){return this.divmod(g,"div",!1).div},i.prototype.mod=function(g){return this.divmod(g,"mod",!1).mod},i.prototype.umod=function(g){return this.divmod(g,"mod",!0).mod},i.prototype.divRound=function(g){var h=this.divmod(g);if(h.mod.isZero())return h.div;var l=h.div.negative!==0?h.mod.isub(g):h.mod,b=g.ushrn(1),_=g.andln(1),x=l.cmp(b);return x<0||_===1&&x===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modn=function(g){r(g<=67108863);for(var h=(1<<26)%g,l=0,b=this.length-1;b>=0;b--)l=(h*l+(this.words[b]|0))%g;return l},i.prototype.idivn=function(g){r(g<=67108863);for(var h=0,l=this.length-1;l>=0;l--){var b=(this.words[l]|0)+h*67108864;this.words[l]=b/g|0,h=b%g}return this.strip()},i.prototype.divn=function(g){return this.clone().idivn(g)},i.prototype.egcd=function(g){r(g.negative===0),r(!g.isZero());var h=this,l=g.clone();h.negative!==0?h=h.umod(g):h=h.clone();for(var b=new i(1),_=new i(0),x=new i(0),I=new i(1),A=0;h.isEven()&&l.isEven();)h.iushrn(1),l.iushrn(1),++A;for(var v=l.clone(),S=h.clone();!h.isZero();){for(var O=0,q=1;(h.words[0]&q)===0&&O<26;++O,q<<=1);if(O>0)for(h.iushrn(O);O-- >0;)(b.isOdd()||_.isOdd())&&(b.iadd(v),_.isub(S)),b.iushrn(1),_.iushrn(1);for(var J=0,ne=1;(l.words[0]&ne)===0&&J<26;++J,ne<<=1);if(J>0)for(l.iushrn(J);J-- >0;)(x.isOdd()||I.isOdd())&&(x.iadd(v),I.isub(S)),x.iushrn(1),I.iushrn(1);h.cmp(l)>=0?(h.isub(l),b.isub(x),_.isub(I)):(l.isub(h),x.isub(b),I.isub(_))}return{a:x,b:I,gcd:l.iushln(A)}},i.prototype._invmp=function(g){r(g.negative===0),r(!g.isZero());var h=this,l=g.clone();h.negative!==0?h=h.umod(g):h=h.clone();for(var b=new i(1),_=new i(0),x=l.clone();h.cmpn(1)>0&&l.cmpn(1)>0;){for(var I=0,A=1;(h.words[0]&A)===0&&I<26;++I,A<<=1);if(I>0)for(h.iushrn(I);I-- >0;)b.isOdd()&&b.iadd(x),b.iushrn(1);for(var v=0,S=1;(l.words[0]&S)===0&&v<26;++v,S<<=1);if(v>0)for(l.iushrn(v);v-- >0;)_.isOdd()&&_.iadd(x),_.iushrn(1);h.cmp(l)>=0?(h.isub(l),b.isub(_)):(l.isub(h),_.isub(b))}var O;return h.cmpn(1)===0?O=b:O=_,O.cmpn(0)<0&&O.iadd(g),O},i.prototype.gcd=function(g){if(this.isZero())return g.abs();if(g.isZero())return this.abs();var h=this.clone(),l=g.clone();h.negative=0,l.negative=0;for(var b=0;h.isEven()&&l.isEven();b++)h.iushrn(1),l.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;l.isEven();)l.iushrn(1);var _=h.cmp(l);if(_<0){var x=h;h=l,l=x}else if(_===0||l.cmpn(1)===0)break;h.isub(l)}while(!0);return l.iushln(b)},i.prototype.invm=function(g){return this.egcd(g).a.umod(g)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(g){return this.words[0]&g},i.prototype.bincn=function(g){r(typeof g=="number");var h=g%26,l=(g-h)/26,b=1<<h;if(this.length<=l)return this._expand(l+1),this.words[l]|=b,this;for(var _=b,x=l;_!==0&&x<this.length;x++){var I=this.words[x]|0;I+=_,_=I>>>26,I&=67108863,this.words[x]=I}return _!==0&&(this.words[x]=_,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(g){var h=g<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var l;if(this.length>1)l=1;else{h&&(g=-g),r(g<=67108863,"Number is too big");var b=this.words[0]|0;l=b===g?0:b<g?-1:1}return this.negative!==0?-l|0:l},i.prototype.cmp=function(g){if(this.negative!==0&&g.negative===0)return-1;if(this.negative===0&&g.negative!==0)return 1;var h=this.ucmp(g);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(g){if(this.length>g.length)return 1;if(this.length<g.length)return-1;for(var h=0,l=this.length-1;l>=0;l--){var b=this.words[l]|0,_=g.words[l]|0;if(b!==_){b<_?h=-1:b>_&&(h=1);break}}return h},i.prototype.gtn=function(g){return this.cmpn(g)===1},i.prototype.gt=function(g){return this.cmp(g)===1},i.prototype.gten=function(g){return this.cmpn(g)>=0},i.prototype.gte=function(g){return this.cmp(g)>=0},i.prototype.ltn=function(g){return this.cmpn(g)===-1},i.prototype.lt=function(g){return this.cmp(g)===-1},i.prototype.lten=function(g){return this.cmpn(g)<=0},i.prototype.lte=function(g){return this.cmp(g)<=0},i.prototype.eqn=function(g){return this.cmpn(g)===0},i.prototype.eq=function(g){return this.cmp(g)===0},i.red=function(g){return new L(g)},i.prototype.toRed=function(g){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),g.convertTo(this)._forceRed(g)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(g){return this.red=g,this},i.prototype.forceRed=function(g){return r(!this.red,"Already a number in reduction context"),this._forceRed(g)},i.prototype.redAdd=function(g){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,g)},i.prototype.redIAdd=function(g){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,g)},i.prototype.redSub=function(g){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,g)},i.prototype.redISub=function(g){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,g)},i.prototype.redShl=function(g){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,g)},i.prototype.redMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.mul(this,g)},i.prototype.redIMul=function(g){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,g),this.red.imul(this,g)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(g){return r(this.red&&!g.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,g)};var C={k256:null,p224:null,p192:null,p25519:null};function R(N,g){this.name=N,this.p=new i(g,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}R.prototype._tmp=function(){var g=new i(null);return g.words=new Array(Math.ceil(this.n/13)),g},R.prototype.ireduce=function(g){var h=g,l;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),l=h.bitLength();while(l>this.n);var b=l<this.n?-1:h.ucmp(this.p);return b===0?(h.words[0]=0,h.length=1):b>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},R.prototype.split=function(g,h){g.iushrn(this.n,0,h)},R.prototype.imulK=function(g){return g.imul(this.k)};function T(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(T,R),T.prototype.split=function(g,h){for(var l=4194303,b=Math.min(g.length,9),_=0;_<b;_++)h.words[_]=g.words[_];if(h.length=b,g.length<=9){g.words[0]=0,g.length=1;return}var x=g.words[9];for(h.words[h.length++]=x&l,_=10;_<g.length;_++){var I=g.words[_]|0;g.words[_-10]=(I&l)<<4|x>>>22,x=I}x>>>=22,g.words[_-10]=x,x===0&&g.length>10?g.length-=10:g.length-=9},T.prototype.imulK=function(g){g.words[g.length]=0,g.words[g.length+1]=0,g.length+=2;for(var h=0,l=0;l<g.length;l++){var b=g.words[l]|0;h+=b*977,g.words[l]=h&67108863,h=b*64+(h/67108864|0)}return g.words[g.length-1]===0&&(g.length--,g.words[g.length-1]===0&&g.length--),g};function k(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(k,R);function H(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(H,R);function F(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(F,R),F.prototype.imulK=function(g){for(var h=0,l=0;l<g.length;l++){var b=(g.words[l]|0)*19+h,_=b&67108863;b>>>=26,g.words[l]=_,h=b}return h!==0&&(g.words[g.length++]=h),g},i._prime=function(g){if(C[g])return C[g];var h;if(g==="k256")h=new T;else if(g==="p224")h=new k;else if(g==="p192")h=new H;else if(g==="p25519")h=new F;else throw new Error("Unknown prime "+g);return C[g]=h,h};function L(N){if(typeof N=="string"){var g=i._prime(N);this.m=g.p,this.prime=g}else r(N.gtn(1),"modulus must be greater than 1"),this.m=N,this.prime=null}L.prototype._verify1=function(g){r(g.negative===0,"red works only with positives"),r(g.red,"red works only with red numbers")},L.prototype._verify2=function(g,h){r((g.negative|h.negative)===0,"red works only with positives"),r(g.red&&g.red===h.red,"red works only with red numbers")},L.prototype.imod=function(g){return this.prime?this.prime.ireduce(g)._forceRed(this):g.umod(this.m)._forceRed(this)},L.prototype.neg=function(g){return g.isZero()?g.clone():this.m.sub(g)._forceRed(this)},L.prototype.add=function(g,h){this._verify2(g,h);var l=g.add(h);return l.cmp(this.m)>=0&&l.isub(this.m),l._forceRed(this)},L.prototype.iadd=function(g,h){this._verify2(g,h);var l=g.iadd(h);return l.cmp(this.m)>=0&&l.isub(this.m),l},L.prototype.sub=function(g,h){this._verify2(g,h);var l=g.sub(h);return l.cmpn(0)<0&&l.iadd(this.m),l._forceRed(this)},L.prototype.isub=function(g,h){this._verify2(g,h);var l=g.isub(h);return l.cmpn(0)<0&&l.iadd(this.m),l},L.prototype.shl=function(g,h){return this._verify1(g),this.imod(g.ushln(h))},L.prototype.imul=function(g,h){return this._verify2(g,h),this.imod(g.imul(h))},L.prototype.mul=function(g,h){return this._verify2(g,h),this.imod(g.mul(h))},L.prototype.isqr=function(g){return this.imul(g,g.clone())},L.prototype.sqr=function(g){return this.mul(g,g)},L.prototype.sqrt=function(g){if(g.isZero())return g.clone();var h=this.m.andln(3);if(r(h%2===1),h===3){var l=this.m.add(new i(1)).iushrn(2);return this.pow(g,l)}for(var b=this.m.subn(1),_=0;!b.isZero()&&b.andln(1)===0;)_++,b.iushrn(1);r(!b.isZero());var x=new i(1).toRed(this),I=x.redNeg(),A=this.m.subn(1).iushrn(1),v=this.m.bitLength();for(v=new i(2*v*v).toRed(this);this.pow(v,A).cmp(I)!==0;)v.redIAdd(I);for(var S=this.pow(v,b),O=this.pow(g,b.addn(1).iushrn(1)),q=this.pow(g,b),J=_;q.cmp(x)!==0;){for(var ne=q,oe=0;ne.cmp(x)!==0;oe++)ne=ne.redSqr();r(oe<J);var le=this.pow(S,new i(1).iushln(J-oe-1));O=O.redMul(le),S=le.redSqr(),q=q.redMul(S),J=oe}return O},L.prototype.invm=function(g){var h=g._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},L.prototype.pow=function(g,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return g.clone();var l=4,b=new Array(1<<l);b[0]=new i(1).toRed(this),b[1]=g;for(var _=2;_<b.length;_++)b[_]=this.mul(b[_-1],g);var x=b[0],I=0,A=0,v=h.bitLength()%26;for(v===0&&(v=26),_=h.length-1;_>=0;_--){for(var S=h.words[_],O=v-1;O>=0;O--){var q=S>>O&1;if(x!==b[0]&&(x=this.sqr(x)),q===0&&I===0){A=0;continue}I<<=1,I|=q,A++,!(A!==l&&(_!==0||O!==0))&&(x=this.mul(x,b[I]),A=0,I=0)}v=26}return x},L.prototype.convertTo=function(g){var h=g.umod(this.m);return h===g?h.clone():h},L.prototype.convertFrom=function(g){var h=g.clone();return h.red=null,h},i.mont=function(g){return new D(g)};function D(N){L.call(this,N),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(D,L),D.prototype.convertTo=function(g){return this.imod(g.ushln(this.shift))},D.prototype.convertFrom=function(g){var h=this.imod(g.mul(this.rinv));return h.red=null,h},D.prototype.imul=function(g,h){if(g.isZero()||h.isZero())return g.words[0]=0,g.length=1,g;var l=g.imul(h),b=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=l.isub(b).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},D.prototype.mul=function(g,h){if(g.isZero()||h.isZero())return new i(0)._forceRed(this);var l=g.mul(h),b=l.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=l.isub(b).iushrn(this.shift),x=_;return _.cmp(this.m)>=0?x=_.isub(this.m):_.cmpn(0)<0&&(x=_.iadd(this.m)),x._forceRed(this)},D.prototype.invm=function(g){var h=this.imod(g._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(typeof Zk>"u"||Zk,fre)});var Uu=j(dre=>{"use strict";B();M();var Lf=dre,WMe=fd(),YMe=UE(),Mw=qE();Lf.assert=YMe;Lf.toArray=Mw.toArray;Lf.zero2=Mw.zero2;Lf.toHex=Mw.toHex;Lf.encode=Mw.encode;function XMe(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1),i;for(i=0;i<n.length;i+=1)n[i]=0;var s=1<<e+1,o=t.clone();for(i=0;i<n.length;i++){var a,u=o.andln(s-1);o.isOdd()?(u>(s>>1)-1?a=(s>>1)-u:a=u,o.isubn(a)):a=0,n[i]=a,o.iushrn(1)}return n}Lf.getNAF=XMe;function ZMe(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n=0,i=0,s;t.cmpn(-n)>0||e.cmpn(-i)>0;){var o=t.andln(3)+n&3,a=e.andln(3)+i&3;o===3&&(o=-1),a===3&&(a=-1);var u;(o&1)===0?u=0:(s=t.andln(7)+n&7,(s===3||s===5)&&a===2?u=-o:u=o),r[0].push(u);var c;(a&1)===0?c=0:(s=e.andln(7)+i&7,(s===3||s===5)&&o===2?c=-a:c=a),r[1].push(c),2*n===u+1&&(n=1-n),2*i===c+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return r}Lf.getJSF=ZMe;function JMe(t,e,r){var n="_"+e;t.prototype[e]=function(){return this[n]!==void 0?this[n]:this[n]=r.call(this)}}Lf.cachedProperty=JMe;function QMe(t){return typeof t=="string"?Lf.toArray(t,"hex"):t}Lf.parseBytes=QMe;function eke(t){return new WMe(t,"hex","le")}Lf.intFromLE=eke});var hm=j((Vpt,hre)=>{"use strict";B();M();var A7=fd(),dm=Uu(),kw=dm.getNAF,tke=dm.getJSF,Cw=dm.assert;function f6(t,e){this.type=t,this.p=new A7(e.p,16),this.red=e.prime?A7.red(e.prime):A7.mont(this.p),this.zero=new A7(0).toRed(this.red),this.one=new A7(1).toRed(this.red),this.two=new A7(2).toRed(this.red),this.n=e.n&&new A7(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}hre.exports=f6;f6.prototype.point=function(){throw new Error("Not implemented")};f6.prototype.validate=function(){throw new Error("Not implemented")};f6.prototype._fixedNafMul=function(e,r){Cw(e.precomputed);var n=e._getDoubles(),i=kw(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,u;for(a=0;a<i.length;a+=n.step){u=0;for(var c=a+n.step-1;c>=a;c--)u=(u<<1)+i[c];o.push(u)}for(var d=this.jpoint(null,null,null),f=this.jpoint(null,null,null),m=s;m>0;m--){for(a=0;a<o.length;a++)u=o[a],u===m?f=f.mixedAdd(n.points[a]):u===-m&&(f=f.mixedAdd(n.points[a].neg()));d=d.add(f)}return d.toP()};f6.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=kw(r,n,this._bitLength),a=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var c=0;u>=0&&o[u]===0;u--)c++;if(u>=0&&c++,a=a.dblp(c),u<0)break;var d=o[u];Cw(d!==0),e.type==="affine"?d>0?a=a.mixedAdd(s[d-1>>1]):a=a.mixedAdd(s[-d-1>>1].neg()):d>0?a=a.add(s[d-1>>1]):a=a.add(s[-d-1>>1].neg())}return e.type==="affine"?a.toP():a};f6.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,u=this._wnafT3,c=0,d,f,m;for(d=0;d<i;d++){m=r[d];var p=m._getNAFPoints(e);o[d]=p.wnd,a[d]=p.points}for(d=i-1;d>=1;d-=2){var y=d-1,w=d;if(o[y]!==1||o[w]!==1){u[y]=kw(n[y],o[y],this._bitLength),u[w]=kw(n[w],o[w],this._bitLength),c=Math.max(u[y].length,c),c=Math.max(u[w].length,c);continue}var P=[r[y],null,null,r[w]];r[y].y.cmp(r[w].y)===0?(P[1]=r[y].add(r[w]),P[2]=r[y].toJ().mixedAdd(r[w].neg())):r[y].y.cmp(r[w].y.redNeg())===0?(P[1]=r[y].toJ().mixedAdd(r[w]),P[2]=r[y].add(r[w].neg())):(P[1]=r[y].toJ().mixedAdd(r[w]),P[2]=r[y].toJ().mixedAdd(r[w].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],R=tke(n[y],n[w]);for(c=Math.max(R[0].length,c),u[y]=new Array(c),u[w]=new Array(c),f=0;f<c;f++){var T=R[0][f]|0,k=R[1][f]|0;u[y][f]=C[(T+1)*3+(k+1)],u[w][f]=0,a[y]=P}}var H=this.jpoint(null,null,null),F=this._wnafT4;for(d=c;d>=0;d--){for(var L=0;d>=0;){var D=!0;for(f=0;f<i;f++)F[f]=u[f][d]|0,F[f]!==0&&(D=!1);if(!D)break;L++,d--}if(d>=0&&L++,H=H.dblp(L),d<0)break;for(f=0;f<i;f++){var N=F[f];N!==0&&(N>0?m=a[f][N-1>>1]:N<0&&(m=a[f][-N-1>>1].neg()),m.type==="affine"?H=H.mixedAdd(m):H=H.add(m))}}for(d=0;d<i;d++)a[d]=null;return s?H:H.toP()};function Gc(t,e){this.curve=t,this.type=e,this.precomputed=null}f6.BasePoint=Gc;Gc.prototype.eq=function(){throw new Error("Not implemented")};Gc.prototype.validate=function(){return this.curve.validate(this)};f6.prototype.decodePoint=function(e,r){e=dm.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Cw(e[e.length-1]%2===0):e[0]===7&&Cw(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Gc.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Gc.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Gc.prototype.encode=function(e,r){return dm.encode(this._encode(r),e)};Gc.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Gc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Gc.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Gc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Gc.prototype._getBeta=function(){return null};Gc.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r}});var Rw=j((Ypt,Jk)=>{B();M();typeof Object.create=="function"?Jk.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Jk.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var pre=j((Jpt,lre)=>{"use strict";B();M();var rke=Uu(),qi=fd(),Qk=Rw(),F9=hm(),nke=rke.assert;function Wc(t){F9.call(this,"short",t),this.a=new qi(t.a,16).toRed(this.red),this.b=new qi(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Qk(Wc,F9);lre.exports=Wc;Wc.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new qi(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new qi(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],nke(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new qi(a.a,16),b:new qi(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Wc.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:qi.mont(e),n=new qi(2).toRed(r).redInvm(),i=n.redNeg(),s=new qi(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Wc.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new qi(1),o=new qi(0),a=new qi(0),u=new qi(1),c,d,f,m,p,y,w,P=0,C,R;n.cmpn(0)!==0;){var T=i.div(n);C=i.sub(T.mul(n)),R=a.sub(T.mul(s));var k=u.sub(T.mul(o));if(!f&&C.cmp(r)<0)c=w.neg(),d=s,f=C.neg(),m=R;else if(f&&++P===2)break;w=C,i=n,n=C,a=s,s=R,u=o,o=k}p=C.neg(),y=R;var H=f.sqr().add(m.sqr()),F=p.sqr().add(y.sqr());return F.cmp(H)>=0&&(p=c,y=d),f.negative&&(f=f.neg(),m=m.neg()),p.negative&&(p=p.neg(),y=y.neg()),[{a:f,b:m},{a:p,b:y}]};Wc.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),u=o.mul(i.a),c=s.mul(n.b),d=o.mul(i.b),f=e.sub(a).sub(u),m=c.add(d).neg();return{k1:f,k2:m}};Wc.prototype.pointFromX=function(e,r){e=new qi(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Wc.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Wc.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),u=e[o],c=u._getBeta();a.k1.negative&&(a.k1.ineg(),u=u.neg(!0)),a.k2.negative&&(a.k2.ineg(),c=c.neg(!0)),i[o*2]=u,i[o*2+1]=c,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var d=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return d};function fo(t,e,r,n){F9.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new qi(e,16),this.y=new qi(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Qk(fo,F9.BasePoint);Wc.prototype.point=function(e,r,n){return new fo(this,e,r,n)};Wc.prototype.pointFromJSON=function(e,r){return fo.fromJSON(this,e,r)};fo.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};fo.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};fo.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};fo.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};fo.prototype.isInfinity=function(){return this.inf};fo.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};fo.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};fo.prototype.getX=function(){return this.x.fromRed()};fo.prototype.getY=function(){return this.y.fromRed()};fo.prototype.mul=function(e){return e=new qi(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};fo.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};fo.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};fo.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};fo.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};fo.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Fo(t,e,r,n){F9.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new qi(0)):(this.x=new qi(e,16),this.y=new qi(r,16),this.z=new qi(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Qk(Fo,F9.BasePoint);Wc.prototype.jpoint=function(e,r,n){return new Fo(this,e,r,n)};Fo.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Fo.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Fo.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),u=i.redSub(s),c=o.redSub(a);if(u.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var d=u.redSqr(),f=d.redMul(u),m=i.redMul(d),p=c.redSqr().redIAdd(f).redISub(m).redISub(m),y=c.redMul(m.redISub(p)).redISub(o.redMul(f)),w=this.z.redMul(e.z).redMul(u);return this.curve.jpoint(p,y,w)};Fo.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),u=s.redSub(o);if(a.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),d=c.redMul(a),f=n.redMul(c),m=u.redSqr().redIAdd(d).redISub(f).redISub(f),p=u.redMul(f.redISub(m)).redISub(s.redMul(d)),y=this.z.redMul(a);return this.curve.jpoint(m,p,y)};Fo.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,u=this.z,c=u.redSqr().redSqr(),d=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),m=d.redSqr(),p=m.redSqr(),y=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(c)),w=o.redMul(m),P=y.redSqr().redISub(w.redAdd(w)),C=w.redISub(P),R=y.redMul(C);R=R.redIAdd(R).redISub(p);var T=d.redMul(u);r+1<e&&(c=c.redMul(p)),o=P,u=T,d=R}return this.curve.jpoint(o,d.redMul(s),u)};Fo.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Fo.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i),c=u.redSqr().redISub(a).redISub(a),d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),e=c,r=u.redMul(a.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),m=this.y.redSqr(),p=m.redSqr(),y=this.x.redAdd(m).redSqr().redISub(f).redISub(p);y=y.redIAdd(y);var w=f.redAdd(f).redIAdd(f),P=w.redSqr(),C=p.redIAdd(p);C=C.redIAdd(C),C=C.redIAdd(C),e=P.redISub(y).redISub(y),r=w.redMul(y.redISub(e)).redISub(C),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Fo.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var u=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),c=u.redSqr().redISub(a).redISub(a);e=c;var d=o.redIAdd(o);d=d.redIAdd(d),d=d.redIAdd(d),r=u.redMul(a.redISub(c)).redISub(d),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),m=this.y.redSqr(),p=this.x.redMul(m),y=this.x.redSub(f).redMul(this.x.redAdd(f));y=y.redAdd(y).redIAdd(y);var w=p.redIAdd(p);w=w.redIAdd(w);var P=w.redAdd(w);e=y.redSqr().redISub(P),n=this.y.redAdd(this.z).redSqr().redISub(m).redISub(f);var C=m.redSqr();C=C.redIAdd(C),C=C.redIAdd(C),C=C.redIAdd(C),r=y.redMul(w.redISub(e)).redISub(C)}return this.curve.jpoint(e,r,n)};Fo.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),u=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),c=r.redAdd(r);c=c.redIAdd(c);var d=c.redMul(a),f=u.redSqr().redISub(d.redAdd(d)),m=d.redISub(f),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var y=u.redMul(m).redISub(p),w=n.redAdd(n).redMul(i);return this.curve.jpoint(f,y,w)};Fo.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var u=a.redSqr(),c=i.redIAdd(i);c=c.redIAdd(c),c=c.redIAdd(c),c=c.redIAdd(c);var d=s.redIAdd(a).redSqr().redISub(o).redISub(u).redISub(c),f=r.redMul(d);f=f.redIAdd(f),f=f.redIAdd(f);var m=this.x.redMul(u).redISub(f);m=m.redIAdd(m),m=m.redIAdd(m);var p=this.y.redMul(d.redMul(c.redISub(d)).redISub(a.redMul(u)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var y=this.z.redAdd(a).redSqr().redISub(n).redISub(u);return this.curve.jpoint(m,p,y)};Fo.prototype.mul=function(e,r){return e=new qi(e,r),this.curve._wnafMul(this,e)};Fo.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Fo.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Fo.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Fo.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var mre=j((t7t,gre)=>{"use strict";B();M();var H9=fd(),bre=Rw(),Nw=hm(),ike=Uu();function D9(t){Nw.call(this,"mont",t),this.a=new H9(t.a,16).toRed(this.red),this.b=new H9(t.b,16).toRed(this.red),this.i4=new H9(4).toRed(this.red).redInvm(),this.two=new H9(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}bre(D9,Nw);gre.exports=D9;D9.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function ho(t,e,r){Nw.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new H9(e,16),this.z=new H9(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}bre(ho,Nw.BasePoint);D9.prototype.decodePoint=function(e,r){return this.point(ike.toArray(e,r),1)};D9.prototype.point=function(e,r){return new ho(this,e,r)};D9.prototype.pointFromJSON=function(e){return ho.fromJSON(this,e)};ho.prototype.precompute=function(){};ho.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};ho.fromJSON=function(e,r){return new ho(e,r[0],r[1]||e.one)};ho.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};ho.prototype.isInfinity=function(){return this.z.cmpn(0)===0};ho.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};ho.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};ho.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),u=s.redMul(i),c=r.z.redMul(a.redAdd(u).redSqr()),d=r.x.redMul(a.redISub(u).redSqr());return this.curve.point(c,d)};ho.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};ho.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};ho.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};ho.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};ho.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};ho.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var _re=j((i7t,vre)=>{"use strict";B();M();var ske=Uu(),bh=fd(),yre=Rw(),Fw=hm(),oke=ske.assert;function dd(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Fw.call(this,"edwards",t),this.a=new bh(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new bh(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new bh(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),oke(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}yre(dd,Fw);vre.exports=dd;dd.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};dd.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};dd.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};dd.prototype.pointFromX=function(e,r){e=new bh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var u=a.fromRed().isOdd();return(r&&!u||!r&&u)&&(a=a.redNeg()),this.point(e,a)};dd.prototype.pointFromY=function(e,r){e=new bh(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};dd.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function zn(t,e,r,n,i){Fw.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new bh(e,16),this.y=new bh(r,16),this.z=n?new bh(n,16):this.curve.one,this.t=i&&new bh(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}yre(zn,Fw.BasePoint);dd.prototype.pointFromJSON=function(e){return zn.fromJSON(this,e)};dd.prototype.point=function(e,r,n,i){return new zn(this,e,r,n,i)};zn.fromJSON=function(e,r){return new zn(e,r[0],r[1],r[2])};zn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};zn.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};zn.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),u=i.redSub(r),c=s.redMul(a),d=o.redMul(u),f=s.redMul(u),m=a.redMul(o);return this.curve.point(c,d,m,f)};zn.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,u,c;if(this.curve.twisted){a=this.curve._mulA(r);var d=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(d.redSub(this.curve.two)),s=d.redMul(a.redSub(n)),o=d.redSqr().redSub(d).redSub(d)):(u=this.z.redSqr(),c=d.redSub(u).redISub(u),i=e.redSub(r).redISub(n).redMul(c),s=d.redMul(a.redSub(n)),o=d.redMul(c))}else a=r.redAdd(n),u=this.curve._mulC(this.z).redSqr(),c=a.redSub(u).redSub(u),i=this.curve._mulC(e.redISub(a)).redMul(c),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(c);return this.curve.point(i,s,o)};zn.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};zn.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),u=s.redAdd(i),c=n.redAdd(r),d=o.redMul(a),f=u.redMul(c),m=o.redMul(c),p=a.redMul(u);return this.curve.point(d,f,p,m)};zn.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),u=n.redAdd(o),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),d=r.redMul(a).redMul(c),f,m;return this.curve.twisted?(f=r.redMul(u).redMul(s.redSub(this.curve._mulA(i))),m=a.redMul(u)):(f=r.redMul(u).redMul(s.redSub(i)),m=this.curve._mulC(a).redMul(u)),this.curve.point(d,f,m)};zn.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};zn.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};zn.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};zn.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};zn.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};zn.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};zn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};zn.prototype.getY=function(){return this.normalize(),this.y.fromRed()};zn.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};zn.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};zn.prototype.toP=zn.prototype.normalize;zn.prototype.mixedAdd=zn.prototype.add});var eC=j(Sre=>{"use strict";B();M();var Hw=Sre;Hw.base=hm();Hw.short=pre();Hw.mont=mre();Hw.edwards=_re()});var xre=j((f7t,wre)=>{B();M();wre.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var Dw=j(Tre=>{"use strict";B();M();var rC=Tre,d6=Q6(),tC=eC(),ake=Uu(),Ere=ake.assert;function Are(t){t.type==="short"?this.curve=new tC.short(t):t.type==="edwards"?this.curve=new tC.edwards(t):this.curve=new tC.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,Ere(this.g.validate(),"Invalid curve"),Ere(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}rC.PresetCurve=Are;function h6(t,e){Object.defineProperty(rC,t,{configurable:!0,enumerable:!0,get:function(){var r=new Are(e);return Object.defineProperty(rC,t,{configurable:!0,enumerable:!0,value:r}),r}})}h6("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:d6.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});h6("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:d6.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});h6("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:d6.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});h6("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:d6.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});h6("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:d6.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});h6("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d6.sha256,gRed:!1,g:["9"]});h6("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:d6.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var nC;try{nC=xre()}catch{nC=void 0}h6("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:d6.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",nC]})});var Pre=j((g7t,Ire)=>{"use strict";B();M();var uke=fd(),cke=Uu(),iC=cke.assert;function da(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}Ire.exports=da;da.fromPublic=function(e,r,n){return r instanceof da?r:new da(e,{pub:r,pubEnc:n})};da.fromPrivate=function(e,r,n){return r instanceof da?r:new da(e,{priv:r,privEnc:n})};da.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};da.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};da.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};da.prototype._importPrivate=function(e,r){this.priv=new uke(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};da.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?iC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&iC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};da.prototype.derive=function(e){return e.validate()||iC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};da.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};da.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};da.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var Mre=j((v7t,Bre)=>{"use strict";B();M();var Lw=fd(),aC=Uu(),fke=aC.assert;function Uw(t,e){if(t instanceof Uw)return t;this._importDER(t,e)||(fke(t.r&&t.s,"Signature without r or s"),this.r=new Lw(t.r,16),this.s=new Lw(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}Bre.exports=Uw;function dke(){this.place=0}function sC(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function Ore(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Uw.prototype._importDER=function(e,r){e=aC.toArray(e,r);var n=new dke;if(e[n.place++]!==48)return!1;var i=sC(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=sC(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=sC(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var u=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;return this.r=new Lw(o),this.s=new Lw(u),this.recoveryParam=null,!0};function oC(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Uw.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Ore(r),n=Ore(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];oC(i,r.length),i=i.concat(r),i.push(2),oC(i,n.length);var s=i.concat(n),o=[48];return oC(o,s.length),o=o.concat(s),aC.encode(o,e)}});var Nre=j((w7t,Rre)=>{"use strict";B();M();var T7=fd(),kre=jE(),hke=Uu(),uC=Dw(),lke=Rb(),Cre=hke.assert,cC=Pre(),qw=Mre();function Yc(t){if(!(this instanceof Yc))return new Yc(t);typeof t=="string"&&(Cre(Object.prototype.hasOwnProperty.call(uC,t),"Unknown curve "+t),t=uC[t]),t instanceof uC.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}Rre.exports=Yc;Yc.prototype.keyPair=function(e){return new cC(this,e)};Yc.prototype.keyFromPrivate=function(e,r){return cC.fromPrivate(this,e,r)};Yc.prototype.keyFromPublic=function(e,r){return cC.fromPublic(this,e,r)};Yc.prototype.genKeyPair=function(e){e||(e={});for(var r=new kre({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||lke(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new T7(2));;){var s=new T7(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Yc.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Yc.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new T7(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),u=new kre({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),c=this.n.sub(new T7(1)),d=0;;d++){var f=i.k?i.k(d):new T7(u.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(c)>=0)){var m=this.g.mul(f);if(!m.isInfinity()){var p=m.getX(),y=p.umod(this.n);if(y.cmpn(0)!==0){var w=f.invm(this.n).mul(y.mul(r.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var P=(m.getY().isOdd()?1:0)|(p.cmp(y)!==0?2:0);return i.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),P^=1),new qw({r:y,s:w,recoveryParam:P})}}}}}};Yc.prototype.verify=function(e,r,n,i){e=this._truncateToN(new T7(e,16)),n=this.keyFromPublic(n,i),r=new qw(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),u=a.mul(e).umod(this.n),c=a.mul(s).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(u,n.getPublic(),c),d.isInfinity()?!1:d.eqXToP(s)):(d=this.g.mulAdd(u,n.getPublic(),c),d.isInfinity()?!1:d.getX().umod(this.n).cmp(s)===0)};Yc.prototype.recoverPubKey=function(t,e,r,n){Cre((3&r)===r,"The recovery param is more than two bits"),e=new qw(e,n);var i=this.n,s=new T7(t),o=e.r,a=e.s,u=r&1,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");c?o=this.curve.pointFromX(o.add(this.curve.n),u):o=this.curve.pointFromX(o,u);var d=e.r.invm(i),f=i.sub(s).mul(d).umod(i),m=a.mul(d).umod(i);return this.g.mulAdd(f,o,m)};Yc.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new qw(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}});var Lre=j((A7t,Dre)=>{"use strict";B();M();var lm=Uu(),Hre=lm.assert,Fre=lm.parseBytes,L9=lm.cachedProperty;function lo(t,e){this.eddsa=t,this._secret=Fre(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Fre(e.pub)}lo.fromPublic=function(e,r){return r instanceof lo?r:new lo(e,{pub:r})};lo.fromSecret=function(e,r){return r instanceof lo?r:new lo(e,{secret:r})};lo.prototype.secret=function(){return this._secret};L9(lo,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});L9(lo,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});L9(lo,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});L9(lo,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});L9(lo,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});L9(lo,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});lo.prototype.sign=function(e){return Hre(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};lo.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};lo.prototype.getSecret=function(e){return Hre(this._secret,"KeyPair is public only"),lm.encode(this.secret(),e)};lo.prototype.getPublic=function(e){return lm.encode(this.pubBytes(),e)};Dre.exports=lo});var jre=j((P7t,qre)=>{"use strict";B();M();var pke=fd(),jw=Uu(),Ure=jw.assert,Kw=jw.cachedProperty,bke=jw.parseBytes;function I7(t,e){this.eddsa=t,typeof e!="object"&&(e=bke(e)),Array.isArray(e)&&(Ure(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),Ure(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof pke&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Kw(I7,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Kw(I7,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Kw(I7,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Kw(I7,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});I7.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};I7.prototype.toHex=function(){return jw.encode(this.toBytes(),"hex").toUpperCase()};qre.exports=I7});var Gre=j((M7t,Vre)=>{"use strict";B();M();var gke=Q6(),mke=Dw(),U9=Uu(),yke=U9.assert,$re=U9.parseBytes,zre=Lre(),Kre=jre();function vu(t){if(yke(t==="ed25519","only tested with ed25519 so far"),!(this instanceof vu))return new vu(t);t=mke[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=gke.sha512}Vre.exports=vu;vu.prototype.sign=function(e,r){e=$re(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:u,Rencoded:o})};vu.prototype.verify=function(e,r,n){if(e=$re(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};vu.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return U9.intFromLE(e.digest()).umod(this.curve.n)};vu.prototype.keyFromPublic=function(e){return zre.fromPublic(this,e)};vu.prototype.keyFromSecret=function(e){return zre.fromSecret(this,e)};vu.prototype.makeSignature=function(e){return e instanceof Kre?e:new Kre(this,e)};vu.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};vu.prototype.decodePoint=function(e){e=U9.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=U9.intFromLE(n);return this.curve.pointFromY(s,i)};vu.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};vu.prototype.decodeInt=function(e){return U9.intFromLE(e)};vu.prototype.isPoint=function(e){return e instanceof this.pointClass}});var fC=j(Wre=>{"use strict";B();M();var P7=Wre;P7.version=cre().version;P7.utils=Uu();P7.rand=Rb();P7.curve=eC();P7.curves=Dw();P7.ec=Nre();P7.eddsa=Gre()});var p6=j((H7t,Xre)=>{"use strict";B();M();var hd=uo(),vke=ni(),_ke=fC().ec,l6=new _ke("secp256k1"),Ske=l6.curve.point.bind(l6.curve),Yre=l6.curve.pointFromX.bind(l6.curve),po=function(e,r,n){try{var i=Ske(e,r,n)}catch{throw new Error("Invalid Point")}return i.validate(),i};po.prototype=Object.getPrototypeOf(l6.curve.point());po.fromX=function(e,r){try{var n=Yre(r,e)}catch{throw new Error("Invalid X")}return n.validate(),n};po.getG=function(){return l6.curve.g};po.getN=function(){return new hd(l6.curve.n.toArray())};po.getP=function(){return l6.curve.p.clone()};po.prototype._getX=po.prototype.getX;po.prototype.getX=function(){return new hd(this._getX().toArray())};po.prototype._getY=po.prototype.getY;po.prototype.getY=function(){return new hd(this._getY().toArray())};po.prototype.validate=function(){if(this.isInfinity())throw new Error("Point cannot be equal to Infinity");var e;try{e=Yre(this.getX(),this.getY().isOdd())}catch{throw new Error("Point does not lie on the curve")}if(e.y.cmp(this.y)!==0)throw new Error("Invalid y value for curve.");if(!this.mul(po.getN()).isInfinity())throw new Error("Point times N must be infinity");return this};po.pointToCompressed=function(e){var r=e.getX().toBuffer({size:32}),n=e.getY().toBuffer({size:32}),i,s=n[n.length-1]%2;return s?i=E.Buffer.from([3]):i=E.Buffer.from([2]),vke.concat([i,r])};po.prototype.liftX=function(){let t=po.getP(),e=new hd(0),r=new hd(1),n=new hd(2),i=new hd(3),s=new hd(4),o=new hd(7),a=hd.red("k256"),u=this.x.pow(i).add(o).mod(t),c=u.toRed(a).redPow(t.add(r).div(s)).mod(t);if(!u.eq(c.pow(n).mod(t)))throw new Error("liftX failed");let d=this.x.red?this.x.fromRed():this.x,f=c.mod(n).eq(e)?c.fromRed():t.sub(c);return new po(d,f,!0)};Xre.exports=po});var la=j((U7t,Jre)=>{"use strict";B();M();var gh=uo(),wke=Gr(),ha=Zr(),Zre=ni(),xke=Vi(),Sr=function t(e,r,n){if(!(this instanceof t))return new t(e,r,n);if(e instanceof gh)this.set({r:e,s:r,isSchnorr:n});else if(e){var i=e;this.set(i)}};Sr.prototype.set=function(t){return this.r=t.r||this.r||void 0,this.s=t.s||this.s||void 0,this.i=typeof t.i>"u"?this.i:t.i,this.compressed=typeof t.compressed>"u"?this.compressed:t.compressed,this.isSchnorr=typeof t.isSchnorr>"u"?this.isSchnorr:t.isSchnorr,this.nhashtype=t.nhashtype||this.nhashtype||void 0,this};Sr.fromCompact=function(t){ha.checkArgument(Zre.isBuffer(t),"Argument is expected to be a Buffer");var e=new Sr,r=!0,n=t.slice(0,1)[0]-27-4;n<0&&(r=!1,n=n+4);var i=t.slice(1,33),s=t.slice(33,65);return ha.checkArgument(n===0||n===1||n===2||n===3,new Error("i must be 0, 1, 2, or 3")),ha.checkArgument(i.length===32,new Error("r must be 32 bytes")),ha.checkArgument(s.length===32,new Error("s must be 32 bytes")),e.compressed=r,e.i=n,e.r=gh.fromBuffer(i),e.s=gh.fromBuffer(s),e};Sr.fromDER=Sr.fromBuffer=function(t,e){var r=new Sr;if((t.length===64||t.length===65)&&t[0]!=48)return Sr.fromSchnorr(t);ha.checkArgument(!(t.length===64&&t[0]===48),new Error("64 DER (ecdsa) signatures not allowed"));var n=Sr.parseDER(t,e);return r.r=n.r,r.s=n.s,r};Sr.fromTxFormat=function(t){var e=t.readUInt8(t.length-1),r=t.slice(0,t.length-1),n=new Sr.fromDER(r,!1);return n.nhashtype=e,n};Sr.fromString=function(t){var e=E.Buffer.from(t,"hex");return Sr.fromDER(e)};Sr.parseDER=function(t,e){ha.checkArgument(Zre.isBuffer(t),new Error("DER formatted signature should be a buffer")),wke.isUndefined(e)&&(e=!0);var r=t[0];ha.checkArgument(r===48,new Error("Header byte should be 0x30"));var n=t[1],i=t.slice(2).length;ha.checkArgument(!e||n===i,new Error("Length byte should length of what follows")),n=n<i?n:i;var s=t[2+0];ha.checkArgument(s===2,new Error("Integer byte for r should be 0x02"));var o=t[2+1],a=t.slice(2+2,2+2+o),u=gh.fromBuffer(a),c=t[2+1+1]===0;ha.checkArgument(o===a.length,new Error("Length of r incorrect"));var d=t[2+2+o+0];ha.checkArgument(d===2,new Error("Integer byte for s should be 0x02"));var f=t[2+2+o+1],m=t.slice(2+2+o+2,2+2+o+2+f),p=gh.fromBuffer(m),y=t[2+2+o+2+2]===0;ha.checkArgument(f===m.length,new Error("Length of s incorrect"));var w=2+2+o+2+f;ha.checkArgument(n===w-2,new Error("Length of signature incorrect"));var P={header:r,length:n,rheader:s,rlength:o,rneg:c,rbuf:a,r:u,sheader:d,slength:f,sneg:y,sbuf:m,s:p};return P};Sr.prototype.toCompact=function(t,e){if(t=typeof t=="number"?t:this.i,e=typeof e=="boolean"?e:this.compressed,!(t===0||t===1||t===2||t===3))throw new Error("i must be equal to 0, 1, 2, or 3");var r=t+27+4;e===!1&&(r=r-4);var n=E.Buffer.from([r]),i=this.r.toBuffer({size:32}),s=this.s.toBuffer({size:32});return E.Buffer.concat([n,i,s])};Sr.prototype.toBuffer=Sr.prototype.toDER=function(){if(this.isSchnorr){let p=!this.nhashtype||this.nhashtype===Sr.SIGHASH_DEFAULT?E.Buffer.alloc(0):E.Buffer.from([this.nhashtype]);return E.Buffer.concat([this.r.toBuffer({size:32}),this.s.toBuffer({size:32}),p])}var t=this.r.toBuffer(),e=this.s.toBuffer(),r=!!(t[0]&128),n=!!(e[0]&128),i=r?E.Buffer.concat([E.Buffer.from([0]),t]):t,s=n?E.Buffer.concat([E.Buffer.from([0]),e]):e,o=i.length,a=s.length,u=2+o+2+a,c=2,d=2,f=48,m=E.Buffer.concat([E.Buffer.from([f,u,c,o]),i,E.Buffer.from([d,a]),s]);return m};Sr.prototype.toString=function(){var t=this.toDER();return t.toString("hex")};Sr.isTxDER=function(t){if(t.length<9||t.length>73||t[0]!==48||t[1]!==t.length-3)return!1;var e=t[3];if(5+e>=t.length)return!1;var r=t[5+e];if(e+r+7!==t.length)return!1;var n=t.slice(4);if(t[4-2]!==2||e===0||n[0]&128||e>1&&n[0]===0&&!(n[1]&128))return!1;var i=t.slice(6+e);return!(t[6+e-2]!==2||r===0||i[0]&128||r>1&&i[0]===0&&!(i[1]&128))};Sr.prototype.hasLowS=function(){return!(this.s.lt(new gh(1))||this.s.gt(new gh("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))};Sr.prototype.hasDefinedHashtype=function(){if(!xke.isNaturalNumber(this.nhashtype))return!1;var t=this.nhashtype&~Sr.SIGHASH_ANYONECANPAY;return!(t<Sr.SIGHASH_ALL||t>Sr.SIGHASH_SINGLE)};Sr.prototype.toTxFormat=function(){var t=this.toDER(),e=E.Buffer.alloc(1);return e.writeUInt8(this.nhashtype,0),E.Buffer.concat([t,e])};Sr.fromSchnorr=function(t){ha.checkArgument(E.Buffer.isBuffer(t),"Schnorr signature argument must be a buffer"),ha.checkArgument(t.length===64||t.length===65,"Schnorr signatures must be 64 or 65 bytes");let e=new Sr,r=t.slice(0,32),n=t.slice(32,64);return t.length===65?(e.nhashtype=t[t.length-1],ha.checkState(e.nhashtype!==Sr.SIGHASH_DEFAULT,new Error("invalid hashtype"))):e.nhashtype=Sr.SIGHASH_DEFAULT,e.r=gh.fromBuffer(r),e.s=gh.fromBuffer(n),e.isSchnorr=!0,e};Sr.SIGHASH_DEFAULT=0;Sr.SIGHASH_ALL=1;Sr.SIGHASH_NONE=2;Sr.SIGHASH_SINGLE=3;Sr.SIGHASH_ANYONECANPAY=128;Sr.SIGHASH_OUTPUT_MASK=3;Sr.SIGHASH_INPUT_MASK=128;Sr.Version={};Sr.Version.BASE=0;Sr.Version.WITNESS_V0=1;Sr.Version.TAPROOT=2;Sr.Version.TAPSCRIPT=3;Jre.exports=Sr});var Ss=j((K7t,Qre)=>{"use strict";B();M();var $w=Cd(),b6=ni(),mh=Zr(),_s=Qre.exports;_s.sha1=function(t){return mh.checkArgument(b6.isBuffer(t)),$w.createHash("sha1").update(t).digest()};_s.sha1.blocksize=512;_s.sha256=function(t){return mh.checkArgument(b6.isBuffer(t)),$w.createHash("sha256").update(t).digest()};_s.sha256.blocksize=512;_s.sha256sha256=function(t){return mh.checkArgument(b6.isBuffer(t)),_s.sha256(_s.sha256(t))};_s.ripemd160=function(t){return mh.checkArgument(b6.isBuffer(t)),$w.createHash("ripemd160").update(t).digest()};_s.sha256ripemd160=function(t){return mh.checkArgument(b6.isBuffer(t)),_s.ripemd160(_s.sha256(t))};_s.sha512=function(t){return mh.checkArgument(b6.isBuffer(t)),$w.createHash("sha512").update(t).digest()};_s.sha512.blocksize=1024;_s.hmac=function(t,e,r){mh.checkArgument(b6.isBuffer(e)),mh.checkArgument(b6.isBuffer(r)),mh.checkArgument(t.blocksize);var n=t.blocksize/8;if(r.length>n)r=t(r);else if(r<n){var i=E.Buffer.alloc(n);i.fill(0),r.copy(i),r=i}var s=E.Buffer.alloc(n);s.fill(92);var o=E.Buffer.alloc(n);o.fill(54);for(var a=E.Buffer.alloc(n),u=E.Buffer.alloc(n),c=0;c<n;c++)a[c]=s[c]^r[c],u[c]=o[c]^r[c];return t(E.Buffer.concat([a,t(E.Buffer.concat([u,e]))]))};_s.sha256hmac=function(t,e){return _s.hmac(_s.sha256,t,e)};_s.sha512hmac=function(t,e){return _s.hmac(_s.sha512,t,e)}});var m6=j((V7t,tne)=>{"use strict";B();M();var Eke=ni(),zw=Vi(),g6=[],ka={};function ene(){}ene.prototype.toString=function(){return this.name};function O7(t,e){if(~g6.indexOf(t))return t;if(e){Array.isArray(e)||(e=[e]);for(let r in g6)if(e.some(n=>g6[r][n]===t))return g6[r];return}return ka[t]&&ka[t].length>=1?ka[t][0]:ka[t]}function hC(t){return this.name==t||this.alias==t}function pm(t){var e=new ene;zw.defineImmutable(e,{name:t.name,alias:t.alias,is:t.is,pubkeyhash:t.pubkeyhash,privatekey:t.privatekey,scripthash:t.scripthash,bech32prefix:t.bech32prefix,xpubkey:t.xpubkey,xprivkey:t.xprivkey}),t.networkMagic&&zw.defineImmutable(e,{networkMagic:Eke.integerAsBuffer(t.networkMagic)}),t.port&&zw.defineImmutable(e,{port:t.port}),t.dnsSeeds&&zw.defineImmutable(e,{dnsSeeds:t.dnsSeeds});for(let r of Object.values(e))r!=null&&typeof r!="object"&&(ka[r]||(ka[r]=[]),ka[r].push(e));g6.push(e);for(let r of t.variants||[])pm({...t,variants:void 0,...r});return e}function Ake(t){typeof t!="object"&&(t=O7(t));for(var e=0;e<g6.length;e++)g6[e]===t&&g6.splice(e,1);for(var r in ka)if(ka[r].length){let n=ka[r].indexOf(t);n>=0&&ka[r].splice(n,1),ka[r].length===0&&delete ka[r]}else ka[r]===t&&delete ka[r]}pm({name:"livenet",alias:"mainnet",is:hC,pubkeyhash:0,privatekey:128,scripthash:5,bech32prefix:"bc",xpubkey:76067358,xprivkey:76066276,networkMagic:4190024921,port:8333,dnsSeeds:["seed.bitcoin.sipa.be","dnsseed.bluematt.me","dnsseed.bitcoin.dashjr.org","seed.bitcoinstats.com","seed.bitnodes.io","bitseed.xf2.org"]});var dC=O7("livenet");pm({name:"testnet",alias:"testnet",is:hC,pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"tb",xpubkey:70617039,xprivkey:70615956,variants:[{name:"testnet3",networkMagic:185665799,port:18333,dnsSeeds:["testnet-seed.bitcoin.petertodd.org","testnet-seed.bluematt.me","testnet-seed.alexykot.me","testnet-seed.bitcoin.schildbach.de"]},{name:"signet",networkMagic:168021824,port:38332,dnsSeeds:["178.128.221.177","103.16.128.63","153.126.143.201","192.241.163.142"]}]});var lC=O7("testnet"),Tke=O7("testnet3"),Ike=O7("signet");pm({name:"regtest",alias:"dev",is:hC,pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"bcrt",xpubkey:70617039,xprivkey:70615956,networkMagic:4206867930,port:18444,dnsSeeds:[]});var Pke=O7("regtest");function Oke(){lC.regtestEnabled=!0}function Bke(){lC.regtestEnabled=!1}tne.exports={add:pm,remove:Ake,defaultNetwork:dC,livenet:dC,mainnet:dC,testnet:lC,testnet3:Tke,signet:Ike,regtest:Pke,get:O7,enableRegtest:Oke,disableRegtest:Bke}});var bo=j((Y7t,nne)=>{"use strict";B();M();var pC=ni(),rne=ff(),Yi=function t(e){if(!(this instanceof t))return new t(e);this.bufLen=0,e?this.set(e):this.bufs=[]};Yi.prototype.set=function(t){return this.bufs=t.bufs||this.bufs||[],this.bufLen=this.bufs.reduce(function(e,r){return e+r.length},0),this};Yi.prototype.toBuffer=function(){return this.concat()};Yi.prototype.concat=function(){return E.Buffer.concat(this.bufs,this.bufLen)};Yi.prototype.write=function(t){return rne(pC.isBuffer(t)),this.bufs.push(t),this.bufLen+=t.length,this};Yi.prototype.writeReverse=function(t){return rne(pC.isBuffer(t)),this.bufs.push(pC.reverse(t)),this.bufLen+=t.length,this};Yi.prototype.writeUInt8=function(t){t<0&&(t=t>>>0);var e=E.Buffer.alloc(1);return e.writeUInt8(t,0),this.write(e),this};Yi.prototype.writeUInt16BE=function(t){t<0&&(t=t>>>0);var e=E.Buffer.alloc(2);return e.writeUInt16BE(t,0),this.write(e),this};Yi.prototype.writeUInt16LE=function(t){t<0&&(t=t>>>0);var e=E.Buffer.alloc(2);return e.writeUInt16LE(t,0),this.write(e),this};Yi.prototype.writeUInt32BE=function(t){t<0&&(t=t>>>0);var e=E.Buffer.alloc(4);return e.writeUInt32BE(t,0),this.write(e),this};Yi.prototype.writeInt32LE=function(t){var e=E.Buffer.alloc(4);return e.writeInt32LE(t,0),this.write(e),this};Yi.prototype.writeUInt32LE=function(t){t<0&&(t=t>>>0);var e=E.Buffer.alloc(4);return e.writeUInt32LE(t,0),this.write(e),this};Yi.prototype.writeUInt64BEBN=function(t){var e=t.toBuffer({size:8});return this.write(e),this};Yi.prototype.writeUInt64LEBN=function(t){var e=t.toBuffer({size:8});return this.writeReverse(e),this};Yi.prototype.writeVarintNum=function(t){var e=Yi.varintBufNum(t);return this.write(e),this};Yi.prototype.writeVarintBN=function(t){var e=Yi.varintBufBN(t);return this.write(e),this};Yi.varintBufNum=function(t){var e=void 0;return t<253?(e=E.Buffer.alloc(1),e.writeUInt8(t,0)):t<65536?(e=E.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(t,1)):t<4294967296?(e=E.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(t,1)):(e=E.Buffer.alloc(1+8),e.writeUInt8(255,0),e.writeInt32LE(t&-1,1),e.writeUInt32LE(Math.floor(t/4294967296),5)),e};Yi.varintBufBN=function(t){var e=void 0,r=t.toNumber();if(r<253)e=E.Buffer.alloc(1),e.writeUInt8(r,0);else if(r<65536)e=E.Buffer.alloc(1+2),e.writeUInt8(253,0),e.writeUInt16LE(r,1);else if(r<4294967296)e=E.Buffer.alloc(1+4),e.writeUInt8(254,0),e.writeUInt32LE(r,1);else{var n=new Yi;n.writeUInt8(255),n.writeUInt64LEBN(t);var e=n.concat()}return e};nne.exports=Yi});var y6=j((J7t,bC)=>{B();M();typeof Object.create=="function"?bC.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:bC.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}});var vh=j((t5t,one)=>{B();M();var ine=Ss(),sne=bo(),Mke=y6();function yh(t,e,r="hex"){if(!(this instanceof yh))return new yh(t,e,r);sne.apply(this),t=E.Buffer.from(t);let n=ine.sha256(t);return this.write(n),this.write(n),e&&(e=E.Buffer.isBuffer(e)?e:E.Buffer.from(e,r),this.write(e)),this}Mke(yh,sne);yh.prototype.finalize=function(){return E.Buffer.from(ine.sha256(this.toBuffer()))};Object.defineProperties(yh,{TAPSIGHASH:{get:()=>new yh("TapSighash")},TAPLEAF:{get:()=>new yh("TapLeaf")},TAPBRANCH:{get:()=>new yh("TapBranch")}});one.exports=yh});var une=j((i5t,ane)=>{"use strict";B();M();var Vw=I5().Buffer;function kke(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),u=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function d(p){if((Array.isArray(p)||p instanceof Uint8Array)&&(p=Vw.from(p)),!Vw.isBuffer(p))throw new TypeError("Expected Buffer");if(p.length===0)return"";for(var y=0,w=0,P=0,C=p.length;P!==C&&p[P]===0;)P++,y++;for(var R=(C-P)*c+1>>>0,T=new Uint8Array(R);P!==C;){for(var k=p[P],H=0,F=R-1;(k!==0||H<w)&&F!==-1;F--,H++)k+=256*T[F]>>>0,T[F]=k%o>>>0,k=k/o>>>0;if(k!==0)throw new Error("Non-zero carry");w=H,P++}for(var L=R-w;L!==R&&T[L]===0;)L++;for(var D=a.repeat(y);L<R;++L)D+=t.charAt(T[L]);return D}function f(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return Vw.alloc(0);var y=0;if(p[y]!==" "){for(var w=0,P=0;p[y]===a;)w++,y++;for(var C=(p.length-y)*u+1>>>0,R=new Uint8Array(C);p[y];){var T=e[p.charCodeAt(y)];if(T===255)return;for(var k=0,H=C-1;(T!==0||k<P)&&H!==-1;H--,k++)T+=o*R[H]>>>0,R[H]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");P=k,y++}if(p[y]!==" "){for(var F=C-P;F!==C&&R[F]===0;)F++;var L=Vw.allocUnsafe(w+(C-F));L.fill(0,0,w);for(var D=w;F!==C;)L[D++]=R[F++];return L}}}function m(p){var y=f(p);if(y)return y;throw new Error("Non-base"+o+" character")}return{encode:d,decodeUnsafe:f,decode:m}}ane.exports=kke});var gC=j((a5t,cne)=>{B();M();var Cke=une(),Rke="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";cne.exports=Cke(Rke)});var bm=j((f5t,hne)=>{"use strict";B();M();var mC=Gr(),fne=gC(),dne=$i(),Nke="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),Uf=function t(e){if(!(this instanceof t))return new t(e);if(E.Buffer.isBuffer(e)){var r=e;this.fromBuffer(r)}else if(typeof e=="string"){var n=e;this.fromString(n)}else e&&this.set(e)};Uf.validCharacters=function(e){return dne.Buffer.isBuffer(e)&&(e=e.toString()),mC.every(mC.map(e,function(r){return mC.includes(Nke,r)}))};Uf.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this};Uf.encode=function(t){if(!dne.Buffer.isBuffer(t))throw new Error("Input should be a buffer");return fne.encode(t)};Uf.decode=function(t){if(typeof t!="string")throw new Error("Input should be a string");return E.Buffer.from(fne.decode(t))};Uf.prototype.fromBuffer=function(t){return this.buf=t,this};Uf.prototype.fromString=function(t){var e=Uf.decode(t);return this.buf=e,this};Uf.prototype.toBuffer=function(){return this.buf};Uf.prototype.toString=function(){return Uf.encode(this.buf)};hne.exports=Uf});var q9=j((p5t,bne)=>{"use strict";B();M();var lne=Gr(),Gw=bm(),l5t=$i(),pne=Ss().sha256sha256,_u=function t(e){if(!(this instanceof t))return new t(e);if(E.Buffer.isBuffer(e)){var r=e;this.fromBuffer(r)}else if(typeof e=="string"){var n=e;this.fromString(n)}else e&&this.set(e)};_u.prototype.set=function(t){return this.buf=t.buf||this.buf||void 0,this};_u.validChecksum=function(e,r){return lne.isString(e)&&(e=E.Buffer.from(Gw.decode(e))),lne.isString(r)&&(r=E.Buffer.from(Gw.decode(r))),r||(r=e.slice(-4),e=e.slice(0,-4)),_u.checksum(e).toString("hex")===r.toString("hex")};_u.decode=function(t){if(typeof t!="string")throw new Error("Input must be a string");var e=E.Buffer.from(Gw.decode(t));if(e.length<4)throw new Error("Input string too short");var r=e.slice(0,-4),n=e.slice(-4),i=pne(r),s=i.slice(0,4);if(n.toString("hex")!==s.toString("hex"))throw new Error("Checksum mismatch");return r};_u.checksum=function(t){return pne(t).slice(0,4)};_u.encode=function(t){if(!E.Buffer.isBuffer(t))throw new Error("Input must be a buffer");var e=E.Buffer.alloc(t.length+4),r=_u.checksum(t);return t.copy(e),r.copy(e,t.length),Gw.encode(e)};_u.prototype.fromBuffer=function(t){return this.buf=t,this};_u.prototype.fromString=function(t){var e=_u.decode(t);return this.buf=e,this};_u.prototype.toBuffer=function(){return this.buf};_u.prototype.toString=function(){return _u.encode(this.buf)};bne.exports=_u});var mne=j((m5t,gne)=>{"use strict";B();M();var j9=efe(),Fke=function(t){if(typeof t!="string")throw new Error("Input should be a string");var e;let r=j9.bech32.fromWords,n=v6.BECH32;try{e=j9.bech32.decode(t)}catch(s){if(s.message.indexOf("Invalid checksum")>-1)e=j9.bech32m.decode(t),n=v6.BECH32M,r=j9.bech32m.fromWords;else throw s}let i=e.words[0];if(i>=1&&n!==v6.BECH32M)throw new Error("Version 1+ witness address must use Bech32m checksum");return{prefix:e.prefix,data:E.Buffer.from(r(e.words.slice(1))),version:i}},Hke=function(t,e,r,n){if(typeof t!="string")throw new Error("Prefix should be a string");if(typeof e!="number")throw new Error("version should be a number");if(n&&typeof n=="string"&&(n=v6[n.toUpperCase()]||-1),n&&!(n==v6.BECH32||n==v6.BECH32M))throw new Error("Invalid encoding specified");let i=n==v6.BECH32M?j9.bech32m:j9.bech32,s=i.toWords(r);return s.unshift(e),i.encode(t,s)},v6={BECH32:1,BECH32M:2};gne.exports={decode:Fke,encode:Hke,encodings:v6}});var Ww=j((_5t,yne)=>{"use strict";B();M();var K9=Gr(),$9=Zr(),Dke=ni(),Lke=Vi();function Cr(t){if(!(this instanceof Cr))return new Cr(t);var e;if(K9.isNumber(t))e=t;else if(K9.isString(t))e=Cr.map[t];else throw new TypeError('Unrecognized num type: "'+typeof t+'" for Opcode');return Lke.defineImmutable(this,{num:e}),this}Cr.fromBuffer=function(t){return $9.checkArgument(Dke.isBuffer(t)),new Cr(Number("0x"+t.toString("hex")))};Cr.fromNumber=function(t){return $9.checkArgument(K9.isNumber(t)),new Cr(t)};Cr.fromString=function(t){$9.checkArgument(K9.isString(t));var e=Cr.map[t];if(typeof e>"u")throw new TypeError("Invalid opcodestr");return new Cr(e)};Cr.prototype.toHex=function(){return this.num.toString(16)};Cr.prototype.toBuffer=function(){return E.Buffer.from(this.toHex(),"hex")};Cr.prototype.toNumber=function(){return this.num};Cr.prototype.toString=function(){var t=Cr.reverseMap[this.num];if(typeof t>"u")throw new Error("Opcode does not have a string representation");return t};Cr.smallInt=function(t){return $9.checkArgument(K9.isNumber(t),"Invalid Argument: n should be number"),$9.checkArgument(t>=0&&t<=16,"Invalid Argument: n must be between 0 and 16"),t===0?Cr("OP_0"):new Cr(Cr.map.OP_1+t-1)};Cr.decodeOpN=function(t){return t===Cr.OP_0?0:($9.checkArgument(t>=Cr.OP_1&&t<=Cr.OP_16,new Error("Invalid opcode: "+JSON.stringify(t))),t-(Cr.OP_1-1))};Cr.isOpSuccess=function(t){return typeof t=="string"&&!parseInt(t)&&(t=Cr[t]),t==80||t==98||t>=127&&t<=129||t>=131&&t<=134||t>=137&&t<=138||t>=141&&t<=142||t>=149&&t<=153||t>=187&&t<=254};Cr.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};Cr.reverseMap=[];for(yC in Cr.map)Cr.reverseMap[Cr.map[yC]]=yC;var yC;K9.extend(Cr,Cr.map);Cr.isSmallIntOp=function(t){return t instanceof Cr&&(t=t.toNumber()),t===Cr.map.OP_0||t>=Cr.map.OP_1&&t<=Cr.map.OP_16};Cr.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"};yne.exports=Cr});var SC=j((x5t,Sne)=>{"use strict";B();M();var Hs=jf(),Uke=Cf(),qke=bo(),Yw=Ss(),Ye=Ww(),qf=Kf(),B7=la(),vne=m6(),Vn=Zr(),vC=Gr(),_C=Lu(),Ho=ni(),jke=Vi(),_ne=vh(),Pe=function t(e){if(!(this instanceof t))return new t(e);if(this.chunks=[],Ho.isBuffer(e))return t.fromBuffer(e);if(e instanceof Hs)return t.fromAddress(e);if(e instanceof t)return t.fromBuffer(e.toBuffer());if(typeof e=="string")return t.fromString(e);vC.isObject(e)&&Array.isArray(e.chunks)&&this.set(e)};Pe.prototype.set=function(t){return Vn.checkArgument(vC.isObject(t)),Vn.checkArgument(Array.isArray(t.chunks)),this.chunks=t.chunks,this};Pe.fromBuffer=function(t){var e=new Pe;e.chunks=[];for(var r=new Uke(t);!r.finished();)try{var n=r.readUInt8(),i,s;n>0&&n<Ye.OP_PUSHDATA1?(i=n,e.chunks.push({buf:r.read(i),len:i,opcodenum:n})):n===Ye.OP_PUSHDATA1?(i=r.readUInt8(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):n===Ye.OP_PUSHDATA2?(i=r.readUInt16LE(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):n===Ye.OP_PUSHDATA4?(i=r.readUInt32LE(),s=r.read(i),e.chunks.push({buf:s,len:i,opcodenum:n})):Ye.isOpSuccess(n)?(s=r.readAll(),i=s.length,e.chunks.push({buf:s,len:i,opcodenum:n})):e.chunks.push({opcodenum:n})}catch(o){throw o instanceof RangeError?new _C.Script.InvalidBuffer(t.toString("hex")):o}return e};Pe.prototype.toBuffer=function(){for(var t=new qke,e=0;e<this.chunks.length;e++){var r=this.chunks[e],n=r.opcodenum;t.writeUInt8(r.opcodenum),r.buf&&(n<Ye.OP_PUSHDATA1?t.write(r.buf):n===Ye.OP_PUSHDATA1?(t.writeUInt8(r.len),t.write(r.buf)):n===Ye.OP_PUSHDATA2?(t.writeUInt16LE(r.len),t.write(r.buf)):(n===Ye.OP_PUSHDATA4&&t.writeUInt32LE(r.len),t.write(r.buf)))}return t.concat()};Pe.fromASM=function(t){var e=new Pe;e.chunks=[];for(var r=t.split(" "),n=0;n<r.length;){var i=r[n],s=Ye(i),o=s.toNumber();if(o==null){var a=E.Buffer.from(r[n],"hex");e.chunks.push({buf:a,len:a.length,opcodenum:a.length}),n=n+1}else o===Ye.OP_PUSHDATA1||o===Ye.OP_PUSHDATA2||o===Ye.OP_PUSHDATA4?(e.chunks.push({buf:E.Buffer.from(r[n+2],"hex"),len:parseInt(r[n+1]),opcodenum:o}),n=n+3):(e.chunks.push({opcodenum:o}),n=n+1)}return e};Pe.fromHex=function(t){return new Pe(E.Buffer.from(t,"hex"))};Pe.fromString=function(t){if(jke.isHexa(t)||t.length===0)return new Pe(E.Buffer.from(t,"hex"));var e=new Pe;e.chunks=[];for(var r=t.split(" "),n=0;n<r.length;){var i=r[n],s=Ye(i),o=s.toNumber();if(o==null)if(o=parseInt(i),o>0&&o<Ye.OP_PUSHDATA1)e.chunks.push({buf:E.Buffer.from(r[n+1].slice(2),"hex"),len:o,opcodenum:o}),n=n+2;else throw new Error("Invalid script: "+JSON.stringify(t));else if(o===Ye.OP_PUSHDATA1||o===Ye.OP_PUSHDATA2||o===Ye.OP_PUSHDATA4){if(r[n+2].slice(0,2)!=="0x")throw new Error("Pushdata data must start with 0x");e.chunks.push({buf:E.Buffer.from(r[n+2].slice(2),"hex"),len:parseInt(r[n+1]),opcodenum:o}),n=n+3}else e.chunks.push({opcodenum:o}),n=n+1}return e};Pe.prototype._chunkToString=function(t,e){var r=t.opcodenum,n=e==="asm",i="";if(t.buf)(!n&&r===Ye.OP_PUSHDATA1||r===Ye.OP_PUSHDATA2||r===Ye.OP_PUSHDATA4)&&(i=i+" "+Ye(r).toString()),t.len>0&&(n?i=i+" "+t.buf.toString("hex"):i=i+" "+t.len+" 0x"+t.buf.toString("hex"));else if(typeof Ye.reverseMap[r]<"u")n?r===0?i=i+" 0":r===79?i=i+" -1":i=i+" "+Ye(r).toString():i=i+" "+Ye(r).toString();else{var s=r.toString(16);s.length%2!==0&&(s="0"+s),n?i=i+" "+s:i=i+" 0x"+s}return i};Pe.prototype.toASM=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r,"asm")}return t.substr(1)};Pe.prototype.toString=function(){for(var t="",e=0;e<this.chunks.length;e++){var r=this.chunks[e];t+=this._chunkToString(r)}return t.substr(1)};Pe.prototype.toHex=function(){return this.toBuffer().toString("hex")};Pe.prototype.inspect=function(){return"<Script: "+this.toString()+">"};Pe.prototype.isPublicKeyHashOut=function(){return!!(this.chunks.length===5&&this.chunks[0].opcodenum===Ye.OP_DUP&&this.chunks[1].opcodenum===Ye.OP_HASH160&&this.chunks[2].buf&&this.chunks[2].buf.length===20&&this.chunks[3].opcodenum===Ye.OP_EQUALVERIFY&&this.chunks[4].opcodenum===Ye.OP_CHECKSIG)};Pe.prototype.isPublicKeyHashIn=function(){if(this.chunks.length===2){var t=this.chunks[0].buf,e=this.chunks[1].buf;if(t&&t.length&&t[0]===48&&e&&e.length){var r=e[0];if((r===4||r===6||r===7)&&e.length===65)return!0;if((r===3||r===2)&&e.length===33)return!0}}return!1};Pe.prototype.getPublicKey=function(){return Vn.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf};Pe.prototype.getPublicKeyHash=function(){if(this.isPublicKeyHashOut())return this.chunks[2].buf;if(this.isWitnessPublicKeyHashOut())return this.chunks[1].buf;if(this.isTaproot())return this.chunks[1].buf;throw new Error("Can't retrieve PublicKeyHash from a non-PKH output")};Pe.prototype.isPublicKeyOut=function(){if(this.chunks.length===2&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===Ye.OP_CHECKSIG){var t=this.chunks[0].buf,e=t[0],r=!1;if(((e===4||e===6||e===7)&&t.length===65||(e===3||e===2)&&t.length===33)&&(r=!0),r)return qf.isValid(t)}return!1};Pe.prototype.isPublicKeyIn=function(){if(this.chunks.length===1){var t=this.chunks[0].buf;if(t&&t.length&&t[0]===48)return!0}return!1};Pe.prototype.isScriptHashOut=function(){var t=this.toBuffer();return t.length===23&&t[0]===Ye.OP_HASH160&&t[1]===20&&t[t.length-1]===Ye.OP_EQUAL};Pe.prototype.isWitnessScriptHashOut=function(){var t=this.toBuffer();return t.length===34&&t[0]===Ye.OP_0&&t[1]===32};Pe.prototype.isWitnessPublicKeyHashOut=function(){var t=this.toBuffer();return t.length===22&&t[0]===Ye.OP_0&&t[1]===20};Pe.prototype.isTaproot=function(){var t=this.toBuffer();return t.length===34&&t[0]===Ye.OP_1&&t[1]===32};Pe.prototype.isWitnessProgram=function(t){t||(t={});var e=this.toBuffer();return e.length<4||e.length>42||e[0]!==Ye.OP_0&&!(e[0]>=Ye.OP_1&&e[0]<=Ye.OP_16)?!1:e.length===e[1]+2?(t.version=Ye.decodeOpN(e[0]),t.program=e.slice(2,e.length),!0):!1};Pe.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var t=this.chunks[this.chunks.length-1],e=t.buf;if(!e)return!1;var r;try{r=Pe.fromBuffer(e)}catch(i){if(i instanceof _C.Script.InvalidBuffer)return!1;throw i}var n=r.classify();return n!==Pe.types.UNKNOWN};Pe.prototype.isMultisigOut=function(){return this.chunks.length>3&&Ye.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(t){return t.buf&&Ho.isBuffer(t.buf)})&&Ye.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===Ye.OP_CHECKMULTISIG};Pe.prototype.isMultisigIn=function(){return this.chunks.length>=2&&this.chunks[0].opcodenum===0&&this.chunks.slice(1,this.chunks.length).every(function(t){return t.buf&&Ho.isBuffer(t.buf)&&B7.isTxDER(t.buf)})};Pe.prototype.isDataOut=function(){return this.chunks.length>=1&&this.chunks[0].opcodenum===Ye.OP_RETURN&&(this.chunks.length===1||this.chunks.length===2&&this.chunks[1].buf&&this.chunks[1].buf.length<=Pe.OP_RETURN_STANDARD_SIZE&&this.chunks[1].length===this.chunks.len)};Pe.prototype.getData=function(){if(this.isDataOut()||this.isScriptHashOut()||this.isWitnessScriptHashOut()||this.isWitnessPublicKeyHashOut()||this.isTaproot())return this.chunks[1]==null?E.Buffer.alloc(0):E.Buffer.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return E.Buffer.from(this.chunks[2].buf);throw new Error("Unrecognized script type to get data from")};Pe.prototype.isPushOnly=function(){return this.chunks.every(function(t){return t.opcodenum<=Ye.OP_16})};Pe.types={};Pe.types.UNKNOWN="Unknown";Pe.types.PUBKEY_OUT="Pay to public key";Pe.types.PUBKEY_IN="Spend from public key";Pe.types.PUBKEYHASH_OUT="Pay to public key hash";Pe.types.PUBKEYHASH_IN="Spend from public key hash";Pe.types.SCRIPTHASH_OUT="Pay to script hash";Pe.types.SCRIPTHASH_IN="Spend from script hash";Pe.types.MULTISIG_OUT="Pay to multisig";Pe.types.MULTISIG_IN="Spend from multisig";Pe.types.DATA_OUT="Data push";Pe.OP_RETURN_STANDARD_SIZE=80;Pe.ANNEX_TAG=80;Pe.VALIDATION_WEIGHT_PER_SIGOP_PASSED=50;Pe.VALIDATION_WEIGHT_OFFSET=50;Pe.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var t=this.classifyOutput();return t!=Pe.types.UNKNOWN?t:this.classifyInput()};Pe.outputIdentifiers={};Pe.outputIdentifiers.PUBKEY_OUT=Pe.prototype.isPublicKeyOut;Pe.outputIdentifiers.PUBKEYHASH_OUT=Pe.prototype.isPublicKeyHashOut;Pe.outputIdentifiers.MULTISIG_OUT=Pe.prototype.isMultisigOut;Pe.outputIdentifiers.SCRIPTHASH_OUT=Pe.prototype.isScriptHashOut;Pe.outputIdentifiers.DATA_OUT=Pe.prototype.isDataOut;Pe.prototype.classifyOutput=function(){for(var t in Pe.outputIdentifiers)if(Pe.outputIdentifiers[t].bind(this)())return Pe.types[t];return Pe.types.UNKNOWN};Pe.inputIdentifiers={};Pe.inputIdentifiers.PUBKEY_IN=Pe.prototype.isPublicKeyIn;Pe.inputIdentifiers.PUBKEYHASH_IN=Pe.prototype.isPublicKeyHashIn;Pe.inputIdentifiers.MULTISIG_IN=Pe.prototype.isMultisigIn;Pe.inputIdentifiers.SCRIPTHASH_IN=Pe.prototype.isScriptHashIn;Pe.prototype.classifyInput=function(){for(var t in Pe.inputIdentifiers)if(Pe.inputIdentifiers[t].bind(this)())return Pe.types[t];return Pe.types.UNKNOWN};Pe.prototype.isStandard=function(){return this.classify()!==Pe.types.UNKNOWN};Pe.prototype.prepend=function(t){return this._addByType(t,!0),this};Pe.prototype.equals=function(t){if(Vn.checkState(t instanceof Pe,"Must provide another script"),this.chunks.length!==t.chunks.length)return!1;var e;for(e=0;e<this.chunks.length;e++){if(Ho.isBuffer(this.chunks[e].buf)&&!Ho.isBuffer(t.chunks[e].buf)||Ho.isBuffer(this.chunks[e].buf)&&!Ho.equals(this.chunks[e].buf,t.chunks[e].buf))return!1;if(this.chunks[e].opcodenum!==t.chunks[e].opcodenum)return!1}return!0};Pe.prototype.add=function(t){return this._addByType(t,!1),this};Pe.prototype._addByType=function(t,e){if(typeof t=="string")this._addOpcode(t,e);else if(typeof t=="number")this._addOpcode(t,e);else if(t instanceof Ye)this._addOpcode(t,e);else if(Ho.isBuffer(t))this._addBuffer(t,e);else if(t instanceof Pe)this.chunks=this.chunks.concat(t.chunks);else if(typeof t=="object")this._insertAtPosition(t,e);else throw new Error("Invalid script chunk")};Pe.prototype._insertAtPosition=function(t,e){e?this.chunks.unshift(t):this.chunks.push(t)};Pe.prototype._addOpcode=function(t,e){var r;return typeof t=="number"?r=t:t instanceof Ye?r=t.toNumber():r=Ye(t).toNumber(),this._insertAtPosition({opcodenum:r},e),this};Pe.prototype._addBuffer=function(t,e){var r,n=t.length;if(n>=0&&n<Ye.OP_PUSHDATA1)r=n;else if(n<Math.pow(2,8))r=Ye.OP_PUSHDATA1;else if(n<Math.pow(2,16))r=Ye.OP_PUSHDATA2;else if(n<Math.pow(2,32))r=Ye.OP_PUSHDATA4;else throw new Error("You can't push that much data");return this._insertAtPosition({buf:t,len:n,opcodenum:r},e),this};Pe.prototype.hasCodeseparators=function(){for(var t=0;t<this.chunks.length;t++)if(this.chunks[t].opcodenum===Ye.OP_CODESEPARATOR)return!0;return!1};Pe.prototype.removeCodeseparators=function(){for(var t=[],e=0;e<this.chunks.length;e++)this.chunks[e].opcodenum!==Ye.OP_CODESEPARATOR&&t.push(this.chunks[e]);return this.chunks=t,this};Pe.buildMultisigOut=function(t,e,r){Vn.checkArgument(e<=t.length,"Number of required signatures must be less than or equal to the number of public keys"),r=r||{};var n=new Pe;n.add(Ye.smallInt(e)),t=t.map(qf);var i=t;r.noSorting||(i=vC.sortBy(t,function(a){return a.toString("hex")}));for(var s=0;s<i.length;s++){var o=i[s];n.add(o.toBuffer())}return n.add(Ye.smallInt(t.length)),n.add(Ye.OP_CHECKMULTISIG),n};Pe.buildWitnessMultisigOutFromScript=function(t){if(t instanceof Pe){var e=new Pe;return e.add(Ye.OP_0),e.add(Yw.sha256(t.toBuffer())),e}else throw new TypeError("First argument is expected to be a p2sh script")};Pe.buildMultisigIn=function(t,e,r,n){Vn.checkArgument(Array.isArray(t)),Vn.checkArgument(!isNaN(e)),Vn.checkArgument(Array.isArray(r)),n=n||{};var i=new Pe;i.add(Ye.OP_0);for(let s of r)Vn.checkArgument(Ho.isBuffer(s),"Signatures must be an array of Buffers"),i.add(s);return i};Pe.buildP2SHMultisigIn=function(t,e,r,n){Vn.checkArgument(Array.isArray(t)),Vn.checkArgument(!isNaN(e)),Vn.checkArgument(Array.isArray(r)),n=n||{};var i=new Pe;i.add(Ye.OP_0);for(let s of r)Vn.checkArgument(Ho.isBuffer(s),"Signatures must be an array of Buffers"),i.add(s);return i.add((n.cachedMultisig||Pe.buildMultisigOut(t,e,n)).toBuffer()),i};Pe.buildPublicKeyHashOut=function(t){Vn.checkArgument(t!=null),Vn.checkArgument(t instanceof qf||t instanceof Hs||typeof t=="string"),t instanceof qf?t=t.toAddress():typeof t=="string"&&(t=new Hs(t));var e=new Pe;return e.add(Ye.OP_DUP).add(Ye.OP_HASH160).add(t.hashBuffer).add(Ye.OP_EQUALVERIFY).add(Ye.OP_CHECKSIG),e._network=t.network,e};Pe.buildWitnessV0Out=function(t){Vn.checkArgument(t!=null),Vn.checkArgument(t instanceof qf||t instanceof Hs||typeof t=="string"),t instanceof qf?t=t.toAddress(null,Hs.PayToWitnessPublicKeyHash):typeof t=="string"&&(t=new Hs(t));var e=new Pe;return e.add(Ye.OP_0).add(t.hashBuffer),e._network=t.network,e};Pe.buildWitnessV1Out=function(t,e){if(Vn.checkArgument(t instanceof qf||t instanceof Hs||typeof t=="string"),Vn.checkArgument(!e||Array.isArray(e)||!!e.script),typeof t=="string")try{t=qf.fromTaproot(t)}catch{t=Hs.fromString(t)}function r(o){if(Array.isArray(o)){let[a,u]=r(o[0]),[c,d]=r(o[1]),f=[[[a[0],a[1]],d],[[c[0],c[1]],u]],m=_ne.TAPBRANCH;return u.compare(d)===1?(m.write(d),m.write(u)):(m.write(u),m.write(d)),[f,m.finalize()]}else{let{leafVersion:a,script:u}=o,c=new Pe(u).toBuffer(),d=_ne.TAPLEAF;d.writeUInt8(a),d.writeUInt8(c.length),d.write(c);let f=d.finalize();return[[E.Buffer.from([a]),c],f]}}let n=null;if(e){let[o,a]=r(e);n=a}let i;t instanceof qf?i=t.createTapTweak(n).tweakedPubKey:i=t.hashBuffer;let s=new Pe;return s.add(Ye.OP_1),s.add(i),s};Pe.buildPublicKeyOut=function(t){Vn.checkArgument(t instanceof qf);var e=new Pe;return e.add(t.toBuffer()).add(Ye.OP_CHECKSIG),e};Pe.buildDataOut=function(t,e){Vn.checkArgument(t==null||typeof t=="string"||Ho.isBuffer(t)),typeof t=="string"&&(t=E.Buffer.from(t,e));var r=new Pe;return r.add(Ye.OP_RETURN),t!=null&&r.add(t),r};Pe.buildScriptHashOut=function(t){Vn.checkArgument(t instanceof Pe||t instanceof Hs&&t.isPayToScriptHash());var e=new Pe;return e.add(Ye.OP_HASH160).add(t instanceof Hs?t.hashBuffer:Yw.sha256ripemd160(t.toBuffer())).add(Ye.OP_EQUAL),e._network=t._network||t.network,e};Pe.buildPublicKeyIn=function(t,e){Vn.checkArgument(t instanceof B7||Ho.isBuffer(t)),Vn.checkArgument(e==null||!isNaN(e)),t instanceof B7&&(t=t.toBuffer());var r=new Pe;return r.add(Ho.concat([t,Ho.integerAsSingleByteBuffer(e||B7.SIGHASH_ALL)])),r};Pe.buildPublicKeyHashIn=function(t,e,r){Vn.checkArgument(e instanceof B7||Ho.isBuffer(e)),Vn.checkArgument(r==null||!isNaN(r)),e instanceof B7&&(e=e.toBuffer());var n=new Pe().add(Ho.concat([e,Ho.integerAsSingleByteBuffer(r||B7.SIGHASH_ALL)])).add(new qf(t).toBuffer());return n};Pe.empty=function(){return new Pe};Pe.prototype.toScriptHashOut=function(){return Pe.buildScriptHashOut(this)};Pe.fromAddress=function(t){if(t=Hs(t),t.isPayToScriptHash())return Pe.buildScriptHashOut(t);if(t.isPayToPublicKeyHash())return Pe.buildPublicKeyHashOut(t);if(t.isPayToWitnessPublicKeyHash())return Pe.buildWitnessV0Out(t);if(t.isPayToWitnessScriptHash())return Pe.buildWitnessV0Out(t);if(t.isPayToTaproot())return Pe.buildWitnessV1Out(t);throw new _C.Script.UnrecognizedAddress(t)};Pe.prototype.getAddressInfo=function(t){if(this._isInput)return this._getInputAddressInfo();if(this._isOutput)return this._getOutputAddressInfo();var e=this._getOutputAddressInfo();return e||this._getInputAddressInfo()};Pe.prototype._getOutputAddressInfo=function(){var t={};if(this.isScriptHashOut())t.hashBuffer=this.getData(),t.type=Hs.PayToScriptHash;else if(this.isPublicKeyHashOut())t.hashBuffer=this.getData(),t.type=Hs.PayToPublicKeyHash;else if(this.isWitnessScriptHashOut())t.hashBuffer=this.getData(),t.type=Hs.PayToWitnessScriptHash;else if(this.isWitnessPublicKeyHashOut())t.hashBuffer=this.getData(),t.type=Hs.PayToWitnessPublicKeyHash;else if(this.isTaproot())t.hashBuffer=this.getData(),t.type=Hs.PayToTaproot;else return!1;return t};Pe.prototype._getInputAddressInfo=function(){var t={};if(this.isPublicKeyHashIn())t.hashBuffer=Yw.sha256ripemd160(this.chunks[1].buf),t.type=Hs.PayToPublicKeyHash;else if(this.isScriptHashIn())t.hashBuffer=Yw.sha256ripemd160(this.chunks[this.chunks.length-1].buf),t.type=Hs.PayToScriptHash;else return!1;return t};Pe.prototype.toAddress=function(t){var e=this.getAddressInfo();return e?(e.network=vne.get(t)||this._network||vne.defaultNetwork,new Hs(e)):!1};Pe.prototype.findAndDelete=function(t){for(var e=t.toBuffer(),r=e.toString("hex"),n=0;n<this.chunks.length;n++){var i=Pe({chunks:[this.chunks[n]]}),s=i.toBuffer(),o=s.toString("hex");r===o&&this.chunks.splice(n,1)}return this};Pe.prototype.checkMinimalPush=function(t){var e=this.chunks[t],r=e.buf,n=e.opcodenum;return r?r.length===0?n===Ye.OP_0:r.length===1&&r[0]>=1&&r[0]<=16?n===Ye.OP_1+(r[0]-1):r.length===1&&r[0]===129?n===Ye.OP_1NEGATE:r.length<=75?n===r.length:r.length<=255?n===Ye.OP_PUSHDATA1:r.length<=65535?n===Ye.OP_PUSHDATA2:!0:!0};Pe.prototype.getSignatureOperationsCount=function(t){t=t??!0;var e=0,r=Ye.OP_INVALIDOPCODE;for(let i of this.chunks){var n=i.opcodenum;n==Ye.OP_CHECKSIG||n==Ye.OP_CHECKSIGVERIFY?e++:(n==Ye.OP_CHECKMULTISIG||n==Ye.OP_CHECKMULTISIGVERIFY)&&(t&&r>=Ye.OP_1&&r<=Ye.OP_16?e+=Ye.decodeOpN(r):e+=20),r=n}return e};Sne.exports=Pe});var z9=j((I5t,Tne)=>{"use strict";B();M();var M7=la(),T5t=Su(),wne=Cf(),xne=bo(),gm=Ss(),Ane=mm(),Ene=Zr(),wC=Gr(),xC=function(e,r,n,i,s){var o=E.Buffer.alloc(32),a=E.Buffer.alloc(32),u=E.Buffer.alloc(32);if(!(r&M7.SIGHASH_ANYONECANPAY)){for(var c=[],d=0;d<e.inputs.length;d++){var f=e.inputs[d],m=new wne(f.prevTxId).readReverse();c.push(m);var p=E.Buffer.alloc(4);p.writeUInt32LE(f.outputIndex,0),c.push(p)}o=gm.sha256sha256(E.Buffer.concat(c))}if(!(r&M7.SIGHASH_ANYONECANPAY)&&(r&31)!==M7.SIGHASH_SINGLE&&(r&31)!==M7.SIGHASH_NONE){for(var y=[],w=0;w<e.inputs.length;w++){var P=E.Buffer.alloc(4);P.writeUInt32LE(e.inputs[w].sequenceNumber,0),y.push(P)}a=gm.sha256sha256(E.Buffer.concat(y))}var C=new xne;if((r&31)!==M7.SIGHASH_SINGLE&&(r&31)!==M7.SIGHASH_NONE){for(var R=0;R<e.outputs.length;R++)e.outputs[R].toBufferWriter(C);u=gm.sha256sha256(C.toBuffer())}else(r&31)===M7.SIGHASH_SINGLE&&n<e.outputs.length&&(e.outputs[n].toBufferWriter(C),u=gm.sha256sha256(C.toBuffer()));var T=new xne;T.writeUInt32LE(e.version),T.write(o),T.write(a);var k=new wne(e.inputs[n].prevTxId).readReverse();return T.write(k),T.writeUInt32LE(e.inputs[n].outputIndex),T.write(i),T.write(s),T.writeUInt32LE(e.inputs[n].sequenceNumber),T.write(u),T.writeUInt32LE(e.nLockTime),T.writeInt32LE(r),gm.sha256sha256(T.toBuffer())};function Kke(t,e,r,n,i,s){let o=xC(t,r,n,i,s);return Ane.sign(o,e).set({nhashtype:r})}function $ke(t,e,r,n,i,s){Ene.checkArgument(!wC.isUndefined(t),"Transaction Undefined"),Ene.checkArgument(!wC.isUndefined(e)&&!wC.isUndefined(e.nhashtype),"Signature Undefined");let o=xC(t,e.nhashtype,n,i,s);return Ane.verify(o,e,r)}Tne.exports={sighash:xC,sign:Kke,verify:$ke}});var EC=j((B5t,Ine)=>{B();M();var zke=Cd(),_h=Zr(),Zw=Vi(),k7=uo(),C7=p6(),Xw=vh(),ym=function t(){return this instanceof t?this:new t};ym.prototype.set=function(){};ym.sign=function(t,e,r){if(t=E.Buffer.isBuffer(t)?t:t.toBuffer(),t.length!==32)throw new Error("Private key should be 32 bytes for schnorr signatures");typeof e=="string"&&(_h.checkArgument(Zw.isHexaString(e),"Schnorr message string is not hex"),e=E.Buffer.from(e,"hex")),_h.checkArgument(_h.isType(e,"Buffer"),"Schnorr message must be a hex string or buffer"),r||(r=zke.randomBytes(32)),typeof r=="string"&&(_h.checkArgument(Zw.isHexaString(r),"Schnorr aux string is not hex"),r=E.Buffer.from(r,"hex")),_h.checkArgument(_h.isType(r,"Buffer"),"Schnorr aux must be a hex string or buffer");let n=C7.getG(),i=C7.getN(),s=new k7(t);if(s.eqn(0)||s.gte(i))throw new Error("Invalid private key for schnorr signing");let o=n.mul(s),a=E.Buffer.from(o.encodeCompressed().slice(1)),u=o.y.isEven()?s:i.sub(s),c=u.xor(new k7(new Xw("BIP0340/aux",r).finalize())),d=new Xw("BIP0340/nonce",E.Buffer.concat([c.toBuffer(),a,e])).finalize(),f=new k7(d).mod(i);if(f.eqn(0))throw new Error("Error creating schnorr signature");let m=n.mul(f),p=E.Buffer.from(m.encodeCompressed().slice(1)),y=m.y.isEven()?f:i.sub(f),w=new k7(new Xw("BIP0340/challenge",E.Buffer.concat([p,a,e])).finalize()).mod(i),P=E.Buffer.concat([p,y.add(w.mul(u)).mod(i).toBuffer({size:32})]);if(!ym.verify(a,e,P))throw new Error("Error creating schnorr signature. Verification failed");return P};ym.verify=function(t,e,r){if(_h.isType(t,"PublicKey")&&(t=t.point.x.toBuffer()),t.length!==32)throw new Error("Public key should be 32 bytes for schnorr signatures");if(typeof e=="string"&&(_h.checkArgument(Zw.isHexaString(e),"Schnorr message string is not hex"),e=E.Buffer.from(e,"hex")),e.length!==32)throw new Error("Message should be a 32 byte buffer");if(typeof r=="string"&&(_h.checkArgument(Zw.isHexaString(r),"Schnorr signature string is not hex"),r=E.Buffer.from(r,"hex")),typeof r.toBuffer=="function"&&(r=r.toBuffer(),r.length===65&&(r=r.slice(0,64))),r.length!==64)throw new Error("Signature should be a 64 byte buffer. Got "+r.length+" bytes");try{let n=C7.getP(),i=C7.getN(),s=C7.fromX(!1,t).liftX(),o=new k7(r.slice(0,32)),a=new k7(r.slice(32,64));if(o.gte(n)||a.gte(i))return!1;let u=Vke(o,s,e),d=C7.getG().mul(a).add(s.mul(u).neg());return!(d.inf||!d.y.isEven()||!d.x.eq(o))}catch{return!1}};var Vke=function(t,e,r){let n=C7.getN(),i=new Xw("BIP0340/challenge",E.Buffer.concat([t.toBuffer({size:32}),e.x.toBuffer({size:32}),r])).finalize();return new k7(i).mod(n)};Ine.exports=ym});var vm=j((R5t,Mne)=>{"use strict";B();M();var Ca=la(),R7=bo(),V9=Ss(),Pne=EC(),N7=Zr(),Gke=vh(),C5t=_6();function One(t,e,r,n,i){let s,o;switch(n){case Ca.Version.TAPROOT:s=0;break;case Ca.Version.TAPSCRIPT:s=1,o=0;break;default:return!1}N7.checkArgument(r<t.inputs.length,"inputNumber is greater than number of inputs");let a=Gke.TAPSIGHASH;a.writeUInt8(0);let u=e==Ca.SIGHASH_DEFAULT?Ca.SIGHASH_ALL:e&Ca.SIGHASH_OUTPUT_MASK,c=e&Ca.SIGHASH_INPUT_MASK;if(!(e<=3||e>=129&&e<=131))return!1;if(a.writeUInt8(e),a.writeInt32LE(t.version),a.writeUInt32LE(t.nLockTime),c!==Ca.SIGHASH_ANYONECANPAY){let f=new R7,m=new R7,p=new R7,y=new R7;for(let T of t.inputs){f.writeReverse(T.prevTxId),f.writeInt32LE(T.outputIndex),m.writeUInt64LEBN(T.output._satoshisBN);let k=T.output.script.toBuffer();p.writeUInt8(k.length),p.write(k),y.writeUInt32LE(T.sequenceNumber)}let w=V9.sha256(f.toBuffer());a.write(w);let P=V9.sha256(m.toBuffer());a.write(P);let C=V9.sha256(p.toBuffer());a.write(C);let R=V9.sha256(y.toBuffer());a.write(R)}if(u===Ca.SIGHASH_ALL){let f=new R7;for(let p of t.outputs)f.write(p.toBufferWriter().toBuffer());let m=V9.sha256(f.toBuffer());a.write(m)}N7.checkArgument(i.annexInit,"missing or invalid annexInit");let d=(s<<1)+(i.annexPresent?1:0);if(a.writeUInt8(d),c===Ca.SIGHASH_ANYONECANPAY){let f=new R7;f.writeReverse(t.inputs[r].prevTxId),f.writeInt32LE(t.inputs[r].outputIndex),a.write(f.toBuffer()),a.write(t.inputs[r].output.toBufferWriter().toBuffer()),a.writeUInt32LE(t.inputs[r].sequenceNumber)}else a.writeUInt32LE(r);if(i.annexPresent&&a.write(i.annexHash),u===Ca.SIGHASH_SINGLE){if(r>=t.outputs.length)return!1;let f=new R7;f.writeUInt64LEBN(t.outputs[r]._satoshisBN);let m=t.outputs[r].script.toBuffer();f.writeVarintNum(m.length),f.write(m),a.write(V9.sha256(f.toBuffer()))}return n==Ca.Version.TAPSCRIPT&&(N7.checkArgument(i.tapleafHashInit,"missing or invalid tapleafHashInit"),a.write(i.tapleafHash),a.writeUInt8(o),N7.checkArgument(i.codeseparatorPosInit,"missing or invalid codeseparatorPosInit"),a.writeUInt32LE(i.codeseparatorPos)),a}function AC(t,e,r,n,i){return One(t,e,r,n,i).finalize()}function Wke(t,e,r,n,i){return One(t,e,r,n,i).toBuffer()}function Bne(t,e){let r={annexInit:!0,annexPresent:!1};if(t===Ca.Version.TAPSCRIPT){if(r.codeseparatorPosInit=!0,r.codeseparatorPos=4294967295,!e)return!1;r.tapleafHashInit=!0,r.tapleafHash=e}return r}function Yke(t,e,r,n,i,s){N7.checkArgument(i===Ca.Version.TAPROOT||i===Ca.Version.TAPSCRIPT,"Invalid sigversion");let o=Bne(i,s),a=AC(t,r,n,i,o);if(!a)return!1;let u=Pne.sign(e,a);return r!==Ca.SIGHASH_DEFAULT?E.Buffer.concat([u,E.Buffer.from([r])]):u}function Xke(t,e,r,n,i,s){N7.checkArgument(t!=null,"Transaction Undefined"),(!s||E.Buffer.isBuffer(s))&&(s=Bne(n,s)),N7.checkArgument(s.annexInit,"invalid execdata");let o=AC(t,e.nhashtype,i,n,s);return o?Pne.verify(r,o,e):!1}Mne.exports={sighash:AC,sighashPreimage:Wke,sign:Yke,verify:Xke}});var Cne=j((H5t,kne)=>{B();M();kne.exports=function(t,e){if(typeof t.compare=="function")return t.compare(e);if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s&&t[i]===e[i];)++i;return i!==s&&(r=t[i],n=e[i]),r<n?-1:n<r?1:0}});var ld=j((U5t,Hne)=>{"use strict";B();M();var Jw=Gr(),TC=uo(),Rne=ni(),IC=Vi(),Nne=bo(),PC=Su(),G9=Zr(),Zke=Lu(),Fne=BC(),OC=vh(),Jke=9007199254740991;function Xi(t){if(!(this instanceof Xi))return new Xi(t);if(Jw.isObject(t)){if(this.satoshis=t.satoshis,Rne.isBuffer(t.script))this.setScriptFromBuffer(t.script);else{var e;Jw.isString(t.script)&&IC.isHexa(t.script)?e=E.Buffer.from(t.script,"hex"):e=t.script,this.setScript(e)}t.type==="taproot"&&(this.branch=[],Object.defineProperty(this,"isValid",{configurable:!1,enumerable:!1,get:function(){this._isValid||this._branch.length},set:function(r){this._isValid=r}}),Object.defineProperty(this,"isComplete",{configurable:!1,enumerable:!1,get:function(){return this.isValid&&(this._branch.length===0||this._branch.length===1&&!!this._branch[0])}}))}else throw new TypeError("Unrecognized argument for Output")}Object.defineProperty(Xi.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script?this._script:(this.setScriptFromBuffer(this._scriptBuffer),this._script)}});Object.defineProperty(Xi.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(t){t instanceof TC?(this._satoshisBN=t,this._satoshis=t.toNumber()):Jw.isString(t)?(this._satoshis=parseInt(t),this._satoshisBN=TC.fromNumber(this._satoshis)):(G9.checkArgument(IC.isNaturalNumber(t),"Output satoshis is not a natural number"),this._satoshisBN=TC.fromNumber(t),this._satoshis=t),G9.checkState(IC.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}});Xi.prototype.invalidSatoshis=function(){return this._satoshis>Jke?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0?"transaction txout negative":!1};Xi.prototype.toObject=Xi.prototype.toJSON=function(){var e={satoshis:this.satoshis};return e.script=this._scriptBuffer.toString("hex"),e};Xi.fromObject=function(t){return new Xi(t)};Xi.prototype.setScriptFromBuffer=function(t){this._scriptBuffer=t;try{this._script=PC.fromBuffer(this._scriptBuffer),this._script._isOutput=!0}catch(e){if(e instanceof Zke.Script.InvalidBuffer)this._script=null;else throw e}};Xi.prototype.setScript=function(t){if(t instanceof PC)this._scriptBuffer=t.toBuffer(),this._script=t,this._script._isOutput=!0;else if(Jw.isString(t))this._script=PC.fromString(t),this._scriptBuffer=this._script.toBuffer(),this._script._isOutput=!0;else if(Rne.isBuffer(t))this.setScriptFromBuffer(t);else throw new TypeError("Invalid argument type: script");return this};Xi.prototype.inspect=function(){var t;return this.script?t=this.script.inspect():t=this._scriptBuffer.toString("hex"),"<Output ("+this.satoshis+" sats) "+t+">"};Xi.fromBufferReader=function(t){var e={};e.satoshis=t.readUInt64LEBN();var r=t.readVarintNum();return r!==0?e.script=t.read(r):e.script=E.Buffer.from([]),new Xi(e)};Xi.prototype.toBufferWriter=function(t){t||(t=new Nne),t.writeUInt64LEBN(this._satoshisBN);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t};Xi.prototype.calculateSize=function(){let t=8;return t+=Nne.varintBufNum(this._scriptBuffer.length).length,t+=this._scriptBuffer.length,t};Xi.prototype.add=function(t,e,r,n=!0){if(G9.checkArgument((r&~Fne.TAPROOT_LEAF_MASK)===0,"invalid leafVersion"),!this.isValid)return;let i={hash:OC.TAPLEAF.writeUInt8(r).write(e.toBuffer()).finalize(),leaves:[]};if(n){let s={script:e,leafVersion:r,merkleBranch:[]};i.leaves.push(s)}return this._insertNode(i,t),this};Xi.prototype._insertNode=function(t,e){if(G9.checkArgument(e>=0&&e<=Fne.TAPROOT_CONTROL_MAX_NODE_COUNT,"invalid depth"),e+1<this._branch.length){this.isValid=!1;return}for(;this.isValid&&this._branch.length>e&&this._branch[e];)t=this._combineNodes(t,this._branch[e]),this._branch=this._branch.slice(0,this._branch.length-2),e==0&&(this.isValid=!1),e--;this.isValid&&(this._branch.length<=e&&(this._branch=this._branch.slice(0,e+1)),G9.checkState(!this._nodes[e]),m_branch[e]=t)};Xi.prototype._combineNodes=function(t,e){let r={hash:null,leaves:[]};for(let n of t.leaves)n.merkleBranch.push(e.hash),r.leaves.push(n);for(let n of e.leaves)n.merkleBranch.push(t.hash),r.leaves.push(n);return t.hash.compare(e.hash)===-1?r.hash=OC.TAPBRANCH.write(t.hash).write(e.hash).finalize():r.hash=OC.TAPBRANCH.write(e.hash).write(t.hash).finalize(),r};Xi.prototype.finalize=function(t){G9.checkState(this.isComplete===!0,"finalize can only be called when isComplete is true");let e=t.createTapTweak(this._branch.length===0?null:this._branch[0].hash)};Hne.exports=Xi});var W9=j(($5t,qne)=>{"use strict";B();M();var Qw=Gr(),_m=Zr(),F7=Lu(),Dne=bo(),K5t=$i(),Qke=ni(),Lne=Vi(),MC=Su(),eCe=Sh(),kC=ld(),ex=4294967295,Une=ex,tCe=ex-1,rCe=ex-2,nCe=Math.pow(2,31),NC=Math.pow(2,22),CC=65535,RC=512,iCe=Math.pow(2,16)-1;function Jr(t){if(!(this instanceof Jr))return new Jr(t);if(t)return this._fromObject(t)}Jr.MAXINT=ex;Jr.DEFAULT_SEQNUMBER=Une;Jr.DEFAULT_LOCKTIME_SEQNUMBER=tCe;Jr.DEFAULT_RBF_SEQNUMBER=rCe;Jr.SEQUENCE_LOCKTIME_TYPE_FLAG=NC;Object.defineProperty(Jr.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new MC(this._scriptBuffer),this._script._isInput=!0),this._script)}});Jr.fromObject=function(t){_m.checkArgument(Qw.isObject(t));var e=new Jr;return e._fromObject(t)};Jr.prototype._fromObject=function(t){var e;if(typeof t.prevTxId=="string"&&Lne.isHexa(t.prevTxId)?e=E.Buffer.from(t.prevTxId,"hex"):e=t.prevTxId,this.witnesses=[],this.output=t.output?t.output instanceof kC?t.output:new kC(t.output):void 0,this.prevTxId=e||t.txidbuf,this.outputIndex=t.outputIndex==null?t.txoutnum:t.outputIndex,this.sequenceNumber=t.sequenceNumber==null?t.seqnum==null?Une:t.seqnum:t.sequenceNumber,t.script===void 0&&t.scriptBuffer===void 0)throw new F7.Transaction.Input.MissingScript;return this.setScript(t.scriptBuffer||t.script),this};Jr.prototype.toObject=Jr.prototype.toJSON=function(){var e={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(e.scriptString=this.script.toString()),this.output&&(e.output=this.output.toObject()),e};Jr.fromBufferReader=function(t){var e=new Jr;return e.prevTxId=t.readReverse(32),e.outputIndex=t.readUInt32LE(),e._scriptBuffer=t.readVarLengthBuffer(),e.sequenceNumber=t.readUInt32LE(),e};Jr.prototype.toBufferWriter=function(t){t||(t=new Dne),t.writeReverse(this.prevTxId),t.writeUInt32LE(this.outputIndex);var e=this._scriptBuffer;return t.writeVarintNum(e.length),t.write(e),t.writeUInt32LE(this.sequenceNumber),t};Jr.prototype.setScript=function(t){if(this._script=null,t instanceof MC)this._script=t,this._script._isInput=!0,this._scriptBuffer=t.toBuffer();else if(Lne.isHexa(t))this._scriptBuffer=E.Buffer.from(t,"hex");else if(Qw.isString(t))this._script=new MC(t),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(Qke.isBuffer(t))this._scriptBuffer=E.Buffer.from(t);else throw new TypeError("Invalid argument type: script");return this};Jr.prototype.getSignatures=function(){throw new F7.AbstractMethodInvoked("Trying to sign unsupported output type (only P2PKH and P2SH multisig inputs are supported) for input: "+JSON.stringify(this))};Jr.prototype.getSatoshisBuffer=function(){return _m.checkState(this.output instanceof kC),_m.checkState(this.output._satoshisBN),new Dne().writeUInt64LEBN(this.output._satoshisBN).toBuffer()};Jr.prototype.isFullySigned=function(){throw new F7.AbstractMethodInvoked("Input#isFullySigned")};Jr.prototype.isFinal=function(){return this.sequenceNumber!==Jr.MAXINT};Jr.prototype.addSignature=function(){throw new F7.AbstractMethodInvoked("Input#addSignature")};Jr.prototype.clearSignatures=function(){throw new F7.AbstractMethodInvoked("Input#clearSignatures")};Jr.prototype.hasWitnesses=function(){return!!(this.witnesses&&this.witnesses.length>0)};Jr.prototype.getWitnesses=function(){return this.witnesses};Jr.prototype.setWitnesses=function(t){this.witnesses=t};Jr.prototype.isValidSignature=function(t,e,r){return r=r||"ecdsa",e.signature.nhashtype=e.sigtype,eCe.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};Jr.prototype.isNull=function(){return this.prevTxId.toString("hex")==="0000000000000000000000000000000000000000000000000000000000000000"&&this.outputIndex===4294967295};Jr.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length};Jr.prototype._getBaseSize=function(){return 32+4+4};Jr.prototype.lockForSeconds=function(t){if(_m.checkArgument(Qw.isNumber(t)),t<0||t>=RC*CC)throw new F7.Transaction.Input.LockTimeRange;return t=parseInt(Math.floor(t/RC)),this.sequenceNumber=t|NC,this};Jr.prototype.lockUntilBlockHeight=function(t){if(_m.checkArgument(Qw.isNumber(t)),t<0||t>=iCe)throw new F7.Transaction.Input.BlockHeightOutOfRange;return this.sequenceNumber=t,this};Jr.prototype.getLockTime=function(){if(this.sequenceNumber&nCe)return null;if(this.sequenceNumber&NC){var t=RC*(this.sequenceNumber&CC);return t}else{var e=this.sequenceNumber&CC;return e}};qne.exports=Jr});var H7=j((G5t,$ne)=>{"use strict";B();M();var Xc=Zr(),sCe=y6(),tx=ni(),jne=Vi(),Kne=Kf(),oCe=Lu(),Sm=la();function $f(t){if(!(this instanceof $f))return new $f(t);if(t instanceof $f)return t;if(t&&typeof t=="object")return this._fromObject(t);throw new oCe.InvalidArgument("TransactionSignatures must be instantiated from an object")}sCe($f,Sm);$f.prototype._fromObject=function(t){return this._checkObjectArgs(t),this.publicKey=new Kne(t.publicKey),this.prevTxId=tx.isBuffer(t.prevTxId)?t.prevTxId:E.Buffer.from(t.prevTxId,"hex"),this.outputIndex=t.outputIndex,this.inputIndex=t.inputIndex,this.signature=t.signature instanceof Sm?t.signature:tx.isBuffer(t.signature)?Sm.fromBuffer(t.signature):Sm.fromString(t.signature),this.sigtype=t.sigtype,this};$f.prototype._checkObjectArgs=function(t){Xc.checkArgument(Kne(t.publicKey),"invalid publicKey"),Xc.checkArgument(t.inputIndex!=null,"missing inputIndex"),Xc.checkArgument(t.outputIndex!=null,"missing outputIndex"),Xc.checkState(!isNaN(t.inputIndex),"inputIndex must be a number"),Xc.checkState(!isNaN(t.outputIndex),"outputIndex must be a number"),Xc.checkArgument(t.signature,"missing signature"),Xc.checkArgument(t.prevTxId,"missing prevTxId"),Xc.checkState(t.signature instanceof Sm||tx.isBuffer(t.signature)||jne.isHexa(t.signature),"signature must be a buffer or hexa value"),Xc.checkState(tx.isBuffer(t.prevTxId)||jne.isHexa(t.prevTxId),"prevTxId must be a buffer or hexa value"),Xc.checkArgument(t.sigtype!=null,"missing sigtype"),Xc.checkState(!isNaN(t.sigtype),"sigtype must be a number")};$f.prototype.toObject=$f.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}};$f.fromObject=function(t){return Xc.checkArgument(t),new $f(t)};$ne.exports=$f});var Yne=j((Z5t,Wne)=>{"use strict";B();M();var aCe=y6(),zne=Zr(),X5t=ni(),Vne=W9(),uCe=ld(),cCe=Sh(),Gne=Su(),fCe=la(),dCe=H7();function wh(){Vne.apply(this,arguments)}aCe(wh,Vne);wh.prototype.getSignatures=function(t,e,r,n,i,s){zne.checkState(this.output instanceof uCe),n=n||fCe.SIGHASH_ALL,s=s||"ecdsa";var o=e.toPublicKey();return o.toString()===this.output.script.getPublicKey().toString("hex")?[new dCe({publicKey:o,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:cCe.sign(t,e,n,r,this.output.script),sigtype:n})]:[]};wh.prototype.addSignature=function(t,e,r){return zne.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.setScript(Gne.buildPublicKeyIn(e.signature.toDER(),e.sigtype)),this};wh.prototype.clearSignatures=function(){return this.setScript(Gne.empty()),this};wh.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()};wh.SCRIPT_MAX_SIZE=73;wh.prototype._estimateSize=function(){return this._getBaseSize()+wh.SCRIPT_MAX_SIZE};Wne.exports=wh});var HC=j((t2t,Qne)=>{"use strict";B();M();var hCe=y6(),Xne=Zr(),rx=ni(),e2t=jf(),lCe=Ss(),Zne=W9(),pCe=ld(),Jne=Sh(),FC=z9(),bCe=bo(),rx=ni(),Y9=Su(),gCe=la(),mCe=H7();function pa(){Zne.apply(this,arguments)}hCe(pa,Zne);pa.prototype.getRedeemScript=function(t){if(!this.redeemScript){var e=Y9.buildWitnessV0Out(t);if(Y9.buildScriptHashOut(e).equals(this.output.script)){var r=new Y9;r.add(e.toBuffer()),this.setScript(r),this.redeemScript=e}}return this.redeemScript};pa.prototype.getScriptCode=function(t){var e=new bCe,r;this.output.script.isScriptHashOut()?r=this.getRedeemScript(t):r=this.output.script;var n=Y9.buildPublicKeyHashOut(r.toAddress()).toBuffer();return e.writeVarintNum(n.length),e.write(n),e.toBuffer()};pa.prototype.getSighash=function(t,e,r,n){var i=this.getScriptCode(e),s=this.getSatoshisBuffer();return FC.sighash(t,n,r,i,s)};pa.prototype.getSignatures=function(t,e,r,n,i,s,o){Xne.checkState(this.output instanceof pCe),i=i||lCe.sha256ripemd160(e.publicKey.toBuffer()),n=n||gCe.SIGHASH_ALL,s=s||"ecdsa";var a;if(this.output.script.isScriptHashOut()?a=this.getRedeemScript(e.publicKey):a=this.output.script,a&&rx.equals(i,a.getPublicKeyHash())){var u;if(a.isWitnessPublicKeyHashOut()){var c=this.getSatoshisBuffer(),d=this.getScriptCode(e.publicKey);u=FC.sign(t,e,n,r,d,c)}else u=Jne.sign(t,e,n,r,this.output.script);return[new mCe({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:u,sigtype:n})]}return[]};pa.prototype.addSignature=function(t,e,r){return Xne.checkState(this.isValidSignature(t,e,r),"Signature is invalid"),this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()?this.setWitnesses([rx.concat([e.signature.toDER(),rx.integerAsSingleByteBuffer(e.sigtype)]),e.publicKey.toBuffer()]):this.setScript(Y9.buildPublicKeyHashIn(e.publicKey,e.signature.toDER(),e.sigtype)),this};pa.prototype.clearSignatures=function(){return this.setScript(Y9.empty()),this.setWitnesses([]),this};pa.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()||this.hasWitnesses()};pa.prototype.isValidSignature=function(t,e,r){if(r=r||"ecdsa",e.signature.nhashtype=e.sigtype,this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()){var n=this.getScriptCode(),i=this.getSatoshisBuffer();return FC.verify(t,e.signature,e.publicKey,e.inputIndex,n,i)}else return Jne.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};pa.SCRIPT_MAX_SIZE=73+34;pa.REDEEM_SCRIPT_SIZE=1+22;pa.prototype._estimateSize=function(){let t=this._getBaseSize();t+=1;let e=4,r=pa.SCRIPT_MAX_SIZE/e;return this.output.script.isWitnessPublicKeyHashOut()?t+=r:this.output.script.isScriptHashOut()?t+=r+pa.REDEEM_SCRIPT_SIZE:t+=pa.SCRIPT_MAX_SIZE,t};Qne.exports=pa});var nie=j((o2t,rie)=>{"use strict";B();M();var zf=Gr(),yCe=y6(),i2t=nx(),LC=W9(),vCe=ld(),wm=Zr(),tie=Su(),DC=la(),UC=Sh(),s2t=Kf(),eie=ni(),qC=H7();function Zi(t,e,r,n,i){i=i||{},LC.apply(this,arguments);var s=this;e=e||t.publicKeys,r=r||t.threshold,n=n||t.signatures,i.noSorting?this.publicKeys=e:this.publicKeys=zf.sortBy(e,function(o){return o.toString("hex")}),wm.checkState(tie.buildMultisigOut(this.publicKeys,r).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},zf.each(this.publicKeys,function(o,a){s.publicKeyIndex[o.toString()]=a}),this.threshold=r,this.signatures=n?this._deserializeSignatures(n):new Array(this.publicKeys.length)}yCe(Zi,LC);Zi.prototype.toObject=function(){var t=LC.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=zf.map(this.publicKeys,function(e){return e.toString()}),t.signatures=this._serializeSignatures(),t};Zi.prototype._deserializeSignatures=function(t){return zf.map(t,function(e){if(!!e)return new qC(e)})};Zi.prototype._serializeSignatures=function(){return zf.map(this.signatures,function(t){if(!!t)return t.toObject()})};Zi.prototype.getSignatures=function(t,e,r,n,i,s,o){wm.checkState(this.output instanceof vCe),n=n||DC.SIGHASH_ALL,s=s||"ecdsa";let a=[];for(let u of this.publicKeys||[])u.toString()===e.publicKey.toString()&&a.push(new qC({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:UC.sign(t,e,n,r,this.output.script),sigtype:n}));return a};Zi.prototype.addSignature=function(t,e,r){return wm.checkState(!this.isFullySigned(),"All needed signatures have already been added"),wm.checkArgument(!zf.isUndefined(this.publicKeyIndex[e.publicKey.toString()],"Signature Undefined"),"Signature has no matching public key"),wm.checkState(this.isValidSignature(t,e,r),"Invalid Signature"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this};Zi.prototype._updateScript=function(){return this.setScript(tie.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this};Zi.prototype._createSignatures=function(){return zf.map(zf.filter(this.signatures,function(t){return!zf.isUndefined(t)}),function(t){return eie.concat([t.signature.toDER(),eie.integerAsSingleByteBuffer(t.sigtype)])})};Zi.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()};Zi.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold};Zi.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()};Zi.prototype.countSignatures=function(){return zf.reduce(this.signatures,function(t,e){return t+!!e},0)};Zi.prototype.publicKeysWithoutSignature=function(){var t=this;return zf.filter(this.publicKeys,function(e){return!t.signatures[t.publicKeyIndex[e.toString()]]})};Zi.prototype.isValidSignature=function(t,e,r){return r=r||"ecdsa",e.signature.nhashtype=e.sigtype,UC.verify(t,e.signature,e.publicKey,e.inputIndex,this.output.script)};Zi.normalizeSignatures=function(t,e,r,n,i,s){return s=s||"ecdsa",i.map(function(o){var a=null;return n=n.filter(function(u){if(a)return!0;var c=new qC({signature:DC.fromTxFormat(u),publicKey:o,prevTxId:e.prevTxId,outputIndex:e.outputIndex,inputIndex:r,sigtype:DC.SIGHASH_ALL});c.signature.nhashtype=c.sigtype;var d=UC.verify(t,c.signature,c.publicKey,c.inputIndex,e.output.script);return d?(a=c,!1):!0}),a||null})};Zi.OPCODES_SIZE=1;Zi.SIGNATURE_SIZE=73;Zi.prototype._estimateSize=function(){return this._getBaseSize()+Zi.OPCODES_SIZE+this.threshold*Zi.SIGNATURE_SIZE};rie.exports=Zi});var aie=j((c2t,oie)=>{"use strict";B();M();var _Ce=Gr(),SCe=y6(),jC=W9(),wCe=ld(),ix=Zr(),S6=jf(),X9=Su(),xCe=la(),KC=Sh(),$C=z9(),ECe=bo(),iie=ni(),sie=H7();function Gn(t,e,r,n,i){i=i||{},jC.apply(this,arguments),e=e||t.publicKeys,r=r||t.threshold,n=n||t.signatures,i.noSorting?this.publicKeys=e:this.publicKeys=_Ce.sortBy(e,function(a){return a.toString("hex")}),this.redeemScript=X9.buildMultisigOut(this.publicKeys,r,i);var s=X9.buildWitnessMultisigOutFromScript(this.redeemScript);if(s.equals(this.output.script))this.nestedWitness=!1,this.type=S6.PayToWitnessScriptHash;else if(X9.buildScriptHashOut(s).equals(this.output.script))this.nestedWitness=!0,this.type=S6.PayToScriptHash;else if(X9.buildScriptHashOut(this.redeemScript).equals(this.output.script))this.nestedWitness=!1,this.type=S6.PayToScriptHash;else throw new Error("Provided public keys don't hash to the provided output");if(this.nestedWitness){var o=new X9;o.add(s.toBuffer()),this.setScript(o)}this.publicKeyIndex={};for(let a=0;a<this.publicKeys.length;a++){let u=this.publicKeys[a];this.publicKeyIndex[u.toString()]=a}this.threshold=r,this.signatures=n?this._deserializeSignatures(n):new Array(this.publicKeys.length)}SCe(Gn,jC);Gn.prototype.toObject=function(){var t=jC.prototype.toObject.apply(this,arguments);return t.threshold=this.threshold,t.publicKeys=this.publicKeys.map(function(e){return e.toString()}),t.signatures=this._serializeSignatures(),t};Gn.prototype._deserializeSignatures=function(t){return t.map(function(e){if(!!e)return new sie(e)})};Gn.prototype._serializeSignatures=function(){return this.signatures.map(function(t){if(!!t)return t.toObject()})};Gn.prototype.getScriptCode=function(){var t=new ECe;if(this.redeemScript.hasCodeseparators())throw new Error("@TODO");var e=this.redeemScript.toBuffer();return t.writeVarintNum(e.length),t.write(e),t.toBuffer()};Gn.prototype.getSighash=function(t,e,r,n){var i;if(this.nestedWitness||this.type===S6.PayToWitnessScriptHash){var s=this.getScriptCode(),o=this.getSatoshisBuffer();i=$C.sighash(t,n,r,s,o)}else i=KC.sighash(t,n,r,this.redeemScript);return i};Gn.prototype.getSignatures=function(t,e,r,n,i,s,o){ix.checkState(this.output instanceof wCe),n=n||xCe.SIGHASH_ALL,s=s||"ecdsa";let a=[];for(let f of this.publicKeys)if(f.toString()===e.publicKey.toString()){var u;if(this.nestedWitness||this.type===S6.PayToWitnessScriptHash){var c=this.getScriptCode(),d=this.getSatoshisBuffer();u=$C.sign(t,e,n,r,c,d)}else u=KC.sign(t,e,n,r,this.redeemScript);a.push(new sie({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:r,signature:u,sigtype:n}))}return a};Gn.prototype.addSignature=function(t,e,r){return ix.checkState(!this.isFullySigned(),"All needed signatures have already been added"),ix.checkArgument(this.publicKeyIndex[e.publicKey.toString()]!=null,"Signature has no matching public key"),ix.checkState(this.isValidSignature(t,e,r),"Invalid Signature!"),this.signatures[this.publicKeyIndex[e.publicKey.toString()]]=e,this._updateScript(),this};Gn.prototype._updateScript=function(){if(this.nestedWitness||this.type===S6.PayToWitnessScriptHash){for(var t=[E.Buffer.alloc(0)],e=this._createSignatures(),r=0;r<e.length;r++)t.push(e[r]);t.push(this.redeemScript.toBuffer()),this.setWitnesses(t)}else{var n=X9.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript});this.setScript(n)}return this};Gn.prototype._createSignatures=function(){return this.signatures.filter(function(t){return t!=null}).map(function(t){return iie.concat([t.signature.toDER(),iie.integerAsSingleByteBuffer(t.sigtype)])})};Gn.prototype.clearSignatures=function(){this.signatures=new Array(this.publicKeys.length),this._updateScript()};Gn.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold};Gn.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()};Gn.prototype.countSignatures=function(){return this.signatures.reduce(function(t,e){return t+!!e},0)};Gn.prototype.publicKeysWithoutSignature=function(){return this.publicKeys.filter(t=>!this.signatures[this.publicKeyIndex[t.toString()]])};Gn.prototype.isValidSignature=function(t,e,r){if(r=r||"ecdsa",this.nestedWitness||this.type===S6.PayToWitnessScriptHash){e.signature.nhashtype=e.sigtype;var n=this.getScriptCode(),i=this.getSatoshisBuffer();return $C.verify(t,e.signature,e.publicKey,e.inputIndex,n,i)}else return e.signature.nhashtype=e.sigtype,KC.verify(t,e.signature,e.publicKey,e.inputIndex,this.redeemScript)};Gn.MAX_OPCODES_SIZE=8;Gn.MAX_SIGNATURE_SIZE=74;Gn.MAX_PUBKEY_SIZE=34;Gn.REDEEM_SCRIPT_SIZE=34;Gn.prototype._estimateSize=function(){let t=this._getBaseSize(),e=4,r=Gn.MAX_OPCODES_SIZE+this.threshold*Gn.MAX_SIGNATURE_SIZE+this.publicKeys.length*Gn.MAX_PUBKEY_SIZE;return this.type===S6.PayToWitnessScriptHash?t+=r/e:this.nestedWitness?t+=r/e+Gn.REDEEM_SCRIPT_SIZE:t+=r,t};oie.exports=Gn});var hie=j((l2t,die)=>{B();M();var ACe=y6(),zC=Zr(),uie=HC(),cie=vm(),sx=la(),TCe=H7(),fie=ld(),h2t=_6();function xh(){uie.apply(this,arguments)}ACe(xh,uie);xh.prototype.getSignatures=function(t,e,r,n,i,s,o){zC.checkState(this.output instanceof fie),n=n||sx.SIGHASH_DEFAULT;let a=t.inputs.indexOf(this),u=e.createTapTweak(o).tweakedPrivKey,c=cie.sign(t,u,n,a,sx.Version.TAPROOT,null);if(!c)return[];let d=new TCe({publicKey:e.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:a,signature:sx.fromSchnorr(c),sigtype:n});return this.isValidSignature(t,d)?[d]:[]};xh.prototype.isValidSignature=function(t,e){return zC.checkState(t.inputs.indexOf(this)>=0,"Signature has no matching input"),zC.checkState(this.output instanceof fie,"output is not instance of Output"),this.output.script.isTaproot()?cie.verify(t,e.signature,this.output.script.chunks[1].buf,sx.Version.TAPROOT,t.inputs.indexOf(this),null):!1};xh.prototype.isFullySigned=function(){return this.output.script.isTaproot()&&this.hasWitnesses()};xh.prototype.addSignature=function(t,e){return this.isValidSignature(t,e)&&this.setWitnesses([e.signature.toBuffer()]),this};xh.SCRIPT_MAX_SIZE=66;xh.prototype._estimateSize=function(){let t=this._getBaseSize();t+=1;let e=4,r=xh.SCRIPT_MAX_SIZE/e;return t+=r,t};die.exports=xh});var ox=j((g2t,D7)=>{B();M();D7.exports=W9();D7.exports.PublicKey=Yne();D7.exports.PublicKeyHash=HC();D7.exports.MultiSig=nie();D7.exports.MultiSigScriptHash=aie();D7.exports.Taproot=hie()});var Sh=j((v2t,bie)=>{"use strict";B();M();var xm=la(),VC=Su(),ICe=ld(),PCe=Cf(),OCe=bo(),BCe=uo(),MCe=Ss(),pie=mm(),lie=Zr(),GC=Gr(),kCe="0000000000000000000000000000000000000000000000000000000000000001",CCe="ffffffffffffffff",WC=function(e,r,n,i){var s=nx(),o=ox();n=parseInt(n);var a,u=s.shallowCopy(e);for(i=new VC(i),i.removeCodeseparators(),a=0;a<u.inputs.length;a++)u.inputs[a]=new o(u.inputs[a]).setScript(VC.empty());if(u.inputs[n]=new o(u.inputs[n]).setScript(i),(r&31)===xm.SIGHASH_NONE||(r&31)===xm.SIGHASH_SINGLE)for(a=0;a<u.inputs.length;a++)a!==n&&(u.inputs[a].sequenceNumber=0);if((r&31)===xm.SIGHASH_NONE)u.outputs=[];else if((r&31)===xm.SIGHASH_SINGLE){if(n>=u.outputs.length)return E.Buffer.from(kCe,"hex");for(u.outputs.length=n+1,a=0;a<n;a++)u.outputs[a]=new ICe({satoshis:BCe.fromBuffer(E.Buffer.from(CCe,"hex")),script:VC.empty()})}r&xm.SIGHASH_ANYONECANPAY&&(u.inputs=[u.inputs[n]]);var c=new OCe().write(u.toBuffer()).writeInt32LE(r).toBuffer(),d=MCe.sha256sha256(c);return d=new PCe(d).readReverse(),d};function RCe(t,e,r,n,i){let s=WC(t,r,n,i);return pie.sign(s,e,"little").set({nhashtype:r})}function NCe(t,e,r,n,i){lie.checkArgument(!GC.isUndefined(t),"Transaction Undefined"),lie.checkArgument(!GC.isUndefined(e)&&!GC.isUndefined(e.nhashtype),"Signature Undefined");let s=WC(t,e.nhashtype,n,i);return pie.verify(s,e,r,"little")}bie.exports={sighash:WC,sign:RCe,verify:NCe}});var ux=j((w2t,gie)=>{"use strict";B();M();var YC=Gr(),ax=Lu(),FCe=Zr(),L7={BTC:[1e8,8],mBTC:[1e5,5],uBTC:[100,2],bits:[100,2],satoshis:[1,0]};function Ir(t,e){if(!(this instanceof Ir))return new Ir(t,e);if(YC.isNumber(e)){if(e<=0)throw new ax.Unit.InvalidRate(e);t=t/e,e=Ir.BTC}this._value=this._from(t,e);var r=this,n=function(i){Object.defineProperty(r,i,{get:function(){return r.to(i)},enumerable:!0})};Object.keys(L7).forEach(n)}Object.keys(L7).forEach(function(t){Ir[t]=t});Ir.fromObject=function(e){return FCe.checkArgument(YC.isObject(e),"Argument is expected to be an object"),new Ir(e.amount,e.code)};Ir.fromBTC=function(t){return new Ir(t,Ir.BTC)};Ir.fromMillis=Ir.fromMilis=function(t){return new Ir(t,Ir.mBTC)};Ir.fromMicros=Ir.fromBits=function(t){return new Ir(t,Ir.bits)};Ir.fromSatoshis=function(t){return new Ir(t,Ir.satoshis)};Ir.fromFiat=function(t,e){return new Ir(t,e)};Ir.prototype._from=function(t,e){if(!L7[e])throw new ax.Unit.UnknownCode(e);return parseInt((t*L7[e][0]).toFixed())};Ir.prototype.to=function(t){if(YC.isNumber(t)){if(t<=0)throw new ax.Unit.InvalidRate(t);return parseFloat((this.BTC*t).toFixed(2))}if(!L7[t])throw new ax.Unit.UnknownCode(t);var e=this._value/L7[t][0];return parseFloat(e.toFixed(L7[t][1]))};Ir.prototype.toBTC=function(){return this.to(Ir.BTC)};Ir.prototype.toMillis=Ir.prototype.toMilis=function(){return this.to(Ir.mBTC)};Ir.prototype.toMicros=Ir.prototype.toBits=function(){return this.to(Ir.bits)};Ir.prototype.toSatoshis=function(){return this.to(Ir.satoshis)};Ir.prototype.atRate=function(t){return this.to(t)};Ir.prototype.toString=function(){return this.satoshis+" satoshis"};Ir.prototype.toObject=Ir.prototype.toJSON=function(){return{amount:this.BTC,code:Ir.BTC}};Ir.prototype.inspect=function(){return"<Unit: "+this.toString()+">"};gie.exports=Ir});var XC=j((A2t,vie)=>{"use strict";B();M();var Eh=Gr(),cx=Zr(),mie=Vi(),HCe=Su(),DCe=jf(),yie=ux();function Ah(t){if(!(this instanceof Ah))return new Ah(t);cx.checkArgument(Eh.isObject(t),"Must provide an object from where to extract data");var e=t.address?new DCe(t.address):void 0,r=t.txid?t.txid:t.txId;if(!r||!mie.isHexaString(r)||r.length>64)throw new Error("Invalid TXID in object",t);var n=Eh.isUndefined(t.vout)?t.outputIndex:t.vout;if(!Eh.isNumber(n))throw new Error("Invalid outputIndex, received "+n);cx.checkArgument(!Eh.isUndefined(t.scriptPubKey)||!Eh.isUndefined(t.script),"Must provide the scriptPubKey for that output!");var i=new HCe(t.scriptPubKey||t.script);cx.checkArgument(!Eh.isUndefined(t.amount)||!Eh.isUndefined(t.satoshis),"Must provide an amount for the output");var s=Eh.isUndefined(t.amount)?t.satoshis:new yie.fromBTC(t.amount).toSatoshis();cx.checkArgument(Eh.isNumber(s),"Amount must be a number"),mie.defineImmutable(this,{address:e,txId:r,outputIndex:n,script:i,satoshis:s})}Ah.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"};Ah.prototype.toString=function(){return this.txId+":"+this.outputIndex};Ah.fromObject=function(t){return new Ah(t)};Ah.prototype.toObject=Ah.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:yie.fromSatoshis(this.satoshis).toBTC()}};vie.exports=Ah});var nx=j((P2t,Eie)=>{"use strict";B();M();var x6=Gr(),gi=Zr(),LCe=$i(),_ie=E.Buffer.compare||Cne(),Ds=Lu(),UCe=ni(),dx=Vi(),ZC=Cf(),J9=bo(),JC=Ss(),Z9=la(),qCe=Sh(),jCe=z9(),KCe=vm(),$Ce=jf(),Sie=XC(),ji=ox(),zCe=ji.PublicKeyHash,VCe=ji.PublicKey,GCe=ji.MultiSigScriptHash,WCe=ji.MultiSig,YCe=ji.Taproot,E6=ld(),w6=Su(),XCe=_6(),fx=uo();function De(t,e){if(!(this instanceof De))return new De(t);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,t){if(t instanceof De)return De.shallowCopy(t);if(dx.isHexa(t))this.fromString(t);else if(UCe.isBuffer(t))this.fromBuffer(t);else if(x6.isObject(t))this.fromObject(t,e);else throw new Ds.InvalidArgument("Must provide an object or string to deserialize a transaction")}else this._newTransaction()}var wie=2,ZCe=0,JCe=1e6;De.DUST_AMOUNT=546;De.FEE_SECURITY_MARGIN=150;De.MAX_MONEY=21e6*1e8;De.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8;De.NLOCKTIME_MAX_VALUE=4294967295;De.FEE_PER_KB=1e5;De.CHANGE_OUTPUT_MAX_SIZE=20+4+34+4;De.MAXIMUM_EXTRA_SIZE=4+9+9+4;De.shallowCopy=function(t){var e=new De(t.toBuffer());return e};var xie={configurable:!1,enumerable:!0,get:function(){return this._hash=new ZC(this._getHash()).readReverse().toString("hex"),this._hash}},QCe={configurable:!1,enumerable:!0,get:function(){return new ZC(this._getWitnessHash()).readReverse().toString("hex")}};Object.defineProperty(De.prototype,"witnessHash",QCe);Object.defineProperty(De.prototype,"hash",xie);Object.defineProperty(De.prototype,"id",xie);var QC={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(De.prototype,"inputAmount",QC);QC.get=function(){return this._getOutputAmount()};Object.defineProperty(De.prototype,"outputAmount",QC);Object.defineProperty(De.prototype,"size",{configurable:!1,enumerable:!1,get:function(){return this._calculateSize()}});Object.defineProperty(De.prototype,"vsize",{configurable:!1,enumerable:!1,get:function(){return this._calculateVSize()}});Object.defineProperty(De.prototype,"weight",{configurable:!1,enumerable:!1,get:function(){return this._calculateWeight()}});De.prototype._getHash=function(){return JC.sha256sha256(this.toBuffer(!0))};De.prototype._getWitnessHash=function(){return JC.sha256sha256(this.toBuffer(!1))};De.prototype.serialize=function(t){return t===!0||t&&t.disableAll?this.uncheckedSerialize():this.checkedSerialize(t)};De.prototype.uncheckedSerialize=De.prototype.toString=function(){return this.toBuffer().toString("hex")};De.prototype.checkedSerialize=function(t){var e=this.getSerializationError(t);if(e)throw e.message+=" - For more information please see: https://github.com/bitpay/bitcore/blob/master/packages/bitcore-lib/docs/transaction.md#serialization-checks",e;return this.uncheckedSerialize()};De.prototype.invalidSatoshis=function(){for(var t=!1,e=0;e<this.outputs.length;e++)this.outputs[e].invalidSatoshis()&&(t=!0);return t};De.prototype.getSerializationError=function(t){if(t=t||{},this.invalidSatoshis())return new Ds.Transaction.InvalidSatoshis;var e=this._getUnspentValue(),r;return e<0?t.disableMoreOutputThanInput||(r=new Ds.Transaction.InvalidOutputAmountSum):r=this._hasFeeError(t,e),r||this._hasDustOutputs(t)||this._isMissingSignatures(t)};De.prototype._hasFeeError=function(t,e){if(this._fee!=null&&this._fee!==e)return new Ds.Transaction.FeeError.Different("Unspent value is "+e+" but specified fee is "+this._fee);if(!t.disableLargeFees){var r=Math.floor(De.FEE_SECURITY_MARGIN*this._estimateFee());if(e>r)return this._missingChange()?new Ds.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new Ds.Transaction.FeeError.TooLarge("expected less than "+r+" but got "+e)}if(!t.disableSmallFees){var n=Math.ceil(this._estimateFee()/De.FEE_SECURITY_MARGIN);if(e<n)return new Ds.Transaction.FeeError.TooSmall("expected more than "+n+" but got "+e)}};De.prototype._missingChange=function(){return!this._changeScript};De.prototype._hasDustOutputs=function(t){if(!t.disableDustOutputs){var e,r;for(e in this.outputs)if(r=this.outputs[e],r.satoshis<De.DUST_AMOUNT&&!r.script.isDataOut())return new Ds.Transaction.DustOutputs}};De.prototype._isMissingSignatures=function(t){if(!t.disableIsFullySigned&&!this.isFullySigned())return new Ds.Transaction.MissingSignatures};De.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"};De.prototype.toBuffer=function(t){var e=new J9;return this.toBufferWriter(e,t).toBuffer()};De.prototype.hasWitnesses=function(){for(var t=0;t<this.inputs.length;t++)if(this.inputs[t].hasWitnesses())return!0;return!1};De.prototype.toBufferWriter=function(t,e){t.writeInt32LE(this.version);let r=this.hasWitnesses();r&&!e&&t.write(E.Buffer.from("0001","hex")),t.writeVarintNum(this.inputs?this.inputs.length:0);for(let n of this.inputs||[])n.toBufferWriter(t);t.writeVarintNum(this.outputs?this.outputs.length:0);for(let n of this.outputs||[])n.toBufferWriter(t);if(r&&!e)for(let n of this.inputs){let i=n.getWitnesses();t.writeVarintNum(i.length);for(let s=0;s<i.length;s++)t.writeVarintNum(i[s].length),t.write(i[s])}return t.writeUInt32LE(this.nLockTime),t};De.prototype.fromBuffer=function(t){var e=new ZC(t);return this.fromBufferReader(e)};De.prototype.fromBufferReader=function(t){gi.checkArgument(!t.finished(),"No transaction data received"),this.version=t.readInt32LE();var e=t.readVarintNum(),r=!1;e===0&&t.buf[t.pos]!==0&&(t.pos+=1,r=!0,e=t.readVarintNum());for(var n=0;n<e;n++){var i=ji.fromBufferReader(t);this.inputs.push(i)}for(var s=t.readVarintNum(),o=0;o<s;o++)this.outputs.push(E6.fromBufferReader(t));if(r)for(var a=0;a<e;a++){for(var u=t.readVarintNum(),c=[],d=0;d<u;d++){var f=t.readVarintNum(),m=t.read(f);c.push(m)}this.inputs[a].setWitnesses(c)}return this.nLockTime=t.readUInt32LE(),this};De.prototype.toObject=De.prototype.toJSON=function(){var e=[];this.inputs.forEach(function(i){e.push(i.toObject())});var r=[];this.outputs.forEach(function(i){r.push(i.toObject())});var n={hash:this.hash,version:this.version,inputs:e,outputs:r,nLockTime:this.nLockTime};return this._changeScript&&(n.changeScript=this._changeScript.toString()),this._changeIndex!=null&&(n.changeIndex=this._changeIndex),this._fee!=null&&(n.fee=this._fee),n};De.prototype.fromObject=function(e,r){gi.checkArgument(x6.isObject(e)||e instanceof De);var n;e instanceof De?n=e.toObject():n=e;for(let o of n.inputs||[]){if(!o.output||!o.output.script){this.uncheckedAddInput(new ji(o));continue}var i=new w6(o.output.script),s;if((i.isScriptHashOut()||i.isWitnessScriptHashOut())&&o.publicKeys&&o.threshold)s=new ji.MultiSigScriptHash(o,o.publicKeys,o.threshold,o.signatures,r);else if(i.isPublicKeyHashOut()||i.isWitnessPublicKeyHashOut()||i.isScriptHashOut())s=new ji.PublicKeyHash(o);else if(i.isPublicKeyOut())s=new ji.PublicKey(o);else throw new Ds.Transaction.Input.UnsupportedScript(o.output.script);this.addInput(s)}for(let o of n.outputs||[])this.addOutput(new E6(o));return n.changeIndex&&(this._changeIndex=n.changeIndex),n.changeScript&&(this._changeScript=new w6(n.changeScript)),n.fee&&(this._fee=n.fee),this.nLockTime=n.nLockTime,this.version=n.version,this._checkConsistency(e),this};De.prototype._checkConsistency=function(t){this._changeIndex!=null&&(gi.checkState(this._changeScript,"Change script is expected."),gi.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),gi.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),t&&t.hash&&gi.checkState(t.hash===this.hash,"Hash in object does not match transaction hash.")};De.prototype.lockUntilDate=function(t){if(gi.checkArgument(t),!isNaN(t)&&t<De.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new Ds.Transaction.LockTimeTooEarly;x6.isDate(t)&&(t=t.getTime()/1e3);for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===ji.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=ji.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this};De.prototype.lockUntilBlockHeight=function(t){if(gi.checkArgument(!isNaN(t)),t>=De.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new Ds.Transaction.BlockHeightTooHigh;if(t<0)throw new Ds.Transaction.NLockTimeOutOfRange;for(var e=0;e<this.inputs.length;e++)this.inputs[e].sequenceNumber===ji.DEFAULT_SEQNUMBER&&(this.inputs[e].sequenceNumber=ji.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=t,this};De.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<De.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null};De.prototype.fromString=function(t){this.fromBuffer(LCe.Buffer.from(t,"hex"))};De.prototype._newTransaction=function(){this.version=wie,this.nLockTime=ZCe};De.prototype.from=function(t,e,r,n){if(Array.isArray(t)){for(let s of t)this.from(s,e,r,n);return this}return this.inputs.some(function(s){return s.prevTxId.toString("hex")===t.txId&&s.outputIndex===t.outputIndex})?this:(e&&r?this._fromMultisigUtxo(t,e,r,n):this._fromNonP2SH(t,n),this)};De.prototype.associateInputs=function(t,e,r,n={}){let i=[];for(let s of t){let o=this.inputs.findIndex(a=>a.prevTxId.toString("hex")===s.txId&&a.outputIndex===s.outputIndex);if(i.push(o),o>=0){let a=this.inputs[o].sequenceNumber;this.inputs[o]=this._getInputFrom(s,e,r,n),this.inputs[o].sequenceNumber=a}}return i};De.prototype._selectInputType=function(t,e,r){var n;return t=new Sie(t),e&&r?t.script.isMultisigOut()?n=WCe:(t.script.isScriptHashOut()||t.script.isWitnessScriptHashOut())&&(n=GCe):t.script.isPublicKeyHashOut()||t.script.isWitnessPublicKeyHashOut()||t.script.isScriptHashOut()?n=zCe:t.script.isTaproot()?n=YCe:t.script.isPublicKeyOut()?n=VCe:n=ji,n};De.prototype._getInputFrom=function(t,e,r,n={}){t=new Sie(t);let i=this._selectInputType(t,e,r),s={output:new E6({script:t.script,satoshis:t.satoshis}),prevTxId:t.txId,outputIndex:t.outputIndex,sequenceNumber:n.sequenceNumber,script:w6.empty()},o=e&&r?[e,r,!1,n]:[];return new i(s,...o)};De.prototype._fromNonP2SH=function(t,e){let r=this._getInputFrom(t,null,null,e);this.addInput(r)};De.prototype._fromMultisigUtxo=function(t,e,r,n){gi.checkArgument(r<=e.length,"Number of required signatures must be greater than the number of public keys");let i=this._getInputFrom(t,e,r,n);this.addInput(i)};De.prototype.addInput=function(t,e,r){if(gi.checkArgumentType(t,ji,"input"),!t.output&&(e==null||r==null))throw new Ds.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return!t.output&&e&&r!=null&&(e=e instanceof w6?e:new w6(e),gi.checkArgumentType(r,"number","satoshis"),t.output=new E6({script:e,satoshis:r})),this.uncheckedAddInput(t)};De.prototype.uncheckedAddInput=function(t){return gi.checkArgumentType(t,ji,"input"),this.inputs.push(t),this._inputAmount=void 0,this._updateChangeOutput(),this};De.prototype.hasAllUtxoInfo=function(){return this.inputs.every(function(t){return!!t.output})};De.prototype.fee=function(t){return gi.checkArgument(!isNaN(t),"amount must be a number"),this._fee=t,this._updateChangeOutput(),this};De.prototype.feePerKb=function(t){return gi.checkArgument(!isNaN(t),"amount must be a number"),this._feePerKb=t,this._updateChangeOutput(),this};De.prototype.feePerByte=function(t){return gi.checkArgument(!isNaN(t),"amount must be a number"),this._feePerByte=t,this._updateChangeOutput(),this};De.prototype.change=function(t){return gi.checkArgument(t,"address is required"),this._changeScript=w6.fromAddress(t),this._updateChangeOutput(),this};De.prototype.getChangeOutput=function(){return this._changeIndex!=null?this.outputs[this._changeIndex]:null};De.prototype.to=function(t,e){if(Array.isArray(t)){for(let r of t)this.to(r.address,r.satoshis);return this}return gi.checkArgument(dx.isNaturalNumber(e),"Amount is expected to be a positive integer"),this.addOutput(new E6({script:w6(new $Ce(t)),satoshis:e})),this};De.prototype.addData=function(t){return this.addOutput(new E6({script:w6.buildDataOut(t),satoshis:0})),this};De.prototype.addOutput=function(t){return gi.checkArgumentType(t,E6,"output"),this._addOutput(t),this._updateChangeOutput(),this};De.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this};De.prototype._addOutput=function(t){this.outputs.push(t),this._outputAmount=void 0};De.prototype._getOutputAmount=function(){if(this._outputAmount==null){var t=this;this._outputAmount=0;for(let e of this.outputs||[])t._outputAmount+=e.satoshis}return this._outputAmount};De.prototype._getInputAmount=function(){return this._inputAmount==null&&(this._inputAmount=x6.sumBy(this.inputs,function(t){if(t.output==null)throw new Ds.Transaction.Input.MissingPreviousOutput;return t.output.satoshis})),this._inputAmount};De.prototype._updateChangeOutput=function(t){if(!!this._changeScript){t||this._clearSignatures(),this._changeIndex!=null&&this._removeOutput(this._changeIndex);var e=this._getUnspentValue(),r=this.getFee(),n=e-r;n>De.DUST_AMOUNT?(this._changeIndex=this.outputs.length,this._addOutput(new E6({script:this._changeScript,satoshis:n}))):this._changeIndex=void 0}};De.prototype.getFee=function(){return this.isCoinbase()?0:this._fee!=null?this._fee:this._changeScript?this._estimateFee():this._getUnspentValue()};De.prototype._estimateFee=function(){let t=this._estimateSize(),e=this._getUnspentValue(),r=this._feePerByte||(this._feePerKb||De.FEE_PER_KB)/1e3;function n(o){return o*r}let i=Math.ceil(n(t)),s=Math.ceil(n(t)+n(this._estimateSizeOfChangeOutput()));return!this._changeScript||e<=s?i:s};De.prototype._estimateSizeOfChangeOutput=function(){if(!this._changeScript)return 0;let t=this._changeScript.toBuffer().length;return 8+J9.varintBufNum(t).length+t};De.prototype._getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()};De.prototype._clearSignatures=function(){for(let t of this.inputs||[])t.clearSignatures()};De.prototype._estimateSize=function(){let t=4;this.hasWitnesses()&&(t+=.5),t+=J9.varintBufNum(this.inputs.length).length;for(let e of this.inputs||[])t+=e._estimateSize();t+=J9.varintBufNum(this.outputs.length).length;for(let e of this.outputs||[])t+=e.calculateSize();return t+=4,Math.ceil(t)};De.prototype._calculateSize=function(){return this.toBuffer().length};De.prototype._calculateVSize=function(t){let e=this._calculateWeight()/4;return t?e:Math.ceil(e)};De.prototype._calculateWeight=function(){return this.toBuffer(!0).length*3+this.toBuffer(!1).length};De.prototype._removeOutput=function(t){var e=this.outputs[t];this.outputs=x6.without(this.outputs,e),this._outputAmount=void 0};De.prototype.removeOutput=function(t){this._removeOutput(t),this._updateChangeOutput()};De.prototype.sort=function(){return this.sortInputs(function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(n=>{n.i=r++}),e.sort(function(n,i){return _ie(n.prevTxId,i.prevTxId)||n.outputIndex-i.outputIndex||n.i-i.i}),e}),this.sortOutputs(function(t){var e=Array.prototype.concat.apply([],t);let r=0;return e.forEach(n=>{n.i=r++}),e.sort(function(n,i){return n.satoshis-i.satoshis||_ie(n.script.toBuffer(),i.script.toBuffer())||n.i-i.i}),e}),this};De.prototype.shuffleOutputs=function(){return this.sortOutputs(x6.shuffle)};De.prototype.sortOutputs=function(t){var e=t(this.outputs);return this._newOutputOrder(e)};De.prototype.sortInputs=function(t){return this.inputs=t(this.inputs),this._clearSignatures(),this};De.prototype._newOutputOrder=function(t){var e=this.outputs.length!==t.length||x6.difference(this.outputs,t).length!==0;if(e)throw new Ds.Transaction.InvalidSorting;if(this._changeIndex!=null){var r=this.outputs[this._changeIndex];this._changeIndex=t.indexOf(r)}return this.outputs=t,this};De.prototype.removeInput=function(t,e){var r;if(!e&&!isNaN(t)?r=t:r=this.inputs.findIndex(function(i){return i.prevTxId.toString("hex")===t&&i.outputIndex===e}),r<0||r>=this.inputs.length)throw new Ds.Transaction.InvalidIndex(r,this.inputs.length);var n=this.inputs[r];this.inputs=x6.without(this.inputs,n),this._inputAmount=void 0,this._updateChangeOutput()};De.prototype.sign=function(t,e,r,n){if(gi.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction."),Array.isArray(t)){for(let i of t)this.sign(i,e,r,n);return this}for(let i of this.getSignatures(t,e,r,n))this.applySignature(i,r);return this};De.prototype.getSignatures=function(t,e,r,n){typeof n=="string"&&(n=E.Buffer.from(n,"hex")),t=new XCe(t);let i=[],s=JC.sha256ripemd160(t.publicKey.toBuffer());for(let o=0;o<this.inputs.length;o++){let a=this.inputs[o];for(let u of a.getSignatures(this,t,o,e,s,r,n))i.push(u)}return i};De.prototype.applySignature=function(t,e){return this.inputs[t.inputIndex].addSignature(this,t,e),this};De.prototype.isFullySigned=function(){for(let t of this.inputs||[])if(t.isFullySigned===ji.prototype.isFullySigned)throw new Ds.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs.every(function(t){return t.isFullySigned()})};De.prototype.isValidSignature=function(t,e){if(this.inputs[t.inputIndex].isValidSignature===ji.prototype.isValidSignature)throw new Ds.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[t.inputIndex].isValidSignature(this,t,e)};De.prototype.checkEcdsaSignature=function(t,e,r,n,i){var s=n.toBuffer(),o=new J9;o.writeVarintNum(s.length),o.write(s);var a;i?(gi.checkState(dx.isNaturalNumber(i),"satoshis needs to be a natural number"),a=new J9().writeUInt64LEBN(new fx(i)).toBuffer()):a=this.inputs[r].getSatoshisBuffer();var u=jCe.verify(this,t,e,r,o.toBuffer(),a);return u};De.prototype.checkSchnorrSignature=function(t,e,r,n,i){if(gi.isType(e,"PublicKey")&&(e=e.point.x.toBuffer()),gi.checkArgument(e&&e.length===32,"Schnorr signatures have 32-byte public keys. The caller is responsible for enforcing this."),E.Buffer.isBuffer(t)){if(t.length!==64&&t.length!==65)return!1;t=Z9.fromSchnorr(t)}return gi.checkArgument(t.isSchnorr,"Signature must be schnorr"),!!KCe.verify(this,t,e,n,r,i)};De.prototype.verifySignature=function(t,e,r,n,i,s,o){switch(i==null&&(i=Z9.Version.BASE),i){case Z9.Version.WITNESS_V0:return this.checkEcdsaSignature(t,e,r,n,s);case Z9.Version.TAPROOT:case Z9.Version.TAPSCRIPT:return this.checkSchnorrSignature(t,e,r,i,o);case Z9.Version.BASE:default:return qCe.verify(this,t,e,r,n)}};De.prototype.verify=function(){if(this.inputs.length===0)return"transaction txins empty";if(this.outputs.length===0)return"transaction txouts empty";for(var t=new fx(0),e=0;e<this.outputs.length;e++){var r=this.outputs[e];if(r.invalidSatoshis())return"transaction txout "+e+" satoshis is invalid";if(r._satoshisBN.gt(new fx(De.MAX_MONEY,10)))return"transaction txout "+e+" greater than MAX_MONEY";if(t=t.add(r._satoshisBN),t.gt(new fx(De.MAX_MONEY)))return"transaction txout "+e+" total output greater than MAX_MONEY"}if(this.toBuffer().length>JCe)return"transaction over the maximum block size";var n={};for(e=0;e<this.inputs.length;e++){var i=this.inputs[e],s=i.prevTxId+":"+i.outputIndex;if(n[s]!=null)return"transaction input "+e+" duplicate input";n[s]=!0}var o=this.isCoinbase();if(o){var a=this.inputs[0]._scriptBuffer;if(a.length<2||a.length>100)return"coinbase transaction script size invalid"}else for(e=0;e<this.inputs.length;e++)if(this.inputs[e].isNull())return"transaction input "+e+" has null input";return!0};De.prototype.isCoinbase=function(){return this.inputs.length===1&&this.inputs[0].isNull()};De.prototype.isRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];if(e.sequenceNumber<ji.MAXINT-1)return!0}return!1};De.prototype.enableRBF=function(){for(var t=0;t<this.inputs.length;t++){var e=this.inputs[t];e.sequenceNumber>=ji.MAXINT-1&&(e.sequenceNumber=ji.DEFAULT_RBF_SEQNUMBER)}return this};De.prototype.setVersion=function(t){return gi.checkArgument(dx.isNaturalNumber(t)&&t<=wie,"Wrong version number"),this.version=t,this};Eie.exports=De});var Em=j((M2t,Th)=>{B();M();Th.exports=nx();Th.exports.Input=ox();Th.exports.Output=ld();Th.exports.UnspentOutput=XC();Th.exports.Signature=H7();Th.exports.Sighash=Sh();Th.exports.SighashWitness=z9();Th.exports.SighashSchnorr=vm()});var BC=j((R2t,Tie)=>{"use strict";B();M();var Q9=Gr(),Zc=SC(),Ie=Ww(),lr=uo(),U7=Ss(),Qr=la(),eb=Kf(),Jc=Zr(),eRe=z9(),tRe=vm(),hx=bo(),Aie=vh(),Ae=function t(e){if(!(this instanceof t))return new t(e);e?(this.initialize(),this.set(e)):this.initialize()};Ae.prototype.verifyWitnessProgram=function(t,e,r,n,i,s){var o=new Zc,a=[];if(t===0)if(e.length===Ae.WITNESS_V0_SCRIPTHASH_SIZE){if(r.length===0)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;var u=r[r.length-1];o=new Zc(u);var c=U7.sha256(u);return c.toString("hex")!==e.toString("hex")?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1):(a=r.slice(0,-1),this.executeWitnessScript(o,a,Qr.Version.WITNESS_V0,n,i))}else return e.length===Ae.WITNESS_V0_KEYHASH_SIZE?r.length!==2?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1):(o.add(Ie.OP_DUP),o.add(Ie.OP_HASH160),o.add(e),o.add(Ie.OP_EQUALVERIFY),o.add(Ie.OP_CHECKSIG),a=r,this.executeWitnessScript(o,a,Qr.Version.WITNESS_V0,n,i)):(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WRONG_LENGTH",!1);else if(t===1&&e.length==Ae.WITNESS_V1_TAPROOT_SIZE&&!s){let d={annexPresent:!1};if(!(i&Ae.SCRIPT_VERIFY_TAPROOT))return!0;if(a=Array.from(r),a.length==0)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;if(a.length>=2&&a[a.length-1].length&&a[a.length-1][0]===Zc.ANNEX_TAG){let f=a.pop(),m=new hx;m.writeVarintNum(f.length),m.write(f),d.annexHash=U7.sha256(m.toBuffer()),d.annexPresent=!0}if(d.annexInit=!0,a.length===1)return this.checkSchnorrSignature(a[0],e,Qr.Version.TAPROOT,d);{let f=a.pop(),m=a.pop();if(f.length<Ae.TAPROOT_CONTROL_BASE_SIZE||f.length>Ae.TAPROOT_CONTROL_MAX_SIZE||(f.length-Ae.TAPROOT_CONTROL_BASE_SIZE)%Ae.TAPROOT_CONTROL_NODE_SIZE!=0)return this.errstr="SCRIPT_ERR_TAPROOT_WRONG_CONTROL_SIZE",!1;if(d.tapleafHash=Ae.computeTapleafHash(f[0]&Ae.TAPROOT_LEAF_MASK,m),!Ae.verifyTaprootCommitment(f,e,d.tapleafHash))return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1;if(d.tapleafHashInit=!0,(f[0]&Ae.TAPROOT_LEAF_MASK)===Ae.TAPROOT_LEAF_TAPSCRIPT){let p;{let y=new hx;y.writeVarintNum(r.length);for(let w of r)y.writeVarintNum(w.length),y.write(w);p=y.toBuffer().length}try{o=new Zc(m)}catch{return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return d.validationWeightLeft=p+Zc.VALIDATION_WEIGHT_OFFSET,d.validationWeightLeftInit=!0,this.executeWitnessScript(o,a,Qr.Version.TAPSCRIPT,n,i,d)}return i&Ae.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION?(this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION",!1):!0}}else if(i&Ae.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM",!1;return!0};Ae.prototype.executeWitnessScript=function(t,e,r,n,i,s){if(r===Qr.Version.TAPSCRIPT){for(let a of t.chunks)if(Ie.isOpSuccess(a.opcodenum))return i&Ae.SCRIPT_VERIFY_DISCOURAGE_OP_SUCCESS?(this.errstr="SCRIPT_ERR_DISCOURAGE_OP_SUCCESS",!1):!0;if(e.length>Ae.MAX_STACK_SIZE)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}if(e.length&&e.some(a=>a.length>Ae.MAX_SCRIPT_ELEMENT_SIZE))return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if(this.initialize(),this.set({script:t,stack:e,sigversion:r,satoshis:n,flags:i,execdata:s}),!this.evaluate())return!1;if(this.stack.length!==1)return this.errstr="SCRIPT_ERR_EVAL_FALSE",!1;var o=this.stack[this.stack.length-1];return Ae.castToBool(o)?!0:(this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1)};Ae.prototype.verify=function(t,e,r,n,i,s,o){var a=Em();Q9.isUndefined(r)&&(r=new a),Q9.isUndefined(n)&&(n=0),Q9.isUndefined(i)&&(i=0),Q9.isUndefined(s)&&(s=null),Q9.isUndefined(o)&&(o=0),this.set({script:t,tx:r,nin:n,sigversion:Qr.Version.BASE,satoshis:0,flags:i});var u;if((i&Ae.SCRIPT_VERIFY_SIGPUSHONLY)!==0&&!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate())return!1;i&Ae.SCRIPT_VERIFY_P2SH&&(u=this.stack.slice());var c=this.stack;if(this.initialize(),this.set({script:e,stack:c,tx:r,nin:n,flags:i}),!this.evaluate())return!1;if(this.stack.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var d=this.stack[this.stack.length-1];if(!Ae.castToBool(d))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;var f=!1;if(i&Ae.SCRIPT_VERIFY_WITNESS){var m={};if(e.isWitnessProgram(m)){if(f=!0,t.toBuffer().length!==0)return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED",!1;if(!this.verifyWitnessProgram(m.version,m.program,s,o,this.flags,!1))return!1}}if(i&Ae.SCRIPT_VERIFY_P2SH&&e.isScriptHashOut()){if(!t.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(u.length===0)throw new Error("internal error - stack copy empty");var p=u[u.length-1],y=Zc.fromBuffer(p);if(u.pop(),this.initialize(),this.set({script:y,stack:u,tx:r,nin:n,flags:i}),!this.evaluate())return!1;if(u.length===0)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!Ae.castToBool(u[u.length-1]))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1;if(i&Ae.SCRIPT_VERIFY_WITNESS){var w={};if(y.isWitnessProgram(w)){f=!0;var P=new Zc;if(P.add(y.toBuffer()),t.toHex()!==P.toHex())return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED_P2SH",!1;if(!this.verifyWitnessProgram(w.version,w.program,s,o,this.flags,!0))return!1;c=[c[0]]}}}if((this.flags&Ae.SCRIPT_VERIFY_CLEANSTACK)!=0){if((this.flags&Ae.SCRIPT_VERIFY_P2SH)==0||(this.flags&Ae.SCRIPT_VERIFY_WITNESS)==0)throw"flags & SCRIPT_VERIFY_P2SH";if(u.length!=1)return this.errstr="SCRIPT_ERR_CLEANSTACK",!1}return this.flags&Ae.SCRIPT_VERIFY_WITNESS&&!f&&s.length>0?(this.errstr="SCRIPT_ERR_WITNESS_UNEXPECTED",!1):!0};Tie.exports=Ae;Ae.prototype.initialize=function(t){this.stack=[],this.altstack=[],this.pc=0,this.satoshis=0,this.sigversion=Qr.Version.BASE,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0,this.execdata={}};Ae.prototype.set=function(t){this.script=t.script||this.script,this.tx=t.tx||this.tx,this.nin=typeof t.nin>"u"?this.nin:parseInt(t.nin),this.stack=t.stack||this.stack,this.altstack=t.altstack||this.altstack,this.pc=typeof t.pc>"u"?this.pc:t.pc,this.pbegincodehash=typeof t.pbegincodehash>"u"?this.pbegincodehash:t.pbegincodehash,this.sigversion=typeof t.sigversion>"u"?this.sigversion:t.sigversion,this.satoshis=typeof t.satoshis>"u"?this.satoshis:t.satoshis,this.nOpCount=typeof t.nOpCount>"u"?this.nOpCount:t.nOpCount,this.vfExec=t.vfExec||this.vfExec,this.errstr=t.errstr||this.errstr,this.flags=typeof t.flags>"u"?this.flags:t.flags,this.execdata=typeof t.execdata>"u"?this.execdata:t.execdata||{}};Ae.true=E.Buffer.from([1]);Ae.false=E.Buffer.from([]);Ae.MAX_SCRIPT_SIZE=1e4;Ae.MAX_STACK_SIZE=1e3;Ae.MAX_SCRIPT_ELEMENT_SIZE=520;Ae.LOCKTIME_THRESHOLD=5e8;Ae.LOCKTIME_THRESHOLD_BN=new lr(Ae.LOCKTIME_THRESHOLD);Ae.SCRIPT_VERIFY_NONE=0;Ae.SCRIPT_VERIFY_P2SH=1<<0;Ae.SCRIPT_VERIFY_STRICTENC=1<<1;Ae.SCRIPT_VERIFY_DERSIG=1<<2;Ae.SCRIPT_VERIFY_LOW_S=1<<3;Ae.SCRIPT_VERIFY_NULLDUMMY=1<<4;Ae.SCRIPT_VERIFY_SIGPUSHONLY=1<<5;Ae.SCRIPT_VERIFY_MINIMALDATA=1<<6;Ae.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=1<<7;Ae.SCRIPT_VERIFY_CLEANSTACK=1<<8,Ae.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=1<<9;Ae.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1<<10;Ae.SCRIPT_VERIFY_WITNESS=1<<11;Ae.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM=1<<12;Ae.SCRIPT_VERIFY_MINIMALIF=1<<13;Ae.SCRIPT_VERIFY_NULLFAIL=1<<14;Ae.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE=1<<15;Ae.SCRIPT_ENABLE_SIGHASH_FORKID=1<<16;Ae.SCRIPT_ENABLE_REPLAY_PROTECTION=1<<17;Ae.SCRIPT_VERIFY_CONST_SCRIPTCODE=1<<16;Ae.SCRIPT_VERIFY_TAPROOT=1<<17;Ae.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION=1<<18;Ae.SCRIPT_VERIFY_DISCOURAGE_OP_SUCCESS=1<<19;Ae.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_PUBKEYTYPE=1<<20;Ae.SEQUENCE_LOCKTIME_DISABLE_FLAG=1<<31;Ae.SEQUENCE_LOCKTIME_TYPE_FLAG=1<<22;Ae.SEQUENCE_LOCKTIME_MASK=65535;Ae.WITNESS_V0_SCRIPTHASH_SIZE=32;Ae.WITNESS_V0_KEYHASH_SIZE=20;Ae.WITNESS_V1_TAPROOT_SIZE=32;Ae.TAPROOT_LEAF_MASK=254;Ae.TAPROOT_LEAF_TAPSCRIPT=192;Ae.TAPROOT_CONTROL_BASE_SIZE=33;Ae.TAPROOT_CONTROL_NODE_SIZE=32;Ae.TAPROOT_CONTROL_MAX_NODE_COUNT=128;Ae.TAPROOT_CONTROL_MAX_SIZE=Ae.TAPROOT_CONTROL_BASE_SIZE+Ae.TAPROOT_CONTROL_NODE_SIZE*Ae.TAPROOT_CONTROL_MAX_NODE_COUNT;Ae.PROTOCOL_VERSION=70016;Ae.castToBool=function(t){for(var e=0;e<t.length;e++)if(t[e]!==0)return!(e===t.length-1&&t[e]===128);return!1};Ae.prototype.checkSignatureEncoding=function(t){var e;if(t.length==0)return!0;if((this.flags&(Ae.SCRIPT_VERIFY_DERSIG|Ae.SCRIPT_VERIFY_LOW_S|Ae.SCRIPT_VERIFY_STRICTENC))!==0&&!Qr.isTxDER(t))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if((this.flags&Ae.SCRIPT_VERIFY_LOW_S)!==0){if(e=Qr.fromTxFormat(t),!e.hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if((this.flags&Ae.SCRIPT_VERIFY_STRICTENC)!==0&&(e=Qr.fromTxFormat(t),!e.hasDefinedHashtype()))return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;return!0};Ae.prototype.checkPubkeyEncoding=function(t){return(this.flags&Ae.SCRIPT_VERIFY_STRICTENC)!==0&&!eb.isValid(t)?(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1):(this.flags&Ae.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE)!=0&&this.sigversion==Qr.Version.WITNESS_V0&&!eb.fromBuffer(t).compressed?(this.errstr="SCRIPT_ERR_WITNESS_PUBKEYTYPE",!1):!0};Ae.prototype.checkEcdsaSignature=function(t,e,r,n,i){var s=n.toBuffer(),o=new hx;o.writeVarintNum(s.length),o.write(s),Jc.checkState(JSUtil.isNaturalNumber(i));var a=new hx().writeUInt64LEBN(new lr(i)).toBuffer(),u=eRe.verify(this,t,e,r,o.toBuffer(),a);return u};Ae.prototype.checkSchnorrSignature=function(t,e,r,n){return Jc.checkArgument(t&&E.Buffer.isBuffer(t),"Missing sig"),Jc.checkArgument(e&&E.Buffer.isBuffer(e),"Missing pubkey"),Jc.checkArgument(r,"Missing sigversion"),Jc.checkArgument(n,"Missing execdata"),Jc.checkArgument(e.length===32,"Schnorr signatures have 32-byte public keys. The caller is responsible for enforcing this."),t.length===64||t.length===65?t.length===65&&t[t.length-1]===Qr.SIGHASH_DEFAULT?(this.errstr="SCRIPT_ERR_SCHNORR_SIG_HASHTYPE",!1):(t=Qr.fromSchnorr(t),tRe.verify(this.tx,t,e,r,this.nin,n)):(this.errstr="SCRIPT_ERR_SCHNORR_SIG_SIZE",!1)};Ae.prototype._evalChecksigPreTapscript=function(t,e){Jc.checkArgument(this.sigversion===Qr.Version.BASE||this.sigversion===Qr.Version.WITNESS_V0,"sigversion must be base or witness_v0");let r={success:!1,result:!1},n=new Zc().set({chunks:this.script.chunks.slice(this.pbegincodehash)});if(this.sigversion===Qr.Version.BASE){let i=new Zc().add(t),s=n.chunks.length;if(n.findAndDelete(i),s=s==n.chunks.length+1,s&&this.flags&Ae.SCRIPT_VERIFY_CONST_SCRIPTCODE)return this.errstr="SCRIPT_ERR_SIG_FINDANDDELETE",r}if(!this.checkSignatureEncoding(t)||!this.checkPubkeyEncoding(e))return r;try{let i=Qr.fromTxFormat(t),s=eb.fromBuffer(e,!1);r.success=this.tx.verifySignature(i,s,this.nin,n,this.sigversion,this.satoshis)}catch{r.success=!1}return!r.success&&this.flags&Ae.SCRIPT_VERIFY_NULLFAIL&&t.length?(this.errstr="SCRIPT_ERR_SIG_NULLFAIL",r):(r.result=!0,r)};Ae.prototype._evalChecksigTapscript=function(t,e){Jc.checkArgument(this.sigversion==Qr.Version.TAPSCRIPT,"this.sigversion must by TAPSCRIPT");let r={success:t.length>0,result:!1};if(r.success&&(Jc.checkState(this.execdata.validationWeightLeftInit,"validationWeightLeftInit is false"),this.execdata.validationWeightLeft-=Zc.VALIDATION_WEIGHT_PER_SIGOP_PASSED,this.execdata.validationWeightLeft<0))return this.errstr="SCRIPT_ERR_TAPSCRIPT_VALIDATION_WEIGHT",r;if(e.length===0)return this.errstr="SCRIPT_ERR_PUBKEYTYPE",r;if(e.length==32){if(r.success&&!this.tx.checkSchnorrSignature(t,e,this.nin,this.sigversion,this.execdata))return this.errstr="SCRIPT_ERR_SCHNORR_SIG",r}else if((this.flags&Ae.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_PUBKEYTYPE)!=0)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_PUBKEYTYPE",r;return r.result=!0,r};Ae.prototype._evalCheckSig=function(t,e){switch(this.sigversion){case Qr.Version.BASE:case Qr.Version.WITNESS_V0:return this._evalChecksigPreTapscript(t,e);case Qr.Version.TAPSCRIPT:return this._evalChecksigTapscript(t,e);case Qr.Version.TAPROOT:throw new Error("Called evalCheckSig with a TAPROOT sigversion. Check your implementation")}};Ae.prototype.evaluate=function(){if(Jc.checkArgument(this.sigversion==Qr.Version.BASE||this.sigversion==Qr.Version.WITNESS_V0||this.sigversion==Qr.Version.TAPSCRIPT,"invalid sigversion"),(this.sigversion==Qr.Version.BASE||this.sigversion==Qr.Version.WITNESS_V0)&&this.script.toBuffer().length>Ae.MAX_SCRIPT_SIZE)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;this.pc<this.script.chunks.length;){var t=this.step();if(!t)return!1}}catch(e){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+e,!1}return this.vfExec.length>0?(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1):!0};Ae.prototype.checkLockTime=function(t){return!(!(this.tx.nLockTime<Ae.LOCKTIME_THRESHOLD&&t.lt(Ae.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=Ae.LOCKTIME_THRESHOLD&&t.gte(Ae.LOCKTIME_THRESHOLD_BN))||t.gt(new lr(this.tx.nLockTime))||!this.tx.inputs[this.nin].isFinal())};Ae.prototype.checkSequence=function(t){var e=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2||e&Ae.SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var r=Ae.SEQUENCE_LOCKTIME_TYPE_FLAG|Ae.SEQUENCE_LOCKTIME_MASK,n=new lr(e&r),i=t.and(new lr(r)),s=new lr(Ae.SEQUENCE_LOCKTIME_TYPE_FLAG);return n.lt(s)&&i.lt(s)||n.gte(s)&&i.gte(s)?i.lte(n):!1};Ae.computeTapleafHash=function(t,e){let r=Aie.TAPLEAF;return r.writeUInt8(t),r.writeVarintNum(e.length),r.write(e),r.finalize()};Ae.computeTaprootMerkleRoot=function(t,e){let r=(t.length-Ae.TAPROOT_CONTROL_BASE_SIZE)/Ae.TAPROOT_CONTROL_NODE_SIZE,n=e;for(let i=0;i<r;++i){let s=Aie.TAPBRANCH,o=Ae.TAPROOT_CONTROL_BASE_SIZE+Ae.TAPROOT_CONTROL_NODE_SIZE*i,a=t.slice(o,o+Ae.TAPROOT_CONTROL_NODE_SIZE);E.Buffer.compare(n,a)===-1?(s.write(n),s.write(a)):(s.write(a),s.write(n)),n=s.finalize()}return n};Ae.verifyTaprootCommitment=function(t,e,r){Jc.checkArgument(t.length>=Ae.TAPROOT_CONTROL_BASE_SIZE,"control too short"),Jc.checkArgument(e.length>=32,"program is too short");try{let n=eb.fromX(!1,t.slice(1,Ae.TAPROOT_CONTROL_BASE_SIZE));let i=eb.fromX(!1,e),s=Ae.computeTaprootMerkleRoot(t,r);return i.checkTapTweak(n,s,t)}catch{return!1}};Ae.prototype.step=function(){var t=(this.flags&Ae.SCRIPT_VERIFY_MINIMALDATA)!==0,e=this.vfExec.indexOf(!1)===-1,r,n,i,s,o,a,u,c,d,f,m,p,y,w,P,C,R;this.execdata=this.execdata||{},this.execdata.codeseparatorPosInit||(this.execdata.codeseparatorPos=new lr(4294967295),this.execdata.codeseparatorPosInit=!0);var T=this.script.chunks[this.pc];this.pc++;var k=T.opcodenum;if(Q9.isUndefined(k))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(T.buf&&T.buf.length>Ae.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if((this.sigversion===Qr.Version.BASE||this.sigversion===Qr.Version.WITNESS_V0)&&k>Ie.OP_16&&++this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(k===Ie.OP_SUBSTR||k===Ie.OP_LEFT||k===Ie.OP_RIGHT||k===Ie.OP_INVERT||k===Ie.OP_AND||k===Ie.OP_OR||k===Ie.OP_XOR||k===Ie.OP_2MUL||k===Ie.OP_2DIV||k===Ie.OP_MUL||k===Ie.OP_DIV||k===Ie.OP_MOD||k===Ie.OP_LSHIFT||k===Ie.OP_RSHIFT)return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(k==Ie.OP_CODESEPARATOR&&this.sigversion===Qr.Version.BASE&&this.flags&Ae.SCRIPT_VERIFY_CONST_SCRIPTCODE)return this.errstr="SCRIPT_ERR_OP_CODESEPARATOR",!1;if(e&&0<=k&&k<=Ie.OP_PUSHDATA4){if(t&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(!T.buf)this.stack.push(Ae.false);else{if(T.len!==T.buf.length)throw new Error("Length of push value not equal to length of data");this.stack.push(T.buf)}}else if(e||Ie.OP_IF<=k&&k<=Ie.OP_ENDIF)switch(k){case Ie.OP_1NEGATE:case Ie.OP_1:case Ie.OP_2:case Ie.OP_3:case Ie.OP_4:case Ie.OP_5:case Ie.OP_6:case Ie.OP_7:case Ie.OP_8:case Ie.OP_9:case Ie.OP_10:case Ie.OP_11:case Ie.OP_12:case Ie.OP_13:case Ie.OP_14:case Ie.OP_15:case Ie.OP_16:o=k-(Ie.OP_1-1),r=new lr(o).toScriptNumBuffer(),this.stack.push(r);break;case Ie.OP_NOP:break;case Ie.OP_NOP2:case Ie.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&Ae.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&Ae.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var H=lr.fromScriptNumBuffer(this.stack[this.stack.length-1],t,5);if(H.lt(new lr(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(H))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case Ie.OP_NOP3:case Ie.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&Ae.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&Ae.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var F=lr.fromScriptNumBuffer(this.stack[this.stack.length-1],t,5);if(F.lt(new lr(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if((F&Ae.SEQUENCE_LOCKTIME_DISABLE_FLAG)!=0)break;if(!this.checkSequence(F))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case Ie.OP_NOP1:case Ie.OP_NOP4:case Ie.OP_NOP5:case Ie.OP_NOP6:case Ie.OP_NOP7:case Ie.OP_NOP8:case Ie.OP_NOP9:case Ie.OP_NOP10:if(this.flags&Ae.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case Ie.OP_IF:case Ie.OP_NOTIF:{if(C=!1,e){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(r=this.stack[this.stack.length-1],this.sigversion===Qr.Version.TAPSCRIPT&&(r.length>1||r.length===1&&r[0]!==1))return this.errstr="SCRIPT_ERR_TAPSCRIPT_MINIMALIF",!1;if(this.sigversion===Qr.Version.WITNESS_V0&&this.flags&Ae.SCRIPT_VERIFY_MINIMALIF){if(r=this.stack[this.stack.length-1],r.length>1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1;if(r.length==1&&r[0]!=1)return this.errstr="SCRIPT_ERR_MINIMALIF",!1}C=Ae.castToBool(r),k===Ie.OP_NOTIF&&(C=!C),this.stack.pop()}this.vfExec.push(C)}break;case Ie.OP_ELSE:{if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1]}break;case Ie.OP_ENDIF:{if(this.vfExec.length===0)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop()}break;case Ie.OP_VERIFY:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(r=this.stack[this.stack.length-1],C=Ae.castToBool(r),C)this.stack.pop();else return this.errstr="SCRIPT_ERR_VERIFY",!1}break;case Ie.OP_RETURN:return this.errstr="SCRIPT_ERR_OP_RETURN",!1;case Ie.OP_TOALTSTACK:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.altstack.push(this.stack.pop())}break;case Ie.OP_FROMALTSTACK:{if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;this.stack.push(this.altstack.pop())}break;case Ie.OP_2DROP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop()}break;case Ie.OP_2DUP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1],this.stack.push(n),this.stack.push(i)}break;case Ie.OP_3DUP:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-3],i=this.stack[this.stack.length-2];var L=this.stack[this.stack.length-1];this.stack.push(n),this.stack.push(i),this.stack.push(L)}break;case Ie.OP_2OVER:{if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-4],i=this.stack[this.stack.length-3],this.stack.push(n),this.stack.push(i)}break;case Ie.OP_2ROT:{if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;s=this.stack.splice(this.stack.length-6,2),this.stack.push(s[0]),this.stack.push(s[1])}break;case Ie.OP_2SWAP:{if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;s=this.stack.splice(this.stack.length-4,2),this.stack.push(s[0]),this.stack.push(s[1])}break;case Ie.OP_IFDUP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-1],C=Ae.castToBool(r),C&&this.stack.push(r)}break;case Ie.OP_DEPTH:r=new lr(this.stack.length).toScriptNumBuffer(),this.stack.push(r);break;case Ie.OP_DROP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop()}break;case Ie.OP_DUP:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-1])}break;case Ie.OP_NIP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1)}break;case Ie.OP_OVER:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-2])}break;case Ie.OP_PICK:case Ie.OP_ROLL:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(r=this.stack[this.stack.length-1],c=lr.fromScriptNumBuffer(r,t),o=c.toNumber(),this.stack.pop(),o<0||o>=this.stack.length)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-o-1],k===Ie.OP_ROLL&&this.stack.splice(this.stack.length-o-1,1),this.stack.push(r)}break;case Ie.OP_ROT:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;a=this.stack[this.stack.length-3],u=this.stack[this.stack.length-2];var D=this.stack[this.stack.length-1];this.stack[this.stack.length-3]=u,this.stack[this.stack.length-2]=D,this.stack[this.stack.length-1]=a}break;case Ie.OP_SWAP:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;a=this.stack[this.stack.length-2],u=this.stack[this.stack.length-1],this.stack[this.stack.length-2]=u,this.stack[this.stack.length-1]=a}break;case Ie.OP_TUCK:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,0,this.stack[this.stack.length-1])}break;case Ie.OP_SIZE:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;c=new lr(this.stack[this.stack.length-1].length),this.stack.push(c.toScriptNumBuffer())}break;case Ie.OP_EQUAL:case Ie.OP_EQUALVERIFY:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1];var N=n.toString("hex")===i.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(N?Ae.true:Ae.false),k===Ie.OP_EQUALVERIFY)if(N)this.stack.pop();else return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1}break;case Ie.OP_1ADD:case Ie.OP_1SUB:case Ie.OP_NEGATE:case Ie.OP_ABS:case Ie.OP_NOT:case Ie.OP_0NOTEQUAL:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(r=this.stack[this.stack.length-1],c=lr.fromScriptNumBuffer(r,t),k){case Ie.OP_1ADD:c=c.add(lr.One);break;case Ie.OP_1SUB:c=c.sub(lr.One);break;case Ie.OP_NEGATE:c=c.neg();break;case Ie.OP_ABS:c.cmp(lr.Zero)<0&&(c=c.neg());break;case Ie.OP_NOT:c=new lr((c.cmp(lr.Zero)===0)+0);break;case Ie.OP_0NOTEQUAL:c=new lr((c.cmp(lr.Zero)!==0)+0);break}this.stack.pop(),this.stack.push(c.toScriptNumBuffer())}break;case Ie.OP_ADD:case Ie.OP_SUB:case Ie.OP_BOOLAND:case Ie.OP_BOOLOR:case Ie.OP_NUMEQUAL:case Ie.OP_NUMEQUALVERIFY:case Ie.OP_NUMNOTEQUAL:case Ie.OP_LESSTHAN:case Ie.OP_GREATERTHAN:case Ie.OP_LESSTHANOREQUAL:case Ie.OP_GREATERTHANOREQUAL:case Ie.OP_MIN:case Ie.OP_MAX:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(d=lr.fromScriptNumBuffer(this.stack[this.stack.length-2],t),f=lr.fromScriptNumBuffer(this.stack[this.stack.length-1],t),c=new lr(0),k){case Ie.OP_ADD:c=d.add(f);break;case Ie.OP_SUB:c=d.sub(f);break;case Ie.OP_BOOLAND:c=new lr((d.cmp(lr.Zero)!==0&&f.cmp(lr.Zero)!==0)+0);break;case Ie.OP_BOOLOR:c=new lr((d.cmp(lr.Zero)!==0||f.cmp(lr.Zero)!==0)+0);break;case Ie.OP_NUMEQUAL:c=new lr((d.cmp(f)===0)+0);break;case Ie.OP_NUMEQUALVERIFY:c=new lr((d.cmp(f)===0)+0);break;case Ie.OP_NUMNOTEQUAL:c=new lr((d.cmp(f)!==0)+0);break;case Ie.OP_LESSTHAN:c=new lr((d.cmp(f)<0)+0);break;case Ie.OP_GREATERTHAN:c=new lr((d.cmp(f)>0)+0);break;case Ie.OP_LESSTHANOREQUAL:c=new lr((d.cmp(f)<=0)+0);break;case Ie.OP_GREATERTHANOREQUAL:c=new lr((d.cmp(f)>=0)+0);break;case Ie.OP_MIN:c=d.cmp(f)<0?d:f;break;case Ie.OP_MAX:c=d.cmp(f)>0?d:f;break}if(this.stack.pop(),this.stack.pop(),this.stack.push(c.toScriptNumBuffer()),k===Ie.OP_NUMEQUALVERIFY)if(Ae.castToBool(this.stack[this.stack.length-1]))this.stack.pop();else return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1}break;case Ie.OP_WITHIN:{if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;d=lr.fromScriptNumBuffer(this.stack[this.stack.length-3],t),f=lr.fromScriptNumBuffer(this.stack[this.stack.length-2],t);var g=lr.fromScriptNumBuffer(this.stack[this.stack.length-1],t);C=f.cmp(d)<=0&&d.cmp(g)<0,this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(C?Ae.true:Ae.false)}break;case Ie.OP_CAT:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(n=this.stack[this.stack.length-2],i=this.stack[this.stack.length-1],n.length+i.length>Ae.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop(),this.stack.push(E.Buffer.concat([n,i]));break}case Ie.OP_RIPEMD160:case Ie.OP_SHA1:case Ie.OP_SHA256:case Ie.OP_HASH160:case Ie.OP_HASH256:{if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;r=this.stack[this.stack.length-1];var h;k===Ie.OP_RIPEMD160?h=U7.ripemd160(r):k===Ie.OP_SHA1?h=U7.sha1(r):k===Ie.OP_SHA256?h=U7.sha256(r):k===Ie.OP_HASH160?h=U7.sha256ripemd160(r):k===Ie.OP_HASH256&&(h=U7.sha256sha256(r)),this.stack.pop(),this.stack.push(h)}break;case Ie.OP_CODESEPARATOR:this.pbegincodehash=this.pc,this.execdata.codeseparatorPos=this.pc-1;break;case Ie.OP_CHECKSIG:case Ie.OP_CHECKSIGVERIFY:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;m=this.stack[this.stack.length-2],p=this.stack[this.stack.length-1];let{success:O,result:q}=this._evalCheckSig(m,p);if(!q)return!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(O?Ae.true:Ae.false),k===Ie.OP_CHECKSIGVERIFY)if(O)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1}break;case Ie.OP_CHECKSIGADD:{if(this.sigversion==Qr.Version.BASE||this.sigversion==Qr.Version.WITNESS_V0)return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1;if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;let O=this.stack[this.stack.length-3],q=this.stack[this.stack.length-2],J=this.stack[this.stack.length-1];q=lr.fromScriptNumBuffer(q,t);let{success:ne,result:oe}=this._evalCheckSig(O,J);if(!oe)return!1;this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(q.addn(ne?1:0).toScriptNumBuffer())}break;case Ie.OP_CHECKMULTISIG:case Ie.OP_CHECKMULTISIGVERIFY:{var l=1;if(this.stack.length<l)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var b=lr.fromScriptNumBuffer(this.stack[this.stack.length-l],t).toNumber();if(b<0||b>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=b,this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var _=++l;l+=b;var x=b+2;if(this.stack.length<l)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var I=lr.fromScriptNumBuffer(this.stack[this.stack.length-l],t).toNumber();if(I<0||I>b)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var A=++l;if(l+=I,this.stack.length<l)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;y=new Zc().set({chunks:this.script.chunks.slice(this.pbegincodehash)});for(var v=0;v<I;v++)m=this.stack[this.stack.length-A-v],y.findAndDelete(new Zc().add(m));for(R=!0;R&&I>0;){if(m=this.stack[this.stack.length-A],p=this.stack[this.stack.length-_],!this.checkSignatureEncoding(m)||!this.checkPubkeyEncoding(p))return!1;var S;try{w=Qr.fromTxFormat(m),P=eb.fromBuffer(p,!1),S=this.tx.verifySignature(w,P,this.nin,y,this.sigversion,this.satoshis,this.execdata)}catch{S=!1}S&&(A++,I--),_++,b--,I>b&&(R=!1)}for(;l-- >1;){if(!R&&this.flags&Ae.SCRIPT_VERIFY_NULLFAIL&&!x&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;x>0&&x--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&Ae.SCRIPT_VERIFY_NULLDUMMY&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(R?Ae.true:Ae.false),k===Ie.OP_CHECKMULTISIGVERIFY)if(R)this.stack.pop();else return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1}break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return this.stack.length+this.altstack.length>Ae.MAX_STACK_SIZE?(this.errstr="SCRIPT_ERR_STACK_SIZE",!1):!0}});var Su=j((H2t,eR)=>{B();M();eR.exports=SC();eR.exports.Interpreter=BC()});var jf=j((U2t,Oie)=>{"use strict";B();M();var lx=Gr(),Ih=Zr(),rRe=Lu(),Iie=q9(),Am=mne(),wu=m6(),px=Ss(),Pie=Vi(),tR=Kf();function Ue(t,e,r,n){if(!(this instanceof Ue))return new Ue(t,e,r);if(lx.isArray(t)&&lx.isNumber(e))return Ue.createMultisig(t,e,r,!1,n);if(t instanceof Ue)return t;if(Ih.checkArgument(t,"First argument is required, please include address data.","guide/address.html"),e&&!wu.get(e))throw new TypeError('Second argument must be "livenet" or "testnet".');if(r&&r!==Ue.PayToPublicKeyHash&&r!==Ue.PayToScriptHash&&r!==Ue.PayToWitnessPublicKeyHash&&r!==Ue.PayToWitnessScriptHash&&r!==Ue.PayToTaproot)throw new TypeError('Third argument must be "pubkeyhash", "scripthash", "witnesspubkeyhash", "witnessscripthash", or "taproot".');var i=this._classifyArguments(t,e,r);return i.network=i.network||wu.get(e)||wu.defaultNetwork,i.type=i.type||r||Ue.PayToPublicKeyHash,Pie.defineImmutable(this,{hashBuffer:i.hashBuffer,network:i.network,type:i.type}),this}Ue.prototype._classifyArguments=function(t,e,r){if((t instanceof E.Buffer||t instanceof Uint8Array)&&(t.length===20||t.length===32))return Ue._transformHash(t,e,r);if((t instanceof E.Buffer||t instanceof Uint8Array)&&t.length>=21)return Ue._transformBuffer(t,e,r);if(t instanceof tR)return Ue._transformPublicKey(t,e,r);if(t instanceof q7)return Ue._transformScript(t,e);if(typeof t=="string")return Ue._transformString(t,e,r);if(lx.isObject(t))return Ue._transformObject(t);throw new TypeError("First argument is an unrecognized data format.")};Ue.PayToPublicKeyHash="pubkeyhash";Ue.PayToScriptHash="scripthash";Ue.PayToWitnessPublicKeyHash="witnesspubkeyhash";Ue.PayToWitnessScriptHash="witnessscripthash";Ue.PayToTaproot="taproot";Ue._transformHash=function(t,e,r){var n={};if(!(t instanceof E.Buffer)&&!(t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(t.length!==20&&t.length!==32)throw new TypeError("Address hashbuffers must be either 20 or 32 bytes.");return n.hashBuffer=t,n.network=wu.get(e)||wu.defaultNetwork,n.type=r,n};Ue._transformObject=function(t){return Ih.checkArgument(t.hash||t.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),Ih.checkArgument(t.type,"Must provide a `type` property"),{hashBuffer:t.hash?E.Buffer.from(t.hash,"hex"):t.hashBuffer,network:wu.get(t.network)||wu.defaultNetwork,type:t.type}};Ue._classifyFromVersion=function(t){var e={};if(t.length>21){var r=Am.decode(t.toString("utf8"));if(r.version!==0&&r.version!==1)throw new TypeError("Only witness v0 and v1 addresses are supported.");if(r.version===0)if(r.data.length===20)e.type=Ue.PayToWitnessPublicKeyHash;else if(r.data.length===32)e.type=Ue.PayToWitnessScriptHash;else throw new TypeError("Witness data must be either 20 or 32 bytes.");else if(r.version===1)if(r.data.length===32)e.type=Ue.PayToTaproot;else throw new TypeError("Witness data must be 32 bytes for v1");e.network=wu.get(r.prefix,"bech32prefix")}else{var n=wu.get(t[0],"pubkeyhash"),i=wu.get(t[0],"scripthash");n?(e.network=n,e.type=Ue.PayToPublicKeyHash):i&&(e.network=i,e.type=Ue.PayToScriptHash)}return e};Ue._transformBuffer=function(t,e,r){var n={};if(!(t instanceof E.Buffer)&&!(t instanceof Uint8Array))throw new TypeError("Address supplied is not a buffer.");if(t.length<21)throw new TypeError("Address buffer is incorrect length.");var i=wu.get(e),s=Ue._classifyFromVersion(t);if(e&&!i)throw new TypeError("Unknown network");if(!s.network||i&&i.xpubkey!==s.network.xpubkey)throw new TypeError("Address has mismatched network type.");if(!s.type||r&&r!==s.type)throw new TypeError("Address has mismatched type.");return t.length>21?n.hashBuffer=Am.decode(t.toString("utf8")).data:n.hashBuffer=t.slice(1),n.network=i||s.network,n.type=s.type,n};Ue._transformPublicKey=function(t,e,r){var n={};if(!(t instanceof tR))throw new TypeError("Address must be an instance of PublicKey.");if(r&&r!==Ue.PayToScriptHash&&r!==Ue.PayToWitnessPublicKeyHash&&r!==Ue.PayToPublicKeyHash&&r!==Ue.PayToTaproot)throw new TypeError("Type must be either pubkeyhash, witnesspubkeyhash, scripthash, or taproot to transform public key.");if(!t.compressed&&(r===Ue.PayToScriptHash||r===Ue.PayToWitnessPublicKeyHash))throw new TypeError("Witness addresses must use compressed public keys.");return r===Ue.PayToScriptHash?n.hashBuffer=px.sha256ripemd160(q7.buildWitnessV0Out(t).toBuffer()):r===Ue.PayToTaproot?n.hashBuffer=t.createTapTweak().tweakedPubKey:n.hashBuffer=px.sha256ripemd160(t.toBuffer()),n.type=r||Ue.PayToPublicKeyHash,n};Ue._transformScript=function(t,e){Ih.checkArgument(t instanceof q7,"script must be a Script instance");var r=t.getAddressInfo(e);if(!r)throw new rRe.Script.CantDeriveAddress(t);return r};Ue.createMultisig=function(t,e,r,n,i){if(r=r||t[0].network||wu.defaultNetwork,i&&i!==Ue.PayToScriptHash&&i!==Ue.PayToWitnessScriptHash)throw new TypeError("Type must be either scripthash or witnessscripthash to create multisig.");if(n||i===Ue.PayToWitnessScriptHash){t=lx.map(t,tR);for(var s=0;s<t.length;s++)if(!t[s].compressed)throw new TypeError("Witness addresses must use compressed public keys.")}var o=q7.buildMultisigOut(t,e);return n?Ue.payingTo(q7.buildWitnessMultisigOutFromScript(o),r):Ue.payingTo(o,r,i)};Ue._transformString=function(t,e,r){if(typeof t!="string")throw new TypeError("data parameter supplied is not a string.");if(t.length>100)throw new TypeError("address string is too long");if(e&&!wu.get(e))throw new TypeError("Unknown network");t=t.trim();try{var i=Ue._transformBuffer(E.Buffer.from(t,"utf8"),e,r);return i}catch(s){if(r===Ue.PayToWitnessPublicKeyHash||r===Ue.PayToWitnessScriptHash||r===Ue.PayToTaproot)throw s}var n=Iie.decode(t),i=Ue._transformBuffer(n,e,r);return i};Ue.fromPublicKey=function(t,e,r){var n=Ue._transformPublicKey(t,e,r);return e=e||wu.defaultNetwork,new Ue(n.hashBuffer,e,n.type)};Ue.fromPublicKeyHash=function(t,e){var r=Ue._transformHash(t);return new Ue(r.hashBuffer,e,Ue.PayToPublicKeyHash)};Ue.fromScriptHash=function(t,e,i){Ih.checkArgument(t,"hash parameter is required");var n=Ue._transformHash(t);if(i===Ue.PayToWitnessScriptHash&&t.length!==32)throw new TypeError("Address hashbuffer must be exactly 32 bytes for v0 witness script hash.");var i=i||Ue.PayToScriptHash;return new Ue(n.hashBuffer,e,i)};Ue.payingTo=function(t,e,i){Ih.checkArgument(t,"script is required"),Ih.checkArgument(t instanceof q7,"script must be instance of Script");var n;i===Ue.PayToWitnessScriptHash?n=px.sha256(t.toBuffer()):n=px.sha256ripemd160(t.toBuffer());var i=i||Ue.PayToScriptHash;return Ue.fromScriptHash(n,e,i)};Ue.fromScript=function(t,e){Ih.checkArgument(t instanceof q7,"script must be a Script instance");var r=Ue._transformScript(t,e);return new Ue(r.hashBuffer,e,r.type)};Ue.fromBuffer=function(t,e,r){var n=Ue._transformBuffer(t,e,r);return new Ue(n.hashBuffer,n.network,n.type)};Ue.fromString=function(t,e,r){var n=Ue._transformString(t,e,r);return new Ue(n.hashBuffer,n.network,n.type)};Ue.fromObject=function(e){Ih.checkState(Pie.isHexa(e.hash),'Unexpected hash property, "'+e.hash+'", expected to be hex.');var r=E.Buffer.from(e.hash,"hex");return new Ue(r,e.network,e.type)};Ue.getValidationError=function(t,e,r){var n;try{new Ue(t,e,r)}catch(i){n=i}return n};Ue.isValid=function(t,e,r){return!Ue.getValidationError(t,e,r)};Ue.prototype.isPayToPublicKeyHash=function(){return this.type===Ue.PayToPublicKeyHash};Ue.prototype.isPayToScriptHash=function(){return this.type===Ue.PayToScriptHash};Ue.prototype.isPayToWitnessPublicKeyHash=function(){return this.type===Ue.PayToWitnessPublicKeyHash};Ue.prototype.isPayToWitnessScriptHash=function(){return this.type===Ue.PayToWitnessScriptHash};Ue.prototype.isPayToTaproot=function(){return this.type===Ue.PayToTaproot};Ue.prototype.toBuffer=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash())return E.Buffer.from(this.toString(),"utf8");var t=E.Buffer.from([this.network[this.type]]);return E.Buffer.concat([t,this.hashBuffer])};Ue.prototype.toObject=Ue.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}};Ue.prototype.toString=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash()||this.isPayToTaproot()){let t=this.network.bech32prefix,e=0,r=Am.encodings.BECH32;return this.isPayToTaproot()&&(e=1,r=Am.encodings.BECH32M),Am.encode(t,e,this.hashBuffer,r)}return Iie.encode(this.toBuffer())};Ue.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"};Oie.exports=Ue;var q7=Su()});var Tm=j((K2t,Bie)=>{"use strict";B();M();function j7(){}j7.getRandomBuffer=function(t){return process.browser?j7.getRandomBufferBrowser(t):j7.getRandomBufferNode(t)};j7.getRandomBufferNode=function(t){var e=Cd();return e.randomBytes(t)};j7.getRandomBufferBrowser=function(t){if(!window.crypto&&!window.msCrypto)throw new Error("window.crypto not available");if(window.crypto&&window.crypto.getRandomValues)var e=window.crypto;else if(window.msCrypto&&window.msCrypto.getRandomValues)var e=window.msCrypto;else throw new Error("window.crypto.getRandomValues not available");var r=new Uint8Array(t);e.getRandomValues(r);var n=E.Buffer.from(r);return n};j7.getPseudoRandomBuffer=function(t){for(var e=4294967296,r=E.Buffer.alloc(t),n,i=0;i<=t;i++){var s=Math.floor(i/4),o=i-s*4;o===0?(n=Math.random()*e,r[i]=n&255):r[i]=(n=n>>>8)&255}return r};Bie.exports=j7});var _6=j((V2t,Cie)=>{"use strict";B();M();var bx=Gr(),nRe=jf(),Mie=q9(),Oh=uo(),kie=Vi(),Ph=m6(),gx=p6(),iRe=Kf(),sRe=Tm(),mx=Zr(),oRe=vh();function wr(t,e){if(!(this instanceof wr))return new wr(t,e);if(t instanceof wr)return t;var r=this._classifyArguments(t,e);if(!r.bn||r.bn.cmp(new Oh(0))===0)throw new TypeError("Number can not be equal to zero, undefined, null or false");if(!r.bn.lt(gx.getN()))throw new TypeError("Number must be less than N");if(typeof r.network>"u")throw new TypeError('Must specify the network ("livenet" or "testnet")');return kie.defineImmutable(this,{bn:r.bn,compressed:r.compressed,network:r.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}wr.prototype._classifyArguments=function(t,e){var r={compressed:!0,network:e?Ph.get(e):Ph.defaultNetwork};if(bx.isUndefined(t)||bx.isNull(t))r.bn=wr._getRandomBN();else if(t instanceof Oh)r.bn=t;else if(t instanceof E.Buffer||t instanceof Uint8Array)r=wr._transformBuffer(t,e);else if(t.bn&&t.network)r=wr._transformObject(t);else if(!e&&Ph.get(t))r.bn=wr._getRandomBN(),r.network=Ph.get(t);else if(typeof t=="string")kie.isHexa(t)?r.bn=new Oh(E.Buffer.from(t,"hex")):r=wr._transformWIF(t,e);else throw new TypeError("First argument is an unrecognized data type.");return r};wr._getRandomBN=function(){var t,e;do{var r=sRe.getRandomBuffer(32);e=Oh.fromBuffer(r),t=e.lt(gx.getN())}while(!t);return e};wr._transformBuffer=function(t,e){var r={};if(t.length===32)return wr._transformBNBuffer(t,e);if(r.network=Ph.get(t[0],"privatekey"),!r.network)throw new Error("Invalid network");if(e&&r.network!==Ph.get(e))throw new TypeError("Private key network mismatch");if(t.length===1+32+1&&t[1+32+1-1]===1)r.compressed=!0;else if(t.length===1+32)r.compressed=!1;else throw new Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");return r.bn=Oh.fromBuffer(t.slice(1,32+1)),r};wr._transformBNBuffer=function(t,e){var r={};return r.network=Ph.get(e)||Ph.defaultNetwork,r.bn=Oh.fromBuffer(t),r.compressed=!1,r};wr._transformWIF=function(t,e){return wr._transformBuffer(Mie.decode(t),e)};wr.fromBuffer=function(t,e){return new wr(t,e)};wr._transformObject=function(t){var e=new Oh(t.bn,"hex"),r=Ph.get(t.network);return{bn:e,network:r,compressed:t.compressed}};wr.fromString=wr.fromWIF=function(t){return mx.checkArgument(bx.isString(t),"First argument is expected to be a string."),new wr(t)};wr.fromObject=function(t){return mx.checkArgument(bx.isObject(t),"First argument is expected to be an object."),new wr(t)};wr.fromRandom=function(t){var e=wr._getRandomBN();return new wr(e,t)};wr.getValidationError=function(t,e){var r;try{new wr(t,e)}catch(n){r=n}return r};wr.isValid=function(t,e){return t?!wr.getValidationError(t,e):!1};wr.prototype.toString=function(){return this.toBuffer().toString("hex")};wr.prototype.toWIF=function(){var t=this.network,e=this.compressed,r;return e?r=E.Buffer.concat([E.Buffer.from([t.privatekey]),this.bn.toBuffer({size:32}),E.Buffer.from([1])]):r=E.Buffer.concat([E.Buffer.from([t.privatekey]),this.bn.toBuffer({size:32})]),Mie.encode(r)};wr.prototype.toBigNumber=function(){return this.bn};wr.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})};wr.prototype.toBufferNoPadding=function(){return this.bn.toBuffer()};wr.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=iRe.fromPrivateKey(this)),this._pubkey};wr.prototype.toAddress=function(t,e){var r=this.toPublicKey();return nRe.fromPublicKey(r,t||this.network,e)};wr.prototype.toObject=wr.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}};wr.prototype.createTapTweak=function(t){let e=gx.getN(),r=gx.getG().mul(this.bn),n=r.y.isEven()?this.bn:e.sub(this.bn),i=new oRe("TapTweak");i.write(r.x.toBuffer({size:32})),t&&(mx.checkArgument(E.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be 32 byte buffer"),i.write(t));let s=i.finalize();return mx.checkState(Oh.fromBuffer(s).lt(e),"TapTweak hash failed secp256k1 order check"),{tweakedPrivKey:n.add(new Oh(s)).mod(e).toBuffer({size:32})}};wr.prototype.inspect=function(){var t=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toString()+", network: "+this.network+t+">"};Cie.exports=wr});var Kf=j((Y2t,Fie)=>{"use strict";B();M();var Vf=uo(),A6=p6(),aRe=Ss(),Rie=Vi(),Nie=m6(),rR=Gr(),qu=Zr(),uRe=vh();function Mt(t,e){if(!(this instanceof Mt))return new Mt(t,e);if(qu.checkArgument(t,"First argument is required, please include public key data."),t instanceof Mt)return t;e=e||{};var r=this._classifyArgs(t,e);return r.point.validate(),Rie.defineImmutable(this,{point:r.point,compressed:r.compressed,network:r.network||Nie.defaultNetwork}),this}Mt.prototype._classifyArgs=function(t,e){var r={compressed:rR.isUndefined(e.compressed)||e.compressed};if(t instanceof A6)r.point=t;else if(t.x&&t.y)r=Mt._transformObject(t);else if(typeof t=="string")r=Mt._transformDER(E.Buffer.from(t,"hex"));else if(Mt._isBuffer(t))r=Mt._transformDER(t);else if(Mt._isPrivateKey(t))r=Mt._transformPrivateKey(t);else throw new TypeError("First argument is an unrecognized data format.");return r.network||(r.network=rR.isUndefined(e.network)?void 0:Nie.get(e.network)),r};Mt._isPrivateKey=function(t){var e=_6();return t instanceof e};Mt._isBuffer=function(t){return t instanceof E.Buffer||t instanceof Uint8Array};Mt._transformPrivateKey=function(t){qu.checkArgument(Mt._isPrivateKey(t),"Must be an instance of PrivateKey");var e={};return e.point=A6.getG().mul(t.bn),e.compressed=t.compressed,e.network=t.network,e};Mt._transformDER=function(t,e){qu.checkArgument(Mt._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r={};e=rR.isUndefined(e)?!0:e;var n,i,s,o;if(t[0]===4||!e&&(t[0]===6||t[0]===7)){if(s=t.slice(1,33),o=t.slice(33,65),s.length!==32||o.length!==32||t.length!==65)throw new TypeError("Length of x and y must be 32 bytes");n=new Vf(s),i=new Vf(o),r.point=new A6(n,i),r.compressed=!1}else if(t[0]===3)s=t.slice(1),n=new Vf(s),r=Mt._transformX(!0,n),r.compressed=!0;else if(t[0]===2)s=t.slice(1),n=new Vf(s),r=Mt._transformX(!1,n),r.compressed=!0;else throw new TypeError("Invalid DER format public key");return r};Mt._transformX=function(t,e){qu.checkArgument(typeof t=="boolean","Must specify whether y is odd or not (true or false)");var r={};return r.point=A6.fromX(t,e),r};Mt._transformObject=function(t){var e=new Vf(t.x,"hex"),r=new Vf(t.y,"hex"),n=new A6(e,r);return new Mt(n,{compressed:t.compressed})};Mt.fromPrivateKey=function(t){qu.checkArgument(Mt._isPrivateKey(t),"Must be an instance of PrivateKey");var e=Mt._transformPrivateKey(t);return new Mt(e.point,{compressed:e.compressed,network:e.network})};Mt.fromBuffer=function(t,e){return qu.checkArgument(Mt._isBuffer(t),"Must be a hex buffer of DER encoded public key or 32 byte X coordinate (taproot)"),t.length===32?Mt.fromX(!1,t):Mt.fromDER(t,e)};Mt.fromDER=function(t,e){qu.checkArgument(Mt._isBuffer(t),"Must be a hex buffer of DER encoded public key");var r=Mt._transformDER(t,e);return new Mt(r.point,{compressed:r.compressed})};Mt.fromPoint=function(t,e){return qu.checkArgument(t instanceof A6,"First argument must be an instance of Point."),new Mt(t,{compressed:e})};Mt.fromString=function(t,e){var r=E.Buffer.from(t,e||"hex"),n=Mt._transformDER(r);return new Mt(n.point,{compressed:n.compressed})};Mt.fromX=function(t,e){var r=Mt._transformX(t,e);return new Mt(r.point,{compressed:r.compressed})};Mt.fromTaproot=function(t){return typeof t=="string"&&Rie.isHexaString(t)&&(t=E.Buffer.from(t,"hex")),qu.checkArgument(E.Buffer.isBuffer(t),"hexBuf must be a hex string or buffer"),qu.checkArgument(t.length===32,"Taproot public keys must be 32 bytes"),new Mt.fromX(!1,t)};Mt.isValidTaproot=function(t){try{return!!Mt.fromTaproot(t)}catch{return!1}};Mt.prototype.computeTapTweakHash=function(t){let e=new uRe("TapTweak");e.write(this.point.x.toBuffer({size:32})),t&&(qu.checkArgument(E.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be 32 byte buffer"),e.write(t));let r=e.finalize(),n=A6.getN();return qu.checkState(Vf.fromBuffer(r).lt(n),"TapTweak hash failed secp256k1 order check"),r};Mt.prototype.checkTapTweak=function(t,e,r){E.Buffer.isBuffer(t)&&(t=Mt.fromTaproot(t));let n=t.computeTapTweakHash(e),s=t.point.liftX().add(this.point.curve.g.mul(Vf.fromBuffer(n)));return this.point.x.eq(s.x)&&s.y.mod(new Vf(2)).eq(new Vf(r[0]&1))};Mt.prototype.createTapTweak=function(t){qu.checkArgument(t==null||E.Buffer.isBuffer(t)&&t.length===32,"merkleRoot must be a 32 byte buffer");let e=this.computeTapTweakHash(t);e=new Vf(e);let r=this.point.liftX().add(A6.getG().mul(e));return{parity:r.y.isEven()?0:1,tweakedPubKey:r.x.toBuffer()}};Mt.getValidationError=function(t){var e;try{new Mt(t)}catch(r){e=r}return e};Mt.isValid=function(t){return!Mt.getValidationError(t)};Mt.prototype.toObject=Mt.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}};Mt.prototype.toBuffer=Mt.prototype.toDER=function(){var t=this.point.getX(),e=this.point.getY(),r=t.toBuffer({size:32}),n=e.toBuffer({size:32}),i;if(this.compressed){var s=n[n.length-1]%2;return s?i=E.Buffer.from([3]):i=E.Buffer.from([2]),E.Buffer.concat([i,r])}else return i=E.Buffer.from([4]),E.Buffer.concat([i,r,n])};Mt.prototype._getID=function(){return aRe.sha256ripemd160(this.toBuffer())};Mt.prototype.toAddress=function(t,e){var r=jf();return r.fromPublicKey(this,t||this.network,e)};Mt.prototype.toString=function(){return this.toDER().toString("hex")};Mt.prototype.inspect=function(){return"<PublicKey: "+this.toString()+(this.compressed?"":", uncompressed")+">"};Fie.exports=Mt});var mm=j((J2t,Hie)=>{"use strict";B();M();var ju=uo(),Qc=p6(),cRe=la(),fRe=Kf(),dRe=Tm(),T6=Ss(),iR=ni(),hRe=Gr(),nR=Zr(),Ji=function t(e){if(!(this instanceof t))return new t(e);e&&this.set(e)};Ji.prototype.set=function(t){return this.hashbuf=t.hashbuf||this.hashbuf,this.endian=t.endian||this.endian,this.privkey=t.privkey||this.privkey,this.pubkey=t.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=t.sig||this.sig,this.k=t.k||this.k,this.verified=t.verified||this.verified,this};Ji.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()};Ji.prototype.calci=function(){for(var t=0;t<4;t++){this.sig.i=t;var e;try{e=this.toPublicKey()}catch(r){console.error(r);continue}if(e.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,new Error("Unable to find valid recovery factor")};Ji.fromString=function(t){var e=JSON.parse(t);return new Ji(e)};Ji.prototype.randomK=function(){var t=Qc.getN(),e;do e=ju.fromBuffer(dRe.getRandomBuffer(32));while(!(e.lt(t)&&e.gt(ju.Zero)));return this.k=e,this};Ji.prototype.deterministicK=function(t){hRe.isUndefined(t)&&(t=0);var e=E.Buffer.alloc(32);e.fill(1);var r=E.Buffer.alloc(32);r.fill(0);var n=this.privkey.bn.toBuffer({size:32}),i=this.endian==="little"?iR.reverse(this.hashbuf):this.hashbuf;r=T6.sha256hmac(E.Buffer.concat([e,E.Buffer.from([0]),n,i]),r),e=T6.sha256hmac(e,r),r=T6.sha256hmac(E.Buffer.concat([e,E.Buffer.from([1]),n,i]),r),e=T6.sha256hmac(e,r),e=T6.sha256hmac(e,r);for(var s=ju.fromBuffer(e),o=Qc.getN(),a=0;a<t||!(s.lt(o)&&s.gt(ju.Zero));a++)r=T6.sha256hmac(E.Buffer.concat([e,E.Buffer.from([0])]),r),e=T6.sha256hmac(e,r),e=T6.sha256hmac(e,r),s=ju.fromBuffer(e);return this.k=s,this};Ji.prototype.toPublicKey=function(){var t=this.sig.i;nR.checkArgument(t===0||t===1||t===2||t===3,new Error("i must be equal to 0, 1, 2, or 3"));var e=ju.fromBuffer(this.hashbuf),r=this.sig.r,n=this.sig.s,i=t&1,s=t>>1,o=Qc.getN(),a=Qc.getG(),u=s?r.add(o):r,c=Qc.fromX(i,u),d=c.mul(o);if(!d.isInfinity())throw new Error("nR is not a valid curve point");var f=e.neg().umod(o),m=r.invm(o),p=c.mul(n).add(a.mul(f)).mul(m),y=fRe.fromPoint(p,this.sig.compressed);return y};Ji.prototype.sigError=function(){if(!iR.isBuffer(this.hashbuf)||this.hashbuf.length!==32)return"hashbuf must be a 32 byte buffer";var t=this.sig.r,e=this.sig.s;if(!(t.gt(ju.Zero)&&t.lt(Qc.getN()))||!(e.gt(ju.Zero)&&e.lt(Qc.getN())))return"r and s not in range";var r=ju.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),n=Qc.getN(),i=e.invm(n),s=i.mul(r).umod(n),o=i.mul(t).umod(n),a=Qc.getG().mulAdd(s,this.pubkey.point,o);return a.isInfinity()?"p is infinity":a.getX().umod(n).cmp(t)!==0?"Invalid signature":!1};Ji.toLowS=function(t){return t.gt(ju.fromBuffer(E.Buffer.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(t=Qc.getN().sub(t)),t};Ji.prototype._findSignature=function(t,e){var r=Qc.getN(),n=Qc.getG(),i=0,s,o,a,u;do(!this.k||i>0)&&this.deterministicK(i),i++,s=this.k,o=n.mul(s),a=o.x.umod(r),u=s.invm(r).mul(e.add(t.mul(a))).umod(r);while(a.cmp(ju.Zero)<=0||u.cmp(ju.Zero)<=0);return u=Ji.toLowS(u),{s:u,r:a}};Ji.prototype.sign=function(){var t=this.hashbuf,e=this.privkey,r=e.bn;nR.checkState(t&&e&&r,new Error("invalid parameters")),nR.checkState(iR.isBuffer(t)&&t.length===32,new Error("hashbuf must be a 32 byte buffer"));var n=ju.fromBuffer(t,this.endian?{endian:this.endian}:void 0),i=this._findSignature(r,n);return i.compressed=this.pubkey.compressed,this.sig=new cRe(i),this};Ji.prototype.signRandomK=function(){return this.randomK(),this.sign()};Ji.prototype.toString=function(){var t={};return this.hashbuf&&(t.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(t.privkey=this.privkey.toString()),this.pubkey&&(t.pubkey=this.pubkey.toString()),this.sig&&(t.sig=this.sig.toString()),this.k&&(t.k=this.k.toString()),JSON.stringify(t)};Ji.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this};Ji.sign=function(t,e,r){return Ji().set({hashbuf:t,endian:r,privkey:e}).sign().sig};Ji.verify=function(t,e,r,n){return Ji().set({hashbuf:t,endian:n,sig:e,pubkey:r}).verify().verified};Hie.exports=Ji});var qie=j((t3t,Uie)=>{"use strict";B();M();var Die=bo(),Lie=Cf(),lRe=uo(),Gf=function t(e){if(!(this instanceof t))return new t(e);if(E.Buffer.isBuffer(e))this.buf=e;else if(typeof e=="number"){var r=e;this.fromNumber(r)}else if(e instanceof lRe){var n=e;this.fromBN(n)}else if(e){var i=e;this.set(i)}};Gf.prototype.set=function(t){return this.buf=t.buf||this.buf,this};Gf.prototype.fromString=function(t){return this.set({buf:E.Buffer.from(t,"hex")}),this};Gf.prototype.toString=function(){return this.buf.toString("hex")};Gf.prototype.fromBuffer=function(t){return this.buf=t,this};Gf.prototype.fromBufferReader=function(t){return this.buf=t.readVarintBuf(),this};Gf.prototype.fromBN=function(t){return this.buf=Die().writeVarintBN(t).concat(),this};Gf.prototype.fromNumber=function(t){return this.buf=Die().writeVarintNum(t).concat(),this};Gf.prototype.toBuffer=function(){return this.buf};Gf.prototype.toBN=function(){return Lie(this.buf).readVarintBN()};Gf.prototype.toNumber=function(){return Lie(this.buf).readVarintNum()};Uie.exports=Gf});var Pm=j((s3t,$ie)=>{"use strict";B();M();var yx=Gr(),Im=uo(),tb=ni(),vx=Cf(),pRe=bo(),bRe=Ss(),i3t=Vi(),jie=Zr(),gRe=486604799,Vr=function t(e){if(!(this instanceof t))return new t(e);var r=t._from(e);return this.version=r.version,this.prevHash=r.prevHash,this.merkleRoot=r.merkleRoot,this.time=r.time,this.timestamp=r.time,this.bits=r.bits,this.nonce=r.nonce,r.hash&&jie.checkState(this.hash===r.hash,"Argument object hash property does not match block hash."),this};Vr._from=function(e){var r={};if(tb.isBuffer(e))r=Vr._fromBufferReader(vx(e));else if(yx.isObject(e))r=Vr._fromObject(e);else throw new TypeError("Unrecognized argument for BlockHeader");return r};Vr._fromObject=function(e){jie.checkArgument(e,"data is required");var r=e.prevHash,n=e.merkleRoot;yx.isString(e.prevHash)&&(r=tb.reverse(E.Buffer.from(e.prevHash,"hex"))),yx.isString(e.merkleRoot)&&(n=tb.reverse(E.Buffer.from(e.merkleRoot,"hex")));var i={hash:e.hash,version:e.version,prevHash:r,merkleRoot:n,time:e.time,timestamp:e.time,bits:e.bits,nonce:e.nonce};return i};Vr.fromObject=function(e){var r=Vr._fromObject(e);return new Vr(r)};Vr.fromRawBlock=function(e){tb.isBuffer(e)||(e=E.Buffer.from(e,"binary"));var r=vx(e);r.pos=Vr.Constants.START_OF_HEADER;var n=Vr._fromBufferReader(r);return new Vr(n)};Vr.fromBuffer=function(e){var r=Vr._fromBufferReader(vx(e));return new Vr(r)};Vr.fromString=function(e){var r=E.Buffer.from(e,"hex");return Vr.fromBuffer(r)};Vr._fromBufferReader=function(e){var r={};return r.version=e.readInt32LE(),r.prevHash=e.read(32),r.merkleRoot=e.read(32),r.time=e.readUInt32LE(),r.bits=e.readUInt32LE(),r.nonce=e.readUInt32LE(),r};Vr.fromBufferReader=function(e){var r=Vr._fromBufferReader(e);return new Vr(r)};Vr.prototype.toObject=Vr.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:tb.reverse(this.prevHash).toString("hex"),merkleRoot:tb.reverse(this.merkleRoot).toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}};Vr.prototype.toBuffer=function(){return this.toBufferWriter().concat()};Vr.prototype.toString=function(){return this.toBuffer().toString("hex")};Vr.prototype.toBufferWriter=function(e){return e||(e=new pRe),e.writeInt32LE(this.version),e.write(this.prevHash),e.write(this.merkleRoot),e.writeUInt32LE(this.time),e.writeUInt32LE(this.bits),e.writeUInt32LE(this.nonce),e};Vr.prototype.getTargetDifficulty=function(e){e=e||this.bits;for(var r=new Im(e&16777215),n=8*((e>>>24)-3);n-- >0;)r=r.mul(new Im(2));return r};Vr.prototype.getDifficulty=function(){var e=this.getTargetDifficulty(gRe).mul(new Im(Math.pow(10,8))),r=this.getTargetDifficulty(),n=e.div(r).toString(10),i=n.length-8;return n=n.slice(0,i)+"."+n.slice(i),parseFloat(n)};Vr.prototype._getHash=function(){var e=this.toBuffer();return bRe.sha256sha256(e)};var Kie={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=vx(this._getHash()).readReverse().toString("hex")),this._id},set:yx.noop};Object.defineProperty(Vr.prototype,"id",Kie);Object.defineProperty(Vr.prototype,"hash",Kie);Vr.prototype.validTimestamp=function(){var e=Math.round(new Date().getTime()/1e3);return!(this.time>e+Vr.Constants.MAX_TIME_OFFSET)};Vr.prototype.validProofOfWork=function(){var e=new Im(this.id,"hex"),r=this.getTargetDifficulty();return!(e.cmp(r)>0)};Vr.prototype.inspect=function(){return"<BlockHeader "+this.id+">"};Vr.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:2*60*60,LARGEST_HASH:new Im("10000000000000000000000000000000000000000000000000000000000000000","hex")};$ie.exports=Vr});var Zie=j((u3t,Xie)=>{"use strict";B();M();var oR=Gr(),Vie=Pm(),zie=uo(),Gie=ni(),aR=Cf(),mRe=bo(),yRe=Ss(),sR=Em(),Wie=Zr();function Dr(t){return this instanceof Dr?(oR.extend(this,Dr._from(t)),this):new Dr(t)}Dr.MAX_BLOCK_SIZE=1e6;Dr._from=function(e){var r={};if(Gie.isBuffer(e))r=Dr._fromBufferReader(aR(e));else if(oR.isObject(e))r=Dr._fromObject(e);else throw new TypeError("Unrecognized argument for Block");return r};Dr._fromObject=function(e){var r=[];e.transactions.forEach(function(i){i instanceof sR?r.push(i):r.push(sR().fromObject(i))});var n={header:Vie.fromObject(e.header),transactions:r};return n};Dr.fromObject=function(e){var r=Dr._fromObject(e);return new Dr(r)};Dr._fromBufferReader=function(e){var r={};Wie.checkState(!e.finished(),"No block data received"),r.header=Vie.fromBufferReader(e);var n=e.readVarintNum();r.transactions=[];for(var i=0;i<n;i++)r.transactions.push(sR().fromBufferReader(e));return r};Dr.fromBufferReader=function(e){Wie.checkArgument(e,"br is required");var r=Dr._fromBufferReader(e);return new Dr(r)};Dr.fromBuffer=function(e){return Dr.fromBufferReader(new aR(e))};Dr.fromString=function(e){var r=E.Buffer.from(e,"hex");return Dr.fromBuffer(r)};Dr.fromRawBlock=function(e){Gie.isBuffer(e)||(e=E.Buffer.from(e,"binary"));var r=aR(e);r.pos=Dr.Values.START_OF_BLOCK;var n=Dr._fromBufferReader(r);return new Dr(n)};Dr.prototype.toObject=Dr.prototype.toJSON=function(){var e=[];return this.transactions.forEach(function(r){e.push(r.toObject())}),{header:this.header.toObject(),transactions:e}};Dr.prototype.toBuffer=function(){return this.toBufferWriter().concat()};Dr.prototype.toString=function(){return this.toBuffer().toString("hex")};Dr.prototype.toBufferWriter=function(e){e||(e=new mRe),e.write(this.header.toBuffer()),e.writeVarintNum(this.transactions.length);for(var r=0;r<this.transactions.length;r++)this.transactions[r].toBufferWriter(e);return e};Dr.prototype.getTransactionHashes=function(){var e=[];if(this.transactions.length===0)return[Dr.Values.NULL_HASH];for(var r=0;r<this.transactions.length;r++)e.push(this.transactions[r]._getHash());return e};Dr.prototype.getMerkleTree=function(){for(var e=this.getTransactionHashes(),r=0,n=this.transactions.length;n>1;n=Math.floor((n+1)/2)){for(var i=0;i<n;i+=2){var s=Math.min(i+1,n-1),o=E.Buffer.concat([e[r+i],e[r+s]]);e.push(yRe.sha256sha256(o))}r+=n}return e};Dr.prototype.getMerkleRoot=function(){var e=this.getMerkleTree();return e[e.length-1]};Dr.prototype.validMerkleRoot=function(){var e=new zie(this.header.merkleRoot.toString("hex"),"hex"),r=new zie(this.getMerkleRoot().toString("hex"),"hex");return e.cmp(r)===0};Dr.prototype._getHash=function(){return this.header._getHash()};var Yie={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:oR.noop};Object.defineProperty(Dr.prototype,"id",Yie);Object.defineProperty(Dr.prototype,"hash",Yie);Dr.prototype.inspect=function(){return"<Block "+this.id+">"};Dr.Values={START_OF_BLOCK:8,NULL_HASH:E.Buffer.from("0000000000000000000000000000000000000000000000000000000000000000","hex")};Xie.exports=Dr});var dR=j((h3t,ese)=>{"use strict";B();M();var K7=Gr(),cR=Pm(),fR=ni(),Qie=Cf(),vRe=bo(),_Re=Ss(),d3t=Vi(),Jie=Em(),uR=Lu(),$7=Zr();function Ki(t){if(!(this instanceof Ki))return new Ki(t);var e={};if(fR.isBuffer(t))e=Ki._fromBufferReader(Qie(t));else if(K7.isObject(t)){var r;t.header instanceof cR?r=t.header:r=cR.fromObject(t.header),e={header:r,numTransactions:t.numTransactions,hashes:t.hashes,flags:t.flags}}else throw new TypeError("Unrecognized argument for MerkleBlock");return K7.extend(this,e),this._flagBitsUsed=0,this._hashesUsed=0,this}Ki.fromBuffer=function(e){return Ki.fromBufferReader(Qie(e))};Ki.fromBufferReader=function(e){return new Ki(Ki._fromBufferReader(e))};Ki.prototype.toBuffer=function(){return this.toBufferWriter().concat()};Ki.prototype.toBufferWriter=function(e){e||(e=new vRe),e.write(this.header.toBuffer()),e.writeUInt32LE(this.numTransactions),e.writeVarintNum(this.hashes.length);for(var r=0;r<this.hashes.length;r++)e.write(E.Buffer.from(this.hashes[r],"hex"));for(e.writeVarintNum(this.flags.length),r=0;r<this.flags.length;r++)e.writeUInt8(this.flags[r]);return e};Ki.prototype.toObject=Ki.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}};Ki.prototype.validMerkleTree=function(){if($7.checkState(K7.isArray(this.flags),"MerkleBlock flags is not an array"),$7.checkState(K7.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||this.flags.length*8<this.hashes.length)return!1;var e=this._calcTreeHeight(),r={hashesUsed:0,flagBitsUsed:0},n=this._traverseMerkleTree(e,0,r);return r.hashesUsed!==this.hashes.length?!1:fR.equals(n,this.header.merkleRoot)};Ki.prototype.filterdTxsHash=function(){if($7.checkState(K7.isArray(this.flags),"MerkleBlock flags is not an array"),$7.checkState(K7.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions)throw new uR.MerkleBlock.InvalidMerkleTree;if(this.flags.length*8<this.hashes.length)throw new uR.MerkleBlock.InvalidMerkleTree;if(this.hashes.length===1)return[];var e=this._calcTreeHeight(),r={hashesUsed:0,flagBitsUsed:0},n=this._traverseMerkleTree(e,0,r,!0);if(r.hashesUsed!==this.hashes.length)throw new uR.MerkleBlock.InvalidMerkleTree;return n};Ki.prototype._traverseMerkleTree=function(e,r,n,s){n=n||{},n.txs=n.txs||[],n.flagBitsUsed=n.flagBitsUsed||0,n.hashesUsed=n.hashesUsed||0;var s=s||!1;if(n.flagBitsUsed>this.flags.length*8)return null;var o=this.flags[n.flagBitsUsed>>3]>>>(n.flagBitsUsed++&7)&1;if(e===0||!o){if(n.hashesUsed>=this.hashes.length)return null;var a=this.hashes[n.hashesUsed++];return e===0&&o&&n.txs.push(a),E.Buffer.from(a,"hex")}else{var u=this._traverseMerkleTree(e-1,r*2,n),c=u;return r*2+1<this._calcTreeWidth(e-1)&&(c=this._traverseMerkleTree(e-1,r*2+1,n)),s?n.txs:_Re.sha256sha256(new E.Buffer.concat([u,c]))}};Ki.prototype._calcTreeWidth=function(e){return this.numTransactions+(1<<e)-1>>e};Ki.prototype._calcTreeHeight=function(){for(var e=0;this._calcTreeWidth(e)>1;)e++;return e};Ki.prototype.hasTransaction=function(e){$7.checkArgument(!K7.isUndefined(e),"tx cannot be undefined"),$7.checkArgument(e instanceof Jie||typeof e=="string",'Invalid tx given, tx must be a "string" or "Transaction"');var r=e;e instanceof Jie&&(r=fR.reverse(E.Buffer.from(e.id,"hex")).toString("hex"));var n=[],i=this._calcTreeHeight();return this._traverseMerkleTree(i,0,{txs:n}),n.indexOf(r)!==-1};Ki._fromBufferReader=function(e){$7.checkState(!e.finished(),"No merkleblock data received");var r={};r.header=cR.fromBufferReader(e),r.numTransactions=e.readUInt32LE();var n=e.readVarintNum();r.hashes=[];for(var i=0;i<n;i++)r.hashes.push(e.read(32).toString("hex"));var s=e.readVarintNum();for(r.flags=[],i=0;i<s;i++)r.flags.push(e.readUInt8());return r};Ki.fromObject=function(e){return new Ki(e)};ese.exports=Ki});var tse=j((b3t,_x)=>{B();M();_x.exports=Zie();_x.exports.BlockHeader=Pm();_x.exports.MerkleBlock=dR()});var lR=j((y3t,use)=>{"use strict";B();M();var ws=Gr(),nse=Zr(),ise=uo(),SRe=bm(),Sx=q9(),sse=Ss(),wx=pR(),z7=m6(),hR=p6(),ose=Kf(),ase=Lu(),Om=ase,Wf=ase.HDPublicKey,xx=ff(),rse=Vi(),Tn=ni();function Le(t){if(t instanceof Le)return t;if(!(this instanceof Le))return new Le(t);if(t)if(ws.isString(t)||Tn.isBuffer(t)){var e=Le.getSerializedError(t);if(e){if(Tn.isBuffer(t)&&!Le.getSerializedError(t.toString()))return this._buildFromSerialized(t.toString());if(e instanceof Wf.ArgumentIsPrivateExtended)return new wx(t).hdPublicKey;throw e}else return this._buildFromSerialized(t)}else{if(ws.isObject(t))return t instanceof wx?this._buildFromPrivate(t):this._buildFromObject(t);throw new Wf.UnrecognizedArgument(t)}else throw new Wf.MustSupplyArgument}Le.isValidPath=function(t){if(ws.isString(t)){var e=wx._getDerivationIndexes(t);return e!==null&&ws.every(e,Le.isValidPath)}return ws.isNumber(t)?t>=0&&t<Le.Hardened:!1};Le.prototype.derive=function(t,e){return this.deriveChild(t,e)};Le.prototype.deriveChild=function(t,e){if(ws.isNumber(t))return this._deriveWithNumber(t,e);if(ws.isString(t))return this._deriveFromString(t);throw new Wf.InvalidDerivationArgument(t)};Le.prototype._deriveWithNumber=function(t,e){if(t>=Le.Hardened||e)throw new Wf.InvalidIndexCantDeriveHardened;if(t<0)throw new Wf.InvalidPath(t);var r=Tn.integerAsBuffer(t),n=Tn.concat([this.publicKey.toBuffer(),r]),i=sse.sha512hmac(n,this._buffers.chainCode),s=ise.fromBuffer(i.slice(0,32),{size:32}),o=i.slice(32,64),a;try{a=ose.fromPoint(hR.getG().mul(s).add(this.publicKey.point))}catch{return this._deriveWithNumber(t+1)}var u=new Le({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:o,publicKey:a});return u};Le.prototype._deriveFromString=function(t){if(ws.includes(t,"'"))throw new Wf.InvalidIndexCantDeriveHardened;if(!Le.isValidPath(t))throw new Wf.InvalidPath(t);var e=wx._getDerivationIndexes(t),r=e.reduce(function(n,i){return n._deriveWithNumber(i)},this);return r};Le.isValidSerialized=function(t,e){return ws.isNull(Le.getSerializedError(t,e))};Le.getSerializedError=function(t,e){if(!(ws.isString(t)||Tn.isBuffer(t)))return new Wf.UnrecognizedArgument("expected buffer or string");if(!SRe.validCharacters(t))return new Om.InvalidB58Char("(unknown)",t);try{t=Sx.decode(t)}catch{return new Om.InvalidB58Checksum(t)}if(t.length!==Le.DataSize)return new Wf.InvalidLength(t);if(!ws.isUndefined(e)){var r=Le._validateNetwork(t,e);if(r)return r}var n=Tn.integerFromBuffer(t.slice(0,4));return n===z7.livenet.xprivkey||n===z7.testnet.xprivkey?new Wf.ArgumentIsPrivateExtended:null};Le._validateNetwork=function(t,e){var r=z7.get(e);if(!r)return new Om.InvalidNetworkArgument(e);var n=t.slice(Le.VersionStart,Le.VersionEnd);return Tn.integerFromBuffer(n)!==r.xpubkey?new Om.InvalidNetwork(n):null};Le.prototype._buildFromPrivate=function(t){var e=ws.clone(t._buffers),r=hR.getG().mul(ise.fromBuffer(e.privateKey));return e.publicKey=hR.pointToCompressed(r),e.version=Tn.integerAsBuffer(z7.get(Tn.integerFromBuffer(e.version)).xpubkey),e.privateKey=void 0,e.checksum=void 0,e.xprivkey=void 0,this._buildFromBuffers(e)};Le.prototype._buildFromObject=function(t){var e={version:t.network?Tn.integerAsBuffer(z7.get(t.network).xpubkey):t.version,depth:ws.isNumber(t.depth)?Tn.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:ws.isNumber(t.parentFingerPrint)?Tn.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:ws.isNumber(t.childIndex)?Tn.integerAsBuffer(t.childIndex):t.childIndex,chainCode:ws.isString(t.chainCode)?E.Buffer.from(t.chainCode,"hex"):t.chainCode,publicKey:ws.isString(t.publicKey)?E.Buffer.from(t.publicKey,"hex"):Tn.isBuffer(t.publicKey)?t.publicKey:t.publicKey.toBuffer(),checksum:ws.isNumber(t.checksum)?Tn.integerAsBuffer(t.checksum):t.checksum};return this._buildFromBuffers(e)};Le.prototype._buildFromSerialized=function(t){var e=Sx.decode(t),r={version:e.slice(Le.VersionStart,Le.VersionEnd),depth:e.slice(Le.DepthStart,Le.DepthEnd),parentFingerPrint:e.slice(Le.ParentFingerPrintStart,Le.ParentFingerPrintEnd),childIndex:e.slice(Le.ChildIndexStart,Le.ChildIndexEnd),chainCode:e.slice(Le.ChainCodeStart,Le.ChainCodeEnd),publicKey:e.slice(Le.PublicKeyStart,Le.PublicKeyEnd),checksum:e.slice(Le.ChecksumStart,Le.ChecksumEnd),xpubkey:t};return this._buildFromBuffers(r)};Le.prototype._buildFromBuffers=function(t){Le._validateBufferArguments(t),rse.defineImmutable(this,{_buffers:t});var e=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,t.publicKey],r=Tn.concat(e),n=Sx.checksum(r);if(!t.checksum||!t.checksum.length)t.checksum=n;else if(t.checksum.toString("hex")!==n.toString("hex"))throw new Om.InvalidB58Checksum(r,n);var i=z7.get(Tn.integerFromBuffer(t.version)),s;s=Sx.encode(Tn.concat(e)),t.xpubkey=E.Buffer.from(s);var o=new ose(t.publicKey,{network:i}),a=Le.ParentFingerPrintSize,u=sse.sha256ripemd160(o.toBuffer()).slice(0,a);return rse.defineImmutable(this,{xpubkey:s,network:i,depth:Tn.integerFromSingleByteBuffer(t.depth),publicKey:o,fingerPrint:u}),this};Le._validateBufferArguments=function(t){var e=function(r,n){var i=t[r];xx(Tn.isBuffer(i),r+" argument is not a buffer, it's "+typeof i),xx(i.length===n,r+" has not the expected size: found "+i.length+", expected "+n)};e("version",Le.VersionSize),e("depth",Le.DepthSize),e("parentFingerPrint",Le.ParentFingerPrintSize),e("childIndex",Le.ChildIndexSize),e("chainCode",Le.ChainCodeSize),e("publicKey",Le.PublicKeySize),t.checksum&&t.checksum.length&&e("checksum",Le.CheckSumSize)};Le.fromString=function(t){return nse.checkArgument(ws.isString(t),"No valid string was provided"),new Le(t)};Le.fromObject=function(t){return nse.checkArgument(ws.isObject(t),"No valid argument was provided"),new Le(t)};Le.prototype.toString=function(){return this.xpubkey};Le.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"};Le.prototype.toObject=Le.prototype.toJSON=function(){return{network:z7.get(Tn.integerFromBuffer(this._buffers.version)).name,depth:Tn.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:Tn.integerFromBuffer(this.fingerPrint),parentFingerPrint:Tn.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:Tn.integerFromBuffer(this._buffers.childIndex),chainCode:Tn.bufferToHex(this._buffers.chainCode),publicKey:this.publicKey.toString(),checksum:Tn.integerFromBuffer(this._buffers.checksum),xpubkey:this.xpubkey}};Le.fromBuffer=function(t){return new Le(t)};Le.prototype.toBuffer=function(){return Tn.copy(this._buffers.xpubkey)};Le.Hardened=2147483648;Le.RootElementAlias=["m","M"];Le.VersionSize=4;Le.DepthSize=1;Le.ParentFingerPrintSize=4;Le.ChildIndexSize=4;Le.ChainCodeSize=32;Le.PublicKeySize=33;Le.CheckSumSize=4;Le.DataSize=78;Le.SerializedByteSize=82;Le.VersionStart=0;Le.VersionEnd=Le.VersionStart+Le.VersionSize;Le.DepthStart=Le.VersionEnd;Le.DepthEnd=Le.DepthStart+Le.DepthSize;Le.ParentFingerPrintStart=Le.DepthEnd;Le.ParentFingerPrintEnd=Le.ParentFingerPrintStart+Le.ParentFingerPrintSize;Le.ChildIndexStart=Le.ParentFingerPrintEnd;Le.ChildIndexEnd=Le.ChildIndexStart+Le.ChildIndexSize;Le.ChainCodeStart=Le.ChildIndexEnd;Le.ChainCodeEnd=Le.ChainCodeStart+Le.ChainCodeSize;Le.PublicKeyStart=Le.ChainCodeEnd;Le.PublicKeyEnd=Le.PublicKeyStart+Le.PublicKeySize;Le.ChecksumStart=Le.PublicKeyEnd;Le.ChecksumEnd=Le.ChecksumStart+Le.CheckSumSize;xx(Le.PublicKeyEnd===Le.DataSize);xx(Le.ChecksumEnd===Le.SerializedByteSize);use.exports=Le});var pR=j((S3t,pse)=>{"use strict";B();M();var Ex=ff(),cse=$i(),Qi=Gr(),dse=Zr(),hse=uo(),wRe=bm(),Bm=q9(),bR=Ss(),V7=m6(),xRe=p6(),lse=_6(),ERe=Tm(),rb=Lu(),pd=rb.HDPrivateKey,ii=ni(),Mm=Vi(),ARe=128,fse=1/8,TRe=512;function Be(t){if(t instanceof Be)return t;if(!(this instanceof Be))return new Be(t);if(!t)return this._generateRandomly();if(V7.get(t))return this._generateRandomly(t);if(Qi.isString(t)||ii.isBuffer(t))if(Be.isValidSerialized(t))this._buildFromSerialized(t);else if(Mm.isValidJSON(t))this._buildFromJSON(t);else if(ii.isBuffer(t)&&Be.isValidSerialized(t.toString()))this._buildFromSerialized(t.toString());else throw Be.getSerializedError(t);else if(Qi.isObject(t))this._buildFromObject(t);else throw new pd.UnrecognizedArgument(t)}Be.isValidPath=function(t,e){if(Qi.isString(t)){var r=Be._getDerivationIndexes(t);return r!==null&&Qi.every(r,Be.isValidPath)}return Qi.isNumber(t)?(t<Be.Hardened&&e===!0&&(t+=Be.Hardened),t>=0&&t<Be.MaxIndex):!1};Be._getDerivationIndexes=function(t){var e=t.split("/");if(Qi.includes(Be.RootElementAlias,t))return[];if(!Qi.includes(Be.RootElementAlias,e[0]))return null;var r=e.slice(1).map(function(n){var i=n.slice(-1)==="'";if(i&&(n=n.slice(0,-1)),!n||n[0]==="-")return NaN;var s=+n;return i&&(s+=Be.Hardened),s});return Qi.some(r,isNaN)?null:r};Be.prototype.derive=function(t,e){return this.deriveNonCompliantChild(t,e)};Be.prototype.deriveChild=function(t,e){if(Qi.isNumber(t))return this._deriveWithNumber(t,e);if(Qi.isString(t))return this._deriveFromString(t);throw new pd.InvalidDerivationArgument(t)};Be.prototype.deriveNonCompliantChild=function(t,e){if(Qi.isNumber(t))return this._deriveWithNumber(t,e,!0);if(Qi.isString(t))return this._deriveFromString(t,!0);throw new pd.InvalidDerivationArgument(t)};Be.prototype._deriveWithNumber=function(t,e,r){if(!Be.isValidPath(t,e))throw new pd.InvalidPath(t);e=t>=Be.Hardened?!0:e,t<Be.Hardened&&e===!0&&(t+=Be.Hardened);var n=ii.integerAsBuffer(t),i;if(e&&r){var s=this.privateKey.bn.toBuffer();i=ii.concat([E.Buffer.from([0]),s,n])}else if(e){var o=this.privateKey.bn.toBuffer({size:32});Ex(o.length===32,"length of private key buffer is expected to be 32 bytes"),i=ii.concat([E.Buffer.from([0]),o,n])}else i=ii.concat([this.publicKey.toBuffer(),n]);var a=bR.sha512hmac(i,this._buffers.chainCode),u=hse.fromBuffer(a.slice(0,32),{size:32}),c=a.slice(32,64),d=u.add(this.privateKey.toBigNumber()).umod(xRe.getN()).toBuffer({size:32});if(!lse.isValid(d))return this._deriveWithNumber(t+1,null,r);var f=new Be({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:t,chainCode:c,privateKey:d});return f};Be.prototype._deriveFromString=function(t,e){if(!Be.isValidPath(t))throw new pd.InvalidPath(t);var r=Be._getDerivationIndexes(t),n=r.reduce(function(i,s){return i._deriveWithNumber(s,null,e)},this);return n};Be.isValidSerialized=function(t,e){return!Be.getSerializedError(t,e)};Be.getSerializedError=function(t,e){if(!(Qi.isString(t)||ii.isBuffer(t)))return new pd.UnrecognizedArgument("Expected string or buffer");if(!wRe.validCharacters(t))return new rb.InvalidB58Char("(unknown)",t);try{t=Bm.decode(t)}catch{return new rb.InvalidB58Checksum(t)}if(t.length!==Be.DataLength)return new pd.InvalidLength(t);if(!Qi.isUndefined(e)){var r=Be._validateNetwork(t,e);if(r)return r}return null};Be._validateNetwork=function(t,e){var r=V7.get(e);if(!r)return new rb.InvalidNetworkArgument(e);var n=t.slice(0,4);return ii.integerFromBuffer(n)!==r.xprivkey?new rb.InvalidNetwork(n):null};Be.fromString=function(t){return dse.checkArgument(Qi.isString(t),"No valid string was provided"),new Be(t)};Be.fromObject=function(t){return dse.checkArgument(Qi.isObject(t),"No valid argument was provided"),new Be(t)};Be.prototype._buildFromJSON=function(t){return this._buildFromObject(JSON.parse(t))};Be.prototype._buildFromObject=function(t){var e={version:t.network?ii.integerAsBuffer(V7.get(t.network).xprivkey):t.version,depth:Qi.isNumber(t.depth)?ii.integerAsSingleByteBuffer(t.depth):t.depth,parentFingerPrint:Qi.isNumber(t.parentFingerPrint)?ii.integerAsBuffer(t.parentFingerPrint):t.parentFingerPrint,childIndex:Qi.isNumber(t.childIndex)?ii.integerAsBuffer(t.childIndex):t.childIndex,chainCode:Qi.isString(t.chainCode)?E.Buffer.from(t.chainCode,"hex"):t.chainCode,privateKey:Qi.isString(t.privateKey)&&Mm.isHexa(t.privateKey)?E.Buffer.from(t.privateKey,"hex"):t.privateKey,checksum:t.checksum?t.checksum.length?t.checksum:ii.integerAsBuffer(t.checksum):void 0};return this._buildFromBuffers(e)};Be.prototype._buildFromSerialized=function(t){var e=Bm.decode(t),r={version:e.slice(Be.VersionStart,Be.VersionEnd),depth:e.slice(Be.DepthStart,Be.DepthEnd),parentFingerPrint:e.slice(Be.ParentFingerPrintStart,Be.ParentFingerPrintEnd),childIndex:e.slice(Be.ChildIndexStart,Be.ChildIndexEnd),chainCode:e.slice(Be.ChainCodeStart,Be.ChainCodeEnd),privateKey:e.slice(Be.PrivateKeyStart,Be.PrivateKeyEnd),checksum:e.slice(Be.ChecksumStart,Be.ChecksumEnd),xprivkey:t};return this._buildFromBuffers(r)};Be.prototype._generateRandomly=function(t){return Be.fromSeed(ERe.getRandomBuffer(64),t)};Be.fromSeed=function(t,e){if(Mm.isHexaString(t)&&(t=E.Buffer.from(t,"hex")),!E.Buffer.isBuffer(t))throw new pd.InvalidEntropyArgument(t);if(t.length<ARe*fse)throw new pd.InvalidEntropyArgument.NotEnoughEntropy(t);if(t.length>TRe*fse)throw new pd.InvalidEntropyArgument.TooMuchEntropy(t);var r=bR.sha512hmac(t,E.Buffer.from("Bitcoin seed"));return new Be({network:V7.get(e)||V7.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:r.slice(0,32),chainCode:r.slice(32,64)})};Be.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var t=lR();this._hdPublicKey=new t(this)}};Be.prototype._buildFromBuffers=function(t){Be._validateBufferArguments(t),Mm.defineImmutable(this,{_buffers:t});var e=[t.version,t.depth,t.parentFingerPrint,t.childIndex,t.chainCode,ii.emptyBuffer(1),t.privateKey],r=cse.Buffer.concat(e);if(!t.checksum||!t.checksum.length)t.checksum=Bm.checksum(r);else if(t.checksum.toString()!==Bm.checksum(r).toString())throw new rb.InvalidB58Checksum(r);var n=V7.get(ii.integerFromBuffer(t.version)),i;i=Bm.encode(cse.Buffer.concat(e)),t.xprivkey=E.Buffer.from(i);var s=new lse(hse.fromBuffer(t.privateKey),n),o=s.toPublicKey(),a=Be.ParentFingerPrintSize,u=bR.sha256ripemd160(o.toBuffer()).slice(0,a);return Mm.defineImmutable(this,{xprivkey:i,network:n,depth:ii.integerFromSingleByteBuffer(t.depth),privateKey:s,publicKey:o,fingerPrint:u}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this};Be._validateBufferArguments=function(t){var e=function(r,n){var i=t[r];Ex(ii.isBuffer(i),r+" argument is not a buffer"),Ex(i.length===n,r+" has not the expected size: found "+i.length+", expected "+n)};e("version",Be.VersionSize),e("depth",Be.DepthSize),e("parentFingerPrint",Be.ParentFingerPrintSize),e("childIndex",Be.ChildIndexSize),e("chainCode",Be.ChainCodeSize),e("privateKey",Be.PrivateKeySize),t.checksum&&t.checksum.length&&e("checksum",Be.CheckSumSize)};Be.prototype.toString=function(){return this.xprivkey};Be.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"};Be.prototype.toObject=Be.prototype.toJSON=function(){return{network:V7.get(ii.integerFromBuffer(this._buffers.version),"xprivkey").name,depth:ii.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:ii.integerFromBuffer(this.fingerPrint),parentFingerPrint:ii.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:ii.integerFromBuffer(this._buffers.childIndex),chainCode:ii.bufferToHex(this._buffers.chainCode),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:ii.integerFromBuffer(this._buffers.checksum),xprivkey:this.xprivkey}};Be.fromBuffer=function(t){return new Be(t.toString())};Be.prototype.toBuffer=function(){return ii.copy(this._buffers.xprivkey)};Be.DefaultDepth=0;Be.DefaultFingerprint=0;Be.DefaultChildIndex=0;Be.Hardened=2147483648;Be.MaxIndex=2*Be.Hardened;Be.RootElementAlias=["m","M","m'","M'"];Be.VersionSize=4;Be.DepthSize=1;Be.ParentFingerPrintSize=4;Be.ChildIndexSize=4;Be.ChainCodeSize=32;Be.PrivateKeySize=32;Be.CheckSumSize=4;Be.DataLength=78;Be.SerializedByteSize=82;Be.VersionStart=0;Be.VersionEnd=Be.VersionStart+Be.VersionSize;Be.DepthStart=Be.VersionEnd;Be.DepthEnd=Be.DepthStart+Be.DepthSize;Be.ParentFingerPrintStart=Be.DepthEnd;Be.ParentFingerPrintEnd=Be.ParentFingerPrintStart+Be.ParentFingerPrintSize;Be.ChildIndexStart=Be.ParentFingerPrintEnd;Be.ChildIndexEnd=Be.ChildIndexStart+Be.ChildIndexSize;Be.ChainCodeStart=Be.ChildIndexEnd;Be.ChainCodeEnd=Be.ChainCodeStart+Be.ChainCodeSize;Be.PrivateKeyStart=Be.ChainCodeEnd+1;Be.PrivateKeyEnd=Be.PrivateKeyStart+Be.PrivateKeySize;Be.ChecksumStart=Be.PrivateKeyEnd;Be.ChecksumEnd=Be.ChecksumStart+Be.CheckSumSize;Ex(Be.ChecksumEnd===Be.SerializedByteSize);pse.exports=Be});var mse=j((A3t,gse)=>{"use strict";B();M();var km=Gr(),IRe=_6(),PRe=Kf(),Ax=jf(),bse=bo(),Tx=mm(),gR=la(),ORe=Ss().sha256sha256,BRe=Vi(),I6=Zr();function xs(t){return this instanceof xs?(I6.checkArgument(km.isString(t),"First argument should be a string"),this.message=t,this):new xs(t)}xs.MAGIC_BYTES=E.Buffer.from(`Bitcoin Signed Message:
`);xs.prototype.magicHash=function(){var e=bse.varintBufNum(xs.MAGIC_BYTES.length),r=E.Buffer.from(this.message),n=bse.varintBufNum(r.length),i=E.Buffer.concat([e,xs.MAGIC_BYTES,n,r]),s=ORe(i);return s};xs.prototype._sign=function(e){I6.checkArgument(e instanceof IRe,"First argument should be an instance of PrivateKey");var r=this.magicHash(),n=new Tx;return n.hashbuf=r,n.privkey=e,n.pubkey=e.toPublicKey(),n.signRandomK(),n.calci(),n.sig};xs.prototype.sign=function(e){var r=this._sign(e);return r.toCompact().toString("base64")};xs.prototype._verify=function(e,r){I6.checkArgument(e instanceof PRe,"First argument should be an instance of PublicKey"),I6.checkArgument(r instanceof gR,"Second argument should be an instance of Signature");var n=this.magicHash(),i=Tx.verify(n,r,e);return i||(this.error="The signature was invalid"),i};xs.prototype.verify=function(e,r){I6.checkArgument(e),I6.checkArgument(r&&km.isString(r)),km.isString(e)&&(e=Ax.fromString(e));var n=gR.fromCompact(E.Buffer.from(r,"base64")),i=new Tx;i.hashbuf=this.magicHash(),i.sig=n;var s=i.toPublicKey(),o=Ax.fromPublicKey(s,e.network);return e.toString()!==o.toString()?(this.error="The signature did not match the message digest",!1):this._verify(s,n)};xs.prototype.recoverPublicKey=function(e,r){I6.checkArgument(e),I6.checkArgument(r&&km.isString(r)),km.isString(e)&&(e=Ax.fromString(e));var n=gR.fromCompact(E.Buffer.from(r,"base64")),i=new Tx;i.hashbuf=this.magicHash(),i.sig=n;var s=i.toPublicKey(),o=Ax.fromPublicKey(s,e.network);return e.toString()!==o.toString()&&(this.error="The signature did not match the message digest"),s.toString()};xs.fromString=function(t){return new xs(t)};xs.fromJSON=function(e){return BRe.isValidJSON(e)&&(e=JSON.parse(e)),new xs(e.message)};xs.prototype.toObject=function(){return{message:this.message}};xs.prototype.toJSON=function(){return JSON.stringify(this.toObject())};xs.prototype.toString=function(){return this.message};xs.prototype.inspect=function(){return"<Message: "+this.toString()+">"};gse.exports=xs;var E3t=Su()});var xse=j((P3t,wse)=>{"use strict";B();M();var vse=Gr(),_se=AF(),yse=jf(),Sse=ux(),es=function(t,e){if(!(this instanceof es))return new es(t,e);if(this.extras={},this.knownParams=e||[],this.address=this.network=this.amount=this.message=null,typeof t=="string"){var r=es.parse(t);r.amount&&(r.amount=this._parseAmount(r.amount)),this._fromObject(r)}else if(typeof t=="object")this._fromObject(t);else throw new TypeError("Unrecognized data format.")};es.fromString=function(e){if(typeof e!="string")throw new TypeError("Expected a string");return new es(e)};es.fromObject=function(e){return new es(e)};es.isValid=function(t,e){try{new es(t,e)}catch{return!1}return!0};es.parse=function(t){var e=_se.parse(t,!0);if(e.protocol!=="bitcoin:")throw new TypeError("Invalid bitcoin URI");var r=/[^:]*:\/?\/?([^?]*)/.exec(t);return e.query.address=r&&r[1]||void 0,e.query};es.Members=["address","amount","message","label","r"];es.prototype._fromObject=function(t){if(!yse.isValid(t.address))throw new TypeError("Invalid bitcoin address");this.address=new yse(t.address),this.network=this.address.network,this.amount=t.amount;for(var e in t)if(!(e==="address"||e==="amount")){if(/^req-/.exec(e)&&this.knownParams.indexOf(e)===-1)throw Error("Unknown required argument "+e);var r=es.Members.indexOf(e)>-1?this:this.extras;r[e]=t[e]}};es.prototype._parseAmount=function(t){if(t=Number(t),isNaN(t))throw new TypeError("Invalid amount");return Sse.fromBTC(t).toSatoshis()};es.prototype.toObject=es.prototype.toJSON=function(){for(var e={},r=0;r<es.Members.length;r++){var n=es.Members[r];this.hasOwnProperty(n)&&typeof this[n]<"u"&&(e[n]=this[n].toString())}return vse.extend(e,this.extras),e};es.prototype.toString=function(){var t={};return this.amount&&(t.amount=Sse.fromSatoshis(this.amount).toBTC()),this.message&&(t.message=this.message),this.label&&(t.label=this.label),this.r&&(t.r=this.r),vse.extend(t,this.extras),_se.format({protocol:"bitcoin:",host:this.address,query:t})};es.prototype.inspect=function(){return"<URI: "+this.toString()+">"};wse.exports=es});var Ase=j((M3t,Ese)=>{"use strict";B();M();var ur=Ese.exports;ur.version="v"+ure().version;ur.versionGuard=function(t){if(t!==void 0){var e="More than one instance of bitcore-lib found. Please make sure to require bitcore-lib and check that submodules do not also include their own bitcore-lib dependency.";throw new Error(e)}};ur.versionGuard(globalThis._bitcore);globalThis._bitcore=ur.version;ur.crypto={};ur.crypto.BN=uo();ur.crypto.ECDSA=mm();ur.crypto.Schnorr=EC();ur.crypto.Hash=Ss();ur.crypto.Random=Tm();ur.crypto.Point=p6();ur.crypto.Signature=la();ur.crypto.TaggedHash=vh();ur.encoding={};ur.encoding.Base58=bm();ur.encoding.Base58Check=q9();ur.encoding.BufferReader=Cf();ur.encoding.BufferWriter=bo();ur.encoding.Varint=qie();ur.util={};ur.util.buffer=ni();ur.util.js=Vi();ur.util.preconditions=Zr();ur.errors=Lu();ur.Address=jf();ur.Block=tse();ur.MerkleBlock=dR();ur.BlockHeader=Pm();ur.HDPrivateKey=pR();ur.HDPublicKey=lR();ur.Message=mse();ur.Networks=m6();ur.Opcode=Ww();ur.PrivateKey=_6();ur.PublicKey=Kf();ur.Script=Su();ur.Transaction=Em();ur.URI=xse();ur.Unit=ux();ur.deps={};ur.deps.bnjs=uk();ur.deps.bs58=gC();ur.deps.Buffer=E.Buffer;ur.deps.elliptic=fC();ur.deps._=Gr();ur.Transaction.sighash=Sh()});var nb=j(mR=>{"use strict";B();M();Object.defineProperty(mR,"__esModule",{value:!0});mR.btc=Ase()});var yR=j(Px=>{"use strict";B();M();Object.defineProperty(Px,"__esModule",{value:!0});Px.ProtocolState=void 0;var Ix=jr(),MRe=ri(),kRe=nb(),bd=(0,Ix.toByteString)(""),Bh=class{constructor(e,r){this.stateHashList=e,this.dataList=r}get hashRoot(){let e="";for(let r=0;r<this.stateHashList.length;r++)e+=(0,Ix.hash160)(this.stateHashList[r]);return(0,Ix.hash160)(e)}get stateScript(){return new kRe.btc.Script(MRe.TxUtil.getStateScript(this.hashRoot))}static toStateHashList(e){let r=[bd,bd,bd,bd,bd];for(let n=0;n<e.length;n++){let i=e[n];i&&(r[n]=(0,Ix.hash160)(i))}return r}static fromDataList(e){return new Bh(Bh.toStateHashList(e),e)}static fromStateHashList(e){return new Bh(e)}static getEmptyState(){let e=[bd,bd,bd,bd,bd];return Bh.fromDataList(e)}updateDataList(e,r){this.dataList[e]=r,this.stateHashList=Bh.toStateHashList(this.dataList)}};Px.ProtocolState=Bh});var Tse=j((U3t,CRe)=>{CRe.exports={name:"bigi",version:"1.4.2",description:"Big integers.",keywords:["cryptography","math","bitcoin","arbitrary","precision","arithmetic","big","integer","int","number","biginteger","bigint","bignumber","decimal","float"],devDependencies:{coveralls:"^2.11.2",istanbul:"^0.3.5",jshint:"^2.5.1",mocha:"^2.1.0",mochify:"^2.1.0"},repository:{url:"https://github.com/cryptocoinjs/bigi",type:"git"},main:"./lib/index.js",scripts:{"browser-test":"./node_modules/.bin/mochify --wd -R spec",test:"./node_modules/.bin/_mocha -- test/*.js",jshint:"./node_modules/.bin/jshint --config jshint.json lib/*.js ; true",unit:"./node_modules/.bin/mocha",coverage:"./node_modules/.bin/istanbul cover ./node_modules/.bin/_mocha -- --reporter list test/*.js",coveralls:"npm run-script coverage && node ./node_modules/.bin/coveralls < coverage/lcov.info"},dependencies:{},testling:{files:"test/*.js",harness:"mocha",browsers:["ie/9..latest","firefox/latest","chrome/latest","safari/6.0..latest","iphone/6.0..latest","android-browser/4.2..latest"]}}});var SR=j((q3t,kse)=>{B();M();function st(t,e,r){if(!(this instanceof st))return new st(t,e,r);t!=null&&(typeof t=="number"?this.fromNumber(t,e,r):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}var et=st.prototype;et.__bigi=Tse().version;st.isBigInteger=function(t,e){return t&&t.__bigi&&(!e||t.__bigi===et.__bigi)};var ib;function RRe(t,e,r,n,i,s){for(;--s>=0;){var o=e*this[t++]+r[n]+i;i=Math.floor(o/67108864),r[n++]=o&67108863}return i}st.prototype.am=RRe;ib=26;st.prototype.DB=ib;st.prototype.DM=(1<<ib)-1;var NRe=st.prototype.DV=1<<ib,vR=52;st.prototype.FV=Math.pow(2,vR);st.prototype.F1=vR-ib;st.prototype.F2=2*ib-vR;var FRe="0123456789abcdefghijklmnopqrstuvwxyz",Ox=new Array,sb,ef;sb="0".charCodeAt(0);for(ef=0;ef<=9;++ef)Ox[sb++]=ef;sb="a".charCodeAt(0);for(ef=10;ef<36;++ef)Ox[sb++]=ef;sb="A".charCodeAt(0);for(ef=10;ef<36;++ef)Ox[sb++]=ef;function Ise(t){return FRe.charAt(t)}function Pse(t,e){var r=Ox[t.charCodeAt(e)];return r??-1}function HRe(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function DRe(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+NRe:this.t=0}function Mh(t){var e=new st;return e.fromInt(t),e}function LRe(t,e){var r=this,n;if(e==16)n=4;else if(e==8)n=3;else if(e==256)n=8;else if(e==2)n=1;else if(e==32)n=5;else if(e==4)n=2;else{r.fromRadix(t,e);return}r.t=0,r.s=0;for(var i=t.length,s=!1,o=0;--i>=0;){var a=n==8?t[i]&255:Pse(t,i);if(a<0){t.charAt(i)=="-"&&(s=!0);continue}s=!1,o==0?r[r.t++]=a:o+n>r.DB?(r[r.t-1]|=(a&(1<<r.DB-o)-1)<<o,r[r.t++]=a>>r.DB-o):r[r.t-1]|=a<<o,o+=n,o>=r.DB&&(o-=r.DB)}n==8&&(t[0]&128)!=0&&(r.s=-1,o>0&&(r[r.t-1]|=(1<<r.DB-o)-1<<o)),r.clamp(),s&&st.ZERO.subTo(r,r)}function URe(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function qRe(t){var e=this;if(e.s<0)return"-"+e.negate().toString(t);var r;if(t==16)r=4;else if(t==8)r=3;else if(t==2)r=1;else if(t==32)r=5;else if(t==4)r=2;else return e.toRadix(t);var n=(1<<r)-1,i,s=!1,o="",a=e.t,u=e.DB-a*e.DB%r;if(a-- >0)for(u<e.DB&&(i=e[a]>>u)>0&&(s=!0,o=Ise(i));a>=0;)u<r?(i=(e[a]&(1<<u)-1)<<r-u,i|=e[--a]>>(u+=e.DB-r)):(i=e[a]>>(u-=r)&n,u<=0&&(u+=e.DB,--a)),i>0&&(s=!0),s&&(o+=Ise(i));return s?o:"0"}function jRe(){var t=new st;return st.ZERO.subTo(this,t),t}function KRe(){return this.s<0?this.negate():this}function $Re(t){var e=this.s-t.s;if(e!=0)return e;var r=this.t;if(e=r-t.t,e!=0)return this.s<0?-e:e;for(;--r>=0;)if((e=this[r]-t[r])!=0)return e;return 0}function Bx(t){var e=1,r;return(r=t>>>16)!=0&&(t=r,e+=16),(r=t>>8)!=0&&(t=r,e+=8),(r=t>>4)!=0&&(t=r,e+=4),(r=t>>2)!=0&&(t=r,e+=2),(r=t>>1)!=0&&(t=r,e+=1),e}function zRe(){return this.t<=0?0:this.DB*(this.t-1)+Bx(this[this.t-1]^this.s&this.DM)}function VRe(){return this.bitLength()>>3}function GRe(t,e){var r;for(r=this.t-1;r>=0;--r)e[r+t]=this[r];for(r=t-1;r>=0;--r)e[r]=0;e.t=this.t+t,e.s=this.s}function WRe(t,e){for(var r=t;r<this.t;++r)e[r-t]=this[r];e.t=Math.max(this.t-t,0),e.s=this.s}function YRe(t,e){var r=this,n=t%r.DB,i=r.DB-n,s=(1<<i)-1,o=Math.floor(t/r.DB),a=r.s<<n&r.DM,u;for(u=r.t-1;u>=0;--u)e[u+o+1]=r[u]>>i|a,a=(r[u]&s)<<n;for(u=o-1;u>=0;--u)e[u]=0;e[o]=a,e.t=r.t+o+1,e.s=r.s,e.clamp()}function XRe(t,e){var r=this;e.s=r.s;var n=Math.floor(t/r.DB);if(n>=r.t){e.t=0;return}var i=t%r.DB,s=r.DB-i,o=(1<<i)-1;e[0]=r[n]>>i;for(var a=n+1;a<r.t;++a)e[a-n-1]|=(r[a]&o)<<s,e[a-n]=r[a]>>i;i>0&&(e[r.t-n-1]|=(r.s&o)<<s),e.t=r.t-n,e.clamp()}function ZRe(t,e){for(var r=this,n=0,i=0,s=Math.min(t.t,r.t);n<s;)i+=r[n]-t[n],e[n++]=i&r.DM,i>>=r.DB;if(t.t<r.t){for(i-=t.s;n<r.t;)i+=r[n],e[n++]=i&r.DM,i>>=r.DB;i+=r.s}else{for(i+=r.s;n<t.t;)i-=t[n],e[n++]=i&r.DM,i>>=r.DB;i-=t.s}e.s=i<0?-1:0,i<-1?e[n++]=r.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function JRe(t,e){var r=this.abs(),n=t.abs(),i=r.t;for(e.t=i+n.t;--i>=0;)e[i]=0;for(i=0;i<n.t;++i)e[i+r.t]=r.am(0,n[i],e,i,0,r.t);e.s=0,e.clamp(),this.s!=t.s&&st.ZERO.subTo(e,e)}function QRe(t){for(var e=this.abs(),r=t.t=2*e.t;--r>=0;)t[r]=0;for(r=0;r<e.t-1;++r){var n=e.am(r,e[r],t,2*r,0,1);(t[r+e.t]+=e.am(r+1,2*e[r],t,2*r+1,n,e.t-r-1))>=e.DV&&(t[r+e.t]-=e.DV,t[r+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(r,e[r],t,2*r,0,1)),t.s=0,t.clamp()}function eNe(t,e,r){var n=this,i=t.abs();if(!(i.t<=0)){var s=n.abs();if(s.t<i.t){e?.fromInt(0),r!=null&&n.copyTo(r);return}r==null&&(r=new st);var o=new st,a=n.s,u=t.s,c=n.DB-Bx(i[i.t-1]);c>0?(i.lShiftTo(c,o),s.lShiftTo(c,r)):(i.copyTo(o),s.copyTo(r));var d=o.t,f=o[d-1];if(f!=0){var m=f*(1<<n.F1)+(d>1?o[d-2]>>n.F2:0),p=n.FV/m,y=(1<<n.F1)/m,w=1<<n.F2,P=r.t,C=P-d,R=e??new st;for(o.dlShiftTo(C,R),r.compareTo(R)>=0&&(r[r.t++]=1,r.subTo(R,r)),st.ONE.dlShiftTo(d,R),R.subTo(o,o);o.t<d;)o[o.t++]=0;for(;--C>=0;){var T=r[--P]==f?n.DM:Math.floor(r[P]*p+(r[P-1]+w)*y);if((r[P]+=o.am(0,T,r,C,0,d))<T)for(o.dlShiftTo(C,R),r.subTo(R,r);r[P]<--T;)r.subTo(R,r)}e!=null&&(r.drShiftTo(d,e),a!=u&&st.ZERO.subTo(e,e)),r.t=d,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&st.ZERO.subTo(r,r)}}}function tNe(t){var e=new st;return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(st.ZERO)>0&&t.subTo(e,e),e}function G7(t){this.m=t}function rNe(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function nNe(t){return t}function iNe(t){t.divRemTo(this.m,null,t)}function sNe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}function oNe(t,e){t.squareTo(e),this.reduce(e)}G7.prototype.convert=rNe;G7.prototype.revert=nNe;G7.prototype.reduce=iNe;G7.prototype.mulTo=sNe;G7.prototype.sqrTo=oNe;function aNe(){if(this.t<1)return 0;var t=this[0];if((t&1)==0)return 0;var e=t&3;return e=e*(2-(t&15)*e)&15,e=e*(2-(t&255)*e)&255,e=e*(2-((t&65535)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function W7(t){this.m=t,this.mp=t.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function uNe(t){var e=new st;return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(st.ZERO)>0&&this.m.subTo(e,e),e}function cNe(t){var e=new st;return t.copyTo(e),this.reduce(e),e}function fNe(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var r=t[e]&32767,n=r*this.mpl+((r*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(r=e+this.m.t,t[r]+=this.m.am(0,n,t,e,0,this.m.t);t[r]>=t.DV;)t[r]-=t.DV,t[++r]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function dNe(t,e){t.squareTo(e),this.reduce(e)}function hNe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}W7.prototype.convert=uNe;W7.prototype.revert=cNe;W7.prototype.reduce=fNe;W7.prototype.mulTo=hNe;W7.prototype.sqrTo=dNe;function lNe(){return(this.t>0?this[0]&1:this.s)==0}function pNe(t,e){if(t>4294967295||t<1)return st.ONE;var r=new st,n=new st,i=e.convert(this),s=Bx(t)-1;for(i.copyTo(r);--s>=0;)if(e.sqrTo(r,n),(t&1<<s)>0)e.mulTo(n,i,r);else{var o=r;r=n,n=o}return e.revert(r)}function bNe(t,e){var r;return t<256||e.isEven()?r=new G7(e):r=new W7(e),this.exp(t,r)}et.copyTo=HRe;et.fromInt=DRe;et.fromString=LRe;et.clamp=URe;et.dlShiftTo=GRe;et.drShiftTo=WRe;et.lShiftTo=YRe;et.rShiftTo=XRe;et.subTo=ZRe;et.multiplyTo=JRe;et.squareTo=QRe;et.divRemTo=eNe;et.invDigit=aNe;et.isEven=lNe;et.exp=pNe;et.toString=qRe;et.negate=jRe;et.abs=KRe;et.compareTo=$Re;et.bitLength=zRe;et.byteLength=VRe;et.mod=tNe;et.modPowInt=bNe;function gNe(){var t=new st;return this.copyTo(t),t}function mNe(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function yNe(){return this.t==0?this.s:this[0]<<24>>24}function vNe(){return this.t==0?this.s:this[0]<<16>>16}function _Ne(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}function SNe(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function wNe(t){if(t==null&&(t=10),this.signum()==0||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),n=Mh(r),i=new st,s=new st,o="";for(this.divRemTo(n,i,s);i.signum()>0;)o=(r+s.intValue()).toString(t).substr(1)+o,i.divRemTo(n,i,s);return s.intValue().toString(t)+o}function xNe(t,e){var r=this;r.fromInt(0),e==null&&(e=10);for(var n=r.chunkSize(e),i=Math.pow(e,n),s=!1,o=0,a=0,u=0;u<t.length;++u){var c=Pse(t,u);if(c<0){t.charAt(u)=="-"&&r.signum()==0&&(s=!0);continue}a=e*a+c,++o>=n&&(r.dMultiply(i),r.dAddOffset(a,0),o=0,a=0)}o>0&&(r.dMultiply(Math.pow(e,o)),r.dAddOffset(a,0)),s&&st.ZERO.subTo(r,r)}function ENe(t,e,r){var n=this;if(typeof e=="number")if(t<2)n.fromInt(1);else for(n.fromNumber(t,r),n.testBit(t-1)||n.bitwiseTo(st.ONE.shiftLeft(t-1),_R,n),n.isEven()&&n.dAddOffset(1,0);!n.isProbablePrime(e);)n.dAddOffset(2,0),n.bitLength()>t&&n.subTo(st.ONE.shiftLeft(t-1),n);else{var i=new Array,s=t&7;i.length=(t>>3)+1,e.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,n.fromString(i,256)}}function ANe(){var t=this,e=t.t,r=new Array;r[0]=t.s;var n=t.DB-e*t.DB%8,i,s=0;if(e-- >0)for(n<t.DB&&(i=t[e]>>n)!=(t.s&t.DM)>>n&&(r[s++]=i|t.s<<t.DB-n);e>=0;)n<8?(i=(t[e]&(1<<n)-1)<<8-n,i|=t[--e]>>(n+=t.DB-8)):(i=t[e]>>(n-=8)&255,n<=0&&(n+=t.DB,--e)),(i&128)!=0&&(i|=-256),s===0&&(t.s&128)!=(i&128)&&++s,(s>0||i!=t.s)&&(r[s++]=i);return r}function TNe(t){return this.compareTo(t)==0}function INe(t){return this.compareTo(t)<0?this:t}function PNe(t){return this.compareTo(t)>0?this:t}function ONe(t,e,r){var n=this,i,s,o=Math.min(t.t,n.t);for(i=0;i<o;++i)r[i]=e(n[i],t[i]);if(t.t<n.t){for(s=t.s&n.DM,i=o;i<n.t;++i)r[i]=e(n[i],s);r.t=n.t}else{for(s=n.s&n.DM,i=o;i<t.t;++i)r[i]=e(s,t[i]);r.t=t.t}r.s=e(n.s,t.s),r.clamp()}function BNe(t,e){return t&e}function MNe(t){var e=new st;return this.bitwiseTo(t,BNe,e),e}function _R(t,e){return t|e}function kNe(t){var e=new st;return this.bitwiseTo(t,_R,e),e}function Ose(t,e){return t^e}function CNe(t){var e=new st;return this.bitwiseTo(t,Ose,e),e}function Bse(t,e){return t&~e}function RNe(t){var e=new st;return this.bitwiseTo(t,Bse,e),e}function NNe(){for(var t=new st,e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t}function FNe(t){var e=new st;return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e}function HNe(t){var e=new st;return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e}function DNe(t){if(t==0)return-1;var e=0;return(t&65535)==0&&(t>>=16,e+=16),(t&255)==0&&(t>>=8,e+=8),(t&15)==0&&(t>>=4,e+=4),(t&3)==0&&(t>>=2,e+=2),(t&1)==0&&++e,e}function LNe(){for(var t=0;t<this.t;++t)if(this[t]!=0)return t*this.DB+DNe(this[t]);return this.s<0?this.t*this.DB:-1}function UNe(t){for(var e=0;t!=0;)t&=t-1,++e;return e}function qNe(){for(var t=0,e=this.s&this.DM,r=0;r<this.t;++r)t+=UNe(this[r]^e);return t}function jNe(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this[e]&1<<t%this.DB)!=0}function KNe(t,e){var r=st.ONE.shiftLeft(t);return this.bitwiseTo(r,e,r),r}function $Ne(t){return this.changeBit(t,_R)}function zNe(t){return this.changeBit(t,Bse)}function VNe(t){return this.changeBit(t,Ose)}function GNe(t,e){for(var r=this,n=0,i=0,s=Math.min(t.t,r.t);n<s;)i+=r[n]+t[n],e[n++]=i&r.DM,i>>=r.DB;if(t.t<r.t){for(i+=t.s;n<r.t;)i+=r[n],e[n++]=i&r.DM,i>>=r.DB;i+=r.s}else{for(i+=r.s;n<t.t;)i+=t[n],e[n++]=i&r.DM,i>>=r.DB;i+=t.s}e.s=i<0?-1:0,i>0?e[n++]=i:i<-1&&(e[n++]=r.DV+i),e.t=n,e.clamp()}function WNe(t){var e=new st;return this.addTo(t,e),e}function YNe(t){var e=new st;return this.subTo(t,e),e}function XNe(t){var e=new st;return this.multiplyTo(t,e),e}function ZNe(){var t=new st;return this.squareTo(t),t}function JNe(t){var e=new st;return this.divRemTo(t,e,null),e}function QNe(t){var e=new st;return this.divRemTo(t,null,e),e}function eFe(t){var e=new st,r=new st;return this.divRemTo(t,e,r),new Array(e,r)}function tFe(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}function rFe(t,e){if(t!=0){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}}function Cm(){}function Mse(t){return t}function nFe(t,e,r){t.multiplyTo(e,r)}function iFe(t,e){t.squareTo(e)}Cm.prototype.convert=Mse;Cm.prototype.revert=Mse;Cm.prototype.mulTo=nFe;Cm.prototype.sqrTo=iFe;function sFe(t){return this.exp(t,new Cm)}function oFe(t,e,r){var n=Math.min(this.t+t.t,e);for(r.s=0,r.t=n;n>0;)r[--n]=0;var i;for(i=r.t-this.t;n<i;++n)r[n+this.t]=this.am(0,t[n],r,n,0,this.t);for(i=Math.min(t.t,e);n<i;++n)this.am(0,t[n],r,n,0,e-n);r.clamp()}function aFe(t,e,r){--e;var n=r.t=this.t+t.t-e;for(r.s=0;--n>=0;)r[n]=0;for(n=Math.max(e-this.t,0);n<t.t;++n)r[this.t+n-e]=this.am(e-n,t[n],r,0,0,this.t+n-e);r.clamp(),r.drShiftTo(1,r)}function ob(t){this.r2=new st,this.q3=new st,st.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function uFe(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=new st;return t.copyTo(e),this.reduce(e),e}function cFe(t){return t}function fFe(t){var e=this;for(t.drShiftTo(e.m.t-1,e.r2),t.t>e.m.t+1&&(t.t=e.m.t+1,t.clamp()),e.mu.multiplyUpperTo(e.r2,e.m.t+1,e.q3),e.m.multiplyLowerTo(e.q3,e.m.t+1,e.r2);t.compareTo(e.r2)<0;)t.dAddOffset(1,e.m.t+1);for(t.subTo(e.r2,t);t.compareTo(e.m)>=0;)t.subTo(e.m,t)}function dFe(t,e){t.squareTo(e),this.reduce(e)}function hFe(t,e,r){t.multiplyTo(e,r),this.reduce(r)}ob.prototype.convert=uFe;ob.prototype.revert=cFe;ob.prototype.reduce=fFe;ob.prototype.mulTo=hFe;ob.prototype.sqrTo=dFe;function lFe(t,e){var r=t.bitLength(),n,i=Mh(1),s;if(r<=0)return i;r<18?n=1:r<48?n=3:r<144?n=4:r<768?n=5:n=6,r<8?s=new G7(e):e.isEven()?s=new ob(e):s=new W7(e);var o=new Array,a=3,u=n-1,c=(1<<n)-1;if(o[1]=s.convert(this),n>1){var d=new st;for(s.sqrTo(o[1],d);a<=c;)o[a]=new st,s.mulTo(d,o[a-2],o[a]),a+=2}var f=t.t-1,m,p=!0,y=new st,w;for(r=Bx(t[f])-1;f>=0;){for(r>=u?m=t[f]>>r-u&c:(m=(t[f]&(1<<r+1)-1)<<u-r,f>0&&(m|=t[f-1]>>this.DB+r-u)),a=n;(m&1)==0;)m>>=1,--a;if((r-=a)<0&&(r+=this.DB,--f),p)o[m].copyTo(i),p=!1;else{for(;a>1;)s.sqrTo(i,y),s.sqrTo(y,i),a-=2;a>0?s.sqrTo(i,y):(w=i,i=y,y=w),s.mulTo(y,o[m],i)}for(;f>=0&&(t[f]&1<<r)==0;)s.sqrTo(i,y),w=i,i=y,y=w,--r<0&&(r=this.DB-1,--f)}return s.revert(i)}function pFe(t){var e=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(e.compareTo(r)<0){var n=e;e=r,r=n}var i=e.getLowestSetBit(),s=r.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),r.rShiftTo(s,r));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),e.compareTo(r)>=0?(e.subTo(r,e),e.rShiftTo(1,e)):(r.subTo(e,r),r.rShiftTo(1,r));return s>0&&r.lShiftTo(s,r),r}function bFe(t){if(t<=0)return 0;var e=this.DV%t,r=this.s<0?t-1:0;if(this.t>0)if(e==0)r=this[0]%t;else for(var n=this.t-1;n>=0;--n)r=(e*r+this[n])%t;return r}function gFe(t){var e=t.isEven();if(this.signum()===0)throw new Error("division by zero");if(this.isEven()&&e||t.signum()==0)return st.ZERO;for(var r=t.clone(),n=this.clone(),i=Mh(1),s=Mh(0),o=Mh(0),a=Mh(1);r.signum()!=0;){for(;r.isEven();)r.rShiftTo(1,r),e?((!i.isEven()||!s.isEven())&&(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;n.isEven();)n.rShiftTo(1,n),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(t,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);r.compareTo(n)>=0?(r.subTo(n,r),e&&i.subTo(o,i),s.subTo(a,s)):(n.subTo(r,n),e&&o.subTo(i,o),a.subTo(s,a))}if(n.compareTo(st.ONE)!=0)return st.ZERO;for(;a.compareTo(t)>=0;)a.subTo(t,a);for(;a.signum()<0;)a.addTo(t,a);return a}var Ra=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],mFe=(1<<26)/Ra[Ra.length-1];function yFe(t){var e,r=this.abs();if(r.t==1&&r[0]<=Ra[Ra.length-1]){for(e=0;e<Ra.length;++e)if(r[0]==Ra[e])return!0;return!1}if(r.isEven())return!1;for(e=1;e<Ra.length;){for(var n=Ra[e],i=e+1;i<Ra.length&&n<mFe;)n*=Ra[i++];for(n=r.modInt(n);e<i;)if(n%Ra[e++]==0)return!1}return r.millerRabin(t)}function vFe(t){var e=this.subtract(st.ONE),r=e.getLowestSetBit();if(r<=0)return!1;var n=e.shiftRight(r);t=t+1>>1,t>Ra.length&&(t=Ra.length);for(var i=new st(null),s,o=[],a=0;a<t;++a){for(;s=Ra[Math.floor(Math.random()*Ra.length)],o.indexOf(s)!=-1;);o.push(s),i.fromInt(s);var u=i.modPow(n,this);if(u.compareTo(st.ONE)!=0&&u.compareTo(e)!=0){for(var s=1;s++<r&&u.compareTo(e)!=0;)if(u=u.modPowInt(2,this),u.compareTo(st.ONE)==0)return!1;if(u.compareTo(e)!=0)return!1}}return!0}et.chunkSize=_Ne;et.toRadix=wNe;et.fromRadix=xNe;et.fromNumber=ENe;et.bitwiseTo=ONe;et.changeBit=KNe;et.addTo=GNe;et.dMultiply=tFe;et.dAddOffset=rFe;et.multiplyLowerTo=oFe;et.multiplyUpperTo=aFe;et.modInt=bFe;et.millerRabin=vFe;et.clone=gNe;et.intValue=mNe;et.byteValue=yNe;et.shortValue=vNe;et.signum=SNe;et.toByteArray=ANe;et.equals=TNe;et.min=INe;et.max=PNe;et.and=MNe;et.or=kNe;et.xor=CNe;et.andNot=RNe;et.not=NNe;et.shiftLeft=FNe;et.shiftRight=HNe;et.getLowestSetBit=LNe;et.bitCount=qNe;et.testBit=jNe;et.setBit=$Ne;et.clearBit=zNe;et.flipBit=VNe;et.add=WNe;et.subtract=YNe;et.multiply=XNe;et.divide=JNe;et.remainder=QNe;et.divideAndRemainder=eFe;et.modPow=lFe;et.modInverse=gFe;et.pow=sFe;et.gcd=pFe;et.isProbablePrime=yFe;et.square=ZNe;st.ZERO=Mh(0);st.ONE=Mh(1);st.valueOf=Mh;kse.exports=st});var Rse=j(()=>{B();M();var Cse=ff(),ba=SR();ba.fromByteArrayUnsigned=function(t){return t[0]&128?new ba([0].concat(t)):new ba(t)};ba.prototype.toByteArrayUnsigned=function(){var t=this.toByteArray();return t[0]===0?t.slice(1):t};ba.fromDERInteger=function(t){return new ba(t)};ba.prototype.toDERInteger=ba.prototype.toByteArray;ba.fromBuffer=function(t){if(t[0]&128){var e=Array.prototype.slice.call(t);return new ba([0].concat(e))}return new ba(t)};ba.fromHex=function(t){return t===""?ba.ZERO:(Cse.equal(t,t.match(/^[A-Fa-f0-9]+/),"Invalid hex string"),Cse.equal(t.length%2,0,"Incomplete hex"),new ba(t,16))};ba.prototype.toBuffer=function(t){for(var e=this.toByteArrayUnsigned(),r=[],n=t-e.length;r.length<n;)r.push(0);return new E.Buffer(r.concat(e))};ba.prototype.toHex=function(t){return this.toBuffer(t).toString("hex")}});var Rm=j((W3t,Nse)=>{B();M();var _Fe=SR();Rse();Nse.exports=_Fe});var xR=j((Z3t,Fse)=>{B();M();var Mx=ff(),wR=I5().Buffer,kx=Rm(),Cx=kx.valueOf(3);function Ls(t,e,r,n){Mx.notStrictEqual(n,void 0,"Missing Z coordinate"),this.curve=t,this.x=e,this.y=r,this.z=n,this._zInv=null,this.compressed=!0}Object.defineProperty(Ls.prototype,"zInv",{get:function(){return this._zInv===null&&(this._zInv=this.z.modInverse(this.curve.p)),this._zInv}});Object.defineProperty(Ls.prototype,"affineX",{get:function(){return this.x.multiply(this.zInv).mod(this.curve.p)}});Object.defineProperty(Ls.prototype,"affineY",{get:function(){return this.y.multiply(this.zInv).mod(this.curve.p)}});Ls.fromAffine=function(t,e,r){return new Ls(t,e,r,kx.ONE)};Ls.prototype.equals=function(t){if(t===this)return!0;if(this.curve.isInfinity(this))return this.curve.isInfinity(t);if(this.curve.isInfinity(t))return this.curve.isInfinity(this);var e=t.y.multiply(this.z).subtract(this.y.multiply(t.z)).mod(this.curve.p);if(e.signum()!==0)return!1;var r=t.x.multiply(this.z).subtract(this.x.multiply(t.z)).mod(this.curve.p);return r.signum()===0};Ls.prototype.negate=function(){var t=this.curve.p.subtract(this.y);return new Ls(this.curve,this.x,t,this.z)};Ls.prototype.add=function(t){if(this.curve.isInfinity(this))return t;if(this.curve.isInfinity(t))return this;var e=this.x,r=this.y,n=t.x,i=t.y,s=i.multiply(this.z).subtract(r.multiply(t.z)).mod(this.curve.p),o=n.multiply(this.z).subtract(e.multiply(t.z)).mod(this.curve.p);if(o.signum()===0)return s.signum()===0?this.twice():this.curve.infinity;var a=o.square(),u=a.multiply(o),c=e.multiply(a),d=s.square().multiply(this.z),f=d.subtract(c.shiftLeft(1)).multiply(t.z).subtract(u).multiply(o).mod(this.curve.p),m=c.multiply(Cx).multiply(s).subtract(r.multiply(u)).subtract(d.multiply(s)).multiply(t.z).add(s.multiply(u)).mod(this.curve.p),p=u.multiply(this.z).multiply(t.z).mod(this.curve.p);return new Ls(this.curve,f,m,p)};Ls.prototype.twice=function(){if(this.curve.isInfinity(this))return this;if(this.y.signum()===0)return this.curve.infinity;var t=this.x,e=this.y,r=e.multiply(this.z).mod(this.curve.p),n=r.multiply(e).mod(this.curve.p),i=this.curve.a,s=t.square().multiply(Cx);i.signum()!==0&&(s=s.add(this.z.square().multiply(i))),s=s.mod(this.curve.p);var o=s.square().subtract(t.shiftLeft(3).multiply(n)).shiftLeft(1).multiply(r).mod(this.curve.p),a=s.multiply(Cx).multiply(t).subtract(n.shiftLeft(1)).shiftLeft(2).multiply(n).subtract(s.pow(3)).mod(this.curve.p),u=r.pow(3).shiftLeft(3).mod(this.curve.p);return new Ls(this.curve,o,a,u)};Ls.prototype.multiply=function(t){if(this.curve.isInfinity(this))return this;if(t.signum()===0)return this.curve.infinity;for(var e=t,r=e.multiply(Cx),n=this.negate(),i=this,s=r.bitLength()-2;s>0;--s){var o=r.testBit(s),a=e.testBit(s);i=i.twice(),o!==a&&(i=i.add(o?this:n))}return i};Ls.prototype.multiplyTwo=function(t,e,r){for(var n=Math.max(t.bitLength(),r.bitLength())-1,i=this.curve.infinity,s=this.add(e);n>=0;){var o=t.testBit(n),a=r.testBit(n);i=i.twice(),o?a?i=i.add(s):i=i.add(this):a&&(i=i.add(e)),--n}return i};Ls.prototype.getEncoded=function(t){if(t==null&&(t=this.compressed),this.curve.isInfinity(this))return wR.alloc(1,0);var e=this.affineX,r=this.affineY,n=this.curve.pLength,i;return t?(i=wR.allocUnsafe(1+n),i.writeUInt8(r.isEven()?2:3,0)):(i=wR.allocUnsafe(1+n+n),i.writeUInt8(4,0),r.toBuffer(n).copy(i,1+n)),e.toBuffer(n).copy(i,1),i};Ls.decodeFrom=function(t,e){var r=e.readUInt8(0),n=r!==4,i=Math.floor((t.p.bitLength()+7)/8),s=kx.fromBuffer(e.slice(1,1+i)),o;if(n){Mx.equal(e.length,i+1,"Invalid sequence length"),Mx(r===2||r===3,"Invalid sequence tag");var a=r===3;o=t.pointFromX(a,s)}else{Mx.equal(e.length,1+i+i,"Invalid sequence length");var u=kx.fromBuffer(e.slice(1+i));o=Ls.fromAffine(t,s,u)}return o.compressed=n,o};Ls.prototype.toString=function(){return this.curve.isInfinity(this)?"(INFINITY)":"("+this.affineX.toString()+","+this.affineY.toString()+")"};Fse.exports=Ls});var TR=j((e9t,Dse)=>{B();M();var ER=ff(),Hse=Rm(),AR=xR();function Nm(t,e,r,n,i,s,o){this.p=t,this.a=e,this.b=r,this.G=AR.fromAffine(this,n,i),this.n=s,this.h=o,this.infinity=new AR(this,null,null,Hse.ZERO),this.pOverFour=t.add(Hse.ONE).shiftRight(2),this.pLength=Math.floor((this.p.bitLength()+7)/8)}Nm.prototype.pointFromX=function(t,e){var r=e.pow(3).add(this.a.multiply(e)).add(this.b).mod(this.p),n=r.modPow(this.pOverFour,this.p),i=n;return n.isEven()^!t&&(i=this.p.subtract(i)),AR.fromAffine(this,e,i)};Nm.prototype.isInfinity=function(t){return t===this.infinity?!0:t.z.signum()===0&&t.y.signum()!==0};Nm.prototype.isOnCurve=function(t){if(this.isInfinity(t))return!0;var e=t.affineX,r=t.affineY,n=this.a,i=this.b,s=this.p;if(e.signum()<0||e.compareTo(s)>=0||r.signum()<0||r.compareTo(s)>=0)return!1;var o=r.square().mod(s),a=e.pow(3).add(n.multiply(e)).add(i).mod(s);return o.equals(a)};Nm.prototype.validate=function(t){ER(!this.isInfinity(t),"Point is at infinity"),ER(this.isOnCurve(t),"Point is not on the curve");var e=t.multiply(this.n);return ER(this.isInfinity(e),"Point is not a scalar multiple of G"),!0};Dse.exports=Nm});var Lse=j((n9t,SFe)=>{SFe.exports={secp128r1:{p:"fffffffdffffffffffffffffffffffff",a:"fffffffdfffffffffffffffffffffffc",b:"e87579c11079f43dd824993c2cee5ed3",n:"fffffffe0000000075a30d1b9038a115",h:"01",Gx:"161ff7528b899b2d0c28607ca52c5b86",Gy:"cf5ac8395bafeb13c02da292dded7a83"},secp160k1:{p:"fffffffffffffffffffffffffffffffeffffac73",a:"00",b:"07",n:"0100000000000000000001b8fa16dfab9aca16b6b3",h:"01",Gx:"3b4c382ce37aa192a4019e763036f4f5dd4d7ebb",Gy:"938cf935318fdced6bc28286531733c3f03c4fee"},secp160r1:{p:"ffffffffffffffffffffffffffffffff7fffffff",a:"ffffffffffffffffffffffffffffffff7ffffffc",b:"1c97befc54bd7a8b65acf89f81d4d4adc565fa45",n:"0100000000000000000001f4c8f927aed3ca752257",h:"01",Gx:"4a96b5688ef573284664698968c38bb913cbfc82",Gy:"23a628553168947d59dcc912042351377ac5fb32"},secp192k1:{p:"fffffffffffffffffffffffffffffffffffffffeffffee37",a:"00",b:"03",n:"fffffffffffffffffffffffe26f2fc170f69466a74defd8d",h:"01",Gx:"db4ff10ec057e9ae26b07d0280b7f4341da5d1b1eae06c7d",Gy:"9b2f2f6d9c5628a7844163d015be86344082aa88d95e2f9d"},secp192r1:{p:"fffffffffffffffffffffffffffffffeffffffffffffffff",a:"fffffffffffffffffffffffffffffffefffffffffffffffc",b:"64210519e59c80e70fa7e9ab72243049feb8deecc146b9b1",n:"ffffffffffffffffffffffff99def836146bc9b1b4d22831",h:"01",Gx:"188da80eb03090f67cbf20eb43a18800f4ff0afd82ff1012",Gy:"07192b95ffc8da78631011ed6b24cdd573f977a11e794811"},secp256k1:{p:"fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f",a:"00",b:"07",n:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",h:"01",Gx:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",Gy:"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"},secp256r1:{p:"ffffffff00000001000000000000000000000000ffffffffffffffffffffffff",a:"ffffffff00000001000000000000000000000000fffffffffffffffffffffffc",b:"5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",n:"ffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551",h:"01",Gx:"6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296",Gy:"4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"}}});var qse=j((i9t,Use)=>{B();M();var Y7=Rm(),wFe=Lse(),xFe=TR();function EFe(t){var e=wFe[t];if(!e)return null;var r=new Y7(e.p,16),n=new Y7(e.a,16),i=new Y7(e.b,16),s=new Y7(e.n,16),o=new Y7(e.h,16),a=new Y7(e.Gx,16),u=new Y7(e.Gy,16);return new xFe(r,n,i,a,u,s,o)}Use.exports=EFe});var Kse=j((a9t,jse)=>{B();M();var AFe=xR(),TFe=TR(),IFe=qse();jse.exports={Curve:TFe,Point:AFe,getCurveByName:IFe}});var $se=j((exports,module)=>{B();M();(function(){"use strict";var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=globalThis:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&typeof module=="object"&&module.exports,AMD=typeof define=="function"&&define.amd,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return typeof t=="object"&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(i){return e.create().update(i)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if(typeof t=="string")return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(t==null)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(i){return new HmacSha256(i,t)},e.update=function(i,s){return e.create(i).update(s)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if(r!=="string"){if(r==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);e=!0}for(var n,i=0,s,o=t.length,a=this.blocks;i<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(s=this.start;i<o&&s<64;++i)a[s>>2]|=t[i]<<SHIFT[s++&3];else for(s=this.start;i<o&&s<64;++i)n=t.charCodeAt(i),n<128?a[s>>2]|=n<<SHIFT[s++&3]:n<2048?(a[s>>2]|=(192|n>>6)<<SHIFT[s++&3],a[s>>2]|=(128|n&63)<<SHIFT[s++&3]):n<55296||n>=57344?(a[s>>2]|=(224|n>>12)<<SHIFT[s++&3],a[s>>2]|=(128|n>>6&63)<<SHIFT[s++&3],a[s>>2]|=(128|n&63)<<SHIFT[s++&3]):(n=65536+((n&1023)<<10|t.charCodeAt(++i)&1023),a[s>>2]|=(240|n>>18)<<SHIFT[s++&3],a[s>>2]|=(128|n>>12&63)<<SHIFT[s++&3],a[s>>2]|=(128|n>>6&63)<<SHIFT[s++&3],a[s>>2]|=(128|n&63)<<SHIFT[s++&3]);this.lastByteIndex=s,this.bytes+=s-this.start,s>=64?(this.block=a[16],this.start=s-64,this.hash(),this.hashed=!0):this.start=s}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[e&3],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=this.blocks,c,d,f,m,p,y,w,P,C,R,T;for(c=16;c<64;++c)p=u[c-15],d=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,p=u[c-2],f=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,u[c]=u[c-16]+d+u[c-7]+f<<0;for(T=e&r,c=0;c<64;c+=4)this.first?(this.is224?(P=300032,p=u[0]-1413257819,a=p-150054599<<0,n=p+24177077<<0):(P=704751109,p=u[0]-210244248,a=p-1521486534<<0,n=p+143694565<<0),this.first=!1):(d=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),f=(i>>>6|i<<26)^(i>>>11|i<<21)^(i>>>25|i<<7),P=t&e,m=P^t&r^T,w=i&s^~i&o,p=a+f+w+K[c]+u[c],y=d+m,a=n+p<<0,n=p+y<<0),d=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),f=(a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7),C=n&t,m=C^n&e^P,w=a&i^~a&s,p=o+f+w+K[c+1]+u[c+1],y=d+m,o=r+p<<0,r=p+y<<0,d=(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10),f=(o>>>6|o<<26)^(o>>>11|o<<21)^(o>>>25|o<<7),R=r&n,m=R^r&t^C,w=o&a^~o&i,p=s+f+w+K[c+2]+u[c+2],y=d+m,s=e+p<<0,e=p+y<<0,d=(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10),f=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),T=e&r,m=T^e&n^R,w=s&o^~s&a,p=i+f+w+K[c+3]+u[c+3],y=d+m,i=t+p<<0,t=p+y<<0;this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0,this.h4=this.h4+i<<0,this.h5=this.h5+s<<0,this.h6=this.h6+o<<0,this.h7=this.h7+a<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[t&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[e&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[r&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[n&15]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[i&15]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[s&15]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[o&15];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[a&15]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,s=this.h5,o=this.h6,a=this.h7,u=[t>>24&255,t>>16&255,t>>8&255,t&255,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24&255,r>>16&255,r>>8&255,r&255,n>>24&255,n>>16&255,n>>8&255,n&255,i>>24&255,i>>16&255,i>>8&255,i&255,s>>24&255,s>>16&255,s>>8&255,s&255,o>>24&255,o>>16&255,o>>8&255,o&255];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,a&255),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t};function HmacSha256(t,e,r){var n,i=typeof t;if(i==="string"){var s=[],o=t.length,a=0,u;for(n=0;n<o;++n)u=t.charCodeAt(n),u<128?s[a++]=u:u<2048?(s[a++]=192|u>>6,s[a++]=128|u&63):u<55296||u>=57344?(s[a++]=224|u>>12,s[a++]=128|u>>6&63,s[a++]=128|u&63):(u=65536+((u&1023)<<10|t.charCodeAt(++n)&1023),s[a++]=240|u>>18,s[a++]=128|u>>12&63,s[a++]=128|u>>6&63,s[a++]=128|u&63);t=s}else if(i==="object"){if(t===null)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}else throw new Error(ERROR);t.length>64&&(t=new Sha256(e,!0).update(t).array());var c=[],d=[];for(n=0;n<64;++n){var f=t[n]||0;c[n]=92^f,d[n]=54^f}Sha256.call(this,e,r),this.update(d),this.oKeyPad=c,this.inner=!0,this.sharedMemory=r}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&define(function(){return exports}))})()});var kR=j(cr=>{"use strict";B();M();var PFe=cr&&cr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),OFe=cr&&cr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),BFe=cr&&cr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&PFe(e,t,r);return OFe(e,t),e},MFe=cr&&cr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(cr,"__esModule",{value:!0});cr.getTxCtxMulti=cr.getSHPreimageMulti=cr.toTxOutpoint=cr.getTxCtx=cr.getSHPreimage=cr.callToBufferList=cr.checkDisableOpCode=cr.getOutpointString=cr.getOutpointObj=cr.getSpentScripts=cr.getPrevoutsIndex=cr.getPrevouts=cr.toSHPreimageObj=cr.splitSighashPreimage=cr.getE=cr.getSigHashSchnorr=void 0;var kFe=BFe(Kse()),CFe=$se(),RFe=MFe(Rm()),IR=Jg(),Na=jr(),Fm=nb(),zse=kFe.getCurveByName("secp256k1");function Vse(t){return E.Buffer.from(CFe.sha256.create().update(t).array())}function PR(t,e,r=0,n=0){let i={annexPresent:!1,annexInit:!0,tapleafHash:e,tapleafHashInit:!0,codeseparatorPos:new Fm.btc.crypto.BN(4294967295),codeseparatorPosInit:!0};return{preimage:Fm.btc.Transaction.SighashSchnorr.sighashPreimage(t,n,r,3,i),hash:Fm.btc.Transaction.SighashSchnorr.sighash(t,n,r,3,i)}}cr.getSigHashSchnorr=PR;function OR(t){let e=zse.G.affineX.toBuffer(32),r=Vse("BIP0340/challenge"),n=E.Buffer.concat([e,e,t]),i=Vse(E.Buffer.concat([r,r,n]));return RFe.default.fromBuffer(i).mod(zse.n)}cr.getE=OR;function BR(t){return{tapSighash1:t.subarray(0,32),tapSighash2:t.subarray(32,64),epoch:t.subarray(64,65),sighashType:t.subarray(65,66),txVersion:t.subarray(66,70),nLockTime:t.subarray(70,74),hashPrevouts:t.subarray(74,106),hashSpentAmounts:t.subarray(106,138),hashScripts:t.subarray(138,170),hashSequences:t.subarray(170,202),hashOutputs:t.subarray(202,234),spendType:t.subarray(234,235),inputNumber:t.subarray(235,239),tapleafHash:t.subarray(239,271),keyVersion:t.subarray(271,272),codeseparatorPosition:t.subarray(272)}}cr.splitSighashPreimage=BR;function MR(t,e,r){return{txVer:(0,Na.toHex)(t.txVersion),nLockTime:(0,Na.toHex)(t.nLockTime),hashPrevouts:(0,Na.toHex)(t.hashPrevouts),hashSpentAmounts:(0,Na.toHex)(t.hashSpentAmounts),hashSpentScripts:(0,Na.toHex)(t.hashScripts),hashSequences:(0,Na.toHex)(t.hashSequences),hashOutputs:(0,Na.toHex)(t.hashOutputs),spendType:(0,Na.toHex)(t.spendType),inputIndex:(0,Na.toHex)(t.inputNumber),hashTapLeaf:(0,Na.toHex)(t.tapleafHash),keyVer:(0,Na.toHex)(t.keyVersion),codeSeparator:(0,Na.toHex)(t.codeseparatorPosition),_e:(0,Na.toHex)(e),eLastByte:BigInt(r)}}cr.toSHPreimageObj=MR;var NFe=function(t){let e=(0,IR.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let n=t.inputs[r],i=n.prevTxId.toString("hex"),s=E.Buffer.from(i,"hex").reverse(),o=E.Buffer.alloc(4,0);o.writeUInt32LE(n.outputIndex),e[r]=E.Buffer.concat([s,o]).toString("hex")}return e};cr.getPrevouts=NFe;var FFe=function(t){let e=(0,IR.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let n=t.inputs[r],i=E.Buffer.alloc(4,0);i.writeUInt32LE(n.outputIndex),e[r]=i.toString("hex")}return e};cr.getPrevoutsIndex=FFe;var HFe=function(t){let e=(0,IR.emptyFixedArray)();for(let r=0;r<t.inputs.length;r++){let i=t.inputs[r].output.script.toBuffer().toString("hex");e[r]=i}return e};cr.getSpentScripts=HFe;var DFe=function(t,e){let r=E.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:E.Buffer.from(t.id,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}};cr.getOutpointObj=DFe;var LFe=function(t,e){let r=E.Buffer.alloc(4,0);return r.writeUInt32LE(e),E.Buffer.from(t.id,"hex").reverse().toString("hex")+r.toString("hex")};cr.getOutpointString=LFe;var UFe=function(t){for(let e of t.chunks)if(Fm.btc.Opcode.isOpSuccess(e.opcodenum))return console.log(e.opcodenum,Fm.btc.Opcode.reverseMap[e.opcodenum]),!0;return!1};cr.checkDisableOpCode=UFe;var qFe=function(t){return t.tx.inputs[t.atInputIndex].script.chunks.map(r=>{if(!r.buf)if(r.opcodenum>=81&&r.opcodenum<=96){let n=(0,Na.int2ByteString)(BigInt(r.opcodenum-80));return E.Buffer.from(n,"hex")}else return E.Buffer.from((0,Na.toByteString)(""));return r.buf})};cr.callToBufferList=qFe;function Gse(t,e,r){let n,i,s,o=-1;for(;;){s=PR(t,r,e),n=OR(s.hash),i=n.toBuffer(32);let c=i[i.length-1];if(c<127){o=c;break}t.nLockTime+=1}if(o<0)throw new Error("No valid eLastByte!");let a=i.slice(0,i.length-1),u=BR(s.preimage);return{SHPreimageObj:MR(u,a,o),sighash:s}}cr.getSHPreimage=Gse;function jFe(t,e,r){let{SHPreimageObj:n,sighash:i}=Gse(t,e,r),s=(0,cr.getPrevouts)(t),o=(0,cr.getSpentScripts)(t),a=E.Buffer.alloc(4,0);a.writeUInt32LE(t.inputs[e].outputIndex);let u={prevouts:s,inputIndexVal:BigInt(e),outputIndexVal:BigInt(t.inputs[e].outputIndex),spentTxhash:E.Buffer.from(t.inputs[e].prevTxId.toString("hex"),"hex").reverse().toString("hex"),outputIndex:a.toString("hex")};return{shPreimage:n,prevoutsCtx:u,spentScripts:o,sighash:i}}cr.getTxCtx=jFe;function KFe(t,e){let r=E.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:E.Buffer.from(t,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}}cr.toTxOutpoint=KFe;function Wse(t,e,r){let n=[],i=[],s=[],o=!1;for(;;){if(s=e.map((u,c)=>PR(t,r[c],u)),n=s.map(u=>OR(u.hash)),i=n.map(u=>u.toBuffer(32)),i.every(u=>u[u.length-1]<127)){o=!0;break}t.nLockTime+=1}if(!o)throw new Error("No valid preimage found!");let a=[];for(let u=0;u<e.length;u++){let c=i[u],d=s[u],f=c.slice(0,c.length-1),m=c[c.length-1],p=BR(d.preimage);a.push({SHPreimageObj:MR(p,f,m),sighash:d})}return a}cr.getSHPreimageMulti=Wse;function $Fe(t,e,r){let n=Wse(t,e,r);return e.map((i,s)=>{let{SHPreimageObj:o,sighash:a}=n[s],u=(0,cr.getPrevouts)(t),c=(0,cr.getSpentScripts)(t),d=E.Buffer.alloc(4,0);d.writeUInt32LE(t.inputs[i].outputIndex);let f={prevouts:u,inputIndexVal:BigInt(i),outputIndexVal:BigInt(t.inputs[i].outputIndex),spentTxhash:E.Buffer.from(t.inputs[i].prevTxId.toString("hex"),"hex").reverse().toString("hex"),outputIndex:d.toString("hex")};return{shPreimage:o,prevoutsCtx:f,spentScripts:c,sighash:a}})}cr.getTxCtxMulti=$Fe});var Z7=j((b9t,Yse)=>{"use strict";B();M();var zFe=J6(),{Buffer:Ut}=$i(),VFe=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}),X7=class extends zFe.Transform{constructor(e,r,n={}){let i=null,s=null;switch(typeof e){case"object":Ut.isBuffer(e)?i=e:e&&(n=e);break;case"string":i=e;break;case"undefined":break;default:throw new TypeError("Invalid input")}switch(typeof r){case"object":r&&(n=r);break;case"string":s=r;break;case"undefined":break;default:throw new TypeError("Invalid inputEncoding")}if(!n||typeof n!="object")throw new TypeError("Invalid options");i==null&&(i=n.input),s==null&&(s=n.inputEncoding),delete n.input,delete n.inputEncoding;let o=n.watchPipe==null?!0:n.watchPipe;delete n.watchPipe;let a=Boolean(n.readError);delete n.readError,super(n),this.readError=a,o&&this.on("pipe",u=>{let c=u._readableState.objectMode;if(this.length>0&&c!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");this._readableState.objectMode=c,this._writableState.objectMode=c}),i!=null&&this.end(i,s)}static isNoFilter(e){return e instanceof this}static compare(e,r){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===r?0:e.compare(r)}static concat(e,r){if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(e.length===0||r===0)return Ut.alloc(0);r==null&&(r=e.reduce((o,a)=>{if(!(a instanceof X7))throw new TypeError("list argument must be an Array of NoFilters");return o+a.length},0));let n=!0,i=!0,s=e.map(o=>{if(!(o instanceof X7))throw new TypeError("list argument must be an Array of NoFilters");let a=o.slice();return Ut.isBuffer(a)?i=!1:n=!1,a});if(n)return Ut.concat(s,r);if(i)return[].concat(...s).slice(0,r);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(e,r,n){!this._readableState.objectMode&&!Ut.isBuffer(e)&&(e=Ut.from(e,r)),this.push(e),n()}_bufArray(){let e=this._readableState.buffer;if(!Array.isArray(e)){let r=e.head;for(e=[];r!=null;)e.push(r.data),r=r.next}return e}read(e){let r=super.read(e);if(r!=null){if(this.emit("read",r),this.readError&&r.length<e)throw new Error(`Read ${r.length}, wanted ${e}`)}else if(this.readError)throw new Error(`No data available, wanted ${e}`);return r}readFull(e){let r=null,n=null,i=null;return new Promise((s,o)=>{if(this.length>=e){s(this.read(e));return}if(this.writableFinished){o(new Error(`Stream finished before ${e} bytes were available`));return}r=a=>{this.length>=e&&s(this.read(e))},n=()=>{o(new Error(`Stream finished before ${e} bytes were available`))},i=o,this.on("readable",r),this.on("error",i),this.on("finish",n)}).finally(()=>{r&&(this.removeListener("readable",r),this.removeListener("error",i),this.removeListener("finish",n))})}promise(e){let r=!1;return new Promise((n,i)=>{this.on("finish",()=>{let s=this.read();e!=null&&!r&&(r=!0,e(null,s)),n(s)}),this.on("error",s=>{e!=null&&!r&&(r=!0,e(s)),i(s)})})}compare(e){if(!(e instanceof X7))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;let r=this.slice(),n=e.slice();if(Ut.isBuffer(r)&&Ut.isBuffer(n))return r.compare(n);throw new Error("Cannot compare streams in object mode")}equals(e){return this.compare(e)===0}slice(e,r){if(this._readableState.objectMode)return this._bufArray().slice(e,r);let n=this._bufArray();switch(n.length){case 0:return Ut.alloc(0);case 1:return n[0].slice(e,r);default:return Ut.concat(n).slice(e,r)}}get(e){return this.slice()[e]}toJSON(){let e=this.slice();return Ut.isBuffer(e)?e.toJSON():e}toString(e,r,n){let i=this.slice(r,n);return Ut.isBuffer(i)?!e||e==="utf8"?VFe.decode(i):i.toString(e):JSON.stringify(i)}[Symbol.for("nodejs.util.inspect.custom")](e,r){let i=this._bufArray().map(s=>Ut.isBuffer(s)?r.stylize(s.toString("hex"),"string"):JSON.stringify(s)).join(", ");return`${this.constructor.name} [${i}]`}get length(){return this._readableState.length}writeBigInt(e){let r=e.toString(16);if(e<0){let n=BigInt(Math.floor(r.length/2));e=(BigInt(1)<<n*BigInt(8))+e,r=e.toString(16)}return r.length%2&&(r=`0${r}`),this.push(Ut.from(r,"hex"))}readUBigInt(e){let r=this.read(e);return Ut.isBuffer(r)?BigInt(`0x${r.toString("hex")}`):null}readBigInt(e){let r=this.read(e);if(!Ut.isBuffer(r))return null;let n=BigInt(`0x${r.toString("hex")}`);if(r[0]&128){let i=BigInt(1)<<BigInt(r.length)*BigInt(8);n-=i}return n}writeUInt8(e){let r=Ut.from([e]);return this.push(r)}writeUInt16LE(e){let r=Ut.alloc(2);return r.writeUInt16LE(e),this.push(r)}writeUInt16BE(e){let r=Ut.alloc(2);return r.writeUInt16BE(e),this.push(r)}writeUInt32LE(e){let r=Ut.alloc(4);return r.writeUInt32LE(e),this.push(r)}writeUInt32BE(e){let r=Ut.alloc(4);return r.writeUInt32BE(e),this.push(r)}writeInt8(e){let r=Ut.from([e]);return this.push(r)}writeInt16LE(e){let r=Ut.alloc(2);return r.writeUInt16LE(e),this.push(r)}writeInt16BE(e){let r=Ut.alloc(2);return r.writeUInt16BE(e),this.push(r)}writeInt32LE(e){let r=Ut.alloc(4);return r.writeUInt32LE(e),this.push(r)}writeInt32BE(e){let r=Ut.alloc(4);return r.writeUInt32BE(e),this.push(r)}writeFloatLE(e){let r=Ut.alloc(4);return r.writeFloatLE(e),this.push(r)}writeFloatBE(e){let r=Ut.alloc(4);return r.writeFloatBE(e),this.push(r)}writeDoubleLE(e){let r=Ut.alloc(8);return r.writeDoubleLE(e),this.push(r)}writeDoubleBE(e){let r=Ut.alloc(8);return r.writeDoubleBE(e),this.push(r)}writeBigInt64LE(e){let r=Ut.alloc(8);return r.writeBigInt64LE(e),this.push(r)}writeBigInt64BE(e){let r=Ut.alloc(8);return r.writeBigInt64BE(e),this.push(r)}writeBigUInt64LE(e){let r=Ut.alloc(8);return r.writeBigUInt64LE(e),this.push(r)}writeBigUInt64BE(e){let r=Ut.alloc(8);return r.writeBigUInt64BE(e),this.push(r)}readUInt8(){let e=this.read(1);return Ut.isBuffer(e)?e.readUInt8():null}readUInt16LE(){let e=this.read(2);return Ut.isBuffer(e)?e.readUInt16LE():null}readUInt16BE(){let e=this.read(2);return Ut.isBuffer(e)?e.readUInt16BE():null}readUInt32LE(){let e=this.read(4);return Ut.isBuffer(e)?e.readUInt32LE():null}readUInt32BE(){let e=this.read(4);return Ut.isBuffer(e)?e.readUInt32BE():null}readInt8(){let e=this.read(1);return Ut.isBuffer(e)?e.readInt8():null}readInt16LE(){let e=this.read(2);return Ut.isBuffer(e)?e.readInt16LE():null}readInt16BE(){let e=this.read(2);return Ut.isBuffer(e)?e.readInt16BE():null}readInt32LE(){let e=this.read(4);return Ut.isBuffer(e)?e.readInt32LE():null}readInt32BE(){let e=this.read(4);return Ut.isBuffer(e)?e.readInt32BE():null}readFloatLE(){let e=this.read(4);return Ut.isBuffer(e)?e.readFloatLE():null}readFloatBE(){let e=this.read(4);return Ut.isBuffer(e)?e.readFloatBE():null}readDoubleLE(){let e=this.read(8);return Ut.isBuffer(e)?e.readDoubleLE():null}readDoubleBE(){let e=this.read(8);return Ut.isBuffer(e)?e.readDoubleBE():null}readBigInt64LE(){let e=this.read(8);return Ut.isBuffer(e)?e.readBigInt64LE():null}readBigInt64BE(){let e=this.read(8);return Ut.isBuffer(e)?e.readBigInt64BE():null}readBigUInt64LE(){let e=this.read(8);return Ut.isBuffer(e)?e.readBigUInt64LE():null}readBigUInt64BE(){let e=this.read(8);return Ut.isBuffer(e)?e.readBigUInt64BE():null}};Yse.exports=X7});var Ch=j(kh=>{"use strict";B();M();kh.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};kh.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36,SET:258};kh.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};kh.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};kh.SYMS={NULL:Symbol.for("github.com/hildjj/node-cbor/null"),UNDEFINED:Symbol.for("github.com/hildjj/node-cbor/undef"),PARENT:Symbol.for("github.com/hildjj/node-cbor/parent"),BREAK:Symbol.for("github.com/hildjj/node-cbor/break"),STREAM:Symbol.for("github.com/hildjj/node-cbor/stream")};kh.SHIFT32=4294967296;kh.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(kh.SHIFT32)}});var ab=j(Ai=>{"use strict";B();M();var{Buffer:J7}=$i(),Xse=Z7(),GFe=J6(),WFe=Ch(),{NUMBYTES:Rx,SHIFT32:YFe,BI:XFe,SYMS:CR}=WFe,ZFe=2097151,JFe=new TextDecoder("utf8",{fatal:!0,ignoreBOM:!0});Ai.utf8=t=>JFe.decode(t);Ai.utf8.checksUTF8=!0;function QFe(t){return t instanceof GFe.Readable?!0:["read","on","pipe"].every(e=>typeof t[e]=="function")}Ai.isBufferish=function(e){return e&&typeof e=="object"&&(J7.isBuffer(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof ArrayBuffer||e instanceof DataView)};Ai.bufferishToBuffer=function(e){return J7.isBuffer(e)?e:ArrayBuffer.isView(e)?J7.from(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?J7.from(e):null};Ai.parseCBORint=function(e,r){switch(e){case Rx.ONE:return r.readUInt8(0);case Rx.TWO:return r.readUInt16BE(0);case Rx.FOUR:return r.readUInt32BE(0);case Rx.EIGHT:{let n=r.readUInt32BE(0),i=r.readUInt32BE(4);return n>ZFe?BigInt(n)*XFe.SHIFT32+BigInt(i):n*YFe+i}default:throw new Error(`Invalid additional info for int: ${e}`)}};Ai.writeHalf=function(e,r){let n=J7.allocUnsafe(4);n.writeFloatBE(r,0);let i=n.readUInt32BE(0);if((i&8191)!==0)return!1;let s=i>>16&32768,o=i>>23&255,a=i&8388607;if(o>=113&&o<=142)s+=(o-112<<10)+(a>>13);else if(o>=103&&o<113){if(a&(1<<126-o)-1)return!1;s+=a+8388608>>126-o}else return!1;return e.writeUInt16BE(s),!0};Ai.parseHalf=function(e){let r=e[0]&128?-1:1,n=(e[0]&124)>>2,i=(e[0]&3)<<8|e[1];if(n){if(n===31)return r*(i?NaN:1/0)}else return r*5960464477539063e-23*i;return r*2**(n-25)*(1024+i)};Ai.parseCBORfloat=function(e){switch(e.length){case 2:return Ai.parseHalf(e);case 4:return e.readFloatBE(0);case 8:return e.readDoubleBE(0);default:throw new Error(`Invalid float size: ${e.length}`)}};Ai.hex=function(e){return J7.from(e.replace(/^0x/,""),"hex")};Ai.bin=function(e){e=e.replace(/\s/g,"");let r=0,n=e.length%8||8,i=[];for(;n<=e.length;)i.push(parseInt(e.slice(r,n),2)),r=n,n+=8;return J7.from(i)};Ai.arrayEqual=function(e,r){return e==null&&r==null?!0:e==null||r==null?!1:e.length===r.length&&e.every((n,i)=>n===r[i])};Ai.bufferToBigInt=function(e){return BigInt(`0x${e.toString("hex")}`)};Ai.cborValueToString=function(e,r=-1){switch(typeof e){case"symbol":{switch(e){case CR.NULL:return"null";case CR.UNDEFINED:return"undefined";case CR.BREAK:return"BREAK"}if(e.description)return e.description;let i=e.toString().match(/^Symbol\((?<name>.*)\)/);return i&&i.groups.name?i.groups.name:"Symbol"}case"string":return JSON.stringify(e);case"bigint":return e.toString();case"number":{let n=Object.is(e,-0)?"-0":String(e);return r>0?`${n}_${r}`:n}case"object":{if(!e)return"null";let n=Ai.bufferishToBuffer(e);if(n){let i=n.toString("hex");return r===-1/0?i:`h'${i}'`}return e&&typeof e[Symbol.for("nodejs.util.inspect.custom")]=="function"?e[Symbol.for("nodejs.util.inspect.custom")]():Array.isArray(e)?"[]":"{}"}}return String(e)};Ai.guessEncoding=function(e,r){if(typeof e=="string")return new Xse(e,r??"hex");let n=Ai.bufferishToBuffer(e);if(n)return new Xse(n);if(QFe(e))return e;throw new Error("Unknown input type")};var eHe={"=":"","+":"-","/":"_"};Ai.base64url=function(e){return Ai.bufferishToBuffer(e).toString("base64").replace(/[=+/]/g,r=>eHe[r])};Ai.base64=function(e){return Ai.bufferishToBuffer(e).toString("base64")};Ai.isBigEndian=function(){let e=new Uint8Array(4),r=new Uint32Array(e.buffer);return!((r[0]=1)&e[0])}});var Jse=j((E9t,Zse)=>{"use strict";B();M();var tHe=J6(),rHe=Z7(),RR=class extends tHe.Transform{constructor(e){super(e),this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new rHe,this.__restart()}_transform(e,r,n){for(this.bs.write(e);this.bs.length>=this.__needed;){let i=null,s=this.__needed===null?void 0:this.bs.read(this.__needed);try{i=this.__parser.next(s)}catch(o){return n(o)}this.__needed&&(this.__fresh=!1),i.done?(this.push(i.value),this.__restart()):this.__needed=i.value||1/0}return n()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(e){e(this.__fresh?null:new Error("unexpected end of input"))}};Zse.exports=RR});var NR=j((I9t,ioe)=>{"use strict";B();M();var nHe=Ch(),gd=ab(),ub=Symbol("INTERNAL_JSON");function Hm(t,e){if(gd.isBufferish(t))t.toJSON=e;else if(Array.isArray(t))for(let r of t)Hm(r,e);else if(t&&typeof t=="object"&&(!(t instanceof Rh)||t.tag<21||t.tag>23))for(let r of Object.values(t))Hm(r,e)}function Qse(){return gd.base64(this)}function eoe(){return gd.base64url(this)}function toe(){return this.toString("hex")}function iHe(t,e,r,n){let i=new DataView(t),[s,o]={2:[i.getUint16,i.setUint16],4:[i.getUint32,i.setUint32],8:[i.getBigUint64,i.setBigUint64]}[e],a=r+n;for(let u=r;u<a;u+=e)o.call(i,u,s.call(i,u,!0))}var noe={0:t=>new Date(t),1:t=>new Date(t*1e3),2:t=>gd.bufferToBigInt(t),3:t=>nHe.BI.MINUS_ONE-gd.bufferToBigInt(t),21:(t,e)=>(gd.isBufferish(t)?e[ub]=eoe:Hm(t,eoe),e),22:(t,e)=>(gd.isBufferish(t)?e[ub]=Qse:Hm(t,Qse),e),23:(t,e)=>(gd.isBufferish(t)?e[ub]=toe:Hm(t,toe),e),32:t=>new URL(t),33:(t,e)=>{if(!t.match(/^[a-zA-Z0-9_-]+$/))throw new Error("Invalid base64url characters");let r=t.length%4;if(r===1)throw new Error("Invalid base64url length");if(r===2){if("AQgw".indexOf(t[t.length-1])===-1)throw new Error("Invalid base64 padding")}else if(r===3&&"AEIMQUYcgkosw048".indexOf(t[t.length-1])===-1)throw new Error("Invalid base64 padding");return e},34:(t,e)=>{let r=t.match(/^[a-zA-Z0-9+/]+(?<padding>={0,2})$/);if(!r)throw new Error("Invalid base64 characters");if(t.length%4!==0)throw new Error("Invalid base64 length");if(r.groups.padding==="="){if("AQgw".indexOf(t[t.length-2])===-1)throw new Error("Invalid base64 padding")}else if(r.groups.padding==="=="&&"AEIMQUYcgkosw048".indexOf(t[t.length-3])===-1)throw new Error("Invalid base64 padding");return e},35:t=>new RegExp(t),258:t=>new Set(t)},cb={64:Uint8Array,65:Uint16Array,66:Uint32Array,68:Uint8ClampedArray,69:Uint16Array,70:Uint32Array,72:Int8Array,73:Int16Array,74:Int32Array,77:Int16Array,78:Int32Array,81:Float32Array,82:Float64Array,85:Float32Array,86:Float64Array};typeof BigUint64Array<"u"&&(cb[67]=BigUint64Array,cb[71]=BigUint64Array);typeof BigInt64Array<"u"&&(cb[75]=BigInt64Array,cb[79]=BigInt64Array);function sHe(t,e){if(!gd.isBufferish(t))throw new TypeError("val not a buffer");let{tag:r}=e,n=cb[r];if(!n)throw new Error(`Invalid typed array tag: ${r}`);let i=r&4,o=2**(((r&16)>>4)+(r&3));!i!==gd.isBigEndian()&&o>1&&iHe(t.buffer,o,t.byteOffset,t.byteLength);let a=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength);return new n(a)}for(let t of Object.keys(cb))noe[t]=sHe;var roe={},Rh=class{constructor(e,r,n){if(this.tag=e,this.value=r,this.err=n,typeof this.tag!="number")throw new Error(`Invalid tag type (${typeof this.tag})`);if(this.tag<0||(this.tag|0)!==this.tag)throw new Error(`Tag must be a positive integer: ${this.tag}`)}toJSON(){if(this[ub])return this[ub].call(this.value);let e={tag:this.tag,value:this.value};return this.err&&(e.err=this.err),e}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let r=e?.[this.tag];if(r===null)return this;if(typeof r!="function"&&(r=Rh.TAGS[this.tag],typeof r!="function"))return this;try{return r.call(this,this.value,this)}catch(n){return n&&n.message&&n.message.length>0?this.err=n.message:this.err=n,this}}static get TAGS(){return roe}static set TAGS(e){roe=e}static reset(){Rh.TAGS={...noe}}};Rh.INTERNAL_JSON=ub;Rh.reset();ioe.exports=Rh});var HR=j((B9t,soe)=>{"use strict";B();M();var{MT:oHe,SIMPLE:Nx,SYMS:FR}=Ch(),fb=class{constructor(e){if(typeof e!="number")throw new Error(`Invalid Simple type: ${typeof e}`);if(e<0||e>255||(e|0)!==e)throw new Error(`value must be a small positive integer: ${e}`);this.value=e}toString(){return`simple(${this.value})`}[Symbol.for("nodejs.util.inspect.custom")](e,r){return`simple(${this.value})`}encodeCBOR(e){return e._pushInt(this.value,oHe.SIMPLE_FLOAT)}static isSimple(e){return e instanceof fb}static decode(e,r=!0,n=!1){switch(e){case Nx.FALSE:return!1;case Nx.TRUE:return!0;case Nx.NULL:return r?null:FR.NULL;case Nx.UNDEFINED:return r?void 0:FR.UNDEFINED;case-1:if(!r||!n)throw new Error("Invalid BREAK");return FR.BREAK;default:return new fb(e)}}};soe.exports=fb});var Um=j((R9t,coe)=>{"use strict";B();M();var aHe=Jse(),uHe=NR(),cHe=HR(),Q7=ab(),Hx=Z7(),C9t=J6(),fHe=Ch(),{MT:Es,NUMBYTES:db,SYMS:Nh,BI:ooe}=fHe,{Buffer:aoe}=$i(),hb=Symbol("count"),P6=Symbol("major type"),uoe=Symbol("error"),Dm=Symbol("not found");function DR(t,e,r){let n=[];return n[hb]=r,n[Nh.PARENT]=t,n[P6]=e,n}function dHe(t,e){let r=new Hx;return r[hb]=-1,r[Nh.PARENT]=t,r[P6]=e,r}var Lm=class extends Error{constructor(e,r){super(`Unexpected data: 0x${e.toString(16)}`),this.name="UnexpectedDataError",this.byte=e,this.value=r}};function Fx(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var xu=class extends aHe{constructor(e={}){let{tags:r={},max_depth:n=-1,preferMap:i=!1,preferWeb:s=!1,required:o=!1,encoding:a="hex",extendedResults:u=!1,preventDuplicateKeys:c=!1,...d}=e;super({defaultEncoding:a,...d}),this.running=!0,this.max_depth=n,this.tags=r,this.preferMap=i,this.preferWeb=s,this.extendedResults=u,this.required=o,this.preventDuplicateKeys=c,u&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new Hx)}static nullcheck(e){switch(e){case Nh.NULL:return null;case Nh.UNDEFINED:return;case Dm:throw new Error("Value not found");default:return e}}static decodeFirstSync(e,r={}){if(e==null)throw new TypeError("input required");({options:r}=Fx(r));let{encoding:n="hex",...i}=r,s=new xu(i),o=Q7.guessEncoding(e,n),a=s._parse(),u=a.next();for(;!u.done;){let d=o.read(u.value);if(d==null||d.length!==u.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(d),u=a.next(d)}let c=null;if(s.extendedResults)c=u.value,c.unused=o.read();else if(c=xu.nullcheck(u.value),o.length>0){let d=o.read(1);throw o.unshift(d),new Lm(d[0],c)}return c}static decodeAllSync(e,r={}){if(e==null)throw new TypeError("input required");({options:r}=Fx(r));let{encoding:n="hex",...i}=r,s=new xu(i),o=Q7.guessEncoding(e,n),a=[];for(;o.length>0;){let u=s._parse(),c=u.next();for(;!c.done;){let d=o.read(c.value);if(d==null||d.length!==c.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(d),c=u.next(d)}a.push(xu.nullcheck(c.value))}return a}static decodeFirst(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=Fx(r,n));let{encoding:i="hex",required:s=!1,...o}=r,a=new xu(o),u=Dm,c=Q7.guessEncoding(e,i),d=new Promise((f,m)=>{a.on("data",p=>{u=xu.nullcheck(p),a.close()}),a.once("error",p=>a.extendedResults&&p instanceof Lm?(u.unused=a.bs.slice(),f(u)):(u!==Dm&&(p.value=u),u=uoe,a.close(),m(p))),a.once("end",()=>{switch(u){case Dm:return s?m(new Error("No CBOR found")):f(u);case uoe:return;default:return f(u)}})});return typeof n=="function"&&d.then(f=>n(null,f),n),c.pipe(a),d}static decodeAll(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=Fx(r,n));let{encoding:i="hex",...s}=r,o=new xu(s),a=[];o.on("data",c=>a.push(xu.nullcheck(c)));let u=new Promise((c,d)=>{o.on("error",d),o.on("end",()=>c(a))});return typeof n=="function"&&u.then(c=>n(void 0,c),c=>n(c,void 0)),Q7.guessEncoding(e,i).pipe(o),u}close(){this.running=!1,this.__fresh=!0}_onRead(e){this.valueBytes.write(e)}*_parse(){let e=null,r=0,n=null;for(;;){if(this.max_depth>=0&&r>this.max_depth)throw new Error(`Maximum depth ${this.max_depth} exceeded`);let[i]=yield 1;if(!this.running)throw this.bs.unshift(aoe.from([i])),new Lm(i);let s=i>>5,o=i&31,a=e?.[P6],u=e?.length;switch(o){case db.ONE:this.emit("more-bytes",s,1,a,u),[n]=yield 1;break;case db.TWO:case db.FOUR:case db.EIGHT:{let d=1<<o-24;this.emit("more-bytes",s,d,a,u);let f=yield d;n=s===Es.SIMPLE_FLOAT?f:Q7.parseCBORint(o,f);break}case 28:case 29:case 30:throw this.running=!1,new Error(`Additional info not implemented: ${o}`);case db.INDEFINITE:switch(s){case Es.POS_INT:case Es.NEG_INT:case Es.TAG:throw new Error(`Invalid indefinite encoding for MT ${s}`)}n=-1;break;default:n=o}switch(s){case Es.POS_INT:break;case Es.NEG_INT:n===Number.MAX_SAFE_INTEGER?n=ooe.NEG_MAX:n=typeof n=="bigint"?ooe.MINUS_ONE-n:-1-n;break;case Es.BYTE_STRING:case Es.UTF8_STRING:switch(n){case 0:this.emit("start-string",s,n,a,u),s===Es.UTF8_STRING?n="":n=this.preferWeb?new Uint8Array(0):aoe.allocUnsafe(0);break;case-1:this.emit("start",s,Nh.STREAM,a,u),e=dHe(e,s),r++;continue;default:this.emit("start-string",s,n,a,u),n=yield n,s===Es.UTF8_STRING?n=Q7.utf8(n):this.preferWeb&&(n=new Uint8Array(n.buffer,n.byteOffset,n.length))}break;case Es.ARRAY:case Es.MAP:switch(n){case 0:s===Es.MAP?n=this.preferMap?new Map:{}:n=[];break;case-1:this.emit("start",s,Nh.STREAM,a,u),e=DR(e,s,-1),r++;continue;default:this.emit("start",s,n,a,u),e=DR(e,s,n*(s-3)),r++;continue}break;case Es.TAG:this.emit("start",s,n,a,u),e=DR(e,s,1),e.push(n),r++;continue;case Es.SIMPLE_FLOAT:if(typeof n=="number"){if(o===db.ONE&&n<32)throw new Error(`Invalid two-byte encoding of simple value ${n}`);let d=e!=null;n=cHe.decode(n,d,d&&e[hb]<0)}else n=Q7.parseCBORfloat(n)}this.emit("value",n,a,u,o);let c=!1;for(;e!=null;){if(n===Nh.BREAK)e[hb]=1;else if(Array.isArray(e))e.push(n);else{let f=e[P6];if(f!=null&&f!==s)throw this.running=!1,new Error("Invalid major type in indefinite encoding");e.write(n)}if(--e[hb]!==0){c=!0;break}if(--r,delete e[hb],Array.isArray(e))switch(e[P6]){case Es.ARRAY:n=e;break;case Es.MAP:{let f=!this.preferMap;if(e.length%2!==0)throw new Error(`Invalid map length: ${e.length}`);for(let m=0,p=e.length;f&&m<p;m+=2)if(typeof e[m]!="string"||e[m]==="__proto__"){f=!1;break}if(f){n={};for(let m=0,p=e.length;m<p;m+=2){if(this.preventDuplicateKeys&&Object.prototype.hasOwnProperty.call(n,e[m]))throw new Error("Duplicate keys in a map");n[e[m]]=e[m+1]}}else{n=new Map;for(let m=0,p=e.length;m<p;m+=2){if(this.preventDuplicateKeys&&n.has(e[m]))throw new Error("Duplicate keys in a map");n.set(e[m],e[m+1])}}break}case Es.TAG:{n=new uHe(e[0],e[1]).convert(this.tags);break}}else if(e instanceof Hx)switch(e[P6]){case Es.BYTE_STRING:n=e.slice(),this.preferWeb&&(n=new Uint8Array(n.buffer,n.byteOffset,n.length));break;case Es.UTF8_STRING:n=e.toString("utf-8");break}this.emit("stop",e[P6]);let d=e;e=e[Nh.PARENT],delete d[Nh.PARENT],delete d[P6]}if(!c){if(this.extendedResults){let d=this.valueBytes.slice(),f={value:xu.nullcheck(n),bytes:d,length:d.length};return this.valueBytes=new Hx,f}return n}}}};xu.NOT_FOUND=Dm;coe.exports=xu});var loe=j((H9t,hoe)=>{"use strict";B();M();var hHe=J6(),foe=ab(),lHe=Um(),doe=Z7(),{MT:go,NUMBYTES:Dx,SYMS:LR}=Ch(),{Buffer:pHe}=$i();function UR(t){return t>1?"s":""}function bHe(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"number":return{options:{max_depth:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var lb=class extends hHe.Transform{constructor(e={}){let{depth:r=1,max_depth:n=10,no_summary:i=!1,tags:s={},preferWeb:o,encoding:a,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.depth=r,this.max_depth=n,this.all=new doe,s[24]||(s[24]=this._tag_24.bind(this)),this.parser=new lHe({tags:s,max_depth:n,preferWeb:o,encoding:a}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),i||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(e){let r=new lb({depth:this.depth+1,no_summary:!0});r.on("data",n=>this.push(n)),r.on("error",n=>this.emit("error",n)),r.end(e)}_transform(e,r,n){this.parser.write(e,r,n)}_flush(e){return this.parser._flush(e)}static comment(e,r={},n=null){if(e==null)throw new Error("input required");({options:r,cb:n}=bHe(r,n));let i=new doe,{encoding:s="hex",...o}=r,a=new lb(o),u=null;return typeof n=="function"?(a.on("end",()=>{n(null,i.toString("utf8"))}),a.on("error",n)):u=new Promise((c,d)=>{a.on("end",()=>{c(i.toString("utf8"))}),a.on("error",d)}),a.pipe(i),foe.guessEncoding(e,s).pipe(a),u}_on_error(e){this.push("ERROR: "),this.push(e.toString()),this.push(`
`)}_on_read(e){this.all.write(e);let r=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(r);let n=(this.max_depth-this.depth)*2-r.length;n<1&&(n=1),this.push(new Array(n+1).join(" ")),this.push("-- ")}_on_more(e,r,n,i){let s="";switch(this.depth++,e){case go.POS_INT:s="Positive number,";break;case go.NEG_INT:s="Negative number,";break;case go.ARRAY:s="Array, length";break;case go.MAP:s="Map, count";break;case go.BYTE_STRING:s="Bytes, length";break;case go.UTF8_STRING:s="String, length";break;case go.SIMPLE_FLOAT:r===1?s="Simple value,":s="Float,";break}this.push(`${s} next ${r} byte${UR(r)}
`)}_on_start_string(e,r,n,i){let s="";switch(this.depth++,e){case go.BYTE_STRING:s=`Bytes, length: ${r}`;break;case go.UTF8_STRING:s=`String, length: ${r.toString()}`;break}this.push(`${s}
`)}_on_start(e,r,n,i){switch(this.depth++,n){case go.ARRAY:this.push(`[${i}], `);break;case go.MAP:i%2?this.push(`{Val:${Math.floor(i/2)}}, `):this.push(`{Key:${Math.floor(i/2)}}, `);break}switch(e){case go.TAG:this.push(`Tag #${r}`),r===24&&this.push(" Encoded CBOR data item");break;case go.ARRAY:r===LR.STREAM?this.push("Array (streaming)"):this.push(`Array, ${r} item${UR(r)}`);break;case go.MAP:r===LR.STREAM?this.push("Map (streaming)"):this.push(`Map, ${r} pair${UR(r)}`);break;case go.BYTE_STRING:this.push("Bytes (streaming)");break;case go.UTF8_STRING:this.push("String (streaming)");break}this.push(`
`)}_on_stop(e){this.depth--}_on_value(e,r,n,i){if(e!==LR.BREAK)switch(r){case go.ARRAY:this.push(`[${n}], `);break;case go.MAP:n%2?this.push(`{Val:${Math.floor(n/2)}}, `):this.push(`{Key:${Math.floor(n/2)}}, `);break}let s=foe.cborValueToString(e,-1/0);switch(typeof e=="string"||pHe.isBuffer(e)?(e.length>0&&(this.push(s),this.push(`
`)),this.depth--):(this.push(s),this.push(`
`)),i){case Dx.ONE:case Dx.TWO:case Dx.FOUR:case Dx.EIGHT:this.depth--}}_on_data(){this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};hoe.exports=lb});var moe=j((U9t,goe)=>{"use strict";B();M();var gHe=J6(),mHe=Um(),poe=ab(),yHe=Z7(),{MT:Fa,SYMS:boe}=Ch();function vHe(t,e){switch(typeof t){case"function":return{options:{},cb:t};case"string":return{options:{encoding:t},cb:e};case"object":return{options:t||{},cb:e};default:throw new TypeError("Unknown option type")}}var qm=class extends gHe.Transform{constructor(e={}){let{separator:r=`
`,stream_errors:n=!1,tags:i,max_depth:s,preferWeb:o,encoding:a,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1}),this.float_bytes=-1,this.separator=r,this.stream_errors=n,this.parser=new mHe({tags:i,max_depth:s,preferWeb:o,encoding:a}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(e,r,n){this.parser.write(e,r,n)}_flush(e){this.parser._flush(r=>this.stream_errors?(r&&this._on_error(r),e()):e(r))}static diagnose(e,r={},n=null){if(e==null)throw new TypeError("input required");({options:r,cb:n}=vHe(r,n));let{encoding:i="hex",...s}=r,o=new yHe,a=new qm(s),u=null;return typeof n=="function"?(a.on("end",()=>n(null,o.toString("utf8"))),a.on("error",n)):u=new Promise((c,d)=>{a.on("end",()=>c(o.toString("utf8"))),a.on("error",d)}),a.pipe(o),poe.guessEncoding(e,i).pipe(a),u}_on_error(e){this.stream_errors?this.push(e.toString()):this.emit("error",e)}_on_more(e,r,n,i){e===Fa.SIMPLE_FLOAT&&(this.float_bytes={2:1,4:2,8:3}[r])}_fore(e,r){switch(e){case Fa.BYTE_STRING:case Fa.UTF8_STRING:case Fa.ARRAY:r>0&&this.push(", ");break;case Fa.MAP:r>0&&(r%2?this.push(": "):this.push(", "))}}_on_value(e,r,n){if(e===boe.BREAK)return;this._fore(r,n);let i=this.float_bytes;this.float_bytes=-1,this.push(poe.cborValueToString(e,i))}_on_start(e,r,n,i){switch(this._fore(n,i),e){case Fa.TAG:this.push(`${r}(`);break;case Fa.ARRAY:this.push("[");break;case Fa.MAP:this.push("{");break;case Fa.BYTE_STRING:case Fa.UTF8_STRING:this.push("(");break}r===boe.STREAM&&this.push("_ ")}_on_stop(e){switch(e){case Fa.TAG:this.push(")");break;case Fa.ARRAY:this.push("]");break;case Fa.MAP:this.push("}");break;case Fa.BYTE_STRING:case Fa.UTF8_STRING:this.push(")");break}}_on_data(){this.push(this.separator)}};goe.exports=qm});var Kx=j((K9t,Soe)=>{"use strict";B();M();var _He=J6(),qR=Z7(),Lx=ab(),SHe=Ch(),{MT:si,NUMBYTES:Ku,SHIFT32:yoe,SIMPLE:qx,SYMS:voe,TAG:Fh,BI:Ux}=SHe,{Buffer:Do}=$i(),wHe=si.SIMPLE_FLOAT<<5|Ku.TWO,xHe=si.SIMPLE_FLOAT<<5|Ku.FOUR,EHe=si.SIMPLE_FLOAT<<5|Ku.EIGHT,AHe=si.SIMPLE_FLOAT<<5|qx.TRUE,THe=si.SIMPLE_FLOAT<<5|qx.FALSE,IHe=si.SIMPLE_FLOAT<<5|qx.UNDEFINED,PHe=si.SIMPLE_FLOAT<<5|qx.NULL,jm=Do.from([255]),OHe=Do.from("f97e00","hex"),BHe=Do.from("f9fc00","hex"),MHe=Do.from("f97c00","hex"),kHe=Do.from("f98000","hex"),jx={},_oe={};function CHe(t){if(!t)return"number";switch(t.toLowerCase()){case"number":return"number";case"float":return"float";case"int":case"integer":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${t}"`)}var fr=class extends _He.Transform{constructor(e={}){let{canonical:r=!1,encodeUndefined:n,disallowUndefinedKeys:i=!1,dateType:s="number",collapseBigIntegers:o=!1,detectLoops:a=!1,omitUndefinedProperties:u=!1,genTypes:c=[],...d}=e;if(super({...d,readableObjectMode:!1,writableObjectMode:!0}),this.canonical=r,this.encodeUndefined=n,this.disallowUndefinedKeys=i,this.dateType=CHe(s),this.collapseBigIntegers=this.canonical?!0:o,this.detectLoops=void 0,typeof a=="boolean")a&&(this.detectLoops=new WeakSet);else if(a instanceof WeakSet)this.detectLoops=a;else throw new TypeError("detectLoops must be boolean or WeakSet");if(this.omitUndefinedProperties=u,this.semanticTypes={...fr.SEMANTIC_TYPES},Array.isArray(c))for(let f=0,m=c.length;f<m;f+=2)this.addSemanticType(c[f],c[f+1]);else for(let[f,m]of Object.entries(c))this.addSemanticType(f,m)}_transform(e,r,n){let i=this.pushAny(e);n(i===!1?new Error("Push Error"):void 0)}_flush(e){e()}_pushUInt8(e){let r=Do.allocUnsafe(1);return r.writeUInt8(e,0),this.push(r)}_pushUInt16BE(e){let r=Do.allocUnsafe(2);return r.writeUInt16BE(e,0),this.push(r)}_pushUInt32BE(e){let r=Do.allocUnsafe(4);return r.writeUInt32BE(e,0),this.push(r)}_pushFloatBE(e){let r=Do.allocUnsafe(4);return r.writeFloatBE(e,0),this.push(r)}_pushDoubleBE(e){let r=Do.allocUnsafe(8);return r.writeDoubleBE(e,0),this.push(r)}_pushNaN(){return this.push(OHe)}_pushInfinity(e){let r=e<0?BHe:MHe;return this.push(r)}_pushFloat(e){if(this.canonical){let r=Do.allocUnsafe(2);if(Lx.writeHalf(r,e))return this._pushUInt8(wHe)&&this.push(r)}return Math.fround(e)===e?this._pushUInt8(xHe)&&this._pushFloatBE(e):this._pushUInt8(EHe)&&this._pushDoubleBE(e)}_pushInt(e,r,n){let i=r<<5;if(e<24)return this._pushUInt8(i|e);if(e<=255)return this._pushUInt8(i|Ku.ONE)&&this._pushUInt8(e);if(e<=65535)return this._pushUInt8(i|Ku.TWO)&&this._pushUInt16BE(e);if(e<=4294967295)return this._pushUInt8(i|Ku.FOUR)&&this._pushUInt32BE(e);let s=Number.MAX_SAFE_INTEGER;return r===si.NEG_INT&&s--,e<=s?this._pushUInt8(i|Ku.EIGHT)&&this._pushUInt32BE(Math.floor(e/yoe))&&this._pushUInt32BE(e%yoe):r===si.NEG_INT?this._pushFloat(n):this._pushFloat(e)}_pushIntNum(e){return Object.is(e,-0)?this.push(kHe):e<0?this._pushInt(-e-1,si.NEG_INT,e):this._pushInt(e,si.POS_INT)}_pushNumber(e){return isNaN(e)?this._pushNaN():isFinite(e)?Math.round(e)===e?this._pushIntNum(e):this._pushFloat(e):this._pushInfinity(e)}_pushString(e){let r=Do.byteLength(e,"utf8");return this._pushInt(r,si.UTF8_STRING)&&this.push(e,"utf8")}_pushBoolean(e){return this._pushUInt8(e?AHe:THe)}_pushUndefined(e){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(IHe);case"function":return this.pushAny(this.encodeUndefined(e));case"object":{let r=Lx.bufferishToBuffer(this.encodeUndefined);if(r)return this.push(r)}}return this.pushAny(this.encodeUndefined)}_pushNull(e){return this._pushUInt8(PHe)}_pushTag(e){return this._pushInt(e,si.TAG)}_pushJSBigint(e){let r=si.POS_INT,n=Fh.POS_BIGINT;if(e<0&&(e=-e+Ux.MINUS_ONE,r=si.NEG_INT,n=Fh.NEG_BIGINT),this.collapseBigIntegers&&e<=Ux.MAXINT64)return e<=4294967295?this._pushInt(Number(e),r):this._pushUInt8(r<<5|Ku.EIGHT)&&this._pushUInt32BE(Number(e/Ux.SHIFT32))&&this._pushUInt32BE(Number(e%Ux.SHIFT32));let i=e.toString(16);i.length%2&&(i=`0${i}`);let s=Do.from(i,"hex");return this._pushTag(n)&&fr._pushBuffer(this,s)}_pushObject(e,r){if(!e)return this._pushNull(e);if(r={indefinite:!1,skipTypes:!1,...r},!r.indefinite&&this.detectLoops){if(this.detectLoops.has(e))throw new Error(`Loop detected while CBOR encoding.
Call removeLoopDetectors before resuming.`);this.detectLoops.add(e)}if(!r.skipTypes){let o=e.encodeCBOR;if(typeof o=="function")return o.call(e,this);let a=this.semanticTypes[e.constructor.name];if(a)return a.call(e,this,e)}let n=Object.keys(e).filter(o=>{let a=typeof e[o];return a!=="function"&&(!this.omitUndefinedProperties||a!=="undefined")}),i={};if(this.canonical&&n.sort((o,a)=>{let u=i[o]||(i[o]=fr.encode(o)),c=i[a]||(i[a]=fr.encode(a));return u.compare(c)}),r.indefinite){if(!this._pushUInt8(si.MAP<<5|Ku.INDEFINITE))return!1}else if(!this._pushInt(n.length,si.MAP))return!1;let s=null;for(let o=0,a=n.length;o<a;o++){let u=n[o];if(this.canonical&&(s=i[u])){if(!this.push(s))return!1}else if(!this._pushString(u))return!1;if(!this.pushAny(e[u]))return!1}if(r.indefinite){if(!this.push(jm))return!1}else this.detectLoops&&this.detectLoops.delete(e);return!0}_encodeAll(e){let r=new qR({highWaterMark:this.readableHighWaterMark});this.pipe(r);for(let n of e)this.pushAny(n);return this.end(),r.read()}addSemanticType(e,r){let n=typeof e=="string"?e:e.name,i=this.semanticTypes[n];if(r){if(typeof r!="function")throw new TypeError("fun must be of type function");this.semanticTypes[n]=r}else i&&delete this.semanticTypes[n];return i}pushAny(e){switch(typeof e){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case voe.NULL:return this._pushNull(null);case voe.UNDEFINED:return this._pushUndefined(void 0);default:throw new TypeError(`Unknown symbol: ${e.toString()}`)}default:throw new TypeError(`Unknown type: ${typeof e}, ${typeof e.toString=="function"?e.toString():""}`)}}static pushArray(e,r,n){n={indefinite:!1,...n};let i=r.length;if(n.indefinite){if(!e._pushUInt8(si.ARRAY<<5|Ku.INDEFINITE))return!1}else if(!e._pushInt(i,si.ARRAY))return!1;for(let s=0;s<i;s++)if(!e.pushAny(r[s]))return!1;return!(n.indefinite&&!e.push(jm))}removeLoopDetectors(){return this.detectLoops?(this.detectLoops=new WeakSet,!0):!1}static _pushDate(e,r){switch(e.dateType){case"string":return e._pushTag(Fh.DATE_STRING)&&e._pushString(r.toISOString());case"int":return e._pushTag(Fh.DATE_EPOCH)&&e._pushIntNum(Math.round(r.getTime()/1e3));case"float":return e._pushTag(Fh.DATE_EPOCH)&&e._pushFloat(r.getTime()/1e3);case"number":default:return e._pushTag(Fh.DATE_EPOCH)&&e.pushAny(r.getTime()/1e3)}}static _pushBuffer(e,r){return e._pushInt(r.length,si.BYTE_STRING)&&e.push(r)}static _pushNoFilter(e,r){return fr._pushBuffer(e,r.slice())}static _pushRegexp(e,r){return e._pushTag(Fh.REGEXP)&&e.pushAny(r.source)}static _pushSet(e,r){if(!e._pushTag(Fh.SET)||!e._pushInt(r.size,si.ARRAY))return!1;for(let n of r)if(!e.pushAny(n))return!1;return!0}static _pushURL(e,r){return e._pushTag(Fh.URI)&&e.pushAny(r.toString())}static _pushBoxed(e,r){return e.pushAny(r.valueOf())}static _pushMap(e,r,n){n={indefinite:!1,...n};let i=[...r.entries()];if(e.omitUndefinedProperties&&(i=i.filter(([s,o])=>o!==void 0)),n.indefinite){if(!e._pushUInt8(si.MAP<<5|Ku.INDEFINITE))return!1}else if(!e._pushInt(i.length,si.MAP))return!1;if(e.canonical){let s=new fr({genTypes:e.semanticTypes,canonical:e.canonical,detectLoops:Boolean(e.detectLoops),dateType:e.dateType,disallowUndefinedKeys:e.disallowUndefinedKeys,collapseBigIntegers:e.collapseBigIntegers}),o=new qR({highWaterMark:e.readableHighWaterMark});s.pipe(o),i.sort(([a],[u])=>{s.pushAny(a);let c=o.read();s.pushAny(u);let d=o.read();return c.compare(d)});for(let[a,u]of i){if(e.disallowUndefinedKeys&&typeof a>"u")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(a)&&e.pushAny(u)))return!1}}else for(let[s,o]of i){if(e.disallowUndefinedKeys&&typeof s>"u")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(s)&&e.pushAny(o)))return!1}return!(n.indefinite&&!e.push(jm))}static _pushTypedArray(e,r){let n=64,i=r.BYTES_PER_ELEMENT,{name:s}=r.constructor;return s.startsWith("Float")?(n|=16,i/=2):s.includes("U")||(n|=8),(s.includes("Clamped")||i!==1&&!Lx.isBigEndian())&&(n|=4),n|={1:0,2:1,4:2,8:3}[i],e._pushTag(n)?fr._pushBuffer(e,Do.from(r.buffer,r.byteOffset,r.byteLength)):!1}static _pushArrayBuffer(e,r){return fr._pushBuffer(e,Do.from(r))}static encodeIndefinite(e,r,n={}){if(r==null){if(this==null)throw new Error("No object to encode");r=this}let{chunkSize:i=4096}=n,s=!0,o=typeof r,a=null;if(o==="string"){s=s&&e._pushUInt8(si.UTF8_STRING<<5|Ku.INDEFINITE);let u=0;for(;u<r.length;){let c=u+i;s=s&&e._pushString(r.slice(u,c)),u=c}s=s&&e.push(jm)}else if(a=Lx.bufferishToBuffer(r)){s=s&&e._pushUInt8(si.BYTE_STRING<<5|Ku.INDEFINITE);let u=0;for(;u<a.length;){let c=u+i;s=s&&fr._pushBuffer(e,a.slice(u,c)),u=c}s=s&&e.push(jm)}else if(Array.isArray(r))s=s&&fr.pushArray(e,r,{indefinite:!0});else if(r instanceof Map)s=s&&fr._pushMap(e,r,{indefinite:!0});else{if(o!=="object")throw new Error("Invalid indefinite encoding");s=s&&e._pushObject(r,{indefinite:!0,skipTypes:!0})}return s}static encode(...e){return new fr()._encodeAll(e)}static encodeCanonical(...e){return new fr({canonical:!0})._encodeAll(e)}static encodeOne(e,r){return new fr(r)._encodeAll([e])}static encodeAsync(e,r){return new Promise((n,i)=>{let s=[],o=new fr(r);o.on("data",a=>s.push(a)),o.on("error",i),o.on("finish",()=>n(Do.concat(s))),o.pushAny(e),o.end()})}static get SEMANTIC_TYPES(){return _oe}static set SEMANTIC_TYPES(e){_oe=e}static reset(){fr.SEMANTIC_TYPES={...jx}}};Object.assign(jx,{Array:fr.pushArray,Date:fr._pushDate,Buffer:fr._pushBuffer,[Do.name]:fr._pushBuffer,Map:fr._pushMap,NoFilter:fr._pushNoFilter,[qR.name]:fr._pushNoFilter,RegExp:fr._pushRegexp,Set:fr._pushSet,ArrayBuffer:fr._pushArrayBuffer,Uint8ClampedArray:fr._pushTypedArray,Uint8Array:fr._pushTypedArray,Uint16Array:fr._pushTypedArray,Uint32Array:fr._pushTypedArray,Int8Array:fr._pushTypedArray,Int16Array:fr._pushTypedArray,Int32Array:fr._pushTypedArray,Float32Array:fr._pushTypedArray,Float64Array:fr._pushTypedArray,URL:fr._pushURL,Boolean:fr._pushBoxed,Number:fr._pushBoxed,String:fr._pushBoxed});typeof BigUint64Array<"u"&&(jx[BigUint64Array.name]=fr._pushTypedArray);typeof BigInt64Array<"u"&&(jx[BigInt64Array.name]=fr._pushTypedArray);fr.reset();Soe.exports=fr});var Eoe=j((V9t,xoe)=>{"use strict";B();M();var{Buffer:woe}=$i(),RHe=Kx(),NHe=Um(),{MT:FHe}=Ch(),Yf=class extends Map{constructor(e){super(e)}static _encode(e){return RHe.encodeCanonical(e).toString("base64")}static _decode(e){return NHe.decodeFirstSync(e,"base64")}get(e){return super.get(Yf._encode(e))}set(e,r){return super.set(Yf._encode(e),r)}delete(e){return super.delete(Yf._encode(e))}has(e){return super.has(Yf._encode(e))}*keys(){for(let e of super.keys())yield Yf._decode(e)}*entries(){for(let e of super.entries())yield[Yf._decode(e[0]),e[1]]}[Symbol.iterator](){return this.entries()}forEach(e,r){if(typeof e!="function")throw new TypeError("Must be function");for(let n of super.entries())e.call(this,n[1],Yf._decode(n[0]),this)}encodeCBOR(e){if(!e._pushInt(this.size,FHe.MAP))return!1;if(e.canonical){let r=Array.from(super.entries()).map(n=>[woe.from(n[0],"base64"),n[1]]);r.sort((n,i)=>n[0].compare(i[0]));for(let n of r)if(!(e.push(n[0])&&e.pushAny(n[1])))return!1}else for(let r of super.entries())if(!(e.push(woe.from(r[0],"base64"))&&e.pushAny(r[1])))return!1;return!0}};xoe.exports=Yf});var Toe=j((Y9t,Aoe)=>{"use strict";B();M();var Hh=class{constructor(){this.clear()}clear(){this.map=new WeakMap,this.count=0,this.recording=!0}stop(){this.recording=!1}check(e){let r=this.map.get(e);if(r)return r.length>1?r[0]||this.recording?r[1]:(r[0]=!0,Hh.FIRST):this.recording?(r.push(this.count++),r[1]):Hh.NEVER;if(!this.recording)throw new Error("New object detected when not recording");return this.map.set(e,[!1]),Hh.NEVER}};Hh.NEVER=-1;Hh.FIRST=-2;Aoe.exports=Hh});var Poe=j((J9t,Ioe)=>{"use strict";B();M();var HHe=Kx(),jR=Toe(),{Buffer:DHe}=$i(),e5=class extends HHe{constructor(e){super(e),this.valueSharing=new jR}_pushObject(e,r){if(e!==null){let n=this.valueSharing.check(e);switch(n){case jR.FIRST:this._pushTag(28);break;case jR.NEVER:break;default:return this._pushTag(29)&&this._pushIntNum(n)}}return super._pushObject(e,r)}stopRecording(){this.valueSharing.stop()}clearRecording(){this.valueSharing.clear()}static encode(...e){let r=new e5;r.on("data",()=>{});for(let n of e)r.pushAny(n);return r.stopRecording(),r.removeAllListeners("data"),r._encodeAll(e)}static encodeCanonical(...e){throw new Error("Cannot encode canonically in a SharedValueEncoder, which serializes objects multiple times.")}static encodeOne(e,r){let n=new e5(r);return n.on("data",()=>{}),n.pushAny(e),n.stopRecording(),n.removeAllListeners("data"),n._encodeAll([e])}static encodeAsync(e,r){return new Promise((n,i)=>{let s=[],o=new e5(r);o.on("data",()=>{}),o.on("error",i),o.on("finish",()=>n(DHe.concat(s))),o.pushAny(e),o.stopRecording(),o.removeAllListeners("data"),o.on("data",a=>s.push(a)),o.pushAny(e),o.end()})}};Ioe.exports=e5});var Coe=j((tbt,koe)=>{"use strict";B();M();var Ooe=loe(),Boe=moe(),t5=Um(),r5=Kx(),LHe=HR(),Moe=NR(),UHe=Eoe(),qHe=Poe();koe.exports={Commented:Ooe,Diagnose:Boe,Decoder:t5,Encoder:r5,Simple:LHe,Tagged:Moe,Map:UHe,SharedValueEncoder:qHe,comment:Ooe.comment,decodeAll:t5.decodeAll,decodeFirst:t5.decodeFirst,decodeAllSync:t5.decodeAllSync,decodeFirstSync:t5.decodeFirstSync,diagnose:Boe.diagnose,encode:r5.encode,encodeCanonical:r5.encodeCanonical,encodeOne:r5.encodeOne,encodeAsync:r5.encodeAsync,decode:t5.decodeFirstSync,leveldb:{decode:t5.decodeFirstSync,encode:r5.encode,buffer:!0,name:"cbor"},reset(){r5.reset(),Moe.reset()}}});var Roe=j(tf=>{"use strict";B();M();Object.defineProperty(tf,"__esModule",{value:!0});tf.getCatNFTCommitScript=tf.getCatCollectionCommitScript=tf.getCatCommitScript=tf.chunks=tf.toPushData=void 0;var Lo=nb(),KR=Coe(),Km=520;function Ha(t){let e=[],r=t.length;if(r<76){let n=E.Buffer.alloc(1);n.writeUInt8(r),e.push(n)}else if(r<=255){e.push(E.Buffer.from("4c","hex"));let n=E.Buffer.alloc(1);n.writeUInt8(r),e.push(n)}else if(r<=65535){e.push(E.Buffer.from("4d","hex"));let n=E.Buffer.alloc(2);n.writeUint16LE(r),e.push(n)}else{e.push(E.Buffer.from("4e","hex"));let n=E.Buffer.alloc(4);n.writeUint32LE(r),e.push(n)}return e.push(t),E.Buffer.concat(e)}tf.toPushData=Ha;function pb(t,e){let r=[],n=0;for(;n<t.length;){let i=t.slice(n,n+e);r.push(i),n+=e}return r}tf.chunks=pb;var jHe=(t,e)=>{let r=new Map;for(let o in e)r.set(o,e[o]);let n=E.Buffer.from(KR.encode(r)),i=[];i.push(Ha(E.Buffer.from(t,"hex"))),i.push(Lo.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),i.push(Lo.btc.Script.fromASM("OP_2DROP OP_2DROP OP_DROP").toBuffer()),i.push(Lo.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),i.push(Lo.btc.Script.fromASM("OP_1").toBuffer());let s=pb(Array.from(n),Km);for(let o of s)i.push(Ha(E.Buffer.from(o)));return i.push(Lo.btc.Script.fromASM("OP_ENDIF").toBuffer()),i.push(Lo.btc.Script.fromASM("OP_1").toBuffer()),E.Buffer.concat(i).toString("hex")};tf.getCatCommitScript=jHe;var KHe=(t,e,r)=>{let n=[];if(n.push(Ha(E.Buffer.from(t,"hex"))),n.push(Lo.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),n.push(Lo.btc.Script.fromASM("OP_2DROP OP_2DROP OP_DROP").toBuffer()),n.push(Lo.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),n.push(Lo.btc.Script.fromASM("OP_2").toBuffer()),Object.keys(e).length>0){let i=new Map;for(let o in e)i.set(o,e[o]);let s=pb(Array.from(E.Buffer.from(KR.encode(i))),Km);for(let o of s)n.push(Ha(E.Buffer.from([5]))),n.push(Ha(E.Buffer.from(o)))}if(r){n.push(Ha(E.Buffer.from([1]))),n.push(Ha(E.Buffer.from(r.type,"utf-8"))),n.push(E.Buffer.from([0]));let i=pb(Array.from(E.Buffer.from(r.body,"hex")),Km);for(let s of i)n.push(Ha(E.Buffer.from(s)))}return n.push(Lo.btc.Script.fromASM("OP_ENDIF").toBuffer()),n.push(Lo.btc.Script.fromASM("OP_1").toBuffer()),E.Buffer.concat(n).toString("hex")};tf.getCatCollectionCommitScript=KHe;var $He=(t,e,r)=>{let n=[];if(n.push(Ha(E.Buffer.from(t,"hex"))),n.push(Lo.btc.Script.fromASM("OP_CHECKSIGVERIFY").toBuffer()),n.push(Lo.btc.Script.fromASM("OP_0 OP_IF 636174").toBuffer()),n.push(Lo.btc.Script.fromASM("OP_3").toBuffer()),Object.keys(e).length>0){let i=new Map;for(let o in e)i.set(o,e[o]);let s=pb(Array.from(E.Buffer.from(KR.encode(i))),Km);for(let o of s)n.push(Ha(E.Buffer.from([5]))),n.push(Ha(E.Buffer.from(o)))}if(r){n.push(Ha(E.Buffer.from([1]))),n.push(Ha(E.Buffer.from(r.type,"utf-8"))),n.push(E.Buffer.from([0]));let i=pb(Array.from(E.Buffer.from(r.body,"hex")),Km);for(let s of i)n.push(Ha(E.Buffer.from(s)))}return n.push(Lo.btc.Script.fromASM("OP_ENDIF").toBuffer()),n.push(Lo.btc.Script.fromASM("OP_1").toBuffer()),E.Buffer.concat(n).toString("hex")};tf.getCatNFTCommitScript=$He});var oF=j(Qf=>{"use strict";B();M();function rN(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function zHe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Xoe(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function VHe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");rN(t.outputLen),rN(t.blockLen)}function GHe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function WHe(t,e){Xoe(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var YHe={number:rN,bool:zHe,bytes:Xoe,hash:VHe,exists:GHe,output:WHe},$R=YHe;var zR=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),md=(t,e)=>t<<32-e|t>>>e,XHe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!XHe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ZHe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Zoe(t){if(typeof t=="string"&&(t=ZHe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var JHe=class{clone(){return this._cloneInto()}};function Joe(t){let e=n=>t().update(Zoe(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function QHe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var eDe=class extends JHe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=zR(this.buffer)}update(e){$R.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=Zoe(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=zR(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){$R.exists(this),$R.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;QHe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=zR(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},tDe=(t,e,r)=>t&e^~t&r,rDe=(t,e,r)=>t&e^t&r^e&r,nDe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),O6=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),B6=new Uint32Array(64),Qoe=class extends eDe{constructor(){super(64,32,8,!1),this.A=O6[0]|0,this.B=O6[1]|0,this.C=O6[2]|0,this.D=O6[3]|0,this.E=O6[4]|0,this.F=O6[5]|0,this.G=O6[6]|0,this.H=O6[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)B6[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let m=B6[f-15],p=B6[f-2],y=md(m,7)^md(m,18)^m>>>3,w=md(p,17)^md(p,19)^p>>>10;B6[f]=w+B6[f-7]+y+B6[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:d}=this;for(let f=0;f<64;f++){let m=md(a,6)^md(a,11)^md(a,25),p=d+m+tDe(a,u,c)+nDe[f]+B6[f]|0,w=(md(n,2)^md(n,13)^md(n,22))+rDe(n,i,s)|0;d=c,c=u,u=a,a=o+p|0,o=s,s=i,i=n,n=p+w|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,u,c,d)}roundClean(){B6.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},iDe=class extends Qoe{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},nN=Joe(()=>new Qoe);Joe(()=>new iDe);function sDe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function oDe(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function aDe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:uDe}=crypto??globalThis.crypto??window.crypto;function cDe(t=32){if(typeof uDe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function fDe(t,e,r="be"){e===void 0&&(e=t.length),sDe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function eae(t){let e,r=0,n=t.reduce((s,o)=>s+o.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var dDe=new TextEncoder,hDe=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function tae(t){for(let e of hDe)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function lDe(t,e,r=!1){typeof t=="string"&&(t=dDe.encode(t));let n=tae(e),i=n.length,s=[],o="",a,u=0,c,d;for(a=0;a<t.length;a++)for(u=0,c=t[a],o+=c>0||(o.length^a)>0?"":"1";u in s||c>0;)d=s[u],d=d>0?d*256+c:c,c=d/i|0,s[u]=d%i,u++;for(;u-- >0;)o+=n[s[u]];return r&&o.length%4>0?o+"=".repeat(4-o.length%4):o}function pDe(t,e){let r=tae(e),n=r.length,i=[],s=[];t=t.replace("=","");let o,a=0,u,c;for(o=0;o<t.length;o++){if(a=0,u=r.indexOf(t[o]),u<0)throw new Error(`Character range out of bounds: ${u}`);for(u>0||(s.length^o)>0||s.push(0);a in i||u>0;)c=i[a],c=c>0?c*n+u:u,u=c>>8,i[a]=c%256,a++}for(;a-- >0;)s.push(i[a]);return new Uint8Array(s)}function rae(t){return nN(nN(t))}function bDe(t){let e=rae(t);return eae([t,e.slice(0,4)])}function gDe(t){let e=t.slice(0,-4),r=t.slice(-4);if(rae(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var Noe={encode:lDe,decode:pDe},nae={encode:t=>{let e=bDe(t);return Noe.encode(e,"base58")},decode:t=>{let e=Noe.decode(t,"base58");return gDe(e)}},iae="qpzry9x8gf2tvdw0s3jn54khce6mua7l",mDe=[996825010,642813549,513874426,1027748829,705979059],Yx=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function sae(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=mDe[i])}return e}function oae(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function yDe(t,e,r){let n=oae(t).concat(e);return sae(n)===r.const}function vDe(t,e,r){let n=oae(t).concat(e).concat([0,0,0,0,0,0]),i=sae(n)^r.const,s=[];for(let o=0;o<6;++o)s.push(i>>5*(5-o)&31);return s}function aae(t,e,r,n=!0){let i=[],s=0,o=0,a=(1<<r)-1,u=(1<<e+r-1)-1;for(let c of t){if(c<0||c>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(s=(s<<e|c)&u,o+=e;o>=r;)o-=r,i.push(s>>o&a)}if(n)o>0&&i.push(s<<r-o&a);else if(o>=e||(s<<r-o&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function _De(t,e,r){let n=e.concat(vDe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=iae.charAt(n[s]);return i}function uae(t){if(!SDe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!wDe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let o=iae.indexOf(t.charAt(s));if(o===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(o)}let i=Yx.find(s=>s.version===e[0])??Yx[0];if(!yDe(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function SDe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function wDe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function xDe(t,e="bc",r=0){let n=[r,...aae([...t],8,5)],i=Yx.find(o=>o.version===r)??Yx[0],s=_De(e,n,i);return cae(s),s}function cae(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=uae(t),i=aae(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function EDe(t){t=t.toLowerCase();let[e,r]=uae(t);return r[0]}var fae={encode:xDe,decode:cae,version:EDe},dae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",ADe=new TextEncoder;function lae(t,e=!1,r=!0){typeof t=="string"&&(t=ADe.encode(t));let n=e?hae:dae,i="",s=0,o=0;for(let a=0;a<t.length;a++)for(o=o<<8|t[a],s+=8;s>=6;)s-=6,i+=n[o>>s&63];if(s>0)for(o<<=6-s,i+=n[o&63];s<6;)i+=r?"=":"",s+=2;return i}function pae(t,e=!1){let r=e||t.includes("-")||t.includes("_")?hae.split(""):dae.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,o=[];for(let a=0;a<n.length;a++){let u=n[a],c=r.indexOf(u);if(c===-1)throw new Error("Invalid character: "+u);i+=6,s<<=6,s|=c,i>=8&&(i-=8,o.push(s>>>i&255))}return new Uint8Array(o)}var bae={encode:lae,decode:pae},gae={encode:t=>lae(t,!0,!1),decode:t=>pae(t,!0)},TDe=BigInt(0),IDe=BigInt(255),mae=BigInt(256);function PDe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function ODe(t,e,r="be"){e===void 0&&(e=PDe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>TDe;){let a=t&IDe,u=Number(a);n?s.setUint8(o++,u):s.setUint8(o--,u),t=(t-a)/mae}return new Uint8Array(i)}function BDe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*mae+BigInt(t[r]);return BigInt(e)}function MDe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let o=0;o<8;o++)s|=e[n+o]<<7-o;r[i]=s}return r}function kDe(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function CDe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function RDe(t,e,r="be"){e===void 0&&(e=CDe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>0;){let a=t&255;n?s.setUint8(o++,t):s.setUint8(o--,t),t=(t-a)/256}return new Uint8Array(i)}function NDe(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],aDe(e);return e}var FDe=new TextEncoder,HDe=new TextDecoder;function PN(t){return FDe.encode(t)}function VR(t){return HDe.decode(t)}function DDe(t,e){oDe(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function LDe(t,e,r="le"){e=DDe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(let a=0;a<t.length;a+=2){let u=t.substring(a,a+2),c=parseInt(u,16);n?s.setUint8(o++,c):s.setUint8(o--,c)}return new Uint8Array(i)}function UDe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function qDe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return PN(e)}function jDe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return fDe(t,e,r);if(typeof t=="string")return LDe(t,e,r);if(typeof t=="bigint")return ODe(t,e,r);if(typeof t=="number")return RDe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var Pr,we=(Pr=class extends Uint8Array{static random(e=32){let r=cDe(e);return new Pr(r,e)}constructor(e,r,n){let i=jDe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new Ib(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return NDe(r)}toBin(){return kDe(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return BDe(r)}toHash(){let e=nN(this);return new Pr(e)}toJson(){let e=VR(this);return JSON.parse(e)}toBech32(e,r=0){return fae.encode(this,e,r)}toStr(){return VR(this)}toHex(){return UDe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return nae.encode(this)}toBase64(){return bae.encode(this)}toB64url(){return gae.encode(this)}prepend(e){return Pr.join([Pr.bytes(e),this])}append(e){return Pr.join([this,Pr.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new Pr(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new Pr(n)}reverse(){let e=new Uint8Array(this).reverse();return new Pr(e)}write(e,r){let n=Pr.bytes(e);this.set(n,r)}prefixSize(e){let r=Pr.varInt(this.length,e);return Pr.join([r,this])}static from(e){return new Pr(Uint8Array.from(e))}static of(...e){return new Pr(Uint8Array.of(...e))}static join(e){let r=e.map(i=>Pr.bytes(i)),n=eae(r);return new Pr(n)}static varInt(e,r){if(e<253)return Pr.num(e,1);if(e<65536)return Pr.of(253,...Pr.num(e,2,r));if(e<4294967296)return Pr.of(254,...Pr.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return Pr.of(255,...Pr.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},(()=>{Pr.num=KDe})(),(()=>{Pr.big=zDe})(),(()=>{Pr.bin=$De})(),(()=>{Pr.raw=VDe})(),(()=>{Pr.str=GDe})(),(()=>{Pr.hex=WDe})(),(()=>{Pr.bytes=YDe})(),(()=>{Pr.json=XDe})(),(()=>{Pr.base64=ZDe})(),(()=>{Pr.b64url=JDe})(),(()=>{Pr.bech32=QDe})(),(()=>{Pr.b58chk=eLe})(),(()=>{Pr.encode=PN})(),(()=>{Pr.decode=VR})(),Pr);function KDe(t,e,r){return new we(t,e,r)}function $De(t,e,r){return new we(MDe(t),e,r)}function zDe(t,e,r){return new we(t,e,r)}function VDe(t,e,r){return new we(t,e,r)}function GDe(t,e,r){return new we(PN(t),e,r)}function WDe(t,e,r){return new we(t,e,r)}function YDe(t,e,r){return new we(t,e,r)}function XDe(t){return new we(qDe(t))}function ZDe(t){return new we(bae.decode(t))}function JDe(t){return new we(gae.decode(t))}function QDe(t){return new we(fae.decode(t))}function eLe(t){return new we(nae.decode(t))}var Ib=class{constructor(e){this.data=we.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new we(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}};function Ad(t,e){let r=we.bytes(t);if(r.length!==e)throw new Error(`Invalid input size: ${r.hex} !== ${e}`)}function ga(t,e){if(e)throw new Error(t);return!1}function Gx(t,...e){let r=we.str(t).digest.raw,n=e.map(i=>we.bytes(i));return we.join([r,r,we.join(n)]).digest}var yae={OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_SUCCESS80:80,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_SUCCESS98:98,OP_IF:99,OP_NOTIF:100,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_SUCCESS126:126,OP_SUCCESS127:127,OP_SUCCESS128:128,OP_SUCCESS129:129,OP_SIZE:130,OP_SUCCESS131:131,OP_SUCCESS132:132,OP_SUCCESS133:133,OP_SUCCESS134:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_SUCCESS137:137,OP_SUCCESS138:138,OP_1ADD:139,OP_1SUB:140,OP_SUCCESS141:141,OP_SUCCESS142:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_SUCCESS149:149,OP_SUCCESS150:150,OP_SUCCESS151:151,OP_SUCCESS152:152,OP_SUCCESS153:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186};function tLe(t){if(t>186&&t<255)return"OP_SUCCESS"+String(t);for(let[e,r]of Object.entries(yae))if(r===t)return e;throw new Error("OPCODE not found:"+String(t))}function rLe(t){for(let[e,r]of Object.entries(yae))if(e===t)return Number(r);throw new Error("OPCODE not found:"+t)}function nLe(t){switch(!0){case t===0:return"opcode";case(t>=1&&t<=75):return"varint";case t===76:return"pushdata1";case t===77:return"pushdata2";case t===78:return"pushdata4";case t<=254:return"opcode";default:throw new Error(`Invalid word range: ${t}`)}}function iLe(t){let n=[];switch(!0){case typeof t!="number":return!1;case t===0:return!0;case n.includes(t):return!1;case(75<t&&t<254):return!0;default:return!1}}function zh(t){return typeof t=="string"&&t.length%2===0&&/[0-9a-fA-F]/.test(t)}function vae(t){return zh(t)||t instanceof Uint8Array}var Xx=520;function G6(t=[],e=!0){let r=we.num(0);return Array.isArray(t)&&(r=we.raw(_ae(t))),zh(t)&&(r=we.hex(t)),t instanceof Uint8Array&&(r=we.raw(t)),e&&(r=r.prefixSize("le")),r}function _ae(t){let e=[];for(let r of t)e.push(sLe(r));return e.length>0?we.join(e):new Uint8Array}function sLe(t){let e=new Uint8Array;if(typeof t=="string"){if(t.startsWith("OP_"))return we.num(rLe(t),1);zh(t)?e=we.hex(t):e=we.str(t)}else if(e=we.bytes(t),e.length===1&&e[0]<=16)return e[0]!==0&&(e[0]+=80),e;if(e.length>Xx){let r=aLe(e);return _ae(r)}return we.join([oLe(e.length),e])}function oLe(t){let e=we.num(76,1),r=we.num(77,1);switch(!0){case t<=75:return we.num(t);case(t>75&&t<256):return we.join([e,we.num(t,1,"le")]);case(t>=256&&t<=Xx):return we.join([r,we.num(t,2,"le")]);default:throw new Error("Invalid word size:"+t.toString())}}function aLe(t){let e=[],r=new Ib(t);for(;r.size>Xx;)e.push(r.read(Xx));return e.push(r.read(r.size)),e}function mE(t,e=!1){let r=we.bytes(t);if(e){let i=r.stream.readSize("le");if(r=r.slice(1),r.length!==i)throw new Error(`Varint does not match stream size: ${i} !== ${r.length}`)}return uLe(r)}function uLe(t){let e=new Ib(t),r=[],n=e.size,i,s,o,a=0;for(;a<n;)switch(i=e.read(1).num,s=nLe(i),a++,s){case"varint":r.push(e.read(i).hex),a+=i;break;case"pushdata1":o=e.read(1).reverse().num,r.push(e.read(o).hex),a+=o+1;break;case"pushdata2":o=e.read(2).reverse().num,r.push(e.read(o).hex),a+=o+2;break;case"pushdata4":o=e.read(4).reverse().num,r.push(e.read(o).hex),a+=o+4;break;case"opcode":if(!iLe(i))throw new Error(`Invalid OPCODE: ${i}`);r.push(tLe(i));break;default:throw new Error(`Word type undefined: ${i}`)}return r}function cLe(t,e){if(Array.isArray(t)&&(t=G6(t,e)),t instanceof Uint8Array||zh(t))return mE(t,e);throw new Error("Invalid format: "+String(typeof t))}function fLe(t,e){if((t instanceof Uint8Array||zh(t))&&(t=mE(t,e)),Array.isArray(t))return G6(t,e);throw new Error("Invalid format: "+String(typeof t))}function dLe(t){if(!Array.isArray(t))return we.bytes(t);throw new Error("Invalid format: "+String(typeof t))}var hLe={toAsm:cLe,toBytes:fLe,toParam:dLe},jo={encode:G6,decode:mE,fmt:hLe};function iN(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function lLe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Sae(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function pLe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");iN(t.outputLen),iN(t.blockLen)}function bLe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function gLe(t,e){Sae(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var mLe={number:iN,bool:lLe,bytes:Sae,hash:pLe,exists:bLe,output:gLe},s5=mLe,GR=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var WR=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),yd=(t,e)=>t<<32-e|t>>>e,yLe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!yLe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vLe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function ON(t){if(typeof t=="string"&&(t=vLe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}function _Le(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,i)=>n+i.length,0),r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){let s=t[n];r.set(s,i),i+=s.length}return r}var wae=class{clone(){return this._cloneInto()}};function xae(t){let e=n=>t().update(ON(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Eae(t=32){if(GR&&typeof GR.getRandomValues=="function")return GR.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}function SLe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var wLe=class extends wae{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=WR(this.buffer)}update(e){s5.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=ON(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=WR(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){s5.exists(this),s5.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;SLe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=WR(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},xLe=(t,e,r)=>t&e^~t&r,ELe=(t,e,r)=>t&e^t&r^e&r,ALe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),M6=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),k6=new Uint32Array(64),Aae=class extends wLe{constructor(){super(64,32,8,!1),this.A=M6[0]|0,this.B=M6[1]|0,this.C=M6[2]|0,this.D=M6[3]|0,this.E=M6[4]|0,this.F=M6[5]|0,this.G=M6[6]|0,this.H=M6[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)k6[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let m=k6[f-15],p=k6[f-2],y=yd(m,7)^yd(m,18)^m>>>3,w=yd(p,17)^yd(p,19)^p>>>10;k6[f]=w+k6[f-7]+y+k6[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:d}=this;for(let f=0;f<64;f++){let m=yd(a,6)^yd(a,11)^yd(a,25),p=d+m+xLe(a,u,c)+ALe[f]+k6[f]|0,w=(yd(n,2)^yd(n,13)^yd(n,22))+ELe(n,i,s)|0;d=c,c=u,u=a,a=o+p|0,o=s,s=i,i=n,n=p+w|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,u,c,d)}roundClean(){k6.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},TLe=class extends Aae{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},Zx=xae(()=>new Aae);xae(()=>new TLe);var ILe=BigInt(0),BN=BigInt(1),PLe=BigInt(2),yE=t=>t instanceof Uint8Array,OLe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mb(t){if(!yE(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=OLe[t[r]];return e}function Tae(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function MN(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function yb(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[r]=s}return e}function Da(t){return MN(mb(t))}function kN(t){if(!yE(t))throw new Error("Uint8Array expected");return MN(mb(Uint8Array.from(t).reverse()))}var q6=(t,e)=>yb(t.toString(16).padStart(e*2,"0")),Iae=(t,e)=>q6(t,e).reverse(),BLe=t=>yb(Tae(t));function Uo(t,e,r){let n;if(typeof e=="string")try{n=yb(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(yE(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);let i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function $u(...t){let e=new Uint8Array(t.reduce((n,i)=>n+i.length,0)),r=0;return t.forEach(n=>{if(!yE(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}function MLe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function vE(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function kLe(t){let e;for(e=0;t>0n;t>>=BN,e+=1);return e}var CLe=(t,e)=>t>>BigInt(e)&1n,RLe=(t,e,r)=>t|(r?BN:ILe)<<BigInt(e),CN=t=>(PLe<<BigInt(t-1))-BN,YR=t=>new Uint8Array(t),Foe=t=>Uint8Array.from(t);function Pae(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=YR(t),i=YR(t),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...f)=>r(i,n,...f),u=(f=YR())=>{i=a(Foe([0]),f),n=a(),f.length!==0&&(i=a(Foe([1]),f),n=a())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0,m=[];for(;f<e;){n=a();let p=n.slice();m.push(p),f+=n.length}return $u(...m)};return(f,m)=>{o(),u(f);let p;for(;!(p=m(c()));)u();return o(),p}}var NLe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Pb(t,e,r={}){let n=(i,s,o)=>{let a=NLe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);let u=t[i];if(!(o&&u===void 0)&&!a(u,t))throw new Error(`Invalid param ${String(i)}=${u} (${typeof u}), expected ${s}`)};for(let[i,s]of Object.entries(e))n(i,s,!1);for(let[i,s]of Object.entries(r))n(i,s,!0);return t}var FLe=Object.freeze({__proto__:null,bitGet:CLe,bitLen:kLe,bitMask:CN,bitSet:RLe,bytesToHex:mb,bytesToNumberBE:Da,bytesToNumberLE:kN,concatBytes:$u,createHmacDrbg:Pae,ensureBytes:Uo,equalBytes:MLe,hexToBytes:yb,hexToNumber:MN,numberToBytesBE:q6,numberToBytesLE:Iae,numberToHexUnpadded:Tae,numberToVarBytesBE:BLe,utf8ToBytes:vE,validateObject:Pb});var mo=BigInt(0),rs=BigInt(1),i5=BigInt(2),HLe=BigInt(3),sN=BigInt(4),Hoe=BigInt(5),Doe=BigInt(8);BigInt(9);BigInt(16);function qs(t,e){let r=t%e;return r>=mo?r:e+r}function DLe(t,e,r){if(r<=mo||e<mo)throw new Error("Expected power/modulo > 0");if(r===rs)return mo;let n=rs;for(;e>mo;)e&rs&&(n=n*t%r),t=t*t%r,e>>=rs;return n}function rf(t,e,r){let n=t;for(;e-- >mo;)n*=n,n%=r;return n}function oN(t,e){if(t===mo||e<=mo)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=qs(t,e),n=e,i=mo,s=rs;for(;r!==mo;){let a=n/r,u=n%r,c=i-s*a;n=r,r=u,i=s,s=c}if(n!==rs)throw new Error("invert: does not exist");return qs(i,e)}function LLe(t){let e=(t-rs)/i5,r,n,i;for(r=t-rs,n=0;r%i5===mo;r/=i5,n++);for(i=i5;i<t&&DLe(i,e,t)!==t-rs;i++);if(n===1){let o=(t+rs)/sN;return function(u,c){let d=u.pow(c,o);if(!u.eql(u.sqr(d),c))throw new Error("Cannot find square root");return d}}let s=(r+rs)/i5;return function(a,u){if(a.pow(u,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=n,d=a.pow(a.mul(a.ONE,i),r),f=a.pow(u,s),m=a.pow(u,r);for(;!a.eql(m,a.ONE);){if(a.eql(m,a.ZERO))return a.ZERO;let p=1;for(let w=a.sqr(m);p<c&&!a.eql(w,a.ONE);p++)w=a.sqr(w);let y=a.pow(d,rs<<BigInt(c-p-1));d=a.sqr(y),f=a.mul(f,y),m=a.mul(m,d),c=p}return f}}function ULe(t){if(t%sN===HLe){let e=(t+rs)/sN;return function(n,i){let s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%Doe===Hoe){let e=(t-Hoe)/Doe;return function(n,i){let s=n.mul(i,i5),o=n.pow(s,e),a=n.mul(i,o),u=n.mul(n.mul(a,i5),o),c=n.mul(a,n.sub(u,n.ONE));if(!n.eql(n.sqr(c),i))throw new Error("Cannot find square root");return c}}return LLe(t)}var qLe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Oae(t){let e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=qLe.reduce((n,i)=>(n[i]="function",n),e);return Pb(t,r)}function jLe(t,e,r){if(r<mo)throw new Error("Expected power > 0");if(r===mo)return t.ONE;if(r===rs)return e;let n=t.ONE,i=e;for(;r>mo;)r&rs&&(n=t.mul(n,i)),i=t.sqr(i),r>>=rs;return n}function KLe(t,e){let r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function RN(t,e){let r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Bae(t,e,r=!1,n={}){if(t<=mo)throw new Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=RN(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=ULe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:CN(i),ZERO:mo,ONE:rs,create:u=>qs(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return mo<=u&&u<t},is0:u=>u===mo,isOdd:u=>(u&rs)===rs,neg:u=>qs(-u,t),eql:(u,c)=>u===c,sqr:u=>qs(u*u,t),add:(u,c)=>qs(u+c,t),sub:(u,c)=>qs(u-c,t),mul:(u,c)=>qs(u*c,t),pow:(u,c)=>jLe(a,u,c),div:(u,c)=>qs(u*oN(c,t),t),sqrN:u=>u*u,addN:(u,c)=>u+c,subN:(u,c)=>u-c,mulN:(u,c)=>u*c,inv:u=>oN(u,t),sqrt:n.sqrt||(u=>o(a,u)),invertBatch:u=>KLe(a,u),cmov:(u,c,d)=>d?c:u,toBytes:u=>r?Iae(u,s):q6(u,s),fromBytes:u=>{if(u.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${u.length}`);return r?kN(u):Da(u)}});return Object.freeze(a)}function $Le(t,e,r=!1){t=Uo("privateHash",t);let n=t.length,i=RN(e).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?kN(t):Da(t);return qs(s,e-rs)+rs}var zLe=BigInt(0),XR=BigInt(1);function VLe(t,e){let r=(i,s)=>{let o=s.negate();return i?o:s},n=i=>{let s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:r,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>zLe;)s&XR&&(o=o.add(a)),a=a.double(),s>>=XR;return o},precomputeWindow(i,s){let{windows:o,windowSize:a}=n(s),u=[],c=i,d=c;for(let f=0;f<o;f++){d=c,u.push(d);for(let m=1;m<a;m++)d=d.add(c),u.push(d);c=d.double()}return u},wNAF(i,s,o){let{windows:a,windowSize:u}=n(i),c=t.ZERO,d=t.BASE,f=BigInt(2**i-1),m=2**i,p=BigInt(i);for(let y=0;y<a;y++){let w=y*u,P=Number(o&f);o>>=p,P>u&&(P-=m,o+=XR);let C=w,R=w+Math.abs(P)-1,T=y%2!==0,k=P<0;P===0?d=d.add(r(T,s[C])):c=c.add(r(k,s[R]))}return{p:c,f:d}},wNAFCached(i,s,o,a){let u=i._WINDOW_SIZE||1,c=s.get(i);return c||(c=this.precomputeWindow(i,u),u!==1&&s.set(i,a(c))),this.wNAF(u,c,o)}}}function Mae(t){return Oae(t.Fp),Pb(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...RN(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}function GLe(t){let e=Mae(t);Pb(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}var{bytesToNumberBE:WLe,hexToBytes:YLe}=FLe,o5={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){let{Err:e}=o5;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:WLe(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=o5,r=typeof t=="string"?YLe(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=o5._parseInt(r.subarray(2)),{d:o,l:a}=o5._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=c=>Number.parseInt(c[0],16)>=8?"00"+c:c,r=c=>{let d=c.toString(16);return d.length&1?`0${d}`:d},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),u=r(o);return`30${r(o+s+4)}02${u}${i}02${a}${n}`}},Xf=BigInt(0),Us=BigInt(1),Dh=BigInt(2),Jx=BigInt(3),Loe=BigInt(4);function XLe(t){let e=GLe(t),{Fp:r}=e,n=e.toBytes||((y,w,P)=>{let C=w.toAffine();return $u(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),i=e.fromBytes||(y=>{let w=y.subarray(1),P=r.fromBytes(w.subarray(0,r.BYTES)),C=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:P,y:C}});function s(y){let{a:w,b:P}=e,C=r.sqr(y),R=r.mul(C,y);return r.add(r.add(R,r.mul(y,w)),P)}function o(y){return typeof y=="bigint"&&Xf<y&&y<e.n}function a(y){if(!o(y))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(y){let{allowedPrivateKeyLengths:w,nByteLength:P,wrapPrivateKey:C,n:R}=e;if(w&&typeof y!="bigint"){if(y instanceof Uint8Array&&(y=mb(y)),typeof y!="string"||!w.includes(y.length))throw new Error("Invalid key");y=y.padStart(P*2,"0")}let T;try{T=typeof y=="bigint"?y:Da(Uo("private key",y,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof y}`)}return C&&(T=qs(T,R)),a(T),T}let c=new Map;function d(y){if(!(y instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(w,P,C){if(this.px=w,this.py=P,this.pz=C,w==null||!r.isValid(w))throw new Error("x required");if(P==null||!r.isValid(P))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(w){let{x:P,y:C}=w||{};if(!w||!r.isValid(P)||!r.isValid(C))throw new Error("invalid affine point");if(w instanceof f)throw new Error("projective point not allowed");let R=T=>r.eql(T,r.ZERO);return R(P)&&R(C)?f.ZERO:new f(P,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){let P=r.invertBatch(w.map(C=>C.pz));return w.map((C,R)=>C.toAffine(P[R])).map(f.fromAffine)}static fromHex(w){let P=f.fromAffine(i(Uo("pointHex",w)));return P.assertValidity(),P}static fromPrivateKey(w){return f.BASE.multiply(u(w))}_setWindowSize(w){this._WINDOW_SIZE=w,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:w,y:P}=this.toAffine();if(!r.isValid(w)||!r.isValid(P))throw new Error("bad point: x or y not FE");let C=r.sqr(P),R=s(w);if(!r.eql(C,R))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){d(w);let{px:P,py:C,pz:R}=this,{px:T,py:k,pz:H}=w,F=r.eql(r.mul(P,H),r.mul(T,R)),L=r.eql(r.mul(C,H),r.mul(k,R));return F&&L}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:w,b:P}=e,C=r.mul(P,Jx),{px:R,py:T,pz:k}=this,H=r.ZERO,F=r.ZERO,L=r.ZERO,D=r.mul(R,R),N=r.mul(T,T),g=r.mul(k,k),h=r.mul(R,T);return h=r.add(h,h),L=r.mul(R,k),L=r.add(L,L),H=r.mul(w,L),F=r.mul(C,g),F=r.add(H,F),H=r.sub(N,F),F=r.add(N,F),F=r.mul(H,F),H=r.mul(h,H),L=r.mul(C,L),g=r.mul(w,g),h=r.sub(D,g),h=r.mul(w,h),h=r.add(h,L),L=r.add(D,D),D=r.add(L,D),D=r.add(D,g),D=r.mul(D,h),F=r.add(F,D),g=r.mul(T,k),g=r.add(g,g),D=r.mul(g,h),H=r.sub(H,D),L=r.mul(g,N),L=r.add(L,L),L=r.add(L,L),new f(H,F,L)}add(w){d(w);let{px:P,py:C,pz:R}=this,{px:T,py:k,pz:H}=w,F=r.ZERO,L=r.ZERO,D=r.ZERO,N=e.a,g=r.mul(e.b,Jx),h=r.mul(P,T),l=r.mul(C,k),b=r.mul(R,H),_=r.add(P,C),x=r.add(T,k);_=r.mul(_,x),x=r.add(h,l),_=r.sub(_,x),x=r.add(P,R);let I=r.add(T,H);return x=r.mul(x,I),I=r.add(h,b),x=r.sub(x,I),I=r.add(C,R),F=r.add(k,H),I=r.mul(I,F),F=r.add(l,b),I=r.sub(I,F),D=r.mul(N,x),F=r.mul(g,b),D=r.add(F,D),F=r.sub(l,D),D=r.add(l,D),L=r.mul(F,D),l=r.add(h,h),l=r.add(l,h),b=r.mul(N,b),x=r.mul(g,x),l=r.add(l,b),b=r.sub(h,b),b=r.mul(N,b),x=r.add(x,b),h=r.mul(l,x),L=r.add(L,h),h=r.mul(I,x),F=r.mul(_,F),F=r.sub(F,h),h=r.mul(_,l),D=r.mul(I,D),D=r.add(D,h),new f(F,L,D)}subtract(w){return this.add(w.negate())}is0(){return this.equals(f.ZERO)}wNAF(w){return p.wNAFCached(this,c,w,P=>{let C=r.invertBatch(P.map(R=>R.pz));return P.map((R,T)=>R.toAffine(C[T])).map(f.fromAffine)})}multiplyUnsafe(w){let P=f.ZERO;if(w===Xf)return P;if(a(w),w===Us)return this;let{endo:C}=e;if(!C)return p.unsafeLadder(this,w);let{k1neg:R,k1:T,k2neg:k,k2:H}=C.splitScalar(w),F=P,L=P,D=this;for(;T>Xf||H>Xf;)T&Us&&(F=F.add(D)),H&Us&&(L=L.add(D)),D=D.double(),T>>=Us,H>>=Us;return R&&(F=F.negate()),k&&(L=L.negate()),L=new f(r.mul(L.px,C.beta),L.py,L.pz),F.add(L)}multiply(w){a(w);let P=w,C,R,{endo:T}=e;if(T){let{k1neg:k,k1:H,k2neg:F,k2:L}=T.splitScalar(P),{p:D,f:N}=this.wNAF(H),{p:g,f:h}=this.wNAF(L);D=p.constTimeNegate(k,D),g=p.constTimeNegate(F,g),g=new f(r.mul(g.px,T.beta),g.py,g.pz),C=D.add(g),R=N.add(h)}else{let{p:k,f:H}=this.wNAF(P);C=k,R=H}return f.normalizeZ([C,R])[0]}multiplyAndAddUnsafe(w,P,C){let R=f.BASE,T=(H,F)=>F===Xf||F===Us||!H.equals(R)?H.multiplyUnsafe(F):H.multiply(F),k=T(this,P).add(T(w,C));return k.is0()?void 0:k}toAffine(w){let{px:P,py:C,pz:R}=this,T=this.is0();w==null&&(w=T?r.ONE:r.inv(R));let k=r.mul(P,w),H=r.mul(C,w),F=r.mul(R,w);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(F,r.ONE))throw new Error("invZ was invalid");return{x:k,y:H}}isTorsionFree(){let{h:w,isTorsionFree:P}=e;if(w===Us)return!0;if(P)return P(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:w,clearCofactor:P}=e;return w===Us?this:P?P(f,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return this.assertValidity(),n(f,this,w)}toHex(w=!0){return mb(this.toRawBytes(w))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let m=e.nBitLength,p=VLe(f,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:s,isWithinCurveOrder:o}}function ZLe(t){let e=Mae(t);return Pb(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function JLe(t){let e=ZLe(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(x){return Xf<x&&x<r.ORDER}function a(x){return qs(x,n)}function u(x){return oN(x,n)}let{ProjectivePoint:c,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:m}=XLe({...e,toBytes(x,I,A){let v=I.toAffine(),S=r.toBytes(v.x),O=$u;return A?O(Uint8Array.from([I.hasEvenY()?2:3]),S):O(Uint8Array.from([4]),S,r.toBytes(v.y))},fromBytes(x){let I=x.length,A=x[0],v=x.subarray(1);if(I===i&&(A===2||A===3)){let S=Da(v);if(!o(S))throw new Error("Point is not on curve");let O=f(S),q=r.sqrt(O),J=(q&Us)===Us;return(A&1)===1!==J&&(q=r.neg(q)),{x:S,y:q}}else if(I===s&&A===4){let S=r.fromBytes(v.subarray(0,r.BYTES)),O=r.fromBytes(v.subarray(r.BYTES,2*r.BYTES));return{x:S,y:O}}else throw new Error(`Point of length ${I} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),p=x=>mb(q6(x,e.nByteLength));function y(x){let I=n>>Us;return x>I}function w(x){return y(x)?a(-x):x}let P=(x,I,A)=>Da(x.slice(I,A));class C{constructor(I,A,v){this.r=I,this.s=A,this.recovery=v,this.assertValidity()}static fromCompact(I){let A=e.nByteLength;return I=Uo("compactSignature",I,A*2),new C(P(I,0,A),P(I,A,2*A))}static fromDER(I){let{r:A,s:v}=o5.toSig(Uo("DER",I));return new C(A,v)}assertValidity(){if(!m(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!m(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(I){return new C(this.r,this.s,I)}recoverPublicKey(I){let{r:A,s:v,recovery:S}=this,O=L(Uo("msgHash",I));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");let q=S===2||S===3?A+e.n:A;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let J=(S&1)===0?"02":"03",ne=c.fromHex(J+p(q)),oe=u(q),le=a(-O*oe),pe=a(v*oe),G=c.BASE.multiplyAndAddUnsafe(ne,le,pe);if(!G)throw new Error("point at infinify");return G.assertValidity(),G}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return yb(this.toDERHex())}toDERHex(){return o5.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return yb(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}let R={isValidPrivateKey(x){try{return d(x),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let x=e.randomBytes(r.BYTES+8),I=$Le(x,n);return q6(I,e.nByteLength)},precompute(x=8,I=c.BASE){return I._setWindowSize(x),I.multiply(BigInt(3)),I}};function T(x,I=!0){return c.fromPrivateKey(x).toRawBytes(I)}function k(x){let I=x instanceof Uint8Array,A=typeof x=="string",v=(I||A)&&x.length;return I?v===i||v===s:A?v===2*i||v===2*s:x instanceof c}function H(x,I,A=!0){if(k(x))throw new Error("first arg must be private key");if(!k(I))throw new Error("second arg must be public key");return c.fromHex(I).multiply(d(x)).toRawBytes(A)}let F=e.bits2int||function(x){let I=Da(x),A=x.length*8-e.nBitLength;return A>0?I>>BigInt(A):I},L=e.bits2int_modN||function(x){return a(F(x))},D=CN(e.nBitLength);function N(x){if(typeof x!="bigint")throw new Error("bigint expected");if(!(Xf<=x&&x<D))throw new Error(`bigint expected < 2^${e.nBitLength}`);return q6(x,e.nByteLength)}function g(x,I,A=h){if(["recovered","canonical"].some(ae=>ae in A))throw new Error("sign() legacy options not supported");let{hash:v,randomBytes:S}=e,{lowS:O,prehash:q,extraEntropy:J}=A;O==null&&(O=!0),x=Uo("msgHash",x),q&&(x=Uo("prehashed msgHash",v(x)));let ne=L(x),oe=d(I),le=[N(oe),N(ne)];if(J!=null){let ae=J===!0?S(r.BYTES):J;le.push(Uo("extraEntropy",ae,r.BYTES))}let pe=$u(...le),G=ne;function te(ae){let be=F(ae);if(!m(be))return;let ye=u(be),_e=c.BASE.multiply(be).toAffine(),ke=a(_e.x);if(ke===Xf)return;let He=a(ye*a(G+ke*oe));if(He===Xf)return;let ze=(_e.x===ke?0:2)|Number(_e.y&Us),qe=He;return O&&y(He)&&(qe=w(He),ze^=1),new C(ke,qe,ze)}return{seed:pe,k2sig:te}}let h={lowS:e.lowS,prehash:!1},l={lowS:e.lowS,prehash:!1};function b(x,I,A=h){let{seed:v,k2sig:S}=g(x,I,A);return Pae(e.hash.outputLen,e.nByteLength,e.hmac)(v,S)}c.BASE._setWindowSize(8);function _(x,I,A,v=l){let S=x;if(I=Uo("msgHash",I),A=Uo("publicKey",A),"strict"in v)throw new Error("options.strict was renamed to lowS");let{lowS:O,prehash:q}=v,J,ne;try{if(typeof S=="string"||S instanceof Uint8Array)try{J=C.fromDER(S)}catch(_e){if(!(_e instanceof o5.Err))throw _e;J=C.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){let{r:_e,s:ke}=S;J=new C(_e,ke)}else throw new Error("PARSE");ne=c.fromHex(A)}catch(_e){if(_e.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(O&&J.hasHighS())return!1;q&&(I=e.hash(I));let{r:oe,s:le}=J,pe=L(I),G=u(le),te=a(pe*G),ae=a(oe*G),be=c.BASE.multiplyAndAddUnsafe(ne,te,ae)?.toAffine();return be?a(be.x)===oe:!1}return{CURVE:e,getPublicKey:T,getSharedSecret:H,sign:b,verify:_,ProjectivePoint:c,Signature:C,utils:R}}function QLe(t,e){let r=t.ORDER,n=Xf;for(let m=r-Us;m%Dh===Xf;m/=Dh)n+=Us;let i=n,s=(r-Us)/Dh**i,o=(s-Us)/Dh,a=Dh**i-Us,u=Dh**(i-Us),c=t.pow(e,s),d=t.pow(e,(s+Us)/Dh),f=(m,p)=>{let y=c,w=t.pow(p,a),P=t.sqr(w);P=t.mul(P,p);let C=t.mul(m,P);C=t.pow(C,o),C=t.mul(C,w),w=t.mul(C,p),P=t.mul(C,m);let R=t.mul(P,w);C=t.pow(R,u);let T=t.eql(C,t.ONE);w=t.mul(P,d),C=t.mul(R,y),P=t.cmov(w,P,T),R=t.cmov(C,R,T);for(let k=i;k>1;k--){let H=Dh**(k-Dh),F=t.pow(R,H),L=t.eql(F,t.ONE);w=t.mul(P,y),y=t.mul(y,y),F=t.mul(R,y),P=t.cmov(w,P,L),R=t.cmov(F,R,L)}return{isValid:T,value:P}};if(t.ORDER%Loe===Jx){let m=(t.ORDER-Jx)/Loe,p=t.sqrt(t.neg(e));f=(y,w)=>{let P=t.sqr(w),C=t.mul(y,w);P=t.mul(P,C);let R=t.pow(P,m);R=t.mul(R,C);let T=t.mul(R,p),k=t.mul(t.sqr(R),w),H=t.eql(k,y),F=t.cmov(T,R,H);return{isValid:H,value:F}}}return f}function eUe(t,e){if(Oae(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=QLe(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,u,c,d,f;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),u=t.mul(c,e.A),s=t.add(s,u),s=t.mul(s,o),c=t.mul(c,a),u=t.mul(c,e.B),s=t.add(s,u),d=t.mul(i,o);let{isValid:m,value:p}=r(s,c);f=t.mul(i,n),f=t.mul(f,p),d=t.cmov(d,o,m),f=t.cmov(f,p,m);let y=t.isOdd(n)===t.isOdd(f);return f=t.cmov(t.neg(f),f,y),d=t.div(d,a),{x:d,y:f}}}function tUe(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return vE(t);throw new Error("DST must be Uint8Array or string")}var rUe=Da;function L6(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=t&255,t>>>=8;return new Uint8Array(r)}function nUe(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}function zm(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function NN(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function iUe(t,e,r,n){zm(t),zm(e),NN(r),e.length>255&&(e=n($u(vE("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw new Error("Invalid xmd length");let a=$u(e,L6(e.length,1)),u=L6(0,s),c=L6(r,2),d=new Array(o),f=n($u(u,t,c,L6(0,1),a));d[0]=n($u(f,L6(1,1),a));for(let p=1;p<=o;p++){let y=[nUe(f,d[p-1]),L6(p+1,1),a];d[p]=n($u(...y))}return $u(...d).slice(0,r)}function sUe(t,e,r,n,i){if(zm(t),zm(e),NN(r),e.length>255){let s=Math.ceil(2*n/8);e=i.create({dkLen:s}).update(vE("H2C-OVERSIZE-DST-")).update(e).digest()}if(r>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(L6(r,2)).update(e).update(L6(e.length,1)).digest()}function Uoe(t,e,r){Pb(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:i,m:s,hash:o,expand:a,DST:u}=r;zm(t),NN(e);let c=tUe(u),d=n.toString(2).length,f=Math.ceil((d+i)/8),m=e*s*f,p;if(a==="xmd")p=iUe(t,c,m,o);else if(a==="xof")p=sUe(t,c,m,i,o);else if(a===void 0)p=t;else throw new Error('expand must be "xmd", "xof" or undefined');let y=new Array(e);for(let w=0;w<e;w++){let P=new Array(s);for(let C=0;C<s;C++){let R=f*(C+w*s),T=p.subarray(R,R+f);P[C]=qs(rUe(T),n)}y[w]=P}return y}function oUe(t,e){let r=e.map(n=>Array.from(n).reverse());return(n,i)=>{let[s,o,a,u]=r.map(c=>c.reduce((d,f)=>t.add(t.mul(d,n),f)));return n=t.div(s,o),i=t.mul(i,t.div(a,u)),{x:n,y:i}}}function aUe(t,e,r){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=Uoe(n,2,{...r,DST:r.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),u=o.add(a).clearCofactor();return u.assertValidity(),u},encodeToCurve(n,i){let s=Uoe(n,1,{...r,DST:r.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}var kae=class extends wae{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,s5.hash(e);let n=ON(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return s5.exists(this),this.iHash.update(e),this}digestInto(e){s5.exists(this),s5.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Cae=(t,e,r)=>new kae(t,e).update(r).digest();Cae.create=(t,e)=>new kae(t,e);function uUe(t){return{hash:t,hmac:(e,...r)=>Cae(t,e,_Le(...r)),randomBytes:Eae}}function cUe(t,e){let r=n=>JLe({...t,...uUe(n)});return Object.freeze({...r(e),create:r})}var _E=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Qx=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Rae=BigInt(1),eE=BigInt(2),qoe=(t,e)=>(t+e/eE)/e;function Nae(t){let e=_E,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),u=BigInt(88),c=t*t*t%e,d=c*c*t%e,f=rf(d,r,e)*d%e,m=rf(f,r,e)*d%e,p=rf(m,eE,e)*c%e,y=rf(p,i,e)*p%e,w=rf(y,s,e)*y%e,P=rf(w,a,e)*w%e,C=rf(P,u,e)*P%e,R=rf(C,a,e)*w%e,T=rf(R,r,e)*d%e,k=rf(T,o,e)*y%e,H=rf(k,n,e)*c%e,F=rf(H,eE,e);if(!K6.eql(K6.sqr(F),t))throw new Error("Cannot find square root");return F}var K6=Bae(_E,void 0,void 0,{sqrt:Nae}),Sd=cUe({a:BigInt(0),b:BigInt(7),Fp:K6,n:Qx,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=Qx,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Rae*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=qoe(s*t,e),u=qoe(-n*t,e),c=qs(t-a*r-u*i,e),d=qs(-a*n-u*s,e),f=c>o,m=d>o;if(f&&(c=e-c),m&&(d=e-d),c>o||d>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:m,k2:d}}}},Zx),SE=BigInt(0),Fae=t=>typeof t=="bigint"&&SE<t&&t<_E,fUe=t=>typeof t=="bigint"&&SE<t&&t<Qx,joe={};function tE(t,...e){let r=joe[t];if(r===void 0){let n=Zx(Uint8Array.from(t,i=>i.charCodeAt(0)));r=$u(n,n),joe[t]=r}return Zx($u(r,...e))}var FN=t=>t.toRawBytes(!0).slice(1),aN=t=>q6(t,32),ZR=t=>qs(t,_E),Vm=t=>qs(t,Qx),HN=Sd.ProjectivePoint,dUe=(t,e,r)=>HN.BASE.multiplyAndAddUnsafe(t,e,r);function uN(t){let e=Sd.utils.normPrivateKeyToScalar(t),r=HN.fromPrivateKey(e);return{scalar:r.hasEvenY()?e:Vm(-e),bytes:FN(r)}}function Hae(t){if(!Fae(t))throw new Error("bad x: need 0 < x < p");let e=ZR(t*t),r=ZR(e*t+BigInt(7)),n=Nae(r);n%eE!==SE&&(n=ZR(-n));let i=new HN(t,n,Rae);return i.assertValidity(),i}function Dae(...t){return Vm(Da(tE("BIP0340/challenge",...t)))}function hUe(t){return uN(t).bytes}function lUe(t,e,r=Eae(32)){let n=Uo("message",t),{bytes:i,scalar:s}=uN(e),o=Uo("auxRand",r,32),a=aN(s^Da(tE("BIP0340/aux",o))),u=tE("BIP0340/nonce",a,i,n),c=Vm(Da(u));if(c===SE)throw new Error("sign failed: k is zero");let{bytes:d,scalar:f}=uN(c),m=Dae(d,i,n),p=new Uint8Array(64);if(p.set(d,0),p.set(aN(Vm(f+m*s)),32),!Lae(p,n,i))throw new Error("sign: Invalid signature produced");return p}function Lae(t,e,r){let n=Uo("signature",t,64),i=Uo("message",e),s=Uo("publicKey",r,32);try{let o=Hae(Da(s)),a=Da(n.subarray(0,32));if(!Fae(a))return!1;let u=Da(n.subarray(32,64));if(!fUe(u))return!1;let c=Dae(aN(a),FN(o),i),d=dUe(o,u,Vm(-c));return!(!d||!d.hasEvenY()||d.toAffine().x!==a)}catch{return!1}}var pUe={getPublicKey:hUe,sign:lUe,verify:Lae,utils:{randomPrivateKey:Sd.utils.randomPrivateKey,lift_x:Hae,pointToBytes:FN,numberToBytesBE:q6,bytesToNumberBE:Da,taggedHash:tE,mod:qs}},bUe=oUe(K6,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),gUe=eUe(K6,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:K6.create(BigInt("-11"))});aUe(Sd.ProjectivePoint,t=>{let{x:e,y:r}=gUe(K6.create(t[0]));return bUe(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:K6.ORDER,m:1,k:128,expand:"xmd",hash:Zx});function cN(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function mUe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function Uae(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function yUe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cN(t.outputLen),cN(t.blockLen)}function vUe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function _Ue(t,e){Uae(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var SUe={number:cN,bool:mUe,bytes:Uae,hash:yUe,exists:vUe,output:_Ue},JR=SUe;var QR=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),vd=(t,e)=>t<<32-e|t>>>e,wUe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!wUe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xUe(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function qae(t){if(typeof t=="string"&&(t=xUe(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var EUe=class{clone(){return this._cloneInto()}};function jae(t){let e=n=>t().update(qae(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function AUe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var TUe=class extends EUe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=QR(this.buffer)}update(e){JR.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=qae(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=QR(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){JR.exists(this),JR.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;AUe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=QR(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},IUe=(t,e,r)=>t&e^~t&r,PUe=(t,e,r)=>t&e^t&r^e&r,OUe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),C6=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),R6=new Uint32Array(64),Kae=class extends TUe{constructor(){super(64,32,8,!1),this.A=C6[0]|0,this.B=C6[1]|0,this.C=C6[2]|0,this.D=C6[3]|0,this.E=C6[4]|0,this.F=C6[5]|0,this.G=C6[6]|0,this.H=C6[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)R6[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let m=R6[f-15],p=R6[f-2],y=vd(m,7)^vd(m,18)^m>>>3,w=vd(p,17)^vd(p,19)^p>>>10;R6[f]=w+R6[f-7]+y+R6[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:d}=this;for(let f=0;f<64;f++){let m=vd(a,6)^vd(a,11)^vd(a,25),p=d+m+IUe(a,u,c)+OUe[f]+R6[f]|0,w=(vd(n,2)^vd(n,13)^vd(n,22))+PUe(n,i,s)|0;d=c,c=u,u=a,a=o+p|0,o=s,s=i,i=n,n=p+w|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,u,c,d)}roundClean(){R6.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},BUe=class extends Kae{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},fN=jae(()=>new Kae);jae(()=>new BUe);function MUe(t,e){if(t.length>e)throw new TypeError(`Data is larger than array size: ${t.length} > ${e}`)}function kUe(t){if(t.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+t);if(t.length%2!==0)throw new Error(`Length of hex string is invalid: ${t.length}`)}function CUe(t){if(t>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}var{getRandomValues:RUe}=crypto??globalThis.crypto??window.crypto;function NUe(t=32){if(typeof RUe=="function")return crypto.getRandomValues(new Uint8Array(t));throw new Error("Crypto module missing getRandomValues!")}function FUe(t,e,r="be"){e===void 0&&(e=t.length),MUe(t,e);let n=new Uint8Array(e).fill(0),i=r==="be"?0:e-t.length;return n.set(t,i),n}function $ae(t){let e,r=0,n=t.reduce((s,o)=>s+o.length,0),i=new Uint8Array(n);for(e=0;e<t.length;e++){let s=t[e];i.set(s,r),r+=s.length}return i}var HUe=new TextEncoder,DUe=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function zae(t){for(let e of DUe)if(e.name===t)return e.charset;throw TypeError("Charset does not exist: "+t)}function LUe(t,e,r=!1){typeof t=="string"&&(t=HUe.encode(t));let n=zae(e),i=n.length,s=[],o="",a,u=0,c,d;for(a=0;a<t.length;a++)for(u=0,c=t[a],o+=c>0||(o.length^a)>0?"":"1";u in s||c>0;)d=s[u],d=d>0?d*256+c:c,c=d/i|0,s[u]=d%i,u++;for(;u-- >0;)o+=n[s[u]];return r&&o.length%4>0?o+"=".repeat(4-o.length%4):o}function UUe(t,e){let r=zae(e),n=r.length,i=[],s=[];t=t.replace("=","");let o,a=0,u,c;for(o=0;o<t.length;o++){if(a=0,u=r.indexOf(t[o]),u<0)throw new Error(`Character range out of bounds: ${u}`);for(u>0||(s.length^o)>0||s.push(0);a in i||u>0;)c=i[a],c=c>0?c*n+u:u,u=c>>8,i[a]=c%256,a++}for(;a-- >0;)s.push(i[a]);return new Uint8Array(s)}function Vae(t){return fN(fN(t))}function qUe(t){let e=Vae(t);return $ae([t,e.slice(0,4)])}function jUe(t){let e=t.slice(0,-4),r=t.slice(-4);if(Vae(e).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return e}var Koe={encode:LUe,decode:UUe},Gae={encode:t=>{let e=qUe(t);return Koe.encode(e,"base58")},decode:t=>{let e=Koe.decode(t,"base58");return jUe(e)}},Wae="qpzry9x8gf2tvdw0s3jn54khce6mua7l",KUe=[996825010,642813549,513874426,1027748829,705979059],rE=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function Yae(t){let e=1;for(let r=0;r<t.length;++r){let n=e>>25;e=(e&33554431)<<5^t[r];for(let i=0;i<5;++i)(n>>i&1)!==0&&(e^=KUe[i])}return e}function Xae(t){let e=[],r;for(r=0;r<t.length;++r)e.push(t.charCodeAt(r)>>5);for(e.push(0),r=0;r<t.length;++r)e.push(t.charCodeAt(r)&31);return e}function $Ue(t,e,r){let n=Xae(t).concat(e);return Yae(n)===r.const}function zUe(t,e,r){let n=Xae(t).concat(e).concat([0,0,0,0,0,0]),i=Yae(n)^r.const,s=[];for(let o=0;o<6;++o)s.push(i>>5*(5-o)&31);return s}function Zae(t,e,r,n=!0){let i=[],s=0,o=0,a=(1<<r)-1,u=(1<<e+r-1)-1;for(let c of t){if(c<0||c>>e>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(s=(s<<e|c)&u,o+=e;o>=r;)o-=r,i.push(s>>o&a)}if(n)o>0&&i.push(s<<r-o&a);else if(o>=e||(s<<r-o&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function VUe(t,e,r){let n=e.concat(zUe(t,e,r)),i=t+"1";for(let s=0;s<n.length;++s)i+=Wae.charAt(n[s]);return i}function Jae(t){if(!GUe(t))throw new Error("Encoded string goes out of bounds!");if(t=t.toLowerCase(),!WUe(t))throw new Error("Encoded string has invalid separator!");let e=[],r=t.lastIndexOf("1"),n=t.substring(0,r);for(let s=r+1;s<t.length;++s){let o=Wae.indexOf(t.charAt(s));if(o===-1)throw new Error("Character idx out of bounds: "+String(s));e.push(o)}let i=rE.find(s=>s.version===e[0])??rE[0];if(!$Ue(n,e,i))throw new Error("Checksum verification failed!");return[n,e.slice(0,e.length-6)]}function GUe(t){let e,r,n=!1,i=!1;for(e=0;e<t.length;++e){if(r=t.charCodeAt(e),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function WUe(t){let e=t.lastIndexOf("1");return!(e<1||e+7>t.length||t.length>90)}function YUe(t,e="bc",r=0){let n=[r,...Zae([...t],8,5)],i=rE.find(o=>o.version===r)??rE[0],s=VUe(e,n,i);return Qae(s),s}function Qae(t){t=t.toLowerCase();let e=t.split("1",1)[0],[r,n]=Jae(t),i=Zae(n.slice(1),5,8,!1),s=i.length;switch(!0){case e!==r:throw new Error("Returned hrp string is invalid.");case(i===null||s<2||s>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function XUe(t){t=t.toLowerCase();let[e,r]=Jae(t);return r[0]}var eue={encode:YUe,decode:Qae,version:XUe},tue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",ZUe=new TextEncoder;function nue(t,e=!1,r=!0){typeof t=="string"&&(t=ZUe.encode(t));let n=e?rue:tue,i="",s=0,o=0;for(let a=0;a<t.length;a++)for(o=o<<8|t[a],s+=8;s>=6;)s-=6,i+=n[o>>s&63];if(s>0)for(o<<=6-s,i+=n[o&63];s<6;)i+=r?"=":"",s+=2;return i}function iue(t,e=!1){let r=e||t.includes("-")||t.includes("_")?rue.split(""):tue.split("");t=t.replace(/=+$/,"");let n=t.split(""),i=0,s=0,o=[];for(let a=0;a<n.length;a++){let u=n[a],c=r.indexOf(u);if(c===-1)throw new Error("Invalid character: "+u);i+=6,s<<=6,s|=c,i>=8&&(i-=8,o.push(s>>>i&255))}return new Uint8Array(o)}var sue={encode:nue,decode:iue},oue={encode:t=>nue(t,!0,!1),decode:t=>iue(t,!0)},JUe=BigInt(0),QUe=BigInt(255),aue=BigInt(256);function eqe(t){if(t<=0xffn)return 1;if(t<=0xffffn)return 2;if(t<=0xffffffffn)return 4;if(t<=0xffffffffffffffffn)return 8;if(t<=0xffffffffffffffffffffffffffffffffn)return 16;if(t<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function tqe(t,e,r="be"){e===void 0&&(e=eqe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>JUe;){let a=t&QUe,u=Number(a);n?s.setUint8(o++,u):s.setUint8(o--,u),t=(t-a)/aue}return new Uint8Array(i)}function rqe(t){let e=BigInt(0);for(let r=t.length-1;r>=0;r--)e=e*aue+BigInt(t[r]);return BigInt(e)}function nqe(t){let e=t.split("").map(Number);if(e.length%8!==0)throw new Error(`Binary array is invalid length: ${t.length}`);let r=new Uint8Array(e.length/8);for(let n=0,i=0;n<e.length;n+=8,i++){let s=0;for(let o=0;o<8;o++)s|=e[n+o]<<7-o;r[i]=s}return r}function iqe(t){let e=new Array(t.length*8),r=0;for(let n of t){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)e[r]=n>>i&1}return e.join("")}function sqe(t){if(t<=255)return 1;if(t<=65535)return 2;if(t<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function oqe(t,e,r="be"){e===void 0&&(e=sqe(t));let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(;t>0;){let a=t&255;n?s.setUint8(o++,t):s.setUint8(o--,t),t=(t-a)/256}return new Uint8Array(i)}function aqe(t){let e=0;for(let r=t.length-1;r>=0;r--)e=e*256+t[r],CUe(e);return e}var uqe=new TextEncoder,cqe=new TextDecoder;function DN(t){return uqe.encode(t)}function eN(t){return cqe.decode(t)}function fqe(t,e){kUe(t);let r=t.length/2;if(e===void 0&&(e=r),r>e)throw new TypeError(`Hex string is larger than array size: ${r} > ${e}`);return e}function dqe(t,e,r="le"){e=fqe(t,e);let n=r==="le",i=new ArrayBuffer(e),s=new DataView(i),o=n?0:e-1;for(let a=0;a<t.length;a+=2){let u=t.substring(a,a+2),c=parseInt(u,16);n?s.setUint8(o++,c):s.setUint8(o--,c)}return new Uint8Array(i)}function hqe(t){let e="";for(let r=0;r<t.length;r++)e+=t[r].toString(16).padStart(2,"0");return e}function lqe(t){let e=JSON.stringify(t,(r,n)=>typeof n=="bigint"?`${n}n`:n);return DN(e)}function pqe(t,e,r){if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return FUe(t,e,r);if(typeof t=="string")return dqe(t,e,r);if(typeof t=="bigint")return tqe(t,e,r);if(typeof t=="number")return oqe(t,e,r);if(typeof t=="boolean")return Uint8Array.of(t?1:0);throw TypeError("Unsupported format:"+String(typeof t))}var Lr=class extends Uint8Array{static random(e=32){let r=NUe(e);return new Lr(r,e)}constructor(e,r,n){let i=pqe(e,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new dN(this)}toNum(e="be"){let r=e==="be"?this.reverse():this;return aqe(r)}toBin(){return iqe(this)}toBig(e="be"){let r=e==="be"?this.reverse():this;return rqe(r)}toHash(){let e=fN(this);return new Lr(e)}toJson(){let e=eN(this);return JSON.parse(e)}toBech32(e,r=0){return eue.encode(this,e,r)}toStr(){return eN(this)}toHex(){return hqe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return Gae.encode(this)}toBase64(){return sue.encode(this)}toB64url(){return oue.encode(this)}prepend(e){return Lr.join([Lr.bytes(e),this])}append(e){return Lr.join([this,Lr.bytes(e)])}slice(e,r){let n=new Uint8Array(this).slice(e,r);return new Lr(n)}subarray(e,r){let n=new Uint8Array(this).subarray(e,r);return new Lr(n)}reverse(){let e=new Uint8Array(this).reverse();return new Lr(e)}write(e,r){let n=Lr.bytes(e);this.set(n,r)}prefixSize(e){let r=Lr.varInt(this.length,e);return Lr.join([r,this])}static from(e){return new Lr(Uint8Array.from(e))}static of(...e){return new Lr(Uint8Array.of(...e))}static join(e){let r=e.map(i=>Lr.bytes(i)),n=$ae(r);return new Lr(n)}static varInt(e,r){if(e<253)return Lr.num(e,1);if(e<65536)return Lr.of(253,...Lr.num(e,2,r));if(e<4294967296)return Lr.of(254,...Lr.num(e,4,r));if(BigInt(e)<0x10000000000000000n)return Lr.of(255,...Lr.num(e,8,r));throw new Error(`Value is too large: ${e}`)}},ir=Lr;(()=>{Lr.num=bqe})(),(()=>{Lr.big=mqe})(),(()=>{Lr.bin=gqe})(),(()=>{Lr.raw=yqe})(),(()=>{Lr.str=vqe})(),(()=>{Lr.hex=_qe})(),(()=>{Lr.bytes=Sqe})(),(()=>{Lr.json=wqe})(),(()=>{Lr.base64=xqe})(),(()=>{Lr.b64url=Eqe})(),(()=>{Lr.bech32=Aqe})(),(()=>{Lr.b58chk=Tqe})(),(()=>{Lr.encode=DN})(),(()=>{Lr.decode=eN})();function bqe(t,e,r){return new ir(t,e,r)}function gqe(t,e,r){return new ir(nqe(t),e,r)}function mqe(t,e,r){return new ir(t,e,r)}function yqe(t,e,r){return new ir(t,e,r)}function vqe(t,e,r){return new ir(DN(t),e,r)}function _qe(t,e,r){return new ir(t,e,r)}function Sqe(t,e,r){return new ir(t,e,r)}function wqe(t){return new ir(lqe(t))}function xqe(t){return new ir(sue.decode(t))}function Eqe(t){return new ir(oue.decode(t))}function Aqe(t){return new ir(eue.decode(t))}function Tqe(t){return new ir(Gae.decode(t))}var dN=class{constructor(e){this.data=ir.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new ir(this.data.slice(0,e))}read(e){e=e??this.readSize();let r=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,r}readSize(e){let r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(e);case r===254:return this.read(4).toNum(e);case r===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${r}`)}}},nE=Sd.CURVE,LN=nE.n,Iqe=nE.p,Pqe={x:nE.Gx,y:nE.Gy},Oqe=BigInt(0),Bqe=BigInt(1),Mqe=BigInt(2),kqe=BigInt(3),Cqe=BigInt(4),hN={N:LN,P:Iqe,G:Pqe,_0n:Oqe,_1n:Bqe,_2n:Mqe,_3n:kqe,_4n:Cqe},$m=Bae(LN,32,!0),uue=t=>qs(t,LN);function UN(t,e=!1){if(e)throw new Error(t);return!1}function cue(t){return ir.random(t)}function Rqe(t){let e=ir.bytes(t).big;return ir.big(uue(e),32)}var Nqe=Object.freeze({__proto__:null,fail:UN,mod_bytes:Rqe,random:cue}),{N:Fqe,P:wbt,_0n:Hqe}=hN;function Dqe(t,e,r){let n=ir.bytes(t);return n.length!==e?UN(`Invalid byte size: ${n.hex} !== ${e}`,r):!0}function Lqe(t,e){return typeof t=="bigint"&&Hqe<t&&t<Fqe||UN("x value is not in the field!",e),!0}var $oe=Sd.ProjectivePoint,ts=class extends Uint8Array{static mod(e){return new ts(e)}static is_valid(e,r){let n=ir.bytes(e,32).big;return Lqe(n,r)}constructor(e){let r=Uqe(e);r=uue(r),ts.is_valid(r,!0),super(ir.big(r,32),32)}get buff(){return new ir(this)}get raw(){return this.buff.raw}get big(){return this.buff.big}get hex(){return this.buff.hex}get point(){return this.generate()}get hasOddY(){return this.point.hasOddY}get negated(){return this.hasOddY?this.negate():this}gt(e){return new ts(e).big>this.big}lt(e){return new ts(e).big<this.big}eq(e){return new ts(e).big===this.big}ne(e){return new ts(e).big!==this.big}add(e){let r=ts.mod(e),n=$m.add(this.big,r.big);return new ts(n)}sub(e){let r=ts.mod(e),n=$m.sub(this.big,r.big);return new ts(n)}mul(e){let r=ts.mod(e),n=$m.mul(this.big,r.big);return new ts(n)}pow(e){let r=ts.mod(e),n=$m.pow(this.big,r.big);return new ts(n)}div(e){let r=ts.mod(e),n=$m.div(this.big,r.big);return new ts(n)}negate(){return new ts(ts.N-this.big)}generate(){let r=Sd.ProjectivePoint.BASE.multiply(this.big);return Uh.import(r)}},qo=ts;(()=>{ts.N=Sd.CURVE.n})();var mi=class{static from_x(e){let r=qqe(e);r.length===32&&(r=r.prepend(2)),Dqe(r,33);let n=$oe.fromHex(r.hex);return n.assertValidity(),new mi(n.x,n.y)}static generate(e){let r=qo.mod(e),n=mi.base.multiply(r.big);return mi.import(n)}static import(e){let r=e instanceof mi?{x:e.x.big,y:e.y.big}:{x:e.x,y:e.y};return new mi(r.x,r.y)}constructor(e,r){this._p=new $oe(e,r,1n),this.p.assertValidity()}get p(){return this._p}get x(){return ir.big(this.p.x,32)}get y(){return ir.big(this.p.y,32)}get buff(){return ir.raw(this.p.toRawBytes(!0))}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get hasEvenY(){return this.p.hasEvenY()}get hasOddY(){return!this.p.hasEvenY()}eq(e){let r=e instanceof mi?e:mi.from_x(e);return this.x.big===r.x.big&&this.y.big===r.y.big}add(e){return e instanceof mi?mi.import(this.p.add(e.p)):mi.import(this.p.add(mi.generate(e).p))}sub(e){return e instanceof mi?mi.import(this.p.subtract(e.p)):mi.import(this.p.subtract(mi.generate(e).p))}mul(e){return e instanceof mi?mi.import(this.p.multiply(e.x.big)):mi.import(this.p.multiply(qo.mod(e).big))}negate(){return mi.import(this.p.negate())}},Uh=mi;(()=>{mi.P=hN.P})(),(()=>{mi.G=hN.G})(),(()=>{mi.base=Sd.ProjectivePoint.BASE})();function Uqe(t){if(t instanceof qo)return t.big;if(t instanceof Uh)return t.x.big;if(t instanceof Uint8Array)return ir.raw(t).big;if(typeof t=="string")return ir.hex(t).big;if(typeof t=="number")return ir.num(t).big;if(typeof t=="bigint")return BigInt(t);throw TypeError("Invalid input type:"+typeof t)}function qqe(t){if(t instanceof qo)return t.point.buff;if(t instanceof Uh)return t.buff;if(t instanceof Uint8Array||typeof t=="string")return ir.bytes(t);if(typeof t=="number"||typeof t=="bigint")return ir.bytes(t,32);throw new TypeError(`Unknown type: ${typeof t}`)}function lN(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function jqe(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function fue(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Kqe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");lN(t.outputLen),lN(t.blockLen)}function $qe(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function zqe(t,e){fue(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Vqe={number:lN,bool:jqe,bytes:fue,hash:Kqe,exists:$qe,output:zqe},a5=Vqe;var Gqe=t=>t instanceof Uint8Array,tN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),_d=(t,e)=>t<<32-e|t>>>e,Wqe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Wqe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Yqe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function qN(t){if(typeof t=="string"&&(t=Yqe(t)),!Gqe(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}var iE=class{clone(){return this._cloneInto()}};function S5(t){let e=n=>t().update(qN(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Xqe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),u=n?4:0,c=n?0:4;t.setUint32(e+u,o,n),t.setUint32(e+c,a,n)}var Gm=class extends iE{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=tN(this.buffer)}update(e){a5.exists(this);let{view:r,buffer:n,blockLen:i}=this;e=qN(e);let s=e.length;for(let o=0;o<s;){let a=Math.min(i-this.pos,s-o);if(a===i){let u=tN(e);for(;i<=s-o;o+=i)this.process(u,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){a5.exists(this),a5.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:s}=this,{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;Xqe(n,i-8,BigInt(this.length*8),s),this.process(n,0);let a=tN(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let c=u/4,d=this.get();if(c>d.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<c;f++)a.setUint32(4*f,d[f],s)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}},Zqe=(t,e,r)=>t&e^~t&r,Jqe=(t,e,r)=>t&e^t&r^e&r,Qqe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),N6=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),F6=new Uint32Array(64),sE=class extends Gm{constructor(){super(64,32,8,!1),this.A=N6[0]|0,this.B=N6[1]|0,this.C=N6[2]|0,this.D=N6[3]|0,this.E=N6[4]|0,this.F=N6[5]|0,this.G=N6[6]|0,this.H=N6[7]|0}get(){let{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:u}=this;return[e,r,n,i,s,o,a,u]}set(e,r,n,i,s,o,a,u){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=u|0}process(e,r){for(let f=0;f<16;f++,r+=4)F6[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let m=F6[f-15],p=F6[f-2],y=_d(m,7)^_d(m,18)^m>>>3,w=_d(p,17)^_d(p,19)^p>>>10;F6[f]=w+F6[f-7]+y+F6[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:u,G:c,H:d}=this;for(let f=0;f<64;f++){let m=_d(a,6)^_d(a,11)^_d(a,25),p=d+m+Zqe(a,u,c)+Qqe[f]+F6[f]|0,w=(_d(n,2)^_d(n,13)^_d(n,22))+Jqe(n,i,s)|0;d=c,c=u,u=a,a=o+p|0,o=s,s=i,i=n,n=p+w|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,u=u+this.F|0,c=c+this.G|0,d=d+this.H|0,this.set(n,i,s,o,a,u,c,d)}roundClean(){F6.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},pN=class extends sE{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},oE=S5(()=>new sE);S5(()=>new pN);var $x=BigInt(2**32-1),bN=BigInt(32);function due(t,e=!1){return e?{h:Number(t&$x),l:Number(t>>bN&$x)}:{h:Number(t>>bN&$x)|0,l:Number(t&$x)|0}}function eje(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:o}=due(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}var tje=(t,e)=>BigInt(t>>>0)<<bN|BigInt(e>>>0),rje=(t,e,r)=>t>>>r,nje=(t,e,r)=>t<<32-r|e>>>r,ije=(t,e,r)=>t>>>r|e<<32-r,sje=(t,e,r)=>t<<32-r|e>>>r,oje=(t,e,r)=>t<<64-r|e>>>r-32,aje=(t,e,r)=>t>>>r-32|e<<64-r,uje=(t,e)=>e,cje=(t,e)=>t,fje=(t,e,r)=>t<<r|e>>>32-r,dje=(t,e,r)=>e<<r|t>>>32-r,hje=(t,e,r)=>e<<r-32|t>>>64-r,lje=(t,e,r)=>t<<r-32|e>>>64-r;function pje(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}var bje=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),gje=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,mje=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),yje=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,vje=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),_je=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Sje={fromBig:due,split:eje,toBig:tje,shrSH:rje,shrSL:nje,rotrSH:ije,rotrSL:sje,rotrBH:oje,rotrBL:aje,rotr32H:uje,rotr32L:cje,rotlSH:fje,rotlSL:dje,rotlBH:hje,rotlBL:lje,add:pje,add3L:bje,add3H:gje,add4L:mje,add4H:yje,add5H:_je,add5L:vje},Rr=Sje,[wje,xje]=Rr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),H6=new Uint32Array(80),D6=new Uint32Array(80),vb=class extends Gm{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:u,Eh:c,El:d,Fh:f,Fl:m,Gh:p,Gl:y,Hh:w,Hl:P}=this;return[e,r,n,i,s,o,a,u,c,d,f,m,p,y,w,P]}set(e,r,n,i,s,o,a,u,c,d,f,m,p,y,w,P){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=u|0,this.Eh=c|0,this.El=d|0,this.Fh=f|0,this.Fl=m|0,this.Gh=p|0,this.Gl=y|0,this.Hh=w|0,this.Hl=P|0}process(e,r){for(let T=0;T<16;T++,r+=4)H6[T]=e.getUint32(r),D6[T]=e.getUint32(r+=4);for(let T=16;T<80;T++){let k=H6[T-15]|0,H=D6[T-15]|0,F=Rr.rotrSH(k,H,1)^Rr.rotrSH(k,H,8)^Rr.shrSH(k,H,7),L=Rr.rotrSL(k,H,1)^Rr.rotrSL(k,H,8)^Rr.shrSL(k,H,7),D=H6[T-2]|0,N=D6[T-2]|0,g=Rr.rotrSH(D,N,19)^Rr.rotrBH(D,N,61)^Rr.shrSH(D,N,6),h=Rr.rotrSL(D,N,19)^Rr.rotrBL(D,N,61)^Rr.shrSL(D,N,6),l=Rr.add4L(L,h,D6[T-7],D6[T-16]),b=Rr.add4H(l,F,g,H6[T-7],H6[T-16]);H6[T]=b|0,D6[T]=l|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:u,Dh:c,Dl:d,Eh:f,El:m,Fh:p,Fl:y,Gh:w,Gl:P,Hh:C,Hl:R}=this;for(let T=0;T<80;T++){let k=Rr.rotrSH(f,m,14)^Rr.rotrSH(f,m,18)^Rr.rotrBH(f,m,41),H=Rr.rotrSL(f,m,14)^Rr.rotrSL(f,m,18)^Rr.rotrBL(f,m,41),F=f&p^~f&w,L=m&y^~m&P,D=Rr.add5L(R,H,L,xje[T],D6[T]),N=Rr.add5H(D,C,k,F,wje[T],H6[T]),g=D|0,h=Rr.rotrSH(n,i,28)^Rr.rotrBH(n,i,34)^Rr.rotrBH(n,i,39),l=Rr.rotrSL(n,i,28)^Rr.rotrBL(n,i,34)^Rr.rotrBL(n,i,39),b=n&s^n&a^s&a,_=i&o^i&u^o&u;C=w|0,R=P|0,w=p|0,P=y|0,p=f|0,y=m|0,{h:f,l:m}=Rr.add(c|0,d|0,N|0,g|0),c=a|0,d=u|0,a=s|0,u=o|0,s=n|0,o=i|0;let x=Rr.add3L(g,l,_);n=Rr.add3H(x,N,h,b),i=x|0}({h:n,l:i}=Rr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Rr.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:u}=Rr.add(this.Ch|0,this.Cl|0,a|0,u|0),{h:c,l:d}=Rr.add(this.Dh|0,this.Dl|0,c|0,d|0),{h:f,l:m}=Rr.add(this.Eh|0,this.El|0,f|0,m|0),{h:p,l:y}=Rr.add(this.Fh|0,this.Fl|0,p|0,y|0),{h:w,l:P}=Rr.add(this.Gh|0,this.Gl|0,w|0,P|0),{h:C,l:R}=Rr.add(this.Hh|0,this.Hl|0,C|0,R|0),this.set(n,i,s,o,a,u,c,d,f,m,p,y,w,P,C,R)}roundClean(){H6.fill(0),D6.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},gN=class extends vb{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},mN=class extends vb{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},yN=class extends vb{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},Eje=S5(()=>new vb);S5(()=>new gN);S5(()=>new mN);S5(()=>new yN);var Aje=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),hue=Uint8Array.from({length:16},(t,e)=>e),Tje=hue.map(t=>(9*t+5)%16),jN=[hue],KN=[Tje];for(let t=0;t<4;t++)for(let e of[jN,KN])e.push(e[t].map(r=>Aje[r]));var lue=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),Ije=jN.map((t,e)=>t.map(r=>lue[e][r])),Pje=KN.map((t,e)=>t.map(r=>lue[e][r])),Oje=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Bje=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),zx=(t,e)=>t<<e|t>>>32-e;function zoe(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var Vx=new Uint32Array(16),vN=class extends Gm{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:i,h4:s}=this;return[e,r,n,i,s]}set(e,r,n,i,s){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=s|0}process(e,r){for(let p=0;p<16;p++,r+=4)Vx[p]=e.getUint32(r,!0);let n=this.h0|0,i=n,s=this.h1|0,o=s,a=this.h2|0,u=a,c=this.h3|0,d=c,f=this.h4|0,m=f;for(let p=0;p<5;p++){let y=4-p,w=Oje[p],P=Bje[p],C=jN[p],R=KN[p],T=Ije[p],k=Pje[p];for(let H=0;H<16;H++){let F=zx(n+zoe(p,s,a,c)+Vx[C[H]]+w,T[H])+f|0;n=f,f=c,c=zx(a,10)|0,a=s,s=F}for(let H=0;H<16;H++){let F=zx(i+zoe(y,o,u,d)+Vx[R[H]]+P,k[H])+m|0;i=m,m=d,d=zx(u,10)|0,u=o,o=F}}this.set(this.h1+a+d|0,this.h2+c+m|0,this.h3+f+i|0,this.h4+n+o|0,this.h0+s+u|0)}roundClean(){Vx.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},Mje=S5(()=>new vN),aE=class extends iE{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,a5.hash(e);let n=qN(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return a5.exists(this),this.iHash.update(e),this}digestInto(e){a5.exists(this),a5.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},pue=(t,e,r)=>new aE(t,e).update(r).digest();pue.create=(t,e)=>new aE(t,e);function kje(t){let e=ir.bytes(t);return ir.raw(oE(e))}function qh(t){let e=ir.bytes(t);return ir.raw(oE(oE(e)))}function wE(t){let e=ir.bytes(t);return ir.raw(Mje(oE(e)))}function Cje(t,e){let r=ir.bytes(t),n=ir.bytes(e);return ir.raw(pue(Eje,r,n))}function Rje(t){let e=ir.str(t).digest;return ir.join([e,e])}function Nje(t=32){return $N(cue(t))}function $N(t){return qo.mod(t).buff}function bue(t,e=!1){let r=qo.mod(t).point;return e?r.x:r.buff}function gue(t,e){let r=Uh.from_x(e),n=qo.mod(t);return r.mul(n).buff}function Fje(t,e,r="ecdh/code"){let n=Rje(r),i=$N(t),s=bue(i),o=ir.bytes(e),a=gue(i,o),u=[s.hex,o.hex];return u.sort(),Cje(a,ir.join([n,...u]))}function Hje(t){let e=ir.bytes(t);switch(!0){case e.length===32:return!0;case(e.length===33&&e[0]===2):return!0;case(e.length===33&&e[0]===3):return!1;default:throw new TypeError(`Invalid public key: ${e.hex}`)}}function Dje(t){let e=ir.bytes(t);switch(e.length){case 32:return e;case 33:return e.slice(1,33);default:throw new Error(`Invalid key length: ${e.length}`)}}var Lje=Object.freeze({__proto__:null,genSecretKey:Nje,getPublicKey:bue,getSecretKey:$N,getSharedCode:Fje,getSharedKey:gue,is_even_pub:Hje,xonly_pub:Dje});ir.random(32);var mue={secp:Sd,schnorr:pUe},_N={...Lje,...Nqe};function xE(t){let e=we.bytes(t);return Ad(e,33),wE(e)}function yue(t){let e=jo.fmt.toBytes(t,!1);return wE(e)}function vue(t){let e=jo.fmt.toBytes(t,!1);return kje(e)}function _ue(t,e="main"){let r=e==="main"?["1"]:["m","n"];for(let n of r)if(t.startsWith(n))return!0;return!1}function Sue(t,e="main"){let r=we.bytes(t),n=e==="main"?we.num(0):we.num(111);return Ad(t,20),r.prepend(n).tob58chk()}function Uje(t,e="main"){if(!_ue(t,e))throw new TypeError("Invalid p2pkh address!");return we.b58chk(t).slice(1)}function qje(t){let e=we.bytes(t);return Ad(e,20),["OP_DUP","OP_HASH160",e.hex,"OP_EQUALVERIFY","OP_CHECKSIG"]}function jje(t,e){let r=xE(t);return Sue(r,e)}var wue={check:_ue,encode:Sue,decode:Uje,hash:xE,scriptPubKey:qje,fromPubKey:jje};function xue(t,e="main"){let r=e==="main"?["3"]:["2"];for(let n of r)if(t.startsWith(n))return!0;return!1}function Eue(t,e="main"){let r=e==="main"?we.num(5):we.num(196),n=we.bytes(t);return Ad(n,20),n.prepend(r).tob58chk()}function Kje(t,e="main"){if(!xue(t,e))throw new TypeError(`Invalid p2sh address for network ${e}:`+t);return we.b58chk(t).slice(1)}function $je(t){return["OP_HASH160",we.bytes(t).hex,"OP_EQUAL"]}function zje(t,e){let r=yue(t);return Eue(r,e)}var Aue={check:xue,encode:Eue,decode:Kje,hash:yue,scriptPubKey:$je,fromScript:zje},zN={main:"bc",testnet:"tb",signet:"tb",regtest:"bcrt"},Vje=["bc1q","tb1q","bcrt1q"];function Tue(t){for(let e of Vje)if(t.startsWith(e))return!0;return!1}function Iue(t,e="main"){let r=zN[e],n=we.bytes(t);return Ad(n,20),n.toBech32(r,0)}function Gje(t){if(!Tue(t))throw new TypeError("Invalid segwit address!");return we.bech32(t)}function Wje(t){let e=we.bytes(t);return Ad(e,20),["OP_0",e.hex]}function Yje(t,e){let r=xE(t);return Iue(r,e)}var Pue={check:Tue,encode:Iue,decode:Gje,hash:xE,scriptPubKey:Wje,fromPubKey:Yje},Xje=["bc1q","tb1q","bcrt1q"];function Oue(t){for(let e of Xje)if(t.startsWith(e))return!0;return!1}function Bue(t,e="main"){let r=zN[e],n=we.bytes(t);return Ad(n,32),n.toBech32(r,0)}function Zje(t){if(!Oue(t))throw new TypeError("Invalid segwit address!");return we.bech32(t)}function Jje(t){let e=we.bytes(t);return Ad(e,32),["OP_0",e.hex]}function Qje(t,e){let r=vue(t);return Bue(r,e)}var Mue={check:Oue,encode:Bue,decode:Zje,hash:vue,scriptPubKey:Jje,fromScript:Qje};function u5(t){let e=we.bytes(t);return e.length>32?e.slice(1,33):e}var eKe=["bc1p","tb1p","bcrt1p"];function kue(t){for(let e of eKe)if(t.startsWith(e))return!0;return!1}function Cue(t,e="main"){let r=zN[e],n=we.bytes(t);return Ad(n,32),n.toBech32(r,1)}function tKe(t){if(!kue(t))throw new TypeError("Invalid taproot address!");return we.bech32(t)}function rKe(t){let e=we.bytes(t);return Ad(e,32),["OP_1",e.hex]}function nKe(t,e){let r=u5(t);return Cue(r,e)}var Rue={check:kue,encode:Cue,decode:tKe,scriptPubKey:rKe,fromPubKey:nKe},iKe={version:2,vin:[],vout:[],locktime:0},sKe={scriptSig:[],sequence:4294967293,witness:[]},oKe={value:0n,scriptPubKey:[]};function VN(t){let e={...iKe,...t};return e.vin=e.vin.map(r=>({...sKe,...r})),e.vout=e.vout.map(r=>({...oKe,...r})),e}function _b(t,e){let{version:r,vin:n,vout:i,locktime:s}=VN(t),o=e!==!0&&aKe(n),a=[GN(r)];o&&a.push(we.hex("0001")),a.push(uKe(n)),a.push(cKe(i));for(let u of n)o&&a.push(dKe(u.witness));return a.push(WN(s)),we.join(a)}function aKe(t){for(let e of t){let{witness:r}=e;if(typeof r=="string"||r instanceof Uint8Array||Array.isArray(r)&&r.length>0)return!0}return!1}function GN(t){return we.num(t,4).reverse()}function Ym(t){return we.hex(t,32).reverse()}function Xm(t){return we.num(t,4).reverse()}function Zm(t){if(typeof t=="string")return we.hex(t,4).reverse();if(typeof t=="number")return we.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function uKe(t){let e=[we.varInt(t.length,"le")];for(let r of t){let{txid:n,vout:i,scriptSig:s,sequence:o}=r;e.push(Ym(n)),e.push(Xm(i)),e.push(G6(s,!0)),e.push(Zm(o))}return we.join(e)}function $6(t){if(typeof t=="number"){if(t%1!==0)throw new Error("Value must be an integer:"+String(t));return we.num(t,8).reverse()}return we.big(t,8).reverse()}function cKe(t){let e=[we.varInt(t.length,"le")];for(let r of t)e.push(fKe(r));return we.join(e)}function fKe(t){let{value:e,scriptPubKey:r}=t,n=[];return n.push($6(e)),n.push(G6(r,!0)),we.join(n)}function dKe(t=[]){let e=[];if(Array.isArray(t)){let r=we.varInt(t.length);e.push(r);for(let n of t)e.push(hKe(n));return we.join(e)}else return we.bytes(t)}function hKe(t){return lKe(t)?new we(0):G6(t,!0)}function lKe(t){if(Array.isArray(t))return t.length===0;if(typeof t=="string"&&t==="")return!0;let e=we.bytes(t);return e.length===1&&e[0]===0}function WN(t){if(typeof t=="string")return we.hex(t,4);if(typeof t=="number")return we.num(t,4).reverse();throw new Error("Unrecognized format: "+String(t))}function YN(t){typeof t=="string"&&(t=we.hex(t).raw);let e=new Ib(t),r=pKe(e),n=bKe(e),i=gKe(e),s=yKe(e);if(n)for(let a of i)a.witness=_Ke(e);let o=SKe(e);return{version:r,vin:i,vout:s,locktime:o}}function pKe(t){return t.read(4).reverse().toNum()}function bKe(t){let[e,r]=[...t.peek(2)];if(e===0){if(t.read(2),r===1)return!0;throw new Error(`Invalid witness flag: ${r}`)}return!1}function gKe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(mKe(t));return e}function mKe(t){return{txid:t.read(32).reverse().toHex(),vout:t.read(4).reverse().toNum(),scriptSig:Fue(t,!0),sequence:t.read(4).reverse().toHex(),witness:[]}}function yKe(t){let e=[],r=t.readSize("le");for(let n=0;n<r;n++)e.push(vKe(t));return e}function vKe(t){return{value:t.read(8).reverse().big,scriptPubKey:Fue(t,!0)}}function _Ke(t){let e=[],r=t.readSize();for(let n=0;n<r;n++){let i=Nue(t,!0);e.push(i??"")}return e}function Nue(t,e){let r=e===!0?t.readSize("le"):t.size;return r>0?t.read(r).hex:null}function Fue(t,e){let r=Nue(t,e);return r!==null?r:[]}function SKe(t){return t.read(4).reverse().toNum()}function wKe(t){if(vae(t))return YN(t);if(typeof t=="object"&&!(t instanceof Uint8Array))return _b(t),VN(t);throw new Error("Invalid format: "+String(typeof t))}function xKe(t){if(vae(t))return YN(t),we.bytes(t);if(typeof t=="object")return _b(t);throw new Error("Invalid format: "+String(typeof t))}var XN={toBytes:xKe,toJson:wKe},EKe=[["p2pkh",/^76a914(?<hash>\w{40})88ac$/],["p2sh",/^a914(?<hash>\w{40})87$/],["p2w-pkh",/^0014(?<hash>\w{40})$/],["p2w-sh",/^0020(?<hash>\w{64})$/],["p2tr",/^5120(?<hash>\w{64})$/]],AKe=[192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,102,126,128,132,150,152,186,188,190];function TKe(t){let e=t.at(-1);return zh(e)&&(e=we.hex(e)),t.length>1&&e instanceof Uint8Array&&e[0]===80?(t.pop(),we.raw(e)):null}function IKe(t){let e=t.at(-1);return zh(e)&&(e=we.hex(e)),t.length>1&&e instanceof Uint8Array&&e.length>32&&AKe.includes(e[0]&254)?(t.pop(),we.raw(e)):null}function PKe(t){if(t.length>1){let e=t.at(-1);try{let r=jo.fmt.toBytes(e);return t.pop(),r}catch{return null}}return null}function OKe(t){let e=[];for(let r of t)if(zh(r)||r instanceof Uint8Array||typeof r=="number")e.push(we.bytes(r));else throw new Error("unrecognized value: "+String(r));return e}function Hue(t=[]){let e=[...t],r=TKe(e),n=IKe(e),i=PKe(e),s=OKe(e);return{annex:r,cblock:n,script:i,params:s}}function ZN(t){let e=jo.fmt.toBytes(t,!1).hex;for(let[r,n]of EKe){let i=r,{groups:s}=n.exec(e)??{},{hash:o}=s??{};if(zh(o))return{type:i,data:we.hex(o)}}return{type:"raw",data:we.hex(e)}}function BKe(t){let e=XN.toJson(t),r=_b(e,!0);return qh(r).reverse().hex}function MKe(t){let e=XN.toJson(t),r=_b(e,!0).length,n=_b(e,!1).length,i=r*3+n,s=i%4>0?1:0,o=Math.floor(i/4)+s;return{size:n,bsize:r,vsize:o,weight:i}}var zu={create:VN,encode:_b,decode:YN,fmt:XN,util:{getTxSize:MKe,getTxid:BKe,readScriptPubKey:ZN,readWitness:Hue}},kKe=[["1","p2pkh","main",20,"base58"],["3","p2sh","main",20,"base58"],["m","p2pkh","testnet",20,"base58"],["n","p2pkh","testnet",20,"base58"],["2","p2sh","testnet",20,"base58"],["bc1q","p2w-pkh","main",20,"bech32"],["tb1q","p2w-pkh","testnet",20,"bech32"],["bcrt1q","p2w-pkh","regtest",20,"bech32"],["bc1q","p2w-sh","main",32,"bech32"],["tb1q","p2w-sh","testnet",32,"bech32"],["bcrt1q","p2w-sh","regtest",32,"bech32"],["bc1p","p2tr","main",32,"bech32m"],["tb1p","p2tr","testnet",32,"bech32m"],["bcrt1p","p2tr","regtest",32,"bech32m"]];function CKe(t,e){switch(e){case"base58":return we.b58chk(t).slice(1);case"bech32":return we.bech32(t);case"bech32m":return we.bech32(t);default:throw new Error("Invalid address format: "+e)}}function RKe(t){for(let e of kKe){let[r,n,i,s,o]=e;if(t.startsWith(r)&&CKe(t,o).length===s)return e}throw new Error("Invalid address: "+t)}function Due(t){switch(t){case"p2pkh":return wue;case"p2sh":return Aue;case"p2w-pkh":return Pue;case"p2w-sh":return Mue;case"p2tr":return Rue;default:throw new Error("Invalid address type: "+t)}}function Lue(t){let[e,r,n]=RKe(t),i=Due(r),s=i.decode(t,n),o=i.scriptPubKey(s);return{prefix:e,type:r,network:n,data:s,script:o}}function NKe(t,e){let{type:r,data:n}=zu.util.readScriptPubKey(t);return Due(r).encode(n,e)}function FKe(t){let{script:e}=Lue(t);return jo.fmt.toAsm(e,!1)}var HKe={p2pkh:wue,p2sh:Aue,p2wpkh:Pue,p2wsh:Mue,p2tr:Rue,decode:Lue,fromScriptPubKey:NKe,toScriptPubKey:FKe},DKe=[1,2,3];function JN(t,e,r={}){let{sigflag:n=1}=r,i=(n&128)===128,s=n%128;if(!DKe.includes(s))throw new Error("Invalid hash type: "+String(n));let o=zu.fmt.toJson(t),{version:a,vin:u,vout:c,locktime:d}=o,{txid:f,vout:m,prevout:p,sequence:y}=u[e],{value:w}=p??{};if(w===void 0)throw new Error("Prevout value is empty!");let P=r.script;if(P===void 0&&r.pubkey!==void 0&&(P=`76a914${wE(r.pubkey).hex}88ac`),P===void 0)throw new Error("No pubkey / script has been set!");if(jo.fmt.toAsm(P).includes("OP_CODESEPARATOR"))throw new Error("This library does not currently support the use of OP_CODESEPARATOR in segwit scripts.");let C=[GN(a),LKe(u,i),UKe(u,s,i),Ym(f),Xm(m),jo.encode(P,!0),$6(w),Zm(y),qKe(c,e,s),WN(d),we.num(n,4).reverse()];return qh(we.join(C))}function LKe(t,e){if(e===!0)return we.num(0,32);let r=[];for(let{txid:n,vout:i}of t)r.push(Ym(n)),r.push(Xm(i));return qh(we.join(r))}function UKe(t,e,r){if(r||e!==1)return we.num(0,32);let n=[];for(let{sequence:i}of t)n.push(Zm(i));return qh(we.join(n))}function qKe(t,e,r){let n=[];if(r===1){for(let{value:i,scriptPubKey:s}of t)n.push($6(i)),n.push(jo.encode(s,!0));return qh(we.join(n))}if(r===3&&e<t.length){let{value:i,scriptPubKey:s}=t[e];return n.push($6(i)),n.push(jo.encode(s,!0)),qh(we.join(n))}return we.num(0,32)}function jKe(t,e,r,n={}){let{sigflag:i=1}=n,s=JN(e,r,n),o=mue.secp.sign(s,t).toDERRawBytes(!0);return we.join([o,i])}function KKe(t,e,r={}){let n=zu.fmt.toJson(t),{throws:i=!1}=r,{witness:s=[]}=n.vin[e],o=zu.util.readWitness(s),{script:a,params:u}=o,c=null;if(u.length<1)return ga("Invalid witness data: "+String(s),i);if(r.script===void 0&&a!==null&&(r.script=a),r.pubkey!==void 0)c=we.bytes(r.pubkey);else if(u.length>1&&u[1].length===33)c=we.bytes(u[1]);else return ga("No pubkey provided!",i);let d=jo.fmt.toParam(u[0]),f=d.slice(0,-1),m=d.slice(-1)[0],p=JN(n,e,{...r,sigflag:m});return mue.secp.verify(f,p,c)?!0:ga("Invalid signature!",i)}var $Ke={hash:JN,sign:jKe,verify:KKe},zKe=[0,1,2,3,129,130,131];function QN(t,e,r={}){let{extension:n,sigflag:i=0,extflag:s=0,key_version:o=0,separator_pos:a=4294967295}=r,u=zu.fmt.toJson(t),{version:c,vin:d,vout:f,locktime:m}=u;if(e>=d.length)throw new Error("Index out of bounds: "+String(e));if(!zKe.includes(i))throw new Error("Invalid hash type: "+String(i));if(s<0||s>127)throw new Error("Extention flag out of range: "+String(s));let{txid:p,vout:y,sequence:w,witness:P=[]}=d[e],C=(i&128)===128,R=JKe(P),T=R!==void 0?1:0,H=(s+(n!==void 0?1:0))*2+T,F=we.str("TapSighash").digest,L=[F,F,we.num(0,1),we.num(i,1),GN(c),WN(m)];if(!C){let D=d.map(N=>Voe(N));L.push(VKe(d),WKe(D),YKe(D),GKe(d))}if(((i&3)<2||(i&3)>3)&&L.push(XKe(f)),L.push(we.num(H,1)),C){let{value:D,scriptPubKey:N}=Voe(d[e]);L.push(Ym(p),Xm(y),$6(D),jo.encode(N,!0),Zm(w))}else L.push(we.num(e,4).reverse());return R!==void 0&&L.push(R),(i&3)===3&&L.push(ZKe(f[e])),n!==void 0&&L.push(we.bytes(n),we.num(o),we.num(a,4)),we.join(L).digest}function VKe(t){let e=[];for(let{txid:r,vout:n}of t)e.push(Ym(r)),e.push(Xm(n));return we.join(e).digest}function GKe(t){let e=[];for(let{sequence:r}of t)e.push(Zm(r));return we.join(e).digest}function WKe(t){let e=[];for(let{value:r}of t)e.push($6(r));return we.join(e).digest}function YKe(t){let e=[];for(let{scriptPubKey:r}of t)e.push(G6(r,!0));return we.join(e).digest}function XKe(t){let e=[];for(let{value:r,scriptPubKey:n}of t)e.push($6(r)),e.push(jo.encode(n,!0));return we.join(e).digest}function ZKe(t){return we.join([$6(t.value),jo.encode(t.scriptPubKey,!0)]).digest}function JKe(t){if(t===void 0||t.length<2)return;let e=t.at(-1);if(typeof e=="string"&&(e=we.hex(e)),e instanceof Uint8Array&&e[0]===80)return we.raw(e).prefixSize("be").digest}function Voe(t){if(t.prevout===void 0)throw new Error("Prevout data missing for input: "+String(t.txid));return t.prevout}var QKe=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,e$e=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n;function t$e(t,e,r,n={}){let{sigflag:i=0}=n,s=QN(e,r,n),o=r$e(t,s);return i===0?we.raw(o):we.join([o,i])}function r$e(t,e,r=we.random(32)){let n=we.bytes(e),i=new qo(t),s=i.point,o=s.hasEvenY?i.big:i.negated.big,a=Gx("BIP0340/aux",we.bytes(r)),u=o^a.big,c=Gx("BIP0340/nonce",u,s.x.raw,n),d=new qo(c),f=d.point,m=f.hasEvenY?d.big:d.negated.big,p=new qo(Gx("BIP0340/challenge",f.x.raw,s.x.raw,n)),y=new qo(m+p.big*o);return we.join([f.x.raw,y.raw])}function n$e(t,e,r,n=!1){let i=Uh.from_x(u5(r)),s=we.bytes(e),o=we.bytes(t).stream;o.size<64&&ga("Signature length is too small: "+String(o.size),n);let a=o.read(32);a.big>QKe&&ga("Signature r value greater than field size!",n);let u=o.read(32);u.big>e$e&&ga("Signature s value greater than curve order!",n);let c=new qo(Gx("BIP0340/challenge",a.raw,i.x.raw,s)),d=new qo(u).point,f=i.mul(c.big),m=d.sub(f);return m.hasOddY&&ga("Signature R value has odd Y coordinate!",n),m.x.big===0n&&ga("Signature R value is infinite!",n),m.x.big===a.big}var i$e=192;function EE(t){let e=we.str(t).digest;return we.join([e,e])}function eF(t,e=i$e){return we.join([EE("TapLeaf"),a$e(e),we.bytes(t)]).digest.hex}function s$e(t,e){return eF(jo.fmt.toBytes(t),e)}function tF(t,e){return e<t&&([t,e]=[e,t]),we.join([EE("TapBranch"),we.hex(t).raw,we.hex(e).raw]).digest.hex}function o$e(t){return we.hex(uE(t)[0])}function uE(t,e,r=[]){let n=[],i=[];if(t.length<1)throw new Error("Tree is empty!");for(let s=0;s<t.length;s++){let o=t[s];if(Array.isArray(o)){let[a,u,c]=uE(o,e);e=u,n.push(a);for(let d of c)r.push(d)}else n.push(o)}if(n.length===1)return[n[0],e,r];n.sort(),n.length%2!==0&&n.push(n[n.length-1]);for(let s=0;s<n.length-1;s+=2){let o=tF(n[s],n[s+1]);i.push(o),typeof e=="string"&&(e===n[s]?(r.push(n[s+1]),e=o):e===n[s+1]&&(r.push(n[s]),e=o))}return uE(i,e,r)}function a$e(t=192){return t&254}function Uue(t,e=new Uint8Array,r=!1){let n=r?new qo(t).point.x.raw:u5(t);return we.join([EE("TapTweak"),n,we.bytes(e)]).digest}function gb(t,e,r=!1){e===void 0&&(e=new Uint8Array);let n=we.bytes(t),i=Uue(t,e,r);return r?que(n,i):jue(n,i)}function u$e(t,e){return gb(t,e)}function c$e(t,e){return gb(t,e,!0)}function que(t,e){let r=new qo(t);return r.point.hasOddY&&(r=r.negate()),we.raw(r.add(e).raw)}function jue(t,e){t=u5(t);let n=Uh.from_x(t).add(e);return we.raw(n.raw)}function f$e(){let t=we.hex("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8");return Uh.from_x(t.digest).x}var d$e=f$e(),h$e=192;function l$e(t,e={}){return Kue(t,{...e,isPrivate:!0})}function p$e(t,e={}){return Kue(t,{...e,isPrivate:!1})}function Kue(t,e={}){let{isPrivate:r=!1,tree:n=[],version:i=h$e}=e,s=r?_N.getPublicKey(t,!0):u5(t),{target:o}=e;o!==void 0&&(o=we.bytes(o).hex);let a,u=[];if(n.length>0){let[p,y,w]=uE(n,o);u=w,a=gb(t,p,r)}else o!==void 0?a=gb(t,o,r):a=gb(t,void 0,r);let c=r?_N.getPublicKey(a)[0]:a[0],f=[we.num(i+zue(c)),s];u.length>0&&u.forEach(p=>f.push(we.hex(p)));let m=we.join(f);if(o!==void 0&&!rF(a,o,m,e))throw new Error("Path checking failed! Unable to generate path.");return[u5(a).hex,m.hex]}function rF(t,e,r,n={}){let{isPrivate:i=!1,throws:s=!1}=n,{parity:o,paths:a,intkey:u}=$ue(r),c=i?_N.getPublicKey(t,!0):u5(t),d=we.join([o,c]);if(d.length!==33)return ga("Invalid tapkey: "+d.hex,s);let f=we.bytes(e).hex;for(let p of a)f=tF(f,p);let m=gb(u,f);return we.raw(m).hex===we.raw(d).hex}function $ue(t){let e=new Ib(we.bytes(t)),r=e.read(1).num,n=e.read(32),[i,s]=r%2===0?[r,2]:[r-1,3],o=[];for(;e.size>=32;)o.push(e.read(32).hex);if(e.size!==0)throw new Error("Non-empty buffer on control block: "+String(e));return{intkey:n,paths:o,parity:s,version:i}}function zue(t=2){if(t===0||t===1)return t;if(t===2||t==="02")return 0;if(t===3||t==="03")return 1;throw new Error("Invalid parity bit: "+String(t))}function b$e(t,e,r={}){let n=zu.fmt.toJson(t),{throws:i=!1}=r,{prevout:s,witness:o=[]}=n.vin[e],a=zu.util.readWitness(o),{cblock:u,script:c,params:d}=a,f;if(d.length<1)return ga("Invalid witness data: "+String(o),i);let{scriptPubKey:m}=s??{};if(m===void 0)return ga("Prevout scriptPubKey is empty!",i);let{type:p,data:y}=zu.util.readScriptPubKey(m);if(p!=="p2tr")return ga("Prevout script is not a valid taproot output:"+y.hex,i);if(y.length!==32)return ga("Invalid tapkey length: "+String(y.length),i);if(u!==null&&c!==null){let T=u[0]&254,k=eF(c,T);if(r.extension=k,!rF(y,k,u,{throws:i}))return ga("cblock verification failed!",i)}r.pubkey!==void 0?f=we.bytes(r.pubkey):d.length>1&&d[1].length===32?f=we.bytes(d[1]):f=we.bytes(y);let w=jo.fmt.toParam(d[0]),P=new Ib(w),C=P.read(64).raw;if(P.size===1&&(r.sigflag=P.read(1).num,r.sigflag===0))return ga("0x00 is not a valid appended sigflag!",i);let R=QN(n,e,r);return n$e(C,R,f,i)?!0:ga("Invalid signature!",i)}var g$e={hash:QN,sign:t$e,verify:b$e},SN={segwit:$Ke,taproot:g$e},Vue={getTag:EE,getLeaf:eF,getBranch:tF,getRoot:o$e},m$e={readCtrlBlock:$ue,readParityBit:zue},y$e={getPubKey:u$e,getSecKey:c$e,getTweak:Uue,tweakSecKey:que,tweakPubKey:jue},v$e={getPubKey:p$e,getSecKey:l$e,encodeScript:s$e,checkPath:rF,tree:Vue,tweak:y$e,util:m$e,SCRIPT_PUBKEY:d$e},cE=class{constructor(e){this._buff=we.raw(G6(e))}get raw(){return this._buff.raw}get hex(){return this._buff.hex}get asm(){return mE(this._buff)}getHash(e,r){switch(e){case"p2w":return qh(this._buff).hex;case"p2sh":return wE(this._buff).hex;case"p2tr":return Vue.getLeaf(this._buff,r);default:throw new Error("Unrecognized format: "+e)}}toJSON(){return this.asm??[]}},Goe=4294967295,_$e=1<<31,n5=512,S$e=1<<22,fE=class{constructor(e){typeof e=="string"?this.value=parseInt(e,16):this.value=e}get isReplaceable(){return this.value<Goe}get isLocked(){return!(this.value!==Goe||(this.value&_$e)!==0)}get isTimelock(){return(this.value&S$e)!==0}get timestamp(){return this.isLocked?this.isTimelock?this.value*n5:this.value*n5*600:0}set timestamp(e){this.value=Math.ceil(e/n5)}get blockheight(){return this.isLocked?this.isTimelock?Math.ceil(this.value*n5/600):this.value:0}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*n5*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){let r=e.getTime()-Date.now();this.value=r>n5*1e3?Math.ceil(r/1e3/n5):1}toJSON(){return this.value}},nF=class{constructor(e){this.value=BigInt(e.value),this.scriptPubKey=new cE(e.scriptPubKey)}get type(){let{type:e}=ZN(this.scriptPubKey.raw);return e}},dE=class{constructor(e,r){this._data=e,this._meta=Hue(e),this.format=r}get length(){return this._data.length}get annex(){let e=this._meta.annex;return e!==null?we.raw(e).hex:void 0}get cblock(){let e=this._meta.cblock;return e!==null?we.raw(e).hex:void 0}get script(){let e=this._meta.script;return e!==null?jo.decode(e):void 0}get params(){return this._meta.params}toJSON(){return this._data}},Gue=class{constructor(e,r){this._tx=e,this.idx=r}get data(){return this._tx.vin[this.idx]}get txid(){return this.data.txid}get vout(){return this.data.vout}get prevout(){return this.data.prevout!==void 0?new nF(this.data.prevout):void 0}get scriptSig(){return new cE(this.data.scriptSig)}get sequence(){return new fE(this.data.sequence)}get witness(){return new dE(this.data.witness)}get type(){if(this.prevout!==void 0){let e=this.prevout.scriptPubKey.raw,{type:r}=ZN(e);if(r==="p2sh"){let n=this.scriptSig.asm;if(n[0]==="OP_0"){if(n[1].length===20)return"p2w-p2pkh";if(n[1].length===32)return"p2w-p2sh"}return"p2sh"}return r}return"raw"}sign(e,r){if(this.type.startsWith("p2w"))return SN.segwit.sign(e,this._tx,this.idx,r);if(this.type.startsWith("p2tr"))return SN.taproot.sign(e,this._tx,this.idx,r);throw this.type.startsWith("p2pkh")||this.type.startsWith("p2sh")?new Error("This library does not support signing legacy transactions."):new Error("Unable to sign this input type:"+String(this.type))}},w$e=5e8,wN=class{constructor(e=0){this.value=we.bytes(e).num}get isTimelock(){return this.value>w$e}get timestamp(){return this.isTimelock?this.value:this.value*600}set timestamp(e){this.value=e}get blockheight(){return this.isTimelock?Math.floor(this.value/600):this.value}set blockheight(e){this.value=e}get estDate(){return this.isTimelock?new Date(Date.now()+this.value*1e3):new Date(Date.now()+this.value*600*1e3)}set estDate(e){this.value=Math.floor((e.getTime()-Date.now())/1e3)}toJSON(){return this.value}},mn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(let o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(mn||(mn={}));var xN;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(xN||(xN={}));var ot=mn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),U6=t=>{switch(typeof t){case"undefined":return ot.undefined;case"string":return ot.string;case"number":return isNaN(t)?ot.nan:ot.number;case"boolean":return ot.boolean;case"function":return ot.function;case"bigint":return ot.bigint;case"symbol":return ot.symbol;case"object":return Array.isArray(t)?ot.array:t===null?ot.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ot.promise:typeof Map<"u"&&t instanceof Map?ot.map:typeof Set<"u"&&t instanceof Set?ot.set:typeof Date<"u"&&t instanceof Date?ot.date:ot.object;default:return ot.unknown}},We=mn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),x$e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Gu=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,u=0;for(;u<o.path.length;){let c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,mn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Gu.create=t=>new Gu(t);var Wm=(t,e)=>{let r;switch(t.code){case We.invalid_type:t.received===ot.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case We.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,mn.jsonStringifyReplacer)}`;break;case We.unrecognized_keys:r=`Unrecognized key(s) in object: ${mn.joinValues(t.keys,", ")}`;break;case We.invalid_union:r="Invalid input";break;case We.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${mn.joinValues(t.options)}`;break;case We.invalid_enum_value:r=`Invalid enum value. Expected ${mn.joinValues(t.options)}, received '${t.received}'`;break;case We.invalid_arguments:r="Invalid function arguments";break;case We.invalid_return_type:r="Invalid function return type";break;case We.invalid_date:r="Invalid date";break;case We.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:mn.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case We.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case We.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case We.custom:r="Invalid input";break;case We.invalid_intersection_types:r="Intersection results could not be merged";break;case We.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case We.not_finite:r="Number must be finite";break;default:r=e.defaultError,mn.assertNever(t)}return{message:r}},Wue=Wm;function E$e(t){Wue=t}function hE(){return Wue}var lE=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s},a="",u=n.filter(c=>!!c).slice().reverse();for(let c of u)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},A$e=[];function At(t,e){let r=lE({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,hE(),Wm].filter(n=>!!n)});t.common.issues.push(r)}var yo=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return br;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r)n.push({key:await i.key,value:await i.value});return yo.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return br;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}},br=Object.freeze({status:"aborted"}),Yue=t=>({status:"dirty",value:t}),Ua=t=>({status:"valid",value:t}),EN=t=>t.status==="aborted",AN=t=>t.status==="dirty",pE=t=>t.status==="valid",bE=t=>typeof Promise<"u"&&t instanceof Promise,qt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(qt||(qt={}));var nf=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Woe=(t,e)=>{if(pE(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Gu(t.common.issues);return this._error=r,this._error}}};function Or(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}var Br=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return U6(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:U6(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new yo,ctx:{common:e.parent.common,data:e.data,parsedType:U6(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(bE(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:U6(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Woe(i,s)}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:U6(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(bE(i)?i:Promise.resolve(i));return Woe(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let o=e(i),a=()=>s.addIssue({code:We.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Yu({schema:this,typeName:rr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Zf.create(this,this._def)}nullable(){return $h.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Wu.create(this,this._def)}promise(){return V6.create(this,this._def)}or(e){return h5.create([this,e],this._def)}and(e){return l5.create(this,e,this._def)}transform(e){return new Yu({...Or(this._def),schema:this,typeName:rr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new y5({...Or(this._def),innerType:this,defaultValue:r,typeName:rr.ZodDefault})}brand(){return new gE({typeName:rr.ZodBranded,type:this,...Or(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Ab({...Or(this._def),innerType:this,catchValue:r,typeName:rr.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return v5.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},T$e=/^c[^\s-]{8,}$/i,I$e=/^[a-z][a-z0-9]*$/,P$e=/[0-9A-HJKMNP-TV-Z]{26}/,O$e=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,B$e=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,M$e=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,k$e=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,C$e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,R$e=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function N$e(t,e){return!!((e==="v4"||!e)&&k$e.test(t)||(e==="v6"||!e)&&C$e.test(t))}var Vu=class extends Br{constructor(){super(...arguments),this._regex=(e,r,n)=>this.refinement(i=>e.test(i),{validation:r,code:We.invalid_string,...qt.errToObj(n)}),this.nonempty=e=>this.min(1,qt.errToObj(e)),this.trim=()=>new Vu({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Vu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Vu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ot.string){let s=this._getOrReturnCtx(e);return At(s,{code:We.invalid_type,expected:ot.string,received:s.parsedType}),br}let n=new yo,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),At(i,{code:We.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),At(i,{code:We.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?At(i,{code:We.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&At(i,{code:We.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")B$e.test(e.data)||(i=this._getOrReturnCtx(e,i),At(i,{validation:"email",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")M$e.test(e.data)||(i=this._getOrReturnCtx(e,i),At(i,{validation:"emoji",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")O$e.test(e.data)||(i=this._getOrReturnCtx(e,i),At(i,{validation:"uuid",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")T$e.test(e.data)||(i=this._getOrReturnCtx(e,i),At(i,{validation:"cuid",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")I$e.test(e.data)||(i=this._getOrReturnCtx(e,i),At(i,{validation:"cuid2",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")P$e.test(e.data)||(i=this._getOrReturnCtx(e,i),At(i,{validation:"ulid",code:We.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),At(i,{validation:"url",code:We.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),At(i,{validation:"regex",code:We.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),At(i,{code:We.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),At(i,{code:We.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),At(i,{code:We.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?R$e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),At(i,{code:We.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?N$e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),At(i,{validation:"ip",code:We.invalid_string,message:s.message}),n.dirty()):mn.assertNever(s);return{status:n.value,value:e.data}}_addCheck(e){return new Vu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...qt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...qt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...qt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...qt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...qt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...qt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...qt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...qt.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...qt.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...qt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...qt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...qt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...qt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...qt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...qt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...qt.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Vu.create=t=>{var e;return new Vu({checks:[],typeName:rr.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Or(t)})};function F$e(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}var wd=class extends Br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ot.number){let s=this._getOrReturnCtx(e);return At(s,{code:We.invalid_type,expected:ot.number,received:s.parsedType}),br}let n,i=new yo;for(let s of this._def.checks)s.kind==="int"?mn.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),At(n,{code:We.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),At(n,{code:We.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),At(n,{code:We.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?F$e(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),At(n,{code:We.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),At(n,{code:We.not_finite,message:s.message}),i.dirty()):mn.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,qt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,qt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,qt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,qt.toString(r))}setLimit(e,r,n,i){return new wd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:qt.toString(i)}]})}_addCheck(e){return new wd({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:qt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:qt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:qt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qt.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&mn.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};wd.create=t=>new wd({checks:[],typeName:rr.ZodNumber,coerce:t?.coerce||!1,...Or(t)});var xd=class extends Br{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ot.bigint){let s=this._getOrReturnCtx(e);return At(s,{code:We.invalid_type,expected:ot.bigint,received:s.parsedType}),br}let n,i=new yo;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),At(n,{code:We.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),At(n,{code:We.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),At(n,{code:We.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):mn.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,qt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,qt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,qt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,qt.toString(r))}setLimit(e,r,n,i){return new xd({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:qt.toString(i)}]})}_addCheck(e){return new xd({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:qt.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};xd.create=t=>{var e;return new xd({checks:[],typeName:rr.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Or(t)})};var c5=class extends Br{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==ot.boolean){let n=this._getOrReturnCtx(e);return At(n,{code:We.invalid_type,expected:ot.boolean,received:n.parsedType}),br}return Ua(e.data)}};c5.create=t=>new c5({typeName:rr.ZodBoolean,coerce:t?.coerce||!1,...Or(t)});var jh=class extends Br{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ot.date){let s=this._getOrReturnCtx(e);return At(s,{code:We.invalid_type,expected:ot.date,received:s.parsedType}),br}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return At(s,{code:We.invalid_date}),br}let n=new yo,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),At(i,{code:We.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),At(i,{code:We.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):mn.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new jh({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:qt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:qt.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};jh.create=t=>new jh({checks:[],coerce:t?.coerce||!1,typeName:rr.ZodDate,...Or(t)});var Sb=class extends Br{_parse(e){if(this._getType(e)!==ot.symbol){let n=this._getOrReturnCtx(e);return At(n,{code:We.invalid_type,expected:ot.symbol,received:n.parsedType}),br}return Ua(e.data)}};Sb.create=t=>new Sb({typeName:rr.ZodSymbol,...Or(t)});var f5=class extends Br{_parse(e){if(this._getType(e)!==ot.undefined){let n=this._getOrReturnCtx(e);return At(n,{code:We.invalid_type,expected:ot.undefined,received:n.parsedType}),br}return Ua(e.data)}};f5.create=t=>new f5({typeName:rr.ZodUndefined,...Or(t)});var d5=class extends Br{_parse(e){if(this._getType(e)!==ot.null){let n=this._getOrReturnCtx(e);return At(n,{code:We.invalid_type,expected:ot.null,received:n.parsedType}),br}return Ua(e.data)}};d5.create=t=>new d5({typeName:rr.ZodNull,...Or(t)});var z6=class extends Br{constructor(){super(...arguments),this._any=!0}_parse(e){return Ua(e.data)}};z6.create=t=>new z6({typeName:rr.ZodAny,...Or(t)});var Lh=class extends Br{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ua(e.data)}};Lh.create=t=>new Lh({typeName:rr.ZodUnknown,...Or(t)});var Jf=class extends Br{_parse(e){let r=this._getOrReturnCtx(e);return At(r,{code:We.invalid_type,expected:ot.never,received:r.parsedType}),br}};Jf.create=t=>new Jf({typeName:rr.ZodNever,...Or(t)});var wb=class extends Br{_parse(e){if(this._getType(e)!==ot.undefined){let n=this._getOrReturnCtx(e);return At(n,{code:We.invalid_type,expected:ot.void,received:n.parsedType}),br}return Ua(e.data)}};wb.create=t=>new wb({typeName:rr.ZodVoid,...Or(t)});var Wu=class extends Br{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==ot.array)return At(r,{code:We.invalid_type,expected:ot.array,received:r.parsedType}),br;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(At(r,{code:o?We.too_big:We.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(At(r,{code:We.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(At(r,{code:We.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new nf(r,o,r.path,a)))).then(o=>yo.mergeArray(n,o));let s=[...r.data].map((o,a)=>i.type._parseSync(new nf(r,o,r.path,a)));return yo.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Wu({...this._def,minLength:{value:e,message:qt.toString(r)}})}max(e,r){return new Wu({...this._def,maxLength:{value:e,message:qt.toString(r)}})}length(e,r){return new Wu({...this._def,exactLength:{value:e,message:qt.toString(r)}})}nonempty(e){return this.min(1,e)}};Wu.create=(t,e)=>new Wu({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rr.ZodArray,...Or(e)});function bb(t){if(t instanceof oi){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Zf.create(bb(n))}return new oi({...t._def,shape:()=>e})}else return t instanceof Wu?new Wu({...t._def,type:bb(t.element)}):t instanceof Zf?Zf.create(bb(t.unwrap())):t instanceof $h?$h.create(bb(t.unwrap())):t instanceof sf?sf.create(t.items.map(e=>bb(e))):t}var oi=class extends Br{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=mn.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==ot.object){let c=this._getOrReturnCtx(e);return At(c,{code:We.invalid_type,expected:ot.object,received:c.parsedType}),br}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Jf&&this._def.unknownKeys==="strip"))for(let c in i.data)o.includes(c)||a.push(c);let u=[];for(let c of o){let d=s[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:d._parse(new nf(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Jf){let c=this._def.unknownKeys;if(c==="passthrough")for(let d of a)u.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(c==="strict")a.length>0&&(At(i,{code:We.unrecognized_keys,keys:a}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let d of a){let f=i.data[d];u.push({key:{status:"valid",value:d},value:c._parse(new nf(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let c=[];for(let d of u){let f=await d.key;c.push({key:f,value:await d.value,alwaysSet:d.alwaysSet})}return c}).then(c=>yo.mergeObjectSync(n,c)):yo.mergeObjectSync(n,u)}get shape(){return this._def.shape()}strict(e){return new oi({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;let u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=qt.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new oi({...this._def,unknownKeys:"strip"})}passthrough(){return new oi({...this._def,unknownKeys:"passthrough"})}extend(e){return new oi({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new oi({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rr.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new oi({...this._def,catchall:e})}pick(e){let r={};return mn.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new oi({...this._def,shape:()=>r})}omit(e){let r={};return mn.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new oi({...this._def,shape:()=>r})}deepPartial(){return bb(this)}partial(e){let r={};return mn.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new oi({...this._def,shape:()=>r})}required(e){let r={};return mn.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Zf;)s=s._def.innerType;r[n]=s}}),new oi({...this._def,shape:()=>r})}keyof(){return Xue(mn.objectKeys(this.shape))}};oi.create=(t,e)=>new oi({shape:()=>t,unknownKeys:"strip",catchall:Jf.create(),typeName:rr.ZodObject,...Or(e)});oi.strictCreate=(t,e)=>new oi({shape:()=>t,unknownKeys:"strict",catchall:Jf.create(),typeName:rr.ZodObject,...Or(e)});oi.lazycreate=(t,e)=>new oi({shape:t,unknownKeys:"strip",catchall:Jf.create(),typeName:rr.ZodObject,...Or(e)});var h5=class extends Br{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(a=>new Gu(a.ctx.common.issues));return At(r,{code:We.invalid_union,unionErrors:o}),br}if(r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let u of n){let c={...r,common:{...r.common,issues:[]},parent:null},d=u._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(u=>new Gu(u));return At(r,{code:We.invalid_union,unionErrors:a}),br}}get options(){return this._def.options}};h5.create=(t,e)=>new h5({options:t,typeName:rr.ZodUnion,...Or(e)});var Wx=t=>t instanceof b5?Wx(t.schema):t instanceof Yu?Wx(t.innerType()):t instanceof g5?[t.value]:t instanceof Ed?t.options:t instanceof m5?Object.keys(t.enum):t instanceof y5?Wx(t._def.innerType):t instanceof f5?[void 0]:t instanceof d5?[null]:null,xb=class extends Br{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ot.object)return At(r,{code:We.invalid_type,expected:ot.object,received:r.parsedType}),br;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(At(r,{code:We.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),br)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let o=Wx(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new xb({typeName:rr.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Or(n)})}};function TN(t,e){let r=U6(t),n=U6(e);if(t===e)return{valid:!0,data:t};if(r===ot.object&&n===ot.object){let i=mn.objectKeys(e),s=mn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(let a of s){let u=TN(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(r===ot.array&&n===ot.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=e[s],u=TN(o,a);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return r===ot.date&&n===ot.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var l5=class extends Br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(EN(s)||EN(o))return br;let a=TN(s.value,o.value);return a.valid?((AN(s)||AN(o))&&r.dirty(),{status:r.value,value:a.data}):(At(n,{code:We.invalid_intersection_types}),br)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};l5.create=(t,e,r)=>new l5({left:t,right:e,typeName:rr.ZodIntersection,...Or(r)});var sf=class extends Br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.array)return At(n,{code:We.invalid_type,expected:ot.array,received:n.parsedType}),br;if(n.data.length<this._def.items.length)return At(n,{code:We.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),br;!this._def.rest&&n.data.length>this._def.items.length&&(At(n,{code:We.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((o,a)=>{let u=this._def.items[a]||this._def.rest;return u?u._parse(new nf(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>yo.mergeArray(r,o)):yo.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new sf({...this._def,rest:e})}};sf.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sf({items:t,typeName:rr.ZodTuple,rest:null,...Or(e)})};var p5=class extends Br{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.object)return At(n,{code:We.invalid_type,expected:ot.object,received:n.parsedType}),br;let i=[],s=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:s._parse(new nf(n,a,n.path,a)),value:o._parse(new nf(n,n.data[a],n.path,a))});return n.common.async?yo.mergeObjectAsync(r,i):yo.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof Br?new p5({keyType:e,valueType:r,typeName:rr.ZodRecord,...Or(n)}):new p5({keyType:Vu.create(),valueType:e,typeName:rr.ZodRecord,...Or(r)})}},Eb=class extends Br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.map)return At(n,{code:We.invalid_type,expected:ot.map,received:n.parsedType}),br;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,u],c)=>({key:i._parse(new nf(n,a,n.path,[c,"key"])),value:s._parse(new nf(n,u,n.path,[c,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let u of o){let c=await u.key,d=await u.value;if(c.status==="aborted"||d.status==="aborted")return br;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let u of o){let c=u.key,d=u.value;if(c.status==="aborted"||d.status==="aborted")return br;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(c.value,d.value)}return{status:r.value,value:a}}}};Eb.create=(t,e,r)=>new Eb({valueType:e,keyType:t,typeName:rr.ZodMap,...Or(r)});var Kh=class extends Br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ot.set)return At(n,{code:We.invalid_type,expected:ot.set,received:n.parsedType}),br;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(At(n,{code:We.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(At(n,{code:We.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(u){let c=new Set;for(let d of u){if(d.status==="aborted")return br;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}let a=[...n.data.values()].map((u,c)=>s._parse(new nf(n,u,n.path,c)));return n.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,r){return new Kh({...this._def,minSize:{value:e,message:qt.toString(r)}})}max(e,r){return new Kh({...this._def,maxSize:{value:e,message:qt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Kh.create=(t,e)=>new Kh({valueType:t,minSize:null,maxSize:null,typeName:rr.ZodSet,...Or(e)});var j6=class extends Br{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ot.function)return At(r,{code:We.invalid_type,expected:ot.function,received:r.parsedType}),br;function n(a,u){return lE({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hE(),Wm].filter(c=>!!c),issueData:{code:We.invalid_arguments,argumentsError:u}})}function i(a,u){return lE({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hE(),Wm].filter(c=>!!c),issueData:{code:We.invalid_return_type,returnTypeError:u}})}let s={errorMap:r.common.contextualErrorMap},o=r.data;return this._def.returns instanceof V6?Ua(async(...a)=>{let u=new Gu([]),c=await this._def.args.parseAsync(a,s).catch(m=>{throw u.addIssue(n(a,m)),u}),d=await o(...c);return await this._def.returns._def.type.parseAsync(d,s).catch(m=>{throw u.addIssue(i(d,m)),u})}):Ua((...a)=>{let u=this._def.args.safeParse(a,s);if(!u.success)throw new Gu([n(a,u.error)]);let c=o(...u.data),d=this._def.returns.safeParse(c,s);if(!d.success)throw new Gu([i(c,d.error)]);return d.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new j6({...this._def,args:sf.create(e).rest(Lh.create())})}returns(e){return new j6({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new j6({args:e||sf.create([]).rest(Lh.create()),returns:r||Lh.create(),typeName:rr.ZodFunction,...Or(n)})}},b5=class extends Br{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};b5.create=(t,e)=>new b5({getter:t,typeName:rr.ZodLazy,...Or(e)});var g5=class extends Br{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return At(r,{received:r.data,code:We.invalid_literal,expected:this._def.value}),br}return{status:"valid",value:e.data}}get value(){return this._def.value}};g5.create=(t,e)=>new g5({value:t,typeName:rr.ZodLiteral,...Or(e)});function Xue(t,e){return new Ed({values:t,typeName:rr.ZodEnum,...Or(e)})}var Ed=class extends Br{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return At(r,{expected:mn.joinValues(n),received:r.parsedType,code:We.invalid_type}),br}if(this._def.values.indexOf(e.data)===-1){let r=this._getOrReturnCtx(e),n=this._def.values;return At(r,{received:r.data,code:We.invalid_enum_value,options:n}),br}return Ua(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e){return Ed.create(e)}exclude(e){return Ed.create(this.options.filter(r=>!e.includes(r)))}};Ed.create=Xue;var m5=class extends Br{_parse(e){let r=mn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ot.string&&n.parsedType!==ot.number){let i=mn.objectValues(r);return At(n,{expected:mn.joinValues(i),received:n.parsedType,code:We.invalid_type}),br}if(r.indexOf(e.data)===-1){let i=mn.objectValues(r);return At(n,{received:n.data,code:We.invalid_enum_value,options:i}),br}return Ua(e.data)}get enum(){return this._def.values}};m5.create=(t,e)=>new m5({values:t,typeName:rr.ZodNativeEnum,...Or(e)});var V6=class extends Br{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ot.promise&&r.common.async===!1)return At(r,{code:We.invalid_type,expected:ot.promise,received:r.parsedType}),br;let n=r.parsedType===ot.promise?r.data:Promise.resolve(r.data);return Ua(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};V6.create=(t,e)=>new V6({type:t,typeName:rr.ZodPromise,...Or(e)});var Yu=class extends Br{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null;if(i.type==="preprocess"){let o=i.transform(n.data);return n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}let s={addIssue:o=>{At(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="refinement"){let o=a=>{let u=i.refinement(a,s);if(n.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?br:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?br:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!pE(o))return o;let a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>pE(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);mn.assertNever(i)}};Yu.create=(t,e,r)=>new Yu({schema:t,typeName:rr.ZodEffects,effect:e,...Or(r)});Yu.createWithPreprocess=(t,e,r)=>new Yu({schema:e,effect:{type:"preprocess",transform:t},typeName:rr.ZodEffects,...Or(r)});var Zf=class extends Br{_parse(e){return this._getType(e)===ot.undefined?Ua(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Zf.create=(t,e)=>new Zf({innerType:t,typeName:rr.ZodOptional,...Or(e)});var $h=class extends Br{_parse(e){return this._getType(e)===ot.null?Ua(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};$h.create=(t,e)=>new $h({innerType:t,typeName:rr.ZodNullable,...Or(e)});var y5=class extends Br{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===ot.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};y5.create=(t,e)=>new y5({innerType:t,typeName:rr.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Or(e)});var Ab=class extends Br{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return bE(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Gu(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Gu(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Ab.create=(t,e)=>new Ab({innerType:t,typeName:rr.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Or(e)});var Tb=class extends Br{_parse(e){if(this._getType(e)!==ot.nan){let n=this._getOrReturnCtx(e);return At(n,{code:We.invalid_type,expected:ot.nan,received:n.parsedType}),br}return{status:"valid",value:e.data}}};Tb.create=t=>new Tb({typeName:rr.ZodNaN,...Or(t)});var H$e=Symbol("zod_brand"),gE=class extends Br{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},v5=class extends Br{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?br:s.status==="dirty"?(r.dirty(),Yue(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?br:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new v5({in:e,out:r,typeName:rr.ZodPipeline})}},Zue=(t,e={},r)=>t?z6.create().superRefine((n,i)=>{var s,o;if(!t(n)){let a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,u=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:u})}}):z6.create(),D$e={object:oi.lazycreate},rr;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline"})(rr||(rr={}));var L$e=(t,e={message:`Input not instance of ${t.name}`})=>Zue(r=>r instanceof t,e),Jue=Vu.create,Que=wd.create,U$e=Tb.create,q$e=xd.create,ece=c5.create,j$e=jh.create,K$e=Sb.create,$$e=f5.create,z$e=d5.create,V$e=z6.create,G$e=Lh.create,W$e=Jf.create,Y$e=wb.create,X$e=Wu.create,Z$e=oi.create,J$e=oi.strictCreate,Q$e=h5.create,eze=xb.create,tze=l5.create,rze=sf.create,nze=p5.create,ize=Eb.create,sze=Kh.create,oze=j6.create,aze=b5.create,uze=g5.create,cze=Ed.create,fze=m5.create,dze=V6.create,Yoe=Yu.create,hze=Zf.create,lze=$h.create,pze=Yu.createWithPreprocess,bze=v5.create,gze=()=>Jue().optional(),mze=()=>Que().optional(),yze=()=>ece().optional(),vze={string:t=>Vu.create({...t,coerce:!0}),number:t=>wd.create({...t,coerce:!0}),boolean:t=>c5.create({...t,coerce:!0}),bigint:t=>xd.create({...t,coerce:!0}),date:t=>jh.create({...t,coerce:!0})},_ze=br,La=Object.freeze({__proto__:null,defaultErrorMap:Wm,setErrorMap:E$e,getErrorMap:hE,makeIssue:lE,EMPTY_PATH:A$e,addIssueToContext:At,ParseStatus:yo,INVALID:br,DIRTY:Yue,OK:Ua,isAborted:EN,isDirty:AN,isValid:pE,isAsync:bE,get util(){return mn},get objectUtil(){return xN},ZodParsedType:ot,getParsedType:U6,ZodType:Br,ZodString:Vu,ZodNumber:wd,ZodBigInt:xd,ZodBoolean:c5,ZodDate:jh,ZodSymbol:Sb,ZodUndefined:f5,ZodNull:d5,ZodAny:z6,ZodUnknown:Lh,ZodNever:Jf,ZodVoid:wb,ZodArray:Wu,ZodObject:oi,ZodUnion:h5,ZodDiscriminatedUnion:xb,ZodIntersection:l5,ZodTuple:sf,ZodRecord:p5,ZodMap:Eb,ZodSet:Kh,ZodFunction:j6,ZodLazy:b5,ZodLiteral:g5,ZodEnum:Ed,ZodNativeEnum:m5,ZodPromise:V6,ZodEffects:Yu,ZodTransformer:Yu,ZodOptional:Zf,ZodNullable:$h,ZodDefault:y5,ZodCatch:Ab,ZodNaN:Tb,BRAND:H$e,ZodBranded:gE,ZodPipeline:v5,custom:Zue,Schema:Br,ZodSchema:Br,late:D$e,get ZodFirstPartyTypeKind(){return rr},coerce:vze,any:V$e,array:X$e,bigint:q$e,boolean:ece,date:j$e,discriminatedUnion:eze,effect:Yoe,enum:cze,function:oze,instanceof:L$e,intersection:tze,lazy:aze,literal:uze,map:ize,nan:U$e,nativeEnum:fze,never:W$e,null:z$e,nullable:lze,number:Que,object:Z$e,oboolean:yze,onumber:mze,optional:hze,ostring:gze,pipeline:bze,preprocess:pze,promise:dze,record:nze,set:sze,strictObject:J$e,string:Jue,symbol:K$e,transformer:Yoe,tuple:rze,undefined:$$e,union:Q$e,unknown:G$e,void:Y$e,NEVER:_ze,ZodIssueCode:We,quotelessJson:x$e,ZodError:Gu}),iF=La.string().regex(/^[a-fA-F0-9]$/),tce=La.string().regex(/^[a-fA-F0-9]{64}$/),_5=La.number().min(0).max(4294967295),rce=La.bigint(),nce=La.instanceof(Uint8Array),Sze=La.union([iF,_5,La.string(),nce]).array(),AE=La.union([Sze,iF,nce]),ice=La.array(AE),sF=La.object({value:La.union([_5,rce]),scriptPubKey:AE}),sce=La.object({txid:tce,vout:_5,scriptSig:AE,sequence:_5,prevout:sF.optional(),witness:ice}),wze=La.object({version:_5,vin:La.array(sce),vout:La.array(sF),locktime:_5}),xze={TxData:wze,TxInput:sce,TxOutput:sF,witness:ice,script:AE,hexstr:iF,hash:tce,uint32:_5,uint64:rce},IN=class{constructor(e){typeof e=="string"&&(e=we.hex(e)),e instanceof Uint8Array&&(e=zu.decode(e));let r=xze.TxData;this._data=r.parse(zu.create(e))}get data(){return this._data}get version(){return this.data.version}get vin(){return this.data.vin.map((e,r)=>new Gue(this.data,r))}get vout(){return this.data.vout.map(e=>new nF(e))}get locktime(){return new wN(this.data.locktime)}get base(){return zu.encode(this.data,!0)}get buff(){return zu.encode(this.data)}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get size(){return this.raw.length}get bsize(){return this.base.length}get weight(){return this.bsize*3+this.size}get vsize(){let e=this.weight%4>0?1:0;return Math.floor(this.weight/4)+e}get hash(){return qh(this.buff).reverse().hex}get txid(){return qh(this.base).reverse().hex}async export(){let{size:e,weight:r,vsize:n,hex:i}=this,s=this.txid,o=this.hash;return{txid:s,hash:o,...this.data,size:e,weight:r,vsize:n,hex:i}}};Qf.Address=HKe;Qf.Input=Gue;Qf.Output=nF;Qf.Script=jo;Qf.Sequence=fE;Qf.Signer=SN;Qf.Tap=v$e;Qf.Transaction=IN;Qf.Tx=zu;Qf.Witness=dE});var aF=j(Td=>{"use strict";B();M();Object.defineProperty(Td,"__esModule",{value:!0});Td.script2P2TR=Td.CatTx=Td.TaprootMastSmartContract=Td.TaprootSmartContract=void 0;var Eze=yR(),oce=jr(),Aze=kR(),w5=oF(),W6=nb(),TE="50929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0",Ob=class{constructor(e){let r=e.lockingScript,n=w5.Tap.encodeScript(r.toBuffer()),[i,s]=w5.Tap.getPubKey(TE,{target:n}),o=new W6.btc.Script(`OP_1 32 0x${i}}`);this.contract=e,this.contractScript=r,this.contractScriptBuffer=r.toBuffer(),this.contractScriptHash=(0,oce.hash160)(this.contractScriptBuffer.toString("hex")),this.tapleaf=n,this.tapleafBuffer=E.Buffer.from(n,"hex"),this.tpubkey=i,this.cblock=s,this.cblockBuffer=E.Buffer.from(s,"hex"),this.lockingScript=o,this.lockingScriptHex=o.toBuffer().toString("hex")}static create(e){return new Ob(e)}};Td.TaprootSmartContract=Ob;var Jm=class{constructor(e){let r={},n=[];for(let o of Object.keys(e)){let a=e[o];r[o]=Ob.create(a);let u=a.lockingScript,c=w5.Tap.encodeScript(u.toBuffer());n.push(c),r[o].tapleaf=c,r[o].tapleafBuffer=E.Buffer.from(c,"hex")}let[i]=w5.Tap.getPubKey(TE,{tree:n}),s=new W6.btc.Script(`OP_1 32 0x${i}}`);for(let o of Object.keys(r)){let a=r[o],[,u]=w5.Tap.getPubKey(TE,{target:a.tapleaf,tree:n});a.tpubkey=i,a.cblock=u,a.cblockBuffer=E.Buffer.from(u,"hex"),a.lockingScript=s,a.lockingScriptHex=s.toBuffer().toString("hex")}this.tpubkey=i,this.lockingScript=s,this.lockingScriptHex=s.toBuffer().toString("hex"),this.contractTaprootMap=r}static create(e){return new Jm(e)}};Td.TaprootMastSmartContract=Jm;var Qm=class{constructor(){this.tx=new W6.btc.Transaction,this.state=Eze.ProtocolState.getEmptyState(),this.tx.addOutput(new W6.btc.Transaction.Output({satoshis:0,script:this.state.stateScript}))}updateState(){this.tx.outputs[0]=new W6.btc.Transaction.Output({satoshis:0,script:this.state.stateScript})}static create(){return new Qm}fromCatTx(e,r){return this.tx.from(e.getUTXO(r)),this.tx.inputs.length-1}addContractOutput(e,r=330){this.tx.addOutput(new W6.btc.Transaction.Output({satoshis:r,script:e}));let n=this.tx.outputs.length-1;return this.state.updateDataList(n-1,(0,oce.toByteString)("")),this.updateState(),this.tx.outputs.length-1}addStateContractOutput(e,r,n=330){this.tx.addOutput(new W6.btc.Transaction.Output({satoshis:n,script:e}));let i=this.tx.outputs.length-1;return this.state.updateDataList(i-1,r),this.updateState(),i}getUTXO(e){return{txId:this.tx.id,outputIndex:e,script:this.tx.outputs[e].script,satoshis:this.tx.outputs[e].satoshis}}sign(e){this.tx.sign(e)}getInputCtx(e,r){return(0,Aze.getTxCtx)(this.tx,e,r)}getPreState(){return{statesHashRoot:this.state.hashRoot,txoStateHashes:this.state.stateHashList}}};Td.CatTx=Qm;function Tze(t){let e=w5.Tap.encodeScript(t),[r,n]=w5.Tap.getPubKey(TE,{target:e});return{p2tr:new W6.btc.Script(`OP_1 32 0x${r}}`).toHex(),tapScript:e,cblock:n}}Td.script2P2TR=Tze});var uce=j(Bb=>{"use strict";B();M();Object.defineProperty(Bb,"__esModule",{value:!0});Bb.getNftGuardContractInfo=Bb.getGuardContractInfo=void 0;var Ize=Id(),Pze=Id(),Oze=Id(),Bze=Id(),ace=aF(),Mze=function(){let t=new Ize.BurnGuard,e=new Pze.TransferGuard,r={burn:t,transfer:e};return new ace.TaprootMastSmartContract(r)};Bb.getGuardContractInfo=Mze;var kze=function(){let t=new Oze.NftBurnGuard,e=new Bze.NftTransferGuard,r={burn:t,transfer:e};return new ace.TaprootMastSmartContract(r)};Bb.getNftGuardContractInfo=kze});var Id=j(yr=>{"use strict";B();M();var Cze=yr&&yr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),en=yr&&yr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Cze(e,t,r)},of=yr&&yr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yr,"__esModule",{value:!0});var Rze=gk(),Nze=wk(),Fze=Ak(),Hze=Tk(),Dze=Pk(),Lze=Mk(),Uze=of(Ute()),qze=of(qte()),jze=of(jte()),Kze=of(Kte()),$ze=of($te()),zze=of(zte()),Vze=Nk(),Gze=Lk(),Wze=Kk(),Yze=zk(),Xze=Gk(),Zze=Xk(),Jze=of(rre()),Qze=of(nre()),eVe=of(ire()),tVe=of(sre()),rVe=of(ore()),nVe=of(are());Nze.ClosedMinter.loadArtifact(Uze.default),Fze.OpenMinter.loadArtifact(qze.default),Lze.OpenMinterV2.loadArtifact(jze.default),Hze.CAT20.loadArtifact(Kze.default),Rze.BurnGuard.loadArtifact($ze.default),Dze.TransferGuard.loadArtifact(zze.default),Vze.NftClosedMinter.loadArtifact(Jze.default),Gze.NftParallelClosedMinter.loadArtifact(Qze.default),Wze.NftOpenMinter.loadArtifact(eVe.default),Yze.CAT721.loadArtifact(tVe.default),Zze.NftBurnGuard.loadArtifact(nVe.default),Xze.NftTransferGuard.loadArtifact(rVe.default);en(wk(),yr);en(Tk(),yr);en(gk(),yr);en(Pk(),yr);en(E9(),yr);en(vk(),yr);en(em(),yr);en(Ak(),yr);en(Mk(),yr);en(Ek(),yr);en(Bk(),yr);en(Nk(),yr);en(Lk(),yr);en(Kk(),yr);en(Ck(),yr);en(Hk(),yr);en(qk(),yr);en(jk(),yr);en(zk(),yr);en(O9(),yr);en(Xk(),yr);en(Gk(),yr);en(fm(),yr);en(ri(),yr);en(_9(),yr);en(mu(),yr);en(sd(),yr);en(gu(),yr);en(yR(),yr);en(Jg(),yr);en(kR(),yr);en(Roe(),yr);en(uce(),yr);en(nb(),yr);en(aF(),yr)});var cce=j(IE=>{"use strict";B();M();Object.defineProperty(IE,"__esModule",{value:!0});IE.btc=void 0;var iVe=Id();Object.defineProperty(IE,"btc",{enumerable:!0,get:function(){return iVe.btc}})});var dce=j(fce=>{"use strict";B();M();Object.defineProperty(fce,"__esModule",{value:!0})});var Pd=j(af=>{"use strict";B();M();var sVe=af&&af.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Mb=af&&af.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&sVe(e,t,r)};Object.defineProperty(af,"__esModule",{value:!0});Mb(xz(),af);Mb(JI(),af);Mb(Az(),af);Mb(Iz(),af);Mb(cce(),af);Mb(dce(),af)});var lce=j((hce,PE)=>{B();M();(function(t){"use strict";var e=9e15,r=1e9,n="0123456789abcdef",i="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",s="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",o={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-e,maxE:e,crypto:!1},a,u,c,d,f=!0,m="[DecimalError] ",p=m+"Invalid argument: ",y=m+"Precision limit exceeded",w=m+"crypto unavailable",P="[object Decimal]",C=Math.floor,R=Math.pow,T=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,k=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,H=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,F=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,L=1e7,D=7,N=9007199254740991,g=i.length-1,h=s.length-1,l={toStringTag:P};l.absoluteValue=l.abs=function(){var U=new this.constructor(this);return U.s<0&&(U.s=1),S(U)},l.ceil=function(){return S(new this.constructor(this),this.e+1,2)},l.clampedTo=l.clamp=function(U,$){var V,W=this,X=W.constructor;if(U=new X(U),$=new X($),!U.s||!$.s)return new X(NaN);if(U.gt($))throw Error(p+$);return V=W.cmp(U),V<0?U:W.cmp($)>0?$:new X(W)},l.comparedTo=l.cmp=function(U){var $,V,W,X,Z=this,ue=Z.d,fe=(U=new Z.constructor(U)).d,ve=Z.s,de=U.s;if(!ue||!fe)return!ve||!de?NaN:ve!==de?ve:ue===fe?0:!ue^ve<0?1:-1;if(!ue[0]||!fe[0])return ue[0]?ve:fe[0]?-de:0;if(ve!==de)return ve;if(Z.e!==U.e)return Z.e>U.e^ve<0?1:-1;for(W=ue.length,X=fe.length,$=0,V=W<X?W:X;$<V;++$)if(ue[$]!==fe[$])return ue[$]>fe[$]^ve<0?1:-1;return W===X?0:W>X^ve<0?1:-1},l.cosine=l.cos=function(){var U,$,V=this,W=V.constructor;return V.d?V.d[0]?(U=W.precision,$=W.rounding,W.precision=U+Math.max(V.e,V.sd())+D,W.rounding=1,V=A(W,Ve(W,V)),W.precision=U,W.rounding=$,S(d==2||d==3?V.neg():V,U,$,!0)):new W(1):new W(NaN)},l.cubeRoot=l.cbrt=function(){var U,$,V,W,X,Z,ue,fe,ve,de,xe=this,Oe=xe.constructor;if(!xe.isFinite()||xe.isZero())return new Oe(xe);for(f=!1,Z=xe.s*R(xe.s*xe,1/3),!Z||Math.abs(Z)==1/0?(V=b(xe.d),U=xe.e,(Z=(U-V.length+1)%3)&&(V+=Z==1||Z==-2?"0":"00"),Z=R(V,1/3),U=C((U+1)/3)-(U%3==(U<0?-1:2)),Z==1/0?V="5e"+U:(V=Z.toExponential(),V=V.slice(0,V.indexOf("e")+1)+U),W=new Oe(V),W.s=xe.s):W=new Oe(Z.toString()),ue=(U=Oe.precision)+3;;)if(fe=W,ve=fe.times(fe).times(fe),de=ve.plus(xe),W=v(de.plus(xe).times(fe),de.plus(ve),ue+2,1),b(fe.d).slice(0,ue)===(V=b(W.d)).slice(0,ue))if(V=V.slice(ue-3,ue+1),V=="9999"||!X&&V=="4999"){if(!X&&(S(fe,U+1,0),fe.times(fe).times(fe).eq(xe))){W=fe;break}ue+=4,X=1}else{(!+V||!+V.slice(1)&&V.charAt(0)=="5")&&(S(W,U+1,1),$=!W.times(W).times(W).eq(xe));break}return f=!0,S(W,U,Oe.rounding,$)},l.decimalPlaces=l.dp=function(){var U,$=this.d,V=NaN;if($){if(U=$.length-1,V=(U-C(this.e/D))*D,U=$[U],U)for(;U%10==0;U/=10)V--;V<0&&(V=0)}return V},l.dividedBy=l.div=function(U){return v(this,new this.constructor(U))},l.dividedToIntegerBy=l.divToInt=function(U){var $=this,V=$.constructor;return S(v($,new V(U),0,1,1),V.precision,V.rounding)},l.equals=l.eq=function(U){return this.cmp(U)===0},l.floor=function(){return S(new this.constructor(this),this.e+1,3)},l.greaterThan=l.gt=function(U){return this.cmp(U)>0},l.greaterThanOrEqualTo=l.gte=function(U){var $=this.cmp(U);return $==1||$===0},l.hyperbolicCosine=l.cosh=function(){var U,$,V,W,X,Z=this,ue=Z.constructor,fe=new ue(1);if(!Z.isFinite())return new ue(Z.s?1/0:NaN);if(Z.isZero())return fe;V=ue.precision,W=ue.rounding,ue.precision=V+Math.max(Z.e,Z.sd())+4,ue.rounding=1,X=Z.d.length,X<32?(U=Math.ceil(X/3),$=(1/qe(4,U)).toString()):(U=16,$="2.3283064365386962890625e-10"),Z=ze(ue,1,Z.times($),new ue(1),!0);for(var ve,de=U,xe=new ue(8);de--;)ve=Z.times(Z),Z=fe.minus(ve.times(xe.minus(ve.times(xe))));return S(Z,ue.precision=V,ue.rounding=W,!0)},l.hyperbolicSine=l.sinh=function(){var U,$,V,W,X=this,Z=X.constructor;if(!X.isFinite()||X.isZero())return new Z(X);if($=Z.precision,V=Z.rounding,Z.precision=$+Math.max(X.e,X.sd())+4,Z.rounding=1,W=X.d.length,W<3)X=ze(Z,2,X,X,!0);else{U=1.4*Math.sqrt(W),U=U>16?16:U|0,X=X.times(1/qe(5,U)),X=ze(Z,2,X,X,!0);for(var ue,fe=new Z(5),ve=new Z(16),de=new Z(20);U--;)ue=X.times(X),X=X.times(fe.plus(ue.times(ve.times(ue).plus(de))))}return Z.precision=$,Z.rounding=V,S(X,$,V,!0)},l.hyperbolicTangent=l.tanh=function(){var U,$,V=this,W=V.constructor;return V.isFinite()?V.isZero()?new W(V):(U=W.precision,$=W.rounding,W.precision=U+7,W.rounding=1,v(V.sinh(),V.cosh(),W.precision=U,W.rounding=$)):new W(V.s)},l.inverseCosine=l.acos=function(){var U,$=this,V=$.constructor,W=$.abs().cmp(1),X=V.precision,Z=V.rounding;return W!==-1?W===0?$.isNeg()?ne(V,X,Z):new V(0):new V(NaN):$.isZero()?ne(V,X+4,Z).times(.5):(V.precision=X+6,V.rounding=1,$=$.asin(),U=ne(V,X+4,Z).times(.5),V.precision=X,V.rounding=Z,U.minus($))},l.inverseHyperbolicCosine=l.acosh=function(){var U,$,V=this,W=V.constructor;return V.lte(1)?new W(V.eq(1)?0:NaN):V.isFinite()?(U=W.precision,$=W.rounding,W.precision=U+Math.max(Math.abs(V.e),V.sd())+4,W.rounding=1,f=!1,V=V.times(V).minus(1).sqrt().plus(V),f=!0,W.precision=U,W.rounding=$,V.ln()):new W(V)},l.inverseHyperbolicSine=l.asinh=function(){var U,$,V=this,W=V.constructor;return!V.isFinite()||V.isZero()?new W(V):(U=W.precision,$=W.rounding,W.precision=U+2*Math.max(Math.abs(V.e),V.sd())+6,W.rounding=1,f=!1,V=V.times(V).plus(1).sqrt().plus(V),f=!0,W.precision=U,W.rounding=$,V.ln())},l.inverseHyperbolicTangent=l.atanh=function(){var U,$,V,W,X=this,Z=X.constructor;return X.isFinite()?X.e>=0?new Z(X.abs().eq(1)?X.s/0:X.isZero()?X:NaN):(U=Z.precision,$=Z.rounding,W=X.sd(),Math.max(W,U)<2*-X.e-1?S(new Z(X),U,$,!0):(Z.precision=V=W-X.e,X=v(X.plus(1),new Z(1).minus(X),V+U,1),Z.precision=U+4,Z.rounding=1,X=X.ln(),Z.precision=U,Z.rounding=$,X.times(.5))):new Z(NaN)},l.inverseSine=l.asin=function(){var U,$,V,W,X=this,Z=X.constructor;return X.isZero()?new Z(X):($=X.abs().cmp(1),V=Z.precision,W=Z.rounding,$!==-1?$===0?(U=ne(Z,V+4,W).times(.5),U.s=X.s,U):new Z(NaN):(Z.precision=V+6,Z.rounding=1,X=X.div(new Z(1).minus(X.times(X)).sqrt().plus(1)).atan(),Z.precision=V,Z.rounding=W,X.times(2)))},l.inverseTangent=l.atan=function(){var U,$,V,W,X,Z,ue,fe,ve,de=this,xe=de.constructor,Oe=xe.precision,Ne=xe.rounding;if(de.isFinite()){if(de.isZero())return new xe(de);if(de.abs().eq(1)&&Oe+4<=h)return ue=ne(xe,Oe+4,Ne).times(.25),ue.s=de.s,ue}else{if(!de.s)return new xe(NaN);if(Oe+4<=h)return ue=ne(xe,Oe+4,Ne).times(.5),ue.s=de.s,ue}for(xe.precision=fe=Oe+10,xe.rounding=1,V=Math.min(28,fe/D+2|0),U=V;U;--U)de=de.div(de.times(de).plus(1).sqrt().plus(1));for(f=!1,$=Math.ceil(fe/D),W=1,ve=de.times(de),ue=new xe(de),X=de;U!==-1;)if(X=X.times(ve),Z=ue.minus(X.div(W+=2)),X=X.times(ve),ue=Z.plus(X.div(W+=2)),ue.d[$]!==void 0)for(U=$;ue.d[U]===Z.d[U]&&U--;);return V&&(ue=ue.times(2<<V-1)),f=!0,S(ue,xe.precision=Oe,xe.rounding=Ne,!0)},l.isFinite=function(){return!!this.d},l.isInteger=l.isInt=function(){return!!this.d&&C(this.e/D)>this.d.length-2},l.isNaN=function(){return!this.s},l.isNegative=l.isNeg=function(){return this.s<0},l.isPositive=l.isPos=function(){return this.s>0},l.isZero=function(){return!!this.d&&this.d[0]===0},l.lessThan=l.lt=function(U){return this.cmp(U)<0},l.lessThanOrEqualTo=l.lte=function(U){return this.cmp(U)<1},l.logarithm=l.log=function(U){var $,V,W,X,Z,ue,fe,ve,de=this,xe=de.constructor,Oe=xe.precision,Ne=xe.rounding,nt=5;if(U==null)U=new xe(10),$=!0;else{if(U=new xe(U),V=U.d,U.s<0||!V||!V[0]||U.eq(1))return new xe(NaN);$=U.eq(10)}if(V=de.d,de.s<0||!V||!V[0]||de.eq(1))return new xe(V&&!V[0]?-1/0:de.s!=1?NaN:V?0:1/0);if($)if(V.length>1)Z=!0;else{for(X=V[0];X%10===0;)X/=10;Z=X!==1}if(f=!1,fe=Oe+nt,ue=be(de,fe),W=$?J(xe,fe+10):be(U,fe),ve=v(ue,W,fe,1),x(ve.d,X=Oe,Ne))do if(fe+=10,ue=be(de,fe),W=$?J(xe,fe+10):be(U,fe),ve=v(ue,W,fe,1),!Z){+b(ve.d).slice(X+1,X+15)+1==1e14&&(ve=S(ve,Oe+1,0));break}while(x(ve.d,X+=10,Ne));return f=!0,S(ve,Oe,Ne)},l.minus=l.sub=function(U){var $,V,W,X,Z,ue,fe,ve,de,xe,Oe,Ne,nt=this,Jt=nt.constructor;if(U=new Jt(U),!nt.d||!U.d)return!nt.s||!U.s?U=new Jt(NaN):nt.d?U.s=-U.s:U=new Jt(U.d||nt.s!==U.s?nt:NaN),U;if(nt.s!=U.s)return U.s=-U.s,nt.plus(U);if(de=nt.d,Ne=U.d,fe=Jt.precision,ve=Jt.rounding,!de[0]||!Ne[0]){if(Ne[0])U.s=-U.s;else if(de[0])U=new Jt(nt);else return new Jt(ve===3?-0:0);return f?S(U,fe,ve):U}if(V=C(U.e/D),xe=C(nt.e/D),de=de.slice(),Z=xe-V,Z){for(Oe=Z<0,Oe?($=de,Z=-Z,ue=Ne.length):($=Ne,V=xe,ue=de.length),W=Math.max(Math.ceil(fe/D),ue)+2,Z>W&&(Z=W,$.length=1),$.reverse(),W=Z;W--;)$.push(0);$.reverse()}else{for(W=de.length,ue=Ne.length,Oe=W<ue,Oe&&(ue=W),W=0;W<ue;W++)if(de[W]!=Ne[W]){Oe=de[W]<Ne[W];break}Z=0}for(Oe&&($=de,de=Ne,Ne=$,U.s=-U.s),ue=de.length,W=Ne.length-ue;W>0;--W)de[ue++]=0;for(W=Ne.length;W>Z;){if(de[--W]<Ne[W]){for(X=W;X&&de[--X]===0;)de[X]=L-1;--de[X],de[W]+=L}de[W]-=Ne[W]}for(;de[--ue]===0;)de.pop();for(;de[0]===0;de.shift())--V;return de[0]?(U.d=de,U.e=q(de,V),f?S(U,fe,ve):U):new Jt(ve===3?-0:0)},l.modulo=l.mod=function(U){var $,V=this,W=V.constructor;return U=new W(U),!V.d||!U.s||U.d&&!U.d[0]?new W(NaN):!U.d||V.d&&!V.d[0]?S(new W(V),W.precision,W.rounding):(f=!1,W.modulo==9?($=v(V,U.abs(),0,3,1),$.s*=U.s):$=v(V,U,0,W.modulo,1),$=$.times(U),f=!0,V.minus($))},l.naturalExponential=l.exp=function(){return ae(this)},l.naturalLogarithm=l.ln=function(){return be(this)},l.negated=l.neg=function(){var U=new this.constructor(this);return U.s=-U.s,S(U)},l.plus=l.add=function(U){var $,V,W,X,Z,ue,fe,ve,de,xe,Oe=this,Ne=Oe.constructor;if(U=new Ne(U),!Oe.d||!U.d)return!Oe.s||!U.s?U=new Ne(NaN):Oe.d||(U=new Ne(U.d||Oe.s===U.s?Oe:NaN)),U;if(Oe.s!=U.s)return U.s=-U.s,Oe.minus(U);if(de=Oe.d,xe=U.d,fe=Ne.precision,ve=Ne.rounding,!de[0]||!xe[0])return xe[0]||(U=new Ne(Oe)),f?S(U,fe,ve):U;if(Z=C(Oe.e/D),W=C(U.e/D),de=de.slice(),X=Z-W,X){for(X<0?(V=de,X=-X,ue=xe.length):(V=xe,W=Z,ue=de.length),Z=Math.ceil(fe/D),ue=Z>ue?Z+1:ue+1,X>ue&&(X=ue,V.length=1),V.reverse();X--;)V.push(0);V.reverse()}for(ue=de.length,X=xe.length,ue-X<0&&(X=ue,V=xe,xe=de,de=V),$=0;X;)$=(de[--X]=de[X]+xe[X]+$)/L|0,de[X]%=L;for($&&(de.unshift($),++W),ue=de.length;de[--ue]==0;)de.pop();return U.d=de,U.e=q(de,W),f?S(U,fe,ve):U},l.precision=l.sd=function(U){var $,V=this;if(U!==void 0&&U!==!!U&&U!==1&&U!==0)throw Error(p+U);return V.d?($=oe(V.d),U&&V.e+1>$&&($=V.e+1)):$=NaN,$},l.round=function(){var U=this,$=U.constructor;return S(new $(U),U.e+1,$.rounding)},l.sine=l.sin=function(){var U,$,V=this,W=V.constructor;return V.isFinite()?V.isZero()?new W(V):(U=W.precision,$=W.rounding,W.precision=U+Math.max(V.e,V.sd())+D,W.rounding=1,V=He(W,Ve(W,V)),W.precision=U,W.rounding=$,S(d>2?V.neg():V,U,$,!0)):new W(NaN)},l.squareRoot=l.sqrt=function(){var U,$,V,W,X,Z,ue=this,fe=ue.d,ve=ue.e,de=ue.s,xe=ue.constructor;if(de!==1||!fe||!fe[0])return new xe(!de||de<0&&(!fe||fe[0])?NaN:fe?ue:1/0);for(f=!1,de=Math.sqrt(+ue),de==0||de==1/0?($=b(fe),($.length+ve)%2==0&&($+="0"),de=Math.sqrt($),ve=C((ve+1)/2)-(ve<0||ve%2),de==1/0?$="5e"+ve:($=de.toExponential(),$=$.slice(0,$.indexOf("e")+1)+ve),W=new xe($)):W=new xe(de.toString()),V=(ve=xe.precision)+3;;)if(Z=W,W=Z.plus(v(ue,Z,V+2,1)).times(.5),b(Z.d).slice(0,V)===($=b(W.d)).slice(0,V))if($=$.slice(V-3,V+1),$=="9999"||!X&&$=="4999"){if(!X&&(S(Z,ve+1,0),Z.times(Z).eq(ue))){W=Z;break}V+=4,X=1}else{(!+$||!+$.slice(1)&&$.charAt(0)=="5")&&(S(W,ve+1,1),U=!W.times(W).eq(ue));break}return f=!0,S(W,ve,xe.rounding,U)},l.tangent=l.tan=function(){var U,$,V=this,W=V.constructor;return V.isFinite()?V.isZero()?new W(V):(U=W.precision,$=W.rounding,W.precision=U+10,W.rounding=1,V=V.sin(),V.s=1,V=v(V,new W(1).minus(V.times(V)).sqrt(),U+10,0),W.precision=U,W.rounding=$,S(d==2||d==4?V.neg():V,U,$,!0)):new W(NaN)},l.times=l.mul=function(U){var $,V,W,X,Z,ue,fe,ve,de,xe=this,Oe=xe.constructor,Ne=xe.d,nt=(U=new Oe(U)).d;if(U.s*=xe.s,!Ne||!Ne[0]||!nt||!nt[0])return new Oe(!U.s||Ne&&!Ne[0]&&!nt||nt&&!nt[0]&&!Ne?NaN:!Ne||!nt?U.s/0:U.s*0);for(V=C(xe.e/D)+C(U.e/D),ve=Ne.length,de=nt.length,ve<de&&(Z=Ne,Ne=nt,nt=Z,ue=ve,ve=de,de=ue),Z=[],ue=ve+de,W=ue;W--;)Z.push(0);for(W=de;--W>=0;){for($=0,X=ve+W;X>W;)fe=Z[X]+nt[W]*Ne[X-W-1]+$,Z[X--]=fe%L|0,$=fe/L|0;Z[X]=(Z[X]+$)%L|0}for(;!Z[--ue];)Z.pop();return $?++V:Z.shift(),U.d=Z,U.e=q(Z,V),f?S(U,Oe.precision,Oe.rounding):U},l.toBinary=function(U,$){return Xe(this,2,U,$)},l.toDecimalPlaces=l.toDP=function(U,$){var V=this,W=V.constructor;return V=new W(V),U===void 0?V:(_(U,0,r),$===void 0?$=W.rounding:_($,0,8),S(V,U+V.e+1,$))},l.toExponential=function(U,$){var V,W=this,X=W.constructor;return U===void 0?V=O(W,!0):(_(U,0,r),$===void 0?$=X.rounding:_($,0,8),W=S(new X(W),U+1,$),V=O(W,!0,U+1)),W.isNeg()&&!W.isZero()?"-"+V:V},l.toFixed=function(U,$){var V,W,X=this,Z=X.constructor;return U===void 0?V=O(X):(_(U,0,r),$===void 0?$=Z.rounding:_($,0,8),W=S(new Z(X),U+X.e+1,$),V=O(W,!1,U+W.e+1)),X.isNeg()&&!X.isZero()?"-"+V:V},l.toFraction=function(U){var $,V,W,X,Z,ue,fe,ve,de,xe,Oe,Ne,nt=this,Jt=nt.d,Rt=nt.constructor;if(!Jt)return new Rt(nt);if(de=V=new Rt(1),W=ve=new Rt(0),$=new Rt(W),Z=$.e=oe(Jt)-nt.e-1,ue=Z%D,$.d[0]=R(10,ue<0?D+ue:ue),U==null)U=Z>0?$:de;else{if(fe=new Rt(U),!fe.isInt()||fe.lt(de))throw Error(p+fe);U=fe.gt($)?Z>0?$:de:fe}for(f=!1,fe=new Rt(b(Jt)),xe=Rt.precision,Rt.precision=Z=Jt.length*D*2;Oe=v(fe,$,0,1,1),X=V.plus(Oe.times(W)),X.cmp(U)!=1;)V=W,W=X,X=de,de=ve.plus(Oe.times(X)),ve=X,X=$,$=fe.minus(Oe.times(X)),fe=X;return X=v(U.minus(V),W,0,1,1),ve=ve.plus(X.times(de)),V=V.plus(X.times(W)),ve.s=de.s=nt.s,Ne=v(de,W,Z,1).minus(nt).abs().cmp(v(ve,V,Z,1).minus(nt).abs())<1?[de,W]:[ve,V],Rt.precision=xe,f=!0,Ne},l.toHexadecimal=l.toHex=function(U,$){return Xe(this,16,U,$)},l.toNearest=function(U,$){var V=this,W=V.constructor;if(V=new W(V),U==null){if(!V.d)return V;U=new W(1),$=W.rounding}else{if(U=new W(U),$===void 0?$=W.rounding:_($,0,8),!V.d)return U.s?V:U;if(!U.d)return U.s&&(U.s=V.s),U}return U.d[0]?(f=!1,V=v(V,U,0,$,1).times(U),f=!0,S(V)):(U.s=V.s,V=U),V},l.toNumber=function(){return+this},l.toOctal=function(U,$){return Xe(this,8,U,$)},l.toPower=l.pow=function(U){var $,V,W,X,Z,ue,fe=this,ve=fe.constructor,de=+(U=new ve(U));if(!fe.d||!U.d||!fe.d[0]||!U.d[0])return new ve(R(+fe,de));if(fe=new ve(fe),fe.eq(1))return fe;if(W=ve.precision,Z=ve.rounding,U.eq(1))return S(fe,W,Z);if($=C(U.e/D),$>=U.d.length-1&&(V=de<0?-de:de)<=N)return X=pe(ve,fe,V,W),U.s<0?new ve(1).div(X):S(X,W,Z);if(ue=fe.s,ue<0){if($<U.d.length-1)return new ve(NaN);if((U.d[$]&1)==0&&(ue=1),fe.e==0&&fe.d[0]==1&&fe.d.length==1)return fe.s=ue,fe}return V=R(+fe,de),$=V==0||!isFinite(V)?C(de*(Math.log("0."+b(fe.d))/Math.LN10+fe.e+1)):new ve(V+"").e,$>ve.maxE+1||$<ve.minE-1?new ve($>0?ue/0:0):(f=!1,ve.rounding=fe.s=1,V=Math.min(12,($+"").length),X=ae(U.times(be(fe,W+V)),W),X.d&&(X=S(X,W+5,1),x(X.d,W,Z)&&($=W+10,X=S(ae(U.times(be(fe,$+V)),$),$+5,1),+b(X.d).slice(W+1,W+15)+1==1e14&&(X=S(X,W+1,0)))),X.s=ue,f=!0,ve.rounding=Z,S(X,W,Z))},l.toPrecision=function(U,$){var V,W=this,X=W.constructor;return U===void 0?V=O(W,W.e<=X.toExpNeg||W.e>=X.toExpPos):(_(U,1,r),$===void 0?$=X.rounding:_($,0,8),W=S(new X(W),U,$),V=O(W,U<=W.e||W.e<=X.toExpNeg,U)),W.isNeg()&&!W.isZero()?"-"+V:V},l.toSignificantDigits=l.toSD=function(U,$){var V=this,W=V.constructor;return U===void 0?(U=W.precision,$=W.rounding):(_(U,1,r),$===void 0?$=W.rounding:_($,0,8)),S(new W(V),U,$)},l.toString=function(){var U=this,$=U.constructor,V=O(U,U.e<=$.toExpNeg||U.e>=$.toExpPos);return U.isNeg()&&!U.isZero()?"-"+V:V},l.truncated=l.trunc=function(){return S(new this.constructor(this),this.e+1,1)},l.valueOf=l.toJSON=function(){var U=this,$=U.constructor,V=O(U,U.e<=$.toExpNeg||U.e>=$.toExpPos);return U.isNeg()?"-"+V:V};function b(U){var $,V,W,X=U.length-1,Z="",ue=U[0];if(X>0){for(Z+=ue,$=1;$<X;$++)W=U[$]+"",V=D-W.length,V&&(Z+=le(V)),Z+=W;ue=U[$],W=ue+"",V=D-W.length,V&&(Z+=le(V))}else if(ue===0)return"0";for(;ue%10===0;)ue/=10;return Z+ue}function _(U,$,V){if(U!==~~U||U<$||U>V)throw Error(p+U)}function x(U,$,V,W){var X,Z,ue,fe;for(Z=U[0];Z>=10;Z/=10)--$;return--$<0?($+=D,X=0):(X=Math.ceil(($+1)/D),$%=D),Z=R(10,D-$),fe=U[X]%Z|0,W==null?$<3?($==0?fe=fe/100|0:$==1&&(fe=fe/10|0),ue=V<4&&fe==99999||V>3&&fe==49999||fe==5e4||fe==0):ue=(V<4&&fe+1==Z||V>3&&fe+1==Z/2)&&(U[X+1]/Z/100|0)==R(10,$-2)-1||(fe==Z/2||fe==0)&&(U[X+1]/Z/100|0)==0:$<4?($==0?fe=fe/1e3|0:$==1?fe=fe/100|0:$==2&&(fe=fe/10|0),ue=(W||V<4)&&fe==9999||!W&&V>3&&fe==4999):ue=((W||V<4)&&fe+1==Z||!W&&V>3&&fe+1==Z/2)&&(U[X+1]/Z/1e3|0)==R(10,$-3)-1,ue}function I(U,$,V){for(var W,X=[0],Z,ue=0,fe=U.length;ue<fe;){for(Z=X.length;Z--;)X[Z]*=$;for(X[0]+=n.indexOf(U.charAt(ue++)),W=0;W<X.length;W++)X[W]>V-1&&(X[W+1]===void 0&&(X[W+1]=0),X[W+1]+=X[W]/V|0,X[W]%=V)}return X.reverse()}function A(U,$){var V,W,X;if($.isZero())return $;W=$.d.length,W<32?(V=Math.ceil(W/3),X=(1/qe(4,V)).toString()):(V=16,X="2.3283064365386962890625e-10"),U.precision+=V,$=ze(U,1,$.times(X),new U(1));for(var Z=V;Z--;){var ue=$.times($);$=ue.times(ue).minus(ue).times(8).plus(1)}return U.precision-=V,$}var v=function(){function U(W,X,Z){var ue,fe=0,ve=W.length;for(W=W.slice();ve--;)ue=W[ve]*X+fe,W[ve]=ue%Z|0,fe=ue/Z|0;return fe&&W.unshift(fe),W}function $(W,X,Z,ue){var fe,ve;if(Z!=ue)ve=Z>ue?1:-1;else for(fe=ve=0;fe<Z;fe++)if(W[fe]!=X[fe]){ve=W[fe]>X[fe]?1:-1;break}return ve}function V(W,X,Z,ue){for(var fe=0;Z--;)W[Z]-=fe,fe=W[Z]<X[Z]?1:0,W[Z]=fe*ue+W[Z]-X[Z];for(;!W[0]&&W.length>1;)W.shift()}return function(W,X,Z,ue,fe,ve){var de,xe,Oe,Ne,nt,Jt,Rt,yn,Nr,As,vn,$o,o8,kd,FE,a8,kb,HE,cf,u8,c8=W.constructor,DE=W.s==X.s?1:-1,zo=W.d,Mn=X.d;if(!zo||!zo[0]||!Mn||!Mn[0])return new c8(!W.s||!X.s||(zo?Mn&&zo[0]==Mn[0]:!Mn)?NaN:zo&&zo[0]==0||!Mn?DE*0:DE/0);for(ve?(nt=1,xe=W.e-X.e):(ve=L,nt=D,xe=C(W.e/nt)-C(X.e/nt)),cf=Mn.length,kb=zo.length,Nr=new c8(DE),As=Nr.d=[],Oe=0;Mn[Oe]==(zo[Oe]||0);Oe++);if(Mn[Oe]>(zo[Oe]||0)&&xe--,Z==null?(kd=Z=c8.precision,ue=c8.rounding):fe?kd=Z+(W.e-X.e)+1:kd=Z,kd<0)As.push(1),Jt=!0;else{if(kd=kd/nt+2|0,Oe=0,cf==1){for(Ne=0,Mn=Mn[0],kd++;(Oe<kb||Ne)&&kd--;Oe++)FE=Ne*ve+(zo[Oe]||0),As[Oe]=FE/Mn|0,Ne=FE%Mn|0;Jt=Ne||Oe<kb}else{for(Ne=ve/(Mn[0]+1)|0,Ne>1&&(Mn=U(Mn,Ne,ve),zo=U(zo,Ne,ve),cf=Mn.length,kb=zo.length),a8=cf,vn=zo.slice(0,cf),$o=vn.length;$o<cf;)vn[$o++]=0;u8=Mn.slice(),u8.unshift(0),HE=Mn[0],Mn[1]>=ve/2&&++HE;do Ne=0,de=$(Mn,vn,cf,$o),de<0?(o8=vn[0],cf!=$o&&(o8=o8*ve+(vn[1]||0)),Ne=o8/HE|0,Ne>1?(Ne>=ve&&(Ne=ve-1),Rt=U(Mn,Ne,ve),yn=Rt.length,$o=vn.length,de=$(Rt,vn,yn,$o),de==1&&(Ne--,V(Rt,cf<yn?u8:Mn,yn,ve))):(Ne==0&&(de=Ne=1),Rt=Mn.slice()),yn=Rt.length,yn<$o&&Rt.unshift(0),V(vn,Rt,$o,ve),de==-1&&($o=vn.length,de=$(Mn,vn,cf,$o),de<1&&(Ne++,V(vn,cf<$o?u8:Mn,$o,ve))),$o=vn.length):de===0&&(Ne++,vn=[0]),As[Oe++]=Ne,de&&vn[0]?vn[$o++]=zo[a8]||0:(vn=[zo[a8]],$o=1);while((a8++<kb||vn[0]!==void 0)&&kd--);Jt=vn[0]!==void 0}As[0]||As.shift()}if(nt==1)Nr.e=xe,u=Jt;else{for(Oe=1,Ne=As[0];Ne>=10;Ne/=10)Oe++;Nr.e=Oe+xe*nt-1,S(Nr,fe?Z+Nr.e+1:Z,ue,Jt)}return Nr}}();function S(U,$,V,W){var X,Z,ue,fe,ve,de,xe,Oe,Ne,nt=U.constructor;e:if($!=null){if(Oe=U.d,!Oe)return U;for(X=1,fe=Oe[0];fe>=10;fe/=10)X++;if(Z=$-X,Z<0)Z+=D,ue=$,xe=Oe[Ne=0],ve=xe/R(10,X-ue-1)%10|0;else if(Ne=Math.ceil((Z+1)/D),fe=Oe.length,Ne>=fe)if(W){for(;fe++<=Ne;)Oe.push(0);xe=ve=0,X=1,Z%=D,ue=Z-D+1}else break e;else{for(xe=fe=Oe[Ne],X=1;fe>=10;fe/=10)X++;Z%=D,ue=Z-D+X,ve=ue<0?0:xe/R(10,X-ue-1)%10|0}if(W=W||$<0||Oe[Ne+1]!==void 0||(ue<0?xe:xe%R(10,X-ue-1)),de=V<4?(ve||W)&&(V==0||V==(U.s<0?3:2)):ve>5||ve==5&&(V==4||W||V==6&&(Z>0?ue>0?xe/R(10,X-ue):0:Oe[Ne-1])%10&1||V==(U.s<0?8:7)),$<1||!Oe[0])return Oe.length=0,de?($-=U.e+1,Oe[0]=R(10,(D-$%D)%D),U.e=-$||0):Oe[0]=U.e=0,U;if(Z==0?(Oe.length=Ne,fe=1,Ne--):(Oe.length=Ne+1,fe=R(10,D-Z),Oe[Ne]=ue>0?(xe/R(10,X-ue)%R(10,ue)|0)*fe:0),de)for(;;)if(Ne==0){for(Z=1,ue=Oe[0];ue>=10;ue/=10)Z++;for(ue=Oe[0]+=fe,fe=1;ue>=10;ue/=10)fe++;Z!=fe&&(U.e++,Oe[0]==L&&(Oe[0]=1));break}else{if(Oe[Ne]+=fe,Oe[Ne]!=L)break;Oe[Ne--]=0,fe=1}for(Z=Oe.length;Oe[--Z]===0;)Oe.pop()}return f&&(U.e>nt.maxE?(U.d=null,U.e=NaN):U.e<nt.minE&&(U.e=0,U.d=[0])),U}function O(U,$,V){if(!U.isFinite())return ye(U);var W,X=U.e,Z=b(U.d),ue=Z.length;return $?(V&&(W=V-ue)>0?Z=Z.charAt(0)+"."+Z.slice(1)+le(W):ue>1&&(Z=Z.charAt(0)+"."+Z.slice(1)),Z=Z+(U.e<0?"e":"e+")+U.e):X<0?(Z="0."+le(-X-1)+Z,V&&(W=V-ue)>0&&(Z+=le(W))):X>=ue?(Z+=le(X+1-ue),V&&(W=V-X-1)>0&&(Z=Z+"."+le(W))):((W=X+1)<ue&&(Z=Z.slice(0,W)+"."+Z.slice(W)),V&&(W=V-ue)>0&&(X+1===ue&&(Z+="."),Z+=le(W))),Z}function q(U,$){var V=U[0];for($*=D;V>=10;V/=10)$++;return $}function J(U,$,V){if($>g)throw f=!0,V&&(U.precision=V),Error(y);return S(new U(i),$,1,!0)}function ne(U,$,V){if($>h)throw Error(y);return S(new U(s),$,V,!0)}function oe(U){var $=U.length-1,V=$*D+1;if($=U[$],$){for(;$%10==0;$/=10)V--;for($=U[0];$>=10;$/=10)V++}return V}function le(U){for(var $="";U--;)$+="0";return $}function pe(U,$,V,W){var X,Z=new U(1),ue=Math.ceil(W/D+4);for(f=!1;;){if(V%2&&(Z=Z.times($),je(Z.d,ue)&&(X=!0)),V=C(V/2),V===0){V=Z.d.length-1,X&&Z.d[V]===0&&++Z.d[V];break}$=$.times($),je($.d,ue)}return f=!0,Z}function G(U){return U.d[U.d.length-1]&1}function te(U,$,V){for(var W,X=new U($[0]),Z=0;++Z<$.length;)if(W=new U($[Z]),W.s)X[V](W)&&(X=W);else{X=W;break}return X}function ae(U,$){var V,W,X,Z,ue,fe,ve,de=0,xe=0,Oe=0,Ne=U.constructor,nt=Ne.rounding,Jt=Ne.precision;if(!U.d||!U.d[0]||U.e>17)return new Ne(U.d?U.d[0]?U.s<0?0:1/0:1:U.s?U.s<0?0:U:0/0);for($==null?(f=!1,ve=Jt):ve=$,fe=new Ne(.03125);U.e>-2;)U=U.times(fe),Oe+=5;for(W=Math.log(R(2,Oe))/Math.LN10*2+5|0,ve+=W,V=Z=ue=new Ne(1),Ne.precision=ve;;){if(Z=S(Z.times(U),ve,1),V=V.times(++xe),fe=ue.plus(v(Z,V,ve,1)),b(fe.d).slice(0,ve)===b(ue.d).slice(0,ve)){for(X=Oe;X--;)ue=S(ue.times(ue),ve,1);if($==null)if(de<3&&x(ue.d,ve-W,nt,de))Ne.precision=ve+=10,V=Z=fe=new Ne(1),xe=0,de++;else return S(ue,Ne.precision=Jt,nt,f=!0);else return Ne.precision=Jt,ue}ue=fe}}function be(U,$){var V,W,X,Z,ue,fe,ve,de,xe,Oe,Ne,nt=1,Jt=10,Rt=U,yn=Rt.d,Nr=Rt.constructor,As=Nr.rounding,vn=Nr.precision;if(Rt.s<0||!yn||!yn[0]||!Rt.e&&yn[0]==1&&yn.length==1)return new Nr(yn&&!yn[0]?-1/0:Rt.s!=1?NaN:yn?0:Rt);if($==null?(f=!1,xe=vn):xe=$,Nr.precision=xe+=Jt,V=b(yn),W=V.charAt(0),Math.abs(Z=Rt.e)<15e14){for(;W<7&&W!=1||W==1&&V.charAt(1)>3;)Rt=Rt.times(U),V=b(Rt.d),W=V.charAt(0),nt++;Z=Rt.e,W>1?(Rt=new Nr("0."+V),Z++):Rt=new Nr(W+"."+V.slice(1))}else return de=J(Nr,xe+2,vn).times(Z+""),Rt=be(new Nr(W+"."+V.slice(1)),xe-Jt).plus(de),Nr.precision=vn,$==null?S(Rt,vn,As,f=!0):Rt;for(Oe=Rt,ve=ue=Rt=v(Rt.minus(1),Rt.plus(1),xe,1),Ne=S(Rt.times(Rt),xe,1),X=3;;){if(ue=S(ue.times(Ne),xe,1),de=ve.plus(v(ue,new Nr(X),xe,1)),b(de.d).slice(0,xe)===b(ve.d).slice(0,xe))if(ve=ve.times(2),Z!==0&&(ve=ve.plus(J(Nr,xe+2,vn).times(Z+""))),ve=v(ve,new Nr(nt),xe,1),$==null)if(x(ve.d,xe-Jt,As,fe))Nr.precision=xe+=Jt,de=ue=Rt=v(Oe.minus(1),Oe.plus(1),xe,1),Ne=S(Rt.times(Rt),xe,1),X=fe=1;else return S(ve,Nr.precision=vn,As,f=!0);else return Nr.precision=vn,ve;ve=de,X+=2}}function ye(U){return String(U.s*U.s/0)}function _e(U,$){var V,W,X;for((V=$.indexOf("."))>-1&&($=$.replace(".","")),(W=$.search(/e/i))>0?(V<0&&(V=W),V+=+$.slice(W+1),$=$.substring(0,W)):V<0&&(V=$.length),W=0;$.charCodeAt(W)===48;W++);for(X=$.length;$.charCodeAt(X-1)===48;--X);if($=$.slice(W,X),$){if(X-=W,U.e=V=V-W-1,U.d=[],W=(V+1)%D,V<0&&(W+=D),W<X){for(W&&U.d.push(+$.slice(0,W)),X-=D;W<X;)U.d.push(+$.slice(W,W+=D));$=$.slice(W),W=D-$.length}else W-=X;for(;W--;)$+="0";U.d.push(+$),f&&(U.e>U.constructor.maxE?(U.d=null,U.e=NaN):U.e<U.constructor.minE&&(U.e=0,U.d=[0]))}else U.e=0,U.d=[0];return U}function ke(U,$){var V,W,X,Z,ue,fe,ve,de,xe;if($.indexOf("_")>-1){if($=$.replace(/(\d)_(?=\d)/g,"$1"),F.test($))return _e(U,$)}else if($==="Infinity"||$==="NaN")return+$||(U.s=NaN),U.e=NaN,U.d=null,U;if(k.test($))V=16,$=$.toLowerCase();else if(T.test($))V=2;else if(H.test($))V=8;else throw Error(p+$);for(Z=$.search(/p/i),Z>0?(ve=+$.slice(Z+1),$=$.substring(2,Z)):$=$.slice(2),Z=$.indexOf("."),ue=Z>=0,W=U.constructor,ue&&($=$.replace(".",""),fe=$.length,Z=fe-Z,X=pe(W,new W(V),Z,Z*2)),de=I($,V,L),xe=de.length-1,Z=xe;de[Z]===0;--Z)de.pop();return Z<0?new W(U.s*0):(U.e=q(de,xe),U.d=de,f=!1,ue&&(U=v(U,X,fe*4)),ve&&(U=U.times(Math.abs(ve)<54?R(2,ve):a.pow(2,ve))),f=!0,U)}function He(U,$){var V,W=$.d.length;if(W<3)return $.isZero()?$:ze(U,2,$,$);V=1.4*Math.sqrt(W),V=V>16?16:V|0,$=$.times(1/qe(5,V)),$=ze(U,2,$,$);for(var X,Z=new U(5),ue=new U(16),fe=new U(20);V--;)X=$.times($),$=$.times(Z.plus(X.times(ue.times(X).minus(fe))));return $}function ze(U,$,V,W,X){var Z,ue,fe,ve,de=1,xe=U.precision,Oe=Math.ceil(xe/D);for(f=!1,ve=V.times(V),fe=new U(W);;){if(ue=v(fe.times(ve),new U($++*$++),xe,1),fe=X?W.plus(ue):W.minus(ue),W=v(ue.times(ve),new U($++*$++),xe,1),ue=fe.plus(W),ue.d[Oe]!==void 0){for(Z=Oe;ue.d[Z]===fe.d[Z]&&Z--;);if(Z==-1)break}Z=fe,fe=W,W=ue,ue=Z,de++}return f=!0,ue.d.length=Oe+1,ue}function qe(U,$){for(var V=U;--$;)V*=U;return V}function Ve(U,$){var V,W=$.s<0,X=ne(U,U.precision,1),Z=X.times(.5);if($=$.abs(),$.lte(Z))return d=W?4:1,$;if(V=$.divToInt(X),V.isZero())d=W?3:2;else{if($=$.minus(V.times(X)),$.lte(Z))return d=G(V)?W?2:3:W?4:1,$;d=G(V)?W?1:4:W?3:2}return $.minus(X).abs()}function Xe(U,$,V,W){var X,Z,ue,fe,ve,de,xe,Oe,Ne,nt=U.constructor,Jt=V!==void 0;if(Jt?(_(V,1,r),W===void 0?W=nt.rounding:_(W,0,8)):(V=nt.precision,W=nt.rounding),!U.isFinite())xe=ye(U);else{for(xe=O(U),ue=xe.indexOf("."),Jt?(X=2,$==16?V=V*4-3:$==8&&(V=V*3-2)):X=$,ue>=0&&(xe=xe.replace(".",""),Ne=new nt(1),Ne.e=xe.length-ue,Ne.d=I(O(Ne),10,X),Ne.e=Ne.d.length),Oe=I(xe,10,X),Z=ve=Oe.length;Oe[--ve]==0;)Oe.pop();if(!Oe[0])xe=Jt?"0p+0":"0";else{if(ue<0?Z--:(U=new nt(U),U.d=Oe,U.e=Z,U=v(U,Ne,V,W,0,X),Oe=U.d,Z=U.e,de=u),ue=Oe[V],fe=X/2,de=de||Oe[V+1]!==void 0,de=W<4?(ue!==void 0||de)&&(W===0||W===(U.s<0?3:2)):ue>fe||ue===fe&&(W===4||de||W===6&&Oe[V-1]&1||W===(U.s<0?8:7)),Oe.length=V,de)for(;++Oe[--V]>X-1;)Oe[V]=0,V||(++Z,Oe.unshift(1));for(ve=Oe.length;!Oe[ve-1];--ve);for(ue=0,xe="";ue<ve;ue++)xe+=n.charAt(Oe[ue]);if(Jt){if(ve>1)if($==16||$==8){for(ue=$==16?4:3,--ve;ve%ue;ve++)xe+="0";for(Oe=I(xe,X,$),ve=Oe.length;!Oe[ve-1];--ve);for(ue=1,xe="1.";ue<ve;ue++)xe+=n.charAt(Oe[ue])}else xe=xe.charAt(0)+"."+xe.slice(1);xe=xe+(Z<0?"p":"p+")+Z}else if(Z<0){for(;++Z;)xe="0"+xe;xe="0."+xe}else if(++Z>ve)for(Z-=ve;Z--;)xe+="0";else Z<ve&&(xe=xe.slice(0,Z)+"."+xe.slice(Z))}xe=($==16?"0x":$==2?"0b":$==8?"0o":"")+xe}return U.s<0?"-"+xe:xe}function je(U,$){if(U.length>$)return U.length=$,!0}function Me(U){return new this(U).abs()}function it(U){return new this(U).acos()}function z(U){return new this(U).acosh()}function Q(U,$){return new this(U).plus($)}function Y(U){return new this(U).asin()}function ee(U){return new this(U).asinh()}function ie(U){return new this(U).atan()}function se(U){return new this(U).atanh()}function ce(U,$){U=new this(U),$=new this($);var V,W=this.precision,X=this.rounding,Z=W+4;return!U.s||!$.s?V=new this(NaN):!U.d&&!$.d?(V=ne(this,Z,1).times($.s>0?.25:.75),V.s=U.s):!$.d||U.isZero()?(V=$.s<0?ne(this,W,X):new this(0),V.s=U.s):!U.d||$.isZero()?(V=ne(this,Z,1).times(.5),V.s=U.s):$.s<0?(this.precision=Z,this.rounding=1,V=this.atan(v(U,$,Z,1)),$=ne(this,Z,1),this.precision=W,this.rounding=X,V=U.s<0?V.minus($):V.plus($)):V=this.atan(v(U,$,Z,1)),V}function me(U){return new this(U).cbrt()}function he(U){return S(U=new this(U),U.e+1,2)}function Ee(U,$,V){return new this(U).clamp($,V)}function Te(U){if(!U||typeof U!="object")throw Error(m+"Object expected");var $,V,W,X=U.defaults===!0,Z=["precision",1,r,"rounding",0,8,"toExpNeg",-e,0,"toExpPos",0,e,"maxE",0,e,"minE",-e,0,"modulo",0,9];for($=0;$<Z.length;$+=3)if(V=Z[$],X&&(this[V]=o[V]),(W=U[V])!==void 0)if(C(W)===W&&W>=Z[$+1]&&W<=Z[$+2])this[V]=W;else throw Error(p+V+": "+W);if(V="crypto",X&&(this[V]=o[V]),(W=U[V])!==void 0)if(W===!0||W===!1||W===0||W===1)if(W)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[V]=!0;else throw Error(w);else this[V]=!1;else throw Error(p+V+": "+W);return this}function Fe(U){return new this(U).cos()}function Ce(U){return new this(U).cosh()}function Ge(U){var $,V,W;function X(Z){var ue,fe,ve,de=this;if(!(de instanceof X))return new X(Z);if(de.constructor=X,at(Z)){de.s=Z.s,f?!Z.d||Z.e>X.maxE?(de.e=NaN,de.d=null):Z.e<X.minE?(de.e=0,de.d=[0]):(de.e=Z.e,de.d=Z.d.slice()):(de.e=Z.e,de.d=Z.d?Z.d.slice():Z.d);return}if(ve=typeof Z,ve==="number"){if(Z===0){de.s=1/Z<0?-1:1,de.e=0,de.d=[0];return}if(Z<0?(Z=-Z,de.s=-1):de.s=1,Z===~~Z&&Z<1e7){for(ue=0,fe=Z;fe>=10;fe/=10)ue++;f?ue>X.maxE?(de.e=NaN,de.d=null):ue<X.minE?(de.e=0,de.d=[0]):(de.e=ue,de.d=[Z]):(de.e=ue,de.d=[Z]);return}else if(Z*0!==0){Z||(de.s=NaN),de.e=NaN,de.d=null;return}return _e(de,Z.toString())}else if(ve!=="string")throw Error(p+Z);return(fe=Z.charCodeAt(0))===45?(Z=Z.slice(1),de.s=-1):(fe===43&&(Z=Z.slice(1)),de.s=1),F.test(Z)?_e(de,Z):ke(de,Z)}if(X.prototype=l,X.ROUND_UP=0,X.ROUND_DOWN=1,X.ROUND_CEIL=2,X.ROUND_FLOOR=3,X.ROUND_HALF_UP=4,X.ROUND_HALF_DOWN=5,X.ROUND_HALF_EVEN=6,X.ROUND_HALF_CEIL=7,X.ROUND_HALF_FLOOR=8,X.EUCLID=9,X.config=X.set=Te,X.clone=Ge,X.isDecimal=at,X.abs=Me,X.acos=it,X.acosh=z,X.add=Q,X.asin=Y,X.asinh=ee,X.atan=ie,X.atanh=se,X.atan2=ce,X.cbrt=me,X.ceil=he,X.clamp=Ee,X.cos=Fe,X.cosh=Ce,X.div=ft,X.exp=tt,X.floor=rt,X.hypot=zt,X.ln=dt,X.log=Vt,X.log10=lt,X.log2=ht,X.max=Gt,X.min=pt,X.mod=bt,X.mul=Wt,X.pow=gt,X.random=mt,X.round=Yt,X.sign=yt,X.sin=vt,X.sinh=Xt,X.sqrt=_t,X.sub=St,X.sum=Zt,X.tan=wt,X.tanh=xt,X.trunc=jt,U===void 0&&(U={}),U&&U.defaults!==!0)for(W=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],$=0;$<W.length;)U.hasOwnProperty(V=W[$++])||(U[V]=this[V]);return X.config(U),X}function ft(U,$){return new this(U).div($)}function tt(U){return new this(U).exp()}function rt(U){return S(U=new this(U),U.e+1,3)}function zt(){var U,$,V=new this(0);for(f=!1,U=0;U<arguments.length;)if($=new this(arguments[U++]),$.d)V.d&&(V=V.plus($.times($)));else{if($.s)return f=!0,new this(1/0);V=$}return f=!0,V.sqrt()}function at(U){return U instanceof a||U&&U.toStringTag===P||!1}function dt(U){return new this(U).ln()}function Vt(U,$){return new this(U).log($)}function ht(U){return new this(U).log(2)}function lt(U){return new this(U).log(10)}function Gt(){return te(this,arguments,"lt")}function pt(){return te(this,arguments,"gt")}function bt(U,$){return new this(U).mod($)}function Wt(U,$){return new this(U).mul($)}function gt(U,$){return new this(U).pow($)}function mt(U){var $,V,W,X,Z=0,ue=new this(1),fe=[];if(U===void 0?U=this.precision:_(U,1,r),W=Math.ceil(U/D),this.crypto)if(crypto.getRandomValues)for($=crypto.getRandomValues(new Uint32Array(W));Z<W;)X=$[Z],X>=429e7?$[Z]=crypto.getRandomValues(new Uint32Array(1))[0]:fe[Z++]=X%1e7;else if(crypto.randomBytes){for($=crypto.randomBytes(W*=4);Z<W;)X=$[Z]+($[Z+1]<<8)+($[Z+2]<<16)+(($[Z+3]&127)<<24),X>=214e7?crypto.randomBytes(4).copy($,Z):(fe.push(X%1e7),Z+=4);Z=W/4}else throw Error(w);else for(;Z<W;)fe[Z++]=Math.random()*1e7|0;for(W=fe[--Z],U%=D,W&&U&&(X=R(10,D-U),fe[Z]=(W/X|0)*X);fe[Z]===0;Z--)fe.pop();if(Z<0)V=0,fe=[0];else{for(V=-1;fe[0]===0;V-=D)fe.shift();for(W=1,X=fe[0];X>=10;X/=10)W++;W<D&&(V-=D-W)}return ue.e=V,ue.d=fe,ue}function Yt(U){return S(U=new this(U),U.e+1,this.rounding)}function yt(U){return U=new this(U),U.d?U.d[0]?U.s:0*U.s:U.s||NaN}function vt(U){return new this(U).sin()}function Xt(U){return new this(U).sinh()}function _t(U){return new this(U).sqrt()}function St(U,$){return new this(U).sub($)}function Zt(){var U=0,$=arguments,V=new this($[U]);for(f=!1;V.s&&++U<$.length;)V=V.plus($[U]);return f=!0,S(V,this.precision,this.rounding)}function wt(U){return new this(U).tan()}function xt(U){return new this(U).tanh()}function jt(U){return S(U=new this(U),U.e+1,1)}a=Ge(o),a.prototype.constructor=a,a.default=a.Decimal=a,i=new a(i),s=new a(s),typeof define=="function"&&define.amd?define(function(){return a}):typeof PE<"u"&&PE.exports?(typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(l[Symbol.for("nodejs.util.inspect.custom")]=l.toString,l[Symbol.toStringTag]="Decimal"),PE.exports=a):(t||(t=typeof self<"u"&&self&&self.self==self?self:window),c=t.Decimal,a.noConflict=function(){return t.Decimal=c,a},t.Decimal=a)})(hce)});var e8=j(Pt=>{"use strict";B();M();var oVe=Pt&&Pt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.getFee=Pt.getDummySignature=Pt.getDummyEcKey=Pt.verifyContract=Pt.toTokenAddress=Pt.resetTx=Pt.unScaleByDecimals=Pt.scaleByDecimals=Pt.toP2tr=Pt.p2tr2Address=Pt.toBitcoinNetwork=Pt.toStateScript=Pt.callToBufferList=Pt.getDummyUTXO=Pt.dummyUTXO=Pt.getDummySigner=Pt.outpoint2ByteString=Pt.outpoint2TxOutpoint=Pt.toTxOutpoint=Pt.getTokenContractP2TR=Pt.getTokenContract=Pt.getGuardsP2TR=Pt.GuardType=Pt.script2P2TR=Pt.contract2P2TR=Pt.strToByteString=Pt.byteStringToBuffer=Pt.toXOnly=void 0;var uF=Id(),vo=Pd(),Y6=jr(),x5=oF(),pce=Cd(),aVe=oVe(lce()),uVe=fF(),OE="0250929b74c1a04954b78b4b6035e97a5e078a5a0f28ec96d547bfee9ace803ac0";function cVe(t){return t.subarray(1,33)}Pt.toXOnly=cVe;var fVe=function(t){let e=[];for(let r of t)e.push(E.Buffer.from(r,"hex"));return e};Pt.byteStringToBuffer=fVe;function dVe(t){return(0,Y6.toByteString)(E.Buffer.from(t,"utf-8").toString("hex"))}Pt.strToByteString=dVe;function bce(t){let e=t.lockingScript.toBuffer();return{...gce(e),script:e.toString("hex"),contract:t}}Pt.contract2P2TR=bce;function gce(t){let e=x5.Tap.encodeScript(t),[r,n]=x5.Tap.getPubKey(OE,{target:e});return{p2tr:new vo.btc.Script(`OP_1 32 0x${r}}`).toHex(),tapScript:e,cblock:n}}Pt.script2P2TR=gce;var cF;(function(t){t[t.Transfer=0]="Transfer",t[t.Burn=1]="Burn"})(cF=Pt.GuardType||(Pt.GuardType={}));function mce(t=cF.Transfer){let e=new uF.BurnGuard,r=new uF.TransferGuard,n=x5.Tap.encodeScript(e.lockingScript.toBuffer()),i=x5.Tap.encodeScript(r.lockingScript.toBuffer()),s=[n,i],[o]=x5.Tap.getPubKey(OE,{tree:s}),[,a]=x5.Tap.getPubKey(OE,{target:n,tree:s}),[,u]=x5.Tap.getPubKey(OE,{target:i,tree:s}),c=new vo.btc.Script(`OP_1 32 0x${o}}`).toHex();return t===cF.Transfer?{p2tr:c,tapScript:i,cblock:u,script:r.lockingScript.toBuffer().toString("hex"),contract:r}:{p2tr:c,tapScript:n,cblock:a,script:e.lockingScript.toBuffer().toString("hex"),contract:e}}Pt.getGuardsP2TR=mce;function yce(t,e){return new uF.CAT20(t,(0,Y6.toByteString)(e))}Pt.getTokenContract=yce;function hVe(t){let{p2tr:e}=mce();return bce(yce(t,e))}Pt.getTokenContractP2TR=hVe;function vce(t,e){let r=E.Buffer.alloc(4,0);return r.writeUInt32LE(e),{txhash:E.Buffer.from(t,"hex").reverse().toString("hex"),outputIndex:r.toString("hex")}}Pt.toTxOutpoint=vce;function _ce(t){let[e,r]=t.split("_");return vce(e,parseInt(r))}Pt.outpoint2TxOutpoint=_ce;var lVe=function(t){let e=_ce(t);return e.txhash+e.outputIndex};Pt.outpoint2ByteString=lVe;function pVe(t){return new Y6.TestWallet(Y6.bsv.PrivateKey.fromWIF("cRn63kHoi3EWnYeT4e8Fz6rmGbZuWkDtDG5qHnEZbmE5mGvENhrv"),new Y6.DummyProvider)}Pt.getDummySigner=pVe;Pt.dummyUTXO={txId:(0,pce.randomBytes)(32).toString("hex"),outputIndex:0,script:"",satoshis:1e4};function bVe(t=1e4,e=!1){return e?Object.assign({},Pt.dummyUTXO,{satoshis:t,txId:(0,pce.randomBytes)(32).toString("hex")}):Object.assign({},Pt.dummyUTXO,{satoshis:t})}Pt.getDummyUTXO=bVe;var gVe=function(t){return t.tx.inputs[t.atInputIndex].script.chunks.map(r=>{if(!r.buf)if(r.opcodenum>=81&&r.opcodenum<=96){let n=(0,Y6.int2ByteString)(BigInt(r.opcodenum-80));return E.Buffer.from(n,"hex")}else return E.Buffer.from((0,Y6.toByteString)(""));return r.buf})};Pt.callToBufferList=gVe;var mVe=function(t){return new vo.btc.Script(`6a1863617401${t.hashRoot}`)};Pt.toStateScript=mVe;function Sce(t){return t==="btc-signet"?vo.btc.Networks.testnet:vo.btc.Networks.mainnet}Pt.toBitcoinNetwork=Sce;function yVe(t,e){let r=typeof t=="string"?vo.btc.Script.fromHex(t):t;return vo.btc.Address.fromScript(r,Sce(e)).toString()}Pt.p2tr2Address=yVe;function vVe(t){if((typeof t=="string"?vo.btc.Address.fromString(t):t).type!=="taproot")throw new Error(`address ${t} is not taproot`);return vo.btc.Script.fromAddress(t).toHex()}Pt.toP2tr=vVe;function _Ve(t,e){return t*BigInt(Math.pow(10,e))}Pt.scaleByDecimals=_Ve;function SVe(t,e){return new aVe.default(t.toString().replace("n","")).div(Math.pow(10,e)).toFixed(e)}Pt.unScaleByDecimals=SVe;function wVe(t){for(let e=0;e<t.inputs.length;e++){let r=t.inputs[e];r.hasWitnesses()&&r.setWitnesses([])}t.nLockTime=0}Pt.resetTx=wVe;function xVe(t){if(typeof t=="string"&&(t=vo.btc.Address.fromString(t)),t.type===vo.btc.Address.PayToTaproot)return(0,Y6.hash160)(t.hashBuffer.toString("hex"));if(t.type===vo.btc.Address.PayToWitnessPublicKeyHash)return t.hashBuffer.toString("hex");throw new Error(`Unsupported address type: ${t.type}`)}Pt.toTokenAddress=xVe;function EVe(t,e,r,n){let i=new vo.btc.Script.Interpreter,s=vo.btc.Script.Interpreter.SCRIPT_VERIFY_WITNESS|vo.btc.Script.Interpreter.SCRIPT_VERIFY_TAPROOT;return i.verify(new vo.btc.Script(""),new vo.btc.Script(t.script),e,r,s,n,t.satoshis)?!0:i.errstr}Pt.verifyContract=EVe;function AVe(){return new uVe.EcKeyService({privateKey:"L4EpxBBbTqztn8Q9W73Cf7e36ttHhDWRSzr4sHazjUcCrucwEJLy"})}Pt.getDummyEcKey=AVe;function TVe(){return vo.btc.crypto.Signature.fromString("E907831F80848D1069A5371B402410364BDF1C5F8307B0084C55F1CE2DCA821525F66A4A85EA8B71E482A74F382D2CE5EBEEE8FDB2172F477DF4900D310536C0").toString("hex")}Pt.getDummySignature=TVe;function IVe(t){return t.inputs.reduce((e,r)=>e+r.output.satoshis,0)-t.outputs.reduce((e,r)=>e+r.satoshis,0)}Pt.getFee=IVe});var fF=j(BE=>{"use strict";B();M();Object.defineProperty(BE,"__esModule",{value:!0});BE.EcKeyService=void 0;var E5=Pd(),Vh=Pd(),wce=jr(),PVe=e8(),dF=class{constructor(e){if(this.addressType=e.addressType||Vh.CatAddressType.P2TR,!e.privateKey&&!e.publicKey)throw new Error("Either privateKey or publicKey must be provided");this.privateKey=e.privateKey?E5.btc.PrivateKey.fromWIF(e.privateKey):void 0,this.publicKey=e.privateKey?this.privateKey.toPublicKey():E5.btc.PublicKey.fromString(e.publicKey)}hasPrivateKey(){return this.privateKey!==void 0}getWif(){return this.getPrivateKey().toWIF()}getPrivateKey(){return this.privateKey}getAddressType(){return this.addressType||Vh.CatAddressType.P2TR}getP2TRAddress(){return this.getPublicKey().toAddress(null,E5.btc.Address.PayToTaproot)}getAddress(){return this.getP2TRAddress()}getXOnlyPublicKey(){let e=this.getTokenPublicKey();return(0,PVe.toXOnly)(e.toBuffer()).toString("hex")}getTweakedPrivateKey(){let{tweakedPrivKey:e}=this.getPrivateKey().createTapTweak();return E5.btc.PrivateKey.fromBuffer(e)}getPublicKey(){return this.publicKey}getTokenPublicKey(){if(this.getAddressType()===Vh.CatAddressType.P2TR){let{tweakedPubKey:r}=this.publicKey.createTapTweak();return E5.btc.PublicKey.fromBuffer(r)}return this.publicKey}getPubKeyPrefix(){let e=this.getAddressType();return e===Vh.CatAddressType.P2TR?"":e===Vh.CatAddressType.P2WPKH?this.getTokenPublicKey().toString().slice(0,2):""}getTokenAddress(){let e=this.getAddressType();if(e===Vh.CatAddressType.P2TR){let r=this.getXOnlyPublicKey();return(0,wce.hash160)(r)}else if(e===Vh.CatAddressType.P2WPKH){let r=this.getTokenPublicKey();return(0,wce.hash160)(r.toString())}else throw new Error(`Unsupported address type: ${e}`)}getTaprootPrivateKey(){return this.getTweakedPrivateKey()}getTokenPrivateKey(){let e=this.getAddressType();if(e===Vh.CatAddressType.P2TR)return this.getTaprootPrivateKey();if(e===Vh.CatAddressType.P2WPKH)return this.getPrivateKey();throw new Error(`Unsupported address type: ${e}`)}signTx(e){if(!this.hasPrivateKey())throw new Error("No private key provided");let r=this.getPrivateKey(),n=E5.btc.crypto.Hash.sha256ripemd160(r.publicKey.toBuffer());for(let i=0;i<e.inputs.length;i++){let s=e.inputs[i];if(s.output.script.isWitnessPublicKeyHashOut()){let o=s.getSignatures(e,r,i,void 0,n,void 0,void 0);if(o.length===0)throw new Error("Could not sign input");e.applySignature(o[0])}else if(s.output.script.isTaproot()&&!s.hasWitnesses()){let o=s.getSignatures(e,r,i,E5.btc.crypto.Signature.SIGHASH_ALL,n,void 0,void 0);if(o.length===0)throw new Error("Could not sign input");e.applySignature(o[0])}}}};BE.EcKeyService=dF});var xce=j(Od=>{"use strict";B();M();Object.defineProperty(Od,"__esModule",{value:!0});Od.scaleConfig=Od.tokenUtxoParse=Od.feeUtxoParse=Od.tokenInfoParse=void 0;var OVe=Pd(),BVe=Id(),A5=e8();function MVe(t,e){let r=JSON.parse(t),n=JSON.parse(JSON.stringify(r.info));if(n.max&&(n.max=BigInt(n.max),n.premine=BigInt(n.premine),n.limit=BigInt(n.limit)),r.info=n,!r.tokenAddr){let i=(0,A5.toP2tr)(r.minterAddr);r.tokenAddr=(0,A5.p2tr2Address)((0,A5.getTokenContractP2TR)(i).p2tr,e)}return r}Od.tokenInfoParse=MVe;function kVe(t,e){return e.map(r=>{let n=OVe.btc.Script.fromAddress(t.getAddress()).toHex();return{txId:r.txId,outputIndex:r.vOut,script:n,satoshis:r.amount}})}Od.feeUtxoParse=kVe;function CVe(t){let e=JSON.parse(t);return Array.isArray(e)||(e=[e]),e.map(r=>{let n=BVe.ProtocolState.fromStateHashList(r.txoStateHashes);typeof r.utxo.satoshis=="string"&&(r.utxo.satoshis=parseInt(r.utxo.satoshis));let i=r.state.address;try{i=(0,A5.toTokenAddress)(r.state.address)}catch{}return{utxo:r.utxo,state:{protocolState:n,data:{ownerAddr:i,amount:BigInt(r.state.amount)}}}})}Od.tokenUtxoParse=CVe;function RVe(t){let e=Object.assign({},t);return e.max=(0,A5.scaleByDecimals)(t.max,t.decimals),e.premine=(0,A5.scaleByDecimals)(t.premine,t.decimals),e.limit=(0,A5.scaleByDecimals)(t.limit,t.decimals),e}Od.scaleConfig=RVe});var Tce=j(ME=>{"use strict";B();M();Object.defineProperty(ME,"__esModule",{value:!0});ME.validatePrevTx=void 0;var Ece=Pd(),Ace=e8();function NVe(t,e,r,n){let i=0,s=new Ece.btc.Transaction(e);if(!s.inputs.find((c,d)=>{let f=c.getWitnesses();if(Array.isArray(f)&&f.length>2){let m=f[f.length-2],{p2tr:p}=(0,Ace.script2P2TR)(m),y=(0,Ace.p2tr2Address)(p,n);if(y===t.tokenAddr||y===t.minterAddr)return i=d,!0}}))return null;let a=s.inputs[i].prevTxId.toString("hex"),u=new Ece.btc.Transaction(r);return u.id!=a?null:{prevTx:s,prevPrevTx:u,prevTokenInputIndex:i}}ME.validatePrevTx=NVe});var Ice=j(kE=>{"use strict";B();M();Object.defineProperty(kE,"__esModule",{value:!0});kE.pickLargeFeeUtxo=void 0;function FVe(t){let e=t[0];for(let r of t)r.satoshis>e.satoshis&&(e=r);return e}kE.pickLargeFeeUtxo=FVe});var r8=j(e0=>{"use strict";B();M();var HVe=e0&&e0.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),t8=e0&&e0.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&HVe(e,t,r)};Object.defineProperty(e0,"__esModule",{value:!0});t8(fF(),e0);t8(xce(),e0);t8(Tce(),e0);t8(e8(),e0);t8(Ice(),e0)});var hF=j(Z6=>{"use strict";B();M();Object.defineProperty(Z6,"__esModule",{value:!0});Z6.unlockGuard=Z6.unlockToken=Z6.createGuardContract=void 0;var DVe=r8(),T5=Pd(),uf=r8(),X6=Id(),n8=jr();function LVe(t,e,r,n,i,s){let{p2tr:o,tapScript:a}=(0,uf.getGuardsP2TR)(),u=X6.ProtocolState.getEmptyState(),c=X6.GuardProto.createEmptyState();c.tokenScript=i;for(let m=0;m<n.length;m++)c.inputTokenAmountArray[m]=n[m].state.data.amount;u.updateDataList(0,X6.GuardProto.toByteString(c));let d=new T5.btc.Transaction().from(e).addOutput(new T5.btc.Transaction.Output({satoshis:0,script:(0,uf.toStateScript)(u)})).addOutput(new T5.btc.Transaction.Output({satoshis:T5.Postage.GUARD_POSTAGE,script:o})).feePerByte(r).change(s);if(d.getChangeOutput()===null)throw new Error("Insufficient satoshis balance!");d.outputs[2].satoshis-=1,t.hasPrivateKey()&&t.signTx(d);let f={utxo:{txId:d.id,outputIndex:1,script:d.outputs[1].script.toHex(),satoshis:d.outputs[1].satoshis},state:{protocolState:u,data:c}};return{commitTx:d,contact:f,guardTapScript:a}}Z6.createGuardContract=LVe;async function UVe(t,e,r,n,i,s,o,a,u,c,d,f,m,p){let{cblock:y,contract:w}=(0,uf.getTokenContractP2TR)(u),{shPreimage:P,prevoutsCtx:C,spentScripts:R,sighash:T}=c,k={isUserSpend:!1,userPubKeyPrefix:(0,n8.toByteString)(""),userPubKey:(0,n8.PubKey)(t.getXOnlyPublicKey()),userSig:(0,DVe.getDummySignature)(),contractInputIndex:BigInt(p||0)};if(!m){let h;t.hasPrivateKey()?h=T5.btc.crypto.Schnorr.sign(t.getTokenPrivateKey(),T.hash):h=T5.btc.crypto.Signature.fromString(f);let l=t.getXOnlyPublicKey();k={isUserSpend:!0,userPubKeyPrefix:t.getPubKeyPrefix(),userPubKey:(0,n8.PubKey)(l),userSig:h.toString("hex"),contractInputIndex:0n}}let H=(0,X6.getBackTraceInfo)(n,s,i),{state:{protocolState:F,data:L}}=e;await w.connect((0,uf.getDummySigner)());let D={statesHashRoot:F.hashRoot,txoStateHashes:F.stateHashList},N=await w.methods.unlock(k,L,D,o,H,P,C,R,{fromUTXO:(0,uf.getDummyUTXO)(),verify:!1,exec:!1}),g=[...(0,uf.callToBufferList)(N),w.lockingScript.toBuffer(),E.Buffer.from(y,"hex")];if(a.inputs[r].witnesses=g,d){let h=(0,uf.verifyContract)(e.utxo,a,r,g);if(typeof h=="string")throw new Error(`unlocking token contract at input ${r} failed! ${h}`);return!0}return!0}Z6.unlockToken=UVe;async function qVe(t,e,r,n,i,s,o,a,u,c){let{shPreimage:d,prevoutsCtx:f,spentScripts:m}=u,p=(0,X6.emptyTokenArray)(),y=(0,X6.emptyTokenAmountArray)(),w=(0,n8.fill)(!1,X6.MAX_TOKEN_OUTPUT);p[0]=s.ownerAddr,y[0]=s.amount,w[0]=!0,o&&(p[1]=o.ownerAddr,y[1]=o.amount,w[1]=!0);let P=o===null?1:2,{cblock:C,contract:R}=(0,uf.getGuardsP2TR)();await R.connect((0,uf.getDummySigner)());let T=(0,X6.emptyTokenArray)();a!=null&&(T[P]=a.satoshis,p[P]=a.script,w[P]=!1);let k=await R.methods.transfer(n.stateHashList,p,y,w,T,(0,n8.int2ByteString)(BigInt(T5.Postage.TOKEN_POSTAGE),8n),t.state.data,e.tx,d,f,m,{fromUTXO:(0,uf.getDummyUTXO)(),verify:!1,exec:!1}),H=[...(0,uf.callToBufferList)(k),R.lockingScript.toBuffer(),E.Buffer.from(C,"hex")];if(i.inputs[r].witnesses=H,c){let F=(0,uf.verifyContract)(t.utxo,i,r,H);if(typeof F=="string")throw new Error(`unlocking guard contract failed! ${F}`);return!0}return!0}Z6.unlockGuard=qVe});var lF=j(CE=>{"use strict";B();M();Object.defineProperty(CE,"__esModule",{value:!0});CE.mergeFee=void 0;var jVe=Pd();function KVe(t,e,r){let n=t.getAddress(),i=new jVe.btc.Transaction().from(e).feePerByte(r).change(n);if(i.getChangeOutput()===null)throw new Error("Insufficient satoshis balance!");let s=i.outputs[0];s.satoshis-=1,t.hasPrivateKey()&&t.signTx(i);let o={address:n,txId:i.id,outputIndex:0,script:s.script,satoshis:s.satoshis};return{mergeTx:i,feeUtxo:o}}CE.mergeFee=KVe});var Oce=j(Bd=>{"use strict";B();M();Object.defineProperty(Bd,"__esModule",{value:!0});Bd.calcVsizeTransfer=Bd.transfer=Bd.estimateFee=void 0;var qa=Pd(),pF=jr(),Ko=r8(),Gh=Id(),i8=hF(),$Ve=lF();async function zVe(t){return t.data.estimateFee=!0,await Pce(t)}Bd.estimateFee=zVe;async function Pce(t){let e=t.data,r=e.estimateFee?(0,Ko.getDummyEcKey)():new Ko.EcKeyService({privateKey:t.privateKey}),n=(0,Ko.tokenInfoParse)(e.tokenMetadata,qa.SupportedNetwork.fractalMainnet),i=(0,Ko.toP2tr)(n.minterAddr),{p2tr:s,tapScript:o}=(0,Ko.getTokenContractP2TR)(i),a=e.verifyScript||!1,u,c;try{u=qa.btc.Address.fromString(e.toAddress)}catch{throw new Error(`Invalid receiver address: ${e.toAddress}`)}if(u.type!=="taproot")throw new Error(`Invalid address type: ${u.type}`);try{c=BigInt(e.tokenAmount)}catch{throw new Error(`Invalid token amount:  ${e.tokenAmount}`)}if(c<=0n)throw new Error("Invalid token amount");let d=(0,Ko.feeUtxoParse)(r,t.data.feeInputs),f=d[0],m;d.length>1&&({feeUtxo:f,mergeTx:m}=(0,$Ve.mergeFee)(r,d,e.feeRate));let p=(0,Ko.tokenUtxoParse)(e.tokens),y=(0,i8.createGuardContract)(r,f,e.feeRate,p,s,e.changeAddress);if(y===null)return null;let{commitTx:w,contact:P,guardTapScript:C}=y,R=Gh.ProtocolState.getEmptyState(),T=Gh.CAT20Proto.create(c,(0,Ko.toTokenAddress)(u));R.updateDataList(0,Gh.CAT20Proto.toByteString(T));let H=p.reduce((J,ne)=>J+ne.state.data.amount,0n)-c,F=null;if(H>0n){let J=r.getTokenAddress();F=Gh.CAT20Proto.create(H,J),R.updateDataList(1,Gh.CAT20Proto.toByteString(F))}let L={txId:w.id,outputIndex:2,script:w.outputs[2].script.toHex(),satoshis:w.outputs[2].satoshis},D=[...p.map(J=>J.utxo),P.utxo,L];if(D.length>Gh.MAX_INPUT)throw new Error("Too many inputs, max 4 token inputs");let N=new qa.btc.Transaction().from(D).addOutput(new qa.btc.Transaction.Output({satoshis:0,script:(0,Ko.toStateScript)(R)})).addOutput(new qa.btc.Transaction.Output({satoshis:qa.Postage.TOKEN_POSTAGE,script:s})).feePerByte(e.feeRate);F&&N.addOutput(new qa.btc.Transaction.Output({satoshis:qa.Postage.TOKEN_POSTAGE,script:s}));let g=qa.btc.Script.fromAddress(e.changeAddress);N.addOutput(new qa.btc.Transaction.Output({satoshis:0,script:g}));let h=[];if(e.tokenPrevTxs.length!==p.length)throw new Error("Invalid tokenPrevTxs length");for(let J=0;J<p.length;J++){let ne=e.tokenPrevTxs[J].prevTx,oe=e.tokenPrevTxs[J].prevPrevTx,le=(0,Ko.validatePrevTx)(n,ne,oe,qa.SupportedNetwork.fractalMainnet);if(le===null)throw new Error("prevTx does not match prevPrevTx");h.push(le)}let l=(0,Gh.getTxHeaderCheck)(w,P.utxo.outputIndex),b=p.length,_={outputIndex:(0,Ko.toTxOutpoint)(P.utxo.txId,P.utxo.outputIndex).outputIndex,inputIndexVal:BigInt(b),tx:l.tx,guardState:P.state.data},{vsize:x}=await(0,Bd.calcVsizeTransfer)(p,P,N,_,h,o,C,R,T,F,g,i),I=F===null?2:3,A=N.inputAmount-x*e.feeRate-qa.Postage.TOKEN_POSTAGE-(F===null?0:qa.Postage.TOKEN_POSTAGE),v=x*e.feeRate;if(A<=qa.CHANGE_MIN_POSTAGE){A=0,N.removeOutput(I);let{vsize:J,fee:ne}=await(0,Bd.calcVsizeTransfer)(p,P,N,_,h,o,C,R,T,F,g,i);x=J,v=ne}else N.outputs[I].satoshis=A;if(e.estimateFee)return m?{mergeTx:(0,Ko.getFee)(m),commitTx:(0,Ko.getFee)(w),revealTx:v}:{commitTx:(0,Ko.getFee)(w),revealTx:v};let S=null;A>BigInt(0)&&(S={script:(0,pF.toByteString)(g.toHex()),satoshis:(0,pF.int2ByteString)(BigInt(A),BigInt(8))});let O=(0,Gh.getTxCtxMulti)(N,p.map((J,ne)=>ne).concat([p.length]),[...new Array(p.length).fill(E.Buffer.from(o,"hex")),E.Buffer.from(C,"hex")]);for(let J=0;J<p.length;J++)if(!await(0,i8.unlockToken)(r,p[J],J,h[J].prevTx,h[J].prevTokenInputIndex,h[J].prevPrevTx,_,N,i,O[J],a))return null;return await(0,i8.unlockGuard)(P,_,b,R,N,T,F,S,O[b],a)?(r.signTx(N),m?{mergeTx:m.uncheckedSerialize(),commitTx:w.uncheckedSerialize(),revealTx:N.uncheckedSerialize()}:{commitTx:w.uncheckedSerialize(),revealTx:N.uncheckedSerialize()}):null}Bd.transfer=Pce;var VVe=async(t,e,r,n,i,s,o,a,u,c,d,f)=>{let m=(0,Ko.getDummyEcKey)(),p=qa.btc.Script.fromAddress(m.getAddress()),y=r.inputs.length-1,w=r.inputs[y].output.script;r.inputs[y].output.setScript(p);let P=(0,Gh.getTxCtxMulti)(r,t.map((H,F)=>F).concat([t.length]),[...new Array(t.length).fill(E.Buffer.from(s,"hex")),E.Buffer.from(o,"hex")]),C=t.length,R={script:d.toHex(),satoshis:(0,pF.int2ByteString)(0n,8n)};for(let H=0;H<t.length;H++)await(0,i8.unlockToken)(m,t[H],H,i[H].prevTx,i[H].prevTokenInputIndex,i[H].prevPrevTx,n,r,f,P[H],!1);await(0,i8.unlockGuard)(e,n,C,a,r,u,c,R,P[C],!1),m.signTx(r);let T=r.vsize,k=(0,Ko.getFee)(r);return(0,Ko.resetTx)(r),r.inputs[y].output.setScript(w),{vsize:T,fee:k}};Bd.calcVsizeTransfer=VVe});var Bce=j(Wh=>{"use strict";B();M();var GVe=Wh&&Wh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),bF=Wh&&Wh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&GVe(e,t,r)};Object.defineProperty(Wh,"__esModule",{value:!0});bF(hF(),Wh);bF(lF(),Wh);bF(Oce(),Wh)});var mF=j(Yh=>{"use strict";B();M();var WVe=Yh&&Yh.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gF=Yh&&Yh.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&WVe(e,t,r)};Object.defineProperty(Yh,"__esModule",{value:!0});gF(Pd(),Yh);gF(Bce(),Yh);gF(r8(),Yh)});var kce=j(RE=>{"use strict";B();M();Object.defineProperty(RE,"__esModule",{value:!0});RE.CatWallet=void 0;var YVe=Ef(),Mce=mF(),yF=class extends YVe.BtcWallet{async signTransaction(e){try{let r=await(0,Mce.transfer)(e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}}async estimateFee(e){try{e.data.estimateFee=!0;let r=await(0,Mce.transfer)(e);return Promise.resolve(r)}catch(r){return Promise.reject(r)}}};RE.CatWallet=yF});var _v=j(ma=>{"use strict";B();M();var XVe=ma&&ma.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Md=ma&&ma.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&XVe(e,t,r)};Object.defineProperty(ma,"__esModule",{value:!0});Md(Ef(),ma);Md(Y$(),ma);Md(X$(),ma);Md(Z$(),ma);Md(Q$(),ma);Md(ez(),ma);Md(oz(),ma);Md(_z(),ma);Md(wz(),ma);Md(kce(),ma)});var Rce=j(NE=>{"use strict";B();M();Object.defineProperty(NE,"__esModule",{value:!0});NE.oneKeyBuildBtcTx=void 0;var ZVe=Wa(),JVe=Ol(),vF=dn(),_F=_v(),SF=Iu(),QVe=Au(),eGe={legacy:"SPENDADDRESS",segwit_native:"SPENDWITNESS",segwit_nested:"SPENDP2SHWITNESS",segwit_taproot:"SPENDTAPROOT"},tGe={legacy:"PAYTOADDRESS",segwit_native:"PAYTOWITNESS",segwit_nested:"PAYTOP2SHWITNESS",segwit_taproot:"PAYTOTAPROOT"};function rGe(t,e=QVe.bitcoin){let r=(0,_F.convert2UtxoTx)(t);if(r.omni){let u=(0,_F.number2Hex)(r.omni.coinType||31,8),c=(0,_F.number2Hex)(r.omni.amount,16),d="6f6d6e6900000000"+u+c;r.outputs.push({address:"",amount:0,omniScript:d})}let n=parseInt((0,SF.signBtc)(r,"",e,void 0,!0,!0)),i=t.dustSize||546;n>=i&&r.outputs.push({address:r.address,amount:n,derivationPath:r.derivationPath,isChange:!0});let s=[],o=[];r.inputs.forEach(u=>{let c=Cce(u.derivationPath);s.push({address_n:c,prev_hash:u.txId,prev_index:u.vOut,amount:u.amount.toString(),script_type:eGe[(0,SF.getAddressType)(u.address,e)]}),o.push(nGe(u.nonWitnessUtxo,u.txId))});let a=[];return r.outputs.forEach(u=>{u.isChange?a.push({address_n:Cce(u.derivationPath),amount:u.amount.toString(),script_type:tGe[(0,SF.getAddressType)(u.address,e)]}):u.omniScript?a.push({amount:"0",op_return_data:u.omniScript,script_type:"PAYTOOPRETURN"}):a.push({address:u.address,amount:u.amount.toString(),script_type:"PAYTOADDRESS"})}),{inputs:s,outputs:a,refTxs:o,coin:"btc"}}NE.oneKeyBuildBtcTx=rGe;function nGe(t,e){let r=ZVe.Transaction.fromHex(t),n=[];r.ins.forEach(s=>{n.push({prev_hash:vF.base.toHex((0,JVe.reverseBuffer)(s.hash)),prev_index:s.index,script_sig:vF.base.toHex(s.script),sequence:s.sequence})});let i=[];return r.outs.forEach(s=>{i.push({amount:s.value,script_pubkey:vF.base.toHex(s.script)})}),{hash:e,inputs:n,bin_outputs:i,lock_time:r.locktime,version:r.version}}function Cce(t){let e=t.split("/");e[0]==="m"&&(e=e.slice(1));let r=[];return e.forEach(n=>{let i;n.slice(-1)==="'"?i=iGe(parseInt(n.slice(0,-1),10)):i=parseInt(n,10),r.push(i)}),r}function iGe(t){return 2147483648+t}});var Nce=j(s8=>{"use strict";B();M();Object.defineProperty(s8,"__esModule",{value:!0});s8.BtcXrcTypes=void 0;var sGe;(function(t){t[t.INSCRIBE=1]="INSCRIBE",t[t.PSBT=2]="PSBT",t[t.PSBT_MPC_UNSIGNED_LIST=21]="PSBT_MPC_UNSIGNED_LIST",t[t.PSBT_MPC_SIGNED_LIST=22]="PSBT_MPC_SIGNED_LIST",t[t.PSBT_MPC_UNSIGNED_BUY=23]="PSBT_MPC_UNSIGNED_BUY",t[t.PSBT_MPC_SIGNED_BUY=24]="PSBT_MPC_SIGNED_BUY",t[t.PSBT_MPC_UNSIGNED=25]="PSBT_MPC_UNSIGNED",t[t.PSBT_MPC_SIGNED=26]="PSBT_MPC_SIGNED",t[t.PSBT_RUNEMAIN=27]="PSBT_RUNEMAIN",t[t.PSBT_KEY_SCRIPT_PATH=3]="PSBT_KEY_SCRIPT_PATH",t[t.PSBT_KEY_SCRIPT_PATH_BATCH=4]="PSBT_KEY_SCRIPT_PATH_BATCH",t[t.SRC20=101]="SRC20",t[t.RUNE=102]="RUNE",t[t.RUNEMAIN=103]="RUNEMAIN",t[t.PSBT_DEODE=104]="PSBT_DEODE",t[t.ARC20=114]="ARC20",t[t.CAT20=115]="CAT20"})(sGe=s8.BtcXrcTypes||(s8.BtcXrcTypes={}))});var su=j(In=>{B();M();var Fce=In&&In.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),oGe=In&&In.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Eu=In&&In.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Fce(e,t,r)},Hce=In&&In.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Fce(e,t,r);return oGe(e,t),e};Object.defineProperty(In,"__esModule",{value:!0});In.message=In.wif=void 0;Eu(Wa(),In);Eu(d$(),In);Eu(Iu(),In);Eu(l$(),In);In.wif=Hce(RT());Eu(y$(),In);Eu(T$(),In);Eu(B$(),In);Eu(F$(),In);Eu(SI(),In);In.message=Hce(U$());Eu(_v(),In);Eu(Rce(),In);Eu(Nce(),In);Eu(mF(),In);Eu(I0(),In)});export{su as a};

window.inOKXExtension = true;
window.inMiniApp = false;
window.ASSETS_BUILD_TYPE = "publish";

//# sourceMappingURL=chunk-EXCRPUQ2.js.map
